apiVersion: v1
data:
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-az-AZ.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 8:\n/***/ (function(module, exports) {\n\n//Summernote WYSIWYG  editor
    ucun Azerbaycan dili fayli\n//Tercume etdi: RAMIL ALIYEV\n//Tarix: 20.07.2019\n//Baki
    Azerbaycan\n//Website: https://ramilaliyev.com\n//Azerbaijan language for Summernote
    WYSIWYG \n//Translated by: RAMIL ALIYEV\n//Date: 20.07.2019\n//Baku Azerbaijan\n//Website:
    https://ramilaliyev.com\n(function ($) {\n  $.extend($.summernote.lang, {\n    'az-AZ':
    {\n      font: {\n        bold: 'Qalın',\n        italic: 'Əyri',\n        underline:
    'Altı xətli',\n        clear: 'Təmizlə',\n        height: 'Sətir hündürlüyü',\n
    \       name: 'Yazı Tipi',\n        strikethrough: 'Üstü xətli',\n        subscript:
    'Alt simvol',\n        superscript: 'Üst simvol',\n        size: 'Yazı ölçüsü'\n
    \     },\n      image: {\n        image: 'Şəkil',\n        insert: 'Şəkil əlavə
    et',\n        resizeFull: 'Original ölçü',\n        resizeHalf: '1/2 ölçü',\n
    \       resizeQuarter: '1/4 ölçü',\n        floatLeft: 'Sola çək',\n        floatRight:
    'Sağa çək',\n        floatNone: 'Sola-sağa çəkilməni ləğv et',\n        shapeRounded:
    'Şəkil: yuvarlaq künç',\n        shapeCircle: 'Şəkil: Dairə',\n        shapeThumbnail:
    'Şəkil: Thumbnail',\n        shapeNone: 'Şəkil: Yox',\n        dragImageHere:
    'Bura sürüşdür',\n        dropImage: 'Şəkil və ya mətni buraxın',\n        selectFromFiles:
    'Sənəd seçin',\n        maximumFileSize: 'Maksimum sənəd ölçüsü',\n        maximumFileSizeError:
    'Maksimum sənəd ölçüsünü keçdiniz.',\n        url: 'Şəkil linki',\n        remove:
    'Şəkli sil',\n        original: 'Original'\n      },\n      video: {\n        video:
    'Video',\n        videoLink: 'Video linki',\n        insert: 'Video əlavə et',\n
    \       url: 'Video linki?',\n        providers: '(YouTube, Vimeo, Vine, Instagram,
    DailyMotion və ya Youku)'\n      },\n      link: {\n        link: 'Link',\n        insert:
    'Link əlavə et',\n        unlink: 'Linki sil',\n        edit: 'Linkə düzəliş et',\n
    \       textToDisplay: 'Ekranda göstəriləcək link adı',\n        url: 'Link ünvanı?',\n
    \       openInNewWindow: 'Yeni pəncərədə aç'\n      },\n      table: {\n        table:
    'Cədvəl',\n        addRowAbove: 'Yuxarı sətir əlavə et',\n        addRowBelow:
    'Aşağı sətir əlavə et',\n        addColLeft: 'Sola sütun əlavə et',\n        addColRight:
    'Sağa sütun əlavə et',\n        delRow: 'Sətiri sil',\n        delCol: 'Sütunu
    sil',\n        delTable: 'Cədvəli sil'\n      },\n      hr: {\n        insert:
    'Üfuqi xətt əlavə et'\n      },\n      style: {\n        style: 'Stil',\n        p:
    'p',\n        blockquote: 'İstinad',\n        pre: 'Ön baxış',\n        h1: 'Başlıq
    1',\n        h2: 'Başlıq 2',\n        h3: 'Başlıq 3',\n        h4: 'Başlıq 4',\n
    \       h5: 'Başlıq 5',\n        h6: 'Başlıq 6'\n      },\n      lists: {\n        unordered:
    'Nizamsız sıra',\n        ordered: 'Nizamlı sıra'\n      },\n      options: {\n
    \       help: 'Kömək',\n        fullscreen: 'Tam ekran',\n        codeview: 'HTML
    Kodu'\n      },\n      paragraph: {\n        paragraph: 'Paraqraf',\n        outdent:
    'Girintini artır',\n        indent: 'Girintini azalt',\n        left: 'Sola çək',\n
    \       center: 'Ortaya çək',\n        right: 'Sağa çək',\n        justify: 'Sola
    və sağa çək'\n      },\n      color: {\n        recent: 'Son rənk',\n        more:
    'Daha çox rənk',\n        background: 'Arxa fon rəngi',\n        foreground: 'Yazı
    rıngi',\n        transparent: 'Şəffaflıq',\n        setTransparent: 'Şəffaflığı
    nizamla',\n        reset: 'Sıfırla',\n        resetToDefault: 'Susyama görə sıfırla'\n
    \     },\n      shortcut: {\n        shortcuts: 'Qısayollar',\n        close:
    'Bağla',\n        textFormatting: 'Yazı formatlandırmaq',\n        action: 'Hadisə',\n
    \       paragraphFormatting: 'Paraqraf formatlandırmaq',\n        documentStyle:
    'Sənəd stili',\n        extraKeys: 'Əlavə'\n      },\n      help: {\n        'insertParagraph':
    'Paraqraf əlavə etmək',\n        'undo': 'Son əmri geri alır',\n        'redo':
    'Son əmri irəli alır',\n        'tab': 'Girintini artırır',\n        'untab':
    'Girintini azaltır',\n        'bold': 'Qalın yazma stilini nizamlayır',\n        'italic':
    'İtalik yazma stilini nizamlayır',\n        'underline': 'Altı xətli yazma stilini
    nizamlayır',\n        'strikethrough': 'Üstü xətli yazma stilini nizamlayır',\n
    \       'removeFormat': 'Formatlandırmanı ləğv edir',\n        'justifyLeft':
    'Yazını sola çəkir',\n        'justifyCenter': 'Yazını ortaya çəkir',\n        'justifyRight':
    'Yazını sağa çəkir',\n        'justifyFull': 'Yazını hər iki tərəfə yazır',\n
    \       'insertUnorderedList': 'Nizamsız sıra əlavə edir',\n        'insertOrderedList':
    'Nizamlı sıra əlavə edir',\n        'outdent': 'Aktiv paraqrafın girintisini azaltır',\n
    \       'indent': 'Aktiv paragrafın girintisini artırır',\n        'formatPara':
    'Aktiv bloqun formatını paraqraf (p) olaraq dəyişdirir',\n        'formatH1':
    'Aktiv bloqun formatını başlıq 1 (h1) olaraq dəyişdirir',\n        'formatH2':
    'Aktiv bloqun formatını başlıq 2 (h2) olaraq dəyişdirir',\n        'formatH3':
    'Aktiv bloqun formatını başlıq 3 (h3) olaraq dəyişdirir',\n        'formatH4':
    'Aktiv bloqun formatını başlıq 4 (h4) olaraq dəyişdirir',\n        'formatH5':
    'Aktiv bloqun formatını başlıq 5 (h5) olaraq dəyişdirir',\n        'formatH6':
    'Aktiv bloqun formatını başlıq 6 (h6) olaraq dəyişdirir',\n        'insertHorizontalRule':
    'Üfuqi xətt əlavə edir',\n        'linkDialog.show': 'Link parametrləri qutusunu
    göstərir'\n      },\n      history: {\n        undo: 'Əvvəlki vəziyyət',\n        redo:
    'Sonrakı vəziyyət'\n      },\n      specialChar: {\n        specialChar: 'Xüsusi
    simvollar',\n        select: 'Xüsusi simvolları seçin'\n      }\n    }\n  });\n})(jQuery);\n\n/***/
    })\n\n/******/ });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-bg-BG.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 9);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 9:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'bg-BG': {\n      font: {\n        bold: 'Удебелен',\n        italic: 'Наклонен',\n
    \       underline: 'Подчертан',\n        clear: 'Изчисти стиловете',\n        height:
    'Височина',\n        name: 'Шрифт',\n        strikethrough: 'Задраскано',\n        subscript:
    'Долен индекс',\n        superscript: 'Горен индекс',\n        size: 'Размер на
    шрифта'\n      },\n      image: {\n        image: 'Изображение',\n        insert:
    'Постави картинка',\n        resizeFull: 'Цял размер',\n        resizeHalf: 'Размер
    на 50%',\n        resizeQuarter: 'Размер на 25%',\n        floatLeft: 'Подравни
    в ляво',\n        floatRight: 'Подравни в дясно',\n        floatNone: 'Без подравняване',\n
    \       shapeRounded: 'Shape: Rounded',\n        shapeCircle: 'Shape: Circle',\n
    \       shapeThumbnail: 'Shape: Thumbnail',\n        shapeNone: 'Shape: None',\n
    \       dragImageHere: 'Пуснете изображението тук',\n        dropImage: 'Drop
    image or Text',\n        selectFromFiles: 'Изберете файл',\n        maximumFileSize:
    'Maximum file size',\n        maximumFileSizeError: 'Maximum file size exceeded.',\n
    \       url: 'URL адрес на изображение',\n        remove: 'Премахни изображение',\n
    \       original: 'Original'\n      },\n      video: {\n        video: 'Video',\n
    \       videoLink: 'Video Link',\n        insert: 'Insert Video',\n        url:
    'Video URL?',\n        providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion
    or Youku)'\n      },\n      link: {\n        link: 'Връзка',\n        insert:
    'Добави връзка',\n        unlink: 'Премахни връзка',\n        edit: 'Промени',\n
    \       textToDisplay: 'Текст за показване',\n        url: 'URL адрес',\n        openInNewWindow:
    'Отвори в нов прозорец'\n      },\n      table: {\n        table: 'Таблица',\n
    \       addRowAbove: 'Add row above',\n        addRowBelow: 'Add row below',\n
    \       addColLeft: 'Add column left',\n        addColRight: 'Add column right',\n
    \       delRow: 'Delete row',\n        delCol: 'Delete column',\n        delTable:
    'Delete table'\n      },\n      hr: {\n        insert: 'Добави хоризонтална линия'\n
    \     },\n      style: {\n        style: 'Стил',\n        p: 'Нормален',\n        blockquote:
    'Цитат',\n        pre: 'Код',\n        h1: 'Заглавие 1',\n        h2: 'Заглавие
    2',\n        h3: 'Заглавие 3',\n        h4: 'Заглавие 4',\n        h5: 'Заглавие
    5',\n        h6: 'Заглавие 6'\n      },\n      lists: {\n        unordered: 'Символен
    списък',\n        ordered: 'Цифров списък'\n      },\n      options: {\n        help:
    'Помощ',\n        fullscreen: 'На цял екран',\n        codeview: 'Преглед на код'\n
    \     },\n      paragraph: {\n        paragraph: 'Параграф',\n        outdent:
    'Намаляване на отстъпа',\n        indent: 'Абзац',\n        left: 'Подравняване
    в ляво',\n        center: 'Център',\n        right: 'Подравняване в дясно',\n
    \       justify: 'Разтягане по ширина'\n      },\n      color: {\n        recent:
    'Последния избран цвят',\n        more: 'Още цветове',\n        background: 'Цвят
    на фона',\n        foreground: 'Цвят на шрифта',\n        transparent: 'Прозрачен',\n
    \       setTransparent: 'Направете прозрачен',\n        reset: 'Възстанови',\n
    \       resetToDefault: 'Възстанови оригиналните',\n        cpSelect: 'Изберете'\n
    \     },\n      shortcut: {\n        shortcuts: 'Клавишни комбинации',\n        close:
    'Затвори',\n        textFormatting: 'Форматиране на текста',\n        action:
    'Действие',\n        paragraphFormatting: 'Форматиране на параграф',\n        documentStyle:
    'Стил на документа',\n        extraKeys: 'Extra keys'\n      },\n      help: {\n
    \       'insertParagraph': 'Insert Paragraph',\n        'undo': 'Undoes the last
    command',\n        'redo': 'Redoes the last command',\n        'tab': 'Tab',\n
    \       'untab': 'Untab',\n        'bold': 'Set a bold style',\n        'italic':
    'Set a italic style',\n        'underline': 'Set a underline style',\n        'strikethrough':
    'Set a strikethrough style',\n        'removeFormat': 'Clean a style',\n        'justifyLeft':
    'Set left align',\n        'justifyCenter': 'Set center align',\n        'justifyRight':
    'Set right align',\n        'justifyFull': 'Set full align',\n        'insertUnorderedList':
    'Toggle unordered list',\n        'insertOrderedList': 'Toggle ordered list',\n
    \       'outdent': 'Outdent on current paragraph',\n        'indent': 'Indent
    on current paragraph',\n        'formatPara': 'Change current block\\'s format
    as a paragraph(P tag)',\n        'formatH1': 'Change current block\\'s format
    as H1',\n        'formatH2': 'Change current block\\'s format as H2',\n        'formatH3':
    'Change current block\\'s format as H3',\n        'formatH4': 'Change current
    block\\'s format as H4',\n        'formatH5': 'Change current block\\'s format
    as H5',\n        'formatH6': 'Change current block\\'s format as H6',\n        'insertHorizontalRule':
    'Insert horizontal rule',\n        'linkDialog.show': 'Show Link Dialog'\n      },\n
    \     history: {\n        undo: 'Назад',\n        redo: 'Напред'\n      },\n      specialChar:
    {\n        specialChar: 'SPECIAL CHARACTERS',\n        select: 'Select Special
    characters'\n      }\n    }\n  });\n})(jQuery);\n\n/***/ })\n\n/******/ });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-bg-BG.min.js.LICENSE.txt: |
    /*! Summernote v0.8.18 | (c) 2013- Alan Hong and other contributors | MIT license */
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-ca-ES.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 10);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 10:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'ca-ES': {\n      font: {\n        bold: 'Negreta',\n        italic: 'Cursiva',\n
    \       underline: 'Subratllat',\n        clear: 'Treure estil de lletra',\n        height:
    'Alçada de línia',\n        name: 'Font',\n        strikethrough: 'Ratllat',\n
    \       subscript: 'Subíndex',\n        superscript: 'Superíndex',\n        size:
    'Mida de lletra'\n      },\n      image: {\n        image: 'Imatge',\n        insert:
    'Inserir imatge',\n        resizeFull: 'Redimensionar a mida completa',\n        resizeHalf:
    'Redimensionar a la meitat',\n        resizeQuarter: 'Redimensionar a un quart',\n
    \       floatLeft: 'Alinear a l\\'esquerra',\n        floatRight: 'Alinear a la
    dreta',\n        floatNone: 'No alinear',\n        shapeRounded: 'Forma: Arrodonit',\n
    \       shapeCircle: 'Forma: Cercle',\n        shapeThumbnail: 'Forma: Marc',\n
    \       shapeNone: 'Forma: Cap',\n        dragImageHere: 'Arrossegueu una imatge
    o text aquí',\n        dropImage: 'Deixa anar aquí una imatge o un text',\n        selectFromFiles:
    'Seleccioneu des dels arxius',\n        maximumFileSize: 'Mida màxima de l\\'arxiu',\n
    \       maximumFileSizeError: 'La mida màxima de l\\'arxiu s\\'ha superat.',\n
    \       url: 'URL de la imatge',\n        remove: 'Eliminar imatge',\n        original:
    'Original'\n      },\n      video: {\n        video: 'Vídeo',\n        videoLink:
    'Enllaç del vídeo',\n        insert: 'Inserir vídeo',\n        url: 'URL del vídeo?',\n
    \       providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion o Youku)'\n
    \     },\n      link: {\n        link: 'Enllaç',\n        insert: 'Inserir enllaç',\n
    \       unlink: 'Treure enllaç',\n        edit: 'Editar',\n        textToDisplay:
    'Text per mostrar',\n        url: 'Cap a quina URL porta l\\'enllaç?',\n        openInNewWindow:
    'Obrir en una finestra nova'\n      },\n      table: {\n        table: 'Taula',\n
    \       addRowAbove: 'Add row above',\n        addRowBelow: 'Add row below',\n
    \       addColLeft: 'Add column left',\n        addColRight: 'Add column right',\n
    \       delRow: 'Delete row',\n        delCol: 'Delete column',\n        delTable:
    'Delete table'\n      },\n      hr: {\n        insert: 'Inserir línia horitzontal'\n
    \     },\n      style: {\n        style: 'Estil',\n        p: 'p',\n        blockquote:
    'Cita',\n        pre: 'Codi',\n        h1: 'Títol 1',\n        h2: 'Títol 2',\n
    \       h3: 'Títol 3',\n        h4: 'Títol 4',\n        h5: 'Títol 5',\n        h6:
    'Títol 6'\n      },\n      lists: {\n        unordered: 'Llista desendreçada',\n
    \       ordered: 'Llista endreçada'\n      },\n      options: {\n        help:
    'Ajut',\n        fullscreen: 'Pantalla sencera',\n        codeview: 'Veure codi
    font'\n      },\n      paragraph: {\n        paragraph: 'Paràgraf',\n        outdent:
    'Menys tabulació',\n        indent: 'Més tabulació',\n        left: 'Alinear a
    l\\'esquerra',\n        center: 'Alinear al mig',\n        right: 'Alinear a la
    dreta',\n        justify: 'Justificar'\n      },\n      color: {\n        recent:
    'Últim color',\n        more: 'Més colors',\n        background: 'Color de fons',\n
    \       foreground: 'Color de lletra',\n        transparent: 'Transparent',\n
    \       setTransparent: 'Establir transparent',\n        reset: 'Restablir',\n
    \       resetToDefault: 'Restablir per defecte'\n      },\n      shortcut: {\n
    \       shortcuts: 'Dreceres de teclat',\n        close: 'Tancar',\n        textFormatting:
    'Format de text',\n        action: 'Acció',\n        paragraphFormatting: 'Format
    de paràgraf',\n        documentStyle: 'Estil del document',\n        extraKeys:
    'Tecles adicionals'\n      },\n      help: {\n        'insertParagraph': 'Inserir
    paràgraf',\n        'undo': 'Desfer l\\'última acció',\n        'redo': 'Refer
    l\\'última acció',\n        'tab': 'Tabular',\n        'untab': 'Eliminar tabulació',\n
    \       'bold': 'Establir estil negreta',\n        'italic': 'Establir estil cursiva',\n
    \       'underline': 'Establir estil subratllat',\n        'strikethrough': 'Establir
    estil ratllat',\n        'removeFormat': 'Netejar estil',\n        'justifyLeft':
    'Alinear a l\\'esquerra',\n        'justifyCenter': 'Alinear al centre',\n        'justifyRight':
    'Alinear a la dreta',\n        'justifyFull': 'Justificar',\n        'insertUnorderedList':
    'Inserir llista desendreçada',\n        'insertOrderedList': 'Inserir llista endreçada',\n
    \       'outdent': 'Reduïr tabulació del paràgraf',\n        'indent': 'Augmentar
    tabulació del paràgraf',\n        'formatPara': 'Canviar l\\'estil del bloc com
    a un paràgraf (etiqueta P)',\n        'formatH1': 'Canviar l\\'estil del bloc
    com a un H1',\n        'formatH2': 'Canviar l\\'estil del bloc com a un H2',\n
    \       'formatH3': 'Canviar l\\'estil del bloc com a un H3',\n        'formatH4':
    'Canviar l\\'estil del bloc com a un H4',\n        'formatH5': 'Canviar l\\'estil
    del bloc com a un H5',\n        'formatH6': 'Canviar l\\'estil del bloc com a
    un H6',\n        'insertHorizontalRule': 'Inserir una línia horitzontal',\n        'linkDialog.show':
    'Mostrar panel d\\'enllaços'\n      },\n      history: {\n        undo: 'Desfer',\n
    \       redo: 'Refer'\n      },\n      specialChar: {\n        specialChar: 'CARÀCTERS
    ESPECIALS',\n        select: 'Selecciona caràcters especials'\n      }\n    }\n
    \ });\n})(jQuery);\n\n/***/ })\n\n/******/ });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-ca-ES.min.js: |-
    /*! For license information please see summernote-ca-ES.min.js.LICENSE.txt */
    !function(e,a){if("object"==typeof exports&&"object"==typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var r=a();for(var t in r)("object"==typeof exports?exports:e)[t]=r[t]}}(window,(function(){return function(e){var a={};function r(t){if(a[t])return a[t].exports;var l=a[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=e,r.c=a,r.d=function(e,a,t){r.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,a){if(1&a&&(e=r(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var l in e)r.d(t,l,function(a){return e[a]}.bind(null,l));return t},r.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(a,"a",a),a},r.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},r.p="",r(r.s=10)}({10:function(e,a){var r;(r=jQuery).extend(r.summernote.lang,{"ca-ES":{font:{bold:"Negreta",italic:"Cursiva",underline:"Subratllat",clear:"Treure estil de lletra",height:"Alçada de línia",name:"Font",strikethrough:"Ratllat",subscript:"Subíndex",superscript:"Superíndex",size:"Mida de lletra"},image:{image:"Imatge",insert:"Inserir imatge",resizeFull:"Redimensionar a mida completa",resizeHalf:"Redimensionar a la meitat",resizeQuarter:"Redimensionar a un quart",floatLeft:"Alinear a l'esquerra",floatRight:"Alinear a la dreta",floatNone:"No alinear",shapeRounded:"Forma: Arrodonit",shapeCircle:"Forma: Cercle",shapeThumbnail:"Forma: Marc",shapeNone:"Forma: Cap",dragImageHere:"Arrossegueu una imatge o text aquí",dropImage:"Deixa anar aquí una imatge o un text",selectFromFiles:"Seleccioneu des dels arxius",maximumFileSize:"Mida màxima de l'arxiu",maximumFileSizeError:"La mida màxima de l'arxiu s'ha superat.",url:"URL de la imatge",remove:"Eliminar imatge",original:"Original"},video:{video:"Vídeo",videoLink:"Enllaç del vídeo",insert:"Inserir vídeo",url:"URL del vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion o Youku)"},link:{link:"Enllaç",insert:"Inserir enllaç",unlink:"Treure enllaç",edit:"Editar",textToDisplay:"Text per mostrar",url:"Cap a quina URL porta l'enllaç?",openInNewWindow:"Obrir en una finestra nova"},table:{table:"Taula",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Inserir línia horitzontal"},style:{style:"Estil",p:"p",blockquote:"Cita",pre:"Codi",h1:"Títol 1",h2:"Títol 2",h3:"Títol 3",h4:"Títol 4",h5:"Títol 5",h6:"Títol 6"},lists:{unordered:"Llista desendreçada",ordered:"Llista endreçada"},options:{help:"Ajut",fullscreen:"Pantalla sencera",codeview:"Veure codi font"},paragraph:{paragraph:"Paràgraf",outdent:"Menys tabulació",indent:"Més tabulació",left:"Alinear a l'esquerra",center:"Alinear al mig",right:"Alinear a la dreta",justify:"Justificar"},color:{recent:"Últim color",more:"Més colors",background:"Color de fons",foreground:"Color de lletra",transparent:"Transparent",setTransparent:"Establir transparent",reset:"Restablir",resetToDefault:"Restablir per defecte"},shortcut:{shortcuts:"Dreceres de teclat",close:"Tancar",textFormatting:"Format de text",action:"Acció",paragraphFormatting:"Format de paràgraf",documentStyle:"Estil del document",extraKeys:"Tecles adicionals"},help:{insertParagraph:"Inserir paràgraf",undo:"Desfer l'última acció",redo:"Refer l'última acció",tab:"Tabular",untab:"Eliminar tabulació",bold:"Establir estil negreta",italic:"Establir estil cursiva",underline:"Establir estil subratllat",strikethrough:"Establir estil ratllat",removeFormat:"Netejar estil",justifyLeft:"Alinear a l'esquerra",justifyCenter:"Alinear al centre",justifyRight:"Alinear a la dreta",justifyFull:"Justificar",insertUnorderedList:"Inserir llista desendreçada",insertOrderedList:"Inserir llista endreçada",outdent:"Reduïr tabulació del paràgraf",indent:"Augmentar tabulació del paràgraf",formatPara:"Canviar l'estil del bloc com a un paràgraf (etiqueta P)",formatH1:"Canviar l'estil del bloc com a un H1",formatH2:"Canviar l'estil del bloc com a un H2",formatH3:"Canviar l'estil del bloc com a un H3",formatH4:"Canviar l'estil del bloc com a un H4",formatH5:"Canviar l'estil del bloc com a un H5",formatH6:"Canviar l'estil del bloc com a un H6",insertHorizontalRule:"Inserir una línia horitzontal","linkDialog.show":"Mostrar panel d'enllaços"},history:{undo:"Desfer",redo:"Refer"},specialChar:{specialChar:"CARÀCTERS ESPECIALS",select:"Selecciona caràcters especials"}}})}})}));
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-ca-ES.min.js.LICENSE.txt: |
    /*! Summernote v0.8.18 | (c) 2013- Alan Hong and other contributors | MIT license */
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-cs-CZ.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 11);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 11:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'cs-CZ': {\n      font: {\n        bold: 'Tučné',\n        italic: 'Kurzíva',\n
    \       underline: 'Podtržené',\n        clear: 'Odstranit styl písma',\n        height:
    'Výška řádku',\n        strikethrough: 'Přeškrtnuté',\n        size: 'Velikost
    písma'\n      },\n      image: {\n        image: 'Obrázek',\n        insert: 'Vložit
    obrázek',\n        resizeFull: 'Původní velikost',\n        resizeHalf: 'Poloviční
    velikost',\n        resizeQuarter: 'Čtvrteční velikost',\n        floatLeft: 'Umístit
    doleva',\n        floatRight: 'Umístit doprava',\n        floatNone: 'Neobtékat
    textem',\n        shapeRounded: 'Shape: Rounded',\n        shapeCircle: 'Shape:
    Circle',\n        shapeThumbnail: 'Shape: Thumbnail',\n        shapeNone: 'Shape:
    None',\n        dragImageHere: 'Přetáhnout sem obrázek',\n        dropImage: 'Drop
    image or Text',\n        selectFromFiles: 'Vybrat soubor',\n        url: 'URL
    obrázku',\n        remove: 'Remove Image',\n        original: 'Original'\n      },\n
    \     video: {\n        video: 'Video',\n        videoLink: 'Odkaz videa',\n        insert:
    'Vložit video',\n        url: 'URL videa?',\n        providers: '(YouTube, Vimeo,
    Vine, Instagram, DailyMotion nebo Youku)'\n      },\n      link: {\n        link:
    'Odkaz',\n        insert: 'Vytvořit odkaz',\n        unlink: 'Zrušit odkaz',\n
    \       edit: 'Upravit',\n        textToDisplay: 'Zobrazovaný text',\n        url:
    'Na jaké URL má tento odkaz vést?',\n        openInNewWindow: 'Otevřít v novém
    okně'\n      },\n      table: {\n        table: 'Tabulka',\n        addRowAbove:
    'Add row above',\n        addRowBelow: 'Add row below',\n        addColLeft: 'Add
    column left',\n        addColRight: 'Add column right',\n        delRow: 'Delete
    row',\n        delCol: 'Delete column',\n        delTable: 'Delete table'\n      },\n
    \     hr: {\n        insert: 'Vložit vodorovnou čáru'\n      },\n      style:
    {\n        style: 'Styl',\n        p: 'Normální',\n        blockquote: 'Citace',\n
    \       pre: 'Kód',\n        h1: 'Nadpis 1',\n        h2: 'Nadpis 2',\n        h3:
    'Nadpis 3',\n        h4: 'Nadpis 4',\n        h5: 'Nadpis 5',\n        h6: 'Nadpis
    6'\n      },\n      lists: {\n        unordered: 'Odrážkový seznam',\n        ordered:
    'Číselný seznam'\n      },\n      options: {\n        help: 'Nápověda',\n        fullscreen:
    'Celá obrazovka',\n        codeview: 'HTML kód'\n      },\n      paragraph: {\n
    \       paragraph: 'Odstavec',\n        outdent: 'Zvětšit odsazení',\n        indent:
    'Zmenšit odsazení',\n        left: 'Zarovnat doleva',\n        center: 'Zarovnat
    na střed',\n        right: 'Zarovnat doprava',\n        justify: 'Zarovnat oboustranně'\n
    \     },\n      color: {\n        recent: 'Aktuální barva',\n        more: 'Další
    barvy',\n        background: 'Barva pozadí',\n        foreground: 'Barva písma',\n
    \       transparent: 'Průhlednost',\n        setTransparent: 'Nastavit průhlednost',\n
    \       reset: 'Obnovit',\n        resetToDefault: 'Obnovit výchozí',\n        cpSelect:
    'Vybrat'\n      },\n      shortcut: {\n        shortcuts: 'Klávesové zkratky',\n
    \       close: 'Zavřít',\n        textFormatting: 'Formátování textu',\n        action:
    'Akce',\n        paragraphFormatting: 'Formátování odstavce',\n        documentStyle:
    'Styl dokumentu'\n      },\n      help: {\n        'insertParagraph': 'Insert
    Paragraph',\n        'undo': 'Undoes the last command',\n        'redo': 'Redoes
    the last command',\n        'tab': 'Tab',\n        'untab': 'Untab',\n        'bold':
    'Set a bold style',\n        'italic': 'Set a italic style',\n        'underline':
    'Set a underline style',\n        'strikethrough': 'Set a strikethrough style',\n
    \       'removeFormat': 'Clean a style',\n        'justifyLeft': 'Set left align',\n
    \       'justifyCenter': 'Set center align',\n        'justifyRight': 'Set right
    align',\n        'justifyFull': 'Set full align',\n        'insertUnorderedList':
    'Toggle unordered list',\n        'insertOrderedList': 'Toggle ordered list',\n
    \       'outdent': 'Outdent on current paragraph',\n        'indent': 'Indent
    on current paragraph',\n        'formatPara': 'Change current block\\'s format
    as a paragraph(P tag)',\n        'formatH1': 'Change current block\\'s format
    as H1',\n        'formatH2': 'Change current block\\'s format as H2',\n        'formatH3':
    'Change current block\\'s format as H3',\n        'formatH4': 'Change current
    block\\'s format as H4',\n        'formatH5': 'Change current block\\'s format
    as H5',\n        'formatH6': 'Change current block\\'s format as H6',\n        'insertHorizontalRule':
    'Insert horizontal rule',\n        'linkDialog.show': 'Show Link Dialog'\n      },\n
    \     history: {\n        undo: 'Krok vzad',\n        redo: 'Krok vpřed'\n      },\n
    \     specialChar: {\n        specialChar: 'SPECIAL CHARACTERS',\n        select:
    'Select Special characters'\n      }\n    }\n  });\n})(jQuery);\n\n/***/ })\n\n/******/
    });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-el-GR.min.js: |-
    /*! For license information please see summernote-el-GR.min.js.LICENSE.txt */
    !function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(window,(function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=14)}({14:function(e,t){var r;(r=jQuery).extend(r.summernote.lang,{"el-GR":{font:{bold:"Έντονα",italic:"Πλάγια",underline:"Υπογραμμισμένα",clear:"Καθαρισμός",height:"Ύψος",name:"Γραμματοσειρά",strikethrough:"Διεγραμμένα",subscript:"Δείκτης",superscript:"Εκθέτης",size:"Μέγεθος",sizeunit:"Μονάδα μεγέθους"},image:{image:"Εικόνα",insert:"Εισαγωγή",resizeFull:"Πλήρες μέγεθος",resizeHalf:"Μισό μέγεθος",resizeQuarter:"1/4 μέγεθος",resizeNone:"Αρχικό μέγεθος",floatLeft:"Μετατόπιση αριστερά",floatRight:"Μετατόπιση δεξιά",floatNone:"Χωρίς μετατόπιση",shapeRounded:"Σχήμα: Στρογγυλεμένο",shapeCircle:"Σχήμα: Κύκλος",shapeThumbnail:"Σχήμα: Μικρογραφία",shapeNone:"Σχήμα: Κανένα",dragImageHere:"Σύρτε την εικόνα εδώ",dropImage:"Αφήστε την εικόνα",selectFromFiles:"Επιλογή από αρχεία",maximumFileSize:"Μέγιστο μέγεθος αρχείου",maximumFileSizeError:"Το μέγεθος είναι μεγαλύτερο από το μέγιστο επιτρεπτό.",url:"URL",remove:"Αφαίρεση",original:"Αρχικό"},link:{link:"Σύνδεσμος",insert:"Εισαγωγή συνδέσμου",unlink:"Αφαίρεση συνδέσμου",edit:"Επεξεργασία συνδέσμου",textToDisplay:"Κείμενο συνδέσμου",url:"Σε ποιo URL πρέπει να πηγαίνει αυτός ο σύνδεσμος;",openInNewWindow:"Άνοιγμα σε νέο παράθυρο",useProtocol:"Χρήση προεπιλεγμένου πρωτοκόλλου"},video:{video:"Βίντεο",videoLink:"Σύνδεσμος Βίντεο",insert:"Εισαγωγή",url:"URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ή Youku)"},table:{table:"Πίνακας",addRowAbove:"Προσθήκη γραμμής πάνω",addRowBelow:"Προσθήκη γραμμής κάτω",addColLeft:"Προσθήκη στήλης αριστερά",addColRight:"Προσθήκη στήλης δεξία",delRow:"Διαγραφή γραμμής",delCol:"Διαγραφή στήλης",delTable:"Διαγραφή πίνακα"},hr:{insert:"Εισαγωγή οριζόντιας γραμμής"},style:{style:"Στυλ",normal:"Κανονικό",blockquote:"Παράθεση",pre:"Ως έχει",h1:"Κεφαλίδα 1",h2:"Κεφαλίδα 2",h3:"Κεφαλίδα 3",h4:"Κεφαλίδα 4",h5:"Κεφαλίδα 5",h6:"Κεφαλίδα 6"},lists:{unordered:"Αταξινόμητη λίστα",ordered:"Ταξινομημένη λίστα"},options:{help:"Βοήθεια",fullscreen:"Πλήρης οθόνη",codeview:"Προβολή HTML"},paragraph:{paragraph:"Παράγραφος",outdent:"Μείωση εσοχής",indent:"Άυξηση εσοχής",left:"Αριστερή στοίχιση",center:"Στοίχιση στο κέντρο",right:"Δεξιά στοίχιση",justify:"Πλήρης στοίχιση"},color:{recent:"Πρόσφατη επιλογή",more:"Περισσότερα",background:"Υπόβαθρο",foreground:"Μπροστά",transparent:"Διαφανές",setTransparent:"Επιλογή διαφάνειας",reset:"Επαναφορά",resetToDefault:"Επαναφορά στις προκαθορισμένες τιμές",cpSelect:"Επιλογή"},shortcut:{shortcuts:"Συντομεύσεις",close:"Κλείσιμο",textFormatting:"Διαμόρφωση κειμένου",action:"Ενέργεια",paragraphFormatting:"Διαμόρφωση παραγράφου",documentStyle:"Στυλ κειμένου",extraKeys:"Επιπλέον συντομεύσεις"},help:{escape:"Έξοδος",insertParagraph:"Εισαγωγή παραγράφου",undo:"Αναιρεί την προηγούμενη εντολή",redo:"Επαναλαμβάνει την προηγούμενη εντολή",tab:"Εσοχή",untab:"Αναίρεση εσοχής",bold:"Ορισμός έντονου στυλ",italic:"Ορισμός πλάγιου στυλ",underline:"Ορισμός υπογεγραμμένου στυλ",strikethrough:"Ορισμός διεγραμμένου στυλ",removeFormat:"Αφαίρεση στυλ",justifyLeft:"Ορισμός αριστερής στοίχισης",justifyCenter:"Ορισμός κεντρικής στοίχισης",justifyRight:"Ορισμός δεξιάς στοίχισης",justifyFull:"Ορισμός πλήρους στοίχισης",insertUnorderedList:"Ορισμός μη-ταξινομημένης λίστας",insertOrderedList:"Ορισμός ταξινομημένης λίστας",outdent:"Προεξοχή παραγράφου",indent:"Εσοχή παραγράφου",formatPara:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε παράγραφο (P tag)",formatH1:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H1",formatH2:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H2",formatH3:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H3",formatH4:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H4",formatH5:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H5",formatH6:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H6",insertHorizontalRule:"Εισαγωγή οριζόντιας γραμμής","linkDialog.show":"Εμφάνιση διαλόγου συνδέσμου"},history:{undo:"Αναίρεση",redo:"Επαναληψη"},specialChar:{specialChar:"ΕΙΔΙΚΟΙ ΧΑΡΑΚΤΗΡΕΣ",select:"Επιλέξτε ειδικούς χαρακτήρες"},output:{noSelection:"Δεν έγινε επιλογή!"}}})}})}));
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-es-ES.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 15);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 15:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'es-ES': {\n      font: {\n        bold: 'Negrita',\n        italic: 'Cursiva',\n
    \       underline: 'Subrayado',\n        clear: 'Eliminar estilo de letra',\n
    \       height: 'Altura de línea',\n        name: 'Tipo de letra',\n        strikethrough:
    'Tachado',\n        subscript: 'Subíndice',\n        superscript: 'Superíndice',\n
    \       size: 'Tamaño de la fuente',\n        sizeunit: 'Unidad del tamaño de
    letra'\n      },\n      image: {\n        image: 'Imagen',\n        insert: 'Insertar
    imagen',\n        resizeFull: 'Redimensionar a tamaño completo',\n        resizeHalf:
    'Redimensionar a la mitad',\n        resizeQuarter: 'Redimensionar a un cuarto',\n
    \       resizeNone: 'Tamaño original',\n        floatLeft: 'Flotar a la izquierda',\n
    \       floatRight: 'Flotar a la derecha',\n        floatNone: 'No flotar',\n
    \       shapeRounded: 'Forma: Redondeado',\n        shapeCircle: 'Forma: Círculo',\n
    \       shapeThumbnail: 'Forma: Miniatura',\n        shapeNone: 'Forma: Ninguna',\n
    \       dragImageHere: 'Arrastre una imagen o texto aquí',\n        dropImage:
    'Suelte una imagen o texto',\n        selectFromFiles: 'Seleccione un fichero',\n
    \       maximumFileSize: 'Tamaño máximo del fichero',\n        maximumFileSizeError:
    'Superado el tamaño máximo de fichero.',\n        url: 'URL de la imagen',\n        remove:
    'Eliminar la imagen',\n        original: 'Original'\n      },\n      video: {\n
    \       video: 'Vídeo',\n        videoLink: 'Enlace del vídeo',\n        insert:
    'Insertar un vídeo',\n        url: 'URL del vídeo',\n        providers: '(YouTube,
    Vimeo, Vine, Instagram, DailyMotion o Youku)'\n      },\n      link: {\n        link:
    'Enlace',\n        insert: 'Insertar un enlace',\n        unlink: 'Quitar el enlace',\n
    \       edit: 'Editar',\n        textToDisplay: 'Texto a mostrar',\n        url:
    '¿A qué URL lleva este enlace?',\n        openInNewWindow: 'Abrir en una nueva
    ventana',\n        useProtocol: 'Usar el protocolo predefinido'\n      },\n      table:
    {\n        table: 'Tabla',\n        addRowAbove: 'Añadir una fila encima',\n        addRowBelow:
    'Añadir una fila debajo',\n        addColLeft: 'Añadir una columna a la izquierda',\n
    \       addColRight: 'Añadir una columna a la derecha',\n        delRow: 'Borrar
    la fila',\n        delCol: 'Borrar la columna',\n        delTable: 'Borrar la
    tabla'\n      },\n      hr: {\n        insert: 'Insertar una línea horizontal'\n
    \     },\n      style: {\n        style: 'Estilo',\n        p: 'Normal',\n        blockquote:
    'Cita',\n        pre: 'Código',\n        h1: 'Título 1',\n        h2: 'Título
    2',\n        h3: 'Título 3',\n        h4: 'Título 4',\n        h5: 'Título 5',\n
    \       h6: 'Título 6'\n      },\n      lists: {\n        unordered: 'Lista',\n
    \       ordered: 'Lista numerada'\n      },\n      options: {\n        help: 'Ayuda',\n
    \       fullscreen: 'Pantalla completa',\n        codeview: 'Ver el código fuente'\n
    \     },\n      paragraph: {\n        paragraph: 'Párrafo',\n        outdent:
    'Reducir la sangría',\n        indent: 'Aumentar la sangría',\n        left: 'Alinear
    a la izquierda',\n        center: 'Centrar',\n        right: 'Alinear a la derecha',\n
    \       justify: 'Justificar'\n      },\n      color: {\n        recent: 'Último
    color',\n        more: 'Más colores',\n        background: 'Color de fondo',\n
    \       foreground: 'Color del texto',\n        transparent: 'Transparente',\n
    \       setTransparent: 'Establecer transparente',\n        reset: 'Restablecer',\n
    \       resetToDefault: 'Restablecer a los valores predefinidos',\n        cpSelect:
    'Seleccionar'\n      },\n      shortcut: {\n        shortcuts: 'Atajos de teclado',\n
    \       close: 'Cerrar',\n        textFormatting: 'Formato de texto',\n        action:
    'Acción',\n        paragraphFormatting: 'Formato de párrafo',\n        documentStyle:
    'Estilo de documento',\n        extraKeys: 'Teclas adicionales'\n      },\n      help:
    {\n        insertParagraph: 'Insertar un párrafo',\n        undo: 'Deshacer la
    última acción',\n        redo: 'Rehacer la última acción',\n        tab: 'Tabular',\n
    \       untab: 'Eliminar tabulación',\n        bold: 'Establecer estilo negrita',\n
    \       italic: 'Establecer estilo cursiva',\n        underline: 'Establecer estilo
    subrayado',\n        strikethrough: 'Establecer estilo tachado',\n        removeFormat:
    'Limpiar estilo',\n        justifyLeft: 'Alinear a la izquierda',\n        justifyCenter:
    'Alinear al centro',\n        justifyRight: 'Alinear a la derecha',\n        justifyFull:
    'Justificar',\n        insertUnorderedList: 'Insertar lista',\n        insertOrderedList:
    'Insertar lista numerada',\n        outdent: 'Reducir sangría del párrafo',\n
    \       indent: 'Aumentar sangría del párrafo',\n        formatPara: 'Cambiar
    el formato del bloque actual a párrafo (etiqueta P)',\n        formatH1: 'Cambiar
    el formato del bloque actual a H1',\n        formatH2: 'Cambiar el formato del
    bloque actual a H2',\n        formatH3: 'Cambiar el formato del bloque actual
    a H3',\n        formatH4: 'Cambiar el formato del bloque actual a H4',\n        formatH5:
    'Cambiar el formato del bloque actual a H5',\n        formatH6: 'Cambiar el formato
    del bloque actual a H6',\n        insertHorizontalRule: 'Insertar una línea horizontal',\n
    \       'linkDialog.show': 'Mostrar el panel de enlaces'\n      },\n      history:
    {\n        undo: 'Deshacer',\n        redo: 'Rehacer'\n      },\n      specialChar:
    {\n        specialChar: 'CARACTERES ESPECIALES',\n        select: 'Seleccionar
    caracteres especiales'\n      },\n      output: {\n        noSelection: '¡No ha
    seleccionado nada!'\n      }\n    }\n  });\n})(jQuery);\n\n/***/ })\n\n/******/
    });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-es-ES.min.js: |-
    /*! For license information please see summernote-es-ES.min.js.LICENSE.txt */
    !function(e,a){if("object"==typeof exports&&"object"==typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var r=a();for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(window,(function(){return function(e){var a={};function r(o){if(a[o])return a[o].exports;var t=a[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=e,r.c=a,r.d=function(e,a,o){r.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,a){if(1&a&&(e=r(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var t in e)r.d(o,t,function(a){return e[a]}.bind(null,t));return o},r.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(a,"a",a),a},r.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},r.p="",r(r.s=15)}({15:function(e,a){var r;(r=jQuery).extend(r.summernote.lang,{"es-ES":{font:{bold:"Negrita",italic:"Cursiva",underline:"Subrayado",clear:"Eliminar estilo de letra",height:"Altura de línea",name:"Tipo de letra",strikethrough:"Tachado",subscript:"Subíndice",superscript:"Superíndice",size:"Tamaño de la fuente",sizeunit:"Unidad del tamaño de letra"},image:{image:"Imagen",insert:"Insertar imagen",resizeFull:"Redimensionar a tamaño completo",resizeHalf:"Redimensionar a la mitad",resizeQuarter:"Redimensionar a un cuarto",resizeNone:"Tamaño original",floatLeft:"Flotar a la izquierda",floatRight:"Flotar a la derecha",floatNone:"No flotar",shapeRounded:"Forma: Redondeado",shapeCircle:"Forma: Círculo",shapeThumbnail:"Forma: Miniatura",shapeNone:"Forma: Ninguna",dragImageHere:"Arrastre una imagen o texto aquí",dropImage:"Suelte una imagen o texto",selectFromFiles:"Seleccione un fichero",maximumFileSize:"Tamaño máximo del fichero",maximumFileSizeError:"Superado el tamaño máximo de fichero.",url:"URL de la imagen",remove:"Eliminar la imagen",original:"Original"},video:{video:"Vídeo",videoLink:"Enlace del vídeo",insert:"Insertar un vídeo",url:"URL del vídeo",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion o Youku)"},link:{link:"Enlace",insert:"Insertar un enlace",unlink:"Quitar el enlace",edit:"Editar",textToDisplay:"Texto a mostrar",url:"¿A qué URL lleva este enlace?",openInNewWindow:"Abrir en una nueva ventana",useProtocol:"Usar el protocolo predefinido"},table:{table:"Tabla",addRowAbove:"Añadir una fila encima",addRowBelow:"Añadir una fila debajo",addColLeft:"Añadir una columna a la izquierda",addColRight:"Añadir una columna a la derecha",delRow:"Borrar la fila",delCol:"Borrar la columna",delTable:"Borrar la tabla"},hr:{insert:"Insertar una línea horizontal"},style:{style:"Estilo",p:"Normal",blockquote:"Cita",pre:"Código",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6"},lists:{unordered:"Lista",ordered:"Lista numerada"},options:{help:"Ayuda",fullscreen:"Pantalla completa",codeview:"Ver el código fuente"},paragraph:{paragraph:"Párrafo",outdent:"Reducir la sangría",indent:"Aumentar la sangría",left:"Alinear a la izquierda",center:"Centrar",right:"Alinear a la derecha",justify:"Justificar"},color:{recent:"Último color",more:"Más colores",background:"Color de fondo",foreground:"Color del texto",transparent:"Transparente",setTransparent:"Establecer transparente",reset:"Restablecer",resetToDefault:"Restablecer a los valores predefinidos",cpSelect:"Seleccionar"},shortcut:{shortcuts:"Atajos de teclado",close:"Cerrar",textFormatting:"Formato de texto",action:"Acción",paragraphFormatting:"Formato de párrafo",documentStyle:"Estilo de documento",extraKeys:"Teclas adicionales"},help:{insertParagraph:"Insertar un párrafo",undo:"Deshacer la última acción",redo:"Rehacer la última acción",tab:"Tabular",untab:"Eliminar tabulación",bold:"Establecer estilo negrita",italic:"Establecer estilo cursiva",underline:"Establecer estilo subrayado",strikethrough:"Establecer estilo tachado",removeFormat:"Limpiar estilo",justifyLeft:"Alinear a la izquierda",justifyCenter:"Alinear al centro",justifyRight:"Alinear a la derecha",justifyFull:"Justificar",insertUnorderedList:"Insertar lista",insertOrderedList:"Insertar lista numerada",outdent:"Reducir sangría del párrafo",indent:"Aumentar sangría del párrafo",formatPara:"Cambiar el formato del bloque actual a párrafo (etiqueta P)",formatH1:"Cambiar el formato del bloque actual a H1",formatH2:"Cambiar el formato del bloque actual a H2",formatH3:"Cambiar el formato del bloque actual a H3",formatH4:"Cambiar el formato del bloque actual a H4",formatH5:"Cambiar el formato del bloque actual a H5",formatH6:"Cambiar el formato del bloque actual a H6",insertHorizontalRule:"Insertar una línea horizontal","linkDialog.show":"Mostrar el panel de enlaces"},history:{undo:"Deshacer",redo:"Rehacer"},specialChar:{specialChar:"CARACTERES ESPECIALES",select:"Seleccionar caracteres especiales"},output:{noSelection:"¡No ha seleccionado nada!"}}})}})}));
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-es-EU.min.js: |-
    /*! For license information please see summernote-es-EU.min.js.LICENSE.txt */
    !function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var a=r();for(var t in a)("object"==typeof exports?exports:e)[t]=a[t]}}(window,(function(){return function(e){var r={};function a(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=e,a.c=r,a.d=function(e,r,t){a.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,r){if(1&r&&(e=a(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)a.d(t,o,function(r){return e[r]}.bind(null,o));return t},a.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(r,"a",r),r},a.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},a.p="",a(a.s=16)}({16:function(e,r){var a;(a=jQuery).extend(a.summernote.lang,{"es-EU":{font:{bold:"Lodia",italic:"Etzana",underline:"Azpimarratua",clear:"Estiloa kendu",height:"Lerro altuera",name:"Tipografia",strikethrough:"Marratua",subscript:"Subscript",superscript:"Superscript",size:"Letren neurria"},image:{image:"Irudia",insert:"Irudi bat txertatu",resizeFull:"Jatorrizko neurrira aldatu",resizeHalf:"Neurria erdira aldatu",resizeQuarter:"Neurria laurdenera aldatu",floatLeft:"Ezkerrean kokatu",floatRight:"Eskuinean kokatu",floatNone:"Kokapenik ez ezarri",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Irudi bat ezarri hemen",dropImage:"Drop image or Text",selectFromFiles:"Zure fitxategi bat aukeratu",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Irudiaren URL helbidea",remove:"Remove Image",original:"Original"},video:{video:"Bideoa",videoLink:"Bideorako esteka",insert:"Bideo berri bat txertatu",url:"Bideoaren URL helbidea",providers:"(YouTube, Vimeo, Vine, Instagram edo DailyMotion)"},link:{link:"Esteka",insert:"Esteka bat txertatu",unlink:"Esteka ezabatu",edit:"Editatu",textToDisplay:"Estekaren testua",url:"Estekaren URL helbidea",openInNewWindow:"Leiho berri batean ireki"},table:{table:"Taula",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Marra horizontala txertatu"},style:{style:"Estiloa",p:"p",blockquote:"Aipamena",pre:"Kodea",h1:"1. izenburua",h2:"2. izenburua",h3:"3. izenburua",h4:"4. izenburua",h5:"5. izenburua",h6:"6. izenburua"},lists:{unordered:"Ordenatu gabeko zerrenda",ordered:"Zerrenda ordenatua"},options:{help:"Laguntza",fullscreen:"Pantaila osoa",codeview:"Kodea ikusi"},paragraph:{paragraph:"Paragrafoa",outdent:"Koska txikiagoa",indent:"Koska handiagoa",left:"Ezkerrean kokatu",center:"Erdian kokatu",right:"Eskuinean kokatu",justify:"Justifikatu"},color:{recent:"Azken kolorea",more:"Kolore gehiago",background:"Atzeko planoa",foreground:"Aurreko planoa",transparent:"Gardena",setTransparent:"Gardendu",reset:"Lehengoratu",resetToDefault:"Berrezarri lehenetsia"},shortcut:{shortcuts:"Lasterbideak",close:"Itxi",textFormatting:"Testuaren formatua",action:"Ekintza",paragraphFormatting:"Paragrafoaren formatua",documentStyle:"Dokumentuaren estiloa"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Desegin",redo:"Berregin"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}})}));
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-es-EU.min.js.LICENSE.txt: |
    /*! Summernote v0.8.18 | (c) 2013- Alan Hong and other contributors | MIT license */
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-fa-IR.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 17);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 17:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'fa-IR': {\n      font: {\n        bold: 'درشت',\n        italic: 'خمیده',\n
    \       underline: 'میان خط',\n        clear: 'پاک کردن فرمت فونت',\n        height:
    'فاصله ی خطی',\n        name: 'اسم فونت',\n        strikethrough: 'Strike',\n
    \       subscript: 'Subscript',\n        superscript: 'Superscript',\n        size:
    'اندازه ی فونت'\n      },\n      image: {\n        image: 'تصویر',\n        insert:
    'وارد کردن تصویر',\n        resizeFull: 'تغییر به اندازه ی کامل',\n        resizeHalf:
    'تغییر به اندازه نصف',\n        resizeQuarter: 'تغییر به اندازه یک چهارم',\n        floatLeft:
    'چسباندن به چپ',\n        floatRight: 'چسباندن به راست',\n        floatNone: 'بدون
    چسبندگی',\n        shapeRounded: 'Shape: Rounded',\n        shapeCircle: 'Shape:
    Circle',\n        shapeThumbnail: 'Shape: Thumbnail',\n        shapeNone: 'Shape:
    None',\n        dragImageHere: 'یک تصویر را اینجا بکشید',\n        dropImage:
    'Drop image or Text',\n        selectFromFiles: 'فایل ها را انتخاب کنید',\n        maximumFileSize:
    'حداکثر اندازه پرونده',\n        maximumFileSizeError: 'Maximum file size exceeded.',\n
    \       url: 'آدرس تصویر',\n        remove: 'حذف تصویر',\n        original: 'Original'\n
    \     },\n      video: {\n        video: 'ویدیو',\n        videoLink: 'لینک ویدیو',\n
    \       insert: 'افزودن ویدیو',\n        url: 'آدرس ویدیو ؟',\n        providers:
    '(YouTube, Vimeo, Vine, Instagram, DailyMotion یا Youku)'\n      },\n      link:
    {\n        link: 'لینک',\n        insert: 'اضافه کردن لینک',\n        unlink:
    'حذف لینک',\n        edit: 'ویرایش',\n        textToDisplay: 'متن جهت نمایش',\n
    \       url: 'این لینک به چه آدرسی باید برود ؟',\n        openInNewWindow: 'در
    یک پنجره ی جدید باز شود'\n      },\n      table: {\n        table: 'جدول',\n        addRowAbove:
    'افزودن ردیف بالا',\n        addRowBelow: 'افزودن ردیف پایین',\n        addColLeft:
    'افزودن ستون چپ',\n        addColRight: 'افزودن ستون راست',\n        delRow: 'حذف
    ردیف',\n        delCol: 'حذف ستون',\n        delTable: 'حذف جدول'\n      },\n
    \     hr: {\n        insert: 'افزودن خط افقی'\n      },\n      style: {\n        style:
    'استیل',\n        p: 'نرمال',\n        blockquote: 'نقل قول',\n        pre: 'کد',\n
    \       h1: 'سرتیتر 1',\n        h2: 'سرتیتر 2',\n        h3: 'سرتیتر 3',\n        h4:
    'سرتیتر 4',\n        h5: 'سرتیتر 5',\n        h6: 'سرتیتر 6'\n      },\n      lists:
    {\n        unordered: 'لیست غیر ترتیبی',\n        ordered: 'لیست ترتیبی'\n      },\n
    \     options: {\n        help: 'راهنما',\n        fullscreen: 'نمایش تمام صفحه',\n
    \       codeview: 'مشاهده ی کد'\n      },\n      paragraph: {\n        paragraph:
    'پاراگراف',\n        outdent: 'کاهش تو رفتگی',\n        indent: 'افزایش تو رفتگی',\n
    \       left: 'چپ چین',\n        center: 'میان چین',\n        right: 'راست چین',\n
    \       justify: 'بلوک چین'\n      },\n      color: {\n        recent: 'رنگ اخیرا
    استفاده شده',\n        more: 'رنگ بیشتر',\n        background: 'رنگ پس زمینه',\n
    \       foreground: 'رنگ متن',\n        transparent: 'بی رنگ',\n        setTransparent:
    'تنظیم حالت بی رنگ',\n        reset: 'بازنشاندن',\n        resetToDefault: 'حالت
    پیش فرض'\n      },\n      shortcut: {\n        shortcuts: 'دکمه های میان بر',\n
    \       close: 'بستن',\n        textFormatting: 'فرمت متن',\n        action: 'عملیات',\n
    \       paragraphFormatting: 'فرمت پاراگراف',\n        documentStyle: 'استیل سند',\n
    \       extraKeys: 'Extra keys'\n      },\n      help: {\n        'insertParagraph':
    'افزودن پاراگراف',\n        'undo': 'Undoes the last command',\n        'redo':
    'Redoes the last command',\n        'tab': 'Tab',\n        'untab': 'Untab',\n
    \       'bold': 'Set a bold style',\n        'italic': 'Set a italic style',\n
    \       'underline': 'Set a underline style',\n        'strikethrough': 'Set a
    strikethrough style',\n        'removeFormat': 'Clean a style',\n        'justifyLeft':
    'چپ چین',\n        'justifyCenter': 'وسط چین',\n        'justifyRight': 'راست
    چین',\n        'justifyFull': 'Set full align',\n        'insertUnorderedList':
    'Toggle unordered list',\n        'insertOrderedList': 'Toggle ordered list',\n
    \       'outdent': 'Outdent on current paragraph',\n        'indent': 'Indent
    on current paragraph',\n        'formatPara': 'Change current block\\'s format
    as a paragraph(P tag)',\n        'formatH1': 'Change current block\\'s format
    as H1',\n        'formatH2': 'Change current block\\'s format as H2',\n        'formatH3':
    'Change current block\\'s format as H3',\n        'formatH4': 'Change current
    block\\'s format as H4',\n        'formatH5': 'Change current block\\'s format
    as H5',\n        'formatH6': 'Change current block\\'s format as H6',\n        'insertHorizontalRule':
    'Insert horizontal rule',\n        'linkDialog.show': 'Show Link Dialog'\n      },\n
    \     history: {\n        undo: 'واچیدن',\n        redo: 'بازچیدن'\n      },\n
    \     specialChar: {\n        specialChar: 'کاراکتر خاص',\n        select: 'انتخاب
    کاراکتر خاص'\n      }\n    }\n  });\n})(jQuery);\n\n/***/ })\n\n/******/ });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-fi-FI.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 18);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 18:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'fi-FI': {\n      font: {\n        bold: 'Lihavointi',\n        italic:
    'Kursivointi',\n        underline: 'Alleviivaus',\n        clear: 'Tyhjennä muotoilu',\n
    \       height: 'Riviväli',\n        name: 'Kirjasintyyppi',\n        strikethrough:
    'Yliviivaus',\n        subscript: 'Alaindeksi',\n        superscript: 'Yläindeksi',\n
    \       size: 'Kirjasinkoko'\n      },\n      image: {\n        image: 'Kuva',\n
    \       insert: 'Lisää kuva',\n        resizeFull: 'Koko leveys',\n        resizeHalf:
    'Puolikas leveys',\n        resizeQuarter: 'Neljäsosa leveys',\n        floatLeft:
    'Sijoita vasemmalle',\n        floatRight: 'Sijoita oikealle',\n        floatNone:
    'Ei sijoitusta',\n        shapeRounded: 'Muoto: Pyöristetty',\n        shapeCircle:
    'Muoto: Ympyrä',\n        shapeThumbnail: 'Muoto: Esikatselukuva',\n        shapeNone:
    'Muoto: Ei muotoilua',\n        dragImageHere: 'Vedä kuva tähän',\n        selectFromFiles:
    'Valitse tiedostoista',\n        maximumFileSize: 'Maksimi tiedosto koko',\n        maximumFileSizeError:
    'Maksimi tiedosto koko ylitetty.',\n        url: 'URL-osoitteen mukaan',\n        remove:
    'Poista kuva',\n        original: 'Alkuperäinen'\n      },\n      video: {\n        video:
    'Video',\n        videoLink: 'Linkki videoon',\n        insert: 'Lisää video',\n
    \       url: 'Videon URL-osoite',\n        providers: '(YouTube, Vimeo, Vine,
    Instagram, DailyMotion tai Youku)'\n      },\n      link: {\n        link: 'Linkki',\n
    \       insert: 'Lisää linkki',\n        unlink: 'Poista linkki',\n        edit:
    'Muokkaa',\n        textToDisplay: 'Näytettävä teksti',\n        url: 'Linkin
    URL-osoite',\n        openInNewWindow: 'Avaa uudessa ikkunassa'\n      },\n      table:
    {\n        table: 'Taulukko',\n        addRowAbove: 'Lisää rivi yläpuolelle',\n
    \       addRowBelow: 'Lisää rivi alapuolelle',\n        addColLeft: 'Lisää sarake
    vasemmalle puolelle',\n        addColRight: 'Lisää sarake oikealle puolelle',\n
    \       delRow: 'Poista rivi',\n        delCol: 'Poista sarake',\n        delTable:
    'Poista taulukko'\n      },\n      hr: {\n        insert: 'Lisää vaakaviiva'\n
    \     },\n      style: {\n        style: 'Tyyli',\n        p: 'Normaali',\n        blockquote:
    'Lainaus',\n        pre: 'Koodi',\n        h1: 'Otsikko 1',\n        h2: 'Otsikko
    2',\n        h3: 'Otsikko 3',\n        h4: 'Otsikko 4',\n        h5: 'Otsikko
    5',\n        h6: 'Otsikko 6'\n      },\n      lists: {\n        unordered: 'Luettelomerkitty
    luettelo',\n        ordered: 'Numeroitu luettelo'\n      },\n      options: {\n
    \       help: 'Ohje',\n        fullscreen: 'Koko näyttö',\n        codeview: 'HTML-näkymä'\n
    \     },\n      paragraph: {\n        paragraph: 'Kappale',\n        outdent:
    'Pienennä sisennystä',\n        indent: 'Suurenna sisennystä',\n        left:
    'Tasaa vasemmalle',\n        center: 'Keskitä',\n        right: 'Tasaa oikealle',\n
    \       justify: 'Tasaa'\n      },\n      color: {\n        recent: 'Viimeisin
    väri',\n        more: 'Lisää värejä',\n        background: 'Korostusväri',\n        foreground:
    'Tekstin väri',\n        transparent: 'Läpinäkyvä',\n        setTransparent: 'Aseta
    läpinäkyväksi',\n        reset: 'Palauta',\n        resetToDefault: 'Palauta oletusarvoksi'\n
    \     },\n      shortcut: {\n        shortcuts: 'Pikanäppäimet',\n        close:
    'Sulje',\n        textFormatting: 'Tekstin muotoilu',\n        action: 'Toiminto',\n
    \       paragraphFormatting: 'Kappaleen muotoilu',\n        documentStyle: 'Asiakirjan
    tyyli'\n      },\n      help: {\n        'insertParagraph': 'Lisää kappale',\n
    \       'undo': 'Kumoa viimeisin komento',\n        'redo': 'Tee uudelleen kumottu
    komento',\n        'tab': 'Sarkain',\n        'untab': 'Sarkainmerkin poisto',\n
    \       'bold': 'Lihavointi',\n        'italic': 'Kursiivi',\n        'underline':
    'Alleviivaus',\n        'strikethrough': 'Yliviivaus',\n        'removeFormat':
    'Poista asetetut tyylit',\n        'justifyLeft': 'Tasaa vasemmalle',\n        'justifyCenter':
    'Keskitä',\n        'justifyRight': 'Tasaa oikealle',\n        'justifyFull':
    'Tasaa',\n        'insertUnorderedList': 'Luettelomerkillä varustettu lista',\n
    \       'insertOrderedList': 'Numeroitu lista',\n        'outdent': 'Pienennä
    sisennystä',\n        'indent': 'Suurenna sisennystä',\n        'formatPara':
    'Muuta kappaleen formaatti p',\n        'formatH1': 'Muuta kappaleen formaatti
    H1',\n        'formatH2': 'Muuta kappaleen formaatti H2',\n        'formatH3':
    'Muuta kappaleen formaatti H3',\n        'formatH4': 'Muuta kappaleen formaatti
    H4',\n        'formatH5': 'Muuta kappaleen formaatti H5',\n        'formatH6':
    'Muuta kappaleen formaatti H6',\n        'insertHorizontalRule': 'Lisää vaakaviiva',\n
    \       'linkDialog.show': 'Lisää linkki'\n      },\n      history: {\n        undo:
    'Kumoa',\n        redo: 'Toista'\n      },\n      specialChar: {\n        specialChar:
    'ERIKOISMERKIT',\n        select: 'Valitse erikoismerkit'\n      }\n    }\n  });\n})(jQuery);\n\n/***/
    })\n\n/******/ });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-gl-ES.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 20);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 20:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'gl-ES': {\n      font: {\n        bold: 'Negrita',\n        italic: 'Cursiva',\n
    \       underline: 'Subliñado',\n        clear: 'Quitar estilo de fonte',\n        height:
    'Altura de liña',\n        name: 'Fonte',\n        strikethrough: 'Riscado',\n
    \       superscript: 'Superíndice',\n        subscript: 'Subíndice',\n        size:
    'Tamaño da fonte'\n      },\n      image: {\n        image: 'Imaxe',\n        insert:
    'Inserir imaxe',\n        resizeFull: 'Redimensionar a tamaño completo',\n        resizeHalf:
    'Redimensionar á metade',\n        resizeQuarter: 'Redimensionar a un cuarto',\n
    \       floatLeft: 'Flotar á esquerda',\n        floatRight: 'Flotar á dereita',\n
    \       floatNone: 'Non flotar',\n        shapeRounded: 'Forma: Redondeado',\n
    \       shapeCircle: 'Forma: Círculo',\n        shapeThumbnail: 'Forma: Marco',\n
    \       shapeNone: 'Forma: Ningunha',\n        dragImageHere: 'Arrastrar unha
    imaxe ou texto aquí',\n        dropImage: 'Solta a imaxe ou texto',\n        selectFromFiles:
    'Seleccionar desde os arquivos',\n        maximumFileSize: 'Tamaño máximo do arquivo',\n
    \       maximumFileSizeError: 'Superaches o tamaño máximo do arquivo.',\n        url:
    'URL da imaxe',\n        remove: 'Eliminar imaxe',\n        original: 'Original'\n
    \     },\n      video: {\n        video: 'Vídeo',\n        videoLink: 'Ligazón
    do vídeo',\n        insert: 'Insertar vídeo',\n        url: 'URL do vídeo?',\n
    \       providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion, o Youku)'\n
    \     },\n      link: {\n        link: 'Ligazón',\n        insert: 'Inserir Ligazón',\n
    \       unlink: 'Quitar Ligazón',\n        edit: 'Editar',\n        textToDisplay:
    'Texto para amosar',\n        url: 'Cara a que URL leva a ligazón?',\n        openInNewWindow:
    'Abrir nunha nova xanela'\n      },\n      table: {\n        table: 'Táboa',\n
    \       addRowAbove: 'Add row above',\n        addRowBelow: 'Add row below',\n
    \       addColLeft: 'Add column left',\n        addColRight: 'Add column right',\n
    \       delRow: 'Delete row',\n        delCol: 'Delete column',\n        delTable:
    'Delete table'\n      },\n      hr: {\n        insert: 'Inserir liña horizontal'\n
    \     },\n      style: {\n        style: 'Estilo',\n        p: 'Normal',\n        blockquote:
    'Cita',\n        pre: 'Código',\n        h1: 'Título 1',\n        h2: 'Título
    2',\n        h3: 'Título 3',\n        h4: 'Título 4',\n        h5: 'Título 5',\n
    \       h6: 'Título 6'\n      },\n      lists: {\n        unordered: 'Lista desordenada',\n
    \       ordered: 'Lista ordenada'\n      },\n      options: {\n        help: 'Axuda',\n
    \       fullscreen: 'Pantalla completa',\n        codeview: 'Ver código fonte'\n
    \     },\n      paragraph: {\n        paragraph: 'Parágrafo',\n        outdent:
    'Menos tabulación',\n        indent: 'Máis tabulación',\n        left: 'Aliñar
    á esquerda',\n        center: 'Aliñar ao centro',\n        right: 'Aliñar á dereita',\n
    \       justify: 'Xustificar'\n      },\n      color: {\n        recent: 'Última
    cor',\n        more: 'Máis cores',\n        background: 'Cor de fondo',\n        foreground:
    'Cor de fuente',\n        transparent: 'Transparente',\n        setTransparent:
    'Establecer transparente',\n        reset: 'Restaurar',\n        resetToDefault:
    'Restaurar por defecto'\n      },\n      shortcut: {\n        shortcuts: 'Atallos
    de teclado',\n        close: 'Pechar',\n        textFormatting: 'Formato de texto',\n
    \       action: 'Acción',\n        paragraphFormatting: 'Formato de parágrafo',\n
    \       documentStyle: 'Estilo de documento',\n        extraKeys: 'Teclas adicionais'\n
    \     },\n      help: {\n        'insertParagraph': 'Inserir parágrafo',\n        'undo':
    'Desfacer última acción',\n        'redo': 'Refacer última acción',\n        'tab':
    'Tabular',\n        'untab': 'Eliminar tabulación',\n        'bold': 'Establecer
    estilo negrita',\n        'italic': 'Establecer estilo cursiva',\n        'underline':
    'Establecer estilo subliñado',\n        'strikethrough': 'Establecer estilo riscado',\n
    \       'removeFormat': 'Limpar estilo',\n        'justifyLeft': 'Aliñar á esquerda',\n
    \       'justifyCenter': 'Aliñar ao centro',\n        'justifyRight': 'Aliñar
    á dereita',\n        'justifyFull': 'Xustificar',\n        'insertUnorderedList':
    'Inserir lista desordenada',\n        'insertOrderedList': 'Inserir lista ordenada',\n
    \       'outdent': 'Reducir tabulación do parágrafo',\n        'indent': 'Aumentar
    tabulación do parágrafo',\n        'formatPara': 'Mudar estilo do bloque a parágrafo
    (etiqueta P)',\n        'formatH1': 'Mudar estilo do bloque a H1',\n        'formatH2':
    'Mudar estilo do bloque a H2',\n        'formatH3': 'Mudar estilo do bloque a
    H3',\n        'formatH4': 'Mudar estilo do bloque a H4',\n        'formatH5':
    'Mudar estilo do bloque a H5',\n        'formatH6': 'Mudar estilo do bloque a
    H6',\n        'insertHorizontalRule': 'Inserir liña horizontal',\n        'linkDialog.show':
    'Amosar panel ligazóns'\n      },\n      history: {\n        undo: 'Desfacer',\n
    \       redo: 'Refacer'\n      },\n      specialChar: {\n        specialChar:
    'CARACTERES ESPECIAIS',\n        select: 'Selecciona Caracteres especiais'\n      }\n
    \   }\n  });\n})(jQuery);\n\n/***/ })\n\n/******/ });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-gl-ES.min.js: |-
    /*! For license information please see summernote-gl-ES.min.js.LICENSE.txt */
    !function(e,a){if("object"==typeof exports&&"object"==typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var r=a();for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(window,(function(){return function(e){var a={};function r(o){if(a[o])return a[o].exports;var t=a[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=e,r.c=a,r.d=function(e,a,o){r.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,a){if(1&a&&(e=r(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var t in e)r.d(o,t,function(a){return e[a]}.bind(null,t));return o},r.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(a,"a",a),a},r.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},r.p="",r(r.s=20)}({20:function(e,a){var r;(r=jQuery).extend(r.summernote.lang,{"gl-ES":{font:{bold:"Negrita",italic:"Cursiva",underline:"Subliñado",clear:"Quitar estilo de fonte",height:"Altura de liña",name:"Fonte",strikethrough:"Riscado",superscript:"Superíndice",subscript:"Subíndice",size:"Tamaño da fonte"},image:{image:"Imaxe",insert:"Inserir imaxe",resizeFull:"Redimensionar a tamaño completo",resizeHalf:"Redimensionar á metade",resizeQuarter:"Redimensionar a un cuarto",floatLeft:"Flotar á esquerda",floatRight:"Flotar á dereita",floatNone:"Non flotar",shapeRounded:"Forma: Redondeado",shapeCircle:"Forma: Círculo",shapeThumbnail:"Forma: Marco",shapeNone:"Forma: Ningunha",dragImageHere:"Arrastrar unha imaxe ou texto aquí",dropImage:"Solta a imaxe ou texto",selectFromFiles:"Seleccionar desde os arquivos",maximumFileSize:"Tamaño máximo do arquivo",maximumFileSizeError:"Superaches o tamaño máximo do arquivo.",url:"URL da imaxe",remove:"Eliminar imaxe",original:"Original"},video:{video:"Vídeo",videoLink:"Ligazón do vídeo",insert:"Insertar vídeo",url:"URL do vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion, o Youku)"},link:{link:"Ligazón",insert:"Inserir Ligazón",unlink:"Quitar Ligazón",edit:"Editar",textToDisplay:"Texto para amosar",url:"Cara a que URL leva a ligazón?",openInNewWindow:"Abrir nunha nova xanela"},table:{table:"Táboa",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Inserir liña horizontal"},style:{style:"Estilo",p:"Normal",blockquote:"Cita",pre:"Código",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6"},lists:{unordered:"Lista desordenada",ordered:"Lista ordenada"},options:{help:"Axuda",fullscreen:"Pantalla completa",codeview:"Ver código fonte"},paragraph:{paragraph:"Parágrafo",outdent:"Menos tabulación",indent:"Máis tabulación",left:"Aliñar á esquerda",center:"Aliñar ao centro",right:"Aliñar á dereita",justify:"Xustificar"},color:{recent:"Última cor",more:"Máis cores",background:"Cor de fondo",foreground:"Cor de fuente",transparent:"Transparente",setTransparent:"Establecer transparente",reset:"Restaurar",resetToDefault:"Restaurar por defecto"},shortcut:{shortcuts:"Atallos de teclado",close:"Pechar",textFormatting:"Formato de texto",action:"Acción",paragraphFormatting:"Formato de parágrafo",documentStyle:"Estilo de documento",extraKeys:"Teclas adicionais"},help:{insertParagraph:"Inserir parágrafo",undo:"Desfacer última acción",redo:"Refacer última acción",tab:"Tabular",untab:"Eliminar tabulación",bold:"Establecer estilo negrita",italic:"Establecer estilo cursiva",underline:"Establecer estilo subliñado",strikethrough:"Establecer estilo riscado",removeFormat:"Limpar estilo",justifyLeft:"Aliñar á esquerda",justifyCenter:"Aliñar ao centro",justifyRight:"Aliñar á dereita",justifyFull:"Xustificar",insertUnorderedList:"Inserir lista desordenada",insertOrderedList:"Inserir lista ordenada",outdent:"Reducir tabulación do parágrafo",indent:"Aumentar tabulación do parágrafo",formatPara:"Mudar estilo do bloque a parágrafo (etiqueta P)",formatH1:"Mudar estilo do bloque a H1",formatH2:"Mudar estilo do bloque a H2",formatH3:"Mudar estilo do bloque a H3",formatH4:"Mudar estilo do bloque a H4",formatH5:"Mudar estilo do bloque a H5",formatH6:"Mudar estilo do bloque a H6",insertHorizontalRule:"Inserir liña horizontal","linkDialog.show":"Amosar panel ligazóns"},history:{undo:"Desfacer",redo:"Refacer"},specialChar:{specialChar:"CARACTERES ESPECIAIS",select:"Selecciona Caracteres especiais"}}})}})}));
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-gl-ES.min.js.LICENSE.txt: |
    /*! Summernote v0.8.18 | (c) 2013- Alan Hong and other contributors | MIT license */
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-he-IL.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 21);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 21:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'he-IL': {\n      font: {\n        bold: 'מודגש',\n        italic: 'נטוי',\n
    \       underline: 'קו תחתון',\n        clear: 'נקה עיצוב',\n        height: 'גובה',\n
    \       name: 'גופן',\n        strikethrough: 'קו חוצה',\n        subscript: 'כתב
    תחתי',\n        superscript: 'כתב עילי',\n        size: 'גודל גופן'\n      },\n
    \     image: {\n        image: 'תמונה',\n        insert: 'הוסף תמונה',\n        resizeFull:
    'גודל מלא',\n        resizeHalf: 'להקטין לחצי',\n        resizeQuarter: 'להקטין
    לרבע',\n        floatLeft: 'יישור לשמאל',\n        floatRight: 'יישור לימין',\n
    \       floatNone: 'ישר',\n        shapeRounded: 'Shape: Rounded',\n        shapeCircle:
    'Shape: Circle',\n        shapeThumbnail: 'Shape: Thumbnail',\n        shapeNone:
    'Shape: None',\n        dragImageHere: 'גרור תמונה לכאן',\n        dropImage:
    'Drop image or Text',\n        selectFromFiles: 'בחר מתוך קבצים',\n        maximumFileSize:
    'Maximum file size',\n        maximumFileSizeError: 'Maximum file size exceeded.',\n
    \       url: 'נתיב לתמונה',\n        remove: 'הסר תמונה',\n        original: 'Original'\n
    \     },\n      video: {\n        video: 'סרטון',\n        videoLink: 'קישור לסרטון',\n
    \       insert: 'הוסף סרטון',\n        url: 'קישור לסרטון',\n        providers:
    '(YouTube, Vimeo, Vine, Instagram, DailyMotion או Youku)'\n      },\n      link:
    {\n        link: 'קישור',\n        insert: 'הוסף קישור',\n        unlink: 'הסר
    קישור',\n        edit: 'ערוך',\n        textToDisplay: 'טקסט להציג',\n        url:
    'קישור',\n        openInNewWindow: 'פתח בחלון חדש'\n      },\n      table: {\n
    \       table: 'טבלה',\n        addRowAbove: 'Add row above',\n        addRowBelow:
    'Add row below',\n        addColLeft: 'Add column left',\n        addColRight:
    'Add column right',\n        delRow: 'Delete row',\n        delCol: 'Delete column',\n
    \       delTable: 'Delete table'\n      },\n      hr: {\n        insert: 'הוסף
    קו'\n      },\n      style: {\n        style: 'עיצוב',\n        p: 'טקסט רגיל',\n
    \       blockquote: 'ציטוט',\n        pre: 'קוד',\n        h1: 'כותרת 1',\n        h2:
    'כותרת 2',\n        h3: 'כותרת 3',\n        h4: 'כותרת 4',\n        h5: 'כותרת
    5',\n        h6: 'כותרת 6'\n      },\n      lists: {\n        unordered: 'רשימת
    תבליטים',\n        ordered: 'רשימה ממוספרת'\n      },\n      options: {\n        help:
    'עזרה',\n        fullscreen: 'מסך מלא',\n        codeview: 'תצוגת קוד'\n      },\n
    \     paragraph: {\n        paragraph: 'פסקה',\n        outdent: 'הקטן כניסה',\n
    \       indent: 'הגדל כניסה',\n        left: 'יישור לשמאל',\n        center: 'יישור
    למרכז',\n        right: 'יישור לימין',\n        justify: 'מיושר'\n      },\n      color:
    {\n        recent: 'צבע טקסט אחרון',\n        more: 'עוד צבעים',\n        background:
    'צבע רקע',\n        foreground: 'צבע טקסט',\n        transparent: 'שקוף',\n        setTransparent:
    'קבע כשקוף',\n        reset: 'איפוס',\n        resetToDefault: 'אפס לברירת מחדל'\n
    \     },\n      shortcut: {\n        shortcuts: 'קיצורי מקלדת',\n        close:
    'סגור',\n        textFormatting: 'עיצוב הטקסט',\n        action: 'פעולה',\n        paragraphFormatting:
    'סגנונות פסקה',\n        documentStyle: 'עיצוב המסמך',\n        extraKeys: 'קיצורים
    נוספים'\n      },\n      help: {\n        'insertParagraph': 'Insert Paragraph',\n
    \       'undo': 'Undoes the last command',\n        'redo': 'Redoes the last command',\n
    \       'tab': 'Tab',\n        'untab': 'Untab',\n        'bold': 'Set a bold
    style',\n        'italic': 'Set a italic style',\n        'underline': 'Set a
    underline style',\n        'strikethrough': 'Set a strikethrough style',\n        'removeFormat':
    'Clean a style',\n        'justifyLeft': 'Set left align',\n        'justifyCenter':
    'Set center align',\n        'justifyRight': 'Set right align',\n        'justifyFull':
    'Set full align',\n        'insertUnorderedList': 'Toggle unordered list',\n        'insertOrderedList':
    'Toggle ordered list',\n        'outdent': 'Outdent on current paragraph',\n        'indent':
    'Indent on current paragraph',\n        'formatPara': 'Change current block\\'s
    format as a paragraph(P tag)',\n        'formatH1': 'Change current block\\'s
    format as H1',\n        'formatH2': 'Change current block\\'s format as H2',\n
    \       'formatH3': 'Change current block\\'s format as H3',\n        'formatH4':
    'Change current block\\'s format as H4',\n        'formatH5': 'Change current
    block\\'s format as H5',\n        'formatH6': 'Change current block\\'s format
    as H6',\n        'insertHorizontalRule': 'Insert horizontal rule',\n        'linkDialog.show':
    'Show Link Dialog'\n      },\n      history: {\n        undo: 'בטל פעולה',\n        redo:
    'בצע שוב'\n      },\n      specialChar: {\n        specialChar: 'SPECIAL CHARACTERS',\n
    \       select: 'Select Special characters'\n      }\n    }\n  });\n})(jQuery);\n\n/***/
    })\n\n/******/ });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-he-IL.min.js.LICENSE.txt: |
    /*! Summernote v0.8.18 | (c) 2013- Alan Hong and other contributors | MIT license */
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-hr-HR.min.js: |-
    /*! For license information please see summernote-hr-HR.min.js.LICENSE.txt */
    !function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var a=r();for(var t in a)("object"==typeof exports?exports:e)[t]=a[t]}}(window,(function(){return function(e){var r={};function a(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=e,a.c=r,a.d=function(e,r,t){a.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,r){if(1&r&&(e=a(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)a.d(t,o,function(r){return e[r]}.bind(null,o));return t},a.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(r,"a",r),r},a.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},a.p="",a(a.s=22)}({22:function(e,r){var a;(a=jQuery).extend(a.summernote.lang,{"hr-HR":{font:{bold:"Podebljano",italic:"Kurziv",underline:"Podvučeno",clear:"Ukloni stilove fonta",height:"Visina linije",name:"Font Family",strikethrough:"Precrtano",subscript:"Subscript",superscript:"Superscript",size:"Veličina fonta"},image:{image:"Slika",insert:"Ubaci sliku",resizeFull:"Puna veličina",resizeHalf:"Umanji na 50%",resizeQuarter:"Umanji na 25%",floatLeft:"Poravnaj lijevo",floatRight:"Poravnaj desno",floatNone:"Bez poravnanja",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Povuci sliku ovdje",dropImage:"Drop image or Text",selectFromFiles:"Izaberi iz datoteke",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Adresa slike",remove:"Ukloni sliku",original:"Original"},video:{video:"Video",videoLink:"Veza na video",insert:"Ubaci video",url:"URL video",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ili Youku)"},link:{link:"Veza",insert:"Ubaci vezu",unlink:"Ukloni vezu",edit:"Uredi",textToDisplay:"Tekst za prikaz",url:"Internet adresa",openInNewWindow:"Otvori u novom prozoru"},table:{table:"Tablica",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Ubaci horizontalnu liniju"},style:{style:"Stil",p:"pni",blockquote:"Citat",pre:"Kôd",h1:"Naslov 1",h2:"Naslov 2",h3:"Naslov 3",h4:"Naslov 4",h5:"Naslov 5",h6:"Naslov 6"},lists:{unordered:"Obična lista",ordered:"Numerirana lista"},options:{help:"Pomoć",fullscreen:"Preko cijelog ekrana",codeview:"Izvorni kôd"},paragraph:{paragraph:"Paragraf",outdent:"Smanji uvlačenje",indent:"Povećaj uvlačenje",left:"Poravnaj lijevo",center:"Centrirano",right:"Poravnaj desno",justify:"Poravnaj obostrano"},color:{recent:"Posljednja boja",more:"Više boja",background:"Boja pozadine",foreground:"Boja teksta",transparent:"Prozirna",setTransparent:"Prozirna",reset:"Poništi",resetToDefault:"Podrazumijevana"},shortcut:{shortcuts:"Prečice s tipkovnice",close:"Zatvori",textFormatting:"Formatiranje teksta",action:"Akcija",paragraphFormatting:"Formatiranje paragrafa",documentStyle:"Stil dokumenta",extraKeys:"Dodatne kombinacije"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Poništi",redo:"Ponovi"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}})}));
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-hu-HU.min.js: |-
    /*! For license information please see summernote-hu-HU.min.js.LICENSE.txt */
    !function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(window,(function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(o,s,function(t){return e[t]}.bind(null,s));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=23)}({23:function(e,t){var r;(r=jQuery).extend(r.summernote.lang,{"hu-HU":{font:{bold:"Félkövér",italic:"Dőlt",underline:"Aláhúzott",clear:"Formázás törlése",height:"Sorköz",name:"Betűtípus",strikethrough:"Áthúzott",subscript:"Subscript",superscript:"Superscript",size:"Betűméret"},image:{image:"Kép",insert:"Kép beszúrása",resizeFull:"Átméretezés teljes méretre",resizeHalf:"Átméretezés felére",resizeQuarter:"Átméretezés negyedére",floatLeft:"Igazítás balra",floatRight:"Igazítás jobbra",floatNone:"Igazítás törlése",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Ide húzhat képet vagy szöveget",dropImage:"Engedje el a képet vagy szöveget",selectFromFiles:"Fájlok kiválasztása",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Kép URL címe",remove:"Kép törlése",original:"Original"},video:{video:"Videó",videoLink:"Videó hivatkozás",insert:"Videó beszúrása",url:"Videó URL címe",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion vagy Youku)"},link:{link:"Hivatkozás",insert:"Hivatkozás beszúrása",unlink:"Hivatkozás megszüntetése",edit:"Szerkesztés",textToDisplay:"Megjelenítendő szöveg",url:"Milyen URL címre hivatkozzon?",openInNewWindow:"Megnyitás új ablakban"},table:{table:"Táblázat",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Elválasztó vonal beszúrása"},style:{style:"Stílus",p:"Normál",blockquote:"Idézet",pre:"Kód",h1:"Fejléc 1",h2:"Fejléc 2",h3:"Fejléc 3",h4:"Fejléc 4",h5:"Fejléc 5",h6:"Fejléc 6"},lists:{unordered:"Listajeles lista",ordered:"Számozott lista"},options:{help:"Súgó",fullscreen:"Teljes képernyő",codeview:"Kód nézet"},paragraph:{paragraph:"Bekezdés",outdent:"Behúzás csökkentése",indent:"Behúzás növelése",left:"Igazítás balra",center:"Igazítás középre",right:"Igazítás jobbra",justify:"Sorkizárt"},color:{recent:"Jelenlegi szín",more:"További színek",background:"Háttérszín",foreground:"Betűszín",transparent:"Átlátszó",setTransparent:"Átlászóság beállítása",reset:"Visszaállítás",resetToDefault:"Alaphelyzetbe állítás"},shortcut:{shortcuts:"Gyorsbillentyű",close:"Bezárás",textFormatting:"Szöveg formázása",action:"Művelet",paragraphFormatting:"Bekezdés formázása",documentStyle:"Dokumentumstílus",extraKeys:"Extra keys"},help:{insertParagraph:"Új bekezdés",undo:"Visszavonás",redo:"Újra",tab:"Behúzás növelése",untab:"Behúzás csökkentése",bold:"Félkövérre állítás",italic:"Dőltre állítás",underline:"Aláhúzás",strikethrough:"Áthúzás",removeFormat:"Formázás törlése",justifyLeft:"Balra igazítás",justifyCenter:"Középre igazítás",justifyRight:"Jobbra igazítás",justifyFull:"Sorkizárt",insertUnorderedList:"Számozatlan lista be/ki",insertOrderedList:"Számozott lista be/ki",outdent:"Jelenlegi bekezdés behúzásának megszüntetése",indent:"Jelenlegi bekezdés behúzása",formatPara:"Blokk formázása bekezdésként (P tag)",formatH1:"Blokk formázása, mint Fejléc 1",formatH2:"Blokk formázása, mint Fejléc 2",formatH3:"Blokk formázása, mint Fejléc 3",formatH4:"Blokk formázása, mint Fejléc 4",formatH5:"Blokk formázása, mint Fejléc 5",formatH6:"Blokk formázása, mint Fejléc 6",insertHorizontalRule:"Vízszintes vonal beszúrása","linkDialog.show":"Link párbeszédablak megjelenítése"},history:{undo:"Visszavonás",redo:"Újra"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}})}));
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-id-ID.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 24);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 24:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'id-ID': {\n      font: {\n        bold: 'Tebal',\n        italic: 'Miring',\n
    \       underline: 'Garis bawah',\n        clear: 'Bersihkan gaya',\n        height:
    'Jarak baris',\n        name: 'Jenis Tulisan',\n        strikethrough: 'Coret',\n
    \       subscript: 'Subscript',\n        superscript: 'Superscript',\n        size:
    'Ukuran font'\n      },\n      image: {\n        image: 'Gambar',\n        insert:
    'Sisipkan gambar',\n        resizeFull: 'Ukuran penuh',\n        resizeHalf: 'Ukuran
    50%',\n        resizeQuarter: 'Ukuran 25%',\n        floatLeft: 'Rata kiri',\n
    \       floatRight: 'Rata kanan',\n        floatNone: 'Tanpa perataan',\n        shapeRounded:
    'Bentuk: Membundar',\n        shapeCircle: 'Bentuk: Bundar',\n        shapeThumbnail:
    'Bentuk: Thumbnail',\n        shapeNone: 'Bentuk: Tidak ada',\n        dragImageHere:
    'Tarik gambar ke area ini',\n        dropImage: 'Letakkan gambar atau teks',\n
    \       selectFromFiles: 'Pilih gambar dari berkas',\n        maximumFileSize:
    'Ukuran maksimal berkas',\n        maximumFileSizeError: 'Ukuran maksimal berkas
    terlampaui.',\n        url: 'URL gambar',\n        remove: 'Hapus Gambar',\n        original:
    'Original'\n      },\n      video: {\n        video: 'Video',\n        videoLink:
    'Link video',\n        insert: 'Sisipkan video',\n        url: 'Tautan video',\n
    \       providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion atau Youku)'\n
    \     },\n      link: {\n        link: 'Tautan',\n        insert: 'Tambah tautan',\n
    \       unlink: 'Hapus tautan',\n        edit: 'Edit',\n        textToDisplay:
    'Tampilan teks',\n        url: 'Tautan tujuan',\n        openInNewWindow: 'Buka
    di jendela baru'\n      },\n      table: {\n        table: 'Tabel',\n        addRowAbove:
    'Tambahkan baris ke atas',\n        addRowBelow: 'Tambahkan baris ke bawah',\n
    \       addColLeft: 'Tambahkan kolom ke kiri',\n        addColRight: 'Tambahkan
    kolom ke kanan',\n        delRow: 'Hapus baris',\n        delCol: 'Hapus kolom',\n
    \       delTable: 'Hapus tabel'\n      },\n      hr: {\n        insert: 'Masukkan
    garis horizontal'\n      },\n      style: {\n        style: 'Gaya',\n        p:
    'p',\n        blockquote: 'Kutipan',\n        pre: 'Kode',\n        h1: 'Heading
    1',\n        h2: 'Heading 2',\n        h3: 'Heading 3',\n        h4: 'Heading
    4',\n        h5: 'Heading 5',\n        h6: 'Heading 6'\n      },\n      lists:
    {\n        unordered: 'Pencacahan',\n        ordered: 'Penomoran'\n      },\n
    \     options: {\n        help: 'Bantuan',\n        fullscreen: 'Layar penuh',\n
    \       codeview: 'Kode HTML'\n      },\n      paragraph: {\n        paragraph:
    'Paragraf',\n        outdent: 'Outdent',\n        indent: 'Indent',\n        left:
    'Rata kiri',\n        center: 'Rata tengah',\n        right: 'Rata kanan',\n        justify:
    'Rata kanan kiri'\n      },\n      color: {\n        recent: 'Warna sekarang',\n
    \       more: 'Selengkapnya',\n        background: 'Warna latar',\n        foreground:
    'Warna font',\n        transparent: 'Transparan',\n        setTransparent: 'Atur
    transparansi',\n        reset: 'Atur ulang',\n        resetToDefault: 'Kembalikan
    kesemula'\n      },\n      shortcut: {\n        shortcuts: 'Jalan pintas',\n        close:
    'Tutup',\n        textFormatting: 'Format teks',\n        action: 'Aksi',\n        paragraphFormatting:
    'Format paragraf',\n        documentStyle: 'Gaya dokumen',\n        extraKeys:
    'Shortcut tambahan'\n      },\n      help: {\n        'insertParagraph': 'Tambahkan
    paragraf',\n        'undo': 'Urungkan perintah terakhir',\n        'redo': 'Kembalikan
    perintah terakhir',\n        'tab': 'Tab',\n        'untab': 'Untab',\n        'bold':
    'Mengaktifkan gaya tebal',\n        'italic': 'Mengaktifkan gaya italic',\n        'underline':
    'Mengaktifkan gaya underline',\n        'strikethrough': 'Mengaktifkan gaya strikethrough',\n
    \       'removeFormat': 'Hapus semua gaya',\n        'justifyLeft': 'Atur rata
    kiri',\n        'justifyCenter': 'Atur rata tengah',\n        'justifyRight':
    'Atur rata kanan',\n        'justifyFull': 'Atur rata kiri-kanan',\n        'insertUnorderedList':
    'Nyalakan urutan tanpa nomor',\n        'insertOrderedList': 'Nyalakan urutan
    bernomor',\n        'outdent': 'Outdent di paragraf terpilih',\n        'indent':
    'Indent di paragraf terpilih',\n        'formatPara': 'Ubah format gaya tulisan
    terpilih menjadi paragraf',\n        'formatH1': 'Ubah format gaya tulisan terpilih
    menjadi Heading 1',\n        'formatH2': 'Ubah format gaya tulisan terpilih menjadi
    Heading 2',\n        'formatH3': 'Ubah format gaya tulisan terpilih menjadi Heading
    3',\n        'formatH4': 'Ubah format gaya tulisan terpilih menjadi Heading 4',\n
    \       'formatH5': 'Ubah format gaya tulisan terpilih menjadi Heading 5',\n        'formatH6':
    'Ubah format gaya tulisan terpilih menjadi Heading 6',\n        'insertHorizontalRule':
    'Masukkan garis horizontal',\n        'linkDialog.show': 'Tampilkan Link Dialog'\n
    \     },\n      history: {\n        undo: 'Kembali',\n        redo: 'Ulang'\n
    \     },\n      specialChar: {\n        specialChar: 'KARAKTER KHUSUS',\n        select:
    'Pilih karakter khusus'\n      }\n    }\n  });\n})(jQuery);\n\n/***/ })\n\n/******/
    });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-ja-JP.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 26);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 26:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'ja-JP': {\n      font: {\n        bold: '太字',\n        italic: '斜体',\n
    \       underline: '下線',\n        clear: 'クリア',\n        height: '文字高',\n        name:
    'フォント',\n        strikethrough: '取り消し線',\n        subscript: 'Subscript',\n        superscript:
    'Superscript',\n        size: '大きさ'\n      },\n      image: {\n        image:
    '画像',\n        insert: '画像挿入',\n        resizeFull: '最大化',\n        resizeHalf:
    '1/2',\n        resizeQuarter: '1/4',\n        floatLeft: '左寄せ',\n        floatRight:
    '右寄せ',\n        floatNone: '寄せ解除',\n        shapeRounded: 'Shape: Rounded',\n
    \       shapeCircle: 'Shape: Circle',\n        shapeThumbnail: 'Shape: Thumbnail',\n
    \       shapeNone: 'Shape: None',\n        dragImageHere: 'ここに画像をドラッグしてください',\n
    \       dropImage: 'Drop image or Text',\n        selectFromFiles: '画像ファイルを選ぶ',\n
    \       maximumFileSize: 'Maximum file size',\n        maximumFileSizeError: 'Maximum
    file size exceeded.',\n        url: 'URLから画像を挿入する',\n        remove: '画像を削除する',\n
    \       original: 'Original'\n      },\n      video: {\n        video: '動画',\n
    \       videoLink: '動画リンク',\n        insert: '動画挿入',\n        url: '動画のURL',\n
    \       providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion, Youku)'\n      },\n
    \     link: {\n        link: 'リンク',\n        insert: 'リンク挿入',\n        unlink:
    'リンク解除',\n        edit: '編集',\n        textToDisplay: 'リンク文字列',\n        url:
    'URLを入力してください',\n        openInNewWindow: '新しいウィンドウで開く'\n      },\n      table:
    {\n        table: 'テーブル',\n        addRowAbove: '行を上に追加',\n        addRowBelow:
    '行を下に追加',\n        addColLeft: '列を左に追加',\n        addColRight: '列を右に追加',\n        delRow:
    '行を削除',\n        delCol: '列を削除',\n        delTable: 'テーブルを削除'\n      },\n      hr:
    {\n        insert: '水平線の挿入'\n      },\n      style: {\n        style: 'スタイル',\n
    \       p: '標準',\n        blockquote: '引用',\n        pre: 'コード',\n        h1:
    '見出し1',\n        h2: '見出し2',\n        h3: '見出し3',\n        h4: '見出し4',\n        h5:
    '見出し5',\n        h6: '見出し6'\n      },\n      lists: {\n        unordered: '通常リスト',\n
    \       ordered: '番号リスト'\n      },\n      options: {\n        help: 'ヘルプ',\n        fullscreen:
    'フルスクリーン',\n        codeview: 'コード表示'\n      },\n      paragraph: {\n        paragraph:
    '文章',\n        outdent: '字上げ',\n        indent: '字下げ',\n        left: '左寄せ',\n
    \       center: '中央寄せ',\n        right: '右寄せ',\n        justify: '均等割付'\n      },\n
    \     color: {\n        recent: '現在の色',\n        more: 'もっと見る',\n        background:
    '背景色',\n        foreground: '文字色',\n        transparent: '透明',\n        setTransparent:
    '透明にする',\n        reset: '標準',\n        resetToDefault: '標準に戻す'\n      },\n      shortcut:
    {\n        shortcuts: 'ショートカット',\n        close: '閉じる',\n        textFormatting:
    '文字フォーマット',\n        action: 'アクション',\n        paragraphFormatting: '文章フォーマット',\n
    \       documentStyle: 'ドキュメント形式',\n        extraKeys: 'Extra keys'\n      },\n
    \     help: {\n        'insertParagraph': '改行挿入',\n        'undo': '一旦、行った操作を戻す',\n
    \       'redo': '最後のコマンドをやり直す',\n        'tab': 'Tab',\n        'untab': 'タブ戻し',\n
    \       'bold': '太文字',\n        'italic': '斜体',\n        'underline': '下線',\n
    \       'strikethrough': '取り消し線',\n        'removeFormat': '装飾を戻す',\n        'justifyLeft':
    '左寄せ',\n        'justifyCenter': '真ん中寄せ',\n        'justifyRight': '右寄せ',\n        'justifyFull':
    'すべてを整列',\n        'insertUnorderedList': '行頭に●を挿入',\n        'insertOrderedList':
    '行頭に番号を挿入',\n        'outdent': '字下げを戻す（アウトデント）',\n        'indent': '字下げする（インデント）',\n
    \       'formatPara': '段落(P tag)指定',\n        'formatH1': 'H1指定',\n        'formatH2':
    'H2指定',\n        'formatH3': 'H3指定',\n        'formatH4': 'H4指定',\n        'formatH5':
    'H5指定',\n        'formatH6': 'H6指定',\n        'insertHorizontalRule': '&lt;hr
    /&gt;を挿入',\n        'linkDialog.show': 'リンク挿入'\n      },\n      history: {\n        undo:
    '元に戻す',\n        redo: 'やり直す'\n      },\n      specialChar: {\n        specialChar:
    'SPECIAL CHARACTERS',\n        select: 'Select Special characters'\n      }\n
    \   }\n  });\n})(jQuery);\n\n/***/ })\n\n/******/ });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-ja-JP.min.js: |-
    /*! For license information please see summernote-ja-JP.min.js.LICENSE.txt */
    !function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(window,(function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=26)}({26:function(e,t){var r;(r=jQuery).extend(r.summernote.lang,{"ja-JP":{font:{bold:"太字",italic:"斜体",underline:"下線",clear:"クリア",height:"文字高",name:"フォント",strikethrough:"取り消し線",subscript:"Subscript",superscript:"Superscript",size:"大きさ"},image:{image:"画像",insert:"画像挿入",resizeFull:"最大化",resizeHalf:"1/2",resizeQuarter:"1/4",floatLeft:"左寄せ",floatRight:"右寄せ",floatNone:"寄せ解除",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"ここに画像をドラッグしてください",dropImage:"Drop image or Text",selectFromFiles:"画像ファイルを選ぶ",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URLから画像を挿入する",remove:"画像を削除する",original:"Original"},video:{video:"動画",videoLink:"動画リンク",insert:"動画挿入",url:"動画のURL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion, Youku)"},link:{link:"リンク",insert:"リンク挿入",unlink:"リンク解除",edit:"編集",textToDisplay:"リンク文字列",url:"URLを入力してください",openInNewWindow:"新しいウィンドウで開く"},table:{table:"テーブル",addRowAbove:"行を上に追加",addRowBelow:"行を下に追加",addColLeft:"列を左に追加",addColRight:"列を右に追加",delRow:"行を削除",delCol:"列を削除",delTable:"テーブルを削除"},hr:{insert:"水平線の挿入"},style:{style:"スタイル",p:"標準",blockquote:"引用",pre:"コード",h1:"見出し1",h2:"見出し2",h3:"見出し3",h4:"見出し4",h5:"見出し5",h6:"見出し6"},lists:{unordered:"通常リスト",ordered:"番号リスト"},options:{help:"ヘルプ",fullscreen:"フルスクリーン",codeview:"コード表示"},paragraph:{paragraph:"文章",outdent:"字上げ",indent:"字下げ",left:"左寄せ",center:"中央寄せ",right:"右寄せ",justify:"均等割付"},color:{recent:"現在の色",more:"もっと見る",background:"背景色",foreground:"文字色",transparent:"透明",setTransparent:"透明にする",reset:"標準",resetToDefault:"標準に戻す"},shortcut:{shortcuts:"ショートカット",close:"閉じる",textFormatting:"文字フォーマット",action:"アクション",paragraphFormatting:"文章フォーマット",documentStyle:"ドキュメント形式",extraKeys:"Extra keys"},help:{insertParagraph:"改行挿入",undo:"一旦、行った操作を戻す",redo:"最後のコマンドをやり直す",tab:"Tab",untab:"タブ戻し",bold:"太文字",italic:"斜体",underline:"下線",strikethrough:"取り消し線",removeFormat:"装飾を戻す",justifyLeft:"左寄せ",justifyCenter:"真ん中寄せ",justifyRight:"右寄せ",justifyFull:"すべてを整列",insertUnorderedList:"行頭に●を挿入",insertOrderedList:"行頭に番号を挿入",outdent:"字下げを戻す（アウトデント）",indent:"字下げする（インデント）",formatPara:"段落(P tag)指定",formatH1:"H1指定",formatH2:"H2指定",formatH3:"H3指定",formatH4:"H4指定",formatH5:"H5指定",formatH6:"H6指定",insertHorizontalRule:"&lt;hr /&gt;を挿入","linkDialog.show":"リンク挿入"},history:{undo:"元に戻す",redo:"やり直す"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}})}));
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-ja-JP.min.js.LICENSE.txt: |
    /*! Summernote v0.8.18 | (c) 2013- Alan Hong and other contributors | MIT license */
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-ko-KR.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 27);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 27:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'ko-KR': {\n      font: {\n        bold: '굵게',\n        italic: '기울임꼴',\n
    \       underline: '밑줄',\n        clear: '서식 지우기',\n        height: '줄 간격',\n
    \       name: '글꼴',\n        superscript: '위 첨자',\n        subscript: '아래 첨자',\n
    \       strikethrough: '취소선',\n        size: '글자 크기'\n      },\n      image: {\n
    \       image: '그림',\n        insert: '그림 삽입',\n        resizeFull: '100% 크기로
    변경',\n        resizeHalf: '50% 크기로 변경',\n        resizeQuarter: '25% 크기로 변경',\n
    \       resizeNone: '원본 크기',\n        floatLeft: '왼쪽 정렬',\n        floatRight:
    '오른쪽 정렬',\n        floatNone: '정렬하지 않음',\n        shapeRounded: '스타일: 둥근 모서리',\n
    \       shapeCircle: '스타일: 원형',\n        shapeThumbnail: '스타일: 액자',\n        shapeNone:
    '스타일: 없음',\n        dragImageHere: '텍스트 혹은 사진을 이곳으로 끌어오세요',\n        dropImage:
    '텍스트 혹은 사진을 내려놓으세요',\n        selectFromFiles: '파일 선택',\n        maximumFileSize:
    '최대 파일 크기',\n        maximumFileSizeError: '최대 파일 크기를 초과했습니다.',\n        url:
    '사진 URL',\n        remove: '사진 삭제',\n        original: '원본'\n      },\n      video:
    {\n        video: '동영상',\n        videoLink: '동영상 링크',\n        insert: '동영상 삽입',\n
    \       url: '동영상 URL',\n        providers: '(YouTube, Vimeo, Vine, Instagram,
    DailyMotion, Youku 사용 가능)'\n      },\n      link: {\n        link: '링크',\n        insert:
    '링크 삽입',\n        unlink: '링크 삭제',\n        edit: '수정',\n        textToDisplay:
    '링크에 표시할 내용',\n        url: '이동할 URL',\n        openInNewWindow: '새창으로 열기'\n      },\n
    \     table: {\n        table: '표',\n        addRowAbove: '위에 행 삽입',\n        addRowBelow:
    '아래에 행 삽입',\n        addColLeft: '왼쪽에 열 삽입',\n        addColRight: '오른쪽에 열 삽입',\n
    \       delRow: '행 지우기',\n        delCol: '열 지우기',\n        delTable: '표 삭제'\n
    \     },\n      hr: {\n        insert: '구분선 삽입'\n      },\n      style: {\n        style:
    '스타일',\n        p: '본문',\n        blockquote: '인용구',\n        pre: '코드',\n        h1:
    '제목 1',\n        h2: '제목 2',\n        h3: '제목 3',\n        h4: '제목 4',\n        h5:
    '제목 5',\n        h6: '제목 6'\n      },\n      lists: {\n        unordered: '글머리
    기호',\n        ordered: '번호 매기기'\n      },\n      options: {\n        help: '도움말',\n
    \       fullscreen: '전체 화면',\n        codeview: '코드 보기'\n      },\n      paragraph:
    {\n        paragraph: '문단 정렬',\n        outdent: '내어쓰기',\n        indent: '들여쓰기',\n
    \       left: '왼쪽 정렬',\n        center: '가운데 정렬',\n        right: '오른쪽 정렬',\n
    \       justify: '양쪽 정렬'\n      },\n      color: {\n        recent: '마지막으로 사용한
    색',\n        more: '다른 색 선택',\n        background: '배경색',\n        foreground:
    '글자색',\n        transparent: '투명',\n        setTransparent: '투명으로 설정',\n        reset:
    '취소',\n        resetToDefault: '기본값으로 설정',\n        cpSelect: '고르다'\n      },\n
    \     shortcut: {\n        shortcuts: '키보드 단축키',\n        close: '닫기',\n        textFormatting:
    '글자 스타일 적용',\n        action: '기능',\n        paragraphFormatting: '문단 스타일 적용',\n
    \       documentStyle: '문서 스타일 적용',\n        extraKeys: '추가 키'\n      },\n      help:
    {\n        'insertParagraph': '문단 삽입',\n        'undo': '마지막 명령 취소',\n        'redo':
    '마지막 명령 재실행',\n        'tab': '탭',\n        'untab': '탭 제거',\n        'bold':
    '굵은 글자로 설정',\n        'italic': '기울임꼴 글자로 설정',\n        'underline': '밑줄 글자로 설정',\n
    \       'strikethrough': '취소선 글자로 설정',\n        'removeFormat': '서식 삭제',\n        'justifyLeft':
    '왼쪽 정렬하기',\n        'justifyCenter': '가운데 정렬하기',\n        'justifyRight': '오른쪽
    정렬하기',\n        'justifyFull': '좌우채움 정렬하기',\n        'insertUnorderedList': '글머리
    기호 켜고 끄기',\n        'insertOrderedList': '번호 매기기 켜고 끄기',\n        'outdent': '현재
    문단 내어쓰기',\n        'indent': '현재 문단 들여쓰기',\n        'formatPara': '현재 블록의 포맷을
    문단(P)으로 변경',\n        'formatH1': '현재 블록의 포맷을 제목1(H1)로 변경',\n        'formatH2':
    '현재 블록의 포맷을 제목2(H2)로 변경',\n        'formatH3': '현재 블록의 포맷을 제목3(H3)로 변경',\n        'formatH4':
    '현재 블록의 포맷을 제목4(H4)로 변경',\n        'formatH5': '현재 블록의 포맷을 제목5(H5)로 변경',\n        'formatH6':
    '현재 블록의 포맷을 제목6(H6)로 변경',\n        'insertHorizontalRule': '구분선 삽입',\n        'linkDialog.show':
    '링크 대화상자 열기'\n      },\n      history: {\n        undo: '실행 취소',\n        redo:
    '재실행'\n      },\n      specialChar: {\n        specialChar: '특수문자',\n        select:
    '특수문자를 선택하세요'\n      }\n    }\n  });\n})(jQuery);\n\n/***/ })\n\n/******/ });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-lt-LV.min.js.LICENSE.txt: |
    /*! Summernote v0.8.18 | (c) 2013- Alan Hong and other contributors | MIT license */
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-pt-BR.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 34);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 34:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'pt-BR': {\n      font: {\n        bold: 'Negrito',\n        italic: 'Itálico',\n
    \       underline: 'Sublinhado',\n        clear: 'Remover estilo da fonte',\n
    \       height: 'Altura da linha',\n        name: 'Fonte',\n        strikethrough:
    'Riscado',\n        subscript: 'Subscrito',\n        superscript: 'Sobrescrito',\n
    \       size: 'Tamanho da fonte'\n      },\n      image: {\n        image: 'Imagem',\n
    \       insert: 'Inserir imagem',\n        resizeFull: 'Redimensionar Completamente',\n
    \       resizeHalf: 'Redimensionar pela Metade',\n        resizeQuarter: 'Redimensionar
    a um Quarto',\n        floatLeft: 'Flutuar para Esquerda',\n        floatRight:
    'Flutuar para Direita',\n        floatNone: 'Não Flutuar',\n        shapeRounded:
    'Forma: Arredondado',\n        shapeCircle: 'Forma: Círculo',\n        shapeThumbnail:
    'Forma: Miniatura',\n        shapeNone: 'Forma: Nenhum',\n        dragImageHere:
    'Arraste Imagem ou Texto para cá',\n        dropImage: 'Solte Imagem ou Texto',\n
    \       selectFromFiles: 'Selecione a partir dos arquivos',\n        maximumFileSize:
    'Tamanho máximo do arquivo',\n        maximumFileSizeError: 'Tamanho máximo do
    arquivo excedido.',\n        url: 'URL da imagem',\n        remove: 'Remover Imagem',\n
    \       original: 'Original'\n      },\n      video: {\n        video: 'Vídeo',\n
    \       videoLink: 'Link para vídeo',\n        insert: 'Inserir vídeo',\n        url:
    'URL do vídeo?',\n        providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion
    ou Youku)'\n      },\n      link: {\n        link: 'Link',\n        insert: 'Inserir
    link',\n        unlink: 'Remover link',\n        edit: 'Editar',\n        textToDisplay:
    'Texto para exibir',\n        url: 'Para qual URL este link leva?',\n        openInNewWindow:
    'Abrir em uma nova janela'\n      },\n      table: {\n        table: 'Tabela',\n
    \       addRowAbove: 'Adicionar linha acima',\n        addRowBelow: 'Adicionar
    linha abaixo',\n        addColLeft: 'Adicionar coluna à esquerda',\n        addColRight:
    'Adicionar coluna à direita',\n        delRow: 'Excluir linha',\n        delCol:
    'Excluir coluna',\n        delTable: 'Excluir tabela'\n      },\n      hr: {\n
    \       insert: 'Linha horizontal'\n      },\n      style: {\n        style: 'Estilo',\n
    \       p: 'Normal',\n        blockquote: 'Citação',\n        pre: 'Código',\n
    \       h1: 'Título 1',\n        h2: 'Título 2',\n        h3: 'Título 3',\n        h4:
    'Título 4',\n        h5: 'Título 5',\n        h6: 'Título 6'\n      },\n      lists:
    {\n        unordered: 'Lista com marcadores',\n        ordered: 'Lista numerada'\n
    \     },\n      options: {\n        help: 'Ajuda',\n        fullscreen: 'Tela
    cheia',\n        codeview: 'Ver código-fonte'\n      },\n      paragraph: {\n
    \       paragraph: 'Parágrafo',\n        outdent: 'Menor tabulação',\n        indent:
    'Maior tabulação',\n        left: 'Alinhar à esquerda',\n        center: 'Alinhar
    ao centro',\n        right: 'Alinha à direita',\n        justify: 'Justificado'\n
    \     },\n      color: {\n        recent: 'Cor recente',\n        more: 'Mais
    cores',\n        background: 'Fundo',\n        foreground: 'Fonte',\n        transparent:
    'Transparente',\n        setTransparent: 'Fundo transparente',\n        reset:
    'Restaurar',\n        resetToDefault: 'Restaurar padrão',\n        cpSelect: 'Selecionar'\n
    \     },\n      shortcut: {\n        shortcuts: 'Atalhos do teclado',\n        close:
    'Fechar',\n        textFormatting: 'Formatação de texto',\n        action: 'Ação',\n
    \       paragraphFormatting: 'Formatação de parágrafo',\n        documentStyle:
    'Estilo de documento',\n        extraKeys: 'Extra keys'\n      },\n      help:
    {\n        'insertParagraph': 'Inserir Parágrafo',\n        'undo': 'Desfazer
    o último comando',\n        'redo': 'Refazer o último comando',\n        'tab':
    'Tab',\n        'untab': 'Desfazer tab',\n        'bold': 'Colocar em negrito',\n
    \       'italic': 'Colocar em itálico',\n        'underline': 'Sublinhado',\n
    \       'strikethrough': 'Tachado',\n        'removeFormat': 'Remover estilo',\n
    \       'justifyLeft': 'Alinhar à esquerda',\n        'justifyCenter': 'Centralizar',\n
    \       'justifyRight': 'Alinhar à esquerda',\n        'justifyFull': 'Justificar',\n
    \       'insertUnorderedList': 'Lista não ordenada',\n        'insertOrderedList':
    'Lista ordenada',\n        'outdent': 'Recuar parágrafo atual',\n        'indent':
    'Avançar parágrafo atual',\n        'formatPara': 'Alterar formato do bloco para
    parágrafo(tag P)',\n        'formatH1': 'Alterar formato do bloco para H1',\n
    \       'formatH2': 'Alterar formato do bloco para H2',\n        'formatH3': 'Alterar
    formato do bloco para H3',\n        'formatH4': 'Alterar formato do bloco para
    H4',\n        'formatH5': 'Alterar formato do bloco para H5',\n        'formatH6':
    'Alterar formato do bloco para H6',\n        'insertHorizontalRule': 'Inserir
    Régua horizontal',\n        'linkDialog.show': 'Inserir um Hiperlink'\n      },\n
    \     history: {\n        undo: 'Desfazer',\n        redo: 'Refazer'\n      },\n
    \     specialChar: {\n        specialChar: 'CARACTERES ESPECIAIS',\n        select:
    'Selecionar Caracteres Especiais'\n      }\n    }\n  });\n})(jQuery);\n\n/***/
    })\n\n/******/ });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-pt-BR.min.js: |-
    /*! For license information please see summernote-pt-BR.min.js.LICENSE.txt */
    !function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var a=r();for(var o in a)("object"==typeof exports?exports:e)[o]=a[o]}}(window,(function(){return function(e){var r={};function a(o){if(r[o])return r[o].exports;var t=r[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,a),t.l=!0,t.exports}return a.m=e,a.c=r,a.d=function(e,r,o){a.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,r){if(1&r&&(e=a(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var t in e)a.d(o,t,function(r){return e[r]}.bind(null,t));return o},a.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(r,"a",r),r},a.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},a.p="",a(a.s=34)}({34:function(e,r){var a;(a=jQuery).extend(a.summernote.lang,{"pt-BR":{font:{bold:"Negrito",italic:"Itálico",underline:"Sublinhado",clear:"Remover estilo da fonte",height:"Altura da linha",name:"Fonte",strikethrough:"Riscado",subscript:"Subscrito",superscript:"Sobrescrito",size:"Tamanho da fonte"},image:{image:"Imagem",insert:"Inserir imagem",resizeFull:"Redimensionar Completamente",resizeHalf:"Redimensionar pela Metade",resizeQuarter:"Redimensionar a um Quarto",floatLeft:"Flutuar para Esquerda",floatRight:"Flutuar para Direita",floatNone:"Não Flutuar",shapeRounded:"Forma: Arredondado",shapeCircle:"Forma: Círculo",shapeThumbnail:"Forma: Miniatura",shapeNone:"Forma: Nenhum",dragImageHere:"Arraste Imagem ou Texto para cá",dropImage:"Solte Imagem ou Texto",selectFromFiles:"Selecione a partir dos arquivos",maximumFileSize:"Tamanho máximo do arquivo",maximumFileSizeError:"Tamanho máximo do arquivo excedido.",url:"URL da imagem",remove:"Remover Imagem",original:"Original"},video:{video:"Vídeo",videoLink:"Link para vídeo",insert:"Inserir vídeo",url:"URL do vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ou Youku)"},link:{link:"Link",insert:"Inserir link",unlink:"Remover link",edit:"Editar",textToDisplay:"Texto para exibir",url:"Para qual URL este link leva?",openInNewWindow:"Abrir em uma nova janela"},table:{table:"Tabela",addRowAbove:"Adicionar linha acima",addRowBelow:"Adicionar linha abaixo",addColLeft:"Adicionar coluna à esquerda",addColRight:"Adicionar coluna à direita",delRow:"Excluir linha",delCol:"Excluir coluna",delTable:"Excluir tabela"},hr:{insert:"Linha horizontal"},style:{style:"Estilo",p:"Normal",blockquote:"Citação",pre:"Código",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6"},lists:{unordered:"Lista com marcadores",ordered:"Lista numerada"},options:{help:"Ajuda",fullscreen:"Tela cheia",codeview:"Ver código-fonte"},paragraph:{paragraph:"Parágrafo",outdent:"Menor tabulação",indent:"Maior tabulação",left:"Alinhar à esquerda",center:"Alinhar ao centro",right:"Alinha à direita",justify:"Justificado"},color:{recent:"Cor recente",more:"Mais cores",background:"Fundo",foreground:"Fonte",transparent:"Transparente",setTransparent:"Fundo transparente",reset:"Restaurar",resetToDefault:"Restaurar padrão",cpSelect:"Selecionar"},shortcut:{shortcuts:"Atalhos do teclado",close:"Fechar",textFormatting:"Formatação de texto",action:"Ação",paragraphFormatting:"Formatação de parágrafo",documentStyle:"Estilo de documento",extraKeys:"Extra keys"},help:{insertParagraph:"Inserir Parágrafo",undo:"Desfazer o último comando",redo:"Refazer o último comando",tab:"Tab",untab:"Desfazer tab",bold:"Colocar em negrito",italic:"Colocar em itálico",underline:"Sublinhado",strikethrough:"Tachado",removeFormat:"Remover estilo",justifyLeft:"Alinhar à esquerda",justifyCenter:"Centralizar",justifyRight:"Alinhar à esquerda",justifyFull:"Justificar",insertUnorderedList:"Lista não ordenada",insertOrderedList:"Lista ordenada",outdent:"Recuar parágrafo atual",indent:"Avançar parágrafo atual",formatPara:"Alterar formato do bloco para parágrafo(tag P)",formatH1:"Alterar formato do bloco para H1",formatH2:"Alterar formato do bloco para H2",formatH3:"Alterar formato do bloco para H3",formatH4:"Alterar formato do bloco para H4",formatH5:"Alterar formato do bloco para H5",formatH6:"Alterar formato do bloco para H6",insertHorizontalRule:"Inserir Régua horizontal","linkDialog.show":"Inserir um Hiperlink"},history:{undo:"Desfazer",redo:"Refazer"},specialChar:{specialChar:"CARACTERES ESPECIAIS",select:"Selecionar Caracteres Especiais"}}})}})}));
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-pt-BR.min.js.LICENSE.txt: |
    /*! Summernote v0.8.18 | (c) 2013- Alan Hong and other contributors | MIT license */
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-pt-PT.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 35);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 35:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'pt-PT': {\n      font: {\n        bold: 'Negrito',\n        italic: 'Itálico',\n
    \       underline: 'Sublinhado',\n        clear: 'Remover estilo da fonte',\n
    \       height: 'Altura da linha',\n        name: 'Fonte',\n        strikethrough:
    'Riscado',\n        subscript: 'Subscript',\n        superscript: 'Superscript',\n
    \       size: 'Tamanho da fonte'\n      },\n      image: {\n        image: 'Imagem',\n
    \       insert: 'Inserir imagem',\n        resizeFull: 'Redimensionar Completo',\n
    \       resizeHalf: 'Redimensionar Metade',\n        resizeQuarter: 'Redimensionar
    Um Quarto',\n        floatLeft: 'Float Esquerda',\n        floatRight: 'Float
    Direita',\n        floatNone: 'Sem Float',\n        shapeRounded: 'Forma: Arredondado',\n
    \       shapeCircle: 'Forma: Círculo',\n        shapeThumbnail: 'Forma: Minhatura',\n
    \       shapeNone: 'Forma: Nenhum',\n        dragImageHere: 'Arraste uma imagem
    para aqui',\n        dropImage: 'Arraste uma imagem ou texto',\n        selectFromFiles:
    'Selecione a partir dos arquivos',\n        maximumFileSize: 'Tamanho máximo do
    fixeiro',\n        maximumFileSizeError: 'Tamanho máximo do fixeiro é maior que
    o permitido.',\n        url: 'Endereço da imagem',\n        remove: 'Remover Imagem',\n
    \       original: 'Original'\n      },\n      video: {\n        video: 'Vídeo',\n
    \       videoLink: 'Link para vídeo',\n        insert: 'Inserir vídeo',\n        url:
    'URL do vídeo?',\n        providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion
    ou Youku)'\n      },\n      link: {\n        link: 'Link',\n        insert: 'Inserir
    ligação',\n        unlink: 'Remover ligação',\n        edit: 'Editar',\n        textToDisplay:
    'Texto para exibir',\n        url: 'Que endereço esta licação leva?',\n        openInNewWindow:
    'Abrir numa nova janela'\n      },\n      table: {\n        table: 'Tabela',\n
    \       addRowAbove: 'Adicionar linha acima',\n        addRowBelow: 'Adicionar
    linha abaixo',\n        addColLeft: 'Adicionar coluna à Esquerda',\n        addColRight:
    'Adicionar coluna à Esquerda',\n        delRow: 'Excluir linha',\n        delCol:
    'Excluir coluna',\n        delTable: 'Excluir tabela'\n      },\n      hr: {\n
    \       insert: 'Inserir linha horizontal'\n      },\n      style: {\n        style:
    'Estilo',\n        p: 'Parágrafo',\n        blockquote: 'Citação',\n        pre:
    'Código',\n        h1: 'Título 1',\n        h2: 'Título 2',\n        h3: 'Título
    3',\n        h4: 'Título 4',\n        h5: 'Título 5',\n        h6: 'Título 6'\n
    \     },\n      lists: {\n        unordered: 'Lista com marcadores',\n        ordered:
    'Lista numerada'\n      },\n      options: {\n        help: 'Ajuda',\n        fullscreen:
    'Janela Completa',\n        codeview: 'Ver código-fonte'\n      },\n      paragraph:
    {\n        paragraph: 'Parágrafo',\n        outdent: 'Menor tabulação',\n        indent:
    'Maior tabulação',\n        left: 'Alinhar à esquerda',\n        center: 'Alinhar
    ao centro',\n        right: 'Alinha à direita',\n        justify: 'Justificado'\n
    \     },\n      color: {\n        recent: 'Cor recente',\n        more: 'Mais
    cores',\n        background: 'Fundo',\n        foreground: 'Fonte',\n        transparent:
    'Transparente',\n        setTransparent: 'Fundo transparente',\n        reset:
    'Restaurar',\n        resetToDefault: 'Restaurar padrão',\n        cpSelect: 'Selecionar'\n
    \     },\n      shortcut: {\n        shortcuts: 'Atalhos do teclado',\n        close:
    'Fechar',\n        textFormatting: 'Formatação de texto',\n        action: 'Ação',\n
    \       paragraphFormatting: 'Formatação de parágrafo',\n        documentStyle:
    'Estilo de documento'\n      },\n      help: {\n        'insertParagraph': 'Inserir
    Parágrafo',\n        'undo': 'Desfazer o último comando',\n        'redo': 'Refazer
    o último comando',\n        'tab': 'Maior tabulação',\n        'untab': 'Menor
    tabulação',\n        'bold': 'Colocar em negrito',\n        'italic': 'Colocar
    em itálico',\n        'underline': 'Colocar em sublinhado',\n        'strikethrough':
    'Colocar em riscado',\n        'removeFormat': 'Limpar o estilo',\n        'justifyLeft':
    'Definir alinhado à esquerda',\n        'justifyCenter': 'Definir alinhado ao
    centro',\n        'justifyRight': 'Definir alinhado à direita',\n        'justifyFull':
    'Definir justificado',\n        'insertUnorderedList': 'Alternar lista não ordenada',\n
    \       'insertOrderedList': 'Alternar lista ordenada',\n        'outdent': 'Recuar
    parágrafo atual',\n        'indent': 'Avançar parágrafo atual',\n        'formatPara':
    'Alterar formato do bloco para parágrafo',\n        'formatH1': 'Alterar formato
    do bloco para Título 1',\n        'formatH2': 'Alterar formato do bloco para Título
    2',\n        'formatH3': 'Alterar formato do bloco para Título 3',\n        'formatH4':
    'Alterar formato do bloco para Título 4',\n        'formatH5': 'Alterar formato
    do bloco para Título 5',\n        'formatH6': 'Alterar formato do bloco para Título
    6',\n        'insertHorizontalRule': 'Inserir linha horizontal',\n        'linkDialog.show':
    'Inserir uma ligração'\n      },\n      history: {\n        undo: 'Desfazer',\n
    \       redo: 'Refazer'\n      },\n      specialChar: {\n        specialChar:
    'SPECIAL CHARACTERS',\n        select: 'Select Special characters'\n      }\n
    \   }\n  });\n})(jQuery);\n\n/***/ })\n\n/******/ });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-ro-RO.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 36);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 36:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'ro-RO': {\n      font: {\n        bold: 'Îngroșat',\n        italic: 'Înclinat',\n
    \       underline: 'Subliniat',\n        clear: 'Înlătură formatare font',\n        height:
    'Înălțime rând',\n        name: 'Familie de fonturi',\n        strikethrough:
    'Tăiat',\n        subscript: 'Indice',\n        superscript: 'Exponent',\n        size:
    'Dimensiune font'\n      },\n      image: {\n        image: 'Imagine',\n        insert:
    'Inserează imagine',\n        resizeFull: 'Redimensionează complet',\n        resizeHalf:
    'Redimensionează 1/2',\n        resizeQuarter: 'Redimensionează 1/4',\n        floatLeft:
    'Aliniere la stânga',\n        floatRight: 'Aliniere la dreapta',\n        floatNone:
    'Fară aliniere',\n        shapeRounded: 'Formă: Rotund',\n        shapeCircle:
    'Formă: Cerc',\n        shapeThumbnail: 'Formă: Pictogramă',\n        shapeNone:
    'Formă: Nici una',\n        dragImageHere: 'Trage o imagine sau un text aici',\n
    \       dropImage: 'Eliberează imaginea sau textul',\n        selectFromFiles:
    'Alege din fişiere',\n        maximumFileSize: 'Dimensiune maximă fișier',\n        maximumFileSizeError:
    'Dimensiune maximă fișier depășită.',\n        url: 'URL imagine',\n        remove:
    'Șterge imagine',\n        original: 'Original'\n      },\n      video: {\n        video:
    'Video',\n        videoLink: 'Link video',\n        insert: 'Inserează video',\n
    \       url: 'URL video?',\n        providers: '(YouTube, Vimeo, Vine, Instagram,
    DailyMotion sau Youku)'\n      },\n      link: {\n        link: 'Link',\n        insert:
    'Inserează link',\n        unlink: 'Înlătură link',\n        edit: 'Editează',\n
    \       textToDisplay: 'Text ce va fi afişat',\n        url: 'La ce adresă URL
    trebuie să conducă acest link?',\n        openInNewWindow: 'Deschidere în fereastră
    nouă'\n      },\n      table: {\n        table: 'Tabel',\n        addRowAbove:
    'Adaugă rând deasupra',\n        addRowBelow: 'Adaugă rând dedesubt',\n        addColLeft:
    'Adaugă coloană stânga',\n        addColRight: 'Adaugă coloană dreapta',\n        delRow:
    'Șterge rând',\n        delCol: 'Șterge coloană',\n        delTable: 'Șterge tabel'\n
    \     },\n      hr: {\n        insert: 'Inserează o linie orizontală'\n      },\n
    \     style: {\n        style: 'Stil',\n        p: 'p',\n        blockquote: 'Citat',\n
    \       pre: 'Preformatat',\n        h1: 'Titlu 1',\n        h2: 'Titlu 2',\n
    \       h3: 'Titlu 3',\n        h4: 'Titlu 4',\n        h5: 'Titlu 5',\n        h6:
    'Titlu 6'\n      },\n      lists: {\n        unordered: 'Listă neordonată',\n
    \       ordered: 'Listă ordonată'\n      },\n      options: {\n        help: 'Ajutor',\n
    \       fullscreen: 'Măreşte',\n        codeview: 'Sursă'\n      },\n      paragraph:
    {\n        paragraph: 'Paragraf',\n        outdent: 'Creşte identarea',\n        indent:
    'Scade identarea',\n        left: 'Aliniere la stânga',\n        center: 'Aliniere
    centrală',\n        right: 'Aliniere la dreapta',\n        justify: 'Aliniere
    în bloc'\n      },\n      color: {\n        recent: 'Culoare recentă',\n        more:
    'Mai multe  culori',\n        background: 'Culoarea fundalului',\n        foreground:
    'Culoarea textului',\n        transparent: 'Transparent',\n        setTransparent:
    'Setează transparent',\n        reset: 'Resetează',\n        resetToDefault: 'Revino
    la iniţial'\n      },\n      shortcut: {\n        shortcuts: 'Scurtături tastatură',\n
    \       close: 'Închide',\n        textFormatting: 'Formatare text',\n        action:
    'Acţiuni',\n        paragraphFormatting: 'Formatare paragraf',\n        documentStyle:
    'Stil paragraf',\n        extraKeys: 'Taste extra'\n      },\n      help: {\n
    \       'insertParagraph': 'Inserează paragraf',\n        'undo': 'Revine la starea
    anterioară',\n        'redo': 'Revine la starea ulterioară',\n        'tab': 'Tab',\n
    \       'untab': 'Untab',\n        'bold': 'Setează stil îngroșat',\n        'italic':
    'Setează stil înclinat',\n        'underline': 'Setează stil subliniat',\n        'strikethrough':
    'Setează stil tăiat',\n        'removeFormat': 'Înlătură formatare',\n        'justifyLeft':
    'Setează aliniere stânga',\n        'justifyCenter': 'Setează aliniere centru',\n
    \       'justifyRight': 'Setează aliniere dreapta',\n        'justifyFull': 'Setează
    aliniere bloc',\n        'insertUnorderedList': 'Comutare listă neordinată',\n
    \       'insertOrderedList': 'Comutare listă ordonată',\n        'outdent': 'Înlătură
    indentare paragraf curent',\n        'indent': 'Adaugă indentare paragraf curent',\n
    \       'formatPara': 'Schimbă formatarea selecției în paragraf',\n        'formatH1':
    'Schimbă formatarea selecției în H1',\n        'formatH2': 'Schimbă formatarea
    selecției în H2',\n        'formatH3': 'Schimbă formatarea selecției în H3',\n
    \       'formatH4': 'Schimbă formatarea selecției în H4',\n        'formatH5':
    'Schimbă formatarea selecției în H5',\n        'formatH6': 'Schimbă formatarea
    selecției în H6',\n        'insertHorizontalRule': 'Adaugă linie orizontală',\n
    \       'linkDialog.show': 'Inserează link'\n      },\n      history: {\n        undo:
    'Starea anterioară',\n        redo: 'Starea ulterioară'\n      },\n      specialChar:
    {\n        specialChar: 'CARACTERE SPECIALE',\n        select: 'Alege caractere
    speciale'\n      }\n    }\n  });\n})(jQuery);\n\n/***/ })\n\n/******/ });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-ro-RO.min.js.LICENSE.txt: |
    /*! Summernote v0.8.18 | (c) 2013- Alan Hong and other contributors | MIT license */
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-sk-SK.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 38);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 38:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'sk-SK': {\n      font: {\n        bold: 'Tučné',\n        italic: 'Kurzíva',\n
    \       underline: 'Podčiarknutie',\n        clear: 'Odstrániť štýl písma',\n
    \       height: 'Výška riadku',\n        strikethrough: 'Prečiarknuté',\n        subscript:
    'Subscript',\n        superscript: 'Superscript',\n        size: 'Veľkosť písma'\n
    \     },\n      image: {\n        image: 'Obrázok',\n        insert: 'Vložiť obrázok',\n
    \       resizeFull: 'Pôvodná veľkosť',\n        resizeHalf: 'Polovičná veľkosť',\n
    \       resizeQuarter: 'Štvrtinová veľkosť',\n        floatLeft: 'Umiestniť doľava',\n
    \       floatRight: 'Umiestniť doprava',\n        floatNone: 'Bez zarovnania',\n
    \       shapeRounded: 'Shape: Rounded',\n        shapeCircle: 'Shape: Circle',\n
    \       shapeThumbnail: 'Shape: Thumbnail',\n        shapeNone: 'Shape: None',\n
    \       dragImageHere: 'Pretiahnuť sem obrázok',\n        dropImage: 'Drop image
    or Text',\n        selectFromFiles: 'Vybrať súbor',\n        maximumFileSize:
    'Maximum file size',\n        maximumFileSizeError: 'Maximum file size exceeded.',\n
    \       url: 'URL obrázku',\n        remove: 'Remove Image',\n        original:
    'Original'\n      },\n      video: {\n        video: 'Video',\n        videoLink:
    'Odkaz videa',\n        insert: 'Vložiť video',\n        url: 'URL videa?',\n
    \       providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion alebo Youku)'\n
    \     },\n      link: {\n        link: 'Odkaz',\n        insert: 'Vytvoriť odkaz',\n
    \       unlink: 'Zrušiť odkaz',\n        edit: 'Upraviť',\n        textToDisplay:
    'Zobrazovaný text',\n        url: 'Na akú URL adresu má tento odkaz viesť?',\n
    \       openInNewWindow: 'Otvoriť v novom okne'\n      },\n      table: {\n        table:
    'Tabuľka',\n        addRowAbove: 'Add row above',\n        addRowBelow: 'Add row
    below',\n        addColLeft: 'Add column left',\n        addColRight: 'Add column
    right',\n        delRow: 'Delete row',\n        delCol: 'Delete column',\n        delTable:
    'Delete table'\n      },\n      hr: {\n        insert: 'Vložit vodorovnú čiaru'\n
    \     },\n      style: {\n        style: 'Štýl',\n        p: 'Normálny',\n        blockquote:
    'Citácia',\n        pre: 'Kód',\n        h1: 'Nadpis 1',\n        h2: 'Nadpis
    2',\n        h3: 'Nadpis 3',\n        h4: 'Nadpis 4',\n        h5: 'Nadpis 5',\n
    \       h6: 'Nadpis 6'\n      },\n      lists: {\n        unordered: 'Odrážkový
    zoznam',\n        ordered: 'Číselný zoznam'\n      },\n      options: {\n        help:
    'Pomoc',\n        fullscreen: 'Celá obrazovka',\n        codeview: 'HTML kód'\n
    \     },\n      paragraph: {\n        paragraph: 'Odsek',\n        outdent: 'Zväčšiť
    odsadenie',\n        indent: 'Zmenšiť odsadenie',\n        left: 'Zarovnať doľava',\n
    \       center: 'Zarovnať na stred',\n        right: 'Zarovnať doprava',\n        justify:
    'Zarovnať obojstranne'\n      },\n      color: {\n        recent: 'Aktuálna farba',\n
    \       more: 'Dalšie farby',\n        background: 'Farba pozadia',\n        foreground:
    'Farba písma',\n        transparent: 'Priehľadnosť',\n        setTransparent:
    'Nastaviť priehľadnosť',\n        reset: 'Obnoviť',\n        resetToDefault: 'Obnoviť
    prednastavené'\n      },\n      shortcut: {\n        shortcuts: 'Klávesové skratky',\n
    \       close: 'Zavrieť',\n        textFormatting: 'Formátovanie textu',\n        action:
    'Akcia',\n        paragraphFormatting: 'Formátovanie odseku',\n        documentStyle:
    'Štýl dokumentu'\n      },\n      help: {\n        'insertParagraph': 'Insert
    Paragraph',\n        'undo': 'Undoes the last command',\n        'redo': 'Redoes
    the last command',\n        'tab': 'Tab',\n        'untab': 'Untab',\n        'bold':
    'Set a bold style',\n        'italic': 'Set a italic style',\n        'underline':
    'Set a underline style',\n        'strikethrough': 'Set a strikethrough style',\n
    \       'removeFormat': 'Clean a style',\n        'justifyLeft': 'Set left align',\n
    \       'justifyCenter': 'Set center align',\n        'justifyRight': 'Set right
    align',\n        'justifyFull': 'Set full align',\n        'insertUnorderedList':
    'Toggle unordered list',\n        'insertOrderedList': 'Toggle ordered list',\n
    \       'outdent': 'Outdent on current paragraph',\n        'indent': 'Indent
    on current paragraph',\n        'formatPara': 'Change current block\\'s format
    as a paragraph(P tag)',\n        'formatH1': 'Change current block\\'s format
    as H1',\n        'formatH2': 'Change current block\\'s format as H2',\n        'formatH3':
    'Change current block\\'s format as H3',\n        'formatH4': 'Change current
    block\\'s format as H4',\n        'formatH5': 'Change current block\\'s format
    as H5',\n        'formatH6': 'Change current block\\'s format as H6',\n        'insertHorizontalRule':
    'Insert horizontal rule',\n        'linkDialog.show': 'Show Link Dialog'\n      },\n
    \     history: {\n        undo: 'Krok vzad',\n        redo: 'Krok dopredu'\n      },\n
    \     specialChar: {\n        specialChar: 'SPECIAL CHARACTERS',\n        select:
    'Select Special characters'\n      }\n    }\n  });\n})(jQuery);\n\n/***/ })\n\n/******/
    });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-sl-SI.min.js.LICENSE.txt: |
    /*! Summernote v0.8.18 | (c) 2013- Alan Hong and other contributors | MIT license */
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-sv-SE.min.js.LICENSE.txt: |
    /*! Summernote v0.8.18 | (c) 2013- Alan Hong and other contributors | MIT license */
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-ta-IN.min.js.LICENSE.txt: |
    /*! Summernote v0.8.18 | (c) 2013- Alan Hong and other contributors | MIT license */
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-th-TH.min.js: |-
    /*! For license information please see summernote-th-TH.min.js.LICENSE.txt */
    !function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=44)}({44:function(e,t){var r;(r=jQuery).extend(r.summernote.lang,{"th-TH":{font:{bold:"ตัวหนา",italic:"ตัวเอียง",underline:"ขีดเส้นใต้",clear:"ล้างรูปแบบตัวอักษร",height:"ความสูงบรรทัด",name:"แบบตัวอักษร",strikethrough:"ขีดฆ่า",subscript:"ตัวห้อย",superscript:"ตัวยก",size:"ขนาดตัวอักษร"},image:{image:"รูปภาพ",insert:"แทรกรูปภาพ",resizeFull:"ปรับขนาดเท่าจริง",resizeHalf:"ปรับขนาดลง 50%",resizeQuarter:"ปรับขนาดลง 25%",floatLeft:"ชิดซ้าย",floatRight:"ชิดขวา",floatNone:"ไม่จัดตำแหน่ง",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"ลากรูปภาพที่ต้องการไว้ที่นี่",dropImage:"วางรูปภาพหรือข้อความ",selectFromFiles:"เลือกไฟล์รูปภาพ",maximumFileSize:"ขนาดไฟล์ใหญ่สุด",maximumFileSizeError:"ไฟล์เกินขนาดที่กำหนด",url:"ที่อยู่ URL ของรูปภาพ",remove:"ลบรูปภาพ",original:"Original"},video:{video:"วีดีโอ",videoLink:"ลิงก์ของวีดีโอ",insert:"แทรกวีดีโอ",url:"ที่อยู่ URL ของวีดีโอ",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion หรือ Youku)"},link:{link:"ตัวเชื่อมโยง",insert:"แทรกตัวเชื่อมโยง",unlink:"ยกเลิกตัวเชื่อมโยง",edit:"แก้ไข",textToDisplay:"ข้อความที่ให้แสดง",url:"ที่อยู่เว็บไซต์ที่ต้องการให้เชื่อมโยงไปถึง?",openInNewWindow:"เปิดในหน้าต่างใหม่"},table:{table:"ตาราง",addRowAbove:"เพิ่มแถวด้านบน",addRowBelow:"เพิ่มแถวด้านล่าง",addColLeft:"เพิ่มคอลัมน์ด้านซ้าย",addColRight:"เพิ่มคอลัมน์ด้านขวา",delRow:"ลบแถว",delCol:"ลบคอลัมน์",delTable:"ลบตาราง"},hr:{insert:"แทรกเส้นคั่น"},style:{style:"รูปแบบ",p:"ปกติ",blockquote:"ข้อความ",pre:"โค้ด",h1:"หัวข้อ 1",h2:"หัวข้อ 2",h3:"หัวข้อ 3",h4:"หัวข้อ 4",h5:"หัวข้อ 5",h6:"หัวข้อ 6"},lists:{unordered:"รายการแบบไม่มีลำดับ",ordered:"รายการแบบมีลำดับ"},options:{help:"ช่วยเหลือ",fullscreen:"ขยายเต็มหน้าจอ",codeview:"ซอร์สโค้ด"},paragraph:{paragraph:"ย่อหน้า",outdent:"เยื้องซ้าย",indent:"เยื้องขวา",left:"จัดหน้าชิดซ้าย",center:"จัดหน้ากึ่งกลาง",right:"จัดหน้าชิดขวา",justify:"จัดบรรทัดเสมอกัน"},color:{recent:"สีที่ใช้ล่าสุด",more:"สีอื่นๆ",background:"สีพื้นหลัง",foreground:"สีพื้นหน้า",transparent:"โปร่งแสง",setTransparent:"ตั้งค่าความโปร่งแสง",reset:"คืนค่า",resetToDefault:"คืนค่ามาตรฐาน"},shortcut:{shortcuts:"แป้นลัด",close:"ปิด",textFormatting:"การจัดรูปแบบข้อความ",action:"การกระทำ",paragraphFormatting:"การจัดรูปแบบย่อหน้า",documentStyle:"รูปแบบของเอกสาร",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"ทำตัวหนา",italic:"ทำตัวเอียง",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H1",formatH2:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H2",formatH3:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H3",formatH4:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H4",formatH5:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H5",formatH6:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"เปิดหน้าแก้ไข Link"},history:{undo:"ยกเลิกการกระทำ",redo:"ทำซ้ำการกระทำ"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}})}));
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-th-TH.min.js.LICENSE.txt: |
    /*! Summernote v0.8.18 | (c) 2013- Alan Hong and other contributors | MIT license */
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-tr-TR.min.js: |-
    /*! For license information please see summernote-tr-TR.min.js.LICENSE.txt */
    !function(e,a){if("object"==typeof exports&&"object"==typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var i=a();for(var r in i)("object"==typeof exports?exports:e)[r]=i[r]}}(window,(function(){return function(e){var a={};function i(r){if(a[r])return a[r].exports;var t=a[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=e,i.c=a,i.d=function(e,a,r){i.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,a){if(1&a&&(e=i(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var t in e)i.d(r,t,function(a){return e[a]}.bind(null,t));return r},i.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(a,"a",a),a},i.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},i.p="",i(i.s=45)}({45:function(e,a){var i;(i=jQuery).extend(i.summernote.lang,{"tr-TR":{font:{bold:"Kalın",italic:"İtalik",underline:"Altı çizili",clear:"Temizle",height:"Satır yüksekliği",name:"Yazı Tipi",strikethrough:"Üstü çizili",subscript:"Alt Simge",superscript:"Üst Simge",size:"Yazı tipi boyutu"},image:{image:"Resim",insert:"Resim ekle",resizeFull:"Orjinal boyut",resizeHalf:"1/2 boyut",resizeQuarter:"1/4 boyut",floatLeft:"Sola hizala",floatRight:"Sağa hizala",floatNone:"Hizalamayı kaldır",shapeRounded:"Şekil: Yuvarlatılmış Köşe",shapeCircle:"Şekil: Daire",shapeThumbnail:"Şekil: K.Resim",shapeNone:"Şekil: Yok",dragImageHere:"Buraya sürükleyin",dropImage:"Resim veya metni bırakın",selectFromFiles:"Dosya seçin",maximumFileSize:"Maksimum dosya boyutu",maximumFileSizeError:"Maksimum dosya boyutu aşıldı.",url:"Resim bağlantısı",remove:"Resimi Kaldır",original:"Original"},video:{video:"Video",videoLink:"Video bağlantısı",insert:"Video ekle",url:"Video bağlantısı?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion veya Youku)"},link:{link:"Bağlantı",insert:"Bağlantı ekle",unlink:"Bağlantıyı kaldır",edit:"Bağlantıyı düzenle",textToDisplay:"Görüntülemek için",url:"Bağlantı adresi?",openInNewWindow:"Yeni pencerede aç"},table:{table:"Tablo",addRowAbove:"Yukarı satır ekle",addRowBelow:"Aşağı satır ekle",addColLeft:"Sola sütun ekle",addColRight:"Sağa sütun ekle",delRow:"Satırı sil",delCol:"Sütunu sil",delTable:"Tabloyu sil"},hr:{insert:"Yatay çizgi ekle"},style:{style:"Biçim",p:"p",blockquote:"Alıntı",pre:"Önbiçimli",h1:"Başlık 1",h2:"Başlık 2",h3:"Başlık 3",h4:"Başlık 4",h5:"Başlık 5",h6:"Başlık 6"},lists:{unordered:"Madde işaretli liste",ordered:"Numaralı liste"},options:{help:"Yardım",fullscreen:"Tam ekran",codeview:"HTML Kodu"},paragraph:{paragraph:"Paragraf",outdent:"Girintiyi artır",indent:"Girintiyi azalt",left:"Sola hizala",center:"Ortaya hizala",right:"Sağa hizala",justify:"Yasla"},color:{recent:"Son renk",more:"Daha fazla renk",background:"Arka plan rengi",foreground:"Yazı rengi",transparent:"Seffaflık",setTransparent:"Şeffaflığı ayarla",reset:"Sıfırla",resetToDefault:"Varsayılanlara sıfırla"},shortcut:{shortcuts:"Kısayollar",close:"Kapat",textFormatting:"Yazı biçimlendirme",action:"Eylem",paragraphFormatting:"Paragraf biçimlendirme",documentStyle:"Biçim",extraKeys:"İlave anahtarlar"},help:{insertParagraph:"Paragraf ekler",undo:"Son komudu geri alır",redo:"Son komudu yineler",tab:"Girintiyi artırır",untab:"Girintiyi azaltır",bold:"Kalın yazma stilini ayarlar",italic:"İtalik yazma stilini ayarlar",underline:"Altı çizgili yazma stilini ayarlar",strikethrough:"Üstü çizgili yazma stilini ayarlar",removeFormat:"Biçimlendirmeyi temizler",justifyLeft:"Yazıyı sola hizalar",justifyCenter:"Yazıyı ortalar",justifyRight:"Yazıyı sağa hizalar",justifyFull:"Yazıyı her iki tarafa yazlar",insertUnorderedList:"Madde işaretli liste ekler",insertOrderedList:"Numaralı liste ekler",outdent:"Aktif paragrafın girintisini azaltır",indent:"Aktif paragrafın girintisini artırır",formatPara:"Aktif bloğun biçimini paragraf (p) olarak değiştirir",formatH1:"Aktif bloğun biçimini başlık 1 (h1) olarak değiştirir",formatH2:"Aktif bloğun biçimini başlık 2 (h2) olarak değiştirir",formatH3:"Aktif bloğun biçimini başlık 3 (h3) olarak değiştirir",formatH4:"Aktif bloğun biçimini başlık 4 (h4) olarak değiştirir",formatH5:"Aktif bloğun biçimini başlık 5 (h5) olarak değiştirir",formatH6:"Aktif bloğun biçimini başlık 6 (h6) olarak değiştirir",insertHorizontalRule:"Yatay çizgi ekler","linkDialog.show":"Bağlantı ayar kutusunu gösterir"},history:{undo:"Geri al",redo:"Yinele"},specialChar:{specialChar:"ÖZEL KARAKTERLER",select:"Özel Karakterleri seçin"}}})}})}));
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-tr-TR.min.js.LICENSE.txt: |
    /*! Summernote v0.8.18 | (c) 2013- Alan Hong and other contributors | MIT license */
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-uz-UZ.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 47);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 47:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'uz-UZ': {\n      font: {\n        bold: 'қалин',\n        italic: 'Курсив',\n
    \       underline: 'Белгиланган',\n        clear: 'Ҳарф турларини олиб ташлаш',\n
    \       height: 'Чизиқ баландлиги',\n        name: 'Ҳарф',\n        strikethrough:
    'Ўчирилган',\n        subscript: 'Пастки индекс',\n        superscript: 'Юқори
    индекс',\n        size: 'ҳарф ҳажми'\n      },\n      image: {\n        image:
    'Расм',\n        insert: 'расмни қўйиш',\n        resizeFull: 'Ҳажмни тиклаш',\n
    \       resizeHalf: '50% гача кичрайтириш',\n        resizeQuarter: '25% гача
    кичрайтириш',\n        floatLeft: 'Чапда жойлаштириш',\n        floatRight: 'Ўнгда
    жойлаштириш',\n        floatNone: 'Стандарт бўйича жойлашув',\n        shapeRounded:
    'Шакли: Юмалоқ',\n        shapeCircle: 'Шакли: Доира',\n        shapeThumbnail:
    'Шакли: Миниатюра',\n        shapeNone: 'Шакли: Йўқ',\n        dragImageHere:
    'Суратни кўчириб ўтинг',\n        dropImage: 'Суратни кўчириб ўтинг',\n        selectFromFiles:
    'Файллардан бирини танлаш',\n        url: 'суратлар URL и',\n        remove: 'Суратни
    ўчириш'\n      },\n      video: {\n        video: 'Видео',\n        videoLink:
    'Видеога ҳавола',\n        insert: 'Видео',\n        url: 'URL видео',\n        providers:
    '(YouTube, Vimeo, Vine, Instagram, DailyMotion или Youku)'\n      },\n      link:
    {\n        link: 'Ҳавола',\n        insert: 'Ҳаволани қўйиш',\n        unlink:
    'Ҳаволани олиб ташлаш',\n        edit: 'Таҳрир қилиш',\n        textToDisplay:
    'Кўринадиган матн',\n        url: 'URL ўтиш учун',\n        openInNewWindow: 'Янги
    дарчада очиш'\n      },\n      table: {\n        table: 'Жадвал'\n      },\n      hr:
    {\n        insert: 'Горизонтал чизиқни қўйиш'\n      },\n      style: {\n        style:
    'Услуб',\n        p: 'Яхши',\n        blockquote: 'Жумла',\n        pre: 'Код',\n
    \       h1: 'Сарлавҳа 1',\n        h2: 'Сарлавҳа  2',\n        h3: 'Сарлавҳа  3',\n
    \       h4: 'Сарлавҳа  4',\n        h5: 'Сарлавҳа  5',\n        h6: 'Сарлавҳа
    \ 6'\n      },\n      lists: {\n        unordered: 'Белгиланган рўйҳат',\n        ordered:
    'Рақамланган рўйҳат'\n      },\n      options: {\n        help: 'Ёрдам',\n        fullscreen:
    'Бутун экран бўйича',\n        codeview: 'Бошланғич код'\n      },\n      paragraph:
    {\n        paragraph: 'Параграф',\n        outdent: 'Орқага қайтишни камайтириш',\n
    \       indent: 'Орқага қайтишни кўпайтириш',\n        left: 'Чап қирғоққа тўғрилаш',\n
    \       center: 'Марказга тўғрилаш',\n        right: 'Ўнг қирғоққа тўғрилаш',\n
    \       justify: 'Эни бўйлаб чўзиш'\n      },\n      color: {\n        recent:
    'Охирги ранг',\n        more: 'Яна ранглар',\n        background: 'Фон  ранги',\n
    \       foreground: 'Ҳарф ранги',\n        transparent: 'Шаффоф',\n        setTransparent:
    'Шаффофдай қилиш',\n        reset: 'Бекор қилиш',\n        resetToDefault: 'Стандартга
    оид тиклаш'\n      },\n      shortcut: {\n        shortcuts: 'Клавишларнинг ҳамохҳанглиги',\n
    \       close: 'Ёпиқ',\n        textFormatting: 'Матнни ',\n        action: 'Ҳаркат',\n
    \       paragraphFormatting: 'Параграфни форматлаш',\n        documentStyle: 'Ҳужжатнинг
    тури',\n        extraKeys: 'Қўшимча имкониятлар'\n      },\n      history: {\n
    \       undo: 'Бекор қилиш',\n        redo: 'Қайтариш'\n      }\n    }\n  });\n})(jQuery);\n\n/***/
    })\n\n/******/ });\n});"
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-vi-VN.min.js: |-
    /*! For license information please see summernote-vi-VN.min.js.LICENSE.txt */
    !function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=48)}({48:function(e,t){var r;(r=jQuery).extend(r.summernote.lang,{"vi-VN":{font:{bold:"In Đậm",italic:"In Nghiêng",underline:"Gạch dưới",clear:"Bỏ định dạng",height:"Chiều cao dòng",name:"Phông chữ",strikethrough:"Gạch ngang",subscript:"Subscript",superscript:"Superscript",size:"Cỡ chữ"},image:{image:"Hình ảnh",insert:"Chèn",resizeFull:"100%",resizeHalf:"50%",resizeQuarter:"25%",floatLeft:"Trôi về trái",floatRight:"Trôi về phải",floatNone:"Không trôi",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Thả Ảnh ở vùng này",dropImage:"Drop image or Text",selectFromFiles:"Chọn từ File",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL",remove:"Xóa",original:"Original"},video:{video:"Video",videoLink:"Link đến Video",insert:"Chèn Video",url:"URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion và Youku)"},link:{link:"Link",insert:"Chèn Link",unlink:"Gỡ Link",edit:"Sửa",textToDisplay:"Văn bản hiển thị",url:"URL",openInNewWindow:"Mở ở Cửa sổ mới"},table:{table:"Bảng",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Chèn"},style:{style:"Kiểu chữ",p:"Chữ thường",blockquote:"Đoạn trích",pre:"Mã Code",h1:"H1",h2:"H2",h3:"H3",h4:"H4",h5:"H5",h6:"H6"},lists:{unordered:"Liệt kê danh sách",ordered:"Liệt kê theo thứ tự"},options:{help:"Trợ giúp",fullscreen:"Toàn Màn hình",codeview:"Xem Code"},paragraph:{paragraph:"Canh lề",outdent:"Dịch sang trái",indent:"Dịch sang phải",left:"Canh trái",center:"Canh giữa",right:"Canh phải",justify:"Canh đều"},color:{recent:"Màu chữ",more:"Mở rộng",background:"Màu nền",foreground:"Màu chữ",transparent:"trong suốt",setTransparent:"Nền trong suốt",reset:"Thiết lập lại",resetToDefault:"Trở lại ban đầu"},shortcut:{shortcuts:"Phím tắt",close:"Đóng",textFormatting:"Định dạng Văn bản",action:"Hành động",paragraphFormatting:"Định dạng",documentStyle:"Kiểu văn bản",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Lùi lại",redo:"Làm lại"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}})}));
  uploads-admin-Public-Admin-plugins-summernote-lang-summernote-zh-TW.js: "/*!\n *
    \n * Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n
    * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely
    distributed under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object'
    && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof
    define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar
    a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i]
    = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { //
    webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules
    = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId)
    {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 50);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 50:\n/***/ (function(module, exports) {\n\n(function ($) {\n  $.extend($.summernote.lang,
    {\n    'zh-TW': {\n      font: {\n        bold: '粗體',\n        italic: '斜體',\n
    \       underline: '底線',\n        clear: '清除格式',\n        height: '行高',\n        name:
    '字體',\n        strikethrough: '刪除線',\n        subscript: '下標',\n        superscript:
    '上標',\n        size: '字號'\n      },\n      image: {\n        image: '圖片',\n        insert:
    '插入圖片',\n        resizeFull: '縮放至100%',\n        resizeHalf: '縮放至 50%',\n        resizeQuarter:
    '縮放至 25%',\n        floatLeft: '靠左浮動',\n        floatRight: '靠右浮動',\n        floatNone:
    '取消浮動',\n        shapeRounded: '形狀: 圓角',\n        shapeCircle: '形狀: 圓',\n        shapeThumbnail:
    '形狀: 縮略圖',\n        shapeNone: '形狀: 無',\n        dragImageHere: '將圖片拖曳至此處',\n
    \       dropImage: 'Drop image or Text',\n        selectFromFiles: '從本機上傳',\n
    \       maximumFileSize: '文件大小最大值',\n        maximumFileSizeError: '文件大小超出最大值。',\n
    \       url: '圖片網址',\n        remove: '移除圖片',\n        original: 'Original'\n
    \     },\n      video: {\n        video: '影片',\n        videoLink: '影片連結',\n        insert:
    '插入影片',\n        url: '影片網址',\n        providers: '(優酷, Instagram, DailyMotion,
    Youtube等)'\n      },\n      link: {\n        link: '連結',\n        insert: '插入連結',\n
    \       unlink: '取消連結',\n        edit: '編輯連結',\n        textToDisplay: '顯示文字',\n
    \       url: '連結網址',\n        openInNewWindow: '在新視窗開啟'\n      },\n      table:
    {\n        table: '表格',\n        addRowAbove: 'Add row above',\n        addRowBelow:
    'Add row below',\n        addColLeft: 'Add column left',\n        addColRight:
    'Add column right',\n        delRow: 'Delete row',\n        delCol: 'Delete column',\n
    \       delTable: 'Delete table'\n      },\n      hr: {\n        insert: '水平線'\n
    \     },\n      style: {\n        style: '樣式',\n        p: '一般',\n        blockquote:
    '引用區塊',\n        pre: '程式碼區塊',\n        h1: '標題 1',\n        h2: '標題 2',\n        h3:
    '標題 3',\n        h4: '標題 4',\n        h5: '標題 5',\n        h6: '標題 6'\n      },\n
    \     lists: {\n        unordered: '項目清單',\n        ordered: '編號清單'\n      },\n
    \     options: {\n        help: '幫助',\n        fullscreen: '全螢幕',\n        codeview:
    '原始碼'\n      },\n      paragraph: {\n        paragraph: '段落',\n        outdent:
    '取消縮排',\n        indent: '增加縮排',\n        left: '靠右對齊',\n        center: '靠中對齊',\n
    \       right: '靠右對齊',\n        justify: '左右對齊'\n      },\n      color: {\n        recent:
    '字型顏色',\n        more: '更多',\n        background: '背景',\n        foreground: '前景',\n
    \       transparent: '透明',\n        setTransparent: '透明',\n        reset: '重設',\n
    \       resetToDefault: '默認'\n      },\n      shortcut: {\n        shortcuts:
    '快捷鍵',\n        close: '關閉',\n        textFormatting: '文字格式',\n        action:
    '動作',\n        paragraphFormatting: '段落格式',\n        documentStyle: '文件格式',\n
    \       extraKeys: '額外按鍵'\n      },\n      help: {\n        'insertParagraph':
    'Insert Paragraph',\n        'undo': 'Undoes the last command',\n        'redo':
    'Redoes the last command',\n        'tab': 'Tab',\n        'untab': 'Untab',\n
    \       'bold': 'Set a bold style',\n        'italic': 'Set a italic style',\n
    \       'underline': 'Set a underline style',\n        'strikethrough': 'Set a
    strikethrough style',\n        'removeFormat': 'Clean a style',\n        'justifyLeft':
    'Set left align',\n        'justifyCenter': 'Set center align',\n        'justifyRight':
    'Set right align',\n        'justifyFull': 'Set full align',\n        'insertUnorderedList':
    'Toggle unordered list',\n        'insertOrderedList': 'Toggle ordered list',\n
    \       'outdent': 'Outdent on current paragraph',\n        'indent': 'Indent
    on current paragraph',\n        'formatPara': 'Change current block\\'s format
    as a paragraph(P tag)',\n        'formatH1': 'Change current block\\'s format
    as H1',\n        'formatH2': 'Change current block\\'s format as H2',\n        'formatH3':
    'Change current block\\'s format as H3',\n        'formatH4': 'Change current
    block\\'s format as H4',\n        'formatH5': 'Change current block\\'s format
    as H5',\n        'formatH6': 'Change current block\\'s format as H6',\n        'insertHorizontalRule':
    'Insert horizontal rule',\n        'linkDialog.show': 'Show Link Dialog'\n      },\n
    \     history: {\n        undo: '復原',\n        redo: '取消復原'\n      },\n      specialChar:
    {\n        specialChar: 'SPECIAL CHARACTERS',\n        select: 'Select Special
    characters'\n      }\n    }\n  });\n})(jQuery);\n\n/***/ })\n\n/******/ });\n});"
  uploads-admin-Public-Admin-plugins-summernote-summernote-bs4.min.js: |-
    /*! For license information please see summernote-bs4.min.js.LICENSE.txt */
    !function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],e);else{var n="object"==typeof exports?e(require("jquery")):e(t.jQuery);for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(window,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=53)}({0:function(e,n){e.exports=t},1:function(t,e,n){"use strict";var o=n(0),i=n.n(o);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(e,n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.markup=e,this.children=n,this.options=o,this.callback=i}var e,n,o;return e=t,(n=[{key:"render",value:function(t){var e=i()(this.markup);if(this.options&&this.options.contents&&e.html(this.options.contents),this.options&&this.options.className&&e.addClass(this.options.className),this.options&&this.options.data&&i.a.each(this.options.data,(function(t,n){e.attr("data-"+t,n)})),this.options&&this.options.click&&e.on("click",this.options.click),this.children){var n=e.find(".note-children-container");this.children.forEach((function(t){t.render(n.length?n:e)}))}return this.callback&&this.callback(e,this.options),this.options&&this.options.callback&&this.options.callback(e),t&&t.append(e),e}}])&&a(e.prototype,n),o&&a(e,o),t}();e.a={create:function(t,e){return function(){var n="object"===r(arguments[1])?arguments[1]:arguments[0],o=Array.isArray(arguments[0])?arguments[0]:[];return n&&n.children&&(o=n.children),new s(t,o,n,e)}}}},2:function(t,e){(function(e){t.exports=e}).call(this,{})},3:function(t,e,n){"use strict";var o=n(0),i=n.n(o);i.a.summernote=i.a.summernote||{lang:{}},i.a.extend(i.a.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size",sizeunit:"Font Size Unit"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window",useProtocol:"Use default protocol"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Text Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{escape:"Escape",insertParagraph:"Insert Paragraph",undo:"Undo the last command",redo:"Redo the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"},output:{noSelection:"No Selection Made!"}}});var r="function"==typeof define&&n(2),a=["sans-serif","serif","monospace","cursive","fantasy"];function s(t){return-1===i.a.inArray(t.toLowerCase(),a)?"'".concat(t,"'"):t}var l,c=navigator.userAgent,u=/MSIE|Trident/i.test(c);if(u){var d=/MSIE (\d+[.]\d+)/.exec(c);d&&(l=parseFloat(d[1])),(d=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(c))&&(l=parseFloat(d[1]))}var h=/Edge\/\d+/.test(c),f="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,p=u?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",m={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:u,isEdge:h,isFF:!h&&/firefox/i.test(c),isPhantom:/PhantomJS/i.test(c),isWebkit:!h&&/webkit/i.test(c),isChrome:!h&&/chrome/i.test(c),isSafari:!h&&/safari/i.test(c)&&!/chrome/i.test(c),browserVersion:l,jqueryVersion:parseFloat(i.a.fn.jquery),isSupportAmd:r,isSupportTouch:f,isFontInstalled:function(t){var e="Comic Sans MS"===t?"Courier New":"Comic Sans MS",n=document.createElement("canvas").getContext("2d");n.font="200px '"+e+"'";var o=n.measureText("mmmmmmmmmmwwwww").width;return n.font="200px "+s(t)+', "'+e+'"',o!==n.measureText("mmmmmmmmmmwwwww").width},isW3CRangeSupport:!!document.createRange,inputEventName:p,genericFontFamilies:a,validFontName:s};var v=0;var g={eq:function(t){return function(e){return t===e}},eq2:function(t,e){return t===e},peq2:function(t){return function(e,n){return e[t]===n[t]}},ok:function(){return!0},fail:function(){return!1},self:function(t){return t},not:function(t){return function(){return!t.apply(t,arguments)}},and:function(t,e){return function(n){return t(n)&&e(n)}},invoke:function(t,e){return function(){return t[e].apply(t,arguments)}},resetUniqueId:function(){v=0},uniqueId:function(t){var e=++v+"";return t?t+e:e},rect2bnd:function(t){var e=i()(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},invertObject:function(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[t[n]]=n);return e},namespaceToCamel:function(t,e){return(e=e||"")+t.split(".").map((function(t){return t.substring(0,1).toUpperCase()+t.substring(1)})).join("")},debounce:function(t,e,n){var o;return function(){var i=this,r=arguments,a=function(){o=null,n||t.apply(i,r)},s=n&&!o;clearTimeout(o),o=setTimeout(a,e),s&&t.apply(i,r)}},isValidUrl:function(t){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(t)}};function b(t){return t[0]}function y(t){return t[t.length-1]}function k(t){return t.slice(1)}function w(t,e){if(t&&t.length&&e){if(t.indexOf)return-1!==t.indexOf(e);if(t.contains)return t.contains(e)}return!1}var C={head:b,last:y,initial:function(t){return t.slice(0,t.length-1)},tail:k,prev:function(t,e){if(t&&t.length&&e){var n=t.indexOf(e);return-1===n?null:t[n-1]}return null},next:function(t,e){if(t&&t.length&&e){var n=t.indexOf(e);return-1===n?null:t[n+1]}return null},find:function(t,e){for(var n=0,o=t.length;n<o;n++){var i=t[n];if(e(i))return i}},contains:w,all:function(t,e){for(var n=0,o=t.length;n<o;n++)if(!e(t[n]))return!1;return!0},sum:function(t,e){return e=e||g.self,t.reduce((function(t,n){return t+e(n)}),0)},from:function(t){for(var e=[],n=t.length,o=-1;++o<n;)e[o]=t[o];return e},isEmpty:function(t){return!t||!t.length},clusterBy:function(t,e){return t.length?k(t).reduce((function(t,n){var o=y(t);return e(y(o),n)?o[o.length]=n:t[t.length]=[n],t}),[[b(t)]]):[]},compact:function(t){for(var e=[],n=0,o=t.length;n<o;n++)t[n]&&e.push(t[n]);return e},unique:function(t){for(var e=[],n=0,o=t.length;n<o;n++)w(e,t[n])||e.push(t[n]);return e}},x=String.fromCharCode(160);function S(t){return t&&i()(t).hasClass("note-editable")}function T(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}}function E(t){return t&&3===t.nodeType}function I(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(t.nodeName.toUpperCase())}function $(t){return!S(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))}var N=T("PRE"),P=T("LI");var R=T("TABLE"),L=T("DATA");function A(t){return!(B(t)||F(t)||D(t)||$(t)||R(t)||z(t)||L(t))}function F(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())}var D=T("HR");function H(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())}var z=T("BLOCKQUOTE");function B(t){return H(t)||z(t)||S(t)}var M=T("A");var O=T("BODY");var j=m.isMSIE&&m.browserVersion<11?"&nbsp;":"<br>";function U(t){return E(t)?t.nodeValue.length:t?t.childNodes.length:0}function W(t){var e=U(t);return 0===e||(!E(t)&&1===e&&t.innerHTML===j||!(!C.all(t.childNodes,E)||""!==t.innerHTML))}function K(t){I(t)||U(t)||(t.innerHTML=j)}function q(t,e){for(;t;){if(e(t))return t;if(S(t))break;t=t.parentNode}return null}function V(t,e){e=e||g.fail;var n=[];return q(t,(function(t){return S(t)||n.push(t),e(t)})),n}function _(t,e){e=e||g.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.nextSibling;return n}function G(t,e){var n=e.nextSibling,o=e.parentNode;return n?o.insertBefore(t,n):o.appendChild(t),t}function Y(t,e){return i.a.each(e,(function(e,n){t.appendChild(n)})),t}function Z(t){return 0===t.offset}function X(t){return t.offset===U(t.node)}function Q(t){return Z(t)||X(t)}function J(t,e){for(;t&&t!==e;){if(0!==et(t))return!1;t=t.parentNode}return!0}function tt(t,e){if(!e)return!1;for(;t&&t!==e;){if(et(t)!==U(t.parentNode)-1)return!1;t=t.parentNode}return!0}function et(t){for(var e=0;t=t.previousSibling;)e+=1;return e}function nt(t){return!!(t&&t.childNodes&&t.childNodes.length)}function ot(t,e){var n,o;if(0===t.offset){if(S(t.node))return null;n=t.node.parentNode,o=et(t.node)}else nt(t.node)?o=U(n=t.node.childNodes[t.offset-1]):(n=t.node,o=e?0:t.offset-1);return{node:n,offset:o}}function it(t,e){var n,o;if(U(t.node)===t.offset){if(S(t.node))return null;var i=at(t.node);i?(n=i,o=0):(n=t.node.parentNode,o=et(t.node)+1)}else nt(t.node)?(n=t.node.childNodes[t.offset],o=0):(n=t.node,o=e?U(t.node):t.offset+1);return{node:n,offset:o}}function rt(t,e){var n,o;if(W(t.node))return{node:n=t.node.nextSibling,offset:o=0};if(U(t.node)===t.offset){if(S(t.node))return null;var i=at(t.node);i?(n=i,o=0):(n=t.node.parentNode,o=et(t.node)+1),S(n)&&(n=t.node.nextSibling,o=0)}else if(nt(t.node)){if(o=0,W(n=t.node.childNodes[t.offset]))return null}else if(n=t.node,o=e?U(t.node):t.offset+1,W(n))return null;return{node:n,offset:o}}function at(t){if(t.nextSibling&&t.parent===t.nextSibling.parent)return E(t.nextSibling)?t.nextSibling:at(t.nextSibling)}function st(t,e){return t.node===e.node&&t.offset===e.offset}function lt(t,e){var n=e&&e.isSkipPaddingBlankHTML,o=e&&e.isNotSplitEdgePoint,i=e&&e.isDiscardEmptySplits;if(i&&(n=!0),Q(t)&&(E(t.node)||o)){if(Z(t))return t.node;if(X(t))return t.node.nextSibling}if(E(t.node))return t.node.splitText(t.offset);var r=t.node.childNodes[t.offset],a=G(t.node.cloneNode(!1),t.node);return Y(a,_(r)),n||(K(t.node),K(a)),i&&(W(t.node)&&dt(t.node),W(a))?(dt(a),t.node.nextSibling):a}function ct(t,e,n){var o=V(e.node,g.eq(t));return o.length?1===o.length?lt(e,n):o.reduce((function(t,o){return t===e.node&&(t=lt(e,n)),lt({node:o,offset:t?et(t):U(o)},n)})):null}function ut(t){return document.createElement(t)}function dt(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){for(var o=[],i=0,r=t.childNodes.length;i<r;i++)o.push(t.childNodes[i]);for(var a=0,s=o.length;a<s;a++)n.insertBefore(o[a],t)}n.removeChild(t)}}var ht=T("TEXTAREA");function ft(t,e){var n=ht(t[0])?t.val():t.html();return e?n.replace(/[\n\r]/g,""):n}var pt={NBSP_CHAR:x,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:j,emptyPara:"<p>".concat(j,"</p>"),makePredByNodeName:T,isEditable:S,isControlSizing:function(t){return t&&i()(t).hasClass("note-control-sizing")},isText:E,isElement:function(t){return t&&1===t.nodeType},isVoid:I,isPara:$,isPurePara:function(t){return $(t)&&!P(t)},isHeading:function(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())},isInline:A,isBlock:g.not(A),isBodyInline:function(t){return A(t)&&!q(t,$)},isBody:O,isParaInline:function(t){return A(t)&&!!q(t,$)},isPre:N,isList:F,isTable:R,isData:L,isCell:H,isBlockquote:z,isBodyContainer:B,isAnchor:M,isDiv:T("DIV"),isLi:P,isBR:T("BR"),isSpan:T("SPAN"),isB:T("B"),isU:T("U"),isS:T("S"),isI:T("I"),isImg:T("IMG"),isTextarea:ht,deepestChildIsEmpty:function(t){do{if(null===t.firstElementChild||""===t.firstElementChild.innerHTML)break}while(t=t.firstElementChild);return W(t)},isEmpty:W,isEmptyAnchor:g.and(M,W),isClosestSibling:function(t,e){return t.nextSibling===e||t.previousSibling===e},withClosestSiblings:function(t,e){e=e||g.ok;var n=[];return t.previousSibling&&e(t.previousSibling)&&n.push(t.previousSibling),n.push(t),t.nextSibling&&e(t.nextSibling)&&n.push(t.nextSibling),n},nodeLength:U,isLeftEdgePoint:Z,isRightEdgePoint:X,isEdgePoint:Q,isLeftEdgeOf:J,isRightEdgeOf:tt,isLeftEdgePointOf:function(t,e){return Z(t)&&J(t.node,e)},isRightEdgePointOf:function(t,e){return X(t)&&tt(t.node,e)},prevPoint:ot,nextPoint:it,nextPointWithEmptyNode:rt,isSamePoint:st,isVisiblePoint:function(t){if(E(t.node)||!nt(t.node)||W(t.node))return!0;var e=t.node.childNodes[t.offset-1],n=t.node.childNodes[t.offset];return!(e&&!I(e)||n&&!I(n))},prevPointUntil:function(t,e){for(;t;){if(e(t))return t;t=ot(t)}return null},nextPointUntil:function(t,e){for(;t;){if(e(t))return t;t=it(t)}return null},isCharPoint:function(t){if(!E(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==x},isSpacePoint:function(t){if(!E(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return" "===e||e===x},walkPoint:function(t,e,n,o){for(var i=t;i&&(n(i),!st(i,e));){i=rt(i,o&&t.node!==i.node&&e.node!==i.node)}},ancestor:q,singleChildAncestor:function(t,e){for(t=t.parentNode;t&&1===U(t);){if(e(t))return t;if(S(t))break;t=t.parentNode}return null},listAncestor:V,lastAncestor:function(t,e){var n=V(t);return C.last(n.filter(e))},listNext:_,listPrev:function(t,e){e=e||g.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.previousSibling;return n},listDescendant:function(t,e){var n=[];return e=e||g.ok,function o(i){t!==i&&e(i)&&n.push(i);for(var r=0,a=i.childNodes.length;r<a;r++)o(i.childNodes[r])}(t),n},commonAncestor:function(t,e){for(var n=V(t),o=e;o;o=o.parentNode)if(n.indexOf(o)>-1)return o;return null},wrap:function(t,e){var n=t.parentNode,o=i()("<"+e+">")[0];return n.insertBefore(o,t),o.appendChild(t),o},insertAfter:G,appendChildNodes:Y,position:et,hasChildren:nt,makeOffsetPath:function(t,e){return V(e,g.eq(t)).map(et).reverse()},fromOffsetPath:function(t,e){for(var n=t,o=0,i=e.length;o<i;o++)n=n.childNodes.length<=e[o]?n.childNodes[n.childNodes.length-1]:n.childNodes[e[o]];return n},splitTree:ct,splitPoint:function(t,e){var n,o,i=e?$:B,r=V(t.node,i),a=C.last(r)||t.node;i(a)?(n=r[r.length-2],o=a):o=(n=a).parentNode;var s=n&&ct(n,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return s||o!==t.node||(s=t.node.childNodes[t.offset]),{rightNode:s,container:o}},create:ut,createText:function(t){return document.createTextNode(t)},remove:dt,removeWhile:function(t,e){for(;t&&!S(t)&&e(t);){var n=t.parentNode;dt(t),t=n}},replace:function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var n=ut(e);return t.style.cssText&&(n.style.cssText=t.style.cssText),Y(n,C.from(t.childNodes)),G(n,t),dt(t),n},html:function(t,e){var n=ft(t);if(e){n=(n=n.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,(function(t,e,n){n=n.toUpperCase();var o=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!e,i=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return t+(o||i?"\n":"")}))).trim()}return n},value:ft,posFromPlaceholder:function(t){var e=i()(t),n=e.offset(),o=e.outerHeight(!0);return{left:n.left,top:n.top+o}},attachEvents:function(t,e){Object.keys(e).forEach((function(n){t.on(n,e[n])}))},detachEvents:function(t,e){Object.keys(e).forEach((function(n){t.off(n,e[n])}))},isCustomStyleTag:function(t){return t&&!E(t)&&C.contains(t.classList,"note-styletag")}};function mt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var vt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=i.a.extend(!0,{},n),i.a.summernote.ui=i.a.summernote.ui_template(this.options),this.ui=i.a.summernote.ui,this.initialize()}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){return this.layoutInfo=this.ui.createLayout(this.$note),this._initialize(),this.$note.hide(),this}},{key:"destroy",value:function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)}},{key:"reset",value:function(){var t=this.isDisabled();this.code(pt.emptyPara),this._destroy(),this._initialize(),t&&this.disable()}},{key:"_initialize",value:function(){var t=this;this.options.id=g.uniqueId(i.a.now()),this.options.container=this.options.container||this.layoutInfo.editor;var e=i.a.extend({},this.options.buttons);Object.keys(e).forEach((function(n){t.memo("button."+n,e[n])}));var n=i.a.extend({},this.options.modules,i.a.summernote.plugins||{});Object.keys(n).forEach((function(e){t.module(e,n[e],!0)})),Object.keys(this.modules).forEach((function(e){t.initializeModule(e)}))}},{key:"_destroy",value:function(){var t=this;Object.keys(this.modules).reverse().forEach((function(e){t.removeModule(e)})),Object.keys(this.memos).forEach((function(e){t.removeMemo(e)})),this.triggerEvent("destroy",this)}},{key:"code",value:function(t){var e=this.invoke("codeview.isActivated");if(void 0===t)return this.invoke("codeview.sync"),e?this.layoutInfo.codable.val():this.layoutInfo.editable.html();e?this.invoke("codeview.sync",t):this.layoutInfo.editable.html(t),this.$note.val(t),this.triggerEvent("change",t,this.layoutInfo.editable)}},{key:"isDisabled",value:function(){return"false"===this.layoutInfo.editable.attr("contenteditable")}},{key:"enable",value:function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1),this.options.editing=!0}},{key:"disable",value:function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.options.editing=!1,this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)}},{key:"triggerEvent",value:function(){var t=C.head(arguments),e=C.tail(C.from(arguments)),n=this.options.callbacks[g.namespaceToCamel(t,"on")];n&&n.apply(this.$note[0],e),this.$note.trigger("summernote."+t,e)}},{key:"initializeModule",value:function(t){var e=this.modules[t];e.shouldInitialize=e.shouldInitialize||g.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&pt.attachEvents(this.$note,e.events))}},{key:"module",value:function(t,e,n){if(1===arguments.length)return this.modules[t];this.modules[t]=new e(this),n||this.initializeModule(t)}},{key:"removeModule",value:function(t){var e=this.modules[t];e.shouldInitialize()&&(e.events&&pt.detachEvents(this.$note,e.events),e.destroy&&e.destroy()),delete this.modules[t]}},{key:"memo",value:function(t,e){if(1===arguments.length)return this.memos[t];this.memos[t]=e}},{key:"removeMemo",value:function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]}},{key:"createInvokeHandlerAndUpdateState",value:function(t,e){var n=this;return function(o){n.createInvokeHandler(t,e)(o),n.invoke("buttons.updateCurrentStyle")}}},{key:"createInvokeHandler",value:function(t,e){var n=this;return function(o){o.preventDefault();var r=i()(o.target);n.invoke(t,e||r.closest("[data-value]").data("value"),r)}}},{key:"invoke",value:function(){var t=C.head(arguments),e=C.tail(C.from(arguments)),n=t.split("."),o=n.length>1,i=o&&C.head(n),r=o?C.last(n):C.head(n),a=this.modules[i||"editor"];return!i&&this[r]?this[r].apply(this,e):a&&a[r]&&a.shouldInitialize()?a[r].apply(a,e):void 0}}])&&mt(e.prototype,n),o&&mt(e,o),t}();function gt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function bt(t,e){var n,o,i=t.parentElement(),r=document.body.createTextRange(),a=C.from(i.childNodes);for(n=0;n<a.length;n++)if(!pt.isText(a[n])){if(r.moveToElementText(a[n]),r.compareEndPoints("StartToStart",t)>=0)break;o=a[n]}if(0!==n&&pt.isText(a[n-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(o||i),s.collapse(!o),l=o?o.nextSibling:i.firstChild;var c=t.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&pt.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),i=l,n=u}return{cont:i,offset:n}}function yt(t){var e=document.body.createTextRange(),n=function t(e,n){var o,i;if(pt.isText(e)){var r=pt.listPrev(e,g.not(pt.isText)),a=C.last(r).previousSibling;o=a||e.parentNode,n+=C.sum(C.tail(r),pt.nodeLength),i=!a}else{if(o=e.childNodes[n]||e,pt.isText(o))return t(o,0);n=0,i=!1}return{node:o,collapseToStart:i,offset:n}}(t.node,t.offset);return e.moveToElementText(n.node),e.collapse(n.collapseToStart),e.moveStart("character",n.offset),e}i.a.fn.extend({summernote:function(){var t=i.a.type(C.head(arguments)),e="string"===t,n="object"===t,o=i.a.extend({},i.a.summernote.options,n?C.head(arguments):{});o.langInfo=i.a.extend(!0,{},i.a.summernote.lang["en-US"],i.a.summernote.lang[o.lang]),o.icons=i.a.extend(!0,{},i.a.summernote.options.icons,o.icons),o.tooltip="auto"===o.tooltip?!m.isSupportTouch:o.tooltip,this.each((function(t,e){var n=i()(e);if(!n.data("summernote")){var r=new vt(n,o);n.data("summernote",r),n.data("summernote").triggerEvent("init",r.layoutInfo)}}));var r=this.first();if(r.length){var a=r.data("summernote");if(e)return a.invoke.apply(a,C.from(arguments));o.focus&&a.invoke("editor.focus")}return this}});var kt=function(){function t(e,n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sc=e,this.so=n,this.ec=o,this.eo=i,this.isOnEditable=this.makeIsOn(pt.isEditable),this.isOnList=this.makeIsOn(pt.isList),this.isOnAnchor=this.makeIsOn(pt.isAnchor),this.isOnCell=this.makeIsOn(pt.isCell),this.isOnData=this.makeIsOn(pt.isData)}var e,n,o;return e=t,(n=[{key:"nativeRange",value:function(){if(m.isW3CRangeSupport){var t=document.createRange();return t.setStart(this.sc,this.so),t.setEnd(this.ec,this.eo),t}var e=yt({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",yt({node:this.ec,offset:this.eo})),e}},{key:"getPoints",value:function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}}},{key:"getStartPoint",value:function(){return{node:this.sc,offset:this.so}}},{key:"getEndPoint",value:function(){return{node:this.ec,offset:this.eo}}},{key:"select",value:function(){var t=this.nativeRange();if(m.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select();return this}},{key:"scrollIntoView",value:function(t){var e=i()(t).height();return t.scrollTop+e<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+e-this.sc.offsetTop)),this}},{key:"normalize",value:function(){var e=function(t,e){if(!t)return t;if(pt.isVisiblePoint(t)&&(!pt.isEdgePoint(t)||pt.isRightEdgePoint(t)&&!e||pt.isLeftEdgePoint(t)&&e||pt.isRightEdgePoint(t)&&e&&pt.isVoid(t.node.nextSibling)||pt.isLeftEdgePoint(t)&&!e&&pt.isVoid(t.node.previousSibling)||pt.isBlock(t.node)&&pt.isEmpty(t.node)))return t;var n=pt.ancestor(t.node,pt.isBlock),o=!1;if(!o){var i=pt.prevPoint(t)||{node:null};o=(pt.isLeftEdgePointOf(t,n)||pt.isVoid(i.node))&&!e}var r=!1;if(!r){var a=pt.nextPoint(t)||{node:null};r=(pt.isRightEdgePointOf(t,n)||pt.isVoid(a.node))&&e}if(o||r){if(pt.isVisiblePoint(t))return t;e=!e}return(e?pt.nextPointUntil(pt.nextPoint(t),pt.isVisiblePoint):pt.prevPointUntil(pt.prevPoint(t),pt.isVisiblePoint))||t},n=e(this.getEndPoint(),!1),o=this.isCollapsed()?n:e(this.getStartPoint(),!0);return new t(o.node,o.offset,n.node,n.offset)}},{key:"nodes",value:function(t,e){t=t||g.ok;var n=e&&e.includeAncestor,o=e&&e.fullyContains,i=this.getStartPoint(),r=this.getEndPoint(),a=[],s=[];return pt.walkPoint(i,r,(function(e){var i;pt.isEditable(e.node)||(o?(pt.isLeftEdgePoint(e)&&s.push(e.node),pt.isRightEdgePoint(e)&&C.contains(s,e.node)&&(i=e.node)):i=n?pt.ancestor(e.node,t):e.node,i&&t(i)&&a.push(i))}),!0),C.unique(a)}},{key:"commonAncestor",value:function(){return pt.commonAncestor(this.sc,this.ec)}},{key:"expand",value:function(e){var n=pt.ancestor(this.sc,e),o=pt.ancestor(this.ec,e);if(!n&&!o)return new t(this.sc,this.so,this.ec,this.eo);var i=this.getPoints();return n&&(i.sc=n,i.so=0),o&&(i.ec=o,i.eo=pt.nodeLength(o)),new t(i.sc,i.so,i.ec,i.eo)}},{key:"collapse",value:function(e){return e?new t(this.sc,this.so,this.sc,this.so):new t(this.ec,this.eo,this.ec,this.eo)}},{key:"splitText",value:function(){var e=this.sc===this.ec,n=this.getPoints();return pt.isText(this.ec)&&!pt.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),pt.isText(this.sc)&&!pt.isEdgePoint(this.getStartPoint())&&(n.sc=this.sc.splitText(this.so),n.so=0,e&&(n.ec=n.sc,n.eo=this.eo-this.so)),new t(n.sc,n.so,n.ec,n.eo)}},{key:"deleteContents",value:function(){if(this.isCollapsed())return this;var e=this.splitText(),n=e.nodes(null,{fullyContains:!0}),o=pt.prevPointUntil(e.getStartPoint(),(function(t){return!C.contains(n,t.node)})),r=[];return i.a.each(n,(function(t,e){var n=e.parentNode;o.node!==n&&1===pt.nodeLength(n)&&r.push(n),pt.remove(e,!1)})),i.a.each(r,(function(t,e){pt.remove(e,!1)})),new t(o.node,o.offset,o.node,o.offset).normalize()}},{key:"makeIsOn",value:function(t){return function(){var e=pt.ancestor(this.sc,t);return!!e&&e===pt.ancestor(this.ec,t)}}},{key:"isLeftEdgeOf",value:function(t){if(!pt.isLeftEdgePoint(this.getStartPoint()))return!1;var e=pt.ancestor(this.sc,t);return e&&pt.isLeftEdgeOf(this.sc,e)}},{key:"isCollapsed",value:function(){return this.sc===this.ec&&this.so===this.eo}},{key:"wrapBodyInlineWithPara",value:function(){if(pt.isBodyContainer(this.sc)&&pt.isEmpty(this.sc))return this.sc.innerHTML=pt.emptyPara,new t(this.sc.firstChild,0,this.sc.firstChild,0);var e,n=this.normalize();if(pt.isParaInline(this.sc)||pt.isPara(this.sc))return n;if(pt.isInline(n.sc)){var o=pt.listAncestor(n.sc,g.not(pt.isInline));e=C.last(o),pt.isInline(e)||(e=o[o.length-2]||n.sc.childNodes[n.so])}else e=n.sc.childNodes[n.so>0?n.so-1:0];if(e){var i=pt.listPrev(e,pt.isParaInline).reverse();if((i=i.concat(pt.listNext(e.nextSibling,pt.isParaInline))).length){var r=pt.wrap(C.head(i),"p");pt.appendChildNodes(r,C.tail(i))}}return this.normalize()}},{key:"insertNode",value:function(t){var e=this;(pt.isText(t)||pt.isInline(t))&&(e=this.wrapBodyInlineWithPara().deleteContents());var n=pt.splitPoint(e.getStartPoint(),pt.isInline(t));return n.rightNode?(n.rightNode.parentNode.insertBefore(t,n.rightNode),pt.isEmpty(n.rightNode)&&pt.isPara(t)&&n.rightNode.parentNode.removeChild(n.rightNode)):n.container.appendChild(t),t}},{key:"pasteHTML",value:function(t){t=i.a.trim(t);var e=i()("<div></div>").html(t)[0],n=C.from(e.childNodes),o=this,r=!1;return o.so>=0&&(n=n.reverse(),r=!0),n=n.map((function(t){return o.insertNode(t)})),r&&(n=n.reverse()),n}},{key:"toString",value:function(){var t=this.nativeRange();return m.isW3CRangeSupport?t.toString():t.text}},{key:"getWordRange",value:function(e){var n=this.getEndPoint();if(!pt.isCharPoint(n))return this;var o=pt.prevPointUntil(n,(function(t){return!pt.isCharPoint(t)}));return e&&(n=pt.nextPointUntil(n,(function(t){return!pt.isCharPoint(t)}))),new t(o.node,o.offset,n.node,n.offset)}},{key:"getWordsRange",value:function(e){var n=this.getEndPoint(),o=function(t){return!pt.isCharPoint(t)&&!pt.isSpacePoint(t)};if(o(n))return this;var i=pt.prevPointUntil(n,o);return e&&(n=pt.nextPointUntil(n,o)),new t(i.node,i.offset,n.node,n.offset)}},{key:"getWordsMatchRange",value:function(e){var n=this.getEndPoint(),o=pt.prevPointUntil(n,(function(o){if(!pt.isCharPoint(o)&&!pt.isSpacePoint(o))return!0;var i=new t(o.node,o.offset,n.node,n.offset),r=e.exec(i.toString());return r&&0===r.index})),i=new t(o.node,o.offset,n.node,n.offset),r=i.toString(),a=e.exec(r);return a&&a[0].length===r.length?i:null}},{key:"bookmark",value:function(t){return{s:{path:pt.makeOffsetPath(t,this.sc),offset:this.so},e:{path:pt.makeOffsetPath(t,this.ec),offset:this.eo}}}},{key:"paraBookmark",value:function(t){return{s:{path:C.tail(pt.makeOffsetPath(C.head(t),this.sc)),offset:this.so},e:{path:C.tail(pt.makeOffsetPath(C.last(t),this.ec)),offset:this.eo}}}},{key:"getClientRects",value:function(){return this.nativeRange().getClientRects()}}])&&gt(e.prototype,n),o&&gt(e,o),t}(),wt={create:function(t,e,n,o){if(4===arguments.length)return new kt(t,e,n,o);if(2===arguments.length)return new kt(t,e,n=t,o=e);var i=this.createFromSelection();if(!i&&1===arguments.length){var r=arguments[0];return pt.isEditable(r)&&(r=r.lastChild),this.createFromBodyElement(r,pt.emptyPara===arguments[0].innerHTML)}return i},createFromBodyElement:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.createFromNode(t);return n.collapse(e)},createFromSelection:function(){var t,e,n,o;if(m.isW3CRangeSupport){var i=document.getSelection();if(!i||0===i.rangeCount)return null;if(pt.isBody(i.anchorNode))return null;var r=i.getRangeAt(0);t=r.startContainer,e=r.startOffset,n=r.endContainer,o=r.endOffset}else{var a=document.selection.createRange(),s=a.duplicate();s.collapse(!1);var l=a;l.collapse(!0);var c=bt(l,!0),u=bt(s,!1);pt.isText(c.node)&&pt.isLeftEdgePoint(c)&&pt.isTextNode(u.node)&&pt.isRightEdgePoint(u)&&u.node.nextSibling===c.node&&(c=u),t=c.cont,e=c.offset,n=u.cont,o=u.offset}return new kt(t,e,n,o)},createFromNode:function(t){var e=t,n=0,o=t,i=pt.nodeLength(o);return pt.isVoid(e)&&(n=pt.listPrev(e).length-1,e=e.parentNode),pt.isBR(o)?(i=pt.listPrev(o).length-1,o=o.parentNode):pt.isVoid(o)&&(i=pt.listPrev(o).length,o=o.parentNode),this.create(e,n,o,i)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var n=pt.fromOffsetPath(t,e.s.path),o=e.s.offset,i=pt.fromOffsetPath(t,e.e.path),r=e.e.offset;return new kt(n,o,i,r)},createFromParaBookmark:function(t,e){var n=t.s.offset,o=t.e.offset,i=pt.fromOffsetPath(C.head(e),t.s.path),r=pt.fromOffsetPath(C.last(e),t.e.path);return new kt(i,n,r,o)}},Ct={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34},xt={isEdit:function(t){return C.contains([Ct.BACKSPACE,Ct.TAB,Ct.ENTER,Ct.SPACE,Ct.DELETE],t)},isMove:function(t){return C.contains([Ct.LEFT,Ct.UP,Ct.RIGHT,Ct.DOWN],t)},isNavigation:function(t){return C.contains([Ct.HOME,Ct.END,Ct.PAGEUP,Ct.PAGEDOWN],t)},nameFromCode:g.invertObject(Ct),code:Ct};function St(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Tt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stack=[],this.stackOffset=-1,this.context=e,this.$editable=e.layoutInfo.editable,this.editable=this.$editable[0]}var e,n,o;return e=t,(n=[{key:"makeSnapshot",value:function(){var t=wt.create(this.editable);return{contents:this.$editable.html(),bookmark:t&&t.isOnEditable()?t.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}}},{key:"applySnapshot",value:function(t){null!==t.contents&&this.$editable.html(t.contents),null!==t.bookmark&&wt.createFromBookmark(this.editable,t.bookmark).select()}},{key:"rewind",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])}},{key:"commit",value:function(){this.stack=[],this.stackOffset=-1,this.recordUndo()}},{key:"reset",value:function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()}},{key:"undo",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"redo",value:function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"recordUndo",value:function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot()),this.stack.length>this.context.options.historyLimit&&(this.stack.shift(),this.stackOffset-=1)}}])&&St(e.prototype,n),o&&St(e,o),t}();function Et(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var It=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"jQueryCSS",value:function(t,e){if(m.jqueryVersion<1.9){var n={};return i.a.each(e,(function(e,o){n[o]=t.css(o)})),n}return t.css(e)}},{key:"fromNode",value:function(t){var e=this.jQueryCSS(t,["font-family","font-size","text-align","list-style-type","line-height"])||{},n=t[0].style.fontSize||e["font-size"];return e["font-size"]=parseInt(n,10),e["font-size-unit"]=n.match(/[a-z%]+$/),e}},{key:"stylePara",value:function(t,e){i.a.each(t.nodes(pt.isPara,{includeAncestor:!0}),(function(t,n){i()(n).css(e)}))}},{key:"styleNodes",value:function(t,e){t=t.splitText();var n=e&&e.nodeName||"SPAN",o=!(!e||!e.expandClosestSibling),r=!(!e||!e.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(pt.create(n))];var a=pt.makePredByNodeName(n),s=t.nodes(pt.isText,{fullyContains:!0}).map((function(t){return pt.singleChildAncestor(t,a)||pt.wrap(t,n)}));if(o){if(r){var l=t.nodes();a=g.and(a,(function(t){return C.contains(l,t)}))}return s.map((function(t){var e=pt.withClosestSiblings(t,a),n=C.head(e),o=C.tail(e);return i.a.each(o,(function(t,e){pt.appendChildNodes(n,e.childNodes),pt.remove(e)})),C.head(e)}))}return s}},{key:"current",value:function(t){var e=i()(pt.isElement(t.sc)?t.sc:t.sc.parentNode),n=this.fromNode(e);try{n=i.a.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||n["font-family"]})}catch(t){}if(t.isOnList()){var o=["circle","disc","disc-leading-zero","square"].indexOf(n["list-style-type"])>-1;n["list-style"]=o?"unordered":"ordered"}else n["list-style"]="none";var r=pt.ancestor(t.sc,pt.isPara);if(r&&r.style["line-height"])n["line-height"]=r.style.lineHeight;else{var a=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=a.toFixed(1)}return n.anchor=t.isOnAnchor()&&pt.ancestor(t.sc,pt.isAnchor),n.ancestors=pt.listAncestor(t.sc,pt.isEditable),n.range=t,n}}])&&Et(e.prototype,n),o&&Et(e,o),t}();function $t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Nt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"insertOrderedList",value:function(t){this.toggleList("OL",t)}},{key:"insertUnorderedList",value:function(t){this.toggleList("UL",t)}},{key:"indent",value:function(t){var e=this,n=wt.create(t).wrapBodyInlineWithPara(),o=n.nodes(pt.isPara,{includeAncestor:!0}),r=C.clusterBy(o,g.peq2("parentNode"));i.a.each(r,(function(t,n){var o=C.head(n);if(pt.isLi(o)){var r=e.findList(o.previousSibling);r?n.map((function(t){return r.appendChild(t)})):(e.wrapList(n,o.parentNode.nodeName),n.map((function(t){return t.parentNode})).map((function(t){return e.appendToPrevious(t)})))}else i.a.each(n,(function(t,e){i()(e).css("marginLeft",(function(t,e){return(parseInt(e,10)||0)+25}))}))})),n.select()}},{key:"outdent",value:function(t){var e=this,n=wt.create(t).wrapBodyInlineWithPara(),o=n.nodes(pt.isPara,{includeAncestor:!0}),r=C.clusterBy(o,g.peq2("parentNode"));i.a.each(r,(function(t,n){var o=C.head(n);pt.isLi(o)?e.releaseList([n]):i.a.each(n,(function(t,e){i()(e).css("marginLeft",(function(t,e){return(e=parseInt(e,10)||0)>25?e-25:""}))}))})),n.select()}},{key:"toggleList",value:function(t,e){var n=this,o=wt.create(e).wrapBodyInlineWithPara(),r=o.nodes(pt.isPara,{includeAncestor:!0}),a=o.paraBookmark(r),s=C.clusterBy(r,g.peq2("parentNode"));if(C.find(r,pt.isPurePara)){var l=[];i.a.each(s,(function(e,o){l=l.concat(n.wrapList(o,t))})),r=l}else{var c=o.nodes(pt.isList,{includeAncestor:!0}).filter((function(e){return!i.a.nodeName(e,t)}));c.length?i.a.each(c,(function(e,n){pt.replace(n,t)})):r=this.releaseList(s,!0)}wt.createFromParaBookmark(a,r).select()}},{key:"wrapList",value:function(t,e){var n=C.head(t),o=C.last(t),i=pt.isList(n.previousSibling)&&n.previousSibling,r=pt.isList(o.nextSibling)&&o.nextSibling,a=i||pt.insertAfter(pt.create(e||"UL"),o);return t=t.map((function(t){return pt.isPurePara(t)?pt.replace(t,"LI"):t})),pt.appendChildNodes(a,t),r&&(pt.appendChildNodes(a,C.from(r.childNodes)),pt.remove(r)),t}},{key:"releaseList",value:function(t,e){var n=this,o=[];return i.a.each(t,(function(t,r){var a=C.head(r),s=C.last(r),l=e?pt.lastAncestor(a,pt.isList):a.parentNode,c=l.parentNode;if("LI"===l.parentNode.nodeName)r.map((function(t){var e=n.findNextSiblings(t);c.nextSibling?c.parentNode.insertBefore(t,c.nextSibling):c.parentNode.appendChild(t),e.length&&(n.wrapList(e,l.nodeName),t.appendChild(e[0].parentNode))})),0===l.children.length&&c.removeChild(l),0===c.childNodes.length&&c.parentNode.removeChild(c);else{var u=l.childNodes.length>1?pt.splitTree(l,{node:s.parentNode,offset:pt.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,d=pt.splitTree(l,{node:a.parentNode,offset:pt.position(a)},{isSkipPaddingBlankHTML:!0});r=e?pt.listDescendant(d,pt.isLi):C.from(d.childNodes).filter(pt.isLi),!e&&pt.isList(l.parentNode)||(r=r.map((function(t){return pt.replace(t,"P")}))),i.a.each(C.from(r).reverse(),(function(t,e){pt.insertAfter(e,l)}));var h=C.compact([l,d,u]);i.a.each(h,(function(t,e){var n=[e].concat(pt.listDescendant(e,pt.isList));i.a.each(n.reverse(),(function(t,e){pt.nodeLength(e)||pt.remove(e,!0)}))}))}o=o.concat(r)})),o}},{key:"appendToPrevious",value:function(t){return t.previousSibling?pt.appendChildNodes(t.previousSibling,[t]):this.wrapList([t],"LI")}},{key:"findList",value:function(t){return t?C.find(t.children,(function(t){return["OL","UL"].indexOf(t.nodeName)>-1})):null}},{key:"findNextSiblings",value:function(t){for(var e=[];t.nextSibling;)e.push(t.nextSibling),t=t.nextSibling;return e}}])&&$t(e.prototype,n),o&&$t(e,o),t}();function Pt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Rt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bullet=new Nt,this.options=e.options}var e,n,o;return e=t,(n=[{key:"insertTab",value:function(t,e){var n=pt.createText(new Array(e+1).join(pt.NBSP_CHAR));(t=t.deleteContents()).insertNode(n,!0),(t=wt.create(n,e)).select()}},{key:"insertParagraph",value:function(t,e){e=(e=(e=e||wt.create(t)).deleteContents()).wrapBodyInlineWithPara();var n,o=pt.ancestor(e.sc,pt.isPara);if(o){if(pt.isLi(o)&&(pt.isEmpty(o)||pt.deepestChildIsEmpty(o)))return void this.bullet.toggleList(o.parentNode.nodeName);var r=null;if(1===this.options.blockquoteBreakingLevel?r=pt.ancestor(o,pt.isBlockquote):2===this.options.blockquoteBreakingLevel&&(r=pt.lastAncestor(o,pt.isBlockquote)),r){n=i()(pt.emptyPara)[0],pt.isRightEdgePoint(e.getStartPoint())&&pt.isBR(e.sc.nextSibling)&&i()(e.sc.nextSibling).remove();var a=pt.splitTree(r,e.getStartPoint(),{isDiscardEmptySplits:!0});a?a.parentNode.insertBefore(n,a):pt.insertAfter(n,r)}else{n=pt.splitTree(o,e.getStartPoint());var s=pt.listDescendant(o,pt.isEmptyAnchor);s=s.concat(pt.listDescendant(n,pt.isEmptyAnchor)),i.a.each(s,(function(t,e){pt.remove(e)})),(pt.isHeading(n)||pt.isPre(n)||pt.isCustomStyleTag(n))&&pt.isEmpty(n)&&(n=pt.replace(n,"p"))}}else{var l=e.sc.childNodes[e.so];n=i()(pt.emptyPara)[0],l?e.sc.insertBefore(n,l):e.sc.appendChild(n)}wt.create(n,0).normalize().select().scrollIntoView(t)}}])&&Pt(e.prototype,n),o&&Pt(e,o),t}();function Lt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var At=function t(e,n,o,i){var r={colPos:0,rowPos:0},a=[],s=[];function l(t,e,n,o,i,r,s){var l={baseRow:n,baseCell:o,isRowSpan:i,isColSpan:r,isVirtual:s};a[t]||(a[t]=[]),a[t][e]=l}function c(t,e,n,o){return{baseCell:t.baseCell,action:e,virtualTable:{rowIndex:n,cellIndex:o}}}function u(t,e){if(!a[t])return e;if(!a[t][e])return e;for(var n=e;a[t][n];)if(n++,!a[t][n])return n}function d(t,e){var n=u(t.rowIndex,e.cellIndex),o=e.colSpan>1,i=e.rowSpan>1,a=t.rowIndex===r.rowPos&&e.cellIndex===r.colPos;l(t.rowIndex,n,t,e,i,o,!1);var s=e.attributes.rowSpan?parseInt(e.attributes.rowSpan.value,10):0;if(s>1)for(var c=1;c<s;c++){var d=t.rowIndex+c;h(d,n,e,a),l(d,n,t,e,!0,o,!0)}var f=e.attributes.colSpan?parseInt(e.attributes.colSpan.value,10):0;if(f>1)for(var p=1;p<f;p++){var m=u(t.rowIndex,n+p);h(t.rowIndex,m,e,a),l(t.rowIndex,m,t,e,i,!0,!0)}}function h(t,e,n,o){t===r.rowPos&&r.colPos>=n.cellIndex&&n.cellIndex<=e&&!o&&r.colPos++}function f(e){switch(n){case t.where.Column:if(e.isColSpan)return t.resultAction.SubtractSpanCount;break;case t.where.Row:if(!e.isVirtual&&e.isRowSpan)return t.resultAction.AddCell;if(e.isRowSpan)return t.resultAction.SubtractSpanCount}return t.resultAction.RemoveCell}function p(e){switch(n){case t.where.Column:if(e.isColSpan)return t.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return t.resultAction.Ignore;break;case t.where.Row:if(e.isRowSpan)return t.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return t.resultAction.Ignore}return t.resultAction.AddCell}this.getActionList=function(){for(var e=n===t.where.Row?r.rowPos:-1,i=n===t.where.Column?r.colPos:-1,l=0,u=!0;u;){var d=e>=0?e:l,h=i>=0?i:l,m=a[d];if(!m)return u=!1,s;var v=m[h];if(!v)return u=!1,s;var g=t.resultAction.Ignore;switch(o){case t.requestAction.Add:g=p(v);break;case t.requestAction.Delete:g=f(v)}s.push(c(v,g,d,h)),l++}return s},e&&e.tagName&&("td"===e.tagName.toLowerCase()||"th"===e.tagName.toLowerCase())&&(r.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()&&(r.rowPos=e.parentElement.rowIndex)),function(){for(var t=i.rows,e=0;e<t.length;e++)for(var n=t[e].cells,o=0;o<n.length;o++)d(t[e],n[o])}()};At.where={Row:0,Column:1},At.requestAction={Add:0,Delete:1},At.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Ft=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"tab",value:function(t,e){var n=pt.ancestor(t.commonAncestor(),pt.isCell),o=pt.ancestor(n,pt.isTable),i=pt.listDescendant(o,pt.isCell),r=C[e?"prev":"next"](i,n);r&&wt.create(r,0).select()}},{key:"addRow",value:function(t,e){for(var n=pt.ancestor(t.commonAncestor(),pt.isCell),o=i()(n).closest("tr"),r=this.recoverAttributes(o),a=i()("<tr"+r+"></tr>"),s=new At(n,At.where.Row,At.requestAction.Add,i()(o).closest("table")[0]).getActionList(),l=0;l<s.length;l++){var c=s[l],u=this.recoverAttributes(c.baseCell);switch(c.action){case At.resultAction.AddCell:a.append("<td"+u+">"+pt.blank+"</td>");break;case At.resultAction.SumSpanCount:if("top"===e&&(c.baseCell.parent?c.baseCell.closest("tr").rowIndex:0)<=o[0].rowIndex){var d=i()("<div></div>").append(i()("<td"+u+">"+pt.blank+"</td>").removeAttr("rowspan")).html();a.append(d);break}var h=parseInt(c.baseCell.rowSpan,10);h++,c.baseCell.setAttribute("rowSpan",h)}}if("top"===e)o.before(a);else{if(n.rowSpan>1){var f=o[0].rowIndex+(n.rowSpan-2);return void i()(i()(o).parent().find("tr")[f]).after(i()(a))}o.after(a)}}},{key:"addCol",value:function(t,e){var n=pt.ancestor(t.commonAncestor(),pt.isCell),o=i()(n).closest("tr");i()(o).siblings().push(o);for(var r=new At(n,At.where.Column,At.requestAction.Add,i()(o).closest("table")[0]).getActionList(),a=0;a<r.length;a++){var s=r[a],l=this.recoverAttributes(s.baseCell);switch(s.action){case At.resultAction.AddCell:"right"===e?i()(s.baseCell).after("<td"+l+">"+pt.blank+"</td>"):i()(s.baseCell).before("<td"+l+">"+pt.blank+"</td>");break;case At.resultAction.SumSpanCount:if("right"===e){var c=parseInt(s.baseCell.colSpan,10);c++,s.baseCell.setAttribute("colSpan",c)}else i()(s.baseCell).before("<td"+l+">"+pt.blank+"</td>")}}}},{key:"recoverAttributes",value:function(t){var e="";if(!t)return e;for(var n=t.attributes||[],o=0;o<n.length;o++)"id"!==n[o].name.toLowerCase()&&n[o].specified&&(e+=" "+n[o].name+"='"+n[o].value+"'");return e}},{key:"deleteRow",value:function(t){for(var e=pt.ancestor(t.commonAncestor(),pt.isCell),n=i()(e).closest("tr"),o=n.children("td, th").index(i()(e)),r=n[0].rowIndex,a=new At(e,At.where.Row,At.requestAction.Delete,i()(n).closest("table")[0]).getActionList(),s=0;s<a.length;s++)if(a[s]){var l=a[s].baseCell,c=a[s].virtualTable,u=l.rowSpan&&l.rowSpan>1,d=u?parseInt(l.rowSpan,10):0;switch(a[s].action){case At.resultAction.Ignore:continue;case At.resultAction.AddCell:var h=n.next("tr")[0];if(!h)continue;var f=n[0].cells[o];u&&(d>2?(d--,h.insertBefore(f,h.cells[o]),h.cells[o].setAttribute("rowSpan",d),h.cells[o].innerHTML=""):2===d&&(h.insertBefore(f,h.cells[o]),h.cells[o].removeAttribute("rowSpan"),h.cells[o].innerHTML=""));continue;case At.resultAction.SubtractSpanCount:u&&(d>2?(d--,l.setAttribute("rowSpan",d),c.rowIndex!==r&&l.cellIndex===o&&(l.innerHTML="")):2===d&&(l.removeAttribute("rowSpan"),c.rowIndex!==r&&l.cellIndex===o&&(l.innerHTML="")));continue;case At.resultAction.RemoveCell:continue}}n.remove()}},{key:"deleteCol",value:function(t){for(var e=pt.ancestor(t.commonAncestor(),pt.isCell),n=i()(e).closest("tr"),o=n.children("td, th").index(i()(e)),r=new At(e,At.where.Column,At.requestAction.Delete,i()(n).closest("table")[0]).getActionList(),a=0;a<r.length;a++)if(r[a])switch(r[a].action){case At.resultAction.Ignore:continue;case At.resultAction.SubtractSpanCount:var s=r[a].baseCell;if(s.colSpan&&s.colSpan>1){var l=s.colSpan?parseInt(s.colSpan,10):0;l>2?(l--,s.setAttribute("colSpan",l),s.cellIndex===o&&(s.innerHTML="")):2===l&&(s.removeAttribute("colSpan"),s.cellIndex===o&&(s.innerHTML=""))}continue;case At.resultAction.RemoveCell:pt.remove(r[a].baseCell,!0);continue}}},{key:"createTable",value:function(t,e,n){for(var o,r=[],a=0;a<t;a++)r.push("<td>"+pt.blank+"</td>");o=r.join("");for(var s,l=[],c=0;c<e;c++)l.push("<tr>"+o+"</tr>");s=l.join("");var u=i()("<table>"+s+"</table>");return n&&n.tableClassName&&u.addClass(n.tableClassName),u[0]}},{key:"deleteTable",value:function(t){var e=pt.ancestor(t.commonAncestor(),pt.isCell);i()(e).closest("table").remove()}}])&&Lt(e.prototype,n),o&&Lt(e,o),t}();function Dt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ht=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.snapshot=null,this.style=new It,this.table=new Ft,this.typing=new Rt(e),this.bullet=new Nt,this.history=new Tt(e),this.context.memo("help.escape",this.lang.help.escape),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var o=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],r=0,a=o.length;r<a;r++)this[o[r]]=function(t){return function(e){n.beforeCommand(),document.execCommand(t,!1,e),n.afterCommand(!0)}}(o[r]),this.context.memo("help."+o[r],this.lang.help[o[r]]);this.fontName=this.wrapCommand((function(t){return n.fontStyling("font-family",m.validFontName(t))})),this.fontSize=this.wrapCommand((function(t){var e=n.currentStyle()["font-size-unit"];return n.fontStyling("font-size",t+e)})),this.fontSizeUnit=this.wrapCommand((function(t){var e=n.currentStyle()["font-size"];return n.fontStyling("font-size",e+t)}));for(var s=1;s<=6;s++)this["formatH"+s]=function(t){return function(){n.formatBlock("H"+t)}}(s),this.context.memo("help.formatH"+s,this.lang.help["formatH"+s]);this.insertParagraph=this.wrapCommand((function(){n.typing.insertParagraph(n.editable)})),this.insertOrderedList=this.wrapCommand((function(){n.bullet.insertOrderedList(n.editable)})),this.insertUnorderedList=this.wrapCommand((function(){n.bullet.insertUnorderedList(n.editable)})),this.indent=this.wrapCommand((function(){n.bullet.indent(n.editable)})),this.outdent=this.wrapCommand((function(){n.bullet.outdent(n.editable)})),this.insertNode=this.wrapCommand((function(t){n.isLimited(i()(t).text().length)||(n.getLastRange().insertNode(t),n.setLastRange(wt.createFromNodeAfter(t).select()))})),this.insertText=this.wrapCommand((function(t){if(!n.isLimited(t.length)){var e=n.getLastRange().insertNode(pt.createText(t));n.setLastRange(wt.create(e,pt.nodeLength(e)).select())}})),this.pasteHTML=this.wrapCommand((function(t){if(!n.isLimited(t.length)){t=n.context.invoke("codeview.purify",t);var e=n.getLastRange().pasteHTML(t);n.setLastRange(wt.createFromNodeAfter(C.last(e)).select())}})),this.formatBlock=this.wrapCommand((function(t,e){var o=n.options.callbacks.onApplyCustomStyle;o?o.call(n,e,n.context,n.onFormatBlock):n.onFormatBlock(t,e)})),this.insertHorizontalRule=this.wrapCommand((function(){var t=n.getLastRange().insertNode(pt.create("HR"));t.nextSibling&&n.setLastRange(wt.create(t.nextSibling,0).normalize().select())})),this.lineHeight=this.wrapCommand((function(t){n.style.stylePara(n.getLastRange(),{lineHeight:t})})),this.createLink=this.wrapCommand((function(t){var e=t.url,o=t.text,r=t.isNewWindow,a=t.checkProtocol,s=t.range||n.getLastRange(),l=o.length-s.toString().length;if(!(l>0&&n.isLimited(l))){var c=s.toString()!==o;"string"==typeof e&&(e=e.trim()),n.options.onCreateLink?e=n.options.onCreateLink(e):a&&(e=/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(e)?e:n.options.defaultProtocol+e);var u=[];if(c){var d=(s=s.deleteContents()).insertNode(i()("<A>"+o+"</A>")[0]);u.push(d)}else u=n.style.styleNodes(s,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});i.a.each(u,(function(t,n){i()(n).attr("href",e),r?i()(n).attr("target","_blank"):i()(n).removeAttr("target")})),n.setLastRange(n.createRangeFromList(u).select())}})),this.color=this.wrapCommand((function(t){var e=t.foreColor,n=t.backColor;e&&document.execCommand("foreColor",!1,e),n&&document.execCommand("backColor",!1,n)})),this.foreColor=this.wrapCommand((function(t){document.execCommand("foreColor",!1,t)})),this.insertTable=this.wrapCommand((function(t){var e=t.split("x");n.getLastRange().deleteContents().insertNode(n.table.createTable(e[0],e[1],n.options))})),this.removeMedia=this.wrapCommand((function(){var t=i()(n.restoreTarget()).parent();t.closest("figure").length?t.closest("figure").remove():t=i()(n.restoreTarget()).detach(),n.context.triggerEvent("media.delete",t,n.$editable)})),this.floatMe=this.wrapCommand((function(t){var e=i()(n.restoreTarget());e.toggleClass("note-float-left","left"===t),e.toggleClass("note-float-right","right"===t),e.css("float","none"===t?"":t)})),this.resize=this.wrapCommand((function(t){var e=i()(n.restoreTarget());0===(t=parseFloat(t))?e.css("width",""):e.css({width:100*t+"%",height:""})}))}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){var t=this;this.$editable.on("keydown",(function(e){if(e.keyCode===xt.code.ENTER&&t.context.triggerEvent("enter",e),t.context.triggerEvent("keydown",e),t.snapshot=t.history.makeSnapshot(),t.hasKeyShortCut=!1,e.isDefaultPrevented()||(t.options.shortcuts?t.hasKeyShortCut=t.handleKeyMap(e):t.preventDefaultEditableShortCuts(e)),t.isLimited(1,e)){var n=t.getLastRange();if(n.eo-n.so==0)return!1}t.setLastRange(),t.options.recordEveryKeystroke&&!1===t.hasKeyShortCut&&t.history.recordUndo()})).on("keyup",(function(e){t.setLastRange(),t.context.triggerEvent("keyup",e)})).on("focus",(function(e){t.setLastRange(),t.context.triggerEvent("focus",e)})).on("blur",(function(e){t.context.triggerEvent("blur",e)})).on("mousedown",(function(e){t.context.triggerEvent("mousedown",e)})).on("mouseup",(function(e){t.setLastRange(),t.history.recordUndo(),t.context.triggerEvent("mouseup",e)})).on("scroll",(function(e){t.context.triggerEvent("scroll",e)})).on("paste",(function(e){t.setLastRange(),t.context.triggerEvent("paste",e)})).on("input",(function(){t.isLimited(0)&&t.snapshot&&t.history.applySnapshot(t.snapshot)})),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.attr("autocorrect",this.options.spellCheck),this.options.disableGrammar&&this.$editable.attr("data-gramm",!1),this.$editable.html(pt.html(this.$note)||pt.emptyPara),this.$editable.on(m.inputEventName,g.debounce((function(){t.context.triggerEvent("change",t.$editable.html(),t.$editable)}),10)),this.$editable.on("focusin",(function(e){t.context.triggerEvent("focusin",e)})).on("focusout",(function(e){t.context.triggerEvent("focusout",e)})),this.options.airMode?this.options.overrideContextMenu&&this.$editor.on("contextmenu",(function(e){return t.context.triggerEvent("contextmenu",e),!1})):(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()}},{key:"destroy",value:function(){this.$editable.off()}},{key:"handleKeyMap",value:function(t){var e=this.options.keyMap[m.isMac?"mac":"pc"],n=[];t.metaKey&&n.push("CMD"),t.ctrlKey&&!t.altKey&&n.push("CTRL"),t.shiftKey&&n.push("SHIFT");var o=xt.nameFromCode[t.keyCode];o&&n.push(o);var i=e[n.join("+")];if("TAB"!==o||this.options.tabDisable)if(i){if(!1!==this.context.invoke(i))return t.preventDefault(),!0}else xt.isEdit(t.keyCode)&&this.afterCommand();else this.afterCommand();return!1}},{key:"preventDefaultEditableShortCuts",value:function(t){(t.ctrlKey||t.metaKey)&&C.contains([66,73,85],t.keyCode)&&t.preventDefault()}},{key:"isLimited",value:function(t,e){return t=t||0,(void 0===e||!(xt.isMove(e.keyCode)||xt.isNavigation(e.keyCode)||e.ctrlKey||e.metaKey||C.contains([xt.code.BACKSPACE,xt.code.DELETE],e.keyCode)))&&this.options.maxTextLength>0&&this.$editable.text().length+t>this.options.maxTextLength}},{key:"createRange",value:function(){return this.focus(),this.setLastRange(),this.getLastRange()}},{key:"createRangeFromList",value:function(t){var e=wt.createFromNodeBefore(C.head(t)).getStartPoint(),n=wt.createFromNodeAfter(C.last(t)).getEndPoint();return wt.create(e.node,e.offset,n.node,n.offset)}},{key:"setLastRange",value:function(t){t?this.lastRange=t:(this.lastRange=wt.create(this.editable),0===i()(this.lastRange.sc).closest(".note-editable").length&&(this.lastRange=wt.createFromBodyElement(this.editable)))}},{key:"getLastRange",value:function(){return this.lastRange||this.setLastRange(),this.lastRange}},{key:"saveRange",value:function(t){t&&this.getLastRange().collapse().select()}},{key:"restoreRange",value:function(){this.lastRange&&(this.lastRange.select(),this.focus())}},{key:"saveTarget",value:function(t){this.$editable.data("target",t)}},{key:"clearTarget",value:function(){this.$editable.removeData("target")}},{key:"restoreTarget",value:function(){return this.$editable.data("target")}},{key:"currentStyle",value:function(){var t=wt.create();return t&&(t=t.normalize()),t?this.style.current(t):this.style.fromNode(this.$editable)}},{key:"styleFromNode",value:function(t){return this.style.fromNode(t)}},{key:"undo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"commit",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"redo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"beforeCommand",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),document.execCommand("styleWithCSS",!1,this.options.styleWithCSS),this.focus()}},{key:"afterCommand",value:function(t){this.normalizeContent(),this.history.recordUndo(),t||this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"tab",value:function(){var t=this.getLastRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(t,this.options.tabSize),this.afterCommand())}}},{key:"untab",value:function(){var t=this.getLastRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t,!0);else if(0===this.options.tabSize)return!1}},{key:"wrapCommand",value:function(t){return function(){this.beforeCommand(),t.apply(this,arguments),this.afterCommand()}}},{key:"insertImage",value:function(t,e){var n,o=this;return(n=t,i.a.Deferred((function(t){var e=i()("<img>");e.one("load",(function(){e.off("error abort"),t.resolve(e)})).one("error abort",(function(){e.off("load").detach(),t.reject(e)})).css({display:"none"}).appendTo(document.body).attr("src",n)})).promise()).then((function(t){o.beforeCommand(),"function"==typeof e?e(t):("string"==typeof e&&t.attr("data-filename",e),t.css("width",Math.min(o.$editable.width(),t.width()))),t.show(),o.getLastRange().insertNode(t[0]),o.setLastRange(wt.createFromNodeAfter(t[0]).select()),o.afterCommand()})).fail((function(t){o.context.triggerEvent("image.upload.error",t)}))}},{key:"insertImagesAsDataURL",value:function(t){var e=this;i.a.each(t,(function(t,n){var o=n.name;e.options.maximumImageFileSize&&e.options.maximumImageFileSize<n.size?e.context.triggerEvent("image.upload.error",e.lang.image.maximumFileSizeError):function(t){return i.a.Deferred((function(e){i.a.extend(new FileReader,{onload:function(t){var n=t.target.result;e.resolve(n)},onerror:function(t){e.reject(t)}}).readAsDataURL(t)})).promise()}(n).then((function(t){return e.insertImage(t,o)})).fail((function(){e.context.triggerEvent("image.upload.error")}))}))}},{key:"insertImagesOrCallback",value:function(t){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",t):this.insertImagesAsDataURL(t)}},{key:"getSelectedText",value:function(){var t=this.getLastRange();return t.isOnAnchor()&&(t=wt.createFromNode(pt.ancestor(t.sc,pt.isAnchor))),t.toString()}},{key:"onFormatBlock",value:function(t,e){if(document.execCommand("FormatBlock",!1,m.isMSIE?"<"+t+">":t),e&&e.length&&(e[0].tagName.toUpperCase()!==t.toUpperCase()&&(e=e.find(t)),e&&e.length)){var n=e[0].className||"";if(n){var o=this.createRange();i()([o.sc,o.ec]).closest(t).addClass(n)}}}},{key:"formatPara",value:function(){this.formatBlock("P")}},{key:"fontStyling",value:function(t,e){var n=this.getLastRange();if(""!==n){var o=this.style.styleNodes(n);if(this.$editor.find(".note-status-output").html(""),i()(o).css(t,e),n.isCollapsed()){var r=C.head(o);r&&!pt.nodeLength(r)&&(r.innerHTML=pt.ZERO_WIDTH_NBSP_CHAR,wt.createFromNode(r.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",r))}else this.setLastRange(this.createRangeFromList(o).select())}else{var a=i.a.now();this.$editor.find(".note-status-output").html('<div id="note-status-output-'+a+'" class="alert alert-info">'+this.lang.output.noSelection+"</div>"),setTimeout((function(){i()("#note-status-output-"+a).remove()}),5e3)}}},{key:"unlink",value:function(){var t=this.getLastRange();if(t.isOnAnchor()){var e=pt.ancestor(t.sc,pt.isAnchor);(t=wt.createFromNode(e)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}}},{key:"getLinkInfo",value:function(){var t=this.getLastRange().expand(pt.isAnchor),e=i()(C.head(t.nodes(pt.isAnchor))),n={range:t,text:t.toString(),url:e.length?e.attr("href"):""};return e.length&&(n.isNewWindow="_blank"===e.attr("target")),n}},{key:"addRow",value:function(t){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addRow(e,t),this.afterCommand())}},{key:"addCol",value:function(t){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addCol(e,t),this.afterCommand())}},{key:"deleteRow",value:function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(t),this.afterCommand())}},{key:"deleteCol",value:function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(t),this.afterCommand())}},{key:"deleteTable",value:function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(t),this.afterCommand())}},{key:"resizeTo",value:function(t,e,n){var o;if(n){var i=t.y/t.x,r=e.data("ratio");o={width:r>i?t.x:t.y/r,height:r>i?t.x*r:t.y}}else o={width:t.x,height:t.y};e.css(o)}},{key:"hasFocus",value:function(){return this.$editable.is(":focus")}},{key:"focus",value:function(){this.hasFocus()||this.$editable.focus()}},{key:"isEmpty",value:function(){return pt.isEmpty(this.$editable[0])||pt.emptyPara===this.$editable.html()}},{key:"empty",value:function(){this.context.invoke("code",pt.emptyPara)}},{key:"normalizeContent",value:function(){this.$editable[0].normalize()}}])&&Dt(e.prototype,n),o&&Dt(e,o),t}();function zt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Bt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$editable=e.layoutInfo.editable}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){this.$editable.on("paste",this.pasteByEvent.bind(this))}},{key:"pasteByEvent",value:function(t){var e=this,n=t.originalEvent.clipboardData;if(n&&n.items&&n.items.length){var o=n.items.length>1?n.items[1]:C.head(n.items);"file"===o.kind&&-1!==o.type.indexOf("image/")?(this.context.invoke("editor.insertImagesOrCallback",[o.getAsFile()]),t.preventDefault()):"string"===o.kind&&this.context.invoke("editor.isLimited",n.getData("Text").length)&&t.preventDefault()}else if(window.clipboardData){var i=window.clipboardData.getData("text");this.context.invoke("editor.isLimited",i.length)&&t.preventDefault()}setTimeout((function(){e.context.invoke("editor.afterCommand")}),10)}}])&&zt(e.prototype,n),o&&zt(e,o),t}();function Mt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ot=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$eventListener=i()(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=i()(['<div class="note-dropzone">','<div class="note-dropzone-message"></div>',"</div>"].join("")).prependTo(this.$editor)}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(t){t.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()}},{key:"attachDragAndDropEvent",value:function(){var t=this,e=i()(),n=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(o){var i=t.context.invoke("codeview.isActivated"),r=t.$editor.width()>0&&t.$editor.height()>0;i||e.length||!r||(t.$editor.addClass("dragover"),t.$dropzone.width(t.$editor.width()),t.$dropzone.height(t.$editor.height()),n.text(t.lang.image.dragImageHere)),e=e.add(o.target)},this.documentEventHandlers.onDragleave=function(n){(e=e.not(n.target)).length&&"BODY"!==n.target.nodeName||(e=i()(),t.$editor.removeClass("dragover"))},this.documentEventHandlers.onDrop=function(){e=i()(),t.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",(function(){t.$dropzone.addClass("hover"),n.text(t.lang.image.dropImage)})).on("dragleave",(function(){t.$dropzone.removeClass("hover"),n.text(t.lang.image.dragImageHere)})),this.$dropzone.on("drop",(function(e){var n=e.originalEvent.dataTransfer;e.preventDefault(),n&&n.files&&n.files.length?(t.$editable.focus(),t.context.invoke("editor.insertImagesOrCallback",n.files)):i.a.each(n.types,(function(e,o){if(!(o.toLowerCase().indexOf("_moz_")>-1)){var r=n.getData(o);o.toLowerCase().indexOf("text")>-1?t.context.invoke("editor.pasteHTML",r):i()(r).each((function(e,n){t.context.invoke("editor.insertNode",n)}))}}))})).on("dragover",!1)}},{key:"destroy",value:function(){var t=this;Object.keys(this.documentEventHandlers).forEach((function(e){t.$eventListener.off(e.substr(2).toLowerCase(),t.documentEventHandlers[e])})),this.documentEventHandlers={}}}])&&Mt(e.prototype,n),o&&Mt(e,o),t}();function jt(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return Ut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ut(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,r=!0,a=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return r=t.done,t},e:function(t){a=!0,i=t},f:function(){try{r||null==o.return||o.return()}finally{if(a)throw i}}}}function Ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Wt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Kt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options,this.CodeMirrorConstructor=window.CodeMirror,this.options.codemirror.CodeMirrorConstructor&&(this.CodeMirrorConstructor=this.options.codemirror.CodeMirrorConstructor)}var e,n,o;return e=t,(n=[{key:"sync",value:function(t){var e=this.isActivated(),n=this.CodeMirrorConstructor;e&&(t?n?this.$codable.data("cmEditor").getDoc().setValue(t):this.$codable.val(t):n&&this.$codable.data("cmEditor").save())}},{key:"initialize",value:function(){var t=this;this.$codable.on("keyup",(function(e){e.keyCode===xt.code.ESCAPE&&t.deactivate()}))}},{key:"isActivated",value:function(){return this.$editor.hasClass("codeview")}},{key:"toggle",value:function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")}},{key:"purify",value:function(t){if(this.options.codeviewFilter&&(t=t.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var e=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);t=t.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,(function(t){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(t))return"";var n,o=jt(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(new RegExp('src="(https?:)?//'+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(t))return t}}catch(t){o.e(t)}finally{o.f()}return""}))}return t}},{key:"activate",value:function(){var t=this,e=this.CodeMirrorConstructor;if(this.$codable.val(pt.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.context.invoke("airPopover.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),e){var n=e.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var o=new e.TernServer(this.options.codemirror.tern);n.ternServer=o,n.on("cursorActivity",(function(t){o.updateArgHints(t)}))}n.on("blur",(function(e){t.context.triggerEvent("blur.codeview",n.getValue(),e)})),n.on("change",(function(){t.context.triggerEvent("change.codeview",n.getValue(),n)})),n.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",n)}else this.$codable.on("blur",(function(e){t.context.triggerEvent("blur.codeview",t.$codable.val(),e)})),this.$codable.on("input",(function(){t.context.triggerEvent("change.codeview",t.$codable.val(),t.$codable)}))}},{key:"deactivate",value:function(){if(this.CodeMirrorConstructor){var t=this.$codable.data("cmEditor");this.$codable.val(t.getValue()),t.toTextArea()}var e=this.purify(pt.value(this.$codable,this.options.prettifyHtml)||pt.emptyPara),n=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),n&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1),this.context.invoke("airPopover.updateCodeview",!1)}},{key:"destroy",value:function(){this.isActivated()&&this.deactivate()}}])&&Wt(e.prototype,n),o&&Wt(e,o),t}();function qt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Vt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$document=i()(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){var t=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",(function(e){e.preventDefault(),e.stopPropagation();var n=t.$editable.offset().top-t.$document.scrollTop(),o=function(e){var o=e.clientY-(n+24);o=t.options.minheight>0?Math.max(o,t.options.minheight):o,o=t.options.maxHeight>0?Math.min(o,t.options.maxHeight):o,t.$editable.height(o)};t.$document.on("mousemove",o).one("mouseup",(function(){t.$document.off("mousemove",o)}))}))}},{key:"destroy",value:function(){this.$statusbar.off(),this.$statusbar.addClass("locked")}}])&&qt(e.prototype,n),o&&qt(e,o),t}();function _t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Gt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=i()(window),this.$scrollbar=i()("html, body"),this.onResize=function(){n.resizeTo({h:n.$window.height()-n.$toolbar.outerHeight()})}}var e,n,o;return e=t,(n=[{key:"resizeTo",value:function(t){this.$editable.css("height",t.h),this.$codable.css("height",t.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,t.h)}},{key:"toggle",value:function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())}},{key:"isFullscreen",value:function(){return this.$editor.hasClass("fullscreen")}}])&&_t(e.prototype,n),o&&_t(e,o),t}();function Yt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Zt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$document=i()(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(t,e){n.update(e.target,e)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable summernote.blur":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){var t=this;this.$handle=i()(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",(function(e){if(pt.isControlSizing(e.target)){e.preventDefault(),e.stopPropagation();var n=t.$handle.find(".note-control-selection").data("target"),o=n.offset(),i=t.$document.scrollTop(),r=function(e){t.context.invoke("editor.resizeTo",{x:e.clientX-o.left,y:e.clientY-(o.top-i)},n,!e.shiftKey),t.update(n[0],e)};t.$document.on("mousemove",r).one("mouseup",(function(e){e.preventDefault(),t.$document.off("mousemove",r),t.context.invoke("editor.afterCommand")})),n.data("ratio")||n.data("ratio",n.height()/n.width())}})),this.$handle.on("wheel",(function(e){e.preventDefault(),t.update()}))}},{key:"destroy",value:function(){this.$handle.remove()}},{key:"update",value:function(t,e){if(this.context.isDisabled())return!1;var n=pt.isImg(t),o=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",t,e),n){var r=i()(t),a=r.position(),s={left:a.left+parseInt(r.css("marginLeft"),10),top:a.top+parseInt(r.css("marginTop"),10)},l={w:r.outerWidth(!1),h:r.outerHeight(!1)};o.css({display:"block",left:s.left,top:s.top,width:l.w,height:l.h}).data("target",r);var c=new Image;c.src=r.attr("src");var u=l.w+"x"+l.h+" ("+this.lang.image.original+": "+c.width+"x"+c.height+")";o.find(".note-control-selection-info").text(u),this.context.invoke("editor.saveTarget",t)}else this.hide();return n}},{key:"hide",value:function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()}}])&&Yt(e.prototype,n),o&&Yt(e,o),t}();function Xt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Qt=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Jt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.options=e.options,this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||n.handleKeyup(e)},"summernote.keydown":function(t,e){n.handleKeydown(e)}}}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){this.lastWordRange=null}},{key:"destroy",value:function(){this.lastWordRange=null}},{key:"replace",value:function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),e=t.match(Qt);if(e&&(e[1]||e[2])){var n=e[1]?t:"http://"+t,o=this.options.showDomainOnlyForAutolink?t.replace(/^(?:https?:\/\/)?(?:tel?:?)?(?:mailto?:?)?(?:www\.)?/i,"").split("/")[0]:t,r=i()("<a />").html(o).attr("href",n)[0];this.context.options.linkTargetBlank&&i()(r).attr("target","_blank"),this.lastWordRange.insertNode(r),this.lastWordRange=null,this.context.invoke("editor.focus")}}}},{key:"handleKeydown",value:function(t){if(C.contains([xt.code.ENTER,xt.code.SPACE],t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=e}}},{key:"handleKeyup",value:function(t){C.contains([xt.code.ENTER,xt.code.SPACE],t.keyCode)&&this.replace()}}])&&Xt(e.prototype,n),o&&Xt(e,o),t}();function te(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ee=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){n.$note.val(e.invoke("code"))}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return pt.isTextarea(this.$note[0])}}])&&te(e.prototype,n),o&&te(e,o),t}();function ne(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var oe=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.options=e.options.replace||{},this.keys=[xt.code.ENTER,xt.code.SPACE,xt.code.PERIOD,xt.code.COMMA,xt.code.SEMICOLON,xt.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||n.handleKeyup(e)},"summernote.keydown":function(t,e){n.handleKeydown(e)}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return!!this.options.match}},{key:"initialize",value:function(){this.lastWord=null}},{key:"destroy",value:function(){this.lastWord=null}},{key:"replace",value:function(){if(this.lastWord){var t=this,e=this.lastWord.toString();this.options.match(e,(function(e){if(e){var n="";if("string"==typeof e?n=pt.createText(e):e instanceof jQuery?n=e[0]:e instanceof Node&&(n=e),!n)return;t.lastWord.insertNode(n),t.lastWord=null,t.context.invoke("editor.focus")}}))}}},{key:"handleKeydown",value:function(t){if(this.previousKeydownCode&&C.contains(this.keys,this.previousKeydownCode))this.previousKeydownCode=t.keyCode;else{if(C.contains(this.keys,t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWord=e}this.previousKeydownCode=t.keyCode}}},{key:"handleKeyup",value:function(t){C.contains(this.keys,t.keyCode)&&this.replace()}}])&&ne(e.prototype,n),o&&ne(e,o),t}();function ie(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var re=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,!0===this.options.inheritPlaceholder&&(this.options.placeholder=this.context.$note.attr("placeholder")||this.options.placeholder),this.events={"summernote.init summernote.change":function(){n.update()},"summernote.codeview.toggled":function(){n.update()}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return!!this.options.placeholder}},{key:"initialize",value:function(){var t=this;this.$placeholder=i()('<div class="note-placeholder">'),this.$placeholder.on("click",(function(){t.context.invoke("focus")})).html(this.options.placeholder).prependTo(this.$editingArea),this.update()}},{key:"destroy",value:function(){this.$placeholder.remove()}},{key:"update",value:function(){var t=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(t)}}])&&ie(e.prototype,n),o&&ie(e,o),t}();function ae(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var se=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ui=i.a.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=g.invertObject(this.options.keyMap[m.isMac?"mac":"pc"])}var e,n,o;return e=t,(n=[{key:"representShortcut",value:function(t){var e=this.invertedKeyMap[t];return this.options.shortcuts&&e?(m.isMac&&(e=e.replace("CMD","⌘").replace("SHIFT","⇧"))," ("+(e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""}},{key:"button",value:function(t){return!this.options.tooltip&&t.tooltip&&delete t.tooltip,t.container=this.options.container,this.ui.button(t)}},{key:"initialize",value:function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}}},{key:"destroy",value:function(){delete this.fontInstalledMap}},{key:"isFontInstalled",value:function(t){return Object.prototype.hasOwnProperty.call(this.fontInstalledMap,t)||(this.fontInstalledMap[t]=m.isFontInstalled(t)||C.contains(this.options.fontNamesIgnoreCheck,t)),this.fontInstalledMap[t]}},{key:"isFontDeservedToAdd",value:function(t){return""!==(t=t.toLowerCase())&&this.isFontInstalled(t)&&-1===m.genericFontFamilies.indexOf(t)}},{key:"colorPalette",value:function(t,e,n,o){var r=this;return this.ui.buttonGroup({className:"note-color "+t,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:e,click:function(t){var e=i()(t.currentTarget);n&&o?r.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")}):n?r.context.invoke("editor.color",{backColor:e.attr("data-backColor")}):o&&r.context.invoke("editor.color",{foreColor:e.attr("data-foreColor")})},callback:function(t){var e=t.find(".note-recent-color");n&&(e.css("background-color",r.options.colorButton.backColor),t.attr("data-backColor",r.options.colorButton.backColor)),o?(e.css("color",r.options.colorButton.foreColor),t.attr("data-foreColor",r.options.colorButton.foreColor)):e.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.background+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="backColor" data-value="transparent">',this.lang.color.transparent,"</button>","</div>",'<div class="note-holder" data-event="backColor">\x3c!-- back colors --\x3e</div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"</button>",'<input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"</div>",'<div class="note-holder-custom" id="backColorPalette" data-event="backColor"></div>',"</div>"].join(""):"")+(o?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.foreground+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"</button>","</div>",'<div class="note-holder" data-event="foreColor">\x3c!-- fore colors --\x3e</div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"</button>",'<input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">',"</div>",'<div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"></div>',"</div>"].join(""):""),callback:function(t){t.find(".note-holder").each((function(t,e){var n=i()(e);n.append(r.ui.palette({colors:r.options.colors,colorsName:r.options.colorsName,eventName:n.data("event"),container:r.options.container,tooltip:r.options.tooltip}).render())}));var e=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];t.find(".note-holder-custom").each((function(t,n){var o=i()(n);o.append(r.ui.palette({colors:e,colorsName:e,eventName:o.data("event"),container:r.options.container,tooltip:r.options.tooltip}).render())})),t.find("input[type=color]").each((function(e,n){i()(n).change((function(){var e=t.find("#"+i()(this).data("event")).find(".note-color-btn").first(),n=this.value.toUpperCase();e.css("background-color",n).attr("aria-label",n).attr("data-value",n).attr("data-original-title",n),e.click()}))}))},click:function(e){e.stopPropagation();var n=i()("."+t).find(".note-dropdown-menu"),o=i()(e.target),a=o.data("event"),s=o.attr("data-value");if("openPalette"===a){var l=n.find("#"+s),c=i()(n.find("#"+l.data("event")).find(".note-color-row")[0]),u=c.find(".note-color-btn").last().detach(),d=l.val();u.css("background-color",d).attr("aria-label",d).attr("data-value",d).attr("data-original-title",d),c.prepend(u),l.click()}else{if(C.contains(["backColor","foreColor"],a)){var h="backColor"===a?"background-color":"color",f=o.closest(".note-color").find(".note-recent-color"),p=o.closest(".note-color").find(".note-current-color-button");f.css(h,s),p.attr("data-"+a,s)}r.context.invoke("editor."+a,s)}}})]}).render()}},{key:"addToolbarButtons",value:function(){var t=this;this.context.memo("button.style",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.magic),t.options),tooltip:t.lang.style.style,data:{toggle:"dropdown"}}),t.ui.dropdown({className:"dropdown-style",items:t.options.styleTags,title:t.lang.style.style,template:function(e){"string"==typeof e&&(e={tag:e,title:Object.prototype.hasOwnProperty.call(t.lang.style,e)?t.lang.style[e]:e});var n=e.tag,o=e.title;return"<"+n+(e.style?' style="'+e.style+'" ':"")+(e.className?' class="'+e.className+'"':"")+">"+o+"</"+n+">"},click:t.context.createInvokeHandler("editor.formatBlock")})]).render()}));for(var e=function(e,n){var o=t.options.styleTags[e];t.context.memo("button.style."+o,(function(){return t.button({className:"note-btn-style-"+o,contents:'<div data-value="'+o+'">'+o.toUpperCase()+"</div>",tooltip:t.lang.style[o],click:t.context.createInvokeHandler("editor.formatBlock")}).render()}))},n=0,o=this.options.styleTags.length;n<o;n++)e(n);this.context.memo("button.bold",(function(){return t.button({className:"note-btn-bold",contents:t.ui.icon(t.options.icons.bold),tooltip:t.lang.font.bold+t.representShortcut("bold"),click:t.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()})),this.context.memo("button.italic",(function(){return t.button({className:"note-btn-italic",contents:t.ui.icon(t.options.icons.italic),tooltip:t.lang.font.italic+t.representShortcut("italic"),click:t.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()})),this.context.memo("button.underline",(function(){return t.button({className:"note-btn-underline",contents:t.ui.icon(t.options.icons.underline),tooltip:t.lang.font.underline+t.representShortcut("underline"),click:t.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()})),this.context.memo("button.clear",(function(){return t.button({contents:t.ui.icon(t.options.icons.eraser),tooltip:t.lang.font.clear+t.representShortcut("removeFormat"),click:t.context.createInvokeHandler("editor.removeFormat")}).render()})),this.context.memo("button.strikethrough",(function(){return t.button({className:"note-btn-strikethrough",contents:t.ui.icon(t.options.icons.strikethrough),tooltip:t.lang.font.strikethrough+t.representShortcut("strikethrough"),click:t.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()})),this.context.memo("button.superscript",(function(){return t.button({className:"note-btn-superscript",contents:t.ui.icon(t.options.icons.superscript),tooltip:t.lang.font.superscript,click:t.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()})),this.context.memo("button.subscript",(function(){return t.button({className:"note-btn-subscript",contents:t.ui.icon(t.options.icons.subscript),tooltip:t.lang.font.subscript,click:t.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()})),this.context.memo("button.fontname",(function(){var e=t.context.invoke("editor.currentStyle");return t.options.addDefaultFonts&&i.a.each(e["font-family"].split(","),(function(e,n){n=n.trim().replace(/['"]+/g,""),t.isFontDeservedToAdd(n)&&-1===t.options.fontNames.indexOf(n)&&t.options.fontNames.push(n)})),t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents('<span class="note-current-fontname"></span>',t.options),tooltip:t.lang.font.name,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:t.options.icons.menuCheck,items:t.options.fontNames.filter(t.isFontInstalled.bind(t)),title:t.lang.font.name,template:function(t){return'<span style="font-family: '+m.validFontName(t)+'">'+t+"</span>"},click:t.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()})),this.context.memo("button.fontsize",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents('<span class="note-current-fontsize"></span>',t.options),tooltip:t.lang.font.size,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:t.options.icons.menuCheck,items:t.options.fontSizes,title:t.lang.font.size,click:t.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()})),this.context.memo("button.fontsizeunit",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents('<span class="note-current-fontsizeunit"></span>',t.options),tooltip:t.lang.font.sizeunit,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({className:"dropdown-fontsizeunit",checkClassName:t.options.icons.menuCheck,items:t.options.fontSizeUnits,title:t.lang.font.sizeunit,click:t.context.createInvokeHandlerAndUpdateState("editor.fontSizeUnit")})]).render()})),this.context.memo("button.color",(function(){return t.colorPalette("note-color-all",t.lang.color.recent,!0,!0)})),this.context.memo("button.forecolor",(function(){return t.colorPalette("note-color-fore",t.lang.color.foreground,!1,!0)})),this.context.memo("button.backcolor",(function(){return t.colorPalette("note-color-back",t.lang.color.background,!0,!1)})),this.context.memo("button.ul",(function(){return t.button({contents:t.ui.icon(t.options.icons.unorderedlist),tooltip:t.lang.lists.unordered+t.representShortcut("insertUnorderedList"),click:t.context.createInvokeHandler("editor.insertUnorderedList")}).render()})),this.context.memo("button.ol",(function(){return t.button({contents:t.ui.icon(t.options.icons.orderedlist),tooltip:t.lang.lists.ordered+t.representShortcut("insertOrderedList"),click:t.context.createInvokeHandler("editor.insertOrderedList")}).render()}));var r=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),a=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),s=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),l=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),c=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),u=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",g.invoke(r,"render")),this.context.memo("button.justifyCenter",g.invoke(a,"render")),this.context.memo("button.justifyRight",g.invoke(s,"render")),this.context.memo("button.justifyFull",g.invoke(l,"render")),this.context.memo("button.outdent",g.invoke(c,"render")),this.context.memo("button.indent",g.invoke(u,"render")),this.context.memo("button.paragraph",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.alignLeft),t.options),tooltip:t.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),t.ui.dropdown([t.ui.buttonGroup({className:"note-align",children:[r,a,s,l]}),t.ui.buttonGroup({className:"note-list",children:[c,u]})])]).render()})),this.context.memo("button.height",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.textHeight),t.options),tooltip:t.lang.font.height,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({items:t.options.lineHeights,checkClassName:t.options.icons.menuCheck,className:"dropdown-line-height",title:t.lang.font.height,click:t.context.createInvokeHandler("editor.lineHeight")})]).render()})),this.context.memo("button.table",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.table),t.options),tooltip:t.lang.table.table,data:{toggle:"dropdown"}}),t.ui.dropdown({title:t.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:t.options.insertTableMaxSize.col+"em",height:t.options.insertTableMaxSize.row+"em"}).mousedown(t.context.createInvokeHandler("editor.insertTable")).on("mousemove",t.tableMoveHandler.bind(t))}}).render()})),this.context.memo("button.link",(function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.link+t.representShortcut("linkDialog.show"),click:t.context.createInvokeHandler("linkDialog.show")}).render()})),this.context.memo("button.picture",(function(){return t.button({contents:t.ui.icon(t.options.icons.picture),tooltip:t.lang.image.image,click:t.context.createInvokeHandler("imageDialog.show")}).render()})),this.context.memo("button.video",(function(){return t.button({contents:t.ui.icon(t.options.icons.video),tooltip:t.lang.video.video,click:t.context.createInvokeHandler("videoDialog.show")}).render()})),this.context.memo("button.hr",(function(){return t.button({contents:t.ui.icon(t.options.icons.minus),tooltip:t.lang.hr.insert+t.representShortcut("insertHorizontalRule"),click:t.context.createInvokeHandler("editor.insertHorizontalRule")}).render()})),this.context.memo("button.fullscreen",(function(){return t.button({className:"btn-fullscreen note-codeview-keep",contents:t.ui.icon(t.options.icons.arrowsAlt),tooltip:t.lang.options.fullscreen,click:t.context.createInvokeHandler("fullscreen.toggle")}).render()})),this.context.memo("button.codeview",(function(){return t.button({className:"btn-codeview note-codeview-keep",contents:t.ui.icon(t.options.icons.code),tooltip:t.lang.options.codeview,click:t.context.createInvokeHandler("codeview.toggle")}).render()})),this.context.memo("button.redo",(function(){return t.button({contents:t.ui.icon(t.options.icons.redo),tooltip:t.lang.history.redo+t.representShortcut("redo"),click:t.context.createInvokeHandler("editor.redo")}).render()})),this.context.memo("button.undo",(function(){return t.button({contents:t.ui.icon(t.options.icons.undo),tooltip:t.lang.history.undo+t.representShortcut("undo"),click:t.context.createInvokeHandler("editor.undo")}).render()})),this.context.memo("button.help",(function(){return t.button({contents:t.ui.icon(t.options.icons.question),tooltip:t.lang.options.help,click:t.context.createInvokeHandler("helpDialog.show")}).render()}))}},{key:"addImagePopoverButtons",value:function(){var t=this;this.context.memo("button.resizeFull",(function(){return t.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:t.lang.image.resizeFull,click:t.context.createInvokeHandler("editor.resize","1")}).render()})),this.context.memo("button.resizeHalf",(function(){return t.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:t.lang.image.resizeHalf,click:t.context.createInvokeHandler("editor.resize","0.5")}).render()})),this.context.memo("button.resizeQuarter",(function(){return t.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:t.lang.image.resizeQuarter,click:t.context.createInvokeHandler("editor.resize","0.25")}).render()})),this.context.memo("button.resizeNone",(function(){return t.button({contents:t.ui.icon(t.options.icons.rollback),tooltip:t.lang.image.resizeNone,click:t.context.createInvokeHandler("editor.resize","0")}).render()})),this.context.memo("button.floatLeft",(function(){return t.button({contents:t.ui.icon(t.options.icons.floatLeft),tooltip:t.lang.image.floatLeft,click:t.context.createInvokeHandler("editor.floatMe","left")}).render()})),this.context.memo("button.floatRight",(function(){return t.button({contents:t.ui.icon(t.options.icons.floatRight),tooltip:t.lang.image.floatRight,click:t.context.createInvokeHandler("editor.floatMe","right")}).render()})),this.context.memo("button.floatNone",(function(){return t.button({contents:t.ui.icon(t.options.icons.rollback),tooltip:t.lang.image.floatNone,click:t.context.createInvokeHandler("editor.floatMe","none")}).render()})),this.context.memo("button.removeMedia",(function(){return t.button({contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.image.remove,click:t.context.createInvokeHandler("editor.removeMedia")}).render()}))}},{key:"addLinkPopoverButtons",value:function(){var t=this;this.context.memo("button.linkDialogShow",(function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.edit,click:t.context.createInvokeHandler("linkDialog.show")}).render()})),this.context.memo("button.unlink",(function(){return t.button({contents:t.ui.icon(t.options.icons.unlink),tooltip:t.lang.link.unlink,click:t.context.createInvokeHandler("editor.unlink")}).render()}))}},{key:"addTablePopoverButtons",value:function(){var t=this;this.context.memo("button.addRowUp",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowAbove),tooltip:t.lang.table.addRowAbove,click:t.context.createInvokeHandler("editor.addRow","top")}).render()})),this.context.memo("button.addRowDown",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowBelow),tooltip:t.lang.table.addRowBelow,click:t.context.createInvokeHandler("editor.addRow","bottom")}).render()})),this.context.memo("button.addColLeft",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colBefore),tooltip:t.lang.table.addColLeft,click:t.context.createInvokeHandler("editor.addCol","left")}).render()})),this.context.memo("button.addColRight",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colAfter),tooltip:t.lang.table.addColRight,click:t.context.createInvokeHandler("editor.addCol","right")}).render()})),this.context.memo("button.deleteRow",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowRemove),tooltip:t.lang.table.delRow,click:t.context.createInvokeHandler("editor.deleteRow")}).render()})),this.context.memo("button.deleteCol",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colRemove),tooltip:t.lang.table.delCol,click:t.context.createInvokeHandler("editor.deleteCol")}).render()})),this.context.memo("button.deleteTable",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.table.delTable,click:t.context.createInvokeHandler("editor.deleteTable")}).render()}))}},{key:"build",value:function(t,e){for(var n=0,o=e.length;n<o;n++){for(var i=e[n],r=Array.isArray(i)?i[0]:i,a=Array.isArray(i)?1===i.length?[i[0]]:i[1]:[i],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var u=this.context.memo("button."+a[l]);u&&s.append("function"==typeof u?u(this.context):u)}s.appendTo(t)}}},{key:"updateCurrentStyle",value:function(t){var e=this,n=t||this.$toolbar,o=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(n,{".note-btn-bold":function(){return"bold"===o["font-bold"]},".note-btn-italic":function(){return"italic"===o["font-italic"]},".note-btn-underline":function(){return"underline"===o["font-underline"]},".note-btn-subscript":function(){return"subscript"===o["font-subscript"]},".note-btn-superscript":function(){return"superscript"===o["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===o["font-strikethrough"]}}),o["font-family"]){var r=o["font-family"].split(",").map((function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")})),a=C.find(r,this.isFontInstalled.bind(this));n.find(".dropdown-fontname a").each((function(t,e){var n=i()(e),o=n.data("value")+""==a+"";n.toggleClass("checked",o)})),n.find(".note-current-fontname").text(a).css("font-family",a)}if(o["font-size"]){var s=o["font-size"];n.find(".dropdown-fontsize a").each((function(t,e){var n=i()(e),o=n.data("value")+""==s+"";n.toggleClass("checked",o)})),n.find(".note-current-fontsize").text(s);var l=o["font-size-unit"];n.find(".dropdown-fontsizeunit a").each((function(t,e){var n=i()(e),o=n.data("value")+""==l+"";n.toggleClass("checked",o)})),n.find(".note-current-fontsizeunit").text(l)}if(o["line-height"]){var c=o["line-height"];n.find(".dropdown-line-height li a").each((function(t,n){var o=i()(n).data("value")+""==c+"";e.className=o?"checked":""}))}}},{key:"updateBtnStates",value:function(t,e){var n=this;i.a.each(e,(function(e,o){n.ui.toggleBtnActive(t.find(e),o())}))}},{key:"tableMoveHandler",value:function(t){var e,n=i()(t.target.parentNode),o=n.next(),r=n.find(".note-dimension-picker-mousecatcher"),a=n.find(".note-dimension-picker-highlighted"),s=n.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var l=i()(t.target).offset();e={x:t.pageX-l.left,y:t.pageY-l.top}}else e={x:t.offsetX,y:t.offsetY};var c=Math.ceil(e.x/18)||1,u=Math.ceil(e.y/18)||1;a.css({width:c+"em",height:u+"em"}),r.data("value",c+"x"+u),c>3&&c<this.options.insertTableMaxSize.col&&s.css({width:c+1+"em"}),u>3&&u<this.options.insertTableMaxSize.row&&s.css({height:u+1+"em"}),o.html(c+" x "+u)}}])&&ae(e.prototype,n),o&&ae(e,o),t}();function le(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ce=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$window=i()(window),this.$document=i()(document),this.ui=i.a.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$statusbar=e.layoutInfo.statusbar,this.options=e.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return!this.options.airMode}},{key:"initialize",value:function(){var t=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",(function(){t.context.invoke("buttons.updateCurrentStyle")})),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)}},{key:"destroy",value:function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)}},{key:"followScroll",value:function(){if(this.$editor.hasClass("fullscreen"))return!1;var t=this.$editor.outerHeight(),e=this.$editor.width(),n=this.$toolbar.height(),o=this.$statusbar.height(),r=0;this.options.otherStaticBar&&(r=i()(this.options.otherStaticBar).outerHeight());var a=this.$document.scrollTop(),s=this.$editor.offset().top,l=s-r,c=s+t-r-n-o;!this.isFollowing&&a>l&&a<c-n?(this.isFollowing=!0,this.$editable.css({marginTop:this.$toolbar.outerHeight()}),this.$toolbar.css({position:"fixed",top:r,width:e,zIndex:1e3})):this.isFollowing&&(a<l||a>c)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%",zIndex:"auto"}),this.$editable.css({marginTop:""}))}},{key:"changeContainer",value:function(t){t?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.options.followingToolbar&&this.followScroll()}},{key:"updateFullscreen",value:function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),t),this.changeContainer(t)}},{key:"updateCodeview",value:function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),t),t?this.deactivate():this.activate()}},{key:"activate",value:function(t){var e=this.$toolbar.find("button");t||(e=e.not(".note-codeview-keep")),this.ui.toggleBtn(e,!0)}},{key:"deactivate",value:function(t){var e=this.$toolbar.find("button");t||(e=e.not(".note-codeview-keep")),this.ui.toggleBtn(e,!1)}}])&&le(e.prototype,n),o&&le(e,o),t}();function ue(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var de=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.$body=i()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){var t=this.options.dialogsInBody?this.$body:this.options.container,e=['<div class="form-group note-form-group">','<label for="note-dialog-link-txt-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.textToDisplay,"</label>"),'<input id="note-dialog-link-txt-'.concat(this.options.id,'" class="note-link-text form-control note-form-control note-input" type="text"/>'),"</div>",'<div class="form-group note-form-group">','<label for="note-dialog-link-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.url,"</label>"),'<input id="note-dialog-link-url-'.concat(this.options.id,'" class="note-link-url form-control note-form-control note-input" type="text" value="http://"/>'),"</div>",this.options.disableLinkTarget?"":i()("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html(),i()("<div/>").append(this.ui.checkbox({className:"sn-checkbox-use-protocol",text:this.lang.link.useProtocol,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-link-btn",'" value="').concat(this.lang.link.insert,'" disabled>');this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:e,footer:n}).render().appendTo(t)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(t,e){t.on("keypress",(function(t){t.keyCode===xt.code.ENTER&&(t.preventDefault(),e.trigger("click"))}))}},{key:"toggleLinkBtn",value:function(t,e,n){this.ui.toggleBtn(t,e.val()&&n.val())}},{key:"showLinkDialog",value:function(t){var e=this;return i.a.Deferred((function(n){var o=e.$dialog.find(".note-link-text"),i=e.$dialog.find(".note-link-url"),r=e.$dialog.find(".note-link-btn"),a=e.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]"),s=e.$dialog.find(".sn-checkbox-use-protocol input[type=checkbox]");e.ui.onDialogShown(e.$dialog,(function(){e.context.triggerEvent("dialog.shown"),!t.url&&g.isValidUrl(t.text)&&(t.url=t.text),o.on("input paste propertychange",(function(){t.text=o.val(),e.toggleLinkBtn(r,o,i)})).val(t.text),i.on("input paste propertychange",(function(){t.text||o.val(i.val()),e.toggleLinkBtn(r,o,i)})).val(t.url),m.isSupportTouch||i.trigger("focus"),e.toggleLinkBtn(r,o,i),e.bindEnterKey(i,r),e.bindEnterKey(o,r);var l=void 0!==t.isNewWindow?t.isNewWindow:e.context.options.linkTargetBlank;a.prop("checked",l);var c=!t.url&&e.context.options.useProtocol;s.prop("checked",c),r.one("click",(function(r){r.preventDefault(),n.resolve({range:t.range,url:i.val(),text:o.val(),isNewWindow:a.is(":checked"),checkProtocol:s.is(":checked")}),e.ui.hideDialog(e.$dialog)}))})),e.ui.onDialogHidden(e.$dialog,(function(){o.off(),i.off(),r.off(),"pending"===n.state()&&n.reject()})),e.ui.showDialog(e.$dialog)})).promise()}},{key:"show",value:function(){var t=this,e=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(e).then((function(e){t.context.invoke("editor.restoreRange"),t.context.invoke("editor.createLink",e)})).fail((function(){t.context.invoke("editor.restoreRange")}))}}])&&ue(e.prototype,n),o&&ue(e,o),t}();function he(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var fe=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){n.update()},"summernote.disable summernote.dialog.shown summernote.blur":function(){n.hide()}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return!C.isEmpty(this.options.popover.link)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(t){t.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.link),this.$popover.on("mousedown",(function(t){t.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(){if(this.context.invoke("editor.hasFocus")){var t=this.context.invoke("editor.getLastRange");if(t.isCollapsed()&&t.isOnAnchor()){var e=pt.ancestor(t.sc,pt.isAnchor),n=i()(e).attr("href");this.$popover.find("a").attr("href",n).text(n);var o=pt.posFromPlaceholder(e),r=i()(this.options.container).offset();o.top-=r.top,o.left-=r.left,this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide()}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}])&&he(e.prototype,n),o&&he(e,o),t}();function pe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var me=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.$body=i()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){var t="";if(this.options.maximumImageFileSize){var e=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=1*(this.options.maximumImageFileSize/Math.pow(1024,e)).toFixed(2)+" "+" KMGTP"[e]+"B";t="<small>".concat(this.lang.image.maximumFileSize+" : "+n,"</small>")}var o=this.options.dialogsInBody?this.$body:this.options.container,i=['<div class="form-group note-form-group note-group-select-from-files">','<label for="note-dialog-image-file-'+this.options.id+'" class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input id="note-dialog-image-file-'+this.options.id+'" class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple"/>',t,"</div>",'<div class="form-group note-group-image-url">','<label for="note-dialog-image-url-'+this.options.id+'" class="note-form-label">'+this.lang.image.url+"</label>",'<input id="note-dialog-image-url-'+this.options.id+'" class="note-image-url form-control note-form-control note-input" type="text"/>',"</div>"].join(""),r='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-image-btn",'" value="').concat(this.lang.image.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:i,footer:r}).render().appendTo(o)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(t,e){t.on("keypress",(function(t){t.keyCode===xt.code.ENTER&&(t.preventDefault(),e.trigger("click"))}))}},{key:"show",value:function(){var t=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then((function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange"),"string"==typeof e?t.options.callbacks.onImageLinkInsert?t.context.triggerEvent("image.link.insert",e):t.context.invoke("editor.insertImage",e):t.context.invoke("editor.insertImagesOrCallback",e)})).fail((function(){t.context.invoke("editor.restoreRange")}))}},{key:"showImageDialog",value:function(){var t=this;return i.a.Deferred((function(e){var n=t.$dialog.find(".note-image-input"),o=t.$dialog.find(".note-image-url"),i=t.$dialog.find(".note-image-btn");t.ui.onDialogShown(t.$dialog,(function(){t.context.triggerEvent("dialog.shown"),n.replaceWith(n.clone().on("change",(function(t){e.resolve(t.target.files||t.target.value)})).val("")),o.on("input paste propertychange",(function(){t.ui.toggleBtn(i,o.val())})).val(""),m.isSupportTouch||o.trigger("focus"),i.click((function(t){t.preventDefault(),e.resolve(o.val())})),t.bindEnterKey(o,i)})),t.ui.onDialogHidden(t.$dialog,(function(){n.off(),o.off(),i.off(),"pending"===e.state()&&e.reject()})),t.ui.showDialog(t.$dialog)}))}}])&&pe(e.prototype,n),o&&pe(e,o),t}();function ve(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ge=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable summernote.blur":function(){n.hide()}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return!C.isEmpty(this.options.popover.image)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.image),this.$popover.on("mousedown",(function(t){t.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(t,e){if(pt.isImg(t)){var n=i()(t).offset(),o=i()(this.options.container).offset(),r={};this.options.popatmouse?(r.left=e.pageX-20,r.top=e.pageY):r=n,r.top-=o.top,r.left-=o.left,this.$popover.css({display:"block",left:r.left,top:r.top})}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}])&&ve(e.prototype,n),o&&ve(e,o),t}();function be(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ye=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(t,e){n.update(e.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable summernote.blur":function(){n.hide()}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return!C.isEmpty(this.options.popover.table)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.table),m.isFF&&document.execCommand("enableInlineTableEditing",!1,!1),this.$popover.on("mousedown",(function(t){t.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(t){if(this.context.isDisabled())return!1;var e=pt.isCell(t);if(e){var n=pt.posFromPlaceholder(t),o=i()(this.options.container).offset();n.top-=o.top,n.left-=o.left,this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide();return e}},{key:"hide",value:function(){this.$popover.hide()}}])&&be(e.prototype,n),o&&be(e,o),t}();function ke(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var we=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.$body=i()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){var t=this.options.dialogsInBody?this.$body:this.options.container,e=['<div class="form-group note-form-group row-fluid">','<label for="note-dialog-video-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.video.url,' <small class="text-muted">').concat(this.lang.video.providers,"</small></label>"),'<input id="note-dialog-video-url-'.concat(this.options.id,'" class="note-video-url form-control note-form-control note-input" type="text"/>'),"</div>"].join(""),n='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-video-btn",'" value="').concat(this.lang.video.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:e,footer:n}).render().appendTo(t)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(t,e){t.on("keypress",(function(t){t.keyCode===xt.code.ENTER&&(t.preventDefault(),e.trigger("click"))}))}},{key:"createVideoNode",value:function(t){var e,n=t.match(/\/\/(?:(?:www|m)\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),o=t.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),r=t.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),a=t.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),s=t.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),l=t.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),c=t.match(/\/\/v\.qq\.com.*?vid=(.+)/),u=t.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),d=t.match(/^.+.(mp4|m4v)$/),h=t.match(/^.+.(ogg|ogv)$/),f=t.match(/^.+.(webm)$/),p=t.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(n&&11===n[1].length){var m=n[1],v=0;if(void 0!==n[2]){var g=n[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(g)for(var b=[3600,60,1],y=0,k=b.length;y<k;y++)v+=void 0!==g[y+1]?b[y]*parseInt(g[y+1],10):0}e=i()("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+m+(v>0?"?start="+v:"")).attr("width","640").attr("height","360")}else if(o&&o[0].length)e=i()("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+o[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(r&&r[0].length)e=i()("<iframe>").attr("frameborder",0).attr("src",r[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(a&&a[3].length)e=i()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+a[3]).attr("width","640").attr("height","360");else if(s&&s[2].length)e=i()("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+s[2]).attr("width","640").attr("height","360");else if(l&&l[1].length)e=i()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+l[1]);else if(c&&c[1].length||u&&u[2].length){var w=c&&c[1].length?c[1]:u[2];e=i()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","https://v.qq.com/txp/iframe/player.html?vid="+w+"&amp;auto=0")}else if(d||h||f)e=i()("<video controls>").attr("src",t).attr("width","640").attr("height","360");else{if(!p||!p[0].length)return!1;e=i()("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(p[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return e.addClass("note-video-clip"),e[0]}},{key:"show",value:function(){var t=this,e=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(e).then((function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange");var n=t.createVideoNode(e);n&&t.context.invoke("editor.insertNode",n)})).fail((function(){t.context.invoke("editor.restoreRange")}))}},{key:"showVideoDialog",value:function(){var t=this;return i.a.Deferred((function(e){var n=t.$dialog.find(".note-video-url"),o=t.$dialog.find(".note-video-btn");t.ui.onDialogShown(t.$dialog,(function(){t.context.triggerEvent("dialog.shown"),n.on("input paste propertychange",(function(){t.ui.toggleBtn(o,n.val())})),m.isSupportTouch||n.trigger("focus"),o.click((function(t){t.preventDefault(),e.resolve(n.val())})),t.bindEnterKey(n,o)})),t.ui.onDialogHidden(t.$dialog,(function(){n.off(),o.off(),"pending"===e.state()&&e.reject()})),t.ui.showDialog(t.$dialog)}))}}])&&ke(e.prototype,n),o&&ke(e,o),t}();function Ce(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var xe=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.$body=i()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){var t=this.options.dialogsInBody?this.$body:this.options.container,e=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.18</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:e,callback:function(t){t.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"createShortcutList",value:function(){var t=this,e=this.options.keyMap[m.isMac?"mac":"pc"];return Object.keys(e).map((function(n){var o=e[n],r=i()('<div><div class="help-list-item"></div></div>');return r.append(i()("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append(i()("<span/>").html(t.context.memo("help."+o)||o)),r.html()})).join("")}},{key:"showHelpDialog",value:function(){var t=this;return i.a.Deferred((function(e){t.ui.onDialogShown(t.$dialog,(function(){t.context.triggerEvent("dialog.shown"),e.resolve()})),t.ui.showDialog(t.$dialog)})).promise()}},{key:"show",value:function(){var t=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then((function(){t.context.invoke("editor.restoreRange")}))}}])&&Ce(e.prototype,n),o&&Ce(e,o),t}();function Se(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Te=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.options=e.options,this.hidable=!0,this.onContextmenu=!1,this.pageX=null,this.pageY=null,this.events={"summernote.contextmenu":function(t){n.options.editing&&(t.preventDefault(),t.stopPropagation(),n.onContextmenu=!0,n.update(!0))},"summernote.mousedown":function(t,e){n.pageX=e.pageX,n.pageY=e.pageY},"summernote.keyup summernote.mouseup summernote.scroll":function(t,e){n.options.editing&&!n.onContextmenu&&(n.pageX=e.pageX,n.pageY=e.pageY,n.update()),n.onContextmenu=!1},"summernote.disable summernote.change summernote.dialog.shown summernote.blur":function(){n.hide()},"summernote.focusout":function(){n.$popover.is(":active,:focus")||n.hide()}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return this.options.airMode&&!C.isEmpty(this.options.popover.air)}},{key:"initialize",value:function(){var t=this;this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content");this.context.invoke("buttons.build",e,this.options.popover.air),this.$popover.on("mousedown",(function(){t.hidable=!1})),this.$popover.on("mouseup",(function(){t.hidable=!0}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(t){var e=this.context.invoke("editor.currentStyle");if(!e.range||e.range.isCollapsed()&&!t)this.hide();else{var n={left:this.pageX,top:this.pageY},o=i()(this.options.container).offset();n.top-=o.top,n.left-=o.left,this.$popover.css({display:"block",left:Math.max(n.left,0)+-5,top:n.top+5}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}},{key:"updateCodeview",value:function(t){this.ui.toggleBtnActive(this.$popover.find(".btn-codeview"),t),t&&this.hide()}},{key:"hide",value:function(){this.hidable&&this.$popover.hide()}}])&&Se(e.prototype,n),o&&Se(e,o),t}();function Ee(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ie=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||n.handleKeyup(e)},"summernote.keydown":function(t,e){n.handleKeydown(e)},"summernote.disable summernote.dialog.shown summernote.blur":function(){n.hide()}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return this.hints.length>0}},{key:"initialize",value:function(){var t=this;this.lastWordRange=null,this.matchingWord=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",(function(e){t.$content.find(".active").removeClass("active"),i()(e.currentTarget).addClass("active"),t.replace()})),this.$popover.on("mousedown",(function(t){t.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"selectItem",value:function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2}},{key:"moveDown",value:function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var n=t.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}}},{key:"moveUp",value:function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var n=t.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}}},{key:"replace",value:function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var e=this.nodeFromItem(t);if(null!==this.matchingWord&&0===this.matchingWord.length)this.lastWordRange.so=this.lastWordRange.eo;else if(null!==this.matchingWord&&this.matchingWord.length>0&&!this.lastWordRange.isCollapsed()){var n=this.lastWordRange.eo-this.lastWordRange.so-this.matchingWord.length;n>0&&(this.lastWordRange.so+=n)}if(this.lastWordRange.insertNode(e),"next"===this.options.hintSelect){var o=document.createTextNode("");i()(e).after(o),wt.createFromNodeBefore(o).select()}else wt.createFromNodeAfter(e).select();this.lastWordRange=null,this.hide(),this.context.invoke("editor.focus")}}},{key:"nodeFromItem",value:function(t){var e=this.hints[t.data("index")],n=t.data("item"),o=e.content?e.content(n):n;return"string"==typeof o&&(o=pt.createText(o)),o}},{key:"createItemTemplates",value:function(t,e){var n=this.hints[t];return e.map((function(e){var o=i()('<div class="note-hint-item"/>');return o.append(n.template?n.template(e):e+""),o.data({index:t,item:e}),o}))}},{key:"handleKeydown",value:function(t){this.$popover.is(":visible")&&(t.keyCode===xt.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===xt.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===xt.code.DOWN&&(t.preventDefault(),this.moveDown()))}},{key:"searchKeyword",value:function(t,e,n){var o=this.hints[t];if(o&&o.match.test(e)&&o.search){var i=o.match.exec(e);this.matchingWord=i[0],o.search(i[1],n)}else n()}},{key:"createGroup",value:function(t,e){var n=this,o=i()('<div class="note-hint-group note-hint-group-'+t+'"></div>');return this.searchKeyword(t,e,(function(e){(e=e||[]).length&&(o.html(n.createItemTemplates(t,e)),n.show())})),o}},{key:"handleKeyup",value:function(t){var e=this;if(!C.contains([xt.code.ENTER,xt.code.UP,xt.code.DOWN],t.keyCode)){var n,o,r=this.context.invoke("editor.getLastRange");if("words"===this.options.hintMode){if(n=r.getWordsRange(r),o=n.toString(),this.hints.forEach((function(t){if(t.match.test(o))return n=r.getWordsMatchRange(t.match),!1})),!n)return void this.hide();o=n.toString()}else n=r.getWordRange(),o=n.toString();if(this.hints.length&&o){this.$content.empty();var a=g.rect2bnd(C.last(n.getClientRects())),s=i()(this.options.container).offset();a&&(a.top-=s.top,a.left-=s.left,this.$popover.hide(),this.lastWordRange=n,this.hints.forEach((function(t,n){t.match.test(o)&&e.createGroup(n,o).appendTo(e.$content)})),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:a.left,top:a.top-this.$popover.outerHeight()-5}):this.$popover.css({left:a.left,top:a.top+a.height+5}))}else this.hide()}}},{key:"show",value:function(){this.$popover.show()}},{key:"hide",value:function(){this.$popover.hide()}}])&&Ee(e.prototype,n),o&&Ee(e,o),t}();i.a.summernote=i.a.extend(i.a.summernote,{version:"0.8.18",plugins:{},dom:pt,range:wt,lists:C,options:{langInfo:i.a.summernote.lang["en-US"],editing:!0,modules:{editor:Ht,clipboard:Bt,dropzone:Ot,codeview:Kt,statusbar:Vt,fullscreen:Gt,handle:Zt,hintPopover:Ie,autoLink:Jt,autoSync:ee,autoReplace:oe,placeholder:re,buttons:se,toolbar:ce,linkDialog:de,linkPopover:fe,imageDialog:me,imagePopover:ge,tablePopover:ye,videoDialog:we,helpDialog:xe,airPopover:Te},buttons:{},lang:"en-US",followingToolbar:!1,toolbarPosition:"top",otherStaticBar:"",codeviewKeepButton:!1,toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]],["view",["fullscreen","codeview"]]]},airMode:!1,overrideContextMenu:!1,width:null,height:null,linkTargetBlank:!0,useProtocol:!0,defaultProtocol:"http://",focus:!1,tabDisabled:!1,tabSize:4,styleWithCSS:!1,shortcuts:!0,textareaAutoSync:!0,tooltip:"auto",container:null,maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,disableGrammar:!1,placeholder:null,inheritPlaceholder:!1,recordEveryKeystroke:!1,historyLimit:200,showDomainOnlyForAutolink:!1,hintMode:"word",hintSelect:"after",hintDirection:"bottom",styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],addDefaultFonts:!0,fontSizes:["8","9","10","11","12","14","18","24","36"],fontSizeUnits:["px","pt"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ESC:"escape",ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ESC:"escape",ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})},5:function(t,e,n){},53:function(t,e,n){"use strict";n.r(e);var o=n(0),i=n.n(o),r=n(1);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=r.a.create('<div class="note-editor note-frame card"/>'),l=r.a.create('<div class="note-toolbar card-header" role="toolbar"/>'),c=r.a.create('<div class="note-editing-area"/>'),u=r.a.create('<textarea class="note-codable" aria-multiline="true"/>'),d=r.a.create('<div class="note-editable card-block" contentEditable="true" role="textbox" aria-multiline="true"/>'),h=r.a.create(['<output class="note-status-output" role="status" aria-live="polite"></output>','<div class="note-statusbar" role="status">','<div class="note-resizebar" aria-label="Resize">','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>',"</div>","</div>"].join("")),f=r.a.create('<div class="note-editor note-airframe"/>'),p=r.a.create(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"></div>','<output class="note-status-output" role="status" aria-live="polite"></output>'].join("")),m=r.a.create('<div class="note-btn-group btn-group">'),v=r.a.create('<div class="note-dropdown-menu dropdown-menu" role="list">',(function(t,e){var n=Array.isArray(e.items)?e.items.map((function(t){var n="string"==typeof t?t:t.value||"",o=e.template?e.template(t):t,i="object"===a(t)?t.option:void 0;return'<a class="dropdown-item" href="#" '+('data-value="'+n+'"'+(void 0!==i?' data-option="'+i+'"':""))+' role="listitem" aria-label="'+n+'">'+o+"</a>"})).join(""):e.items;t.html(n).attr({"aria-label":e.title}),e&&e.codeviewKeepButton&&t.addClass("note-codeview-keep")})),g=function(t){return t},b=r.a.create('<div class="note-dropdown-menu dropdown-menu note-check" role="list">',(function(t,e){var n=Array.isArray(e.items)?e.items.map((function(t){var n="string"==typeof t?t:t.value||"",o=e.template?e.template(t):t;return'<a class="dropdown-item" href="#" data-value="'+n+'" role="listitem" aria-label="'+t+'">'+C(e.checkClassName)+" "+o+"</a>"})).join(""):e.items;t.html(n).attr({"aria-label":e.title}),e&&e.codeviewKeepButton&&t.addClass("note-codeview-keep")})),y=r.a.create('<div class="modal note-modal" aria-hidden="false" tabindex="-1" role="dialog"/>',(function(t,e){e.fade&&t.addClass("fade"),t.attr({"aria-label":e.title}),t.html(['<div class="modal-dialog">','<div class="modal-content">',e.title?'<div class="modal-header"><h4 class="modal-title">'+e.title+'</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button></div>':"",'<div class="modal-body">'+e.body+"</div>",e.footer?'<div class="modal-footer">'+e.footer+"</div>":"","</div>","</div>"].join(""))})),k=r.a.create(['<div class="note-popover popover in">','<div class="arrow"></div>','<div class="popover-content note-children-container"></div>',"</div>"].join(""),(function(t,e){var n=void 0!==e.direction?e.direction:"bottom";t.addClass(n),e.hideArrow&&t.find(".arrow").hide()})),w=r.a.create('<div class="form-check"></div>',(function(t,e){t.html(['<label class="form-check-label"'+(e.id?' for="note-'+e.id+'"':"")+">",'<input type="checkbox" class="form-check-input"'+(e.id?' id="note-'+e.id+'"':""),e.checked?" checked":"",' aria-label="'+(e.text?e.text:"")+'"',' aria-checked="'+(e.checked?"true":"false")+'"/>'," "+(e.text?e.text:"")+"</label>"].join(""))})),C=function(t,e){return"<"+(e=e||"i")+' class="'+t+'"></'+e+">"},x=function(t){return{editor:s,toolbar:l,editingArea:c,codable:u,editable:d,statusbar:h,airEditor:f,airEditable:p,buttonGroup:m,dropdown:v,dropdownButtonContents:g,dropdownCheck:b,dialog:y,popover:k,icon:C,checkbox:w,options:t,palette:function(e,n){return r.a.create('<div class="note-color-palette"/>',(function(e,n){for(var o=[],i=0,r=n.colors.length;i<r;i++){for(var a=n.eventName,s=n.colors[i],l=n.colorsName[i],c=[],u=0,d=s.length;u<d;u++){var h=s[u],f=l[u];c.push(['<button type="button" class="note-color-btn"','style="background-color:',h,'" ','data-event="',a,'" ','data-value="',h,'" ','title="',f,'" ','aria-label="',f,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}o.push('<div class="note-color-row">'+c.join("")+"</div>")}e.html(o.join("")),n.tooltip&&e.find(".note-color-btn").tooltip({container:n.container||t.container,trigger:"hover",placement:"bottom"})}))(e,n)},button:function(e,n){return r.a.create('<button type="button" class="note-btn btn btn-light btn-sm" tabindex="-1">',(function(e,n){n&&n.tooltip&&e.attr({title:n.tooltip,"aria-label":n.tooltip}).tooltip({container:n.container||t.container,trigger:"hover",placement:"bottom"}).on("click",(function(t){i()(t.currentTarget).tooltip("hide")})),n&&n.codeviewButton&&e.addClass("note-codeview-keep")}))(e,n)},toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},onDialogShown:function(t,e){t.one("shown.bs.modal",e)},onDialogHidden:function(t,e){t.one("hidden.bs.modal",e)},showDialog:function(t){t.modal("show")},hideDialog:function(t){t.modal("hide")},createLayout:function(e){var n=(t.airMode?f([c([u(),p()])]):"bottom"===t.toolbarPosition?s([c([u(),d()]),l(),h()]):s([l(),c([u(),d()]),h()])).render();return n.insertAfter(e),{note:e,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.show()}}};n(3),n(5);i.a.summernote=i.a.extend(i.a.summernote,{ui_template:x,interface:"bs4"}),i.a.summernote.options.styleTags=["p",{title:"Blockquote",tag:"blockquote",className:"blockquote",value:"blockquote"},"pre","h1","h2","h3","h4","h5","h6"]}})}));
    //# sourceMappingURL=summernote-bs4.min.js.map
  uploads-admin-Public-Admin-plugins-summernote-summernote-lite.js: "/*!\n * \n *
    Super simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n * Copyright
    2013- Alan Hong. and other contributors\n * summernote may be freely distributed
    under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function webpackUniversalModuleDefinition(root,
    factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports
    = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\"],
    factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"jquery\"))
    : factory(root[\"jQuery\"]);\n\t\tfor(var i in a) (typeof exports === 'object'
    ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__)
    {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The
    module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The
    require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/
    \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 51);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 0:\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__0__;\n\n/***/
    }),\n\n/***/ 1:\n/***/ (function(module, __webpack_exports__, __webpack_require__)
    {\n\n\"use strict\";\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__
    = __webpack_require__(0);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default
    = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\nfunction
    _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\"
    && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) {
    return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj &&
    typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype
    ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction _defineProperties(target, props)
    { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps)
    { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps)
    _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar
    Renderer = /*#__PURE__*/function () {\n  function Renderer(markup, children, options,
    callback) {\n    _classCallCheck(this, Renderer);\n\n    this.markup = markup;\n
    \   this.children = children;\n    this.options = options;\n    this.callback
    = callback;\n  }\n\n  _createClass(Renderer, [{\n    key: \"render\",\n    value:
    function render($parent) {\n      var $node = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.markup);\n\n
    \     if (this.options && this.options.contents) {\n        $node.html(this.options.contents);\n
    \     }\n\n      if (this.options && this.options.className) {\n        $node.addClass(this.options.className);\n
    \     }\n\n      if (this.options && this.options.data) {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default.a.each(this.options.data,
    function (k, v) {\n          $node.attr('data-' + k, v);\n        });\n      }\n\n
    \     if (this.options && this.options.click) {\n        $node.on('click', this.options.click);\n
    \     }\n\n      if (this.children) {\n        var $container = $node.find('.note-children-container');\n
    \       this.children.forEach(function (child) {\n          child.render($container.length
    ? $container : $node);\n        });\n      }\n\n      if (this.callback) {\n        this.callback($node,
    this.options);\n      }\n\n      if (this.options && this.options.callback) {\n
    \       this.options.callback($node);\n      }\n\n      if ($parent) {\n        $parent.append($node);\n
    \     }\n\n      return $node;\n    }\n  }]);\n\n  return Renderer;\n}();\n\n/*
    harmony default export */ __webpack_exports__[\"a\"] = ({\n  create: function
    create(markup, callback) {\n    return function () {\n      var options = _typeof(arguments[1])
    === 'object' ? arguments[1] : arguments[0];\n      var children = Array.isArray(arguments[0])
    ? arguments[0] : [];\n\n      if (options && options.children) {\n        children
    = options.children;\n      }\n\n      return new Renderer(markup, children, options,
    callback);\n    };\n  }\n});\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module,
    exports) {\n\n/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/*
    globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n\n/*
    WEBPACK VAR INJECTION */}.call(this, {}))\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module,
    __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL
    MODULE: external {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}\nvar
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_ = __webpack_require__(0);\nvar
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default = /*#__PURE__*/__webpack_require__.n(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_);\n\n//
    CONCATENATED MODULE: ./src/js/base/summernote-en-US.js\n\nexternal_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote
    || {\n  lang: {}\n};\nexternal_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.lang,
    {\n  'en-US': {\n    font: {\n      bold: 'Bold',\n      italic: 'Italic',\n      underline:
    'Underline',\n      clear: 'Remove Font Style',\n      height: 'Line Height',\n
    \     name: 'Font Family',\n      strikethrough: 'Strikethrough',\n      subscript:
    'Subscript',\n      superscript: 'Superscript',\n      size: 'Font Size',\n      sizeunit:
    'Font Size Unit'\n    },\n    image: {\n      image: 'Picture',\n      insert:
    'Insert Image',\n      resizeFull: 'Resize full',\n      resizeHalf: 'Resize half',\n
    \     resizeQuarter: 'Resize quarter',\n      resizeNone: 'Original size',\n      floatLeft:
    'Float Left',\n      floatRight: 'Float Right',\n      floatNone: 'Remove float',\n
    \     shapeRounded: 'Shape: Rounded',\n      shapeCircle: 'Shape: Circle',\n      shapeThumbnail:
    'Shape: Thumbnail',\n      shapeNone: 'Shape: None',\n      dragImageHere: 'Drag
    image or text here',\n      dropImage: 'Drop image or Text',\n      selectFromFiles:
    'Select from files',\n      maximumFileSize: 'Maximum file size',\n      maximumFileSizeError:
    'Maximum file size exceeded.',\n      url: 'Image URL',\n      remove: 'Remove
    Image',\n      original: 'Original'\n    },\n    video: {\n      video: 'Video',\n
    \     videoLink: 'Video Link',\n      insert: 'Insert Video',\n      url: 'Video
    URL',\n      providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)'\n
    \   },\n    link: {\n      link: 'Link',\n      insert: 'Insert Link',\n      unlink:
    'Unlink',\n      edit: 'Edit',\n      textToDisplay: 'Text to display',\n      url:
    'To what URL should this link go?',\n      openInNewWindow: 'Open in new window',\n
    \     useProtocol: 'Use default protocol'\n    },\n    table: {\n      table:
    'Table',\n      addRowAbove: 'Add row above',\n      addRowBelow: 'Add row below',\n
    \     addColLeft: 'Add column left',\n      addColRight: 'Add column right',\n
    \     delRow: 'Delete row',\n      delCol: 'Delete column',\n      delTable: 'Delete
    table'\n    },\n    hr: {\n      insert: 'Insert Horizontal Rule'\n    },\n    style:
    {\n      style: 'Style',\n      p: 'Normal',\n      blockquote: 'Quote',\n      pre:
    'Code',\n      h1: 'Header 1',\n      h2: 'Header 2',\n      h3: 'Header 3',\n
    \     h4: 'Header 4',\n      h5: 'Header 5',\n      h6: 'Header 6'\n    },\n    lists:
    {\n      unordered: 'Unordered list',\n      ordered: 'Ordered list'\n    },\n
    \   options: {\n      help: 'Help',\n      fullscreen: 'Full Screen',\n      codeview:
    'Code View'\n    },\n    paragraph: {\n      paragraph: 'Paragraph',\n      outdent:
    'Outdent',\n      indent: 'Indent',\n      left: 'Align left',\n      center:
    'Align center',\n      right: 'Align right',\n      justify: 'Justify full'\n
    \   },\n    color: {\n      recent: 'Recent Color',\n      more: 'More Color',\n
    \     background: 'Background Color',\n      foreground: 'Text Color',\n      transparent:
    'Transparent',\n      setTransparent: 'Set transparent',\n      reset: 'Reset',\n
    \     resetToDefault: 'Reset to default',\n      cpSelect: 'Select'\n    },\n
    \   shortcut: {\n      shortcuts: 'Keyboard shortcuts',\n      close: 'Close',\n
    \     textFormatting: 'Text formatting',\n      action: 'Action',\n      paragraphFormatting:
    'Paragraph formatting',\n      documentStyle: 'Document Style',\n      extraKeys:
    'Extra keys'\n    },\n    help: {\n      'escape': 'Escape',\n      'insertParagraph':
    'Insert Paragraph',\n      'undo': 'Undo the last command',\n      'redo': 'Redo
    the last command',\n      'tab': 'Tab',\n      'untab': 'Untab',\n      'bold':
    'Set a bold style',\n      'italic': 'Set a italic style',\n      'underline':
    'Set a underline style',\n      'strikethrough': 'Set a strikethrough style',\n
    \     'removeFormat': 'Clean a style',\n      'justifyLeft': 'Set left align',\n
    \     'justifyCenter': 'Set center align',\n      'justifyRight': 'Set right align',\n
    \     'justifyFull': 'Set full align',\n      'insertUnorderedList': 'Toggle unordered
    list',\n      'insertOrderedList': 'Toggle ordered list',\n      'outdent': 'Outdent
    on current paragraph',\n      'indent': 'Indent on current paragraph',\n      'formatPara':
    'Change current block\\'s format as a paragraph(P tag)',\n      'formatH1': 'Change
    current block\\'s format as H1',\n      'formatH2': 'Change current block\\'s
    format as H2',\n      'formatH3': 'Change current block\\'s format as H3',\n      'formatH4':
    'Change current block\\'s format as H4',\n      'formatH5': 'Change current block\\'s
    format as H5',\n      'formatH6': 'Change current block\\'s format as H6',\n      'insertHorizontalRule':
    'Insert horizontal rule',\n      'linkDialog.show': 'Show Link Dialog'\n    },\n
    \   history: {\n      undo: 'Undo',\n      redo: 'Redo'\n    },\n    specialChar:
    {\n      specialChar: 'SPECIAL CHARACTERS',\n      select: 'Select Special characters'\n
    \   },\n    output: {\n      noSelection: 'No Selection Made!'\n    }\n  }\n});\n//
    CONCATENATED MODULE: ./src/js/base/core/env.js\n\nvar isSupportAmd = typeof define
    === 'function' && __webpack_require__(2); // eslint-disable-line\n\n/**\n * returns
    whether font is installed or not.\n *\n * @param {String} fontName\n * @return
    {Boolean}\n */\n\nvar genericFontFamilies = ['sans-serif', 'serif', 'monospace',
    'cursive', 'fantasy'];\n\nfunction validFontName(fontName) {\n  return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.inArray(fontName.toLowerCase(),
    genericFontFamilies) === -1 ? \"'\".concat(fontName, \"'\") : fontName;\n}\n\nfunction
    env_isFontInstalled(fontName) {\n  var testFontName = fontName === 'Comic Sans
    MS' ? 'Courier New' : 'Comic Sans MS';\n  var testText = 'mmmmmmmmmmwwwww';\n
    \ var testSize = '200px';\n  var canvas = document.createElement('canvas');\n
    \ var context = canvas.getContext('2d');\n  context.font = testSize + \" '\" +
    testFontName + \"'\";\n  var originalWidth = context.measureText(testText).width;\n
    \ context.font = testSize + ' ' + validFontName(fontName) + ', \"' + testFontName
    + '\"';\n  var width = context.measureText(testText).width;\n  return originalWidth
    !== width;\n}\n\nvar userAgent = navigator.userAgent;\nvar isMSIE = /MSIE|Trident/i.test(userAgent);\nvar
    browserVersion;\n\nif (isMSIE) {\n  var matches = /MSIE (\\d+[.]\\d+)/.exec(userAgent);\n\n
    \ if (matches) {\n    browserVersion = parseFloat(matches[1]);\n  }\n\n  matches
    = /Trident\\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(userAgent);\n\n  if (matches) {\n
    \   browserVersion = parseFloat(matches[1]);\n  }\n}\n\nvar isEdge = /Edge\\/\\d+/.test(userAgent);\nvar
    isSupportTouch = 'ontouchstart' in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints
    > 0; // [workaround] IE doesn't have input events for contentEditable\n// - see:
    https://goo.gl/4bfIvA\n\nvar inputEventName = isMSIE ? 'DOMCharacterDataModified
    DOMSubtreeModified DOMNodeInserted' : 'input';\n/**\n * @class core.env\n *\n
    * Object which check platform and agent\n *\n * @singleton\n * @alternateClassName
    env\n */\n\n/* harmony default export */ var env = ({\n  isMac: navigator.appVersion.indexOf('Mac')
    > -1,\n  isMSIE: isMSIE,\n  isEdge: isEdge,\n  isFF: !isEdge && /firefox/i.test(userAgent),\n
    \ isPhantom: /PhantomJS/i.test(userAgent),\n  isWebkit: !isEdge && /webkit/i.test(userAgent),\n
    \ isChrome: !isEdge && /chrome/i.test(userAgent),\n  isSafari: !isEdge && /safari/i.test(userAgent)
    && !/chrome/i.test(userAgent),\n  browserVersion: browserVersion,\n  jqueryVersion:
    parseFloat(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.fn.jquery),\n
    \ isSupportAmd: isSupportAmd,\n  isSupportTouch: isSupportTouch,\n  isFontInstalled:
    env_isFontInstalled,\n  isW3CRangeSupport: !!document.createRange,\n  inputEventName:
    inputEventName,\n  genericFontFamilies: genericFontFamilies,\n  validFontName:
    validFontName\n});\n// CONCATENATED MODULE: ./src/js/base/core/func.js\n\n/**\n
    * @class core.func\n *\n * func utils (for high-order func's arg)\n *\n * @singleton\n
    * @alternateClassName func\n */\n\nfunction eq(itemA) {\n  return function (itemB)
    {\n    return itemA === itemB;\n  };\n}\n\nfunction eq2(itemA, itemB) {\n  return
    itemA === itemB;\n}\n\nfunction peq2(propName) {\n  return function (itemA, itemB)
    {\n    return itemA[propName] === itemB[propName];\n  };\n}\n\nfunction ok() {\n
    \ return true;\n}\n\nfunction fail() {\n  return false;\n}\n\nfunction not(f)
    {\n  return function () {\n    return !f.apply(f, arguments);\n  };\n}\n\nfunction
    and(fA, fB) {\n  return function (item) {\n    return fA(item) && fB(item);\n
    \ };\n}\n\nfunction func_self(a) {\n  return a;\n}\n\nfunction func_invoke(obj,
    method) {\n  return function () {\n    return obj[method].apply(obj, arguments);\n
    \ };\n}\n\nvar idCounter = 0;\n/**\n * reset globally-unique id\n *\n */\n\nfunction
    resetUniqueId() {\n  idCounter = 0;\n}\n/**\n * generate a globally-unique id\n
    *\n * @param {String} [prefix]\n */\n\n\nfunction uniqueId(prefix) {\n  var id
    = ++idCounter + '';\n  return prefix ? prefix + id : id;\n}\n/**\n * returns bnd
    (bounds) from rect\n *\n * - IE Compatibility Issue: http://goo.gl/sRLOAo\n *
    - Scroll Issue: http://goo.gl/sNjUc\n *\n * @param {Rect} rect\n * @return {Object}
    bounds\n * @return {Number} bounds.top\n * @return {Number} bounds.left\n * @return
    {Number} bounds.width\n * @return {Number} bounds.height\n */\n\n\nfunction rect2bnd(rect)
    {\n  var $document = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);\n
    \ return {\n    top: rect.top + $document.scrollTop(),\n    left: rect.left +
    $document.scrollLeft(),\n    width: rect.right - rect.left,\n    height: rect.bottom
    - rect.top\n  };\n}\n/**\n * returns a copy of the object where the keys have
    become the values and the values the keys.\n * @param {Object} obj\n * @return
    {Object}\n */\n\n\nfunction invertObject(obj) {\n  var inverted = {};\n\n  for
    (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n
    \     inverted[obj[key]] = key;\n    }\n  }\n\n  return inverted;\n}\n/**\n *
    @param {String} namespace\n * @param {String} [prefix]\n * @return {String}\n
    */\n\n\nfunction namespaceToCamel(namespace, prefix) {\n  prefix = prefix || '';\n
    \ return prefix + namespace.split('.').map(function (name) {\n    return name.substring(0,
    1).toUpperCase() + name.substring(1);\n  }).join('');\n}\n/**\n * Returns a function,
    that, as long as it continues to be invoked, will not\n * be triggered. The function
    will be called after it stops being called for\n * N milliseconds. If `immediate`
    is passed, trigger the function on the\n * leading edge, instead of the trailing.\n
    * @param {Function} func\n * @param {Number} wait\n * @param {Boolean} immediate\n
    * @return {Function}\n */\n\n\nfunction debounce(func, wait, immediate) {\n  var
    timeout;\n  return function () {\n    var context = this;\n    var args = arguments;\n\n
    \   var later = function later() {\n      timeout = null;\n\n      if (!immediate)
    {\n        func.apply(context, args);\n      }\n    };\n\n    var callNow = immediate
    && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n
    \   if (callNow) {\n      func.apply(context, args);\n    }\n  };\n}\n/**\n *\n
    * @param {String} url\n * @return {Boolean}\n */\n\n\nfunction isValidUrl(url)
    {\n  var expression = /[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/gi;\n
    \ return expression.test(url);\n}\n\n/* harmony default export */ var func = ({\n
    \ eq: eq,\n  eq2: eq2,\n  peq2: peq2,\n  ok: ok,\n  fail: fail,\n  self: func_self,\n
    \ not: not,\n  and: and,\n  invoke: func_invoke,\n  resetUniqueId: resetUniqueId,\n
    \ uniqueId: uniqueId,\n  rect2bnd: rect2bnd,\n  invertObject: invertObject,\n
    \ namespaceToCamel: namespaceToCamel,\n  debounce: debounce,\n  isValidUrl: isValidUrl\n});\n//
    CONCATENATED MODULE: ./src/js/base/core/lists.js\n\n/**\n * returns the first
    item of an array.\n *\n * @param {Array} array\n */\n\nfunction lists_head(array)
    {\n  return array[0];\n}\n/**\n * returns the last item of an array.\n *\n * @param
    {Array} array\n */\n\n\nfunction lists_last(array) {\n  return array[array.length
    - 1];\n}\n/**\n * returns everything but the last entry of the array.\n *\n *
    @param {Array} array\n */\n\n\nfunction initial(array) {\n  return array.slice(0,
    array.length - 1);\n}\n/**\n * returns the rest of the items in an array.\n *\n
    * @param {Array} array\n */\n\n\nfunction tail(array) {\n  return array.slice(1);\n}\n/**\n
    * returns item of array\n */\n\n\nfunction find(array, pred) {\n  for (var idx
    = 0, len = array.length; idx < len; idx++) {\n    var item = array[idx];\n\n    if
    (pred(item)) {\n      return item;\n    }\n  }\n}\n/**\n * returns true if all
    of the values in the array pass the predicate truth test.\n */\n\n\nfunction lists_all(array,
    pred) {\n  for (var idx = 0, len = array.length; idx < len; idx++) {\n    if (!pred(array[idx]))
    {\n      return false;\n    }\n  }\n\n  return true;\n}\n/**\n * returns true
    if the value is present in the list.\n */\n\n\nfunction contains(array, item)
    {\n  if (array && array.length && item) {\n    if (array.indexOf) {\n      return
    array.indexOf(item) !== -1;\n    } else if (array.contains) {\n      // `DOMTokenList`
    doesn't implement `.indexOf`, but it implements `.contains`\n      return array.contains(item);\n
    \   }\n  }\n\n  return false;\n}\n/**\n * get sum from a list\n *\n * @param {Array}
    array - array\n * @param {Function} fn - iterator\n */\n\n\nfunction sum(array,
    fn) {\n  fn = fn || func.self;\n  return array.reduce(function (memo, v) {\n    return
    memo + fn(v);\n  }, 0);\n}\n/**\n * returns a copy of the collection with array
    type.\n * @param {Collection} collection - collection eg) node.childNodes, ...\n
    */\n\n\nfunction from(collection) {\n  var result = [];\n  var length = collection.length;\n
    \ var idx = -1;\n\n  while (++idx < length) {\n    result[idx] = collection[idx];\n
    \ }\n\n  return result;\n}\n/**\n * returns whether list is empty or not\n */\n\n\nfunction
    lists_isEmpty(array) {\n  return !array || !array.length;\n}\n/**\n * cluster
    elements by predicate function.\n *\n * @param {Array} array - array\n * @param
    {Function} fn - predicate function for cluster rule\n * @param {Array[]}\n */\n\n\nfunction
    clusterBy(array, fn) {\n  if (!array.length) {\n    return [];\n  }\n\n  var aTail
    = tail(array);\n  return aTail.reduce(function (memo, v) {\n    var aLast = lists_last(memo);\n\n
    \   if (fn(lists_last(aLast), v)) {\n      aLast[aLast.length] = v;\n    } else
    {\n      memo[memo.length] = [v];\n    }\n\n    return memo;\n  }, [[lists_head(array)]]);\n}\n/**\n
    * returns a copy of the array with all false values removed\n *\n * @param {Array}
    array - array\n * @param {Function} fn - predicate function for cluster rule\n
    */\n\n\nfunction compact(array) {\n  var aResult = [];\n\n  for (var idx = 0,
    len = array.length; idx < len; idx++) {\n    if (array[idx]) {\n      aResult.push(array[idx]);\n
    \   }\n  }\n\n  return aResult;\n}\n/**\n * produces a duplicate-free version
    of the array\n *\n * @param {Array} array\n */\n\n\nfunction unique(array) {\n
    \ var results = [];\n\n  for (var idx = 0, len = array.length; idx < len; idx++)
    {\n    if (!contains(results, array[idx])) {\n      results.push(array[idx]);\n
    \   }\n  }\n\n  return results;\n}\n/**\n * returns next item.\n * @param {Array}
    array\n */\n\n\nfunction lists_next(array, item) {\n  if (array && array.length
    && item) {\n    var idx = array.indexOf(item);\n    return idx === -1 ? null :
    array[idx + 1];\n  }\n\n  return null;\n}\n/**\n * returns prev item.\n * @param
    {Array} array\n */\n\n\nfunction prev(array, item) {\n  if (array && array.length
    && item) {\n    var idx = array.indexOf(item);\n    return idx === -1 ? null :
    array[idx - 1];\n  }\n\n  return null;\n}\n/**\n * @class core.list\n *\n * list
    utils\n *\n * @singleton\n * @alternateClassName list\n */\n\n\n/* harmony default
    export */ var lists = ({\n  head: lists_head,\n  last: lists_last,\n  initial:
    initial,\n  tail: tail,\n  prev: prev,\n  next: lists_next,\n  find: find,\n  contains:
    contains,\n  all: lists_all,\n  sum: sum,\n  from: from,\n  isEmpty: lists_isEmpty,\n
    \ clusterBy: clusterBy,\n  compact: compact,\n  unique: unique\n});\n// CONCATENATED
    MODULE: ./src/js/base/core/dom.js\n\n\n\n\nvar NBSP_CHAR = String.fromCharCode(160);\nvar
    ZERO_WIDTH_NBSP_CHAR = \"\\uFEFF\";\n/**\n * @method isEditable\n *\n * returns
    whether node is `note-editable` or not.\n *\n * @param {Node} node\n * @return
    {Boolean}\n */\n\nfunction isEditable(node) {\n  return node && external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).hasClass('note-editable');\n}\n/**\n
    * @method isControlSizing\n *\n * returns whether node is `note-control-sizing`
    or not.\n *\n * @param {Node} node\n * @return {Boolean}\n */\n\n\nfunction isControlSizing(node)
    {\n  return node && external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).hasClass('note-control-sizing');\n}\n/**\n
    * @method makePredByNodeName\n *\n * returns predicate which judge whether nodeName
    is same\n *\n * @param {String} nodeName\n * @return {Function}\n */\n\n\nfunction
    makePredByNodeName(nodeName) {\n  nodeName = nodeName.toUpperCase();\n  return
    function (node) {\n    return node && node.nodeName.toUpperCase() === nodeName;\n
    \ };\n}\n/**\n * @method isText\n *\n *\n *\n * @param {Node} node\n * @return
    {Boolean} true if node's type is text(3)\n */\n\n\nfunction isText(node) {\n  return
    node && node.nodeType === 3;\n}\n/**\n * @method isElement\n *\n *\n *\n * @param
    {Node} node\n * @return {Boolean} true if node's type is element(1)\n */\n\n\nfunction
    isElement(node) {\n  return node && node.nodeType === 1;\n}\n/**\n * ex) br, col,
    embed, hr, img, input, ...\n * @see http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\n
    */\n\n\nfunction isVoid(node) {\n  return node && /^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(node.nodeName.toUpperCase());\n}\n\nfunction
    isPara(node) {\n  if (isEditable(node)) {\n    return false;\n  } // Chrome(v31.0),
    FF(v25.0.1) use DIV for paragraph\n\n\n  return node && /^DIV|^P|^LI|^H[1-7]/.test(node.nodeName.toUpperCase());\n}\n\nfunction
    isHeading(node) {\n  return node && /^H[1-7]/.test(node.nodeName.toUpperCase());\n}\n\nvar
    isPre = makePredByNodeName('PRE');\nvar isLi = makePredByNodeName('LI');\n\nfunction
    isPurePara(node) {\n  return isPara(node) && !isLi(node);\n}\n\nvar isTable =
    makePredByNodeName('TABLE');\nvar isData = makePredByNodeName('DATA');\n\nfunction
    dom_isInline(node) {\n  return !isBodyContainer(node) && !isList(node) && !isHr(node)
    && !isPara(node) && !isTable(node) && !isBlockquote(node) && !isData(node);\n}\n\nfunction
    isList(node) {\n  return node && /^UL|^OL/.test(node.nodeName.toUpperCase());\n}\n\nvar
    isHr = makePredByNodeName('HR');\n\nfunction dom_isCell(node) {\n  return node
    && /^TD|^TH/.test(node.nodeName.toUpperCase());\n}\n\nvar isBlockquote = makePredByNodeName('BLOCKQUOTE');\n\nfunction
    isBodyContainer(node) {\n  return dom_isCell(node) || isBlockquote(node) || isEditable(node);\n}\n\nvar
    isAnchor = makePredByNodeName('A');\n\nfunction isParaInline(node) {\n  return
    dom_isInline(node) && !!dom_ancestor(node, isPara);\n}\n\nfunction isBodyInline(node)
    {\n  return dom_isInline(node) && !dom_ancestor(node, isPara);\n}\n\nvar isBody
    = makePredByNodeName('BODY');\n/**\n * returns whether nodeB is closest sibling
    of nodeA\n *\n * @param {Node} nodeA\n * @param {Node} nodeB\n * @return {Boolean}\n
    */\n\nfunction isClosestSibling(nodeA, nodeB) {\n  return nodeA.nextSibling ===
    nodeB || nodeA.previousSibling === nodeB;\n}\n/**\n * returns array of closest
    siblings with node\n *\n * @param {Node} node\n * @param {function} [pred] - predicate
    function\n * @return {Node[]}\n */\n\n\nfunction withClosestSiblings(node, pred)
    {\n  pred = pred || func.ok;\n  var siblings = [];\n\n  if (node.previousSibling
    && pred(node.previousSibling)) {\n    siblings.push(node.previousSibling);\n  }\n\n
    \ siblings.push(node);\n\n  if (node.nextSibling && pred(node.nextSibling)) {\n
    \   siblings.push(node.nextSibling);\n  }\n\n  return siblings;\n}\n/**\n * blank
    HTML for cursor position\n * - [workaround] old IE only works with &nbsp;\n *
    - [workaround] IE11 and other browser works with bogus br\n */\n\n\nvar blankHTML
    = env.isMSIE && env.browserVersion < 11 ? '&nbsp;' : '<br>';\n/**\n * @method
    nodeLength\n *\n * returns #text's text size or element's childNodes size\n *\n
    * @param {Node} node\n */\n\nfunction nodeLength(node) {\n  if (isText(node))
    {\n    return node.nodeValue.length;\n  }\n\n  if (node) {\n    return node.childNodes.length;\n
    \ }\n\n  return 0;\n}\n/**\n * returns whether deepest child node is empty or
    not.\n *\n * @param {Node} node\n * @return {Boolean}\n */\n\n\nfunction deepestChildIsEmpty(node)
    {\n  do {\n    if (node.firstElementChild === null || node.firstElementChild.innerHTML
    === '') break;\n  } while (node = node.firstElementChild);\n\n  return dom_isEmpty(node);\n}\n/**\n
    * returns whether node is empty or not.\n *\n * @param {Node} node\n * @return
    {Boolean}\n */\n\n\nfunction dom_isEmpty(node) {\n  var len = nodeLength(node);\n\n
    \ if (len === 0) {\n    return true;\n  } else if (!isText(node) && len === 1
    && node.innerHTML === blankHTML) {\n    // ex) <p><br></p>, <span><br></span>\n
    \   return true;\n  } else if (lists.all(node.childNodes, isText) && node.innerHTML
    === '') {\n    // ex) <p></p>, <span></span>\n    return true;\n  }\n\n  return
    false;\n}\n/**\n * padding blankHTML if node is empty (for cursor position)\n
    */\n\n\nfunction paddingBlankHTML(node) {\n  if (!isVoid(node) && !nodeLength(node))
    {\n    node.innerHTML = blankHTML;\n  }\n}\n/**\n * find nearest ancestor predicate
    hit\n *\n * @param {Node} node\n * @param {Function} pred - predicate function\n
    */\n\n\nfunction dom_ancestor(node, pred) {\n  while (node) {\n    if (pred(node))
    {\n      return node;\n    }\n\n    if (isEditable(node)) {\n      break;\n    }\n\n
    \   node = node.parentNode;\n  }\n\n  return null;\n}\n/**\n * find nearest ancestor
    only single child blood line and predicate hit\n *\n * @param {Node} node\n *
    @param {Function} pred - predicate function\n */\n\n\nfunction singleChildAncestor(node,
    pred) {\n  node = node.parentNode;\n\n  while (node) {\n    if (nodeLength(node)
    !== 1) {\n      break;\n    }\n\n    if (pred(node)) {\n      return node;\n    }\n\n
    \   if (isEditable(node)) {\n      break;\n    }\n\n    node = node.parentNode;\n
    \ }\n\n  return null;\n}\n/**\n * returns new array of ancestor nodes (until predicate
    hit).\n *\n * @param {Node} node\n * @param {Function} [optional] pred - predicate
    function\n */\n\n\nfunction listAncestor(node, pred) {\n  pred = pred || func.fail;\n
    \ var ancestors = [];\n  dom_ancestor(node, function (el) {\n    if (!isEditable(el))
    {\n      ancestors.push(el);\n    }\n\n    return pred(el);\n  });\n  return ancestors;\n}\n/**\n
    * find farthest ancestor predicate hit\n */\n\n\nfunction lastAncestor(node, pred)
    {\n  var ancestors = listAncestor(node);\n  return lists.last(ancestors.filter(pred));\n}\n/**\n
    * returns common ancestor node between two nodes.\n *\n * @param {Node} nodeA\n
    * @param {Node} nodeB\n */\n\n\nfunction dom_commonAncestor(nodeA, nodeB) {\n
    \ var ancestors = listAncestor(nodeA);\n\n  for (var n = nodeB; n; n = n.parentNode)
    {\n    if (ancestors.indexOf(n) > -1) return n;\n  }\n\n  return null; // difference
    document area\n}\n/**\n * listing all previous siblings (until predicate hit).\n
    *\n * @param {Node} node\n * @param {Function} [optional] pred - predicate function\n
    */\n\n\nfunction listPrev(node, pred) {\n  pred = pred || func.fail;\n  var nodes
    = [];\n\n  while (node) {\n    if (pred(node)) {\n      break;\n    }\n\n    nodes.push(node);\n
    \   node = node.previousSibling;\n  }\n\n  return nodes;\n}\n/**\n * listing next
    siblings (until predicate hit).\n *\n * @param {Node} node\n * @param {Function}
    [pred] - predicate function\n */\n\n\nfunction listNext(node, pred) {\n  pred
    = pred || func.fail;\n  var nodes = [];\n\n  while (node) {\n    if (pred(node))
    {\n      break;\n    }\n\n    nodes.push(node);\n    node = node.nextSibling;\n
    \ }\n\n  return nodes;\n}\n/**\n * listing descendant nodes\n *\n * @param {Node}
    node\n * @param {Function} [pred] - predicate function\n */\n\n\nfunction listDescendant(node,
    pred) {\n  var descendants = [];\n  pred = pred || func.ok; // start DFS(depth
    first search) with node\n\n  (function fnWalk(current) {\n    if (node !== current
    && pred(current)) {\n      descendants.push(current);\n    }\n\n    for (var idx
    = 0, len = current.childNodes.length; idx < len; idx++) {\n      fnWalk(current.childNodes[idx]);\n
    \   }\n  })(node);\n\n  return descendants;\n}\n/**\n * wrap node with new tag.\n
    *\n * @param {Node} node\n * @param {Node} tagName of wrapper\n * @return {Node}
    - wrapper\n */\n\n\nfunction wrap(node, wrapperName) {\n  var parent = node.parentNode;\n
    \ var wrapper = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<'
    + wrapperName + '>')[0];\n  parent.insertBefore(wrapper, node);\n  wrapper.appendChild(node);\n
    \ return wrapper;\n}\n/**\n * insert node after preceding\n *\n * @param {Node}
    node\n * @param {Node} preceding - predicate function\n */\n\n\nfunction insertAfter(node,
    preceding) {\n  var next = preceding.nextSibling;\n  var parent = preceding.parentNode;\n\n
    \ if (next) {\n    parent.insertBefore(node, next);\n  } else {\n    parent.appendChild(node);\n
    \ }\n\n  return node;\n}\n/**\n * append elements.\n *\n * @param {Node} node\n
    * @param {Collection} aChild\n */\n\n\nfunction appendChildNodes(node, aChild)
    {\n  external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(aChild,
    function (idx, child) {\n    node.appendChild(child);\n  });\n  return node;\n}\n/**\n
    * returns whether boundaryPoint is left edge or not.\n *\n * @param {BoundaryPoint}
    point\n * @return {Boolean}\n */\n\n\nfunction isLeftEdgePoint(point) {\n  return
    point.offset === 0;\n}\n/**\n * returns whether boundaryPoint is right edge or
    not.\n *\n * @param {BoundaryPoint} point\n * @return {Boolean}\n */\n\n\nfunction
    isRightEdgePoint(point) {\n  return point.offset === nodeLength(point.node);\n}\n/**\n
    * returns whether boundaryPoint is edge or not.\n *\n * @param {BoundaryPoint}
    point\n * @return {Boolean}\n */\n\n\nfunction isEdgePoint(point) {\n  return
    isLeftEdgePoint(point) || isRightEdgePoint(point);\n}\n/**\n * returns whether
    node is left edge of ancestor or not.\n *\n * @param {Node} node\n * @param {Node}
    ancestor\n * @return {Boolean}\n */\n\n\nfunction dom_isLeftEdgeOf(node, ancestor)
    {\n  while (node && node !== ancestor) {\n    if (dom_position(node) !== 0) {\n
    \     return false;\n    }\n\n    node = node.parentNode;\n  }\n\n  return true;\n}\n/**\n
    * returns whether node is right edge of ancestor or not.\n *\n * @param {Node}
    node\n * @param {Node} ancestor\n * @return {Boolean}\n */\n\n\nfunction isRightEdgeOf(node,
    ancestor) {\n  if (!ancestor) {\n    return false;\n  }\n\n  while (node && node
    !== ancestor) {\n    if (dom_position(node) !== nodeLength(node.parentNode) -
    1) {\n      return false;\n    }\n\n    node = node.parentNode;\n  }\n\n  return
    true;\n}\n/**\n * returns whether point is left edge of ancestor or not.\n * @param
    {BoundaryPoint} point\n * @param {Node} ancestor\n * @return {Boolean}\n */\n\n\nfunction
    isLeftEdgePointOf(point, ancestor) {\n  return isLeftEdgePoint(point) && dom_isLeftEdgeOf(point.node,
    ancestor);\n}\n/**\n * returns whether point is right edge of ancestor or not.\n
    * @param {BoundaryPoint} point\n * @param {Node} ancestor\n * @return {Boolean}\n
    */\n\n\nfunction isRightEdgePointOf(point, ancestor) {\n  return isRightEdgePoint(point)
    && isRightEdgeOf(point.node, ancestor);\n}\n/**\n * returns offset from parent.\n
    *\n * @param {Node} node\n */\n\n\nfunction dom_position(node) {\n  var offset
    = 0;\n\n  while (node = node.previousSibling) {\n    offset += 1;\n  }\n\n  return
    offset;\n}\n\nfunction hasChildren(node) {\n  return !!(node && node.childNodes
    && node.childNodes.length);\n}\n/**\n * returns previous boundaryPoint\n *\n *
    @param {BoundaryPoint} point\n * @param {Boolean} isSkipInnerOffset\n * @return
    {BoundaryPoint}\n */\n\n\nfunction dom_prevPoint(point, isSkipInnerOffset) {\n
    \ var node;\n  var offset;\n\n  if (point.offset === 0) {\n    if (isEditable(point.node))
    {\n      return null;\n    }\n\n    node = point.node.parentNode;\n    offset
    = dom_position(point.node);\n  } else if (hasChildren(point.node)) {\n    node
    = point.node.childNodes[point.offset - 1];\n    offset = nodeLength(node);\n  }
    else {\n    node = point.node;\n    offset = isSkipInnerOffset ? 0 : point.offset
    - 1;\n  }\n\n  return {\n    node: node,\n    offset: offset\n  };\n}\n/**\n *
    returns next boundaryPoint\n *\n * @param {BoundaryPoint} point\n * @param {Boolean}
    isSkipInnerOffset\n * @return {BoundaryPoint}\n */\n\n\nfunction dom_nextPoint(point,
    isSkipInnerOffset) {\n  var node, offset;\n\n  if (nodeLength(point.node) ===
    point.offset) {\n    if (isEditable(point.node)) {\n      return null;\n    }\n\n
    \   var nextTextNode = getNextTextNode(point.node);\n\n    if (nextTextNode) {\n
    \     node = nextTextNode;\n      offset = 0;\n    } else {\n      node = point.node.parentNode;\n
    \     offset = dom_position(point.node) + 1;\n    }\n  } else if (hasChildren(point.node))
    {\n    node = point.node.childNodes[point.offset];\n    offset = 0;\n  } else
    {\n    node = point.node;\n    offset = isSkipInnerOffset ? nodeLength(point.node)
    : point.offset + 1;\n  }\n\n  return {\n    node: node,\n    offset: offset\n
    \ };\n}\n/**\n * returns next boundaryPoint with empty node\n *\n * @param {BoundaryPoint}
    point\n * @param {Boolean} isSkipInnerOffset\n * @return {BoundaryPoint}\n */\n\n\nfunction
    nextPointWithEmptyNode(point, isSkipInnerOffset) {\n  var node, offset; // if
    node is empty string node, return current node's sibling.\n\n  if (dom_isEmpty(point.node))
    {\n    node = point.node.nextSibling;\n    offset = 0;\n    return {\n      node:
    node,\n      offset: offset\n    };\n  }\n\n  if (nodeLength(point.node) === point.offset)
    {\n    if (isEditable(point.node)) {\n      return null;\n    }\n\n    var nextTextNode
    = getNextTextNode(point.node);\n\n    if (nextTextNode) {\n      node = nextTextNode;\n
    \     offset = 0;\n    } else {\n      node = point.node.parentNode;\n      offset
    = dom_position(point.node) + 1;\n    } // if next node is editable, return current
    node's sibling node.\n\n\n    if (isEditable(node)) {\n      node = point.node.nextSibling;\n
    \     offset = 0;\n    }\n  } else if (hasChildren(point.node)) {\n    node =
    point.node.childNodes[point.offset];\n    offset = 0;\n\n    if (dom_isEmpty(node))
    {\n      return null;\n    }\n  } else {\n    node = point.node;\n    offset =
    isSkipInnerOffset ? nodeLength(point.node) : point.offset + 1;\n\n    if (dom_isEmpty(node))
    {\n      return null;\n    }\n  }\n\n  return {\n    node: node,\n    offset:
    offset\n  };\n}\n/*\n* returns the next Text node index or 0 if not found.\n*/\n\n\nfunction
    getNextTextNode(actual) {\n  if (!actual.nextSibling) return undefined;\n  if
    (actual.parent !== actual.nextSibling.parent) return undefined;\n  if (isText(actual.nextSibling))
    return actual.nextSibling;\n  return getNextTextNode(actual.nextSibling);\n}\n/**\n
    * returns whether pointA and pointB is same or not.\n *\n * @param {BoundaryPoint}
    pointA\n * @param {BoundaryPoint} pointB\n * @return {Boolean}\n */\n\n\nfunction
    isSamePoint(pointA, pointB) {\n  return pointA.node === pointB.node && pointA.offset
    === pointB.offset;\n}\n/**\n * returns whether point is visible (can set cursor)
    or not.\n *\n * @param {BoundaryPoint} point\n * @return {Boolean}\n */\n\n\nfunction
    isVisiblePoint(point) {\n  if (isText(point.node) || !hasChildren(point.node)
    || dom_isEmpty(point.node)) {\n    return true;\n  }\n\n  var leftNode = point.node.childNodes[point.offset
    - 1];\n  var rightNode = point.node.childNodes[point.offset];\n\n  if ((!leftNode
    || isVoid(leftNode)) && (!rightNode || isVoid(rightNode))) {\n    return true;\n
    \ }\n\n  return false;\n}\n/**\n * @method prevPointUtil\n *\n * @param {BoundaryPoint}
    point\n * @param {Function} pred\n * @return {BoundaryPoint}\n */\n\n\nfunction
    prevPointUntil(point, pred) {\n  while (point) {\n    if (pred(point)) {\n      return
    point;\n    }\n\n    point = dom_prevPoint(point);\n  }\n\n  return null;\n}\n/**\n
    * @method nextPointUntil\n *\n * @param {BoundaryPoint} point\n * @param {Function}
    pred\n * @return {BoundaryPoint}\n */\n\n\nfunction nextPointUntil(point, pred)
    {\n  while (point) {\n    if (pred(point)) {\n      return point;\n    }\n\n    point
    = dom_nextPoint(point);\n  }\n\n  return null;\n}\n/**\n * returns whether point
    has character or not.\n *\n * @param {Point} point\n * @return {Boolean}\n */\n\n\nfunction
    isCharPoint(point) {\n  if (!isText(point.node)) {\n    return false;\n  }\n\n
    \ var ch = point.node.nodeValue.charAt(point.offset - 1);\n  return ch && ch !==
    ' ' && ch !== NBSP_CHAR;\n}\n/**\n * returns whether point has space or not.\n
    *\n * @param {Point} point\n * @return {Boolean}\n */\n\n\nfunction isSpacePoint(point)
    {\n  if (!isText(point.node)) {\n    return false;\n  }\n\n  var ch = point.node.nodeValue.charAt(point.offset
    - 1);\n  return ch === ' ' || ch === NBSP_CHAR;\n}\n/**\n * @method walkPoint\n
    *\n * @param {BoundaryPoint} startPoint\n * @param {BoundaryPoint} endPoint\n
    * @param {Function} handler\n * @param {Boolean} isSkipInnerOffset\n */\n\n\nfunction
    walkPoint(startPoint, endPoint, handler, isSkipInnerOffset) {\n  var point = startPoint;\n\n
    \ while (point) {\n    handler(point);\n\n    if (isSamePoint(point, endPoint))
    {\n      break;\n    }\n\n    var isSkipOffset = isSkipInnerOffset && startPoint.node
    !== point.node && endPoint.node !== point.node;\n    point = nextPointWithEmptyNode(point,
    isSkipOffset);\n  }\n}\n/**\n * @method makeOffsetPath\n *\n * return offsetPath(array
    of offset) from ancestor\n *\n * @param {Node} ancestor - ancestor node\n * @param
    {Node} node\n */\n\n\nfunction makeOffsetPath(ancestor, node) {\n  var ancestors
    = listAncestor(node, func.eq(ancestor));\n  return ancestors.map(dom_position).reverse();\n}\n/**\n
    * @method fromOffsetPath\n *\n * return element from offsetPath(array of offset)\n
    *\n * @param {Node} ancestor - ancestor node\n * @param {array} offsets - offsetPath\n
    */\n\n\nfunction fromOffsetPath(ancestor, offsets) {\n  var current = ancestor;\n\n
    \ for (var i = 0, len = offsets.length; i < len; i++) {\n    if (current.childNodes.length
    <= offsets[i]) {\n      current = current.childNodes[current.childNodes.length
    - 1];\n    } else {\n      current = current.childNodes[offsets[i]];\n    }\n
    \ }\n\n  return current;\n}\n/**\n * @method splitNode\n *\n * split element or
    #text\n *\n * @param {BoundaryPoint} point\n * @param {Object} [options]\n * @param
    {Boolean} [options.isSkipPaddingBlankHTML] - default: false\n * @param {Boolean}
    [options.isNotSplitEdgePoint] - default: false\n * @param {Boolean} [options.isDiscardEmptySplits]
    - default: false\n * @return {Node} right node of boundaryPoint\n */\n\n\nfunction
    splitNode(point, options) {\n  var isSkipPaddingBlankHTML = options && options.isSkipPaddingBlankHTML;\n
    \ var isNotSplitEdgePoint = options && options.isNotSplitEdgePoint;\n  var isDiscardEmptySplits
    = options && options.isDiscardEmptySplits;\n\n  if (isDiscardEmptySplits) {\n
    \   isSkipPaddingBlankHTML = true;\n  } // edge case\n\n\n  if (isEdgePoint(point)
    && (isText(point.node) || isNotSplitEdgePoint)) {\n    if (isLeftEdgePoint(point))
    {\n      return point.node;\n    } else if (isRightEdgePoint(point)) {\n      return
    point.node.nextSibling;\n    }\n  } // split #text\n\n\n  if (isText(point.node))
    {\n    return point.node.splitText(point.offset);\n  } else {\n    var childNode
    = point.node.childNodes[point.offset];\n    var clone = insertAfter(point.node.cloneNode(false),
    point.node);\n    appendChildNodes(clone, listNext(childNode));\n\n    if (!isSkipPaddingBlankHTML)
    {\n      paddingBlankHTML(point.node);\n      paddingBlankHTML(clone);\n    }\n\n
    \   if (isDiscardEmptySplits) {\n      if (dom_isEmpty(point.node)) {\n        remove(point.node);\n
    \     }\n\n      if (dom_isEmpty(clone)) {\n        remove(clone);\n        return
    point.node.nextSibling;\n      }\n    }\n\n    return clone;\n  }\n}\n/**\n *
    @method splitTree\n *\n * split tree by point\n *\n * @param {Node} root - split
    root\n * @param {BoundaryPoint} point\n * @param {Object} [options]\n * @param
    {Boolean} [options.isSkipPaddingBlankHTML] - default: false\n * @param {Boolean}
    [options.isNotSplitEdgePoint] - default: false\n * @return {Node} right node of
    boundaryPoint\n */\n\n\nfunction splitTree(root, point, options) {\n  // ex) [#text,
    <span>, <p>]\n  var ancestors = listAncestor(point.node, func.eq(root));\n\n  if
    (!ancestors.length) {\n    return null;\n  } else if (ancestors.length === 1)
    {\n    return splitNode(point, options);\n  }\n\n  return ancestors.reduce(function
    (node, parent) {\n    if (node === point.node) {\n      node = splitNode(point,
    options);\n    }\n\n    return splitNode({\n      node: parent,\n      offset:
    node ? dom_position(node) : nodeLength(parent)\n    }, options);\n  });\n}\n/**\n
    * split point\n *\n * @param {Point} point\n * @param {Boolean} isInline\n * @return
    {Object}\n */\n\n\nfunction splitPoint(point, isInline) {\n  // find splitRoot,
    container\n  //  - inline: splitRoot is a child of paragraph\n  //  - block: splitRoot
    is a child of bodyContainer\n  var pred = isInline ? isPara : isBodyContainer;\n
    \ var ancestors = listAncestor(point.node, pred);\n  var topAncestor = lists.last(ancestors)
    || point.node;\n  var splitRoot, container;\n\n  if (pred(topAncestor)) {\n    splitRoot
    = ancestors[ancestors.length - 2];\n    container = topAncestor;\n  } else {\n
    \   splitRoot = topAncestor;\n    container = splitRoot.parentNode;\n  } // if
    splitRoot is exists, split with splitTree\n\n\n  var pivot = splitRoot && splitTree(splitRoot,
    point, {\n    isSkipPaddingBlankHTML: isInline,\n    isNotSplitEdgePoint: isInline\n
    \ }); // if container is point.node, find pivot with point.offset\n\n  if (!pivot
    && container === point.node) {\n    pivot = point.node.childNodes[point.offset];\n
    \ }\n\n  return {\n    rightNode: pivot,\n    container: container\n  };\n}\n\nfunction
    dom_create(nodeName) {\n  return document.createElement(nodeName);\n}\n\nfunction
    createText(text) {\n  return document.createTextNode(text);\n}\n/**\n * @method
    remove\n *\n * remove node, (isRemoveChild: remove child or not)\n *\n * @param
    {Node} node\n * @param {Boolean} isRemoveChild\n */\n\n\nfunction remove(node,
    isRemoveChild) {\n  if (!node || !node.parentNode) {\n    return;\n  }\n\n  if
    (node.removeNode) {\n    return node.removeNode(isRemoveChild);\n  }\n\n  var
    parent = node.parentNode;\n\n  if (!isRemoveChild) {\n    var nodes = [];\n\n
    \   for (var i = 0, len = node.childNodes.length; i < len; i++) {\n      nodes.push(node.childNodes[i]);\n
    \   }\n\n    for (var _i = 0, _len = nodes.length; _i < _len; _i++) {\n      parent.insertBefore(nodes[_i],
    node);\n    }\n  }\n\n  parent.removeChild(node);\n}\n/**\n * @method removeWhile\n
    *\n * @param {Node} node\n * @param {Function} pred\n */\n\n\nfunction removeWhile(node,
    pred) {\n  while (node) {\n    if (isEditable(node) || !pred(node)) {\n      break;\n
    \   }\n\n    var parent = node.parentNode;\n    remove(node);\n    node = parent;\n
    \ }\n}\n/**\n * @method replace\n *\n * replace node with provided nodeName\n
    *\n * @param {Node} node\n * @param {String} nodeName\n * @return {Node} - new
    node\n */\n\n\nfunction dom_replace(node, nodeName) {\n  if (node.nodeName.toUpperCase()
    === nodeName.toUpperCase()) {\n    return node;\n  }\n\n  var newNode = dom_create(nodeName);\n\n
    \ if (node.style.cssText) {\n    newNode.style.cssText = node.style.cssText;\n
    \ }\n\n  appendChildNodes(newNode, lists.from(node.childNodes));\n  insertAfter(newNode,
    node);\n  remove(node);\n  return newNode;\n}\n\nvar isTextarea = makePredByNodeName('TEXTAREA');\n/**\n
    * @param {jQuery} $node\n * @param {Boolean} [stripLinebreaks] - default: false\n
    */\n\nfunction dom_value($node, stripLinebreaks) {\n  var val = isTextarea($node[0])
    ? $node.val() : $node.html();\n\n  if (stripLinebreaks) {\n    return val.replace(/[\\n\\r]/g,
    '');\n  }\n\n  return val;\n}\n/**\n * @method html\n *\n * get the HTML contents
    of node\n *\n * @param {jQuery} $node\n * @param {Boolean} [isNewlineOnBlock]\n
    */\n\n\nfunction dom_html($node, isNewlineOnBlock) {\n  var markup = dom_value($node);\n\n
    \ if (isNewlineOnBlock) {\n    var regexTag = /<(\\/?)(\\b(?!!)[^>\\s]*)(.*?)(\\s*\\/?>)/g;\n
    \   markup = markup.replace(regexTag, function (match, endSlash, name) {\n      name
    = name.toUpperCase();\n      var isEndOfInlineContainer = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(name)
    && !!endSlash;\n      var isBlockNode = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(name);\n
    \     return match + (isEndOfInlineContainer || isBlockNode ? '\\n' : '');\n    });\n
    \   markup = markup.trim();\n  }\n\n  return markup;\n}\n\nfunction posFromPlaceholder(placeholder)
    {\n  var $placeholder = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(placeholder);\n
    \ var pos = $placeholder.offset();\n  var height = $placeholder.outerHeight(true);
    // include margin\n\n  return {\n    left: pos.left,\n    top: pos.top + height\n
    \ };\n}\n\nfunction attachEvents($node, events) {\n  Object.keys(events).forEach(function
    (key) {\n    $node.on(key, events[key]);\n  });\n}\n\nfunction detachEvents($node,
    events) {\n  Object.keys(events).forEach(function (key) {\n    $node.off(key,
    events[key]);\n  });\n}\n/**\n * @method isCustomStyleTag\n *\n * assert if a
    node contains a \"note-styletag\" class,\n * which implies that's a custom-made
    style tag node\n *\n * @param {Node} an HTML DOM node\n */\n\n\nfunction isCustomStyleTag(node)
    {\n  return node && !isText(node) && lists.contains(node.classList, 'note-styletag');\n}\n\n/*
    harmony default export */ var dom = ({\n  /** @property {String} NBSP_CHAR */\n
    \ NBSP_CHAR: NBSP_CHAR,\n\n  /** @property {String} ZERO_WIDTH_NBSP_CHAR */\n
    \ ZERO_WIDTH_NBSP_CHAR: ZERO_WIDTH_NBSP_CHAR,\n\n  /** @property {String} blank
    */\n  blank: blankHTML,\n\n  /** @property {String} emptyPara */\n  emptyPara:
    \"<p>\".concat(blankHTML, \"</p>\"),\n  makePredByNodeName: makePredByNodeName,\n
    \ isEditable: isEditable,\n  isControlSizing: isControlSizing,\n  isText: isText,\n
    \ isElement: isElement,\n  isVoid: isVoid,\n  isPara: isPara,\n  isPurePara: isPurePara,\n
    \ isHeading: isHeading,\n  isInline: dom_isInline,\n  isBlock: func.not(dom_isInline),\n
    \ isBodyInline: isBodyInline,\n  isBody: isBody,\n  isParaInline: isParaInline,\n
    \ isPre: isPre,\n  isList: isList,\n  isTable: isTable,\n  isData: isData,\n  isCell:
    dom_isCell,\n  isBlockquote: isBlockquote,\n  isBodyContainer: isBodyContainer,\n
    \ isAnchor: isAnchor,\n  isDiv: makePredByNodeName('DIV'),\n  isLi: isLi,\n  isBR:
    makePredByNodeName('BR'),\n  isSpan: makePredByNodeName('SPAN'),\n  isB: makePredByNodeName('B'),\n
    \ isU: makePredByNodeName('U'),\n  isS: makePredByNodeName('S'),\n  isI: makePredByNodeName('I'),\n
    \ isImg: makePredByNodeName('IMG'),\n  isTextarea: isTextarea,\n  deepestChildIsEmpty:
    deepestChildIsEmpty,\n  isEmpty: dom_isEmpty,\n  isEmptyAnchor: func.and(isAnchor,
    dom_isEmpty),\n  isClosestSibling: isClosestSibling,\n  withClosestSiblings: withClosestSiblings,\n
    \ nodeLength: nodeLength,\n  isLeftEdgePoint: isLeftEdgePoint,\n  isRightEdgePoint:
    isRightEdgePoint,\n  isEdgePoint: isEdgePoint,\n  isLeftEdgeOf: dom_isLeftEdgeOf,\n
    \ isRightEdgeOf: isRightEdgeOf,\n  isLeftEdgePointOf: isLeftEdgePointOf,\n  isRightEdgePointOf:
    isRightEdgePointOf,\n  prevPoint: dom_prevPoint,\n  nextPoint: dom_nextPoint,\n
    \ nextPointWithEmptyNode: nextPointWithEmptyNode,\n  isSamePoint: isSamePoint,\n
    \ isVisiblePoint: isVisiblePoint,\n  prevPointUntil: prevPointUntil,\n  nextPointUntil:
    nextPointUntil,\n  isCharPoint: isCharPoint,\n  isSpacePoint: isSpacePoint,\n
    \ walkPoint: walkPoint,\n  ancestor: dom_ancestor,\n  singleChildAncestor: singleChildAncestor,\n
    \ listAncestor: listAncestor,\n  lastAncestor: lastAncestor,\n  listNext: listNext,\n
    \ listPrev: listPrev,\n  listDescendant: listDescendant,\n  commonAncestor: dom_commonAncestor,\n
    \ wrap: wrap,\n  insertAfter: insertAfter,\n  appendChildNodes: appendChildNodes,\n
    \ position: dom_position,\n  hasChildren: hasChildren,\n  makeOffsetPath: makeOffsetPath,\n
    \ fromOffsetPath: fromOffsetPath,\n  splitTree: splitTree,\n  splitPoint: splitPoint,\n
    \ create: dom_create,\n  createText: createText,\n  remove: remove,\n  removeWhile:
    removeWhile,\n  replace: dom_replace,\n  html: dom_html,\n  value: dom_value,\n
    \ posFromPlaceholder: posFromPlaceholder,\n  attachEvents: attachEvents,\n  detachEvents:
    detachEvents,\n  isCustomStyleTag: isCustomStyleTag\n});\n// CONCATENATED MODULE:
    ./src/js/base/Context.js\nfunction _classCallCheck(instance, Constructor) { if
    (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class
    as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var
    i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps)
    { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps)
    _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar
    Context_Context = /*#__PURE__*/function () {\n  /**\n   * @param {jQuery} $note\n
    \  * @param {Object} options\n   */\n  function Context($note, options) {\n    _classCallCheck(this,
    Context);\n\n    this.$note = $note;\n    this.memos = {};\n    this.modules =
    {};\n    this.layoutInfo = {};\n    this.options = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(true,
    {}, options); // init ui with options\n\n    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui_template(this.options);\n
    \   this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.initialize();\n  }\n  /**\n   * create layout and initialize modules
    and other resources\n   */\n\n\n  _createClass(Context, [{\n    key: \"initialize\",\n
    \   value: function initialize() {\n      this.layoutInfo = this.ui.createLayout(this.$note);\n\n
    \     this._initialize();\n\n      this.$note.hide();\n      return this;\n    }\n
    \   /**\n     * destroy modules and other resources and remove layout\n     */\n\n
    \ }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._destroy();\n\n
    \     this.$note.removeData('summernote');\n      this.ui.removeLayout(this.$note,
    this.layoutInfo);\n    }\n    /**\n     * destory modules and other resources
    and initialize it again\n     */\n\n  }, {\n    key: \"reset\",\n    value: function
    reset() {\n      var disabled = this.isDisabled();\n      this.code(dom.emptyPara);\n\n
    \     this._destroy();\n\n      this._initialize();\n\n      if (disabled) {\n
    \       this.disable();\n      }\n    }\n  }, {\n    key: \"_initialize\",\n    value:
    function _initialize() {\n      var _this = this;\n\n      // set own id\n      this.options.id
    = func.uniqueId(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.now());
    // set default container for tooltips, popovers, and dialogs\n\n      this.options.container
    = this.options.container || this.layoutInfo.editor; // add optional buttons\n\n
    \     var buttons = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend({},
    this.options.buttons);\n      Object.keys(buttons).forEach(function (key) {\n
    \       _this.memo('button.' + key, buttons[key]);\n      });\n      var modules
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend({},
    this.options.modules, external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.plugins
    || {}); // add and initialize modules\n\n      Object.keys(modules).forEach(function
    (key) {\n        _this.module(key, modules[key], true);\n      });\n      Object.keys(this.modules).forEach(function
    (key) {\n        _this.initializeModule(key);\n      });\n    }\n  }, {\n    key:
    \"_destroy\",\n    value: function _destroy() {\n      var _this2 = this;\n\n
    \     // destroy modules with reversed order\n      Object.keys(this.modules).reverse().forEach(function
    (key) {\n        _this2.removeModule(key);\n      });\n      Object.keys(this.memos).forEach(function
    (key) {\n        _this2.removeMemo(key);\n      }); // trigger custom onDestroy
    callback\n\n      this.triggerEvent('destroy', this);\n    }\n  }, {\n    key:
    \"code\",\n    value: function code(html) {\n      var isActivated = this.invoke('codeview.isActivated');\n\n
    \     if (html === undefined) {\n        this.invoke('codeview.sync');\n        return
    isActivated ? this.layoutInfo.codable.val() : this.layoutInfo.editable.html();\n
    \     } else {\n        if (isActivated) {\n          this.invoke('codeview.sync',
    html);\n        } else {\n          this.layoutInfo.editable.html(html);\n        }\n\n
    \       this.$note.val(html);\n        this.triggerEvent('change', html, this.layoutInfo.editable);\n
    \     }\n    }\n  }, {\n    key: \"isDisabled\",\n    value: function isDisabled()
    {\n      return this.layoutInfo.editable.attr('contenteditable') === 'false';\n
    \   }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.layoutInfo.editable.attr('contenteditable',
    true);\n      this.invoke('toolbar.activate', true);\n      this.triggerEvent('disable',
    false);\n      this.options.editing = true;\n    }\n  }, {\n    key: \"disable\",\n
    \   value: function disable() {\n      // close codeview if codeview is opend\n
    \     if (this.invoke('codeview.isActivated')) {\n        this.invoke('codeview.deactivate');\n
    \     }\n\n      this.layoutInfo.editable.attr('contenteditable', false);\n      this.options.editing
    = false;\n      this.invoke('toolbar.deactivate', true);\n      this.triggerEvent('disable',
    true);\n    }\n  }, {\n    key: \"triggerEvent\",\n    value: function triggerEvent()
    {\n      var namespace = lists.head(arguments);\n      var args = lists.tail(lists.from(arguments));\n
    \     var callback = this.options.callbacks[func.namespaceToCamel(namespace, 'on')];\n\n
    \     if (callback) {\n        callback.apply(this.$note[0], args);\n      }\n\n
    \     this.$note.trigger('summernote.' + namespace, args);\n    }\n  }, {\n    key:
    \"initializeModule\",\n    value: function initializeModule(key) {\n      var
    module = this.modules[key];\n      module.shouldInitialize = module.shouldInitialize
    || func.ok;\n\n      if (!module.shouldInitialize()) {\n        return;\n      }
    // initialize module\n\n\n      if (module.initialize) {\n        module.initialize();\n
    \     } // attach events\n\n\n      if (module.events) {\n        dom.attachEvents(this.$note,
    module.events);\n      }\n    }\n  }, {\n    key: \"module\",\n    value: function
    module(key, ModuleClass, withoutIntialize) {\n      if (arguments.length === 1)
    {\n        return this.modules[key];\n      }\n\n      this.modules[key] = new
    ModuleClass(this);\n\n      if (!withoutIntialize) {\n        this.initializeModule(key);\n
    \     }\n    }\n  }, {\n    key: \"removeModule\",\n    value: function removeModule(key)
    {\n      var module = this.modules[key];\n\n      if (module.shouldInitialize())
    {\n        if (module.events) {\n          dom.detachEvents(this.$note, module.events);\n
    \       }\n\n        if (module.destroy) {\n          module.destroy();\n        }\n
    \     }\n\n      delete this.modules[key];\n    }\n  }, {\n    key: \"memo\",\n
    \   value: function memo(key, obj) {\n      if (arguments.length === 1) {\n        return
    this.memos[key];\n      }\n\n      this.memos[key] = obj;\n    }\n  }, {\n    key:
    \"removeMemo\",\n    value: function removeMemo(key) {\n      if (this.memos[key]
    && this.memos[key].destroy) {\n        this.memos[key].destroy();\n      }\n\n
    \     delete this.memos[key];\n    }\n    /**\n     * Some buttons need to change
    their visual style immediately once they get pressed\n     */\n\n  }, {\n    key:
    \"createInvokeHandlerAndUpdateState\",\n    value: function createInvokeHandlerAndUpdateState(namespace,
    value) {\n      var _this3 = this;\n\n      return function (event) {\n        _this3.createInvokeHandler(namespace,
    value)(event);\n\n        _this3.invoke('buttons.updateCurrentStyle');\n      };\n
    \   }\n  }, {\n    key: \"createInvokeHandler\",\n    value: function createInvokeHandler(namespace,
    value) {\n      var _this4 = this;\n\n      return function (event) {\n        event.preventDefault();\n
    \       var $target = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target);\n\n
    \       _this4.invoke(namespace, value || $target.closest('[data-value]').data('value'),
    $target);\n      };\n    }\n  }, {\n    key: \"invoke\",\n    value: function
    invoke() {\n      var namespace = lists.head(arguments);\n      var args = lists.tail(lists.from(arguments));\n
    \     var splits = namespace.split('.');\n      var hasSeparator = splits.length
    > 1;\n      var moduleName = hasSeparator && lists.head(splits);\n      var methodName
    = hasSeparator ? lists.last(splits) : lists.head(splits);\n      var module =
    this.modules[moduleName || 'editor'];\n\n      if (!moduleName && this[methodName])
    {\n        return this[methodName].apply(this, args);\n      } else if (module
    && module[methodName] && module.shouldInitialize()) {\n        return module[methodName].apply(module,
    args);\n      }\n    }\n  }]);\n\n  return Context;\n}();\n\n\n// CONCATENATED
    MODULE: ./src/js/summernote.js\n\n\n\n\nexternal_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.fn.extend({\n
    \ /**\n   * Summernote API\n   *\n   * @param {Object|String}\n   * @return {this}\n
    \  */\n  summernote: function summernote() {\n    var type = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.type(lists.head(arguments));\n
    \   var isExternalAPICalled = type === 'string';\n    var hasInitOptions = type
    === 'object';\n    var options = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend({},
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.options,
    hasInitOptions ? lists.head(arguments) : {}); // Update options\n\n    options.langInfo
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(true,
    {}, external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.lang['en-US'],
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.lang[options.lang]);\n
    \   options.icons = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(true,
    {}, external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.options.icons,
    options.icons);\n    options.tooltip = options.tooltip === 'auto' ? !env.isSupportTouch
    : options.tooltip;\n    this.each(function (idx, note) {\n      var $note = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(note);\n\n
    \     if (!$note.data('summernote')) {\n        var context = new Context_Context($note,
    options);\n        $note.data('summernote', context);\n        $note.data('summernote').triggerEvent('init',
    context.layoutInfo);\n      }\n    });\n    var $note = this.first();\n\n    if
    ($note.length) {\n      var context = $note.data('summernote');\n\n      if (isExternalAPICalled)
    {\n        return context.invoke.apply(context, lists.from(arguments));\n      }
    else if (options.focus) {\n        context.invoke('editor.focus');\n      }\n
    \   }\n\n    return this;\n  }\n});\n// CONCATENATED MODULE: ./src/js/base/core/range.js\nfunction
    range_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    range_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    range_createClass(Constructor, protoProps, staticProps) { if (protoProps) range_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) range_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n\n/**\n * return boundaryPoint from TextRange,
    inspired by Andy Na's HuskyRange.js\n *\n * @param {TextRange} textRange\n * @param
    {Boolean} isStart\n * @return {BoundaryPoint}\n *\n * @see http://msdn.microsoft.com/en-us/library/ie/ms535872(v=vs.85).aspx\n
    */\n\nfunction textRangeToPoint(textRange, isStart) {\n  var container = textRange.parentElement();\n
    \ var offset;\n  var tester = document.body.createTextRange();\n  var prevContainer;\n
    \ var childNodes = lists.from(container.childNodes);\n\n  for (offset = 0; offset
    < childNodes.length; offset++) {\n    if (dom.isText(childNodes[offset])) {\n
    \     continue;\n    }\n\n    tester.moveToElementText(childNodes[offset]);\n\n
    \   if (tester.compareEndPoints('StartToStart', textRange) >= 0) {\n      break;\n
    \   }\n\n    prevContainer = childNodes[offset];\n  }\n\n  if (offset !== 0 &&
    dom.isText(childNodes[offset - 1])) {\n    var textRangeStart = document.body.createTextRange();\n
    \   var curTextNode = null;\n    textRangeStart.moveToElementText(prevContainer
    || container);\n    textRangeStart.collapse(!prevContainer);\n    curTextNode
    = prevContainer ? prevContainer.nextSibling : container.firstChild;\n    var pointTester
    = textRange.duplicate();\n    pointTester.setEndPoint('StartToStart', textRangeStart);\n
    \   var textCount = pointTester.text.replace(/[\\r\\n]/g, '').length;\n\n    while
    (textCount > curTextNode.nodeValue.length && curTextNode.nextSibling) {\n      textCount
    -= curTextNode.nodeValue.length;\n      curTextNode = curTextNode.nextSibling;\n
    \   } // [workaround] enforce IE to re-reference curTextNode, hack\n\n\n    var
    dummy = curTextNode.nodeValue; // eslint-disable-line\n\n    if (isStart && curTextNode.nextSibling
    && dom.isText(curTextNode.nextSibling) && textCount === curTextNode.nodeValue.length)
    {\n      textCount -= curTextNode.nodeValue.length;\n      curTextNode = curTextNode.nextSibling;\n
    \   }\n\n    container = curTextNode;\n    offset = textCount;\n  }\n\n  return
    {\n    cont: container,\n    offset: offset\n  };\n}\n/**\n * return TextRange
    from boundary point (inspired by google closure-library)\n * @param {BoundaryPoint}
    point\n * @return {TextRange}\n */\n\n\nfunction pointToTextRange(point) {\n  var
    textRangeInfo = function textRangeInfo(container, offset) {\n    var node, isCollapseToStart;\n\n
    \   if (dom.isText(container)) {\n      var prevTextNodes = dom.listPrev(container,
    func.not(dom.isText));\n      var prevContainer = lists.last(prevTextNodes).previousSibling;\n
    \     node = prevContainer || container.parentNode;\n      offset += lists.sum(lists.tail(prevTextNodes),
    dom.nodeLength);\n      isCollapseToStart = !prevContainer;\n    } else {\n      node
    = container.childNodes[offset] || container;\n\n      if (dom.isText(node)) {\n
    \       return textRangeInfo(node, 0);\n      }\n\n      offset = 0;\n      isCollapseToStart
    = false;\n    }\n\n    return {\n      node: node,\n      collapseToStart: isCollapseToStart,\n
    \     offset: offset\n    };\n  };\n\n  var textRange = document.body.createTextRange();\n
    \ var info = textRangeInfo(point.node, point.offset);\n  textRange.moveToElementText(info.node);\n
    \ textRange.collapse(info.collapseToStart);\n  textRange.moveStart('character',
    info.offset);\n  return textRange;\n}\n/**\n   * Wrapped Range\n   *\n   * @constructor\n
    \  * @param {Node} sc - start container\n   * @param {Number} so - start offset\n
    \  * @param {Node} ec - end container\n   * @param {Number} eo - end offset\n
    \  */\n\n\nvar range_WrappedRange = /*#__PURE__*/function () {\n  function WrappedRange(sc,
    so, ec, eo) {\n    range_classCallCheck(this, WrappedRange);\n\n    this.sc =
    sc;\n    this.so = so;\n    this.ec = ec;\n    this.eo = eo; // isOnEditable:
    judge whether range is on editable or not\n\n    this.isOnEditable = this.makeIsOn(dom.isEditable);
    // isOnList: judge whether range is on list node or not\n\n    this.isOnList =
    this.makeIsOn(dom.isList); // isOnAnchor: judge whether range is on anchor node
    or not\n\n    this.isOnAnchor = this.makeIsOn(dom.isAnchor); // isOnCell: judge
    whether range is on cell node or not\n\n    this.isOnCell = this.makeIsOn(dom.isCell);
    // isOnData: judge whether range is on data node or not\n\n    this.isOnData =
    this.makeIsOn(dom.isData);\n  } // nativeRange: get nativeRange from sc, so, ec,
    eo\n\n\n  range_createClass(WrappedRange, [{\n    key: \"nativeRange\",\n    value:
    function nativeRange() {\n      if (env.isW3CRangeSupport) {\n        var w3cRange
    = document.createRange();\n        w3cRange.setStart(this.sc, this.so);\n        w3cRange.setEnd(this.ec,
    this.eo);\n        return w3cRange;\n      } else {\n        var textRange = pointToTextRange({\n
    \         node: this.sc,\n          offset: this.so\n        });\n        textRange.setEndPoint('EndToEnd',
    pointToTextRange({\n          node: this.ec,\n          offset: this.eo\n        }));\n
    \       return textRange;\n      }\n    }\n  }, {\n    key: \"getPoints\",\n    value:
    function getPoints() {\n      return {\n        sc: this.sc,\n        so: this.so,\n
    \       ec: this.ec,\n        eo: this.eo\n      };\n    }\n  }, {\n    key: \"getStartPoint\",\n
    \   value: function getStartPoint() {\n      return {\n        node: this.sc,\n
    \       offset: this.so\n      };\n    }\n  }, {\n    key: \"getEndPoint\",\n
    \   value: function getEndPoint() {\n      return {\n        node: this.ec,\n
    \       offset: this.eo\n      };\n    }\n    /**\n     * select update visible
    range\n     */\n\n  }, {\n    key: \"select\",\n    value: function select() {\n
    \     var nativeRng = this.nativeRange();\n\n      if (env.isW3CRangeSupport)
    {\n        var selection = document.getSelection();\n\n        if (selection.rangeCount
    > 0) {\n          selection.removeAllRanges();\n        }\n\n        selection.addRange(nativeRng);\n
    \     } else {\n        nativeRng.select();\n      }\n\n      return this;\n    }\n
    \   /**\n     * Moves the scrollbar to start container(sc) of current range\n
    \    *\n     * @return {WrappedRange}\n     */\n\n  }, {\n    key: \"scrollIntoView\",\n
    \   value: function scrollIntoView(container) {\n      var height = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(container).height();\n\n
    \     if (container.scrollTop + height < this.sc.offsetTop) {\n        container.scrollTop
    += Math.abs(container.scrollTop + height - this.sc.offsetTop);\n      }\n\n      return
    this;\n    }\n    /**\n     * @return {WrappedRange}\n     */\n\n  }, {\n    key:
    \"normalize\",\n    value: function normalize() {\n      /**\n       * @param
    {BoundaryPoint} point\n       * @param {Boolean} isLeftToRight - true: prefer
    to choose right node\n       *                                - false: prefer
    to choose left node\n       * @return {BoundaryPoint}\n       */\n      var getVisiblePoint
    = function getVisiblePoint(point, isLeftToRight) {\n        if (!point) {\n          return
    point;\n        } // Just use the given point [XXX:Adhoc]\n        //  - case
    01. if the point is on the middle of the node\n        //  - case 02. if the point
    is on the right edge and prefer to choose left node\n        //  - case 03. if
    the point is on the left edge and prefer to choose right node\n        //  - case
    04. if the point is on the right edge and prefer to choose right node but the
    node is void\n        //  - case 05. if the point is on the left edge and prefer
    to choose left node but the node is void\n        //  - case 06. if the point
    is on the block node and there is no children\n\n\n        if (dom.isVisiblePoint(point))
    {\n          if (!dom.isEdgePoint(point) || dom.isRightEdgePoint(point) && !isLeftToRight
    || dom.isLeftEdgePoint(point) && isLeftToRight || dom.isRightEdgePoint(point)
    && isLeftToRight && dom.isVoid(point.node.nextSibling) || dom.isLeftEdgePoint(point)
    && !isLeftToRight && dom.isVoid(point.node.previousSibling) || dom.isBlock(point.node)
    && dom.isEmpty(point.node)) {\n            return point;\n          }\n        }
    // point on block's edge\n\n\n        var block = dom.ancestor(point.node, dom.isBlock);\n
    \       var hasRightNode = false;\n\n        if (!hasRightNode) {\n          var
    prevPoint = dom.prevPoint(point) || {\n            node: null\n          };\n
    \         hasRightNode = (dom.isLeftEdgePointOf(point, block) || dom.isVoid(prevPoint.node))
    && !isLeftToRight;\n        }\n\n        var hasLeftNode = false;\n\n        if
    (!hasLeftNode) {\n          var _nextPoint = dom.nextPoint(point) || {\n            node:
    null\n          };\n\n          hasLeftNode = (dom.isRightEdgePointOf(point, block)
    || dom.isVoid(_nextPoint.node)) && isLeftToRight;\n        }\n\n        if (hasRightNode
    || hasLeftNode) {\n          // returns point already on visible point\n          if
    (dom.isVisiblePoint(point)) {\n            return point;\n          } // reverse
    direction\n\n\n          isLeftToRight = !isLeftToRight;\n        }\n\n        var
    nextPoint = isLeftToRight ? dom.nextPointUntil(dom.nextPoint(point), dom.isVisiblePoint)
    : dom.prevPointUntil(dom.prevPoint(point), dom.isVisiblePoint);\n        return
    nextPoint || point;\n      };\n\n      var endPoint = getVisiblePoint(this.getEndPoint(),
    false);\n      var startPoint = this.isCollapsed() ? endPoint : getVisiblePoint(this.getStartPoint(),
    true);\n      return new WrappedRange(startPoint.node, startPoint.offset, endPoint.node,
    endPoint.offset);\n    }\n    /**\n     * returns matched nodes on range\n     *\n
    \    * @param {Function} [pred] - predicate function\n     * @param {Object} [options]\n
    \    * @param {Boolean} [options.includeAncestor]\n     * @param {Boolean} [options.fullyContains]\n
    \    * @return {Node[]}\n     */\n\n  }, {\n    key: \"nodes\",\n    value: function
    nodes(pred, options) {\n      pred = pred || func.ok;\n      var includeAncestor
    = options && options.includeAncestor;\n      var fullyContains = options && options.fullyContains;
    // TODO compare points and sort\n\n      var startPoint = this.getStartPoint();\n
    \     var endPoint = this.getEndPoint();\n      var nodes = [];\n      var leftEdgeNodes
    = [];\n      dom.walkPoint(startPoint, endPoint, function (point) {\n        if
    (dom.isEditable(point.node)) {\n          return;\n        }\n\n        var node;\n\n
    \       if (fullyContains) {\n          if (dom.isLeftEdgePoint(point)) {\n            leftEdgeNodes.push(point.node);\n
    \         }\n\n          if (dom.isRightEdgePoint(point) && lists.contains(leftEdgeNodes,
    point.node)) {\n            node = point.node;\n          }\n        } else if
    (includeAncestor) {\n          node = dom.ancestor(point.node, pred);\n        }
    else {\n          node = point.node;\n        }\n\n        if (node && pred(node))
    {\n          nodes.push(node);\n        }\n      }, true);\n      return lists.unique(nodes);\n
    \   }\n    /**\n     * returns commonAncestor of range\n     * @return {Element}
    - commonAncestor\n     */\n\n  }, {\n    key: \"commonAncestor\",\n    value:
    function commonAncestor() {\n      return dom.commonAncestor(this.sc, this.ec);\n
    \   }\n    /**\n     * returns expanded range by pred\n     *\n     * @param {Function}
    pred - predicate function\n     * @return {WrappedRange}\n     */\n\n  }, {\n
    \   key: \"expand\",\n    value: function expand(pred) {\n      var startAncestor
    = dom.ancestor(this.sc, pred);\n      var endAncestor = dom.ancestor(this.ec,
    pred);\n\n      if (!startAncestor && !endAncestor) {\n        return new WrappedRange(this.sc,
    this.so, this.ec, this.eo);\n      }\n\n      var boundaryPoints = this.getPoints();\n\n
    \     if (startAncestor) {\n        boundaryPoints.sc = startAncestor;\n        boundaryPoints.so
    = 0;\n      }\n\n      if (endAncestor) {\n        boundaryPoints.ec = endAncestor;\n
    \       boundaryPoints.eo = dom.nodeLength(endAncestor);\n      }\n\n      return
    new WrappedRange(boundaryPoints.sc, boundaryPoints.so, boundaryPoints.ec, boundaryPoints.eo);\n
    \   }\n    /**\n     * @param {Boolean} isCollapseToStart\n     * @return {WrappedRange}\n
    \    */\n\n  }, {\n    key: \"collapse\",\n    value: function collapse(isCollapseToStart)
    {\n      if (isCollapseToStart) {\n        return new WrappedRange(this.sc, this.so,
    this.sc, this.so);\n      } else {\n        return new WrappedRange(this.ec, this.eo,
    this.ec, this.eo);\n      }\n    }\n    /**\n     * splitText on range\n     */\n\n
    \ }, {\n    key: \"splitText\",\n    value: function splitText() {\n      var
    isSameContainer = this.sc === this.ec;\n      var boundaryPoints = this.getPoints();\n\n
    \     if (dom.isText(this.ec) && !dom.isEdgePoint(this.getEndPoint())) {\n        this.ec.splitText(this.eo);\n
    \     }\n\n      if (dom.isText(this.sc) && !dom.isEdgePoint(this.getStartPoint()))
    {\n        boundaryPoints.sc = this.sc.splitText(this.so);\n        boundaryPoints.so
    = 0;\n\n        if (isSameContainer) {\n          boundaryPoints.ec = boundaryPoints.sc;\n
    \         boundaryPoints.eo = this.eo - this.so;\n        }\n      }\n\n      return
    new WrappedRange(boundaryPoints.sc, boundaryPoints.so, boundaryPoints.ec, boundaryPoints.eo);\n
    \   }\n    /**\n     * delete contents on range\n     * @return {WrappedRange}\n
    \    */\n\n  }, {\n    key: \"deleteContents\",\n    value: function deleteContents()
    {\n      if (this.isCollapsed()) {\n        return this;\n      }\n\n      var
    rng = this.splitText();\n      var nodes = rng.nodes(null, {\n        fullyContains:
    true\n      }); // find new cursor point\n\n      var point = dom.prevPointUntil(rng.getStartPoint(),
    function (point) {\n        return !lists.contains(nodes, point.node);\n      });\n
    \     var emptyParents = [];\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(nodes,
    function (idx, node) {\n        // find empty parents\n        var parent = node.parentNode;\n\n
    \       if (point.node !== parent && dom.nodeLength(parent) === 1) {\n          emptyParents.push(parent);\n
    \       }\n\n        dom.remove(node, false);\n      }); // remove empty parents\n\n
    \     external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(emptyParents,
    function (idx, node) {\n        dom.remove(node, false);\n      });\n      return
    new WrappedRange(point.node, point.offset, point.node, point.offset).normalize();\n
    \   }\n    /**\n     * makeIsOn: return isOn(pred) function\n     */\n\n  }, {\n
    \   key: \"makeIsOn\",\n    value: function makeIsOn(pred) {\n      return function
    () {\n        var ancestor = dom.ancestor(this.sc, pred);\n        return !!ancestor
    && ancestor === dom.ancestor(this.ec, pred);\n      };\n    }\n    /**\n     *
    @param {Function} pred\n     * @return {Boolean}\n     */\n\n  }, {\n    key:
    \"isLeftEdgeOf\",\n    value: function isLeftEdgeOf(pred) {\n      if (!dom.isLeftEdgePoint(this.getStartPoint()))
    {\n        return false;\n      }\n\n      var node = dom.ancestor(this.sc, pred);\n
    \     return node && dom.isLeftEdgeOf(this.sc, node);\n    }\n    /**\n     *
    returns whether range was collapsed or not\n     */\n\n  }, {\n    key: \"isCollapsed\",\n
    \   value: function isCollapsed() {\n      return this.sc === this.ec && this.so
    === this.eo;\n    }\n    /**\n     * wrap inline nodes which children of body
    with paragraph\n     *\n     * @return {WrappedRange}\n     */\n\n  }, {\n    key:
    \"wrapBodyInlineWithPara\",\n    value: function wrapBodyInlineWithPara() {\n
    \     if (dom.isBodyContainer(this.sc) && dom.isEmpty(this.sc)) {\n        this.sc.innerHTML
    = dom.emptyPara;\n        return new WrappedRange(this.sc.firstChild, 0, this.sc.firstChild,
    0);\n      }\n      /**\n       * [workaround] firefox often create range on not
    visible point. so normalize here.\n       *  - firefox: |<p>text</p>|\n       *
    \ - chrome: <p>|text|</p>\n       */\n\n\n      var rng = this.normalize();\n\n
    \     if (dom.isParaInline(this.sc) || dom.isPara(this.sc)) {\n        return
    rng;\n      } // find inline top ancestor\n\n\n      var topAncestor;\n\n      if
    (dom.isInline(rng.sc)) {\n        var ancestors = dom.listAncestor(rng.sc, func.not(dom.isInline));\n
    \       topAncestor = lists.last(ancestors);\n\n        if (!dom.isInline(topAncestor))
    {\n          topAncestor = ancestors[ancestors.length - 2] || rng.sc.childNodes[rng.so];\n
    \       }\n      } else {\n        topAncestor = rng.sc.childNodes[rng.so > 0
    ? rng.so - 1 : 0];\n      }\n\n      if (topAncestor) {\n        // siblings not
    in paragraph\n        var inlineSiblings = dom.listPrev(topAncestor, dom.isParaInline).reverse();\n
    \       inlineSiblings = inlineSiblings.concat(dom.listNext(topAncestor.nextSibling,
    dom.isParaInline)); // wrap with paragraph\n\n        if (inlineSiblings.length)
    {\n          var para = dom.wrap(lists.head(inlineSiblings), 'p');\n          dom.appendChildNodes(para,
    lists.tail(inlineSiblings));\n        }\n      }\n\n      return this.normalize();\n
    \   }\n    /**\n     * insert node at current cursor\n     *\n     * @param {Node}
    node\n     * @return {Node}\n     */\n\n  }, {\n    key: \"insertNode\",\n    value:
    function insertNode(node) {\n      var rng = this;\n\n      if (dom.isText(node)
    || dom.isInline(node)) {\n        rng = this.wrapBodyInlineWithPara().deleteContents();\n
    \     }\n\n      var info = dom.splitPoint(rng.getStartPoint(), dom.isInline(node));\n\n
    \     if (info.rightNode) {\n        info.rightNode.parentNode.insertBefore(node,
    info.rightNode);\n\n        if (dom.isEmpty(info.rightNode) && dom.isPara(node))
    {\n          info.rightNode.parentNode.removeChild(info.rightNode);\n        }\n
    \     } else {\n        info.container.appendChild(node);\n      }\n\n      return
    node;\n    }\n    /**\n     * insert html at current cursor\n     */\n\n  }, {\n
    \   key: \"pasteHTML\",\n    value: function pasteHTML(markup) {\n      markup
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.trim(markup);\n
    \     var contentsContainer = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div></div>').html(markup)[0];\n
    \     var childNodes = lists.from(contentsContainer.childNodes); // const rng
    = this.wrapBodyInlineWithPara().deleteContents();\n\n      var rng = this;\n      var
    reversed = false;\n\n      if (rng.so >= 0) {\n        childNodes = childNodes.reverse();\n
    \       reversed = true;\n      }\n\n      childNodes = childNodes.map(function
    (childNode) {\n        return rng.insertNode(childNode);\n      });\n\n      if
    (reversed) {\n        childNodes = childNodes.reverse();\n      }\n\n      return
    childNodes;\n    }\n    /**\n     * returns text in range\n     *\n     * @return
    {String}\n     */\n\n  }, {\n    key: \"toString\",\n    value: function toString()
    {\n      var nativeRng = this.nativeRange();\n      return env.isW3CRangeSupport
    ? nativeRng.toString() : nativeRng.text;\n    }\n    /**\n     * returns range
    for word before cursor\n     *\n     * @param {Boolean} [findAfter] - find after
    cursor, default: false\n     * @return {WrappedRange}\n     */\n\n  }, {\n    key:
    \"getWordRange\",\n    value: function getWordRange(findAfter) {\n      var endPoint
    = this.getEndPoint();\n\n      if (!dom.isCharPoint(endPoint)) {\n        return
    this;\n      }\n\n      var startPoint = dom.prevPointUntil(endPoint, function
    (point) {\n        return !dom.isCharPoint(point);\n      });\n\n      if (findAfter)
    {\n        endPoint = dom.nextPointUntil(endPoint, function (point) {\n          return
    !dom.isCharPoint(point);\n        });\n      }\n\n      return new WrappedRange(startPoint.node,
    startPoint.offset, endPoint.node, endPoint.offset);\n    }\n    /**\n     * returns
    range for words before cursor\n     *\n     * @param {Boolean} [findAfter] - find
    after cursor, default: false\n     * @return {WrappedRange}\n     */\n\n  }, {\n
    \   key: \"getWordsRange\",\n    value: function getWordsRange(findAfter) {\n
    \     var endPoint = this.getEndPoint();\n\n      var isNotTextPoint = function
    isNotTextPoint(point) {\n        return !dom.isCharPoint(point) && !dom.isSpacePoint(point);\n
    \     };\n\n      if (isNotTextPoint(endPoint)) {\n        return this;\n      }\n\n
    \     var startPoint = dom.prevPointUntil(endPoint, isNotTextPoint);\n\n      if
    (findAfter) {\n        endPoint = dom.nextPointUntil(endPoint, isNotTextPoint);\n
    \     }\n\n      return new WrappedRange(startPoint.node, startPoint.offset, endPoint.node,
    endPoint.offset);\n    }\n    /**\n     * returns range for words before cursor
    that match with a Regex\n     *\n     * example:\n     *  range: 'hi @Peter Pan'\n
    \    *  regex: '/@[a-z ]+/i'\n     *  return range: '@Peter Pan'\n     *\n     *
    @param {RegExp} [regex]\n     * @return {WrappedRange|null}\n     */\n\n  }, {\n
    \   key: \"getWordsMatchRange\",\n    value: function getWordsMatchRange(regex)
    {\n      var endPoint = this.getEndPoint();\n      var startPoint = dom.prevPointUntil(endPoint,
    function (point) {\n        if (!dom.isCharPoint(point) && !dom.isSpacePoint(point))
    {\n          return true;\n        }\n\n        var rng = new WrappedRange(point.node,
    point.offset, endPoint.node, endPoint.offset);\n        var result = regex.exec(rng.toString());\n
    \       return result && result.index === 0;\n      });\n      var rng = new WrappedRange(startPoint.node,
    startPoint.offset, endPoint.node, endPoint.offset);\n      var text = rng.toString();\n
    \     var result = regex.exec(text);\n\n      if (result && result[0].length ===
    text.length) {\n        return rng;\n      } else {\n        return null;\n      }\n
    \   }\n    /**\n     * create offsetPath bookmark\n     *\n     * @param {Node}
    editable\n     */\n\n  }, {\n    key: \"bookmark\",\n    value: function bookmark(editable)
    {\n      return {\n        s: {\n          path: dom.makeOffsetPath(editable,
    this.sc),\n          offset: this.so\n        },\n        e: {\n          path:
    dom.makeOffsetPath(editable, this.ec),\n          offset: this.eo\n        }\n
    \     };\n    }\n    /**\n     * create offsetPath bookmark base on paragraph\n
    \    *\n     * @param {Node[]} paras\n     */\n\n  }, {\n    key: \"paraBookmark\",\n
    \   value: function paraBookmark(paras) {\n      return {\n        s: {\n          path:
    lists.tail(dom.makeOffsetPath(lists.head(paras), this.sc)),\n          offset:
    this.so\n        },\n        e: {\n          path: lists.tail(dom.makeOffsetPath(lists.last(paras),
    this.ec)),\n          offset: this.eo\n        }\n      };\n    }\n    /**\n     *
    getClientRects\n     * @return {Rect[]}\n     */\n\n  }, {\n    key: \"getClientRects\",\n
    \   value: function getClientRects() {\n      var nativeRng = this.nativeRange();\n
    \     return nativeRng.getClientRects();\n    }\n  }]);\n\n  return WrappedRange;\n}();\n/**\n
    * Data structure\n *  * BoundaryPoint: a point of dom tree\n *  * BoundaryPoints:
    two boundaryPoints corresponding to the start and the end of the Range\n *\n *
    See to http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Position\n
    */\n\n\n/* harmony default export */ var range = ({\n  /**\n   * create Range
    Object From arguments or Browser Selection\n   *\n   * @param {Node} sc - start
    container\n   * @param {Number} so - start offset\n   * @param {Node} ec - end
    container\n   * @param {Number} eo - end offset\n   * @return {WrappedRange}\n
    \  */\n  create: function create(sc, so, ec, eo) {\n    if (arguments.length ===
    4) {\n      return new range_WrappedRange(sc, so, ec, eo);\n    } else if (arguments.length
    === 2) {\n      // collapsed\n      ec = sc;\n      eo = so;\n      return new
    range_WrappedRange(sc, so, ec, eo);\n    } else {\n      var wrappedRange = this.createFromSelection();\n\n
    \     if (!wrappedRange && arguments.length === 1) {\n        var bodyElement
    = arguments[0];\n\n        if (dom.isEditable(bodyElement)) {\n          bodyElement
    = bodyElement.lastChild;\n        }\n\n        return this.createFromBodyElement(bodyElement,
    dom.emptyPara === arguments[0].innerHTML);\n      }\n\n      return wrappedRange;\n
    \   }\n  },\n  createFromBodyElement: function createFromBodyElement(bodyElement)
    {\n    var isCollapseToStart = arguments.length > 1 && arguments[1] !== undefined
    ? arguments[1] : false;\n    var wrappedRange = this.createFromNode(bodyElement);\n
    \   return wrappedRange.collapse(isCollapseToStart);\n  },\n  createFromSelection:
    function createFromSelection() {\n    var sc, so, ec, eo;\n\n    if (env.isW3CRangeSupport)
    {\n      var selection = document.getSelection();\n\n      if (!selection || selection.rangeCount
    === 0) {\n        return null;\n      } else if (dom.isBody(selection.anchorNode))
    {\n        // Firefox: returns entire body as range on initialization.\n        //
    We won't never need it.\n        return null;\n      }\n\n      var nativeRng
    = selection.getRangeAt(0);\n      sc = nativeRng.startContainer;\n      so = nativeRng.startOffset;\n
    \     ec = nativeRng.endContainer;\n      eo = nativeRng.endOffset;\n    } else
    {\n      // IE8: TextRange\n      var textRange = document.selection.createRange();\n
    \     var textRangeEnd = textRange.duplicate();\n      textRangeEnd.collapse(false);\n
    \     var textRangeStart = textRange;\n      textRangeStart.collapse(true);\n
    \     var startPoint = textRangeToPoint(textRangeStart, true);\n      var endPoint
    = textRangeToPoint(textRangeEnd, false); // same visible point case: range was
    collapsed.\n\n      if (dom.isText(startPoint.node) && dom.isLeftEdgePoint(startPoint)
    && dom.isTextNode(endPoint.node) && dom.isRightEdgePoint(endPoint) && endPoint.node.nextSibling
    === startPoint.node) {\n        startPoint = endPoint;\n      }\n\n      sc =
    startPoint.cont;\n      so = startPoint.offset;\n      ec = endPoint.cont;\n      eo
    = endPoint.offset;\n    }\n\n    return new range_WrappedRange(sc, so, ec, eo);\n
    \ },\n\n  /**\n   * @method\n   *\n   * create WrappedRange from node\n   *\n
    \  * @param {Node} node\n   * @return {WrappedRange}\n   */\n  createFromNode:
    function createFromNode(node) {\n    var sc = node;\n    var so = 0;\n    var
    ec = node;\n    var eo = dom.nodeLength(ec); // browsers can't target a picture
    or void node\n\n    if (dom.isVoid(sc)) {\n      so = dom.listPrev(sc).length
    - 1;\n      sc = sc.parentNode;\n    }\n\n    if (dom.isBR(ec)) {\n      eo =
    dom.listPrev(ec).length - 1;\n      ec = ec.parentNode;\n    } else if (dom.isVoid(ec))
    {\n      eo = dom.listPrev(ec).length;\n      ec = ec.parentNode;\n    }\n\n    return
    this.create(sc, so, ec, eo);\n  },\n\n  /**\n   * create WrappedRange from node
    after position\n   *\n   * @param {Node} node\n   * @return {WrappedRange}\n   */\n
    \ createFromNodeBefore: function createFromNodeBefore(node) {\n    return this.createFromNode(node).collapse(true);\n
    \ },\n\n  /**\n   * create WrappedRange from node after position\n   *\n   * @param
    {Node} node\n   * @return {WrappedRange}\n   */\n  createFromNodeAfter: function
    createFromNodeAfter(node) {\n    return this.createFromNode(node).collapse();\n
    \ },\n\n  /**\n   * @method\n   *\n   * create WrappedRange from bookmark\n   *\n
    \  * @param {Node} editable\n   * @param {Object} bookmark\n   * @return {WrappedRange}\n
    \  */\n  createFromBookmark: function createFromBookmark(editable, bookmark) {\n
    \   var sc = dom.fromOffsetPath(editable, bookmark.s.path);\n    var so = bookmark.s.offset;\n
    \   var ec = dom.fromOffsetPath(editable, bookmark.e.path);\n    var eo = bookmark.e.offset;\n
    \   return new range_WrappedRange(sc, so, ec, eo);\n  },\n\n  /**\n   * @method\n
    \  *\n   * create WrappedRange from paraBookmark\n   *\n   * @param {Object} bookmark\n
    \  * @param {Node[]} paras\n   * @return {WrappedRange}\n   */\n  createFromParaBookmark:
    function createFromParaBookmark(bookmark, paras) {\n    var so = bookmark.s.offset;\n
    \   var eo = bookmark.e.offset;\n    var sc = dom.fromOffsetPath(lists.head(paras),
    bookmark.s.path);\n    var ec = dom.fromOffsetPath(lists.last(paras), bookmark.e.path);\n
    \   return new range_WrappedRange(sc, so, ec, eo);\n  }\n});\n// CONCATENATED
    MODULE: ./src/js/base/core/key.js\n\n\nvar KEY_MAP = {\n  'BACKSPACE': 8,\n  'TAB':
    9,\n  'ENTER': 13,\n  'ESCAPE': 27,\n  'SPACE': 32,\n  'DELETE': 46,\n  // Arrow\n
    \ 'LEFT': 37,\n  'UP': 38,\n  'RIGHT': 39,\n  'DOWN': 40,\n  // Number: 0-9\n
    \ 'NUM0': 48,\n  'NUM1': 49,\n  'NUM2': 50,\n  'NUM3': 51,\n  'NUM4': 52,\n  'NUM5':
    53,\n  'NUM6': 54,\n  'NUM7': 55,\n  'NUM8': 56,\n  // Alphabet: a-z\n  'B': 66,\n
    \ 'E': 69,\n  'I': 73,\n  'J': 74,\n  'K': 75,\n  'L': 76,\n  'R': 82,\n  'S':
    83,\n  'U': 85,\n  'V': 86,\n  'Y': 89,\n  'Z': 90,\n  'SLASH': 191,\n  'LEFTBRACKET':
    219,\n  'BACKSLASH': 220,\n  'RIGHTBRACKET': 221,\n  // Navigation\n  'HOME':
    36,\n  'END': 35,\n  'PAGEUP': 33,\n  'PAGEDOWN': 34\n};\n/**\n * @class core.key\n
    *\n * Object for keycodes.\n *\n * @singleton\n * @alternateClassName key\n */\n\n/*
    harmony default export */ var core_key = ({\n  /**\n   * @method isEdit\n   *\n
    \  * @param {Number} keyCode\n   * @return {Boolean}\n   */\n  isEdit: function
    isEdit(keyCode) {\n    return lists.contains([KEY_MAP.BACKSPACE, KEY_MAP.TAB,
    KEY_MAP.ENTER, KEY_MAP.SPACE, KEY_MAP.DELETE], keyCode);\n  },\n\n  /**\n   *
    @method isMove\n   *\n   * @param {Number} keyCode\n   * @return {Boolean}\n   */\n
    \ isMove: function isMove(keyCode) {\n    return lists.contains([KEY_MAP.LEFT,
    KEY_MAP.UP, KEY_MAP.RIGHT, KEY_MAP.DOWN], keyCode);\n  },\n\n  /**\n   * @method
    isNavigation\n   *\n   * @param {Number} keyCode\n   * @return {Boolean}\n   */\n
    \ isNavigation: function isNavigation(keyCode) {\n    return lists.contains([KEY_MAP.HOME,
    KEY_MAP.END, KEY_MAP.PAGEUP, KEY_MAP.PAGEDOWN], keyCode);\n  },\n\n  /**\n   *
    @property {Object} nameFromCode\n   * @property {String} nameFromCode.8 \"BACKSPACE\"\n
    \  */\n  nameFromCode: func.invertObject(KEY_MAP),\n  code: KEY_MAP\n});\n// CONCATENATED
    MODULE: ./src/js/base/core/async.js\n\n/**\n * @method readFileAsDataURL\n *\n
    * read contents of file as representing URL\n *\n * @param {File} file\n * @return
    {Promise} - then: dataUrl\n */\n\nfunction readFileAsDataURL(file) {\n  return
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function
    (deferred) {\n    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(new
    FileReader(), {\n      onload: function onload(e) {\n        var dataURL = e.target.result;\n
    \       deferred.resolve(dataURL);\n      },\n      onerror: function onerror(err)
    {\n        deferred.reject(err);\n      }\n    }).readAsDataURL(file);\n  }).promise();\n}\n/**\n
    * @method createImage\n *\n * create `<image>` from url string\n *\n * @param
    {String} url\n * @return {Promise} - then: $image\n */\n\nfunction createImage(url)
    {\n  return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function
    (deferred) {\n    var $img = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<img>');\n
    \   $img.one('load', function () {\n      $img.off('error abort');\n      deferred.resolve($img);\n
    \   }).one('error abort', function () {\n      $img.off('load').detach();\n      deferred.reject($img);\n
    \   }).css({\n      display: 'none'\n    }).appendTo(document.body).attr('src',
    url);\n  }).promise();\n}\n// CONCATENATED MODULE: ./src/js/base/editing/History.js\nfunction
    History_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    History_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    History_createClass(Constructor, protoProps, staticProps) { if (protoProps) History_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) History_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\nvar History_History = /*#__PURE__*/function () {\n
    \ function History(context) {\n    History_classCallCheck(this, History);\n\n
    \   this.stack = [];\n    this.stackOffset = -1;\n    this.context = context;\n
    \   this.$editable = context.layoutInfo.editable;\n    this.editable = this.$editable[0];\n
    \ }\n\n  History_createClass(History, [{\n    key: \"makeSnapshot\",\n    value:
    function makeSnapshot() {\n      var rng = range.create(this.editable);\n      var
    emptyBookmark = {\n        s: {\n          path: [],\n          offset: 0\n        },\n
    \       e: {\n          path: [],\n          offset: 0\n        }\n      };\n
    \     return {\n        contents: this.$editable.html(),\n        bookmark: rng
    && rng.isOnEditable() ? rng.bookmark(this.editable) : emptyBookmark\n      };\n
    \   }\n  }, {\n    key: \"applySnapshot\",\n    value: function applySnapshot(snapshot)
    {\n      if (snapshot.contents !== null) {\n        this.$editable.html(snapshot.contents);\n
    \     }\n\n      if (snapshot.bookmark !== null) {\n        range.createFromBookmark(this.editable,
    snapshot.bookmark).select();\n      }\n    }\n    /**\n    * @method rewind\n
    \   * Rewinds the history stack back to the first snapshot taken.\n    * Leaves
    the stack intact, so that \"Redo\" can still be used.\n    */\n\n  }, {\n    key:
    \"rewind\",\n    value: function rewind() {\n      // Create snap shot if not
    yet recorded\n      if (this.$editable.html() !== this.stack[this.stackOffset].contents)
    {\n        this.recordUndo();\n      } // Return to the first available snapshot.\n\n\n
    \     this.stackOffset = 0; // Apply that snapshot.\n\n      this.applySnapshot(this.stack[this.stackOffset]);\n
    \   }\n    /**\n    *  @method commit\n    *  Resets history stack, but keeps
    current editor's content.\n    */\n\n  }, {\n    key: \"commit\",\n    value:
    function commit() {\n      // Clear the stack.\n      this.stack = []; // Restore
    stackOffset to its original value.\n\n      this.stackOffset = -1; // Record our
    first snapshot (of nothing).\n\n      this.recordUndo();\n    }\n    /**\n    *
    @method reset\n    * Resets the history stack completely; reverting to an empty
    editor.\n    */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n
    \     // Clear the stack.\n      this.stack = []; // Restore stackOffset to its
    original value.\n\n      this.stackOffset = -1; // Clear the editable area.\n\n
    \     this.$editable.html(''); // Record our first snapshot (of nothing).\n\n
    \     this.recordUndo();\n    }\n    /**\n     * undo\n     */\n\n  }, {\n    key:
    \"undo\",\n    value: function undo() {\n      // Create snap shot if not yet
    recorded\n      if (this.$editable.html() !== this.stack[this.stackOffset].contents)
    {\n        this.recordUndo();\n      }\n\n      if (this.stackOffset > 0) {\n
    \       this.stackOffset--;\n        this.applySnapshot(this.stack[this.stackOffset]);\n
    \     }\n    }\n    /**\n     * redo\n     */\n\n  }, {\n    key: \"redo\",\n
    \   value: function redo() {\n      if (this.stack.length - 1 > this.stackOffset)
    {\n        this.stackOffset++;\n        this.applySnapshot(this.stack[this.stackOffset]);\n
    \     }\n    }\n    /**\n     * recorded undo\n     */\n\n  }, {\n    key: \"recordUndo\",\n
    \   value: function recordUndo() {\n      this.stackOffset++; // Wash out stack
    after stackOffset\n\n      if (this.stack.length > this.stackOffset) {\n        this.stack
    = this.stack.slice(0, this.stackOffset);\n      } // Create new snapshot and push
    it to the end\n\n\n      this.stack.push(this.makeSnapshot()); // If the stack
    size reachs to the limit, then slice it\n\n      if (this.stack.length > this.context.options.historyLimit)
    {\n        this.stack.shift();\n        this.stackOffset -= 1;\n      }\n    }\n
    \ }]);\n\n  return History;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/editing/Style.js\nfunction
    Style_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Style_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Style_createClass(Constructor, protoProps, staticProps) { if (protoProps) Style_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Style_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n\n\nvar Style_Style = /*#__PURE__*/function ()
    {\n  function Style() {\n    Style_classCallCheck(this, Style);\n  }\n\n  Style_createClass(Style,
    [{\n    key: \"jQueryCSS\",\n\n    /**\n     * @method jQueryCSS\n     *\n     *
    [workaround] for old jQuery\n     * passing an array of style properties to .css()\n
    \    * will result in an object of property-value pairs.\n     * (compability
    with version < 1.9)\n     *\n     * @private\n     * @param  {jQuery} $obj\n     *
    @param  {Array} propertyNames - An array of one or more CSS properties.\n     *
    @return {Object}\n     */\n    value: function jQueryCSS($obj, propertyNames)
    {\n      if (env.jqueryVersion < 1.9) {\n        var result = {};\n        external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(propertyNames,
    function (idx, propertyName) {\n          result[propertyName] = $obj.css(propertyName);\n
    \       });\n        return result;\n      }\n\n      return $obj.css(propertyNames);\n
    \   }\n    /**\n     * returns style object from node\n     *\n     * @param {jQuery}
    $node\n     * @return {Object}\n     */\n\n  }, {\n    key: \"fromNode\",\n    value:
    function fromNode($node) {\n      var properties = ['font-family', 'font-size',
    'text-align', 'list-style-type', 'line-height'];\n      var styleInfo = this.jQueryCSS($node,
    properties) || {};\n      var fontSize = $node[0].style.fontSize || styleInfo['font-size'];\n
    \     styleInfo['font-size'] = parseInt(fontSize, 10);\n      styleInfo['font-size-unit']
    = fontSize.match(/[a-z%]+$/);\n      return styleInfo;\n    }\n    /**\n     *
    paragraph level style\n     *\n     * @param {WrappedRange} rng\n     * @param
    {Object} styleInfo\n     */\n\n  }, {\n    key: \"stylePara\",\n    value: function
    stylePara(rng, styleInfo) {\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(rng.nodes(dom.isPara,
    {\n        includeAncestor: true\n      }), function (idx, para) {\n        external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(para).css(styleInfo);\n
    \     });\n    }\n    /**\n     * insert and returns styleNodes on range.\n     *\n
    \    * @param {WrappedRange} rng\n     * @param {Object} [options] - options for
    styleNodes\n     * @param {String} [options.nodeName] - default: `SPAN`\n     *
    @param {Boolean} [options.expandClosestSibling] - default: `false`\n     * @param
    {Boolean} [options.onlyPartialContains] - default: `false`\n     * @return {Node[]}\n
    \    */\n\n  }, {\n    key: \"styleNodes\",\n    value: function styleNodes(rng,
    options) {\n      rng = rng.splitText();\n      var nodeName = options && options.nodeName
    || 'SPAN';\n      var expandClosestSibling = !!(options && options.expandClosestSibling);\n
    \     var onlyPartialContains = !!(options && options.onlyPartialContains);\n\n
    \     if (rng.isCollapsed()) {\n        return [rng.insertNode(dom.create(nodeName))];\n
    \     }\n\n      var pred = dom.makePredByNodeName(nodeName);\n      var nodes
    = rng.nodes(dom.isText, {\n        fullyContains: true\n      }).map(function
    (text) {\n        return dom.singleChildAncestor(text, pred) || dom.wrap(text,
    nodeName);\n      });\n\n      if (expandClosestSibling) {\n        if (onlyPartialContains)
    {\n          var nodesInRange = rng.nodes(); // compose with partial contains
    predication\n\n          pred = func.and(pred, function (node) {\n            return
    lists.contains(nodesInRange, node);\n          });\n        }\n\n        return
    nodes.map(function (node) {\n          var siblings = dom.withClosestSiblings(node,
    pred);\n          var head = lists.head(siblings);\n          var tails = lists.tail(siblings);\n
    \         external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(tails,
    function (idx, elem) {\n            dom.appendChildNodes(head, elem.childNodes);\n
    \           dom.remove(elem);\n          });\n          return lists.head(siblings);\n
    \       });\n      } else {\n        return nodes;\n      }\n    }\n    /**\n
    \    * get current style on cursor\n     *\n     * @param {WrappedRange} rng\n
    \    * @return {Object} - object contains style properties.\n     */\n\n  }, {\n
    \   key: \"current\",\n    value: function current(rng) {\n      var $cont = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(!dom.isElement(rng.sc)
    ? rng.sc.parentNode : rng.sc);\n      var styleInfo = this.fromNode($cont); //
    document.queryCommandState for toggle state\n      // [workaround] prevent Firefox
    nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"\n\n      try {\n        styleInfo
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(styleInfo,
    {\n          'font-bold': document.queryCommandState('bold') ? 'bold' : 'normal',\n
    \         'font-italic': document.queryCommandState('italic') ? 'italic' : 'normal',\n
    \         'font-underline': document.queryCommandState('underline') ? 'underline'
    : 'normal',\n          'font-subscript': document.queryCommandState('subscript')
    ? 'subscript' : 'normal',\n          'font-superscript': document.queryCommandState('superscript')
    ? 'superscript' : 'normal',\n          'font-strikethrough': document.queryCommandState('strikethrough')
    ? 'strikethrough' : 'normal',\n          'font-family': document.queryCommandValue('fontname')
    || styleInfo['font-family']\n        });\n      } catch (e) {} // eslint-disable-next-line\n
    \     // list-style-type to list-style(unordered, ordered)\n\n\n      if (!rng.isOnList())
    {\n        styleInfo['list-style'] = 'none';\n      } else {\n        var orderedTypes
    = ['circle', 'disc', 'disc-leading-zero', 'square'];\n        var isUnordered
    = orderedTypes.indexOf(styleInfo['list-style-type']) > -1;\n        styleInfo['list-style']
    = isUnordered ? 'unordered' : 'ordered';\n      }\n\n      var para = dom.ancestor(rng.sc,
    dom.isPara);\n\n      if (para && para.style['line-height']) {\n        styleInfo['line-height']
    = para.style.lineHeight;\n      } else {\n        var lineHeight = parseInt(styleInfo['line-height'],
    10) / parseInt(styleInfo['font-size'], 10);\n        styleInfo['line-height']
    = lineHeight.toFixed(1);\n      }\n\n      styleInfo.anchor = rng.isOnAnchor()
    && dom.ancestor(rng.sc, dom.isAnchor);\n      styleInfo.ancestors = dom.listAncestor(rng.sc,
    dom.isEditable);\n      styleInfo.range = rng;\n      return styleInfo;\n    }\n
    \ }]);\n\n  return Style;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/editing/Bullet.js\nfunction
    Bullet_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Bullet_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Bullet_createClass(Constructor, protoProps, staticProps) { if (protoProps) Bullet_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Bullet_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n\n\nvar Bullet_Bullet = /*#__PURE__*/function
    () {\n  function Bullet() {\n    Bullet_classCallCheck(this, Bullet);\n  }\n\n
    \ Bullet_createClass(Bullet, [{\n    key: \"insertOrderedList\",\n\n    /**\n
    \    * toggle ordered list\n     */\n    value: function insertOrderedList(editable)
    {\n      this.toggleList('OL', editable);\n    }\n    /**\n     * toggle unordered
    list\n     */\n\n  }, {\n    key: \"insertUnorderedList\",\n    value: function
    insertUnorderedList(editable) {\n      this.toggleList('UL', editable);\n    }\n
    \   /**\n     * indent\n     */\n\n  }, {\n    key: \"indent\",\n    value: function
    indent(editable) {\n      var _this = this;\n\n      var rng = range.create(editable).wrapBodyInlineWithPara();\n
    \     var paras = rng.nodes(dom.isPara, {\n        includeAncestor: true\n      });\n
    \     var clustereds = lists.clusterBy(paras, func.peq2('parentNode'));\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(clustereds,
    function (idx, paras) {\n        var head = lists.head(paras);\n\n        if (dom.isLi(head))
    {\n          var previousList = _this.findList(head.previousSibling);\n\n          if
    (previousList) {\n            paras.map(function (para) {\n              return
    previousList.appendChild(para);\n            });\n          } else {\n            _this.wrapList(paras,
    head.parentNode.nodeName);\n\n            paras.map(function (para) {\n              return
    para.parentNode;\n            }).map(function (para) {\n              return _this.appendToPrevious(para);\n
    \           });\n          }\n        } else {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(paras,
    function (idx, para) {\n            external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(para).css('marginLeft',
    function (idx, val) {\n              return (parseInt(val, 10) || 0) + 25;\n            });\n
    \         });\n        }\n      });\n      rng.select();\n    }\n    /**\n     *
    outdent\n     */\n\n  }, {\n    key: \"outdent\",\n    value: function outdent(editable)
    {\n      var _this2 = this;\n\n      var rng = range.create(editable).wrapBodyInlineWithPara();\n
    \     var paras = rng.nodes(dom.isPara, {\n        includeAncestor: true\n      });\n
    \     var clustereds = lists.clusterBy(paras, func.peq2('parentNode'));\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(clustereds,
    function (idx, paras) {\n        var head = lists.head(paras);\n\n        if (dom.isLi(head))
    {\n          _this2.releaseList([paras]);\n        } else {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(paras,
    function (idx, para) {\n            external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(para).css('marginLeft',
    function (idx, val) {\n              val = parseInt(val, 10) || 0;\n              return
    val > 25 ? val - 25 : '';\n            });\n          });\n        }\n      });\n
    \     rng.select();\n    }\n    /**\n     * toggle list\n     *\n     * @param
    {String} listName - OL or UL\n     */\n\n  }, {\n    key: \"toggleList\",\n    value:
    function toggleList(listName, editable) {\n      var _this3 = this;\n\n      var
    rng = range.create(editable).wrapBodyInlineWithPara();\n      var paras = rng.nodes(dom.isPara,
    {\n        includeAncestor: true\n      });\n      var bookmark = rng.paraBookmark(paras);\n
    \     var clustereds = lists.clusterBy(paras, func.peq2('parentNode')); // paragraph
    to list\n\n      if (lists.find(paras, dom.isPurePara)) {\n        var wrappedParas
    = [];\n        external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(clustereds,
    function (idx, paras) {\n          wrappedParas = wrappedParas.concat(_this3.wrapList(paras,
    listName));\n        });\n        paras = wrappedParas; // list to paragraph or
    change list style\n      } else {\n        var diffLists = rng.nodes(dom.isList,
    {\n          includeAncestor: true\n        }).filter(function (listNode) {\n
    \         return !external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.nodeName(listNode,
    listName);\n        });\n\n        if (diffLists.length) {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(diffLists,
    function (idx, listNode) {\n            dom.replace(listNode, listName);\n          });\n
    \       } else {\n          paras = this.releaseList(clustereds, true);\n        }\n
    \     }\n\n      range.createFromParaBookmark(bookmark, paras).select();\n    }\n
    \   /**\n     * @param {Node[]} paras\n     * @param {String} listName\n     *
    @return {Node[]}\n     */\n\n  }, {\n    key: \"wrapList\",\n    value: function
    wrapList(paras, listName) {\n      var head = lists.head(paras);\n      var last
    = lists.last(paras);\n      var prevList = dom.isList(head.previousSibling) &&
    head.previousSibling;\n      var nextList = dom.isList(last.nextSibling) && last.nextSibling;\n
    \     var listNode = prevList || dom.insertAfter(dom.create(listName || 'UL'),
    last); // P to LI\n\n      paras = paras.map(function (para) {\n        return
    dom.isPurePara(para) ? dom.replace(para, 'LI') : para;\n      }); // append to
    list(<ul>, <ol>)\n\n      dom.appendChildNodes(listNode, paras);\n\n      if (nextList)
    {\n        dom.appendChildNodes(listNode, lists.from(nextList.childNodes));\n
    \       dom.remove(nextList);\n      }\n\n      return paras;\n    }\n    /**\n
    \    * @method releaseList\n     *\n     * @param {Array[]} clustereds\n     *
    @param {Boolean} isEscapseToBody\n     * @return {Node[]}\n     */\n\n  }, {\n
    \   key: \"releaseList\",\n    value: function releaseList(clustereds, isEscapseToBody)
    {\n      var _this4 = this;\n\n      var releasedParas = [];\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(clustereds,
    function (idx, paras) {\n        var head = lists.head(paras);\n        var last
    = lists.last(paras);\n        var headList = isEscapseToBody ? dom.lastAncestor(head,
    dom.isList) : head.parentNode;\n        var parentItem = headList.parentNode;\n\n
    \       if (headList.parentNode.nodeName === 'LI') {\n          paras.map(function
    (para) {\n            var newList = _this4.findNextSiblings(para);\n\n            if
    (parentItem.nextSibling) {\n              parentItem.parentNode.insertBefore(para,
    parentItem.nextSibling);\n            } else {\n              parentItem.parentNode.appendChild(para);\n
    \           }\n\n            if (newList.length) {\n              _this4.wrapList(newList,
    headList.nodeName);\n\n              para.appendChild(newList[0].parentNode);\n
    \           }\n          });\n\n          if (headList.children.length === 0)
    {\n            parentItem.removeChild(headList);\n          }\n\n          if
    (parentItem.childNodes.length === 0) {\n            parentItem.parentNode.removeChild(parentItem);\n
    \         }\n        } else {\n          var lastList = headList.childNodes.length
    > 1 ? dom.splitTree(headList, {\n            node: last.parentNode,\n            offset:
    dom.position(last) + 1\n          }, {\n            isSkipPaddingBlankHTML: true\n
    \         }) : null;\n          var middleList = dom.splitTree(headList, {\n            node:
    head.parentNode,\n            offset: dom.position(head)\n          }, {\n            isSkipPaddingBlankHTML:
    true\n          });\n          paras = isEscapseToBody ? dom.listDescendant(middleList,
    dom.isLi) : lists.from(middleList.childNodes).filter(dom.isLi); // LI to P\n\n
    \         if (isEscapseToBody || !dom.isList(headList.parentNode)) {\n            paras
    = paras.map(function (para) {\n              return dom.replace(para, 'P');\n
    \           });\n          }\n\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(lists.from(paras).reverse(),
    function (idx, para) {\n            dom.insertAfter(para, headList);\n          });
    // remove empty lists\n\n          var rootLists = lists.compact([headList, middleList,
    lastList]);\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(rootLists,
    function (idx, rootList) {\n            var listNodes = [rootList].concat(dom.listDescendant(rootList,
    dom.isList));\n            external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(listNodes.reverse(),
    function (idx, listNode) {\n              if (!dom.nodeLength(listNode)) {\n                dom.remove(listNode,
    true);\n              }\n            });\n          });\n        }\n\n        releasedParas
    = releasedParas.concat(paras);\n      });\n      return releasedParas;\n    }\n
    \   /**\n     * @method appendToPrevious\n     *\n     * Appends list to previous
    list item, if\n     * none exist it wraps the list in a new list item.\n     *\n
    \    * @param {HTMLNode} ListItem\n     * @return {HTMLNode}\n     */\n\n  },
    {\n    key: \"appendToPrevious\",\n    value: function appendToPrevious(node)
    {\n      return node.previousSibling ? dom.appendChildNodes(node.previousSibling,
    [node]) : this.wrapList([node], 'LI');\n    }\n    /**\n     * @method findList\n
    \    *\n     * Finds an existing list in list item\n     *\n     * @param {HTMLNode}
    ListItem\n     * @return {Array[]}\n     */\n\n  }, {\n    key: \"findList\",\n
    \   value: function findList(node) {\n      return node ? lists.find(node.children,
    function (child) {\n        return ['OL', 'UL'].indexOf(child.nodeName) > -1;\n
    \     }) : null;\n    }\n    /**\n     * @method findNextSiblings\n     *\n     *
    Finds all list item siblings that follow it\n     *\n     * @param {HTMLNode}
    ListItem\n     * @return {HTMLNode}\n     */\n\n  }, {\n    key: \"findNextSiblings\",\n
    \   value: function findNextSiblings(node) {\n      var siblings = [];\n\n      while
    (node.nextSibling) {\n        siblings.push(node.nextSibling);\n        node =
    node.nextSibling;\n      }\n\n      return siblings;\n    }\n  }]);\n\n  return
    Bullet;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/editing/Typing.js\nfunction
    Typing_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Typing_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Typing_createClass(Constructor, protoProps, staticProps) { if (protoProps) Typing_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Typing_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n/**\n * @class editing.Typing\n *\n * Typing\n
    *\n */\n\nvar Typing_Typing = /*#__PURE__*/function () {\n  function Typing(context)
    {\n    Typing_classCallCheck(this, Typing);\n\n    // a Bullet instance to toggle
    lists off\n    this.bullet = new Bullet_Bullet();\n    this.options = context.options;\n
    \ }\n  /**\n   * insert tab\n   *\n   * @param {WrappedRange} rng\n   * @param
    {Number} tabsize\n   */\n\n\n  Typing_createClass(Typing, [{\n    key: \"insertTab\",\n
    \   value: function insertTab(rng, tabsize) {\n      var tab = dom.createText(new
    Array(tabsize + 1).join(dom.NBSP_CHAR));\n      rng = rng.deleteContents();\n
    \     rng.insertNode(tab, true);\n      rng = range.create(tab, tabsize);\n      rng.select();\n
    \   }\n    /**\n     * insert paragraph\n     *\n     * @param {jQuery} $editable\n
    \    * @param {WrappedRange} rng Can be used in unit tests to \"mock\" the range\n
    \    *\n     * blockquoteBreakingLevel\n     *   0 - No break, the new paragraph
    remains inside the quote\n     *   1 - Break the first blockquote in the ancestors
    list\n     *   2 - Break all blockquotes, so that the new paragraph is not quoted
    (this is the default)\n     */\n\n  }, {\n    key: \"insertParagraph\",\n    value:
    function insertParagraph(editable, rng) {\n      rng = rng || range.create(editable);
    // deleteContents on range.\n\n      rng = rng.deleteContents(); // Wrap range
    if it needs to be wrapped by paragraph\n\n      rng = rng.wrapBodyInlineWithPara();
    // finding paragraph\n\n      var splitRoot = dom.ancestor(rng.sc, dom.isPara);\n
    \     var nextPara; // on paragraph: split paragraph\n\n      if (splitRoot) {\n
    \       // if it is an empty line with li\n        if (dom.isLi(splitRoot) &&
    (dom.isEmpty(splitRoot) || dom.deepestChildIsEmpty(splitRoot))) {\n          //
    toggle UL/OL and escape\n          this.bullet.toggleList(splitRoot.parentNode.nodeName);\n
    \         return;\n        } else {\n          var blockquote = null;\n\n          if
    (this.options.blockquoteBreakingLevel === 1) {\n            blockquote = dom.ancestor(splitRoot,
    dom.isBlockquote);\n          } else if (this.options.blockquoteBreakingLevel
    === 2) {\n            blockquote = dom.lastAncestor(splitRoot, dom.isBlockquote);\n
    \         }\n\n          if (blockquote) {\n            // We're inside a blockquote
    and options ask us to break it\n            nextPara = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(dom.emptyPara)[0];
    // If the split is right before a <br>, remove it so that there's no \"empty line\"\n
    \           // after the split in the new blockquote created\n\n            if
    (dom.isRightEdgePoint(rng.getStartPoint()) && dom.isBR(rng.sc.nextSibling)) {\n
    \             external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(rng.sc.nextSibling).remove();\n
    \           }\n\n            var split = dom.splitTree(blockquote, rng.getStartPoint(),
    {\n              isDiscardEmptySplits: true\n            });\n\n            if
    (split) {\n              split.parentNode.insertBefore(nextPara, split);\n            }
    else {\n              dom.insertAfter(nextPara, blockquote); // There's no split
    if we were at the end of the blockquote\n            }\n          } else {\n            nextPara
    = dom.splitTree(splitRoot, rng.getStartPoint()); // not a blockquote, just insert
    the paragraph\n\n            var emptyAnchors = dom.listDescendant(splitRoot,
    dom.isEmptyAnchor);\n            emptyAnchors = emptyAnchors.concat(dom.listDescendant(nextPara,
    dom.isEmptyAnchor));\n            external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(emptyAnchors,
    function (idx, anchor) {\n              dom.remove(anchor);\n            }); //
    replace empty heading, pre or custom-made styleTag with P tag\n\n            if
    ((dom.isHeading(nextPara) || dom.isPre(nextPara) || dom.isCustomStyleTag(nextPara))
    && dom.isEmpty(nextPara)) {\n              nextPara = dom.replace(nextPara, 'p');\n
    \           }\n          }\n        } // no paragraph: insert empty paragraph\n\n
    \     } else {\n        var next = rng.sc.childNodes[rng.so];\n        nextPara
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(dom.emptyPara)[0];\n\n
    \       if (next) {\n          rng.sc.insertBefore(nextPara, next);\n        }
    else {\n          rng.sc.appendChild(nextPara);\n        }\n      }\n\n      range.create(nextPara,
    0).normalize().select().scrollIntoView(editable);\n    }\n  }]);\n\n  return Typing;\n}();\n\n\n//
    CONCATENATED MODULE: ./src/js/base/editing/Table.js\nfunction Table_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction Table_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction Table_createClass(Constructor, protoProps, staticProps)
    { if (protoProps) Table_defineProperties(Constructor.prototype, protoProps); if
    (staticProps) Table_defineProperties(Constructor, staticProps); return Constructor;
    }\n\n\n\n\n\n/**\n * @class Create a virtual table to create what actions to do
    in change.\n * @param {object} startPoint Cell selected to apply change.\n * @param
    {enum} where  Where change will be applied Row or Col. Use enum: TableResultAction.where\n
    * @param {enum} action Action to be applied. Use enum: TableResultAction.requestAction\n
    * @param {object} domTable Dom element of table to make changes.\n */\n\nvar TableResultAction
    = function TableResultAction(startPoint, where, action, domTable) {\n  var _startPoint
    = {\n    'colPos': 0,\n    'rowPos': 0\n  };\n  var _virtualTable = [];\n  var
    _actionCellList = []; /// ///////////////////////////////////////////\n  // Private
    functions\n  /// ///////////////////////////////////////////\n\n  /**\n   * Set
    the startPoint of action.\n   */\n\n  function setStartPoint() {\n    if (!startPoint
    || !startPoint.tagName || startPoint.tagName.toLowerCase() !== 'td' && startPoint.tagName.toLowerCase()
    !== 'th') {\n      // Impossible to identify start Cell point\n      return;\n
    \   }\n\n    _startPoint.colPos = startPoint.cellIndex;\n\n    if (!startPoint.parentElement
    || !startPoint.parentElement.tagName || startPoint.parentElement.tagName.toLowerCase()
    !== 'tr') {\n      // Impossible to identify start Row point\n      return;\n
    \   }\n\n    _startPoint.rowPos = startPoint.parentElement.rowIndex;\n  }\n  /**\n
    \  * Define virtual table position info object.\n   *\n   * @param {int} rowIndex
    Index position in line of virtual table.\n   * @param {int} cellIndex Index position
    in column of virtual table.\n   * @param {object} baseRow Row affected by this
    position.\n   * @param {object} baseCell Cell affected by this position.\n   *
    @param {bool} isSpan Inform if it is an span cell/row.\n   */\n\n\n  function
    setVirtualTablePosition(rowIndex, cellIndex, baseRow, baseCell, isRowSpan, isColSpan,
    isVirtualCell) {\n    var objPosition = {\n      'baseRow': baseRow,\n      'baseCell':
    baseCell,\n      'isRowSpan': isRowSpan,\n      'isColSpan': isColSpan,\n      'isVirtual':
    isVirtualCell\n    };\n\n    if (!_virtualTable[rowIndex]) {\n      _virtualTable[rowIndex]
    = [];\n    }\n\n    _virtualTable[rowIndex][cellIndex] = objPosition;\n  }\n  /**\n
    \  * Create action cell object.\n   *\n   * @param {object} virtualTableCellObj
    Object of specific position on virtual table.\n   * @param {enum} resultAction
    Action to be applied in that item.\n   */\n\n\n  function getActionCell(virtualTableCellObj,
    resultAction, virtualRowPosition, virtualColPosition) {\n    return {\n      'baseCell':
    virtualTableCellObj.baseCell,\n      'action': resultAction,\n      'virtualTable':
    {\n        'rowIndex': virtualRowPosition,\n        'cellIndex': virtualColPosition\n
    \     }\n    };\n  }\n  /**\n   * Recover free index of row to append Cell.\n
    \  *\n   * @param {int} rowIndex Index of row to find free space.\n   * @param
    {int} cellIndex Index of cell to find free space in table.\n   */\n\n\n  function
    recoverCellIndex(rowIndex, cellIndex) {\n    if (!_virtualTable[rowIndex]) {\n
    \     return cellIndex;\n    }\n\n    if (!_virtualTable[rowIndex][cellIndex])
    {\n      return cellIndex;\n    }\n\n    var newCellIndex = cellIndex;\n\n    while
    (_virtualTable[rowIndex][newCellIndex]) {\n      newCellIndex++;\n\n      if (!_virtualTable[rowIndex][newCellIndex])
    {\n        return newCellIndex;\n      }\n    }\n  }\n  /**\n   * Recover info
    about row and cell and add information to virtual table.\n   *\n   * @param {object}
    row Row to recover information.\n   * @param {object} cell Cell to recover information.\n
    \  */\n\n\n  function addCellInfoToVirtual(row, cell) {\n    var cellIndex = recoverCellIndex(row.rowIndex,
    cell.cellIndex);\n    var cellHasColspan = cell.colSpan > 1;\n    var cellHasRowspan
    = cell.rowSpan > 1;\n    var isThisSelectedCell = row.rowIndex === _startPoint.rowPos
    && cell.cellIndex === _startPoint.colPos;\n    setVirtualTablePosition(row.rowIndex,
    cellIndex, row, cell, cellHasRowspan, cellHasColspan, false); // Add span rows
    to virtual Table.\n\n    var rowspanNumber = cell.attributes.rowSpan ? parseInt(cell.attributes.rowSpan.value,
    10) : 0;\n\n    if (rowspanNumber > 1) {\n      for (var rp = 1; rp < rowspanNumber;
    rp++) {\n        var rowspanIndex = row.rowIndex + rp;\n        adjustStartPoint(rowspanIndex,
    cellIndex, cell, isThisSelectedCell);\n        setVirtualTablePosition(rowspanIndex,
    cellIndex, row, cell, true, cellHasColspan, true);\n      }\n    } // Add span
    cols to virtual table.\n\n\n    var colspanNumber = cell.attributes.colSpan ?
    parseInt(cell.attributes.colSpan.value, 10) : 0;\n\n    if (colspanNumber > 1)
    {\n      for (var cp = 1; cp < colspanNumber; cp++) {\n        var cellspanIndex
    = recoverCellIndex(row.rowIndex, cellIndex + cp);\n        adjustStartPoint(row.rowIndex,
    cellspanIndex, cell, isThisSelectedCell);\n        setVirtualTablePosition(row.rowIndex,
    cellspanIndex, row, cell, cellHasRowspan, true, true);\n      }\n    }\n  }\n
    \ /**\n   * Process validation and adjust of start point if needed\n   *\n   *
    @param {int} rowIndex\n   * @param {int} cellIndex\n   * @param {object} cell\n
    \  * @param {bool} isSelectedCell\n   */\n\n\n  function adjustStartPoint(rowIndex,
    cellIndex, cell, isSelectedCell) {\n    if (rowIndex === _startPoint.rowPos &&
    _startPoint.colPos >= cell.cellIndex && cell.cellIndex <= cellIndex && !isSelectedCell)
    {\n      _startPoint.colPos++;\n    }\n  }\n  /**\n   * Create virtual table of
    cells with all cells, including span cells.\n   */\n\n\n  function createVirtualTable()
    {\n    var rows = domTable.rows;\n\n    for (var rowIndex = 0; rowIndex < rows.length;
    rowIndex++) {\n      var cells = rows[rowIndex].cells;\n\n      for (var cellIndex
    = 0; cellIndex < cells.length; cellIndex++) {\n        addCellInfoToVirtual(rows[rowIndex],
    cells[cellIndex]);\n      }\n    }\n  }\n  /**\n   * Get action to be applied
    on the cell.\n   *\n   * @param {object} cell virtual table cell to apply action\n
    \  */\n\n\n  function getDeleteResultActionToCell(cell) {\n    switch (where)
    {\n      case TableResultAction.where.Column:\n        if (cell.isColSpan) {\n
    \         return TableResultAction.resultAction.SubtractSpanCount;\n        }\n\n
    \       break;\n\n      case TableResultAction.where.Row:\n        if (!cell.isVirtual
    && cell.isRowSpan) {\n          return TableResultAction.resultAction.AddCell;\n
    \       } else if (cell.isRowSpan) {\n          return TableResultAction.resultAction.SubtractSpanCount;\n
    \       }\n\n        break;\n    }\n\n    return TableResultAction.resultAction.RemoveCell;\n
    \ }\n  /**\n   * Get action to be applied on the cell.\n   *\n   * @param {object}
    cell virtual table cell to apply action\n   */\n\n\n  function getAddResultActionToCell(cell)
    {\n    switch (where) {\n      case TableResultAction.where.Column:\n        if
    (cell.isColSpan) {\n          return TableResultAction.resultAction.SumSpanCount;\n
    \       } else if (cell.isRowSpan && cell.isVirtual) {\n          return TableResultAction.resultAction.Ignore;\n
    \       }\n\n        break;\n\n      case TableResultAction.where.Row:\n        if
    (cell.isRowSpan) {\n          return TableResultAction.resultAction.SumSpanCount;\n
    \       } else if (cell.isColSpan && cell.isVirtual) {\n          return TableResultAction.resultAction.Ignore;\n
    \       }\n\n        break;\n    }\n\n    return TableResultAction.resultAction.AddCell;\n
    \ }\n\n  function init() {\n    setStartPoint();\n    createVirtualTable();\n
    \ } /// ///////////////////////////////////////////\n  // Public functions\n  ///
    ///////////////////////////////////////////\n\n  /**\n   * Recover array os what
    to do in table.\n   */\n\n\n  this.getActionList = function () {\n    var fixedRow
    = where === TableResultAction.where.Row ? _startPoint.rowPos : -1;\n    var fixedCol
    = where === TableResultAction.where.Column ? _startPoint.colPos : -1;\n    var
    actualPosition = 0;\n    var canContinue = true;\n\n    while (canContinue) {\n
    \     var rowPosition = fixedRow >= 0 ? fixedRow : actualPosition;\n      var
    colPosition = fixedCol >= 0 ? fixedCol : actualPosition;\n      var row = _virtualTable[rowPosition];\n\n
    \     if (!row) {\n        canContinue = false;\n        return _actionCellList;\n
    \     }\n\n      var cell = row[colPosition];\n\n      if (!cell) {\n        canContinue
    = false;\n        return _actionCellList;\n      } // Define action to be applied
    in this cell\n\n\n      var resultAction = TableResultAction.resultAction.Ignore;\n\n
    \     switch (action) {\n        case TableResultAction.requestAction.Add:\n          resultAction
    = getAddResultActionToCell(cell);\n          break;\n\n        case TableResultAction.requestAction.Delete:\n
    \         resultAction = getDeleteResultActionToCell(cell);\n          break;\n
    \     }\n\n      _actionCellList.push(getActionCell(cell, resultAction, rowPosition,
    colPosition));\n\n      actualPosition++;\n    }\n\n    return _actionCellList;\n
    \ };\n\n  init();\n};\n/**\n*\n* Where action occours enum.\n*/\n\n\nTableResultAction.where
    = {\n  'Row': 0,\n  'Column': 1\n};\n/**\n*\n* Requested action to apply enum.\n*/\n\nTableResultAction.requestAction
    = {\n  'Add': 0,\n  'Delete': 1\n};\n/**\n*\n* Result action to be executed enum.\n*/\n\nTableResultAction.resultAction
    = {\n  'Ignore': 0,\n  'SubtractSpanCount': 1,\n  'RemoveCell': 2,\n  'AddCell':
    3,\n  'SumSpanCount': 4\n};\n/**\n *\n * @class editing.Table\n *\n * Table\n
    *\n */\n\nvar Table_Table = /*#__PURE__*/function () {\n  function Table() {\n
    \   Table_classCallCheck(this, Table);\n  }\n\n  Table_createClass(Table, [{\n
    \   key: \"tab\",\n\n    /**\n     * handle tab key\n     *\n     * @param {WrappedRange}
    rng\n     * @param {Boolean} isShift\n     */\n    value: function tab(rng, isShift)
    {\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var
    table = dom.ancestor(cell, dom.isTable);\n      var cells = dom.listDescendant(table,
    dom.isCell);\n      var nextCell = lists[isShift ? 'prev' : 'next'](cells, cell);\n\n
    \     if (nextCell) {\n        range.create(nextCell, 0).select();\n      }\n
    \   }\n    /**\n     * Add a new row\n     *\n     * @param {WrappedRange} rng\n
    \    * @param {String} position (top/bottom)\n     * @return {Node}\n     */\n\n
    \ }, {\n    key: \"addRow\",\n    value: function addRow(rng, position) {\n      var
    cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var currentTr =
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('tr');\n
    \     var trAttributes = this.recoverAttributes(currentTr);\n      var html =
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<tr'
    + trAttributes + '></tr>');\n      var vTable = new TableResultAction(cell, TableResultAction.where.Row,
    TableResultAction.requestAction.Add, external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentTr).closest('table')[0]);\n
    \     var actions = vTable.getActionList();\n\n      for (var idCell = 0; idCell
    < actions.length; idCell++) {\n        var currentCell = actions[idCell];\n        var
    tdAttributes = this.recoverAttributes(currentCell.baseCell);\n\n        switch
    (currentCell.action) {\n          case TableResultAction.resultAction.AddCell:\n
    \           html.append('<td' + tdAttributes + '>' + dom.blank + '</td>');\n            break;\n\n
    \         case TableResultAction.resultAction.SumSpanCount:\n            {\n              if
    (position === 'top') {\n                var baseCellTr = currentCell.baseCell.parent;\n
    \               var isTopFromRowSpan = (!baseCellTr ? 0 : currentCell.baseCell.closest('tr').rowIndex)
    <= currentTr[0].rowIndex;\n\n                if (isTopFromRowSpan) {\n                  var
    newTd = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div></div>').append(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<td'
    + tdAttributes + '>' + dom.blank + '</td>').removeAttr('rowspan')).html();\n                  html.append(newTd);\n
    \                 break;\n                }\n              }\n\n              var
    rowspanNumber = parseInt(currentCell.baseCell.rowSpan, 10);\n              rowspanNumber++;\n
    \             currentCell.baseCell.setAttribute('rowSpan', rowspanNumber);\n            }\n
    \           break;\n        }\n      }\n\n      if (position === 'top') {\n        currentTr.before(html);\n
    \     } else {\n        var cellHasRowspan = cell.rowSpan > 1;\n\n        if (cellHasRowspan)
    {\n          var lastTrIndex = currentTr[0].rowIndex + (cell.rowSpan - 2);\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentTr).parent().find('tr')[lastTrIndex]).after(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(html));\n
    \         return;\n        }\n\n        currentTr.after(html);\n      }\n    }\n
    \   /**\n     * Add a new col\n     *\n     * @param {WrappedRange} rng\n     *
    @param {String} position (left/right)\n     * @return {Node}\n     */\n\n  },
    {\n    key: \"addCol\",\n    value: function addCol(rng, position) {\n      var
    cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var row = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('tr');\n
    \     var rowsGroup = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(row).siblings();\n
    \     rowsGroup.push(row);\n      var vTable = new TableResultAction(cell, TableResultAction.where.Column,
    TableResultAction.requestAction.Add, external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(row).closest('table')[0]);\n
    \     var actions = vTable.getActionList();\n\n      for (var actionIndex = 0;
    actionIndex < actions.length; actionIndex++) {\n        var currentCell = actions[actionIndex];\n
    \       var tdAttributes = this.recoverAttributes(currentCell.baseCell);\n\n        switch
    (currentCell.action) {\n          case TableResultAction.resultAction.AddCell:\n
    \           if (position === 'right') {\n              external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentCell.baseCell).after('<td'
    + tdAttributes + '>' + dom.blank + '</td>');\n            } else {\n              external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentCell.baseCell).before('<td'
    + tdAttributes + '>' + dom.blank + '</td>');\n            }\n\n            break;\n\n
    \         case TableResultAction.resultAction.SumSpanCount:\n            if (position
    === 'right') {\n              var colspanNumber = parseInt(currentCell.baseCell.colSpan,
    10);\n              colspanNumber++;\n              currentCell.baseCell.setAttribute('colSpan',
    colspanNumber);\n            } else {\n              external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentCell.baseCell).before('<td'
    + tdAttributes + '>' + dom.blank + '</td>');\n            }\n\n            break;\n
    \       }\n      }\n    }\n    /*\n    * Copy attributes from element.\n    *\n
    \   * @param {object} Element to recover attributes.\n    * @return {string} Copied
    string elements.\n    */\n\n  }, {\n    key: \"recoverAttributes\",\n    value:
    function recoverAttributes(el) {\n      var resultStr = '';\n\n      if (!el)
    {\n        return resultStr;\n      }\n\n      var attrList = el.attributes ||
    [];\n\n      for (var i = 0; i < attrList.length; i++) {\n        if (attrList[i].name.toLowerCase()
    === 'id') {\n          continue;\n        }\n\n        if (attrList[i].specified)
    {\n          resultStr += ' ' + attrList[i].name + '=\\'' + attrList[i].value
    + '\\'';\n        }\n      }\n\n      return resultStr;\n    }\n    /**\n     *
    Delete current row\n     *\n     * @param {WrappedRange} rng\n     * @return {Node}\n
    \    */\n\n  }, {\n    key: \"deleteRow\",\n    value: function deleteRow(rng)
    {\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var
    row = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('tr');\n
    \     var cellPos = row.children('td, th').index(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell));\n
    \     var rowPos = row[0].rowIndex;\n      var vTable = new TableResultAction(cell,
    TableResultAction.where.Row, TableResultAction.requestAction.Delete, external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(row).closest('table')[0]);\n
    \     var actions = vTable.getActionList();\n\n      for (var actionIndex = 0;
    actionIndex < actions.length; actionIndex++) {\n        if (!actions[actionIndex])
    {\n          continue;\n        }\n\n        var baseCell = actions[actionIndex].baseCell;\n
    \       var virtualPosition = actions[actionIndex].virtualTable;\n        var
    hasRowspan = baseCell.rowSpan && baseCell.rowSpan > 1;\n        var rowspanNumber
    = hasRowspan ? parseInt(baseCell.rowSpan, 10) : 0;\n\n        switch (actions[actionIndex].action)
    {\n          case TableResultAction.resultAction.Ignore:\n            continue;\n\n
    \         case TableResultAction.resultAction.AddCell:\n            {\n              var
    nextRow = row.next('tr')[0];\n\n              if (!nextRow) {\n                continue;\n
    \             }\n\n              var cloneRow = row[0].cells[cellPos];\n\n              if
    (hasRowspan) {\n                if (rowspanNumber > 2) {\n                  rowspanNumber--;\n
    \                 nextRow.insertBefore(cloneRow, nextRow.cells[cellPos]);\n                  nextRow.cells[cellPos].setAttribute('rowSpan',
    rowspanNumber);\n                  nextRow.cells[cellPos].innerHTML = '';\n                }
    else if (rowspanNumber === 2) {\n                  nextRow.insertBefore(cloneRow,
    nextRow.cells[cellPos]);\n                  nextRow.cells[cellPos].removeAttribute('rowSpan');\n
    \                 nextRow.cells[cellPos].innerHTML = '';\n                }\n
    \             }\n            }\n            continue;\n\n          case TableResultAction.resultAction.SubtractSpanCount:\n
    \           if (hasRowspan) {\n              if (rowspanNumber > 2) {\n                rowspanNumber--;\n
    \               baseCell.setAttribute('rowSpan', rowspanNumber);\n\n                if
    (virtualPosition.rowIndex !== rowPos && baseCell.cellIndex === cellPos) {\n                  baseCell.innerHTML
    = '';\n                }\n              } else if (rowspanNumber === 2) {\n                baseCell.removeAttribute('rowSpan');\n\n
    \               if (virtualPosition.rowIndex !== rowPos && baseCell.cellIndex
    === cellPos) {\n                  baseCell.innerHTML = '';\n                }\n
    \             }\n            }\n\n            continue;\n\n          case TableResultAction.resultAction.RemoveCell:\n
    \           // Do not need remove cell because row will be deleted.\n            continue;\n
    \       }\n      }\n\n      row.remove();\n    }\n    /**\n     * Delete current
    col\n     *\n     * @param {WrappedRange} rng\n     * @return {Node}\n     */\n\n
    \ }, {\n    key: \"deleteCol\",\n    value: function deleteCol(rng) {\n      var
    cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var row = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('tr');\n
    \     var cellPos = row.children('td, th').index(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell));\n
    \     var vTable = new TableResultAction(cell, TableResultAction.where.Column,
    TableResultAction.requestAction.Delete, external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(row).closest('table')[0]);\n
    \     var actions = vTable.getActionList();\n\n      for (var actionIndex = 0;
    actionIndex < actions.length; actionIndex++) {\n        if (!actions[actionIndex])
    {\n          continue;\n        }\n\n        switch (actions[actionIndex].action)
    {\n          case TableResultAction.resultAction.Ignore:\n            continue;\n\n
    \         case TableResultAction.resultAction.SubtractSpanCount:\n            {\n
    \             var baseCell = actions[actionIndex].baseCell;\n              var
    hasColspan = baseCell.colSpan && baseCell.colSpan > 1;\n\n              if (hasColspan)
    {\n                var colspanNumber = baseCell.colSpan ? parseInt(baseCell.colSpan,
    10) : 0;\n\n                if (colspanNumber > 2) {\n                  colspanNumber--;\n
    \                 baseCell.setAttribute('colSpan', colspanNumber);\n\n                  if
    (baseCell.cellIndex === cellPos) {\n                    baseCell.innerHTML = '';\n
    \                 }\n                } else if (colspanNumber === 2) {\n                  baseCell.removeAttribute('colSpan');\n\n
    \                 if (baseCell.cellIndex === cellPos) {\n                    baseCell.innerHTML
    = '';\n                  }\n                }\n              }\n            }\n
    \           continue;\n\n          case TableResultAction.resultAction.RemoveCell:\n
    \           dom.remove(actions[actionIndex].baseCell, true);\n            continue;\n
    \       }\n      }\n    }\n    /**\n     * create empty table element\n     *\n
    \    * @param {Number} rowCount\n     * @param {Number} colCount\n     * @return
    {Node}\n     */\n\n  }, {\n    key: \"createTable\",\n    value: function createTable(colCount,
    rowCount, options) {\n      var tds = [];\n      var tdHTML;\n\n      for (var
    idxCol = 0; idxCol < colCount; idxCol++) {\n        tds.push('<td>' + dom.blank
    + '</td>');\n      }\n\n      tdHTML = tds.join('');\n      var trs = [];\n      var
    trHTML;\n\n      for (var idxRow = 0; idxRow < rowCount; idxRow++) {\n        trs.push('<tr>'
    + tdHTML + '</tr>');\n      }\n\n      trHTML = trs.join('');\n      var $table
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<table>'
    + trHTML + '</table>');\n\n      if (options && options.tableClassName) {\n        $table.addClass(options.tableClassName);\n
    \     }\n\n      return $table[0];\n    }\n    /**\n     * Delete current table\n
    \    *\n     * @param {WrappedRange} rng\n     * @return {Node}\n     */\n\n  },
    {\n    key: \"deleteTable\",\n    value: function deleteTable(rng) {\n      var
    cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('table').remove();\n
    \   }\n  }]);\n\n  return Table;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Editor.js\nfunction
    Editor_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Editor_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Editor_createClass(Constructor, protoProps, staticProps) { if (protoProps) Editor_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Editor_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar KEY_BOGUS = 'bogus';\n/**\n
    * @class Editor\n */\n\nvar Editor_Editor = /*#__PURE__*/function () {\n  function
    Editor(context) {\n    var _this = this;\n\n    Editor_classCallCheck(this, Editor);\n\n
    \   this.context = context;\n    this.$note = context.layoutInfo.note;\n    this.$editor
    = context.layoutInfo.editor;\n    this.$editable = context.layoutInfo.editable;\n
    \   this.options = context.options;\n    this.lang = this.options.langInfo;\n
    \   this.editable = this.$editable[0];\n    this.lastRange = null;\n    this.snapshot
    = null;\n    this.style = new Style_Style();\n    this.table = new Table_Table();\n
    \   this.typing = new Typing_Typing(context);\n    this.bullet = new Bullet_Bullet();\n
    \   this.history = new History_History(context);\n    this.context.memo('help.escape',
    this.lang.help.escape);\n    this.context.memo('help.undo', this.lang.help.undo);\n
    \   this.context.memo('help.redo', this.lang.help.redo);\n    this.context.memo('help.tab',
    this.lang.help.tab);\n    this.context.memo('help.untab', this.lang.help.untab);\n
    \   this.context.memo('help.insertParagraph', this.lang.help.insertParagraph);\n
    \   this.context.memo('help.insertOrderedList', this.lang.help.insertOrderedList);\n
    \   this.context.memo('help.insertUnorderedList', this.lang.help.insertUnorderedList);\n
    \   this.context.memo('help.indent', this.lang.help.indent);\n    this.context.memo('help.outdent',
    this.lang.help.outdent);\n    this.context.memo('help.formatPara', this.lang.help.formatPara);\n
    \   this.context.memo('help.insertHorizontalRule', this.lang.help.insertHorizontalRule);\n
    \   this.context.memo('help.fontName', this.lang.help.fontName); // native commands(with
    execCommand), generate function for execCommand\n\n    var commands = ['bold',
    'italic', 'underline', 'strikethrough', 'superscript', 'subscript', 'justifyLeft',
    'justifyCenter', 'justifyRight', 'justifyFull', 'formatBlock', 'removeFormat',
    'backColor'];\n\n    for (var idx = 0, len = commands.length; idx < len; idx++)
    {\n      this[commands[idx]] = function (sCmd) {\n        return function (value)
    {\n          _this.beforeCommand();\n\n          document.execCommand(sCmd, false,
    value);\n\n          _this.afterCommand(true);\n        };\n      }(commands[idx]);\n\n
    \     this.context.memo('help.' + commands[idx], this.lang.help[commands[idx]]);\n
    \   }\n\n    this.fontName = this.wrapCommand(function (value) {\n      return
    _this.fontStyling('font-family', env.validFontName(value));\n    });\n    this.fontSize
    = this.wrapCommand(function (value) {\n      var unit = _this.currentStyle()['font-size-unit'];\n\n
    \     return _this.fontStyling('font-size', value + unit);\n    });\n    this.fontSizeUnit
    = this.wrapCommand(function (value) {\n      var size = _this.currentStyle()['font-size'];\n\n
    \     return _this.fontStyling('font-size', size + value);\n    });\n\n    for
    (var _idx = 1; _idx <= 6; _idx++) {\n      this['formatH' + _idx] = function (idx)
    {\n        return function () {\n          _this.formatBlock('H' + idx);\n        };\n
    \     }(_idx);\n\n      this.context.memo('help.formatH' + _idx, this.lang.help['formatH'
    + _idx]);\n    }\n\n    this.insertParagraph = this.wrapCommand(function () {\n
    \     _this.typing.insertParagraph(_this.editable);\n    });\n    this.insertOrderedList
    = this.wrapCommand(function () {\n      _this.bullet.insertOrderedList(_this.editable);\n
    \   });\n    this.insertUnorderedList = this.wrapCommand(function () {\n      _this.bullet.insertUnorderedList(_this.editable);\n
    \   });\n    this.indent = this.wrapCommand(function () {\n      _this.bullet.indent(_this.editable);\n
    \   });\n    this.outdent = this.wrapCommand(function () {\n      _this.bullet.outdent(_this.editable);\n
    \   });\n    /**\n     * insertNode\n     * insert node\n     * @param {Node}
    node\n     */\n\n    this.insertNode = this.wrapCommand(function (node) {\n      if
    (_this.isLimited(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).text().length))
    {\n        return;\n      }\n\n      var rng = _this.getLastRange();\n\n      rng.insertNode(node);\n\n
    \     _this.setLastRange(range.createFromNodeAfter(node).select());\n    });\n
    \   /**\n     * insert text\n     * @param {String} text\n     */\n\n    this.insertText
    = this.wrapCommand(function (text) {\n      if (_this.isLimited(text.length))
    {\n        return;\n      }\n\n      var rng = _this.getLastRange();\n\n      var
    textNode = rng.insertNode(dom.createText(text));\n\n      _this.setLastRange(range.create(textNode,
    dom.nodeLength(textNode)).select());\n    });\n    /**\n     * paste HTML\n     *
    @param {String} markup\n     */\n\n    this.pasteHTML = this.wrapCommand(function
    (markup) {\n      if (_this.isLimited(markup.length)) {\n        return;\n      }\n\n
    \     markup = _this.context.invoke('codeview.purify', markup);\n\n      var contents
    = _this.getLastRange().pasteHTML(markup);\n\n      _this.setLastRange(range.createFromNodeAfter(lists.last(contents)).select());\n
    \   });\n    /**\n     * formatBlock\n     *\n     * @param {String} tagName\n
    \    */\n\n    this.formatBlock = this.wrapCommand(function (tagName, $target)
    {\n      var onApplyCustomStyle = _this.options.callbacks.onApplyCustomStyle;\n\n
    \     if (onApplyCustomStyle) {\n        onApplyCustomStyle.call(_this, $target,
    _this.context, _this.onFormatBlock);\n      } else {\n        _this.onFormatBlock(tagName,
    $target);\n      }\n    });\n    /**\n     * insert horizontal rule\n     */\n\n
    \   this.insertHorizontalRule = this.wrapCommand(function () {\n      var hrNode
    = _this.getLastRange().insertNode(dom.create('HR'));\n\n      if (hrNode.nextSibling)
    {\n        _this.setLastRange(range.create(hrNode.nextSibling, 0).normalize().select());\n
    \     }\n    });\n    /**\n     * lineHeight\n     * @param {String} value\n     */\n\n
    \   this.lineHeight = this.wrapCommand(function (value) {\n      _this.style.stylePara(_this.getLastRange(),
    {\n        lineHeight: value\n      });\n    });\n    /**\n     * create link
    (command)\n     *\n     * @param {Object} linkInfo\n     */\n\n    this.createLink
    = this.wrapCommand(function (linkInfo) {\n      var linkUrl = linkInfo.url;\n
    \     var linkText = linkInfo.text;\n      var isNewWindow = linkInfo.isNewWindow;\n
    \     var checkProtocol = linkInfo.checkProtocol;\n\n      var rng = linkInfo.range
    || _this.getLastRange();\n\n      var additionalTextLength = linkText.length -
    rng.toString().length;\n\n      if (additionalTextLength > 0 && _this.isLimited(additionalTextLength))
    {\n        return;\n      }\n\n      var isTextChanged = rng.toString() !== linkText;
    // handle spaced urls from input\n\n      if (typeof linkUrl === 'string') {\n
    \       linkUrl = linkUrl.trim();\n      }\n\n      if (_this.options.onCreateLink)
    {\n        linkUrl = _this.options.onCreateLink(linkUrl);\n      } else if (checkProtocol)
    {\n        // if url doesn't have any protocol and not even a relative or a label,
    use http:// as default\n        linkUrl = /^([A-Za-z][A-Za-z0-9+-.]*\\:|#|\\/)/.test(linkUrl)
    ? linkUrl : _this.options.defaultProtocol + linkUrl;\n      }\n\n      var anchors
    = [];\n\n      if (isTextChanged) {\n        rng = rng.deleteContents();\n        var
    anchor = rng.insertNode(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<A>'
    + linkText + '</A>')[0]);\n        anchors.push(anchor);\n      } else {\n        anchors
    = _this.style.styleNodes(rng, {\n          nodeName: 'A',\n          expandClosestSibling:
    true,\n          onlyPartialContains: true\n        });\n      }\n\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(anchors,
    function (idx, anchor) {\n        external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(anchor).attr('href',
    linkUrl);\n\n        if (isNewWindow) {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(anchor).attr('target',
    '_blank');\n        } else {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(anchor).removeAttr('target');\n
    \       }\n      });\n\n      _this.setLastRange(_this.createRangeFromList(anchors).select());\n
    \   });\n    /**\n     * setting color\n     *\n     * @param {Object} sObjColor
    \ color code\n     * @param {String} sObjColor.foreColor foreground color\n     *
    @param {String} sObjColor.backColor background color\n     */\n\n    this.color
    = this.wrapCommand(function (colorInfo) {\n      var foreColor = colorInfo.foreColor;\n
    \     var backColor = colorInfo.backColor;\n\n      if (foreColor) {\n        document.execCommand('foreColor',
    false, foreColor);\n      }\n\n      if (backColor) {\n        document.execCommand('backColor',
    false, backColor);\n      }\n    });\n    /**\n     * Set foreground color\n     *\n
    \    * @param {String} colorCode foreground color code\n     */\n\n    this.foreColor
    = this.wrapCommand(function (colorInfo) {\n      document.execCommand('foreColor',
    false, colorInfo);\n    });\n    /**\n     * insert Table\n     *\n     * @param
    {String} dimension of table (ex : \"5x5\")\n     */\n\n    this.insertTable =
    this.wrapCommand(function (dim) {\n      var dimension = dim.split('x');\n\n      var
    rng = _this.getLastRange().deleteContents();\n\n      rng.insertNode(_this.table.createTable(dimension[0],
    dimension[1], _this.options));\n    });\n    /**\n     * remove media object and
    Figure Elements if media object is img with Figure.\n     */\n\n    this.removeMedia
    = this.wrapCommand(function () {\n      var $target = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(_this.restoreTarget()).parent();\n\n
    \     if ($target.closest('figure').length) {\n        $target.closest('figure').remove();\n
    \     } else {\n        $target = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(_this.restoreTarget()).detach();\n
    \     }\n\n      _this.context.triggerEvent('media.delete', $target, _this.$editable);\n
    \   });\n    /**\n     * float me\n     *\n     * @param {String} value\n     */\n\n
    \   this.floatMe = this.wrapCommand(function (value) {\n      var $target = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(_this.restoreTarget());\n
    \     $target.toggleClass('note-float-left', value === 'left');\n      $target.toggleClass('note-float-right',
    value === 'right');\n      $target.css('float', value === 'none' ? '' : value);\n
    \   });\n    /**\n     * resize overlay element\n     * @param {String} value\n
    \    */\n\n    this.resize = this.wrapCommand(function (value) {\n      var $target
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(_this.restoreTarget());\n
    \     value = parseFloat(value);\n\n      if (value === 0) {\n        $target.css('width',
    '');\n      } else {\n        $target.css({\n          width: value * 100 + '%',\n
    \         height: ''\n        });\n      }\n    });\n  }\n\n  Editor_createClass(Editor,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2
    = this;\n\n      // bind custom events\n      this.$editable.on('keydown', function
    (event) {\n        if (event.keyCode === core_key.code.ENTER) {\n          _this2.context.triggerEvent('enter',
    event);\n        }\n\n        _this2.context.triggerEvent('keydown', event); //
    keep a snapshot to limit text on input event\n\n\n        _this2.snapshot = _this2.history.makeSnapshot();\n
    \       _this2.hasKeyShortCut = false;\n\n        if (!event.isDefaultPrevented())
    {\n          if (_this2.options.shortcuts) {\n            _this2.hasKeyShortCut
    = _this2.handleKeyMap(event);\n          } else {\n            _this2.preventDefaultEditableShortCuts(event);\n
    \         }\n        }\n\n        if (_this2.isLimited(1, event)) {\n          var
    lastRange = _this2.getLastRange();\n\n          if (lastRange.eo - lastRange.so
    === 0) {\n            return false;\n          }\n        }\n\n        _this2.setLastRange();
    // record undo in the key event except keyMap.\n\n\n        if (_this2.options.recordEveryKeystroke)
    {\n          if (_this2.hasKeyShortCut === false) {\n            _this2.history.recordUndo();\n
    \         }\n        }\n      }).on('keyup', function (event) {\n        _this2.setLastRange();\n\n
    \       _this2.context.triggerEvent('keyup', event);\n      }).on('focus', function
    (event) {\n        _this2.setLastRange();\n\n        _this2.context.triggerEvent('focus',
    event);\n      }).on('blur', function (event) {\n        _this2.context.triggerEvent('blur',
    event);\n      }).on('mousedown', function (event) {\n        _this2.context.triggerEvent('mousedown',
    event);\n      }).on('mouseup', function (event) {\n        _this2.setLastRange();\n\n
    \       _this2.history.recordUndo();\n\n        _this2.context.triggerEvent('mouseup',
    event);\n      }).on('scroll', function (event) {\n        _this2.context.triggerEvent('scroll',
    event);\n      }).on('paste', function (event) {\n        _this2.setLastRange();\n\n
    \       _this2.context.triggerEvent('paste', event);\n      }).on('input', function
    () {\n        // To limit composition characters (e.g. Korean)\n        if (_this2.isLimited(0)
    && _this2.snapshot) {\n          _this2.history.applySnapshot(_this2.snapshot);\n
    \       }\n      });\n      this.$editable.attr('spellcheck', this.options.spellCheck);\n
    \     this.$editable.attr('autocorrect', this.options.spellCheck);\n\n      if
    (this.options.disableGrammar) {\n        this.$editable.attr('data-gramm', false);\n
    \     } // init content before set event\n\n\n      this.$editable.html(dom.html(this.$note)
    || dom.emptyPara);\n      this.$editable.on(env.inputEventName, func.debounce(function
    () {\n        _this2.context.triggerEvent('change', _this2.$editable.html(), _this2.$editable);\n
    \     }, 10));\n      this.$editable.on('focusin', function (event) {\n        _this2.context.triggerEvent('focusin',
    event);\n      }).on('focusout', function (event) {\n        _this2.context.triggerEvent('focusout',
    event);\n      });\n\n      if (this.options.airMode) {\n        if (this.options.overrideContextMenu)
    {\n          this.$editor.on('contextmenu', function (event) {\n            _this2.context.triggerEvent('contextmenu',
    event);\n\n            return false;\n          });\n        }\n      } else {\n
    \       if (this.options.width) {\n          this.$editor.outerWidth(this.options.width);\n
    \       }\n\n        if (this.options.height) {\n          this.$editable.outerHeight(this.options.height);\n
    \       }\n\n        if (this.options.maxHeight) {\n          this.$editable.css('max-height',
    this.options.maxHeight);\n        }\n\n        if (this.options.minHeight) {\n
    \         this.$editable.css('min-height', this.options.minHeight);\n        }\n
    \     }\n\n      this.history.recordUndo();\n      this.setLastRange();\n    }\n
    \ }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.$editable.off();\n
    \   }\n  }, {\n    key: \"handleKeyMap\",\n    value: function handleKeyMap(event)
    {\n      var keyMap = this.options.keyMap[env.isMac ? 'mac' : 'pc'];\n      var
    keys = [];\n\n      if (event.metaKey) {\n        keys.push('CMD');\n      }\n\n
    \     if (event.ctrlKey && !event.altKey) {\n        keys.push('CTRL');\n      }\n\n
    \     if (event.shiftKey) {\n        keys.push('SHIFT');\n      }\n\n      var
    keyName = core_key.nameFromCode[event.keyCode];\n\n      if (keyName) {\n        keys.push(keyName);\n
    \     }\n\n      var eventName = keyMap[keys.join('+')];\n\n      if (keyName
    === 'TAB' && !this.options.tabDisable) {\n        this.afterCommand();\n      }
    else if (eventName) {\n        if (this.context.invoke(eventName) !== false) {\n
    \         event.preventDefault(); // if keyMap action was invoked\n\n          return
    true;\n        }\n      } else if (core_key.isEdit(event.keyCode)) {\n        this.afterCommand();\n
    \     }\n\n      return false;\n    }\n  }, {\n    key: \"preventDefaultEditableShortCuts\",\n
    \   value: function preventDefaultEditableShortCuts(event) {\n      // B(Bold,
    66) / I(Italic, 73) / U(Underline, 85)\n      if ((event.ctrlKey || event.metaKey)
    && lists.contains([66, 73, 85], event.keyCode)) {\n        event.preventDefault();\n
    \     }\n    }\n  }, {\n    key: \"isLimited\",\n    value: function isLimited(pad,
    event) {\n      pad = pad || 0;\n\n      if (typeof event !== 'undefined') {\n
    \       if (core_key.isMove(event.keyCode) || core_key.isNavigation(event.keyCode)
    || event.ctrlKey || event.metaKey || lists.contains([core_key.code.BACKSPACE,
    core_key.code.DELETE], event.keyCode)) {\n          return false;\n        }\n
    \     }\n\n      if (this.options.maxTextLength > 0) {\n        if (this.$editable.text().length
    + pad > this.options.maxTextLength) {\n          return true;\n        }\n      }\n\n
    \     return false;\n    }\n    /**\n     * create range\n     * @return {WrappedRange}\n
    \    */\n\n  }, {\n    key: \"createRange\",\n    value: function createRange()
    {\n      this.focus();\n      this.setLastRange();\n      return this.getLastRange();\n
    \   }\n    /**\n     * create a new range from the list of elements\n     *\n
    \    * @param {list} dom element list\n     * @return {WrappedRange}\n     */\n\n
    \ }, {\n    key: \"createRangeFromList\",\n    value: function createRangeFromList(lst)
    {\n      var startRange = range.createFromNodeBefore(lists.head(lst));\n      var
    startPoint = startRange.getStartPoint();\n      var endRange = range.createFromNodeAfter(lists.last(lst));\n
    \     var endPoint = endRange.getEndPoint();\n      return range.create(startPoint.node,
    startPoint.offset, endPoint.node, endPoint.offset);\n    }\n    /**\n     * set
    the last range\n     *\n     * if given rng is exist, set rng as the last range\n
    \    * or create a new range at the end of the document\n     *\n     * @param
    {WrappedRange} rng\n     */\n\n  }, {\n    key: \"setLastRange\",\n    value:
    function setLastRange(rng) {\n      if (rng) {\n        this.lastRange = rng;\n
    \     } else {\n        this.lastRange = range.create(this.editable);\n\n        if
    (external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.lastRange.sc).closest('.note-editable').length
    === 0) {\n          this.lastRange = range.createFromBodyElement(this.editable);\n
    \       }\n      }\n    }\n    /**\n     * get the last range\n     *\n     *
    if there is a saved last range, return it\n     * or create a new range and return
    it\n     *\n     * @return {WrappedRange}\n     */\n\n  }, {\n    key: \"getLastRange\",\n
    \   value: function getLastRange() {\n      if (!this.lastRange) {\n        this.setLastRange();\n
    \     }\n\n      return this.lastRange;\n    }\n    /**\n     * saveRange\n     *\n
    \    * save current range\n     *\n     * @param {Boolean} [thenCollapse=false]\n
    \    */\n\n  }, {\n    key: \"saveRange\",\n    value: function saveRange(thenCollapse)
    {\n      if (thenCollapse) {\n        this.getLastRange().collapse().select();\n
    \     }\n    }\n    /**\n     * restoreRange\n     *\n     * restore lately range\n
    \    */\n\n  }, {\n    key: \"restoreRange\",\n    value: function restoreRange()
    {\n      if (this.lastRange) {\n        this.lastRange.select();\n        this.focus();\n
    \     }\n    }\n  }, {\n    key: \"saveTarget\",\n    value: function saveTarget(node)
    {\n      this.$editable.data('target', node);\n    }\n  }, {\n    key: \"clearTarget\",\n
    \   value: function clearTarget() {\n      this.$editable.removeData('target');\n
    \   }\n  }, {\n    key: \"restoreTarget\",\n    value: function restoreTarget()
    {\n      return this.$editable.data('target');\n    }\n    /**\n     * currentStyle\n
    \    *\n     * current style\n     * @return {Object|Boolean} unfocus\n     */\n\n
    \ }, {\n    key: \"currentStyle\",\n    value: function currentStyle() {\n      var
    rng = range.create();\n\n      if (rng) {\n        rng = rng.normalize();\n      }\n\n
    \     return rng ? this.style.current(rng) : this.style.fromNode(this.$editable);\n
    \   }\n    /**\n     * style from node\n     *\n     * @param {jQuery} $node\n
    \    * @return {Object}\n     */\n\n  }, {\n    key: \"styleFromNode\",\n    value:
    function styleFromNode($node) {\n      return this.style.fromNode($node);\n    }\n
    \   /**\n     * undo\n     */\n\n  }, {\n    key: \"undo\",\n    value: function
    undo() {\n      this.context.triggerEvent('before.command', this.$editable.html());\n
    \     this.history.undo();\n      this.context.triggerEvent('change', this.$editable.html(),
    this.$editable);\n    }\n    /*\n    * commit\n    */\n\n  }, {\n    key: \"commit\",\n
    \   value: function commit() {\n      this.context.triggerEvent('before.command',
    this.$editable.html());\n      this.history.commit();\n      this.context.triggerEvent('change',
    this.$editable.html(), this.$editable);\n    }\n    /**\n     * redo\n     */\n\n
    \ }, {\n    key: \"redo\",\n    value: function redo() {\n      this.context.triggerEvent('before.command',
    this.$editable.html());\n      this.history.redo();\n      this.context.triggerEvent('change',
    this.$editable.html(), this.$editable);\n    }\n    /**\n     * before command\n
    \    */\n\n  }, {\n    key: \"beforeCommand\",\n    value: function beforeCommand()
    {\n      this.context.triggerEvent('before.command', this.$editable.html()); //
    Set styleWithCSS before run a command\n\n      document.execCommand('styleWithCSS',
    false, this.options.styleWithCSS); // keep focus on editable before command execution\n\n
    \     this.focus();\n    }\n    /**\n     * after command\n     * @param {Boolean}
    isPreventTrigger\n     */\n\n  }, {\n    key: \"afterCommand\",\n    value: function
    afterCommand(isPreventTrigger) {\n      this.normalizeContent();\n      this.history.recordUndo();\n\n
    \     if (!isPreventTrigger) {\n        this.context.triggerEvent('change', this.$editable.html(),
    this.$editable);\n      }\n    }\n    /**\n     * handle tab key\n     */\n\n
    \ }, {\n    key: \"tab\",\n    value: function tab() {\n      var rng = this.getLastRange();\n\n
    \     if (rng.isCollapsed() && rng.isOnCell()) {\n        this.table.tab(rng);\n
    \     } else {\n        if (this.options.tabSize === 0) {\n          return false;\n
    \       }\n\n        if (!this.isLimited(this.options.tabSize)) {\n          this.beforeCommand();\n
    \         this.typing.insertTab(rng, this.options.tabSize);\n          this.afterCommand();\n
    \       }\n      }\n    }\n    /**\n     * handle shift+tab key\n     */\n\n  },
    {\n    key: \"untab\",\n    value: function untab() {\n      var rng = this.getLastRange();\n\n
    \     if (rng.isCollapsed() && rng.isOnCell()) {\n        this.table.tab(rng,
    true);\n      } else {\n        if (this.options.tabSize === 0) {\n          return
    false;\n        }\n      }\n    }\n    /**\n     * run given function between
    beforeCommand and afterCommand\n     */\n\n  }, {\n    key: \"wrapCommand\",\n
    \   value: function wrapCommand(fn) {\n      return function () {\n        this.beforeCommand();\n
    \       fn.apply(this, arguments);\n        this.afterCommand();\n      };\n    }\n
    \   /**\n     * insert image\n     *\n     * @param {String} src\n     * @param
    {String|Function} param\n     * @return {Promise}\n     */\n\n  }, {\n    key:
    \"insertImage\",\n    value: function insertImage(src, param) {\n      var _this3
    = this;\n\n      return createImage(src, param).then(function ($image) {\n        _this3.beforeCommand();\n\n
    \       if (typeof param === 'function') {\n          param($image);\n        }
    else {\n          if (typeof param === 'string') {\n            $image.attr('data-filename',
    param);\n          }\n\n          $image.css('width', Math.min(_this3.$editable.width(),
    $image.width()));\n        }\n\n        $image.show();\n\n        _this3.getLastRange().insertNode($image[0]);\n\n
    \       _this3.setLastRange(range.createFromNodeAfter($image[0]).select());\n\n
    \       _this3.afterCommand();\n      }).fail(function (e) {\n        _this3.context.triggerEvent('image.upload.error',
    e);\n      });\n    }\n    /**\n     * insertImages\n     * @param {File[]} files\n
    \    */\n\n  }, {\n    key: \"insertImagesAsDataURL\",\n    value: function insertImagesAsDataURL(files)
    {\n      var _this4 = this;\n\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(files,
    function (idx, file) {\n        var filename = file.name;\n\n        if (_this4.options.maximumImageFileSize
    && _this4.options.maximumImageFileSize < file.size) {\n          _this4.context.triggerEvent('image.upload.error',
    _this4.lang.image.maximumFileSizeError);\n        } else {\n          readFileAsDataURL(file).then(function
    (dataURL) {\n            return _this4.insertImage(dataURL, filename);\n          }).fail(function
    () {\n            _this4.context.triggerEvent('image.upload.error');\n          });\n
    \       }\n      });\n    }\n    /**\n     * insertImagesOrCallback\n     * @param
    {File[]} files\n     */\n\n  }, {\n    key: \"insertImagesOrCallback\",\n    value:
    function insertImagesOrCallback(files) {\n      var callbacks = this.options.callbacks;
    // If onImageUpload set,\n\n      if (callbacks.onImageUpload) {\n        this.context.triggerEvent('image.upload',
    files); // else insert Image as dataURL\n      } else {\n        this.insertImagesAsDataURL(files);\n
    \     }\n    }\n    /**\n     * return selected plain text\n     * @return {String}
    text\n     */\n\n  }, {\n    key: \"getSelectedText\",\n    value: function getSelectedText()
    {\n      var rng = this.getLastRange(); // if range on anchor, expand range with
    anchor\n\n      if (rng.isOnAnchor()) {\n        rng = range.createFromNode(dom.ancestor(rng.sc,
    dom.isAnchor));\n      }\n\n      return rng.toString();\n    }\n  }, {\n    key:
    \"onFormatBlock\",\n    value: function onFormatBlock(tagName, $target) {\n      //
    [workaround] for MSIE, IE need `<`\n      document.execCommand('FormatBlock',
    false, env.isMSIE ? '<' + tagName + '>' : tagName); // support custom class\n\n
    \     if ($target && $target.length) {\n        // find the exact element has
    given tagName\n        if ($target[0].tagName.toUpperCase() !== tagName.toUpperCase())
    {\n          $target = $target.find(tagName);\n        }\n\n        if ($target
    && $target.length) {\n          var className = $target[0].className || '';\n\n
    \         if (className) {\n            var currentRange = this.createRange();\n
    \           var $parent = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()([currentRange.sc,
    currentRange.ec]).closest(tagName);\n            $parent.addClass(className);\n
    \         }\n        }\n      }\n    }\n  }, {\n    key: \"formatPara\",\n    value:
    function formatPara() {\n      this.formatBlock('P');\n    }\n  }, {\n    key:
    \"fontStyling\",\n    value: function fontStyling(target, value) {\n      var
    rng = this.getLastRange();\n\n      if (rng !== '') {\n        var spans = this.style.styleNodes(rng);\n
    \       this.$editor.find('.note-status-output').html('');\n        external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(spans).css(target,
    value); // [workaround] added styled bogus span for style\n        //  - also
    bogus character needed for cursor position\n\n        if (rng.isCollapsed()) {\n
    \         var firstSpan = lists.head(spans);\n\n          if (firstSpan && !dom.nodeLength(firstSpan))
    {\n            firstSpan.innerHTML = dom.ZERO_WIDTH_NBSP_CHAR;\n            range.createFromNode(firstSpan.firstChild).select();\n
    \           this.setLastRange();\n            this.$editable.data(KEY_BOGUS, firstSpan);\n
    \         }\n        } else {\n          this.setLastRange(this.createRangeFromList(spans).select());\n
    \       }\n      } else {\n        var noteStatusOutput = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.now();\n
    \       this.$editor.find('.note-status-output').html('<div id=\"note-status-output-'
    + noteStatusOutput + '\" class=\"alert alert-info\">' + this.lang.output.noSelection
    + '</div>');\n        setTimeout(function () {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('#note-status-output-'
    + noteStatusOutput).remove();\n        }, 5000);\n      }\n    }\n    /**\n     *
    unlink\n     *\n     * @type command\n     */\n\n  }, {\n    key: \"unlink\",\n
    \   value: function unlink() {\n      var rng = this.getLastRange();\n\n      if
    (rng.isOnAnchor()) {\n        var anchor = dom.ancestor(rng.sc, dom.isAnchor);\n
    \       rng = range.createFromNode(anchor);\n        rng.select();\n        this.setLastRange();\n
    \       this.beforeCommand();\n        document.execCommand('unlink');\n        this.afterCommand();\n
    \     }\n    }\n    /**\n     * returns link info\n     *\n     * @return {Object}\n
    \    * @return {WrappedRange} return.range\n     * @return {String} return.text\n
    \    * @return {Boolean} [return.isNewWindow=true]\n     * @return {String} [return.url=\"\"]\n
    \    */\n\n  }, {\n    key: \"getLinkInfo\",\n    value: function getLinkInfo()
    {\n      var rng = this.getLastRange().expand(dom.isAnchor); // Get the first
    anchor on range(for edit).\n\n      var $anchor = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(lists.head(rng.nodes(dom.isAnchor)));\n
    \     var linkInfo = {\n        range: rng,\n        text: rng.toString(),\n        url:
    $anchor.length ? $anchor.attr('href') : ''\n      }; // When anchor exists,\n\n
    \     if ($anchor.length) {\n        // Set isNewWindow by checking its target.\n
    \       linkInfo.isNewWindow = $anchor.attr('target') === '_blank';\n      }\n\n
    \     return linkInfo;\n    }\n  }, {\n    key: \"addRow\",\n    value: function
    addRow(position) {\n      var rng = this.getLastRange(this.$editable);\n\n      if
    (rng.isCollapsed() && rng.isOnCell()) {\n        this.beforeCommand();\n        this.table.addRow(rng,
    position);\n        this.afterCommand();\n      }\n    }\n  }, {\n    key: \"addCol\",\n
    \   value: function addCol(position) {\n      var rng = this.getLastRange(this.$editable);\n\n
    \     if (rng.isCollapsed() && rng.isOnCell()) {\n        this.beforeCommand();\n
    \       this.table.addCol(rng, position);\n        this.afterCommand();\n      }\n
    \   }\n  }, {\n    key: \"deleteRow\",\n    value: function deleteRow() {\n      var
    rng = this.getLastRange(this.$editable);\n\n      if (rng.isCollapsed() && rng.isOnCell())
    {\n        this.beforeCommand();\n        this.table.deleteRow(rng);\n        this.afterCommand();\n
    \     }\n    }\n  }, {\n    key: \"deleteCol\",\n    value: function deleteCol()
    {\n      var rng = this.getLastRange(this.$editable);\n\n      if (rng.isCollapsed()
    && rng.isOnCell()) {\n        this.beforeCommand();\n        this.table.deleteCol(rng);\n
    \       this.afterCommand();\n      }\n    }\n  }, {\n    key: \"deleteTable\",\n
    \   value: function deleteTable() {\n      var rng = this.getLastRange(this.$editable);\n\n
    \     if (rng.isCollapsed() && rng.isOnCell()) {\n        this.beforeCommand();\n
    \       this.table.deleteTable(rng);\n        this.afterCommand();\n      }\n
    \   }\n    /**\n     * @param {Position} pos\n     * @param {jQuery} $target -
    target element\n     * @param {Boolean} [bKeepRatio] - keep ratio\n     */\n\n
    \ }, {\n    key: \"resizeTo\",\n    value: function resizeTo(pos, $target, bKeepRatio)
    {\n      var imageSize;\n\n      if (bKeepRatio) {\n        var newRatio = pos.y
    / pos.x;\n        var ratio = $target.data('ratio');\n        imageSize = {\n
    \         width: ratio > newRatio ? pos.x : pos.y / ratio,\n          height:
    ratio > newRatio ? pos.x * ratio : pos.y\n        };\n      } else {\n        imageSize
    = {\n          width: pos.x,\n          height: pos.y\n        };\n      }\n\n
    \     $target.css(imageSize);\n    }\n    /**\n     * returns whether editable
    area has focus or not.\n     */\n\n  }, {\n    key: \"hasFocus\",\n    value:
    function hasFocus() {\n      return this.$editable.is(':focus');\n    }\n    /**\n
    \    * set focus\n     */\n\n  }, {\n    key: \"focus\",\n    value: function
    focus() {\n      // [workaround] Screen will move when page is scolled in IE.\n
    \     //  - do focus when not focused\n      if (!this.hasFocus()) {\n        this.$editable.focus();\n
    \     }\n    }\n    /**\n     * returns whether contents is empty or not.\n     *
    @return {Boolean}\n     */\n\n  }, {\n    key: \"isEmpty\",\n    value: function
    isEmpty() {\n      return dom.isEmpty(this.$editable[0]) || dom.emptyPara ===
    this.$editable.html();\n    }\n    /**\n     * Removes all contents and restores
    the editable instance to an _emptyPara_.\n     */\n\n  }, {\n    key: \"empty\",\n
    \   value: function empty() {\n      this.context.invoke('code', dom.emptyPara);\n
    \   }\n    /**\n     * normalize content\n     */\n\n  }, {\n    key: \"normalizeContent\",\n
    \   value: function normalizeContent() {\n      this.$editable[0].normalize();\n
    \   }\n  }]);\n\n  return Editor;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Clipboard.js\nfunction
    Clipboard_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Clipboard_defineProperties(target, props) { for (var i = 0; i < props.length;
    i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Clipboard_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    Clipboard_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    Clipboard_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar
    Clipboard_Clipboard = /*#__PURE__*/function () {\n  function Clipboard(context)
    {\n    Clipboard_classCallCheck(this, Clipboard);\n\n    this.context = context;\n
    \   this.$editable = context.layoutInfo.editable;\n  }\n\n  Clipboard_createClass(Clipboard,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      this.$editable.on('paste',
    this.pasteByEvent.bind(this));\n    }\n    /**\n     * paste by clipboard event\n
    \    *\n     * @param {Event} event\n     */\n\n  }, {\n    key: \"pasteByEvent\",\n
    \   value: function pasteByEvent(event) {\n      var _this = this;\n\n      var
    clipboardData = event.originalEvent.clipboardData;\n\n      if (clipboardData
    && clipboardData.items && clipboardData.items.length) {\n        var item = clipboardData.items.length
    > 1 ? clipboardData.items[1] : lists.head(clipboardData.items);\n\n        if
    (item.kind === 'file' && item.type.indexOf('image/') !== -1) {\n          // paste
    img file\n          this.context.invoke('editor.insertImagesOrCallback', [item.getAsFile()]);\n
    \         event.preventDefault();\n        } else if (item.kind === 'string')
    {\n          // paste text with maxTextLength check\n          if (this.context.invoke('editor.isLimited',
    clipboardData.getData('Text').length)) {\n            event.preventDefault();\n
    \         }\n        }\n      } else if (window.clipboardData) {\n        // for
    IE\n        var text = window.clipboardData.getData('text');\n\n        if (this.context.invoke('editor.isLimited',
    text.length)) {\n          event.preventDefault();\n        }\n      } // Call
    editor.afterCommand after proceeding default event handler\n\n\n      setTimeout(function
    () {\n        _this.context.invoke('editor.afterCommand');\n      }, 10);\n    }\n
    \ }]);\n\n  return Clipboard;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Dropzone.js\nfunction
    Dropzone_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Dropzone_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Dropzone_createClass(Constructor, protoProps, staticProps) { if (protoProps) Dropzone_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Dropzone_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\nvar Dropzone_Dropzone = /*#__PURE__*/function ()
    {\n  function Dropzone(context) {\n    Dropzone_classCallCheck(this, Dropzone);\n\n
    \   this.context = context;\n    this.$eventListener = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);\n
    \   this.$editor = context.layoutInfo.editor;\n    this.$editable = context.layoutInfo.editable;\n
    \   this.options = context.options;\n    this.lang = this.options.langInfo;\n
    \   this.documentEventHandlers = {};\n    this.$dropzone = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(['<div
    class=\"note-dropzone\">', '<div class=\"note-dropzone-message\"></div>', '</div>'].join('')).prependTo(this.$editor);\n
    \ }\n  /**\n   * attach Drag and Drop Events\n   */\n\n\n  Dropzone_createClass(Dropzone,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      if (this.options.disableDragAndDrop)
    {\n        // prevent default drop event\n        this.documentEventHandlers.onDrop
    = function (e) {\n          e.preventDefault();\n        }; // do not consider
    outside of dropzone\n\n\n        this.$eventListener = this.$dropzone;\n        this.$eventListener.on('drop',
    this.documentEventHandlers.onDrop);\n      } else {\n        this.attachDragAndDropEvent();\n
    \     }\n    }\n    /**\n     * attach Drag and Drop Events\n     */\n\n  }, {\n
    \   key: \"attachDragAndDropEvent\",\n    value: function attachDragAndDropEvent()
    {\n      var _this = this;\n\n      var collection = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()();\n
    \     var $dropzoneMessage = this.$dropzone.find('.note-dropzone-message');\n\n
    \     this.documentEventHandlers.onDragenter = function (e) {\n        var isCodeview
    = _this.context.invoke('codeview.isActivated');\n\n        var hasEditorSize =
    _this.$editor.width() > 0 && _this.$editor.height() > 0;\n\n        if (!isCodeview
    && !collection.length && hasEditorSize) {\n          _this.$editor.addClass('dragover');\n\n
    \         _this.$dropzone.width(_this.$editor.width());\n\n          _this.$dropzone.height(_this.$editor.height());\n\n
    \         $dropzoneMessage.text(_this.lang.image.dragImageHere);\n        }\n\n
    \       collection = collection.add(e.target);\n      };\n\n      this.documentEventHandlers.onDragleave
    = function (e) {\n        collection = collection.not(e.target); // If nodeName
    is BODY, then just make it over (fix for IE)\n\n        if (!collection.length
    || e.target.nodeName === 'BODY') {\n          collection = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()();\n\n
    \         _this.$editor.removeClass('dragover');\n        }\n      };\n\n      this.documentEventHandlers.onDrop
    = function () {\n        collection = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()();\n\n
    \       _this.$editor.removeClass('dragover');\n      }; // show dropzone on dragenter
    when dragging a object to document\n      // -but only if the editor is visible,
    i.e. has a positive width and height\n\n\n      this.$eventListener.on('dragenter',
    this.documentEventHandlers.onDragenter).on('dragleave', this.documentEventHandlers.onDragleave).on('drop',
    this.documentEventHandlers.onDrop); // change dropzone's message on hover.\n\n
    \     this.$dropzone.on('dragenter', function () {\n        _this.$dropzone.addClass('hover');\n\n
    \       $dropzoneMessage.text(_this.lang.image.dropImage);\n      }).on('dragleave',
    function () {\n        _this.$dropzone.removeClass('hover');\n\n        $dropzoneMessage.text(_this.lang.image.dragImageHere);\n
    \     }); // attach dropImage\n\n      this.$dropzone.on('drop', function (event)
    {\n        var dataTransfer = event.originalEvent.dataTransfer; // stop the browser
    from opening the dropped content\n\n        event.preventDefault();\n\n        if
    (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\n          _this.$editable.focus();\n\n
    \         _this.context.invoke('editor.insertImagesOrCallback', dataTransfer.files);\n
    \       } else {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(dataTransfer.types,
    function (idx, type) {\n            // skip moz-specific types\n            if
    (type.toLowerCase().indexOf('_moz_') > -1) {\n              return;\n            }\n\n
    \           var content = dataTransfer.getData(type);\n\n            if (type.toLowerCase().indexOf('text')
    > -1) {\n              _this.context.invoke('editor.pasteHTML', content);\n            }
    else {\n              external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(content).each(function
    (idx, item) {\n                _this.context.invoke('editor.insertNode', item);\n
    \             });\n            }\n          });\n        }\n      }).on('dragover',
    false); // prevent default dragover event\n    }\n  }, {\n    key: \"destroy\",\n
    \   value: function destroy() {\n      var _this2 = this;\n\n      Object.keys(this.documentEventHandlers).forEach(function
    (key) {\n        _this2.$eventListener.off(key.substr(2).toLowerCase(), _this2.documentEventHandlers[key]);\n
    \     });\n      this.documentEventHandlers = {};\n    }\n  }]);\n\n  return Dropzone;\n}();\n\n\n//
    CONCATENATED MODULE: ./src/js/base/module/Codeview.js\nfunction _createForOfIteratorHelper(o)
    { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o)
    || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {};
    return { s: F, n: function n() { if (i >= o.length) return { done: true }; return
    { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; }
    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order
    to be iterable, non-array objects must have a [Symbol.iterator]() method.\");
    } var it, normalCompletion = true, didErr = false, err; return { s: function s()
    { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion
    = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; },
    f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();
    } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o,
    minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o,
    minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\"
    && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\")
    return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
    return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len)
    { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2
    = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction
    Codeview_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Codeview_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Codeview_createClass(Constructor, protoProps, staticProps) { if (protoProps) Codeview_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Codeview_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n/**\n * @class Codeview\n */\n\nvar Codeview_CodeView
    = /*#__PURE__*/function () {\n  function CodeView(context) {\n    Codeview_classCallCheck(this,
    CodeView);\n\n    this.context = context;\n    this.$editor = context.layoutInfo.editor;\n
    \   this.$editable = context.layoutInfo.editable;\n    this.$codable = context.layoutInfo.codable;\n
    \   this.options = context.options;\n    this.CodeMirrorConstructor = window.CodeMirror;\n\n
    \   if (this.options.codemirror.CodeMirrorConstructor) {\n      this.CodeMirrorConstructor
    = this.options.codemirror.CodeMirrorConstructor;\n    }\n  }\n\n  Codeview_createClass(CodeView,
    [{\n    key: \"sync\",\n    value: function sync(html) {\n      var isCodeview
    = this.isActivated();\n      var CodeMirror = this.CodeMirrorConstructor;\n\n
    \     if (isCodeview) {\n        if (html) {\n          if (CodeMirror) {\n            this.$codable.data('cmEditor').getDoc().setValue(html);\n
    \         } else {\n            this.$codable.val(html);\n          }\n        }
    else {\n          if (CodeMirror) {\n            this.$codable.data('cmEditor').save();\n
    \         }\n        }\n      }\n    }\n  }, {\n    key: \"initialize\",\n    value:
    function initialize() {\n      var _this = this;\n\n      this.$codable.on('keyup',
    function (event) {\n        if (event.keyCode === core_key.code.ESCAPE) {\n          _this.deactivate();\n
    \       }\n      });\n    }\n    /**\n     * @return {Boolean}\n     */\n\n  },
    {\n    key: \"isActivated\",\n    value: function isActivated() {\n      return
    this.$editor.hasClass('codeview');\n    }\n    /**\n     * toggle codeview\n     */\n\n
    \ }, {\n    key: \"toggle\",\n    value: function toggle() {\n      if (this.isActivated())
    {\n        this.deactivate();\n      } else {\n        this.activate();\n      }\n\n
    \     this.context.triggerEvent('codeview.toggled');\n    }\n    /**\n     * purify
    input value\n     * @param value\n     * @returns {*}\n     */\n\n  }, {\n    key:
    \"purify\",\n    value: function purify(value) {\n      if (this.options.codeviewFilter)
    {\n        // filter code view regex\n        value = value.replace(this.options.codeviewFilterRegex,
    ''); // allow specific iframe tag\n\n        if (this.options.codeviewIframeFilter)
    {\n          var whitelist = this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);\n
    \         value = value.replace(/(<iframe.*?>.*?(?:<\\/iframe>)?)/gi, function
    (tag) {\n            // remove if src attribute is duplicated\n            if
    (/<.+src(?==?('|\"|\\s)?)[\\s\\S]+src(?=('|\"|\\s)?)[^>]*?>/i.test(tag)) {\n              return
    '';\n            }\n\n            var _iterator = _createForOfIteratorHelper(whitelist),\n
    \               _step;\n\n            try {\n              for (_iterator.s();
    !(_step = _iterator.n()).done;) {\n                var src = _step.value;\n\n
    \               // pass if src is trusted\n                if (new RegExp('src=\"(https?:)?\\/\\/'
    + src.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&') + '\\/(.+)\"').test(tag))
    {\n                  return tag;\n                }\n              }\n            }
    catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n
    \           }\n\n            return '';\n          });\n        }\n      }\n\n
    \     return value;\n    }\n    /**\n     * activate code view\n     */\n\n  },
    {\n    key: \"activate\",\n    value: function activate() {\n      var _this2
    = this;\n\n      var CodeMirror = this.CodeMirrorConstructor;\n      this.$codable.val(dom.html(this.$editable,
    this.options.prettifyHtml));\n      this.$codable.height(this.$editable.height());\n
    \     this.context.invoke('toolbar.updateCodeview', true);\n      this.context.invoke('airPopover.updateCodeview',
    true);\n      this.$editor.addClass('codeview');\n      this.$codable.focus();
    // activate CodeMirror as codable\n\n      if (CodeMirror) {\n        var cmEditor
    = CodeMirror.fromTextArea(this.$codable[0], this.options.codemirror); // CodeMirror
    TernServer\n\n        if (this.options.codemirror.tern) {\n          var server
    = new CodeMirror.TernServer(this.options.codemirror.tern);\n          cmEditor.ternServer
    = server;\n          cmEditor.on('cursorActivity', function (cm) {\n            server.updateArgHints(cm);\n
    \         });\n        }\n\n        cmEditor.on('blur', function (event) {\n          _this2.context.triggerEvent('blur.codeview',
    cmEditor.getValue(), event);\n        });\n        cmEditor.on('change', function
    () {\n          _this2.context.triggerEvent('change.codeview', cmEditor.getValue(),
    cmEditor);\n        }); // CodeMirror hasn't Padding.\n\n        cmEditor.setSize(null,
    this.$editable.outerHeight());\n        this.$codable.data('cmEditor', cmEditor);\n
    \     } else {\n        this.$codable.on('blur', function (event) {\n          _this2.context.triggerEvent('blur.codeview',
    _this2.$codable.val(), event);\n        });\n        this.$codable.on('input',
    function () {\n          _this2.context.triggerEvent('change.codeview', _this2.$codable.val(),
    _this2.$codable);\n        });\n      }\n    }\n    /**\n     * deactivate code
    view\n     */\n\n  }, {\n    key: \"deactivate\",\n    value: function deactivate()
    {\n      var CodeMirror = this.CodeMirrorConstructor; // deactivate CodeMirror
    as codable\n\n      if (CodeMirror) {\n        var cmEditor = this.$codable.data('cmEditor');\n
    \       this.$codable.val(cmEditor.getValue());\n        cmEditor.toTextArea();\n
    \     }\n\n      var value = this.purify(dom.value(this.$codable, this.options.prettifyHtml)
    || dom.emptyPara);\n      var isChange = this.$editable.html() !== value;\n      this.$editable.html(value);\n
    \     this.$editable.height(this.options.height ? this.$codable.height() : 'auto');\n
    \     this.$editor.removeClass('codeview');\n\n      if (isChange) {\n        this.context.triggerEvent('change',
    this.$editable.html(), this.$editable);\n      }\n\n      this.$editable.focus();\n
    \     this.context.invoke('toolbar.updateCodeview', false);\n      this.context.invoke('airPopover.updateCodeview',
    false);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n
    \     if (this.isActivated()) {\n        this.deactivate();\n      }\n    }\n
    \ }]);\n\n  return CodeView;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Statusbar.js\nfunction
    Statusbar_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Statusbar_defineProperties(target, props) { for (var i = 0; i < props.length;
    i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Statusbar_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    Statusbar_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    Statusbar_defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar
    EDITABLE_PADDING = 24;\n\nvar Statusbar_Statusbar = /*#__PURE__*/function () {\n
    \ function Statusbar(context) {\n    Statusbar_classCallCheck(this, Statusbar);\n\n
    \   this.$document = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);\n
    \   this.$statusbar = context.layoutInfo.statusbar;\n    this.$editable = context.layoutInfo.editable;\n
    \   this.options = context.options;\n  }\n\n  Statusbar_createClass(Statusbar,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this
    = this;\n\n      if (this.options.airMode || this.options.disableResizeEditor)
    {\n        this.destroy();\n        return;\n      }\n\n      this.$statusbar.on('mousedown',
    function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n\n
    \       var editableTop = _this.$editable.offset().top - _this.$document.scrollTop();\n\n
    \       var onMouseMove = function onMouseMove(event) {\n          var height
    = event.clientY - (editableTop + EDITABLE_PADDING);\n          height = _this.options.minheight
    > 0 ? Math.max(height, _this.options.minheight) : height;\n          height =
    _this.options.maxHeight > 0 ? Math.min(height, _this.options.maxHeight) : height;\n\n
    \         _this.$editable.height(height);\n        };\n\n        _this.$document.on('mousemove',
    onMouseMove).one('mouseup', function () {\n          _this.$document.off('mousemove',
    onMouseMove);\n        });\n      });\n    }\n  }, {\n    key: \"destroy\",\n
    \   value: function destroy() {\n      this.$statusbar.off();\n      this.$statusbar.addClass('locked');\n
    \   }\n  }]);\n\n  return Statusbar;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Fullscreen.js\nfunction
    Fullscreen_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Fullscreen_defineProperties(target, props) { for (var i = 0; i < props.length;
    i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Fullscreen_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    Fullscreen_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    Fullscreen_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar
    Fullscreen_Fullscreen = /*#__PURE__*/function () {\n  function Fullscreen(context)
    {\n    var _this = this;\n\n    Fullscreen_classCallCheck(this, Fullscreen);\n\n
    \   this.context = context;\n    this.$editor = context.layoutInfo.editor;\n    this.$toolbar
    = context.layoutInfo.toolbar;\n    this.$editable = context.layoutInfo.editable;\n
    \   this.$codable = context.layoutInfo.codable;\n    this.$window = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(window);\n
    \   this.$scrollbar = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('html,
    body');\n\n    this.onResize = function () {\n      _this.resizeTo({\n        h:
    _this.$window.height() - _this.$toolbar.outerHeight()\n      });\n    };\n  }\n\n
    \ Fullscreen_createClass(Fullscreen, [{\n    key: \"resizeTo\",\n    value: function
    resizeTo(size) {\n      this.$editable.css('height', size.h);\n      this.$codable.css('height',
    size.h);\n\n      if (this.$codable.data('cmeditor')) {\n        this.$codable.data('cmeditor').setsize(null,
    size.h);\n      }\n    }\n    /**\n     * toggle fullscreen\n     */\n\n  }, {\n
    \   key: \"toggle\",\n    value: function toggle() {\n      this.$editor.toggleClass('fullscreen');\n\n
    \     if (this.isFullscreen()) {\n        this.$editable.data('orgHeight', this.$editable.css('height'));\n
    \       this.$editable.data('orgMaxHeight', this.$editable.css('maxHeight'));\n
    \       this.$editable.css('maxHeight', '');\n        this.$window.on('resize',
    this.onResize).trigger('resize');\n        this.$scrollbar.css('overflow', 'hidden');\n
    \     } else {\n        this.$window.off('resize', this.onResize);\n        this.resizeTo({\n
    \         h: this.$editable.data('orgHeight')\n        });\n        this.$editable.css('maxHeight',
    this.$editable.css('orgMaxHeight'));\n        this.$scrollbar.css('overflow',
    'visible');\n      }\n\n      this.context.invoke('toolbar.updateFullscreen',
    this.isFullscreen());\n    }\n  }, {\n    key: \"isFullscreen\",\n    value: function
    isFullscreen() {\n      return this.$editor.hasClass('fullscreen');\n    }\n  }]);\n\n
    \ return Fullscreen;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Handle.js\nfunction
    Handle_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Handle_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Handle_createClass(Constructor, protoProps, staticProps) { if (protoProps) Handle_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Handle_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\nvar Handle_Handle = /*#__PURE__*/function () {\n
    \ function Handle(context) {\n    var _this = this;\n\n    Handle_classCallCheck(this,
    Handle);\n\n    this.context = context;\n    this.$document = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);\n
    \   this.$editingArea = context.layoutInfo.editingArea;\n    this.options = context.options;\n
    \   this.lang = this.options.langInfo;\n    this.events = {\n      'summernote.mousedown':
    function summernoteMousedown(we, e) {\n        if (_this.update(e.target, e))
    {\n          e.preventDefault();\n        }\n      },\n      'summernote.keyup
    summernote.scroll summernote.change summernote.dialog.shown': function summernoteKeyupSummernoteScrollSummernoteChangeSummernoteDialogShown()
    {\n        _this.update();\n      },\n      'summernote.disable summernote.blur':
    function summernoteDisableSummernoteBlur() {\n        _this.hide();\n      },\n
    \     'summernote.codeview.toggled': function summernoteCodeviewToggled() {\n
    \       _this.update();\n      }\n    };\n  }\n\n  Handle_createClass(Handle,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2
    = this;\n\n      this.$handle = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(['<div
    class=\"note-handle\">', '<div class=\"note-control-selection\">', '<div class=\"note-control-selection-bg\"></div>',
    '<div class=\"note-control-holder note-control-nw\"></div>', '<div class=\"note-control-holder
    note-control-ne\"></div>', '<div class=\"note-control-holder note-control-sw\"></div>',
    '<div class=\"', this.options.disableResizeImage ? 'note-control-holder' : 'note-control-sizing',
    ' note-control-se\"></div>', this.options.disableResizeImage ? '' : '<div class=\"note-control-selection-info\"></div>',
    '</div>', '</div>'].join('')).prependTo(this.$editingArea);\n      this.$handle.on('mousedown',
    function (event) {\n        if (dom.isControlSizing(event.target)) {\n          event.preventDefault();\n
    \         event.stopPropagation();\n\n          var $target = _this2.$handle.find('.note-control-selection').data('target');\n\n
    \         var posStart = $target.offset();\n\n          var scrollTop = _this2.$document.scrollTop();\n\n
    \         var onMouseMove = function onMouseMove(event) {\n            _this2.context.invoke('editor.resizeTo',
    {\n              x: event.clientX - posStart.left,\n              y: event.clientY
    - (posStart.top - scrollTop)\n            }, $target, !event.shiftKey);\n\n            _this2.update($target[0],
    event);\n          };\n\n          _this2.$document.on('mousemove', onMouseMove).one('mouseup',
    function (e) {\n            e.preventDefault();\n\n            _this2.$document.off('mousemove',
    onMouseMove);\n\n            _this2.context.invoke('editor.afterCommand');\n          });\n\n
    \         if (!$target.data('ratio')) {\n            // original ratio.\n            $target.data('ratio',
    $target.height() / $target.width());\n          }\n        }\n      }); // Listen
    for scrolling on the handle overlay.\n\n      this.$handle.on('wheel', function
    (e) {\n        e.preventDefault();\n\n        _this2.update();\n      });\n    }\n
    \ }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.$handle.remove();\n
    \   }\n  }, {\n    key: \"update\",\n    value: function update(target, event)
    {\n      if (this.context.isDisabled()) {\n        return false;\n      }\n\n
    \     var isImage = dom.isImg(target);\n      var $selection = this.$handle.find('.note-control-selection');\n
    \     this.context.invoke('imagePopover.update', target, event);\n\n      if (isImage)
    {\n        var $image = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(target);\n
    \       var position = $image.position();\n        var pos = {\n          left:
    position.left + parseInt($image.css('marginLeft'), 10),\n          top: position.top
    + parseInt($image.css('marginTop'), 10)\n        }; // exclude margin\n\n        var
    imageSize = {\n          w: $image.outerWidth(false),\n          h: $image.outerHeight(false)\n
    \       };\n        $selection.css({\n          display: 'block',\n          left:
    pos.left,\n          top: pos.top,\n          width: imageSize.w,\n          height:
    imageSize.h\n        }).data('target', $image); // save current image element.\n\n
    \       var origImageObj = new Image();\n        origImageObj.src = $image.attr('src');\n
    \       var sizingText = imageSize.w + 'x' + imageSize.h + ' (' + this.lang.image.original
    + ': ' + origImageObj.width + 'x' + origImageObj.height + ')';\n        $selection.find('.note-control-selection-info').text(sizingText);\n
    \       this.context.invoke('editor.saveTarget', target);\n      } else {\n        this.hide();\n
    \     }\n\n      return isImage;\n    }\n    /**\n     * hide\n     *\n     *
    @param {jQuery} $handle\n     */\n\n  }, {\n    key: \"hide\",\n    value: function
    hide() {\n      this.context.invoke('editor.clearTarget');\n      this.$handle.children().hide();\n
    \   }\n  }]);\n\n  return Handle;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/AutoLink.js\nfunction
    AutoLink_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    AutoLink_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    AutoLink_createClass(Constructor, protoProps, staticProps) { if (protoProps) AutoLink_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) AutoLink_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\nvar defaultScheme = 'http://';\nvar linkPattern
    = /^([A-Za-z][A-Za-z0-9+-.]*\\:[\\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@)?(www\\.)?(.+)$/i;\n\nvar
    AutoLink_AutoLink = /*#__PURE__*/function () {\n  function AutoLink(context) {\n
    \   var _this = this;\n\n    AutoLink_classCallCheck(this, AutoLink);\n\n    this.context
    = context;\n    this.options = context.options;\n    this.events = {\n      'summernote.keyup':
    function summernoteKeyup(we, e) {\n        if (!e.isDefaultPrevented()) {\n          _this.handleKeyup(e);\n
    \       }\n      },\n      'summernote.keydown': function summernoteKeydown(we,
    e) {\n        _this.handleKeydown(e);\n      }\n    };\n  }\n\n  AutoLink_createClass(AutoLink,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      this.lastWordRange
    = null;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n
    \     this.lastWordRange = null;\n    }\n  }, {\n    key: \"replace\",\n    value:
    function replace() {\n      if (!this.lastWordRange) {\n        return;\n      }\n\n
    \     var keyword = this.lastWordRange.toString();\n      var match = keyword.match(linkPattern);\n\n
    \     if (match && (match[1] || match[2])) {\n        var link = match[1] ? keyword
    : defaultScheme + keyword;\n        var urlText = this.options.showDomainOnlyForAutolink
    ? keyword.replace(/^(?:https?:\\/\\/)?(?:tel?:?)?(?:mailto?:?)?(?:www\\.)?/i,
    '').split('/')[0] : keyword;\n        var node = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<a
    />').html(urlText).attr('href', link)[0];\n\n        if (this.context.options.linkTargetBlank)
    {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).attr('target',
    '_blank');\n        }\n\n        this.lastWordRange.insertNode(node);\n        this.lastWordRange
    = null;\n        this.context.invoke('editor.focus');\n      }\n    }\n  }, {\n
    \   key: \"handleKeydown\",\n    value: function handleKeydown(e) {\n      if
    (lists.contains([core_key.code.ENTER, core_key.code.SPACE], e.keyCode)) {\n        var
    wordRange = this.context.invoke('editor.createRange').getWordRange();\n        this.lastWordRange
    = wordRange;\n      }\n    }\n  }, {\n    key: \"handleKeyup\",\n    value: function
    handleKeyup(e) {\n      if (lists.contains([core_key.code.ENTER, core_key.code.SPACE],
    e.keyCode)) {\n        this.replace();\n      }\n    }\n  }]);\n\n  return AutoLink;\n}();\n\n\n//
    CONCATENATED MODULE: ./src/js/base/module/AutoSync.js\nfunction AutoSync_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction AutoSync_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction AutoSync_createClass(Constructor, protoProps, staticProps)
    { if (protoProps) AutoSync_defineProperties(Constructor.prototype, protoProps);
    if (staticProps) AutoSync_defineProperties(Constructor, staticProps); return Constructor;
    }\n\n\n/**\n * textarea auto sync.\n */\n\nvar AutoSync_AutoSync = /*#__PURE__*/function
    () {\n  function AutoSync(context) {\n    var _this = this;\n\n    AutoSync_classCallCheck(this,
    AutoSync);\n\n    this.$note = context.layoutInfo.note;\n    this.events = {\n
    \     'summernote.change': function summernoteChange() {\n        _this.$note.val(context.invoke('code'));\n
    \     }\n    };\n  }\n\n  AutoSync_createClass(AutoSync, [{\n    key: \"shouldInitialize\",\n
    \   value: function shouldInitialize() {\n      return dom.isTextarea(this.$note[0]);\n
    \   }\n  }]);\n\n  return AutoSync;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/AutoReplace.js\nfunction
    AutoReplace_classCallCheck(instance, Constructor) { if (!(instance instanceof
    Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); }
    }\n\nfunction AutoReplace_defineProperties(target, props) { for (var i = 0; i
    < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    AutoReplace_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    AutoReplace_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    AutoReplace_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar
    AutoReplace_AutoReplace = /*#__PURE__*/function () {\n  function AutoReplace(context)
    {\n    var _this = this;\n\n    AutoReplace_classCallCheck(this, AutoReplace);\n\n
    \   this.context = context;\n    this.options = context.options.replace || {};\n
    \   this.keys = [core_key.code.ENTER, core_key.code.SPACE, core_key.code.PERIOD,
    core_key.code.COMMA, core_key.code.SEMICOLON, core_key.code.SLASH];\n    this.previousKeydownCode
    = null;\n    this.events = {\n      'summernote.keyup': function summernoteKeyup(we,
    e) {\n        if (!e.isDefaultPrevented()) {\n          _this.handleKeyup(e);\n
    \       }\n      },\n      'summernote.keydown': function summernoteKeydown(we,
    e) {\n        _this.handleKeydown(e);\n      }\n    };\n  }\n\n  AutoReplace_createClass(AutoReplace,
    [{\n    key: \"shouldInitialize\",\n    value: function shouldInitialize() {\n
    \     return !!this.options.match;\n    }\n  }, {\n    key: \"initialize\",\n
    \   value: function initialize() {\n      this.lastWord = null;\n    }\n  }, {\n
    \   key: \"destroy\",\n    value: function destroy() {\n      this.lastWord =
    null;\n    }\n  }, {\n    key: \"replace\",\n    value: function replace() {\n
    \     if (!this.lastWord) {\n        return;\n      }\n\n      var self = this;\n
    \     var keyword = this.lastWord.toString();\n      this.options.match(keyword,
    function (match) {\n        if (match) {\n          var node = '';\n\n          if
    (typeof match === 'string') {\n            node = dom.createText(match);\n          }
    else if (match instanceof jQuery) {\n            node = match[0];\n          }
    else if (match instanceof Node) {\n            node = match;\n          }\n\n
    \         if (!node) return;\n          self.lastWord.insertNode(node);\n          self.lastWord
    = null;\n          self.context.invoke('editor.focus');\n        }\n      });\n
    \   }\n  }, {\n    key: \"handleKeydown\",\n    value: function handleKeydown(e)
    {\n      // this forces it to remember the last whole word, even if multiple termination
    keys are pressed\n      // before the previous key is let go.\n      if (this.previousKeydownCode
    && lists.contains(this.keys, this.previousKeydownCode)) {\n        this.previousKeydownCode
    = e.keyCode;\n        return;\n      }\n\n      if (lists.contains(this.keys,
    e.keyCode)) {\n        var wordRange = this.context.invoke('editor.createRange').getWordRange();\n
    \       this.lastWord = wordRange;\n      }\n\n      this.previousKeydownCode
    = e.keyCode;\n    }\n  }, {\n    key: \"handleKeyup\",\n    value: function handleKeyup(e)
    {\n      if (lists.contains(this.keys, e.keyCode)) {\n        this.replace();\n
    \     }\n    }\n  }]);\n\n  return AutoReplace;\n}();\n\n\n// CONCATENATED MODULE:
    ./src/js/base/module/Placeholder.js\nfunction Placeholder_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction Placeholder_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction Placeholder_createClass(Constructor, protoProps,
    staticProps) { if (protoProps) Placeholder_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Placeholder_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\nvar Placeholder_Placeholder = /*#__PURE__*/function
    () {\n  function Placeholder(context) {\n    var _this = this;\n\n    Placeholder_classCallCheck(this,
    Placeholder);\n\n    this.context = context;\n    this.$editingArea = context.layoutInfo.editingArea;\n
    \   this.options = context.options;\n\n    if (this.options.inheritPlaceholder
    === true) {\n      // get placeholder value from the original element\n      this.options.placeholder
    = this.context.$note.attr('placeholder') || this.options.placeholder;\n    }\n\n
    \   this.events = {\n      'summernote.init summernote.change': function summernoteInitSummernoteChange()
    {\n        _this.update();\n      },\n      'summernote.codeview.toggled': function
    summernoteCodeviewToggled() {\n        _this.update();\n      }\n    };\n  }\n\n
    \ Placeholder_createClass(Placeholder, [{\n    key: \"shouldInitialize\",\n    value:
    function shouldInitialize() {\n      return !!this.options.placeholder;\n    }\n
    \ }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var
    _this2 = this;\n\n      this.$placeholder = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div
    class=\"note-placeholder\">');\n      this.$placeholder.on('click', function ()
    {\n        _this2.context.invoke('focus');\n      }).html(this.options.placeholder).prependTo(this.$editingArea);\n
    \     this.update();\n    }\n  }, {\n    key: \"destroy\",\n    value: function
    destroy() {\n      this.$placeholder.remove();\n    }\n  }, {\n    key: \"update\",\n
    \   value: function update() {\n      var isShow = !this.context.invoke('codeview.isActivated')
    && this.context.invoke('editor.isEmpty');\n      this.$placeholder.toggle(isShow);\n
    \   }\n  }]);\n\n  return Placeholder;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Buttons.js\nfunction
    Buttons_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Buttons_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Buttons_createClass(Constructor, protoProps, staticProps) { if (protoProps) Buttons_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Buttons_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n\nvar Buttons_Buttons = /*#__PURE__*/function
    () {\n  function Buttons(context) {\n    Buttons_classCallCheck(this, Buttons);\n\n
    \   this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.context = context;\n    this.$toolbar = context.layoutInfo.toolbar;\n
    \   this.options = context.options;\n    this.lang = this.options.langInfo;\n
    \   this.invertedKeyMap = func.invertObject(this.options.keyMap[env.isMac ? 'mac'
    : 'pc']);\n  }\n\n  Buttons_createClass(Buttons, [{\n    key: \"representShortcut\",\n
    \   value: function representShortcut(editorMethod) {\n      var shortcut = this.invertedKeyMap[editorMethod];\n\n
    \     if (!this.options.shortcuts || !shortcut) {\n        return '';\n      }\n\n
    \     if (env.isMac) {\n        shortcut = shortcut.replace('CMD', '⌘').replace('SHIFT',
    '⇧');\n      }\n\n      shortcut = shortcut.replace('BACKSLASH', '\\\\').replace('SLASH',
    '/').replace('LEFTBRACKET', '[').replace('RIGHTBRACKET', ']');\n      return '
    (' + shortcut + ')';\n    }\n  }, {\n    key: \"button\",\n    value: function
    button(o) {\n      if (!this.options.tooltip && o.tooltip) {\n        delete o.tooltip;\n
    \     }\n\n      o.container = this.options.container;\n      return this.ui.button(o);\n
    \   }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n
    \     this.addToolbarButtons();\n      this.addImagePopoverButtons();\n      this.addLinkPopoverButtons();\n
    \     this.addTablePopoverButtons();\n      this.fontInstalledMap = {};\n    }\n
    \ }, {\n    key: \"destroy\",\n    value: function destroy() {\n      delete this.fontInstalledMap;\n
    \   }\n  }, {\n    key: \"isFontInstalled\",\n    value: function isFontInstalled(name)
    {\n      if (!Object.prototype.hasOwnProperty.call(this.fontInstalledMap, name))
    {\n        this.fontInstalledMap[name] = env.isFontInstalled(name) || lists.contains(this.options.fontNamesIgnoreCheck,
    name);\n      }\n\n      return this.fontInstalledMap[name];\n    }\n  }, {\n
    \   key: \"isFontDeservedToAdd\",\n    value: function isFontDeservedToAdd(name)
    {\n      name = name.toLowerCase();\n      return name !== '' && this.isFontInstalled(name)
    && env.genericFontFamilies.indexOf(name) === -1;\n    }\n  }, {\n    key: \"colorPalette\",\n
    \   value: function colorPalette(className, tooltip, backColor, foreColor) {\n
    \     var _this = this;\n\n      return this.ui.buttonGroup({\n        className:
    'note-color ' + className,\n        children: [this.button({\n          className:
    'note-current-color-button',\n          contents: this.ui.icon(this.options.icons.font
    + ' note-recent-color'),\n          tooltip: tooltip,\n          click: function
    click(e) {\n            var $button = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(e.currentTarget);\n\n
    \           if (backColor && foreColor) {\n              _this.context.invoke('editor.color',
    {\n                backColor: $button.attr('data-backColor'),\n                foreColor:
    $button.attr('data-foreColor')\n              });\n            } else if (backColor)
    {\n              _this.context.invoke('editor.color', {\n                backColor:
    $button.attr('data-backColor')\n              });\n            } else if (foreColor)
    {\n              _this.context.invoke('editor.color', {\n                foreColor:
    $button.attr('data-foreColor')\n              });\n            }\n          },\n
    \         callback: function callback($button) {\n            var $recentColor
    = $button.find('.note-recent-color');\n\n            if (backColor) {\n              $recentColor.css('background-color',
    _this.options.colorButton.backColor);\n              $button.attr('data-backColor',
    _this.options.colorButton.backColor);\n            }\n\n            if (foreColor)
    {\n              $recentColor.css('color', _this.options.colorButton.foreColor);\n
    \             $button.attr('data-foreColor', _this.options.colorButton.foreColor);\n
    \           } else {\n              $recentColor.css('color', 'transparent');\n
    \           }\n          }\n        }), this.button({\n          className: 'dropdown-toggle',\n
    \         contents: this.ui.dropdownButtonContents('', this.options),\n          tooltip:
    this.lang.color.more,\n          data: {\n            toggle: 'dropdown'\n          }\n
    \       }), this.ui.dropdown({\n          items: (backColor ? ['<div class=\"note-palette\">',
    '<div class=\"note-palette-title\">' + this.lang.color.background + '</div>',
    '<div>', '<button type=\"button\" class=\"note-color-reset btn btn-light btn-default\"
    data-event=\"backColor\" data-value=\"transparent\">', this.lang.color.transparent,
    '</button>', '</div>', '<div class=\"note-holder\" data-event=\"backColor\"><!--
    back colors --></div>', '<div>', '<button type=\"button\" class=\"note-color-select
    btn btn-light btn-default\" data-event=\"openPalette\" data-value=\"backColorPicker\">',
    this.lang.color.cpSelect, '</button>', '<input type=\"color\" id=\"backColorPicker\"
    class=\"note-btn note-color-select-btn\" value=\"' + this.options.colorButton.backColor
    + '\" data-event=\"backColorPalette\">', '</div>', '<div class=\"note-holder-custom\"
    id=\"backColorPalette\" data-event=\"backColor\"></div>', '</div>'].join('') :
    '') + (foreColor ? ['<div class=\"note-palette\">', '<div class=\"note-palette-title\">'
    + this.lang.color.foreground + '</div>', '<div>', '<button type=\"button\" class=\"note-color-reset
    btn btn-light btn-default\" data-event=\"removeFormat\" data-value=\"foreColor\">',
    this.lang.color.resetToDefault, '</button>', '</div>', '<div class=\"note-holder\"
    data-event=\"foreColor\"><!-- fore colors --></div>', '<div>', '<button type=\"button\"
    class=\"note-color-select btn btn-light btn-default\" data-event=\"openPalette\"
    data-value=\"foreColorPicker\">', this.lang.color.cpSelect, '</button>', '<input
    type=\"color\" id=\"foreColorPicker\" class=\"note-btn note-color-select-btn\"
    value=\"' + this.options.colorButton.foreColor + '\" data-event=\"foreColorPalette\">',
    '</div>', // Fix missing Div, Commented to find easily if it's wrong\n          '<div
    class=\"note-holder-custom\" id=\"foreColorPalette\" data-event=\"foreColor\"></div>',
    '</div>'].join('') : ''),\n          callback: function callback($dropdown) {\n
    \           $dropdown.find('.note-holder').each(function (idx, item) {\n              var
    $holder = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);\n
    \             $holder.append(_this.ui.palette({\n                colors: _this.options.colors,\n
    \               colorsName: _this.options.colorsName,\n                eventName:
    $holder.data('event'),\n                container: _this.options.container,\n
    \               tooltip: _this.options.tooltip\n              }).render());\n
    \           });\n            /* TODO: do we have to record recent custom colors
    within cookies? */\n\n            var customColors = [['#FFFFFF', '#FFFFFF', '#FFFFFF',
    '#FFFFFF', '#FFFFFF', '#FFFFFF', '#FFFFFF', '#FFFFFF']];\n            $dropdown.find('.note-holder-custom').each(function
    (idx, item) {\n              var $holder = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);\n
    \             $holder.append(_this.ui.palette({\n                colors: customColors,\n
    \               colorsName: customColors,\n                eventName: $holder.data('event'),\n
    \               container: _this.options.container,\n                tooltip:
    _this.options.tooltip\n              }).render());\n            });\n            $dropdown.find('input[type=color]').each(function
    (idx, item) {\n              external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item).change(function
    () {\n                var $chip = $dropdown.find('#' + external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this).data('event')).find('.note-color-btn').first();\n
    \               var color = this.value.toUpperCase();\n                $chip.css('background-color',
    color).attr('aria-label', color).attr('data-value', color).attr('data-original-title',
    color);\n                $chip.click();\n              });\n            });\n
    \         },\n          click: function click(event) {\n            event.stopPropagation();\n
    \           var $parent = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('.'
    + className).find('.note-dropdown-menu');\n            var $button = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target);\n
    \           var eventName = $button.data('event');\n            var value = $button.attr('data-value');\n\n
    \           if (eventName === 'openPalette') {\n              var $picker = $parent.find('#'
    + value);\n              var $palette = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()($parent.find('#'
    + $picker.data('event')).find('.note-color-row')[0]); // Shift palette chips\n\n
    \             var $chip = $palette.find('.note-color-btn').last().detach(); //
    Set chip attributes\n\n              var color = $picker.val();\n              $chip.css('background-color',
    color).attr('aria-label', color).attr('data-value', color).attr('data-original-title',
    color);\n              $palette.prepend($chip);\n              $picker.click();\n
    \           } else {\n              if (lists.contains(['backColor', 'foreColor'],
    eventName)) {\n                var key = eventName === 'backColor' ? 'background-color'
    : 'color';\n                var $color = $button.closest('.note-color').find('.note-recent-color');\n
    \               var $currentButton = $button.closest('.note-color').find('.note-current-color-button');\n
    \               $color.css(key, value);\n                $currentButton.attr('data-'
    + eventName, value);\n              }\n\n              _this.context.invoke('editor.'
    + eventName, value);\n            }\n          }\n        })]\n      }).render();\n
    \   }\n  }, {\n    key: \"addToolbarButtons\",\n    value: function addToolbarButtons()
    {\n      var _this2 = this;\n\n      this.context.memo('button.style', function
    () {\n        return _this2.ui.buttonGroup([_this2.button({\n          className:
    'dropdown-toggle',\n          contents: _this2.ui.dropdownButtonContents(_this2.ui.icon(_this2.options.icons.magic),
    _this2.options),\n          tooltip: _this2.lang.style.style,\n          data:
    {\n            toggle: 'dropdown'\n          }\n        }), _this2.ui.dropdown({\n
    \         className: 'dropdown-style',\n          items: _this2.options.styleTags,\n
    \         title: _this2.lang.style.style,\n          template: function template(item)
    {\n            // TBD: need to be simplified\n            if (typeof item ===
    'string') {\n              item = {\n                tag: item,\n                title:
    Object.prototype.hasOwnProperty.call(_this2.lang.style, item) ? _this2.lang.style[item]
    : item\n              };\n            }\n\n            var tag = item.tag;\n            var
    title = item.title;\n            var style = item.style ? ' style=\"' + item.style
    + '\" ' : '';\n            var className = item.className ? ' class=\"' + item.className
    + '\"' : '';\n            return '<' + tag + style + className + '>' + title +
    '</' + tag + '>';\n          },\n          click: _this2.context.createInvokeHandler('editor.formatBlock')\n
    \       })]).render();\n      });\n\n      var _loop = function _loop(styleIdx,
    styleLen) {\n        var item = _this2.options.styleTags[styleIdx];\n\n        _this2.context.memo('button.style.'
    + item, function () {\n          return _this2.button({\n            className:
    'note-btn-style-' + item,\n            contents: '<div data-value=\"' + item +
    '\">' + item.toUpperCase() + '</div>',\n            tooltip: _this2.lang.style[item],\n
    \           click: _this2.context.createInvokeHandler('editor.formatBlock')\n
    \         }).render();\n        });\n      };\n\n      for (var styleIdx = 0,
    styleLen = this.options.styleTags.length; styleIdx < styleLen; styleIdx++) {\n
    \       _loop(styleIdx, styleLen);\n      }\n\n      this.context.memo('button.bold',
    function () {\n        return _this2.button({\n          className: 'note-btn-bold',\n
    \         contents: _this2.ui.icon(_this2.options.icons.bold),\n          tooltip:
    _this2.lang.font.bold + _this2.representShortcut('bold'),\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.bold')\n
    \       }).render();\n      });\n      this.context.memo('button.italic', function
    () {\n        return _this2.button({\n          className: 'note-btn-italic',\n
    \         contents: _this2.ui.icon(_this2.options.icons.italic),\n          tooltip:
    _this2.lang.font.italic + _this2.representShortcut('italic'),\n          click:
    _this2.context.createInvokeHandlerAndUpdateState('editor.italic')\n        }).render();\n
    \     });\n      this.context.memo('button.underline', function () {\n        return
    _this2.button({\n          className: 'note-btn-underline',\n          contents:
    _this2.ui.icon(_this2.options.icons.underline),\n          tooltip: _this2.lang.font.underline
    + _this2.representShortcut('underline'),\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.underline')\n
    \       }).render();\n      });\n      this.context.memo('button.clear', function
    () {\n        return _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.eraser),\n
    \         tooltip: _this2.lang.font.clear + _this2.representShortcut('removeFormat'),\n
    \         click: _this2.context.createInvokeHandler('editor.removeFormat')\n        }).render();\n
    \     });\n      this.context.memo('button.strikethrough', function () {\n        return
    _this2.button({\n          className: 'note-btn-strikethrough',\n          contents:
    _this2.ui.icon(_this2.options.icons.strikethrough),\n          tooltip: _this2.lang.font.strikethrough
    + _this2.representShortcut('strikethrough'),\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.strikethrough')\n
    \       }).render();\n      });\n      this.context.memo('button.superscript',
    function () {\n        return _this2.button({\n          className: 'note-btn-superscript',\n
    \         contents: _this2.ui.icon(_this2.options.icons.superscript),\n          tooltip:
    _this2.lang.font.superscript,\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.superscript')\n
    \       }).render();\n      });\n      this.context.memo('button.subscript', function
    () {\n        return _this2.button({\n          className: 'note-btn-subscript',\n
    \         contents: _this2.ui.icon(_this2.options.icons.subscript),\n          tooltip:
    _this2.lang.font.subscript,\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.subscript')\n
    \       }).render();\n      });\n      this.context.memo('button.fontname', function
    () {\n        var styleInfo = _this2.context.invoke('editor.currentStyle');\n\n
    \       if (_this2.options.addDefaultFonts) {\n          // Add 'default' fonts
    into the fontnames array if not exist\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(styleInfo['font-family'].split(','),
    function (idx, fontname) {\n            fontname = fontname.trim().replace(/['\"]+/g,
    '');\n\n            if (_this2.isFontDeservedToAdd(fontname)) {\n              if
    (_this2.options.fontNames.indexOf(fontname) === -1) {\n                _this2.options.fontNames.push(fontname);\n
    \             }\n            }\n          });\n        }\n\n        return _this2.ui.buttonGroup([_this2.button({\n
    \         className: 'dropdown-toggle',\n          contents: _this2.ui.dropdownButtonContents('<span
    class=\"note-current-fontname\"></span>', _this2.options),\n          tooltip:
    _this2.lang.font.name,\n          data: {\n            toggle: 'dropdown'\n          }\n
    \       }), _this2.ui.dropdownCheck({\n          className: 'dropdown-fontname',\n
    \         checkClassName: _this2.options.icons.menuCheck,\n          items: _this2.options.fontNames.filter(_this2.isFontInstalled.bind(_this2)),\n
    \         title: _this2.lang.font.name,\n          template: function template(item)
    {\n            return '<span style=\"font-family: ' + env.validFontName(item)
    + '\">' + item + '</span>';\n          },\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.fontName')\n
    \       })]).render();\n      });\n      this.context.memo('button.fontsize',
    function () {\n        return _this2.ui.buttonGroup([_this2.button({\n          className:
    'dropdown-toggle',\n          contents: _this2.ui.dropdownButtonContents('<span
    class=\"note-current-fontsize\"></span>', _this2.options),\n          tooltip:
    _this2.lang.font.size,\n          data: {\n            toggle: 'dropdown'\n          }\n
    \       }), _this2.ui.dropdownCheck({\n          className: 'dropdown-fontsize',\n
    \         checkClassName: _this2.options.icons.menuCheck,\n          items: _this2.options.fontSizes,\n
    \         title: _this2.lang.font.size,\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.fontSize')\n
    \       })]).render();\n      });\n      this.context.memo('button.fontsizeunit',
    function () {\n        return _this2.ui.buttonGroup([_this2.button({\n          className:
    'dropdown-toggle',\n          contents: _this2.ui.dropdownButtonContents('<span
    class=\"note-current-fontsizeunit\"></span>', _this2.options),\n          tooltip:
    _this2.lang.font.sizeunit,\n          data: {\n            toggle: 'dropdown'\n
    \         }\n        }), _this2.ui.dropdownCheck({\n          className: 'dropdown-fontsizeunit',\n
    \         checkClassName: _this2.options.icons.menuCheck,\n          items: _this2.options.fontSizeUnits,\n
    \         title: _this2.lang.font.sizeunit,\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.fontSizeUnit')\n
    \       })]).render();\n      });\n      this.context.memo('button.color', function
    () {\n        return _this2.colorPalette('note-color-all', _this2.lang.color.recent,
    true, true);\n      });\n      this.context.memo('button.forecolor', function
    () {\n        return _this2.colorPalette('note-color-fore', _this2.lang.color.foreground,
    false, true);\n      });\n      this.context.memo('button.backcolor', function
    () {\n        return _this2.colorPalette('note-color-back', _this2.lang.color.background,
    true, false);\n      });\n      this.context.memo('button.ul', function () {\n
    \       return _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.unorderedlist),\n
    \         tooltip: _this2.lang.lists.unordered + _this2.representShortcut('insertUnorderedList'),\n
    \         click: _this2.context.createInvokeHandler('editor.insertUnorderedList')\n
    \       }).render();\n      });\n      this.context.memo('button.ol', function
    () {\n        return _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.orderedlist),\n
    \         tooltip: _this2.lang.lists.ordered + _this2.representShortcut('insertOrderedList'),\n
    \         click: _this2.context.createInvokeHandler('editor.insertOrderedList')\n
    \       }).render();\n      });\n      var justifyLeft = this.button({\n        contents:
    this.ui.icon(this.options.icons.alignLeft),\n        tooltip: this.lang.paragraph.left
    + this.representShortcut('justifyLeft'),\n        click: this.context.createInvokeHandler('editor.justifyLeft')\n
    \     });\n      var justifyCenter = this.button({\n        contents: this.ui.icon(this.options.icons.alignCenter),\n
    \       tooltip: this.lang.paragraph.center + this.representShortcut('justifyCenter'),\n
    \       click: this.context.createInvokeHandler('editor.justifyCenter')\n      });\n
    \     var justifyRight = this.button({\n        contents: this.ui.icon(this.options.icons.alignRight),\n
    \       tooltip: this.lang.paragraph.right + this.representShortcut('justifyRight'),\n
    \       click: this.context.createInvokeHandler('editor.justifyRight')\n      });\n
    \     var justifyFull = this.button({\n        contents: this.ui.icon(this.options.icons.alignJustify),\n
    \       tooltip: this.lang.paragraph.justify + this.representShortcut('justifyFull'),\n
    \       click: this.context.createInvokeHandler('editor.justifyFull')\n      });\n
    \     var outdent = this.button({\n        contents: this.ui.icon(this.options.icons.outdent),\n
    \       tooltip: this.lang.paragraph.outdent + this.representShortcut('outdent'),\n
    \       click: this.context.createInvokeHandler('editor.outdent')\n      });\n
    \     var indent = this.button({\n        contents: this.ui.icon(this.options.icons.indent),\n
    \       tooltip: this.lang.paragraph.indent + this.representShortcut('indent'),\n
    \       click: this.context.createInvokeHandler('editor.indent')\n      });\n
    \     this.context.memo('button.justifyLeft', func.invoke(justifyLeft, 'render'));\n
    \     this.context.memo('button.justifyCenter', func.invoke(justifyCenter, 'render'));\n
    \     this.context.memo('button.justifyRight', func.invoke(justifyRight, 'render'));\n
    \     this.context.memo('button.justifyFull', func.invoke(justifyFull, 'render'));\n
    \     this.context.memo('button.outdent', func.invoke(outdent, 'render'));\n      this.context.memo('button.indent',
    func.invoke(indent, 'render'));\n      this.context.memo('button.paragraph', function
    () {\n        return _this2.ui.buttonGroup([_this2.button({\n          className:
    'dropdown-toggle',\n          contents: _this2.ui.dropdownButtonContents(_this2.ui.icon(_this2.options.icons.alignLeft),
    _this2.options),\n          tooltip: _this2.lang.paragraph.paragraph,\n          data:
    {\n            toggle: 'dropdown'\n          }\n        }), _this2.ui.dropdown([_this2.ui.buttonGroup({\n
    \         className: 'note-align',\n          children: [justifyLeft, justifyCenter,
    justifyRight, justifyFull]\n        }), _this2.ui.buttonGroup({\n          className:
    'note-list',\n          children: [outdent, indent]\n        })])]).render();\n
    \     });\n      this.context.memo('button.height', function () {\n        return
    _this2.ui.buttonGroup([_this2.button({\n          className: 'dropdown-toggle',\n
    \         contents: _this2.ui.dropdownButtonContents(_this2.ui.icon(_this2.options.icons.textHeight),
    _this2.options),\n          tooltip: _this2.lang.font.height,\n          data:
    {\n            toggle: 'dropdown'\n          }\n        }), _this2.ui.dropdownCheck({\n
    \         items: _this2.options.lineHeights,\n          checkClassName: _this2.options.icons.menuCheck,\n
    \         className: 'dropdown-line-height',\n          title: _this2.lang.font.height,\n
    \         click: _this2.context.createInvokeHandler('editor.lineHeight')\n        })]).render();\n
    \     });\n      this.context.memo('button.table', function () {\n        return
    _this2.ui.buttonGroup([_this2.button({\n          className: 'dropdown-toggle',\n
    \         contents: _this2.ui.dropdownButtonContents(_this2.ui.icon(_this2.options.icons.table),
    _this2.options),\n          tooltip: _this2.lang.table.table,\n          data:
    {\n            toggle: 'dropdown'\n          }\n        }), _this2.ui.dropdown({\n
    \         title: _this2.lang.table.table,\n          className: 'note-table',\n
    \         items: ['<div class=\"note-dimension-picker\">', '<div class=\"note-dimension-picker-mousecatcher\"
    data-event=\"insertTable\" data-value=\"1x1\"></div>', '<div class=\"note-dimension-picker-highlighted\"></div>',
    '<div class=\"note-dimension-picker-unhighlighted\"></div>', '</div>', '<div class=\"note-dimension-display\">1
    x 1</div>'].join('')\n        })], {\n          callback: function callback($node)
    {\n            var $catcher = $node.find('.note-dimension-picker-mousecatcher');\n
    \           $catcher.css({\n              width: _this2.options.insertTableMaxSize.col
    + 'em',\n              height: _this2.options.insertTableMaxSize.row + 'em'\n
    \           }).mousedown(_this2.context.createInvokeHandler('editor.insertTable')).on('mousemove',
    _this2.tableMoveHandler.bind(_this2));\n          }\n        }).render();\n      });\n
    \     this.context.memo('button.link', function () {\n        return _this2.button({\n
    \         contents: _this2.ui.icon(_this2.options.icons.link),\n          tooltip:
    _this2.lang.link.link + _this2.representShortcut('linkDialog.show'),\n          click:
    _this2.context.createInvokeHandler('linkDialog.show')\n        }).render();\n
    \     });\n      this.context.memo('button.picture', function () {\n        return
    _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.picture),\n
    \         tooltip: _this2.lang.image.image,\n          click: _this2.context.createInvokeHandler('imageDialog.show')\n
    \       }).render();\n      });\n      this.context.memo('button.video', function
    () {\n        return _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.video),\n
    \         tooltip: _this2.lang.video.video,\n          click: _this2.context.createInvokeHandler('videoDialog.show')\n
    \       }).render();\n      });\n      this.context.memo('button.hr', function
    () {\n        return _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.minus),\n
    \         tooltip: _this2.lang.hr.insert + _this2.representShortcut('insertHorizontalRule'),\n
    \         click: _this2.context.createInvokeHandler('editor.insertHorizontalRule')\n
    \       }).render();\n      });\n      this.context.memo('button.fullscreen',
    function () {\n        return _this2.button({\n          className: 'btn-fullscreen
    note-codeview-keep',\n          contents: _this2.ui.icon(_this2.options.icons.arrowsAlt),\n
    \         tooltip: _this2.lang.options.fullscreen,\n          click: _this2.context.createInvokeHandler('fullscreen.toggle')\n
    \       }).render();\n      });\n      this.context.memo('button.codeview', function
    () {\n        return _this2.button({\n          className: 'btn-codeview note-codeview-keep',\n
    \         contents: _this2.ui.icon(_this2.options.icons.code),\n          tooltip:
    _this2.lang.options.codeview,\n          click: _this2.context.createInvokeHandler('codeview.toggle')\n
    \       }).render();\n      });\n      this.context.memo('button.redo', function
    () {\n        return _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.redo),\n
    \         tooltip: _this2.lang.history.redo + _this2.representShortcut('redo'),\n
    \         click: _this2.context.createInvokeHandler('editor.redo')\n        }).render();\n
    \     });\n      this.context.memo('button.undo', function () {\n        return
    _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.undo),\n
    \         tooltip: _this2.lang.history.undo + _this2.representShortcut('undo'),\n
    \         click: _this2.context.createInvokeHandler('editor.undo')\n        }).render();\n
    \     });\n      this.context.memo('button.help', function () {\n        return
    _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.question),\n
    \         tooltip: _this2.lang.options.help,\n          click: _this2.context.createInvokeHandler('helpDialog.show')\n
    \       }).render();\n      });\n    }\n    /**\n     * image: [\n     *   ['imageResize',
    ['resizeFull', 'resizeHalf', 'resizeQuarter', 'resizeNone']],\n     *   ['float',
    ['floatLeft', 'floatRight', 'floatNone']],\n     *   ['remove', ['removeMedia']],\n
    \    * ],\n     */\n\n  }, {\n    key: \"addImagePopoverButtons\",\n    value:
    function addImagePopoverButtons() {\n      var _this3 = this;\n\n      // Image
    Size Buttons\n      this.context.memo('button.resizeFull', function () {\n        return
    _this3.button({\n          contents: '<span class=\"note-fontsize-10\">100%</span>',\n
    \         tooltip: _this3.lang.image.resizeFull,\n          click: _this3.context.createInvokeHandler('editor.resize',
    '1')\n        }).render();\n      });\n      this.context.memo('button.resizeHalf',
    function () {\n        return _this3.button({\n          contents: '<span class=\"note-fontsize-10\">50%</span>',\n
    \         tooltip: _this3.lang.image.resizeHalf,\n          click: _this3.context.createInvokeHandler('editor.resize',
    '0.5')\n        }).render();\n      });\n      this.context.memo('button.resizeQuarter',
    function () {\n        return _this3.button({\n          contents: '<span class=\"note-fontsize-10\">25%</span>',\n
    \         tooltip: _this3.lang.image.resizeQuarter,\n          click: _this3.context.createInvokeHandler('editor.resize',
    '0.25')\n        }).render();\n      });\n      this.context.memo('button.resizeNone',
    function () {\n        return _this3.button({\n          contents: _this3.ui.icon(_this3.options.icons.rollback),\n
    \         tooltip: _this3.lang.image.resizeNone,\n          click: _this3.context.createInvokeHandler('editor.resize',
    '0')\n        }).render();\n      }); // Float Buttons\n\n      this.context.memo('button.floatLeft',
    function () {\n        return _this3.button({\n          contents: _this3.ui.icon(_this3.options.icons.floatLeft),\n
    \         tooltip: _this3.lang.image.floatLeft,\n          click: _this3.context.createInvokeHandler('editor.floatMe',
    'left')\n        }).render();\n      });\n      this.context.memo('button.floatRight',
    function () {\n        return _this3.button({\n          contents: _this3.ui.icon(_this3.options.icons.floatRight),\n
    \         tooltip: _this3.lang.image.floatRight,\n          click: _this3.context.createInvokeHandler('editor.floatMe',
    'right')\n        }).render();\n      });\n      this.context.memo('button.floatNone',
    function () {\n        return _this3.button({\n          contents: _this3.ui.icon(_this3.options.icons.rollback),\n
    \         tooltip: _this3.lang.image.floatNone,\n          click: _this3.context.createInvokeHandler('editor.floatMe',
    'none')\n        }).render();\n      }); // Remove Buttons\n\n      this.context.memo('button.removeMedia',
    function () {\n        return _this3.button({\n          contents: _this3.ui.icon(_this3.options.icons.trash),\n
    \         tooltip: _this3.lang.image.remove,\n          click: _this3.context.createInvokeHandler('editor.removeMedia')\n
    \       }).render();\n      });\n    }\n  }, {\n    key: \"addLinkPopoverButtons\",\n
    \   value: function addLinkPopoverButtons() {\n      var _this4 = this;\n\n      this.context.memo('button.linkDialogShow',
    function () {\n        return _this4.button({\n          contents: _this4.ui.icon(_this4.options.icons.link),\n
    \         tooltip: _this4.lang.link.edit,\n          click: _this4.context.createInvokeHandler('linkDialog.show')\n
    \       }).render();\n      });\n      this.context.memo('button.unlink', function
    () {\n        return _this4.button({\n          contents: _this4.ui.icon(_this4.options.icons.unlink),\n
    \         tooltip: _this4.lang.link.unlink,\n          click: _this4.context.createInvokeHandler('editor.unlink')\n
    \       }).render();\n      });\n    }\n    /**\n     * table : [\n     *  ['add',
    ['addRowDown', 'addRowUp', 'addColLeft', 'addColRight']],\n     *  ['delete',
    ['deleteRow', 'deleteCol', 'deleteTable']]\n     * ],\n     */\n\n  }, {\n    key:
    \"addTablePopoverButtons\",\n    value: function addTablePopoverButtons() {\n
    \     var _this5 = this;\n\n      this.context.memo('button.addRowUp', function
    () {\n        return _this5.button({\n          className: 'btn-md',\n          contents:
    _this5.ui.icon(_this5.options.icons.rowAbove),\n          tooltip: _this5.lang.table.addRowAbove,\n
    \         click: _this5.context.createInvokeHandler('editor.addRow', 'top')\n
    \       }).render();\n      });\n      this.context.memo('button.addRowDown',
    function () {\n        return _this5.button({\n          className: 'btn-md',\n
    \         contents: _this5.ui.icon(_this5.options.icons.rowBelow),\n          tooltip:
    _this5.lang.table.addRowBelow,\n          click: _this5.context.createInvokeHandler('editor.addRow',
    'bottom')\n        }).render();\n      });\n      this.context.memo('button.addColLeft',
    function () {\n        return _this5.button({\n          className: 'btn-md',\n
    \         contents: _this5.ui.icon(_this5.options.icons.colBefore),\n          tooltip:
    _this5.lang.table.addColLeft,\n          click: _this5.context.createInvokeHandler('editor.addCol',
    'left')\n        }).render();\n      });\n      this.context.memo('button.addColRight',
    function () {\n        return _this5.button({\n          className: 'btn-md',\n
    \         contents: _this5.ui.icon(_this5.options.icons.colAfter),\n          tooltip:
    _this5.lang.table.addColRight,\n          click: _this5.context.createInvokeHandler('editor.addCol',
    'right')\n        }).render();\n      });\n      this.context.memo('button.deleteRow',
    function () {\n        return _this5.button({\n          className: 'btn-md',\n
    \         contents: _this5.ui.icon(_this5.options.icons.rowRemove),\n          tooltip:
    _this5.lang.table.delRow,\n          click: _this5.context.createInvokeHandler('editor.deleteRow')\n
    \       }).render();\n      });\n      this.context.memo('button.deleteCol', function
    () {\n        return _this5.button({\n          className: 'btn-md',\n          contents:
    _this5.ui.icon(_this5.options.icons.colRemove),\n          tooltip: _this5.lang.table.delCol,\n
    \         click: _this5.context.createInvokeHandler('editor.deleteCol')\n        }).render();\n
    \     });\n      this.context.memo('button.deleteTable', function () {\n        return
    _this5.button({\n          className: 'btn-md',\n          contents: _this5.ui.icon(_this5.options.icons.trash),\n
    \         tooltip: _this5.lang.table.delTable,\n          click: _this5.context.createInvokeHandler('editor.deleteTable')\n
    \       }).render();\n      });\n    }\n  }, {\n    key: \"build\",\n    value:
    function build($container, groups) {\n      for (var groupIdx = 0, groupLen =
    groups.length; groupIdx < groupLen; groupIdx++) {\n        var group = groups[groupIdx];\n
    \       var groupName = Array.isArray(group) ? group[0] : group;\n        var
    buttons = Array.isArray(group) ? group.length === 1 ? [group[0]] : group[1] :
    [group];\n        var $group = this.ui.buttonGroup({\n          className: 'note-'
    + groupName\n        }).render();\n\n        for (var idx = 0, len = buttons.length;
    idx < len; idx++) {\n          var btn = this.context.memo('button.' + buttons[idx]);\n\n
    \         if (btn) {\n            $group.append(typeof btn === 'function' ? btn(this.context)
    : btn);\n          }\n        }\n\n        $group.appendTo($container);\n      }\n
    \   }\n    /**\n     * @param {jQuery} [$container]\n     */\n\n  }, {\n    key:
    \"updateCurrentStyle\",\n    value: function updateCurrentStyle($container) {\n
    \     var _this6 = this;\n\n      var $cont = $container || this.$toolbar;\n      var
    styleInfo = this.context.invoke('editor.currentStyle');\n      this.updateBtnStates($cont,
    {\n        '.note-btn-bold': function noteBtnBold() {\n          return styleInfo['font-bold']
    === 'bold';\n        },\n        '.note-btn-italic': function noteBtnItalic()
    {\n          return styleInfo['font-italic'] === 'italic';\n        },\n        '.note-btn-underline':
    function noteBtnUnderline() {\n          return styleInfo['font-underline'] ===
    'underline';\n        },\n        '.note-btn-subscript': function noteBtnSubscript()
    {\n          return styleInfo['font-subscript'] === 'subscript';\n        },\n
    \       '.note-btn-superscript': function noteBtnSuperscript() {\n          return
    styleInfo['font-superscript'] === 'superscript';\n        },\n        '.note-btn-strikethrough':
    function noteBtnStrikethrough() {\n          return styleInfo['font-strikethrough']
    === 'strikethrough';\n        }\n      });\n\n      if (styleInfo['font-family'])
    {\n        var fontNames = styleInfo['font-family'].split(',').map(function (name)
    {\n          return name.replace(/[\\'\\\"]/g, '').replace(/\\s+$/, '').replace(/^\\s+/,
    '');\n        });\n        var fontName = lists.find(fontNames, this.isFontInstalled.bind(this));\n
    \       $cont.find('.dropdown-fontname a').each(function (idx, item) {\n          var
    $item = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);
    // always compare string to avoid creating another func.\n\n          var isChecked
    = $item.data('value') + '' === fontName + '';\n          $item.toggleClass('checked',
    isChecked);\n        });\n        $cont.find('.note-current-fontname').text(fontName).css('font-family',
    fontName);\n      }\n\n      if (styleInfo['font-size']) {\n        var fontSize
    = styleInfo['font-size'];\n        $cont.find('.dropdown-fontsize a').each(function
    (idx, item) {\n          var $item = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);
    // always compare with string to avoid creating another func.\n\n          var
    isChecked = $item.data('value') + '' === fontSize + '';\n          $item.toggleClass('checked',
    isChecked);\n        });\n        $cont.find('.note-current-fontsize').text(fontSize);\n
    \       var fontSizeUnit = styleInfo['font-size-unit'];\n        $cont.find('.dropdown-fontsizeunit
    a').each(function (idx, item) {\n          var $item = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);\n
    \         var isChecked = $item.data('value') + '' === fontSizeUnit + '';\n          $item.toggleClass('checked',
    isChecked);\n        });\n        $cont.find('.note-current-fontsizeunit').text(fontSizeUnit);\n
    \     }\n\n      if (styleInfo['line-height']) {\n        var lineHeight = styleInfo['line-height'];\n
    \       $cont.find('.dropdown-line-height li a').each(function (idx, item) {\n
    \         // always compare with string to avoid creating another func.\n          var
    isChecked = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item).data('value')
    + '' === lineHeight + '';\n          _this6.className = isChecked ? 'checked'
    : '';\n        });\n      }\n    }\n  }, {\n    key: \"updateBtnStates\",\n    value:
    function updateBtnStates($container, infos) {\n      var _this7 = this;\n\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(infos,
    function (selector, pred) {\n        _this7.ui.toggleBtnActive($container.find(selector),
    pred());\n      });\n    }\n  }, {\n    key: \"tableMoveHandler\",\n    value:
    function tableMoveHandler(event) {\n      var PX_PER_EM = 18;\n      var $picker
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target.parentNode);
    // target is mousecatcher\n\n      var $dimensionDisplay = $picker.next();\n      var
    $catcher = $picker.find('.note-dimension-picker-mousecatcher');\n      var $highlighted
    = $picker.find('.note-dimension-picker-highlighted');\n      var $unhighlighted
    = $picker.find('.note-dimension-picker-unhighlighted');\n      var posOffset;
    // HTML5 with jQuery - e.offsetX is undefined in Firefox\n\n      if (event.offsetX
    === undefined) {\n        var posCatcher = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target).offset();\n
    \       posOffset = {\n          x: event.pageX - posCatcher.left,\n          y:
    event.pageY - posCatcher.top\n        };\n      } else {\n        posOffset =
    {\n          x: event.offsetX,\n          y: event.offsetY\n        };\n      }\n\n
    \     var dim = {\n        c: Math.ceil(posOffset.x / PX_PER_EM) || 1,\n        r:
    Math.ceil(posOffset.y / PX_PER_EM) || 1\n      };\n      $highlighted.css({\n
    \       width: dim.c + 'em',\n        height: dim.r + 'em'\n      });\n      $catcher.data('value',
    dim.c + 'x' + dim.r);\n\n      if (dim.c > 3 && dim.c < this.options.insertTableMaxSize.col)
    {\n        $unhighlighted.css({\n          width: dim.c + 1 + 'em'\n        });\n
    \     }\n\n      if (dim.r > 3 && dim.r < this.options.insertTableMaxSize.row)
    {\n        $unhighlighted.css({\n          height: dim.r + 1 + 'em'\n        });\n
    \     }\n\n      $dimensionDisplay.html(dim.c + ' x ' + dim.r);\n    }\n  }]);\n\n
    \ return Buttons;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Toolbar.js\nfunction
    Toolbar_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Toolbar_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Toolbar_createClass(Constructor, protoProps, staticProps) { if (protoProps) Toolbar_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Toolbar_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\nvar Toolbar_Toolbar = /*#__PURE__*/function () {\n
    \ function Toolbar(context) {\n    Toolbar_classCallCheck(this, Toolbar);\n\n
    \   this.context = context;\n    this.$window = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(window);\n
    \   this.$document = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);\n
    \   this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.$note = context.layoutInfo.note;\n    this.$editor = context.layoutInfo.editor;\n
    \   this.$toolbar = context.layoutInfo.toolbar;\n    this.$editable = context.layoutInfo.editable;\n
    \   this.$statusbar = context.layoutInfo.statusbar;\n    this.options = context.options;\n
    \   this.isFollowing = false;\n    this.followScroll = this.followScroll.bind(this);\n
    \ }\n\n  Toolbar_createClass(Toolbar, [{\n    key: \"shouldInitialize\",\n    value:
    function shouldInitialize() {\n      return !this.options.airMode;\n    }\n  },
    {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this
    = this;\n\n      this.options.toolbar = this.options.toolbar || [];\n\n      if
    (!this.options.toolbar.length) {\n        this.$toolbar.hide();\n      } else
    {\n        this.context.invoke('buttons.build', this.$toolbar, this.options.toolbar);\n
    \     }\n\n      if (this.options.toolbarContainer) {\n        this.$toolbar.appendTo(this.options.toolbarContainer);\n
    \     }\n\n      this.changeContainer(false);\n      this.$note.on('summernote.keyup
    summernote.mouseup summernote.change', function () {\n        _this.context.invoke('buttons.updateCurrentStyle');\n
    \     });\n      this.context.invoke('buttons.updateCurrentStyle');\n\n      if
    (this.options.followingToolbar) {\n        this.$window.on('scroll resize', this.followScroll);\n
    \     }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n
    \     this.$toolbar.children().remove();\n\n      if (this.options.followingToolbar)
    {\n        this.$window.off('scroll resize', this.followScroll);\n      }\n    }\n
    \ }, {\n    key: \"followScroll\",\n    value: function followScroll() {\n      if
    (this.$editor.hasClass('fullscreen')) {\n        return false;\n      }\n\n      var
    editorHeight = this.$editor.outerHeight();\n      var editorWidth = this.$editor.width();\n
    \     var toolbarHeight = this.$toolbar.height();\n      var statusbarHeight =
    this.$statusbar.height(); // check if the web app is currently using another static
    bar\n\n      var otherBarHeight = 0;\n\n      if (this.options.otherStaticBar)
    {\n        otherBarHeight = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.otherStaticBar).outerHeight();\n
    \     }\n\n      var currentOffset = this.$document.scrollTop();\n      var editorOffsetTop
    = this.$editor.offset().top;\n      var editorOffsetBottom = editorOffsetTop +
    editorHeight;\n      var activateOffset = editorOffsetTop - otherBarHeight;\n
    \     var deactivateOffsetBottom = editorOffsetBottom - otherBarHeight - toolbarHeight
    - statusbarHeight;\n\n      if (!this.isFollowing && currentOffset > activateOffset
    && currentOffset < deactivateOffsetBottom - toolbarHeight) {\n        this.isFollowing
    = true;\n        this.$editable.css({\n          marginTop: this.$toolbar.outerHeight()\n
    \       });\n        this.$toolbar.css({\n          position: 'fixed',\n          top:
    otherBarHeight,\n          width: editorWidth,\n          zIndex: 1000\n        });\n
    \     } else if (this.isFollowing && (currentOffset < activateOffset || currentOffset
    > deactivateOffsetBottom)) {\n        this.isFollowing = false;\n        this.$toolbar.css({\n
    \         position: 'relative',\n          top: 0,\n          width: '100%',\n
    \         zIndex: 'auto'\n        });\n        this.$editable.css({\n          marginTop:
    ''\n        });\n      }\n    }\n  }, {\n    key: \"changeContainer\",\n    value:
    function changeContainer(isFullscreen) {\n      if (isFullscreen) {\n        this.$toolbar.prependTo(this.$editor);\n
    \     } else {\n        if (this.options.toolbarContainer) {\n          this.$toolbar.appendTo(this.options.toolbarContainer);\n
    \       }\n      }\n\n      if (this.options.followingToolbar) {\n        this.followScroll();\n
    \     }\n    }\n  }, {\n    key: \"updateFullscreen\",\n    value: function updateFullscreen(isFullscreen)
    {\n      this.ui.toggleBtnActive(this.$toolbar.find('.btn-fullscreen'), isFullscreen);\n
    \     this.changeContainer(isFullscreen);\n    }\n  }, {\n    key: \"updateCodeview\",\n
    \   value: function updateCodeview(isCodeview) {\n      this.ui.toggleBtnActive(this.$toolbar.find('.btn-codeview'),
    isCodeview);\n\n      if (isCodeview) {\n        this.deactivate();\n      } else
    {\n        this.activate();\n      }\n    }\n  }, {\n    key: \"activate\",\n
    \   value: function activate(isIncludeCodeview) {\n      var $btn = this.$toolbar.find('button');\n\n
    \     if (!isIncludeCodeview) {\n        $btn = $btn.not('.note-codeview-keep');\n
    \     }\n\n      this.ui.toggleBtn($btn, true);\n    }\n  }, {\n    key: \"deactivate\",\n
    \   value: function deactivate(isIncludeCodeview) {\n      var $btn = this.$toolbar.find('button');\n\n
    \     if (!isIncludeCodeview) {\n        $btn = $btn.not('.note-codeview-keep');\n
    \     }\n\n      this.ui.toggleBtn($btn, false);\n    }\n  }]);\n\n  return Toolbar;\n}();\n\n\n//
    CONCATENATED MODULE: ./src/js/base/module/LinkDialog.js\nfunction LinkDialog_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction LinkDialog_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction LinkDialog_createClass(Constructor, protoProps, staticProps)
    { if (protoProps) LinkDialog_defineProperties(Constructor.prototype, protoProps);
    if (staticProps) LinkDialog_defineProperties(Constructor, staticProps); return
    Constructor; }\n\n\n\n\n\n\nvar LinkDialog_LinkDialog = /*#__PURE__*/function
    () {\n  function LinkDialog(context) {\n    LinkDialog_classCallCheck(this, LinkDialog);\n\n
    \   this.context = context;\n    this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.$body = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document.body);\n
    \   this.$editor = context.layoutInfo.editor;\n    this.options = context.options;\n
    \   this.lang = this.options.langInfo;\n    context.memo('help.linkDialog.show',
    this.options.langInfo.help['linkDialog.show']);\n  }\n\n  LinkDialog_createClass(LinkDialog,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      var $container
    = this.options.dialogsInBody ? this.$body : this.options.container;\n      var
    body = ['<div class=\"form-group note-form-group\">', \"<label for=\\\"note-dialog-link-txt-\".concat(this.options.id,
    \"\\\" class=\\\"note-form-label\\\">\").concat(this.lang.link.textToDisplay,
    \"</label>\"), \"<input id=\\\"note-dialog-link-txt-\".concat(this.options.id,
    \"\\\" class=\\\"note-link-text form-control note-form-control note-input\\\"
    type=\\\"text\\\"/>\"), '</div>', '<div class=\"form-group note-form-group\">',
    \"<label for=\\\"note-dialog-link-url-\".concat(this.options.id, \"\\\" class=\\\"note-form-label\\\">\").concat(this.lang.link.url,
    \"</label>\"), \"<input id=\\\"note-dialog-link-url-\".concat(this.options.id,
    \"\\\" class=\\\"note-link-url form-control note-form-control note-input\\\" type=\\\"text\\\"
    value=\\\"http://\\\"/>\"), '</div>', !this.options.disableLinkTarget ? external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div/>').append(this.ui.checkbox({\n
    \       className: 'sn-checkbox-open-in-new-window',\n        text: this.lang.link.openInNewWindow,\n
    \       checked: true\n      }).render()).html() : '', external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div/>').append(this.ui.checkbox({\n
    \       className: 'sn-checkbox-use-protocol',\n        text: this.lang.link.useProtocol,\n
    \       checked: true\n      }).render()).html()].join('');\n      var buttonClass
    = 'btn btn-primary note-btn note-btn-primary note-link-btn';\n      var footer
    = \"<input type=\\\"button\\\" href=\\\"#\\\" class=\\\"\".concat(buttonClass,
    \"\\\" value=\\\"\").concat(this.lang.link.insert, \"\\\" disabled>\");\n      this.$dialog
    = this.ui.dialog({\n        className: 'link-dialog',\n        title: this.lang.link.insert,\n
    \       fade: this.options.dialogsFade,\n        body: body,\n        footer:
    footer\n      }).render().appendTo($container);\n    }\n  }, {\n    key: \"destroy\",\n
    \   value: function destroy() {\n      this.ui.hideDialog(this.$dialog);\n      this.$dialog.remove();\n
    \   }\n  }, {\n    key: \"bindEnterKey\",\n    value: function bindEnterKey($input,
    $btn) {\n      $input.on('keypress', function (event) {\n        if (event.keyCode
    === core_key.code.ENTER) {\n          event.preventDefault();\n          $btn.trigger('click');\n
    \       }\n      });\n    }\n    /**\n     * toggle update button\n     */\n\n
    \ }, {\n    key: \"toggleLinkBtn\",\n    value: function toggleLinkBtn($linkBtn,
    $linkText, $linkUrl) {\n      this.ui.toggleBtn($linkBtn, $linkText.val() && $linkUrl.val());\n
    \   }\n    /**\n     * Show link dialog and set event handlers on dialog controls.\n
    \    *\n     * @param {Object} linkInfo\n     * @return {Promise}\n     */\n\n
    \ }, {\n    key: \"showLinkDialog\",\n    value: function showLinkDialog(linkInfo)
    {\n      var _this = this;\n\n      return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function
    (deferred) {\n        var $linkText = _this.$dialog.find('.note-link-text');\n\n
    \       var $linkUrl = _this.$dialog.find('.note-link-url');\n\n        var $linkBtn
    = _this.$dialog.find('.note-link-btn');\n\n        var $openInNewWindow = _this.$dialog.find('.sn-checkbox-open-in-new-window
    input[type=checkbox]');\n\n        var $useProtocol = _this.$dialog.find('.sn-checkbox-use-protocol
    input[type=checkbox]');\n\n        _this.ui.onDialogShown(_this.$dialog, function
    () {\n          _this.context.triggerEvent('dialog.shown'); // If no url was given
    and given text is valid URL then copy that into URL Field\n\n\n          if (!linkInfo.url
    && func.isValidUrl(linkInfo.text)) {\n            linkInfo.url = linkInfo.text;\n
    \         }\n\n          $linkText.on('input paste propertychange', function ()
    {\n            // If linktext was modified by input events,\n            // cloning
    text from linkUrl will be stopped.\n            linkInfo.text = $linkText.val();\n\n
    \           _this.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n          }).val(linkInfo.text);\n
    \         $linkUrl.on('input paste propertychange', function () {\n            //
    Display same text on `Text to display` as default\n            // when linktext
    has no text\n            if (!linkInfo.text) {\n              $linkText.val($linkUrl.val());\n
    \           }\n\n            _this.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n
    \         }).val(linkInfo.url);\n\n          if (!env.isSupportTouch) {\n            $linkUrl.trigger('focus');\n
    \         }\n\n          _this.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n\n
    \         _this.bindEnterKey($linkUrl, $linkBtn);\n\n          _this.bindEnterKey($linkText,
    $linkBtn);\n\n          var isNewWindowChecked = linkInfo.isNewWindow !== undefined
    ? linkInfo.isNewWindow : _this.context.options.linkTargetBlank;\n          $openInNewWindow.prop('checked',
    isNewWindowChecked);\n          var useProtocolChecked = linkInfo.url ? false
    : _this.context.options.useProtocol;\n          $useProtocol.prop('checked', useProtocolChecked);\n
    \         $linkBtn.one('click', function (event) {\n            event.preventDefault();\n
    \           deferred.resolve({\n              range: linkInfo.range,\n              url:
    $linkUrl.val(),\n              text: $linkText.val(),\n              isNewWindow:
    $openInNewWindow.is(':checked'),\n              checkProtocol: $useProtocol.is(':checked')\n
    \           });\n\n            _this.ui.hideDialog(_this.$dialog);\n          });\n
    \       });\n\n        _this.ui.onDialogHidden(_this.$dialog, function () {\n
    \         // detach events\n          $linkText.off();\n          $linkUrl.off();\n
    \         $linkBtn.off();\n\n          if (deferred.state() === 'pending') {\n
    \           deferred.reject();\n          }\n        });\n\n        _this.ui.showDialog(_this.$dialog);\n
    \     }).promise();\n    }\n    /**\n     * @param {Object} layoutInfo\n     */\n\n
    \ }, {\n    key: \"show\",\n    value: function show() {\n      var _this2 = this;\n\n
    \     var linkInfo = this.context.invoke('editor.getLinkInfo');\n      this.context.invoke('editor.saveRange');\n
    \     this.showLinkDialog(linkInfo).then(function (linkInfo) {\n        _this2.context.invoke('editor.restoreRange');\n\n
    \       _this2.context.invoke('editor.createLink', linkInfo);\n      }).fail(function
    () {\n        _this2.context.invoke('editor.restoreRange');\n      });\n    }\n
    \ }]);\n\n  return LinkDialog;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/LinkPopover.js\nfunction
    LinkPopover_classCallCheck(instance, Constructor) { if (!(instance instanceof
    Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); }
    }\n\nfunction LinkPopover_defineProperties(target, props) { for (var i = 0; i
    < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    LinkPopover_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    LinkPopover_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    LinkPopover_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar
    LinkPopover_LinkPopover = /*#__PURE__*/function () {\n  function LinkPopover(context)
    {\n    var _this = this;\n\n    LinkPopover_classCallCheck(this, LinkPopover);\n\n
    \   this.context = context;\n    this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.options = context.options;\n    this.events = {\n      'summernote.keyup
    summernote.mouseup summernote.change summernote.scroll': function summernoteKeyupSummernoteMouseupSummernoteChangeSummernoteScroll()
    {\n        _this.update();\n      },\n      'summernote.disable summernote.dialog.shown
    summernote.blur': function summernoteDisableSummernoteDialogShownSummernoteBlur()
    {\n        _this.hide();\n      }\n    };\n  }\n\n  LinkPopover_createClass(LinkPopover,
    [{\n    key: \"shouldInitialize\",\n    value: function shouldInitialize() {\n
    \     return !lists.isEmpty(this.options.popover.link);\n    }\n  }, {\n    key:
    \"initialize\",\n    value: function initialize() {\n      this.$popover = this.ui.popover({\n
    \       className: 'note-link-popover',\n        callback: function callback($node)
    {\n          var $content = $node.find('.popover-content,.note-popover-content');\n
    \         $content.prepend('<span><a target=\"_blank\"></a>&nbsp;</span>');\n
    \       }\n      }).render().appendTo(this.options.container);\n      var $content
    = this.$popover.find('.popover-content,.note-popover-content');\n      this.context.invoke('buttons.build',
    $content, this.options.popover.link);\n      this.$popover.on('mousedown', function
    (e) {\n        e.preventDefault();\n      });\n    }\n  }, {\n    key: \"destroy\",\n
    \   value: function destroy() {\n      this.$popover.remove();\n    }\n  }, {\n
    \   key: \"update\",\n    value: function update() {\n      // Prevent focusing
    on editable when invoke('code') is executed\n      if (!this.context.invoke('editor.hasFocus'))
    {\n        this.hide();\n        return;\n      }\n\n      var rng = this.context.invoke('editor.getLastRange');\n\n
    \     if (rng.isCollapsed() && rng.isOnAnchor()) {\n        var anchor = dom.ancestor(rng.sc,
    dom.isAnchor);\n        var href = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(anchor).attr('href');\n
    \       this.$popover.find('a').attr('href', href).text(href);\n        var pos
    = dom.posFromPlaceholder(anchor);\n        var containerOffset = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();\n
    \       pos.top -= containerOffset.top;\n        pos.left -= containerOffset.left;\n
    \       this.$popover.css({\n          display: 'block',\n          left: pos.left,\n
    \         top: pos.top\n        });\n      } else {\n        this.hide();\n      }\n
    \   }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.$popover.hide();\n
    \   }\n  }]);\n\n  return LinkPopover;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/ImageDialog.js\nfunction
    ImageDialog_classCallCheck(instance, Constructor) { if (!(instance instanceof
    Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); }
    }\n\nfunction ImageDialog_defineProperties(target, props) { for (var i = 0; i
    < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    ImageDialog_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    ImageDialog_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    ImageDialog_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar
    ImageDialog_ImageDialog = /*#__PURE__*/function () {\n  function ImageDialog(context)
    {\n    ImageDialog_classCallCheck(this, ImageDialog);\n\n    this.context = context;\n
    \   this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.$body = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document.body);\n
    \   this.$editor = context.layoutInfo.editor;\n    this.options = context.options;\n
    \   this.lang = this.options.langInfo;\n  }\n\n  ImageDialog_createClass(ImageDialog,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      var imageLimitation
    = '';\n\n      if (this.options.maximumImageFileSize) {\n        var unit = Math.floor(Math.log(this.options.maximumImageFileSize)
    / Math.log(1024));\n        var readableSize = (this.options.maximumImageFileSize
    / Math.pow(1024, unit)).toFixed(2) * 1 + ' ' + ' KMGTP'[unit] + 'B';\n        imageLimitation
    = \"<small>\".concat(this.lang.image.maximumFileSize + ' : ' + readableSize, \"</small>\");\n
    \     }\n\n      var $container = this.options.dialogsInBody ? this.$body : this.options.container;\n
    \     var body = ['<div class=\"form-group note-form-group note-group-select-from-files\">',
    '<label for=\"note-dialog-image-file-' + this.options.id + '\" class=\"note-form-label\">'
    + this.lang.image.selectFromFiles + '</label>', '<input id=\"note-dialog-image-file-'
    + this.options.id + '\" class=\"note-image-input form-control-file note-form-control
    note-input\" ', ' type=\"file\" name=\"files\" accept=\"image/*\" multiple=\"multiple\"/>',
    imageLimitation, '</div>', '<div class=\"form-group note-group-image-url\">',
    '<label for=\"note-dialog-image-url-' + this.options.id + '\" class=\"note-form-label\">'
    + this.lang.image.url + '</label>', '<input id=\"note-dialog-image-url-' + this.options.id
    + '\" class=\"note-image-url form-control note-form-control note-input\" type=\"text\"/>',
    '</div>'].join('');\n      var buttonClass = 'btn btn-primary note-btn note-btn-primary
    note-image-btn';\n      var footer = \"<input type=\\\"button\\\" href=\\\"#\\\"
    class=\\\"\".concat(buttonClass, \"\\\" value=\\\"\").concat(this.lang.image.insert,
    \"\\\" disabled>\");\n      this.$dialog = this.ui.dialog({\n        title: this.lang.image.insert,\n
    \       fade: this.options.dialogsFade,\n        body: body,\n        footer:
    footer\n      }).render().appendTo($container);\n    }\n  }, {\n    key: \"destroy\",\n
    \   value: function destroy() {\n      this.ui.hideDialog(this.$dialog);\n      this.$dialog.remove();\n
    \   }\n  }, {\n    key: \"bindEnterKey\",\n    value: function bindEnterKey($input,
    $btn) {\n      $input.on('keypress', function (event) {\n        if (event.keyCode
    === core_key.code.ENTER) {\n          event.preventDefault();\n          $btn.trigger('click');\n
    \       }\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show()
    {\n      var _this = this;\n\n      this.context.invoke('editor.saveRange');\n
    \     this.showImageDialog().then(function (data) {\n        // [workaround] hide
    dialog before restore range for IE range focus\n        _this.ui.hideDialog(_this.$dialog);\n\n
    \       _this.context.invoke('editor.restoreRange');\n\n        if (typeof data
    === 'string') {\n          // image url\n          // If onImageLinkInsert set,\n
    \         if (_this.options.callbacks.onImageLinkInsert) {\n            _this.context.triggerEvent('image.link.insert',
    data);\n          } else {\n            _this.context.invoke('editor.insertImage',
    data);\n          }\n        } else {\n          // array of files\n          _this.context.invoke('editor.insertImagesOrCallback',
    data);\n        }\n      }).fail(function () {\n        _this.context.invoke('editor.restoreRange');\n
    \     });\n    }\n    /**\n     * show image dialog\n     *\n     * @param {jQuery}
    $dialog\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"showImageDialog\",\n
    \   value: function showImageDialog() {\n      var _this2 = this;\n\n      return
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function
    (deferred) {\n        var $imageInput = _this2.$dialog.find('.note-image-input');\n\n
    \       var $imageUrl = _this2.$dialog.find('.note-image-url');\n\n        var
    $imageBtn = _this2.$dialog.find('.note-image-btn');\n\n        _this2.ui.onDialogShown(_this2.$dialog,
    function () {\n          _this2.context.triggerEvent('dialog.shown'); // Cloning
    imageInput to clear element.\n\n\n          $imageInput.replaceWith($imageInput.clone().on('change',
    function (event) {\n            deferred.resolve(event.target.files || event.target.value);\n
    \         }).val(''));\n          $imageUrl.on('input paste propertychange', function
    () {\n            _this2.ui.toggleBtn($imageBtn, $imageUrl.val());\n          }).val('');\n\n
    \         if (!env.isSupportTouch) {\n            $imageUrl.trigger('focus');\n
    \         }\n\n          $imageBtn.click(function (event) {\n            event.preventDefault();\n
    \           deferred.resolve($imageUrl.val());\n          });\n\n          _this2.bindEnterKey($imageUrl,
    $imageBtn);\n        });\n\n        _this2.ui.onDialogHidden(_this2.$dialog, function
    () {\n          $imageInput.off();\n          $imageUrl.off();\n          $imageBtn.off();\n\n
    \         if (deferred.state() === 'pending') {\n            deferred.reject();\n
    \         }\n        });\n\n        _this2.ui.showDialog(_this2.$dialog);\n      });\n
    \   }\n  }]);\n\n  return ImageDialog;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/ImagePopover.js\nfunction
    ImagePopover_classCallCheck(instance, Constructor) { if (!(instance instanceof
    Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); }
    }\n\nfunction ImagePopover_defineProperties(target, props) { for (var i = 0; i
    < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    ImagePopover_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    ImagePopover_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    ImagePopover_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n/**\n
    * Image popover module\n *  mouse events that show/hide popover will be handled
    by Handle.js.\n *  Handle.js will receive the events and invoke 'imagePopover.update'.\n
    */\n\nvar ImagePopover_ImagePopover = /*#__PURE__*/function () {\n  function ImagePopover(context)
    {\n    var _this = this;\n\n    ImagePopover_classCallCheck(this, ImagePopover);\n\n
    \   this.context = context;\n    this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.editable = context.layoutInfo.editable[0];\n    this.options = context.options;\n
    \   this.events = {\n      'summernote.disable summernote.blur': function summernoteDisableSummernoteBlur()
    {\n        _this.hide();\n      }\n    };\n  }\n\n  ImagePopover_createClass(ImagePopover,
    [{\n    key: \"shouldInitialize\",\n    value: function shouldInitialize() {\n
    \     return !lists.isEmpty(this.options.popover.image);\n    }\n  }, {\n    key:
    \"initialize\",\n    value: function initialize() {\n      this.$popover = this.ui.popover({\n
    \       className: 'note-image-popover'\n      }).render().appendTo(this.options.container);\n
    \     var $content = this.$popover.find('.popover-content,.note-popover-content');\n
    \     this.context.invoke('buttons.build', $content, this.options.popover.image);\n
    \     this.$popover.on('mousedown', function (e) {\n        e.preventDefault();\n
    \     });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy()
    {\n      this.$popover.remove();\n    }\n  }, {\n    key: \"update\",\n    value:
    function update(target, event) {\n      if (dom.isImg(target)) {\n        var
    position = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(target).offset();\n
    \       var containerOffset = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();\n
    \       var pos = {};\n\n        if (this.options.popatmouse) {\n          pos.left
    = event.pageX - 20;\n          pos.top = event.pageY;\n        } else {\n          pos
    = position;\n        }\n\n        pos.top -= containerOffset.top;\n        pos.left
    -= containerOffset.left;\n        this.$popover.css({\n          display: 'block',\n
    \         left: pos.left,\n          top: pos.top\n        });\n      } else {\n
    \       this.hide();\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function
    hide() {\n      this.$popover.hide();\n    }\n  }]);\n\n  return ImagePopover;\n}();\n\n\n//
    CONCATENATED MODULE: ./src/js/base/module/TablePopover.js\nfunction TablePopover_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction TablePopover_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction TablePopover_createClass(Constructor, protoProps,
    staticProps) { if (protoProps) TablePopover_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) TablePopover_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n\nvar TablePopover_TablePopover = /*#__PURE__*/function
    () {\n  function TablePopover(context) {\n    var _this = this;\n\n    TablePopover_classCallCheck(this,
    TablePopover);\n\n    this.context = context;\n    this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.options = context.options;\n    this.events = {\n      'summernote.mousedown':
    function summernoteMousedown(we, e) {\n        _this.update(e.target);\n      },\n
    \     'summernote.keyup summernote.scroll summernote.change': function summernoteKeyupSummernoteScrollSummernoteChange()
    {\n        _this.update();\n      },\n      'summernote.disable summernote.blur':
    function summernoteDisableSummernoteBlur() {\n        _this.hide();\n      }\n
    \   };\n  }\n\n  TablePopover_createClass(TablePopover, [{\n    key: \"shouldInitialize\",\n
    \   value: function shouldInitialize() {\n      return !lists.isEmpty(this.options.popover.table);\n
    \   }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n
    \     this.$popover = this.ui.popover({\n        className: 'note-table-popover'\n
    \     }).render().appendTo(this.options.container);\n      var $content = this.$popover.find('.popover-content,.note-popover-content');\n
    \     this.context.invoke('buttons.build', $content, this.options.popover.table);
    // [workaround] Disable Firefox's default table editor\n\n      if (env.isFF)
    {\n        document.execCommand('enableInlineTableEditing', false, false);\n      }\n\n
    \     this.$popover.on('mousedown', function (e) {\n        e.preventDefault();\n
    \     });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy()
    {\n      this.$popover.remove();\n    }\n  }, {\n    key: \"update\",\n    value:
    function update(target) {\n      if (this.context.isDisabled()) {\n        return
    false;\n      }\n\n      var isCell = dom.isCell(target);\n\n      if (isCell)
    {\n        var pos = dom.posFromPlaceholder(target);\n        var containerOffset
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();\n
    \       pos.top -= containerOffset.top;\n        pos.left -= containerOffset.left;\n
    \       this.$popover.css({\n          display: 'block',\n          left: pos.left,\n
    \         top: pos.top\n        });\n      } else {\n        this.hide();\n      }\n\n
    \     return isCell;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide()
    {\n      this.$popover.hide();\n    }\n  }]);\n\n  return TablePopover;\n}();\n\n\n//
    CONCATENATED MODULE: ./src/js/base/module/VideoDialog.js\nfunction VideoDialog_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction VideoDialog_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction VideoDialog_createClass(Constructor, protoProps,
    staticProps) { if (protoProps) VideoDialog_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) VideoDialog_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\nvar VideoDialog_VideoDialog = /*#__PURE__*/function
    () {\n  function VideoDialog(context) {\n    VideoDialog_classCallCheck(this,
    VideoDialog);\n\n    this.context = context;\n    this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.$body = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document.body);\n
    \   this.$editor = context.layoutInfo.editor;\n    this.options = context.options;\n
    \   this.lang = this.options.langInfo;\n  }\n\n  VideoDialog_createClass(VideoDialog,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      var $container
    = this.options.dialogsInBody ? this.$body : this.options.container;\n      var
    body = ['<div class=\"form-group note-form-group row-fluid\">', \"<label for=\\\"note-dialog-video-url-\".concat(this.options.id,
    \"\\\" class=\\\"note-form-label\\\">\").concat(this.lang.video.url, \" <small
    class=\\\"text-muted\\\">\").concat(this.lang.video.providers, \"</small></label>\"),
    \"<input id=\\\"note-dialog-video-url-\".concat(this.options.id, \"\\\" class=\\\"note-video-url
    form-control note-form-control note-input\\\" type=\\\"text\\\"/>\"), '</div>'].join('');\n
    \     var buttonClass = 'btn btn-primary note-btn note-btn-primary note-video-btn';\n
    \     var footer = \"<input type=\\\"button\\\" href=\\\"#\\\" class=\\\"\".concat(buttonClass,
    \"\\\" value=\\\"\").concat(this.lang.video.insert, \"\\\" disabled>\");\n      this.$dialog
    = this.ui.dialog({\n        title: this.lang.video.insert,\n        fade: this.options.dialogsFade,\n
    \       body: body,\n        footer: footer\n      }).render().appendTo($container);\n
    \   }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.ui.hideDialog(this.$dialog);\n
    \     this.$dialog.remove();\n    }\n  }, {\n    key: \"bindEnterKey\",\n    value:
    function bindEnterKey($input, $btn) {\n      $input.on('keypress', function (event)
    {\n        if (event.keyCode === core_key.code.ENTER) {\n          event.preventDefault();\n
    \         $btn.trigger('click');\n        }\n      });\n    }\n  }, {\n    key:
    \"createVideoNode\",\n    value: function createVideoNode(url) {\n      // video
    url patterns(youtube, instagram, vimeo, dailymotion, youku, mp4, ogg, webm)\n
    \     var ytRegExp = /\\/\\/(?:(?:www|m)\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))([\\w|-]{11})(?:(?:[\\?&]t=)(\\S+))?$/;\n
    \     var ytRegExpForStart = /^(?:(\\d+)h)?(?:(\\d+)m)?(?:(\\d+)s)?$/;\n      var
    ytMatch = url.match(ytRegExp);\n      var igRegExp = /(?:www\\.|\\/\\/)instagram\\.com\\/p\\/(.[a-zA-Z0-9_-]*)/;\n
    \     var igMatch = url.match(igRegExp);\n      var vRegExp = /\\/\\/vine\\.co\\/v\\/([a-zA-Z0-9]+)/;\n
    \     var vMatch = url.match(vRegExp);\n      var vimRegExp = /\\/\\/(player\\.)?vimeo\\.com\\/([a-z]*\\/)*(\\d+)[?]?.*/;\n
    \     var vimMatch = url.match(vimRegExp);\n      var dmRegExp = /.+dailymotion.com\\/(video|hub)\\/([^_]+)[^#]*(#video=([^_&]+))?/;\n
    \     var dmMatch = url.match(dmRegExp);\n      var youkuRegExp = /\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/;\n
    \     var youkuMatch = url.match(youkuRegExp);\n      var qqRegExp = /\\/\\/v\\.qq\\.com.*?vid=(.+)/;\n
    \     var qqMatch = url.match(qqRegExp);\n      var qqRegExp2 = /\\/\\/v\\.qq\\.com\\/x?\\/?(page|cover).*?\\/([^\\/]+)\\.html\\??.*/;\n
    \     var qqMatch2 = url.match(qqRegExp2);\n      var mp4RegExp = /^.+.(mp4|m4v)$/;\n
    \     var mp4Match = url.match(mp4RegExp);\n      var oggRegExp = /^.+.(ogg|ogv)$/;\n
    \     var oggMatch = url.match(oggRegExp);\n      var webmRegExp = /^.+.(webm)$/;\n
    \     var webmMatch = url.match(webmRegExp);\n      var fbRegExp = /(?:www\\.|\\/\\/)facebook\\.com\\/([^\\/]+)\\/videos\\/([0-9]+)/;\n
    \     var fbMatch = url.match(fbRegExp);\n      var $video;\n\n      if (ytMatch
    && ytMatch[1].length === 11) {\n        var youtubeId = ytMatch[1];\n        var
    start = 0;\n\n        if (typeof ytMatch[2] !== 'undefined') {\n          var
    ytMatchForStart = ytMatch[2].match(ytRegExpForStart);\n\n          if (ytMatchForStart)
    {\n            for (var n = [3600, 60, 1], i = 0, r = n.length; i < r; i++) {\n
    \             start += typeof ytMatchForStart[i + 1] !== 'undefined' ? n[i] *
    parseInt(ytMatchForStart[i + 1], 10) : 0;\n            }\n          }\n        }\n\n
    \       $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',
    0).attr('src', '//www.youtube.com/embed/' + youtubeId + (start > 0 ? '?start='
    + start : '')).attr('width', '640').attr('height', '360');\n      } else if (igMatch
    && igMatch[0].length) {\n        $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',
    0).attr('src', 'https://instagram.com/p/' + igMatch[1] + '/embed/').attr('width',
    '612').attr('height', '710').attr('scrolling', 'no').attr('allowtransparency',
    'true');\n      } else if (vMatch && vMatch[0].length) {\n        $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',
    0).attr('src', vMatch[0] + '/embed/simple').attr('width', '600').attr('height',
    '600').attr('class', 'vine-embed');\n      } else if (vimMatch && vimMatch[3].length)
    {\n        $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe
    webkitallowfullscreen mozallowfullscreen allowfullscreen>').attr('frameborder',
    0).attr('src', '//player.vimeo.com/video/' + vimMatch[3]).attr('width', '640').attr('height',
    '360');\n      } else if (dmMatch && dmMatch[2].length) {\n        $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',
    0).attr('src', '//www.dailymotion.com/embed/video/' + dmMatch[2]).attr('width',
    '640').attr('height', '360');\n      } else if (youkuMatch && youkuMatch[1].length)
    {\n        $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe
    webkitallowfullscreen mozallowfullscreen allowfullscreen>').attr('frameborder',
    0).attr('height', '498').attr('width', '510').attr('src', '//player.youku.com/embed/'
    + youkuMatch[1]);\n      } else if (qqMatch && qqMatch[1].length || qqMatch2 &&
    qqMatch2[2].length) {\n        var vid = qqMatch && qqMatch[1].length ? qqMatch[1]
    : qqMatch2[2];\n        $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe
    webkitallowfullscreen mozallowfullscreen allowfullscreen>').attr('frameborder',
    0).attr('height', '310').attr('width', '500').attr('src', 'https://v.qq.com/txp/iframe/player.html?vid='
    + vid + '&amp;auto=0');\n      } else if (mp4Match || oggMatch || webmMatch) {\n
    \       $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<video
    controls>').attr('src', url).attr('width', '640').attr('height', '360');\n      }
    else if (fbMatch && fbMatch[0].length) {\n        $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',
    0).attr('src', 'https://www.facebook.com/plugins/video.php?href=' + encodeURIComponent(fbMatch[0])
    + '&show_text=0&width=560').attr('width', '560').attr('height', '301').attr('scrolling',
    'no').attr('allowtransparency', 'true');\n      } else {\n        // this is not
    a known video link. Now what, Cat? Now what?\n        return false;\n      }\n\n
    \     $video.addClass('note-video-clip');\n      return $video[0];\n    }\n  },
    {\n    key: \"show\",\n    value: function show() {\n      var _this = this;\n\n
    \     var text = this.context.invoke('editor.getSelectedText');\n      this.context.invoke('editor.saveRange');\n
    \     this.showVideoDialog(text).then(function (url) {\n        // [workaround]
    hide dialog before restore range for IE range focus\n        _this.ui.hideDialog(_this.$dialog);\n\n
    \       _this.context.invoke('editor.restoreRange'); // build node\n\n\n        var
    $node = _this.createVideoNode(url);\n\n        if ($node) {\n          // insert
    video node\n          _this.context.invoke('editor.insertNode', $node);\n        }\n
    \     }).fail(function () {\n        _this.context.invoke('editor.restoreRange');\n
    \     });\n    }\n    /**\n     * show video dialog\n     *\n     * @param {jQuery}
    $dialog\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"showVideoDialog\",\n
    \   value: function showVideoDialog()\n    /* text */\n    {\n      var _this2
    = this;\n\n      return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function
    (deferred) {\n        var $videoUrl = _this2.$dialog.find('.note-video-url');\n\n
    \       var $videoBtn = _this2.$dialog.find('.note-video-btn');\n\n        _this2.ui.onDialogShown(_this2.$dialog,
    function () {\n          _this2.context.triggerEvent('dialog.shown');\n\n          $videoUrl.on('input
    paste propertychange', function () {\n            _this2.ui.toggleBtn($videoBtn,
    $videoUrl.val());\n          });\n\n          if (!env.isSupportTouch) {\n            $videoUrl.trigger('focus');\n
    \         }\n\n          $videoBtn.click(function (event) {\n            event.preventDefault();\n
    \           deferred.resolve($videoUrl.val());\n          });\n\n          _this2.bindEnterKey($videoUrl,
    $videoBtn);\n        });\n\n        _this2.ui.onDialogHidden(_this2.$dialog, function
    () {\n          $videoUrl.off();\n          $videoBtn.off();\n\n          if (deferred.state()
    === 'pending') {\n            deferred.reject();\n          }\n        });\n\n
    \       _this2.ui.showDialog(_this2.$dialog);\n      });\n    }\n  }]);\n\n  return
    VideoDialog;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/HelpDialog.js\nfunction
    HelpDialog_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    HelpDialog_defineProperties(target, props) { for (var i = 0; i < props.length;
    i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    HelpDialog_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    HelpDialog_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    HelpDialog_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar
    HelpDialog_HelpDialog = /*#__PURE__*/function () {\n  function HelpDialog(context)
    {\n    HelpDialog_classCallCheck(this, HelpDialog);\n\n    this.context = context;\n
    \   this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.$body = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document.body);\n
    \   this.$editor = context.layoutInfo.editor;\n    this.options = context.options;\n
    \   this.lang = this.options.langInfo;\n  }\n\n  HelpDialog_createClass(HelpDialog,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      var $container
    = this.options.dialogsInBody ? this.$body : this.options.container;\n      var
    body = ['<p class=\"text-center\">', '<a href=\"http://summernote.org/\" target=\"_blank\">Summernote
    0.8.18</a> · ', '<a href=\"https://github.com/summernote/summernote\" target=\"_blank\">Project</a>
    · ', '<a href=\"https://github.com/summernote/summernote/issues\" target=\"_blank\">Issues</a>',
    '</p>'].join('');\n      this.$dialog = this.ui.dialog({\n        title: this.lang.options.help,\n
    \       fade: this.options.dialogsFade,\n        body: this.createShortcutList(),\n
    \       footer: body,\n        callback: function callback($node) {\n          $node.find('.modal-body,.note-modal-body').css({\n
    \           'max-height': 300,\n            'overflow': 'scroll'\n          });\n
    \       }\n      }).render().appendTo($container);\n    }\n  }, {\n    key: \"destroy\",\n
    \   value: function destroy() {\n      this.ui.hideDialog(this.$dialog);\n      this.$dialog.remove();\n
    \   }\n  }, {\n    key: \"createShortcutList\",\n    value: function createShortcutList()
    {\n      var _this = this;\n\n      var keyMap = this.options.keyMap[env.isMac
    ? 'mac' : 'pc'];\n      return Object.keys(keyMap).map(function (key) {\n        var
    command = keyMap[key];\n        var $row = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div><div
    class=\"help-list-item\"></div></div>');\n        $row.append(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<label><kbd>'
    + key + '</kdb></label>').css({\n          'width': 180,\n          'margin-right':
    10\n        })).append(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<span/>').html(_this.context.memo('help.'
    + command) || command));\n        return $row.html();\n      }).join('');\n    }\n
    \   /**\n     * show help dialog\n     *\n     * @return {Promise}\n     */\n\n
    \ }, {\n    key: \"showHelpDialog\",\n    value: function showHelpDialog() {\n
    \     var _this2 = this;\n\n      return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function
    (deferred) {\n        _this2.ui.onDialogShown(_this2.$dialog, function () {\n
    \         _this2.context.triggerEvent('dialog.shown');\n\n          deferred.resolve();\n
    \       });\n\n        _this2.ui.showDialog(_this2.$dialog);\n      }).promise();\n
    \   }\n  }, {\n    key: \"show\",\n    value: function show() {\n      var _this3
    = this;\n\n      this.context.invoke('editor.saveRange');\n      this.showHelpDialog().then(function
    () {\n        _this3.context.invoke('editor.restoreRange');\n      });\n    }\n
    \ }]);\n\n  return HelpDialog;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/AirPopover.js\nfunction
    AirPopover_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    AirPopover_defineProperties(target, props) { for (var i = 0; i < props.length;
    i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    AirPopover_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    AirPopover_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    AirPopover_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar
    AIRMODE_POPOVER_X_OFFSET = -5;\nvar AIRMODE_POPOVER_Y_OFFSET = 5;\n\nvar AirPopover_AirPopover
    = /*#__PURE__*/function () {\n  function AirPopover(context) {\n    var _this
    = this;\n\n    AirPopover_classCallCheck(this, AirPopover);\n\n    this.context
    = context;\n    this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.options = context.options;\n    this.hidable = true;\n    this.onContextmenu
    = false;\n    this.pageX = null;\n    this.pageY = null;\n    this.events = {\n
    \     'summernote.contextmenu': function summernoteContextmenu(e) {\n        if
    (_this.options.editing) {\n          e.preventDefault();\n          e.stopPropagation();\n
    \         _this.onContextmenu = true;\n\n          _this.update(true);\n        }\n
    \     },\n      'summernote.mousedown': function summernoteMousedown(we, e) {\n
    \       _this.pageX = e.pageX;\n        _this.pageY = e.pageY;\n      },\n      'summernote.keyup
    summernote.mouseup summernote.scroll': function summernoteKeyupSummernoteMouseupSummernoteScroll(we,
    e) {\n        if (_this.options.editing && !_this.onContextmenu) {\n          _this.pageX
    = e.pageX;\n          _this.pageY = e.pageY;\n\n          _this.update();\n        }\n\n
    \       _this.onContextmenu = false;\n      },\n      'summernote.disable summernote.change
    summernote.dialog.shown summernote.blur': function summernoteDisableSummernoteChangeSummernoteDialogShownSummernoteBlur()
    {\n        _this.hide();\n      },\n      'summernote.focusout': function summernoteFocusout()
    {\n        if (!_this.$popover.is(':active,:focus')) {\n          _this.hide();\n
    \       }\n      }\n    };\n  }\n\n  AirPopover_createClass(AirPopover, [{\n    key:
    \"shouldInitialize\",\n    value: function shouldInitialize() {\n      return
    this.options.airMode && !lists.isEmpty(this.options.popover.air);\n    }\n  },
    {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2
    = this;\n\n      this.$popover = this.ui.popover({\n        className: 'note-air-popover'\n
    \     }).render().appendTo(this.options.container);\n      var $content = this.$popover.find('.popover-content');\n
    \     this.context.invoke('buttons.build', $content, this.options.popover.air);
    // disable hiding this popover preemptively by 'summernote.blur' event.\n\n      this.$popover.on('mousedown',
    function () {\n        _this2.hidable = false;\n      }); // (re-)enable hiding
    after 'summernote.blur' has been handled (aka. ignored).\n\n      this.$popover.on('mouseup',
    function () {\n        _this2.hidable = true;\n      });\n    }\n  }, {\n    key:
    \"destroy\",\n    value: function destroy() {\n      this.$popover.remove();\n
    \   }\n  }, {\n    key: \"update\",\n    value: function update(forcelyOpen) {\n
    \     var styleInfo = this.context.invoke('editor.currentStyle');\n\n      if
    (styleInfo.range && (!styleInfo.range.isCollapsed() || forcelyOpen)) {\n        var
    rect = {\n          left: this.pageX,\n          top: this.pageY\n        };\n
    \       var containerOffset = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();\n
    \       rect.top -= containerOffset.top;\n        rect.left -= containerOffset.left;\n
    \       this.$popover.css({\n          display: 'block',\n          left: Math.max(rect.left,
    0) + AIRMODE_POPOVER_X_OFFSET,\n          top: rect.top + AIRMODE_POPOVER_Y_OFFSET\n
    \       });\n        this.context.invoke('buttons.updateCurrentStyle', this.$popover);\n
    \     } else {\n        this.hide();\n      }\n    }\n  }, {\n    key: \"updateCodeview\",\n
    \   value: function updateCodeview(isCodeview) {\n      this.ui.toggleBtnActive(this.$popover.find('.btn-codeview'),
    isCodeview);\n\n      if (isCodeview) {\n        this.hide();\n      }\n    }\n
    \ }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.hidable)
    {\n        this.$popover.hide();\n      }\n    }\n  }]);\n\n  return AirPopover;\n}();\n\n\n//
    CONCATENATED MODULE: ./src/js/base/module/HintPopover.js\nfunction HintPopover_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction HintPopover_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction HintPopover_createClass(Constructor, protoProps,
    staticProps) { if (protoProps) HintPopover_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) HintPopover_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n\n\nvar POPOVER_DIST = 5;\n\nvar HintPopover_HintPopover
    = /*#__PURE__*/function () {\n  function HintPopover(context) {\n    var _this
    = this;\n\n    HintPopover_classCallCheck(this, HintPopover);\n\n    this.context
    = context;\n    this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.$editable = context.layoutInfo.editable;\n    this.options = context.options;\n
    \   this.hint = this.options.hint || [];\n    this.direction = this.options.hintDirection
    || 'bottom';\n    this.hints = Array.isArray(this.hint) ? this.hint : [this.hint];\n
    \   this.events = {\n      'summernote.keyup': function summernoteKeyup(we, e)
    {\n        if (!e.isDefaultPrevented()) {\n          _this.handleKeyup(e);\n        }\n
    \     },\n      'summernote.keydown': function summernoteKeydown(we, e) {\n        _this.handleKeydown(e);\n
    \     },\n      'summernote.disable summernote.dialog.shown summernote.blur':
    function summernoteDisableSummernoteDialogShownSummernoteBlur() {\n        _this.hide();\n
    \     }\n    };\n  }\n\n  HintPopover_createClass(HintPopover, [{\n    key: \"shouldInitialize\",\n
    \   value: function shouldInitialize() {\n      return this.hints.length > 0;\n
    \   }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n
    \     var _this2 = this;\n\n      this.lastWordRange = null;\n      this.matchingWord
    = null;\n      this.$popover = this.ui.popover({\n        className: 'note-hint-popover',\n
    \       hideArrow: true,\n        direction: ''\n      }).render().appendTo(this.options.container);\n
    \     this.$popover.hide();\n      this.$content = this.$popover.find('.popover-content,.note-popover-content');\n
    \     this.$content.on('click', '.note-hint-item', function (e) {\n        _this2.$content.find('.active').removeClass('active');\n\n
    \       external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(e.currentTarget).addClass('active');\n\n
    \       _this2.replace();\n      });\n      this.$popover.on('mousedown', function
    (e) {\n        e.preventDefault();\n      });\n    }\n  }, {\n    key: \"destroy\",\n
    \   value: function destroy() {\n      this.$popover.remove();\n    }\n  }, {\n
    \   key: \"selectItem\",\n    value: function selectItem($item) {\n      this.$content.find('.active').removeClass('active');\n
    \     $item.addClass('active');\n      this.$content[0].scrollTop = $item[0].offsetTop
    - this.$content.innerHeight() / 2;\n    }\n  }, {\n    key: \"moveDown\",\n    value:
    function moveDown() {\n      var $current = this.$content.find('.note-hint-item.active');\n
    \     var $next = $current.next();\n\n      if ($next.length) {\n        this.selectItem($next);\n
    \     } else {\n        var $nextGroup = $current.parent().next();\n\n        if
    (!$nextGroup.length) {\n          $nextGroup = this.$content.find('.note-hint-group').first();\n
    \       }\n\n        this.selectItem($nextGroup.find('.note-hint-item').first());\n
    \     }\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp() {\n
    \     var $current = this.$content.find('.note-hint-item.active');\n      var
    $prev = $current.prev();\n\n      if ($prev.length) {\n        this.selectItem($prev);\n
    \     } else {\n        var $prevGroup = $current.parent().prev();\n\n        if
    (!$prevGroup.length) {\n          $prevGroup = this.$content.find('.note-hint-group').last();\n
    \       }\n\n        this.selectItem($prevGroup.find('.note-hint-item').last());\n
    \     }\n    }\n  }, {\n    key: \"replace\",\n    value: function replace() {\n
    \     var $item = this.$content.find('.note-hint-item.active');\n\n      if ($item.length)
    {\n        var node = this.nodeFromItem($item); // If matchingWord length = 0
    -> capture OK / open hint / but as mention capture \"\" (\\w*)\n\n        if (this.matchingWord
    !== null && this.matchingWord.length === 0) {\n          this.lastWordRange.so
    = this.lastWordRange.eo; // Else si > 0 and normal case -> adjust range \"before\"
    for correct position of insertion\n        } else if (this.matchingWord !== null
    && this.matchingWord.length > 0 && !this.lastWordRange.isCollapsed()) {\n          var
    rangeCompute = this.lastWordRange.eo - this.lastWordRange.so - this.matchingWord.length;\n\n
    \         if (rangeCompute > 0) {\n            this.lastWordRange.so += rangeCompute;\n
    \         }\n        }\n\n        this.lastWordRange.insertNode(node);\n\n        if
    (this.options.hintSelect === 'next') {\n          var blank = document.createTextNode('');\n
    \         external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).after(blank);\n
    \         range.createFromNodeBefore(blank).select();\n        } else {\n          range.createFromNodeAfter(node).select();\n
    \       }\n\n        this.lastWordRange = null;\n        this.hide();\n        this.context.invoke('editor.focus');\n
    \     }\n    }\n  }, {\n    key: \"nodeFromItem\",\n    value: function nodeFromItem($item)
    {\n      var hint = this.hints[$item.data('index')];\n      var item = $item.data('item');\n
    \     var node = hint.content ? hint.content(item) : item;\n\n      if (typeof
    node === 'string') {\n        node = dom.createText(node);\n      }\n\n      return
    node;\n    }\n  }, {\n    key: \"createItemTemplates\",\n    value: function createItemTemplates(hintIdx,
    items) {\n      var hint = this.hints[hintIdx];\n      return items.map(function
    (item\n      /*, idx */\n      ) {\n        var $item = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div
    class=\"note-hint-item\"/>');\n        $item.append(hint.template ? hint.template(item)
    : item + '');\n        $item.data({\n          'index': hintIdx,\n          'item':
    item\n        });\n        return $item;\n      });\n    }\n  }, {\n    key: \"handleKeydown\",\n
    \   value: function handleKeydown(e) {\n      if (!this.$popover.is(':visible'))
    {\n        return;\n      }\n\n      if (e.keyCode === core_key.code.ENTER) {\n
    \       e.preventDefault();\n        this.replace();\n      } else if (e.keyCode
    === core_key.code.UP) {\n        e.preventDefault();\n        this.moveUp();\n
    \     } else if (e.keyCode === core_key.code.DOWN) {\n        e.preventDefault();\n
    \       this.moveDown();\n      }\n    }\n  }, {\n    key: \"searchKeyword\",\n
    \   value: function searchKeyword(index, keyword, callback) {\n      var hint
    = this.hints[index];\n\n      if (hint && hint.match.test(keyword) && hint.search)
    {\n        var matches = hint.match.exec(keyword);\n        this.matchingWord
    = matches[0];\n        hint.search(matches[1], callback);\n      } else {\n        callback();\n
    \     }\n    }\n  }, {\n    key: \"createGroup\",\n    value: function createGroup(idx,
    keyword) {\n      var _this3 = this;\n\n      var $group = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div
    class=\"note-hint-group note-hint-group-' + idx + '\"></div>');\n      this.searchKeyword(idx,
    keyword, function (items) {\n        items = items || [];\n\n        if (items.length)
    {\n          $group.html(_this3.createItemTemplates(idx, items));\n\n          _this3.show();\n
    \       }\n      });\n      return $group;\n    }\n  }, {\n    key: \"handleKeyup\",\n
    \   value: function handleKeyup(e) {\n      var _this4 = this;\n\n      if (!lists.contains([core_key.code.ENTER,
    core_key.code.UP, core_key.code.DOWN], e.keyCode)) {\n        var _range = this.context.invoke('editor.getLastRange');\n\n
    \       var wordRange, keyword;\n\n        if (this.options.hintMode === 'words')
    {\n          wordRange = _range.getWordsRange(_range);\n          keyword = wordRange.toString();\n
    \         this.hints.forEach(function (hint) {\n            if (hint.match.test(keyword))
    {\n              wordRange = _range.getWordsMatchRange(hint.match);\n              return
    false;\n            }\n          });\n\n          if (!wordRange) {\n            this.hide();\n
    \           return;\n          }\n\n          keyword = wordRange.toString();\n
    \       } else {\n          wordRange = _range.getWordRange();\n          keyword
    = wordRange.toString();\n        }\n\n        if (this.hints.length && keyword)
    {\n          this.$content.empty();\n          var bnd = func.rect2bnd(lists.last(wordRange.getClientRects()));\n
    \         var containerOffset = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();\n\n
    \         if (bnd) {\n            bnd.top -= containerOffset.top;\n            bnd.left
    -= containerOffset.left;\n            this.$popover.hide();\n            this.lastWordRange
    = wordRange;\n            this.hints.forEach(function (hint, idx) {\n              if
    (hint.match.test(keyword)) {\n                _this4.createGroup(idx, keyword).appendTo(_this4.$content);\n
    \             }\n            }); // select first .note-hint-item\n\n            this.$content.find('.note-hint-item:first').addClass('active');
    // set position for popover after group is created\n\n            if (this.direction
    === 'top') {\n              this.$popover.css({\n                left: bnd.left,\n
    \               top: bnd.top - this.$popover.outerHeight() - POPOVER_DIST\n              });\n
    \           } else {\n              this.$popover.css({\n                left:
    bnd.left,\n                top: bnd.top + bnd.height + POPOVER_DIST\n              });\n
    \           }\n          }\n        } else {\n          this.hide();\n        }\n
    \     }\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.$popover.show();\n
    \   }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.$popover.hide();\n
    \   }\n  }]);\n\n  return HintPopover;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/settings.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexternal_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote,
    {\n  version: '0.8.18',\n  plugins: {},\n  dom: dom,\n  range: range,\n  lists:
    lists,\n  options: {\n    langInfo: external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.lang['en-US'],\n
    \   editing: true,\n    modules: {\n      'editor': Editor_Editor,\n      'clipboard':
    Clipboard_Clipboard,\n      'dropzone': Dropzone_Dropzone,\n      'codeview':
    Codeview_CodeView,\n      'statusbar': Statusbar_Statusbar,\n      'fullscreen':
    Fullscreen_Fullscreen,\n      'handle': Handle_Handle,\n      // FIXME: HintPopover
    must be front of autolink\n      //  - Script error about range when Enter key
    is pressed on hint popover\n      'hintPopover': HintPopover_HintPopover,\n      'autoLink':
    AutoLink_AutoLink,\n      'autoSync': AutoSync_AutoSync,\n      'autoReplace':
    AutoReplace_AutoReplace,\n      'placeholder': Placeholder_Placeholder,\n      'buttons':
    Buttons_Buttons,\n      'toolbar': Toolbar_Toolbar,\n      'linkDialog': LinkDialog_LinkDialog,\n
    \     'linkPopover': LinkPopover_LinkPopover,\n      'imageDialog': ImageDialog_ImageDialog,\n
    \     'imagePopover': ImagePopover_ImagePopover,\n      'tablePopover': TablePopover_TablePopover,\n
    \     'videoDialog': VideoDialog_VideoDialog,\n      'helpDialog': HelpDialog_HelpDialog,\n
    \     'airPopover': AirPopover_AirPopover\n    },\n    buttons: {},\n    lang:
    'en-US',\n    followingToolbar: false,\n    toolbarPosition: 'top',\n    otherStaticBar:
    '',\n    // toolbar\n    codeviewKeepButton: false,\n    toolbar: [['style', ['style']],
    ['font', ['bold', 'underline', 'clear']], ['fontname', ['fontname']], ['color',
    ['color']], ['para', ['ul', 'ol', 'paragraph']], ['table', ['table']], ['insert',
    ['link', 'picture', 'video']], ['view', ['fullscreen', 'codeview', 'help']]],\n
    \   // popover\n    popatmouse: true,\n    popover: {\n      image: [['resize',
    ['resizeFull', 'resizeHalf', 'resizeQuarter', 'resizeNone']], ['float', ['floatLeft',
    'floatRight', 'floatNone']], ['remove', ['removeMedia']]],\n      link: [['link',
    ['linkDialogShow', 'unlink']]],\n      table: [['add', ['addRowDown', 'addRowUp',
    'addColLeft', 'addColRight']], ['delete', ['deleteRow', 'deleteCol', 'deleteTable']]],\n
    \     air: [['color', ['color']], ['font', ['bold', 'underline', 'clear']], ['para',
    ['ul', 'paragraph']], ['table', ['table']], ['insert', ['link', 'picture']], ['view',
    ['fullscreen', 'codeview']]]\n    },\n    // air mode: inline editor\n    airMode:
    false,\n    overrideContextMenu: false,\n    // TBD\n    width: null,\n    height:
    null,\n    linkTargetBlank: true,\n    useProtocol: true,\n    defaultProtocol:
    'http://',\n    focus: false,\n    tabDisabled: false,\n    tabSize: 4,\n    styleWithCSS:
    false,\n    shortcuts: true,\n    textareaAutoSync: true,\n    tooltip: 'auto',\n
    \   container: null,\n    maxTextLength: 0,\n    blockquoteBreakingLevel: 2,\n
    \   spellCheck: true,\n    disableGrammar: false,\n    placeholder: null,\n    inheritPlaceholder:
    false,\n    // TODO: need to be documented\n    recordEveryKeystroke: false,\n
    \   historyLimit: 200,\n    // TODO: need to be documented\n    showDomainOnlyForAutolink:
    false,\n    // TODO: need to be documented\n    hintMode: 'word',\n    hintSelect:
    'after',\n    hintDirection: 'bottom',\n    styleTags: ['p', 'blockquote', 'pre',
    'h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n    fontNames: ['Arial', 'Arial Black',
    'Comic Sans MS', 'Courier New', 'Helvetica Neue', 'Helvetica', 'Impact', 'Lucida
    Grande', 'Tahoma', 'Times New Roman', 'Verdana'],\n    fontNamesIgnoreCheck: [],\n
    \   addDefaultFonts: true,\n    fontSizes: ['8', '9', '10', '11', '12', '14',
    '18', '24', '36'],\n    fontSizeUnits: ['px', 'pt'],\n    // pallete colors(n
    x n)\n    colors: [['#000000', '#424242', '#636363', '#9C9C94', '#CEC6CE', '#EFEFEF',
    '#F7F7F7', '#FFFFFF'], ['#FF0000', '#FF9C00', '#FFFF00', '#00FF00', '#00FFFF',
    '#0000FF', '#9C00FF', '#FF00FF'], ['#F7C6CE', '#FFE7CE', '#FFEFC6', '#D6EFD6',
    '#CEDEE7', '#CEE7F7', '#D6D6E7', '#E7D6DE'], ['#E79C9C', '#FFC69C', '#FFE79C',
    '#B5D6A5', '#A5C6CE', '#9CC6EF', '#B5A5D6', '#D6A5BD'], ['#E76363', '#F7AD6B',
    '#FFD663', '#94BD7B', '#73A5AD', '#6BADDE', '#8C7BC6', '#C67BA5'], ['#CE0000',
    '#E79439', '#EFC631', '#6BA54A', '#4A7B8C', '#3984C6', '#634AA5', '#A54A7B'],
    ['#9C0000', '#B56308', '#BD9400', '#397B21', '#104A5A', '#085294', '#311873',
    '#731842'], ['#630000', '#7B3900', '#846300', '#295218', '#083139', '#003163',
    '#21104A', '#4A1031']],\n    // http://chir.ag/projects/name-that-color/\n    colorsName:
    [['Black', 'Tundora', 'Dove Gray', 'Star Dust', 'Pale Slate', 'Gallery', 'Alabaster',
    'White'], ['Red', 'Orange Peel', 'Yellow', 'Green', 'Cyan', 'Blue', 'Electric
    Violet', 'Magenta'], ['Azalea', 'Karry', 'Egg White', 'Zanah', 'Botticelli', 'Tropical
    Blue', 'Mischka', 'Twilight'], ['Tonys Pink', 'Peach Orange', 'Cream Brulee',
    'Sprout', 'Casper', 'Perano', 'Cold Purple', 'Careys Pink'], ['Mandy', 'Rajah',
    'Dandelion', 'Olivine', 'Gulf Stream', 'Viking', 'Blue Marguerite', 'Puce'], ['Guardsman
    Red', 'Fire Bush', 'Golden Dream', 'Chelsea Cucumber', 'Smalt Blue', 'Boston Blue',
    'Butterfly Bush', 'Cadillac'], ['Sangria', 'Mai Tai', 'Buddha Gold', 'Forest Green',
    'Eden', 'Venice Blue', 'Meteorite', 'Claret'], ['Rosewood', 'Cinnamon', 'Olive',
    'Parsley', 'Tiber', 'Midnight Blue', 'Valentino', 'Loulou']],\n    colorButton:
    {\n      foreColor: '#000000',\n      backColor: '#FFFF00'\n    },\n    lineHeights:
    ['1.0', '1.2', '1.4', '1.5', '1.6', '1.8', '2.0', '3.0'],\n    tableClassName:
    'table table-bordered',\n    insertTableMaxSize: {\n      col: 10,\n      row:
    10\n    },\n    // By default, dialogs are attached in container.\n    dialogsInBody:
    false,\n    dialogsFade: false,\n    maximumImageFileSize: null,\n    callbacks:
    {\n      onBeforeCommand: null,\n      onBlur: null,\n      onBlurCodeview: null,\n
    \     onChange: null,\n      onChangeCodeview: null,\n      onDialogShown: null,\n
    \     onEnter: null,\n      onFocus: null,\n      onImageLinkInsert: null,\n      onImageUpload:
    null,\n      onImageUploadError: null,\n      onInit: null,\n      onKeydown:
    null,\n      onKeyup: null,\n      onMousedown: null,\n      onMouseup: null,\n
    \     onPaste: null,\n      onScroll: null\n    },\n    codemirror: {\n      mode:
    'text/html',\n      htmlMode: true,\n      lineNumbers: true\n    },\n    codeviewFilter:
    false,\n    codeviewFilterRegex: /<\\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,\n
    \   codeviewIframeFilter: true,\n    codeviewIframeWhitelistSrc: [],\n    codeviewIframeWhitelistSrcBase:
    ['www.youtube.com', 'www.youtube-nocookie.com', 'www.facebook.com', 'vine.co',
    'instagram.com', 'player.vimeo.com', 'www.dailymotion.com', 'player.youku.com',
    'v.qq.com'],\n    keyMap: {\n      pc: {\n        'ESC': 'escape',\n        'ENTER':
    'insertParagraph',\n        'CTRL+Z': 'undo',\n        'CTRL+Y': 'redo',\n        'TAB':
    'tab',\n        'SHIFT+TAB': 'untab',\n        'CTRL+B': 'bold',\n        'CTRL+I':
    'italic',\n        'CTRL+U': 'underline',\n        'CTRL+SHIFT+S': 'strikethrough',\n
    \       'CTRL+BACKSLASH': 'removeFormat',\n        'CTRL+SHIFT+L': 'justifyLeft',\n
    \       'CTRL+SHIFT+E': 'justifyCenter',\n        'CTRL+SHIFT+R': 'justifyRight',\n
    \       'CTRL+SHIFT+J': 'justifyFull',\n        'CTRL+SHIFT+NUM7': 'insertUnorderedList',\n
    \       'CTRL+SHIFT+NUM8': 'insertOrderedList',\n        'CTRL+LEFTBRACKET': 'outdent',\n
    \       'CTRL+RIGHTBRACKET': 'indent',\n        'CTRL+NUM0': 'formatPara',\n        'CTRL+NUM1':
    'formatH1',\n        'CTRL+NUM2': 'formatH2',\n        'CTRL+NUM3': 'formatH3',\n
    \       'CTRL+NUM4': 'formatH4',\n        'CTRL+NUM5': 'formatH5',\n        'CTRL+NUM6':
    'formatH6',\n        'CTRL+ENTER': 'insertHorizontalRule',\n        'CTRL+K':
    'linkDialog.show'\n      },\n      mac: {\n        'ESC': 'escape',\n        'ENTER':
    'insertParagraph',\n        'CMD+Z': 'undo',\n        'CMD+SHIFT+Z': 'redo',\n
    \       'TAB': 'tab',\n        'SHIFT+TAB': 'untab',\n        'CMD+B': 'bold',\n
    \       'CMD+I': 'italic',\n        'CMD+U': 'underline',\n        'CMD+SHIFT+S':
    'strikethrough',\n        'CMD+BACKSLASH': 'removeFormat',\n        'CMD+SHIFT+L':
    'justifyLeft',\n        'CMD+SHIFT+E': 'justifyCenter',\n        'CMD+SHIFT+R':
    'justifyRight',\n        'CMD+SHIFT+J': 'justifyFull',\n        'CMD+SHIFT+NUM7':
    'insertUnorderedList',\n        'CMD+SHIFT+NUM8': 'insertOrderedList',\n        'CMD+LEFTBRACKET':
    'outdent',\n        'CMD+RIGHTBRACKET': 'indent',\n        'CMD+NUM0': 'formatPara',\n
    \       'CMD+NUM1': 'formatH1',\n        'CMD+NUM2': 'formatH2',\n        'CMD+NUM3':
    'formatH3',\n        'CMD+NUM4': 'formatH4',\n        'CMD+NUM5': 'formatH5',\n
    \       'CMD+NUM6': 'formatH6',\n        'CMD+ENTER': 'insertHorizontalRule',\n
    \       'CMD+K': 'linkDialog.show'\n      }\n    },\n    icons: {\n      'align':
    'note-icon-align',\n      'alignCenter': 'note-icon-align-center',\n      'alignJustify':
    'note-icon-align-justify',\n      'alignLeft': 'note-icon-align-left',\n      'alignRight':
    'note-icon-align-right',\n      'rowBelow': 'note-icon-row-below',\n      'colBefore':
    'note-icon-col-before',\n      'colAfter': 'note-icon-col-after',\n      'rowAbove':
    'note-icon-row-above',\n      'rowRemove': 'note-icon-row-remove',\n      'colRemove':
    'note-icon-col-remove',\n      'indent': 'note-icon-align-indent',\n      'outdent':
    'note-icon-align-outdent',\n      'arrowsAlt': 'note-icon-arrows-alt',\n      'bold':
    'note-icon-bold',\n      'caret': 'note-icon-caret',\n      'circle': 'note-icon-circle',\n
    \     'close': 'note-icon-close',\n      'code': 'note-icon-code',\n      'eraser':
    'note-icon-eraser',\n      'floatLeft': 'note-icon-float-left',\n      'floatRight':
    'note-icon-float-right',\n      'font': 'note-icon-font',\n      'frame': 'note-icon-frame',\n
    \     'italic': 'note-icon-italic',\n      'link': 'note-icon-link',\n      'unlink':
    'note-icon-chain-broken',\n      'magic': 'note-icon-magic',\n      'menuCheck':
    'note-icon-menu-check',\n      'minus': 'note-icon-minus',\n      'orderedlist':
    'note-icon-orderedlist',\n      'pencil': 'note-icon-pencil',\n      'picture':
    'note-icon-picture',\n      'question': 'note-icon-question',\n      'redo': 'note-icon-redo',\n
    \     'rollback': 'note-icon-rollback',\n      'square': 'note-icon-square',\n
    \     'strikethrough': 'note-icon-strikethrough',\n      'subscript': 'note-icon-subscript',\n
    \     'superscript': 'note-icon-superscript',\n      'table': 'note-icon-table',\n
    \     'textHeight': 'note-icon-text-height',\n      'trash': 'note-icon-trash',\n
    \     'underline': 'note-icon-underline',\n      'undo': 'note-icon-undo',\n      'unorderedlist':
    'note-icon-unorderedlist',\n      'video': 'note-icon-video'\n    }\n  }\n});\n\n/***/
    }),\n\n/***/ 51:\n/***/ (function(module, __webpack_exports__, __webpack_require__)
    {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n//
    EXTERNAL MODULE: external {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}\nvar
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_ = __webpack_require__(0);\nvar
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default = /*#__PURE__*/__webpack_require__.n(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_);\n\n//
    EXTERNAL MODULE: ./src/js/base/renderer.js\nvar renderer = __webpack_require__(1);\n\n//
    CONCATENATED MODULE: ./src/js/lite/ui/TooltipUI.js\nfunction _classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction _defineProperties(target, props)
    { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps)
    { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps)
    _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar
    TooltipUI_TooltipUI = /*#__PURE__*/function () {\n  function TooltipUI($node,
    options) {\n    _classCallCheck(this, TooltipUI);\n\n    this.$node = $node;\n
    \   this.options = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend({},
    {\n      title: '',\n      target: options.container,\n      trigger: 'hover focus',\n
    \     placement: 'bottom'\n    }, options); // create tooltip node\n\n    this.$tooltip
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(['<div
    class=\"note-tooltip\">', '<div class=\"note-tooltip-arrow\"></div>', '<div class=\"note-tooltip-content\"></div>',
    '</div>'].join('')); // define event\n\n    if (this.options.trigger !== 'manual')
    {\n      var showCallback = this.show.bind(this);\n      var hideCallback = this.hide.bind(this);\n
    \     var toggleCallback = this.toggle.bind(this);\n      this.options.trigger.split('
    ').forEach(function (eventName) {\n        if (eventName === 'hover') {\n          $node.off('mouseenter
    mouseleave');\n          $node.on('mouseenter', showCallback).on('mouseleave',
    hideCallback);\n        } else if (eventName === 'click') {\n          $node.on('click',
    toggleCallback);\n        } else if (eventName === 'focus') {\n          $node.on('focus',
    showCallback).on('blur', hideCallback);\n        }\n      });\n    }\n  }\n\n
    \ _createClass(TooltipUI, [{\n    key: \"show\",\n    value: function show() {\n
    \     var $node = this.$node;\n      var offset = $node.offset();\n      var targetOffset
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.target).offset();\n
    \     offset.top -= targetOffset.top;\n      offset.left -= targetOffset.left;\n
    \     var $tooltip = this.$tooltip;\n      var title = this.options.title || $node.attr('title')
    || $node.data('title');\n      var placement = this.options.placement || $node.data('placement');\n
    \     $tooltip.addClass(placement);\n      $tooltip.find('.note-tooltip-content').text(title);\n
    \     $tooltip.appendTo(this.options.target);\n      var nodeWidth = $node.outerWidth();\n
    \     var nodeHeight = $node.outerHeight();\n      var tooltipWidth = $tooltip.outerWidth();\n
    \     var tooltipHeight = $tooltip.outerHeight();\n\n      if (placement === 'bottom')
    {\n        $tooltip.css({\n          top: offset.top + nodeHeight,\n          left:
    offset.left + (nodeWidth / 2 - tooltipWidth / 2)\n        });\n      } else if
    (placement === 'top') {\n        $tooltip.css({\n          top: offset.top - tooltipHeight,\n
    \         left: offset.left + (nodeWidth / 2 - tooltipWidth / 2)\n        });\n
    \     } else if (placement === 'left') {\n        $tooltip.css({\n          top:
    offset.top + (nodeHeight / 2 - tooltipHeight / 2),\n          left: offset.left
    - tooltipWidth\n        });\n      } else if (placement === 'right') {\n        $tooltip.css({\n
    \         top: offset.top + (nodeHeight / 2 - tooltipHeight / 2),\n          left:
    offset.left + nodeWidth\n        });\n      }\n\n      $tooltip.addClass('in');\n
    \   }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var _this
    = this;\n\n      this.$tooltip.removeClass('in');\n      setTimeout(function ()
    {\n        _this.$tooltip.remove();\n      }, 200);\n    }\n  }, {\n    key: \"toggle\",\n
    \   value: function toggle() {\n      if (this.$tooltip.hasClass('in')) {\n        this.hide();\n
    \     } else {\n        this.show();\n      }\n    }\n  }]);\n\n  return TooltipUI;\n}();\n\n/*
    harmony default export */ var ui_TooltipUI = (TooltipUI_TooltipUI);\n// CONCATENATED
    MODULE: ./src/js/lite/ui/DropdownUI.js\nfunction DropdownUI_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction DropdownUI_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction DropdownUI_createClass(Constructor, protoProps, staticProps)
    { if (protoProps) DropdownUI_defineProperties(Constructor.prototype, protoProps);
    if (staticProps) DropdownUI_defineProperties(Constructor, staticProps); return
    Constructor; }\n\n\n\nvar DropdownUI_DropdownUI = /*#__PURE__*/function () {\n
    \ function DropdownUI($node, options) {\n    DropdownUI_classCallCheck(this, DropdownUI);\n\n
    \   this.$button = $node;\n    this.options = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend({},
    {\n      target: options.container\n    }, options);\n    this.setEvent();\n  }\n\n
    \ DropdownUI_createClass(DropdownUI, [{\n    key: \"setEvent\",\n    value: function
    setEvent() {\n      var _this = this;\n\n      this.$button.on('click', function
    (e) {\n        _this.toggle();\n\n        e.stopImmediatePropagation();\n      });\n
    \   }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var $parent
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('.note-btn-group.open');\n
    \     $parent.find('.note-btn.active').removeClass('active');\n      $parent.removeClass('open');\n
    \   }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.$button.addClass('active');\n
    \     this.$button.parent().addClass('open');\n      var $dropdown = this.$button.next();\n
    \     var offset = $dropdown.offset();\n      var width = $dropdown.outerWidth();\n
    \     var windowWidth = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(window).width();\n
    \     var targetMarginRight = parseFloat(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.target).css('margin-right'));\n\n
    \     if (offset.left + width > windowWidth - targetMarginRight) {\n        $dropdown.css('margin-left',
    windowWidth - targetMarginRight - (offset.left + width));\n      } else {\n        $dropdown.css('margin-left',
    '');\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n
    \     this.$button.removeClass('active');\n      this.$button.parent().removeClass('open');\n
    \   }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      var
    isOpened = this.$button.parent().hasClass('open');\n      this.clear();\n\n      if
    (isOpened) {\n        this.hide();\n      } else {\n        this.show();\n      }\n
    \   }\n  }]);\n\n  return DropdownUI;\n}();\n\nexternal_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document).on('click',
    function (e) {\n  if (!external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(e.target).closest('.note-btn-group').length)
    {\n    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('.note-btn-group.open').removeClass('open');\n
    \   external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('.note-btn-group
    .note-btn.active').removeClass('active');\n  }\n});\nexternal_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document).on('click.note-dropdown-menu',
    function (e) {\n  external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(e.target).closest('.note-dropdown-menu').parent().removeClass('open');\n
    \ external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(e.target).closest('.note-dropdown-menu').parent().find('.note-btn.active').removeClass('active');\n});\n/*
    harmony default export */ var ui_DropdownUI = (DropdownUI_DropdownUI);\n// CONCATENATED
    MODULE: ./src/js/lite/ui/ModalUI.js\nfunction ModalUI_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction ModalUI_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction ModalUI_createClass(Constructor, protoProps, staticProps)
    { if (protoProps) ModalUI_defineProperties(Constructor.prototype, protoProps);
    if (staticProps) ModalUI_defineProperties(Constructor, staticProps); return Constructor;
    }\n\n\n\nvar ModalUI_ModalUI = /*#__PURE__*/function () {\n  function ModalUI($node\n
    \ /*, options */\n  ) {\n    ModalUI_classCallCheck(this, ModalUI);\n\n    this.$modal
    = $node;\n    this.$backdrop = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div
    class=\"note-modal-backdrop\"/>');\n  }\n\n  ModalUI_createClass(ModalUI, [{\n
    \   key: \"show\",\n    value: function show() {\n      var _this = this;\n\n
    \     this.$backdrop.appendTo(document.body).show();\n      this.$modal.addClass('open').show();\n
    \     this.$modal.trigger('note.modal.show');\n      this.$modal.off('click',
    '.close').on('click', '.close', this.hide.bind(this));\n      this.$modal.on('keydown',
    function (event) {\n        if (event.which === 27) {\n          event.preventDefault();\n\n
    \         _this.hide();\n        }\n      });\n    }\n  }, {\n    key: \"hide\",\n
    \   value: function hide() {\n      this.$modal.removeClass('open').hide();\n
    \     this.$backdrop.hide();\n      this.$modal.trigger('note.modal.hide');\n
    \     this.$modal.off('keydown');\n    }\n  }]);\n\n  return ModalUI;\n}();\n\n/*
    harmony default export */ var ui_ModalUI = (ModalUI_ModalUI);\n// CONCATENATED
    MODULE: ./src/js/lite/ui.js\n\n\n\n\n\nvar editor = renderer[\"a\" /* default
    */].create('<div class=\"note-editor note-frame\"/>');\nvar toolbar = renderer[\"a\"
    /* default */].create('<div class=\"note-toolbar\" role=\"toolbar\"/>');\nvar
    editingArea = renderer[\"a\" /* default */].create('<div class=\"note-editing-area\"/>');\nvar
    codable = renderer[\"a\" /* default */].create('<textarea class=\"note-codable\"
    aria-multiline=\"true\"/>');\nvar editable = renderer[\"a\" /* default */].create('<div
    class=\"note-editable\" contentEditable=\"true\" role=\"textbox\" aria-multiline=\"true\"/>');\nvar
    statusbar = renderer[\"a\" /* default */].create(['<output class=\"note-status-output\"
    role=\"status\" aria-live=\"polite\"></output>', '<div class=\"note-statusbar\"
    role=\"status\">', '<div class=\"note-resizebar\" aria-label=\"resize\">', '<div
    class=\"note-icon-bar\"></div>', '<div class=\"note-icon-bar\"></div>', '<div
    class=\"note-icon-bar\"></div>', '</div>', '</div>'].join(''));\nvar airEditor
    = renderer[\"a\" /* default */].create('<div class=\"note-editor note-airframe\"/>');\nvar
    airEditable = renderer[\"a\" /* default */].create(['<div class=\"note-editable\"
    contentEditable=\"true\" role=\"textbox\" aria-multiline=\"true\"></div>', '<output
    class=\"note-status-output\" role=\"status\" aria-live=\"polite\"></output>'].join(''));\nvar
    buttonGroup = renderer[\"a\" /* default */].create('<div class=\"note-btn-group\">');\nvar
    ui_button = renderer[\"a\" /* default */].create('<button type=\"button\" class=\"note-btn\"
    tabindex=\"-1\">', function ($node, options) {\n  // set button type\n  if (options
    && options.tooltip) {\n    $node.attr({\n      'aria-label': options.tooltip\n
    \   });\n    $node.data('_lite_tooltip', new ui_TooltipUI($node, {\n      title:
    options.tooltip,\n      container: options.container\n    })).on('click', function
    (e) {\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(e.currentTarget).data('_lite_tooltip').hide();\n
    \   });\n  }\n\n  if (options.contents) {\n    $node.html(options.contents);\n
    \ }\n\n  if (options && options.data && options.data.toggle === 'dropdown') {\n
    \   $node.data('_lite_dropdown', new ui_DropdownUI($node, {\n      container:
    options.container\n    }));\n  }\n\n  if (options && options.codeviewKeepButton)
    {\n    $node.addClass('note-codeview-keep');\n  }\n});\nvar dropdown = renderer[\"a\"
    /* default */].create('<div class=\"note-dropdown-menu\" role=\"list\">', function
    ($node, options) {\n  var markup = Array.isArray(options.items) ? options.items.map(function
    (item) {\n    var value = typeof item === 'string' ? item : item.value || '';\n
    \   var content = options.template ? options.template(item) : item;\n    var $temp
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<a
    class=\"note-dropdown-item\" href=\"#\" data-value=\"' + value + '\" role=\"listitem\"
    aria-label=\"' + value + '\"></a>');\n    $temp.html(content).data('item', item);\n
    \   return $temp;\n  }) : options.items;\n  $node.html(markup).attr({\n    'aria-label':
    options.title\n  });\n  $node.on('click', '> .note-dropdown-item', function (e)
    {\n    var $a = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this);\n
    \   var item = $a.data('item');\n    var value = $a.data('value');\n\n    if (item.click)
    {\n      item.click($a);\n    } else if (options.itemClick) {\n      options.itemClick(e,
    item, value);\n    }\n  });\n\n  if (options && options.codeviewKeepButton) {\n
    \   $node.addClass('note-codeview-keep');\n  }\n});\nvar dropdownCheck = renderer[\"a\"
    /* default */].create('<div class=\"note-dropdown-menu note-check\" role=\"list\">',
    function ($node, options) {\n  var markup = Array.isArray(options.items) ? options.items.map(function
    (item) {\n    var value = typeof item === 'string' ? item : item.value || '';\n
    \   var content = options.template ? options.template(item) : item;\n    var $temp
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<a
    class=\"note-dropdown-item\" href=\"#\" data-value=\"' + value + '\" role=\"listitem\"
    aria-label=\"' + item + '\"></a>');\n    $temp.html([icon(options.checkClassName),
    ' ', content]).data('item', item);\n    return $temp;\n  }) : options.items;\n
    \ $node.html(markup).attr({\n    'aria-label': options.title\n  });\n  $node.on('click',
    '> .note-dropdown-item', function (e) {\n    var $a = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this);\n
    \   var item = $a.data('item');\n    var value = $a.data('value');\n\n    if (item.click)
    {\n      item.click($a);\n    } else if (options.itemClick) {\n      options.itemClick(e,
    item, value);\n    }\n  });\n\n  if (options && options.codeviewKeepButton) {\n
    \   $node.addClass('note-codeview-keep');\n  }\n});\n\nvar dropdownButtonContents
    = function dropdownButtonContents(contents, options) {\n  return contents + '
    ' + icon(options.icons.caret, 'span');\n};\n\nvar dropdownButton = function dropdownButton(opt,
    callback) {\n  return buttonGroup([ui_button({\n    className: 'dropdown-toggle',\n
    \   contents: opt.title + ' ' + icon('note-icon-caret'),\n    tooltip: opt.tooltip,\n
    \   data: {\n      toggle: 'dropdown'\n    }\n  }), dropdown({\n    className:
    opt.className,\n    items: opt.items,\n    template: opt.template,\n    itemClick:
    opt.itemClick\n  })], {\n    callback: callback\n  }).render();\n};\n\nvar dropdownCheckButton
    = function dropdownCheckButton(opt, callback) {\n  return buttonGroup([ui_button({\n
    \   className: 'dropdown-toggle',\n    contents: opt.title + ' ' + icon('note-icon-caret'),\n
    \   tooltip: opt.tooltip,\n    data: {\n      toggle: 'dropdown'\n    }\n  }),
    dropdownCheck({\n    className: opt.className,\n    checkClassName: opt.checkClassName,\n
    \   items: opt.items,\n    template: opt.template,\n    itemClick: opt.itemClick\n
    \ })], {\n    callback: callback\n  }).render();\n};\n\nvar paragraphDropdownButton
    = function paragraphDropdownButton(opt) {\n  return buttonGroup([ui_button({\n
    \   className: 'dropdown-toggle',\n    contents: opt.title + ' ' + icon('note-icon-caret'),\n
    \   tooltip: opt.tooltip,\n    data: {\n      toggle: 'dropdown'\n    }\n  }),
    dropdown([buttonGroup({\n    className: 'note-align',\n    children: opt.items[0]\n
    \ }), buttonGroup({\n    className: 'note-list',\n    children: opt.items[1]\n
    \ })])]).render();\n};\n\nvar ui_tableMoveHandler = function tableMoveHandler(event,
    col, row) {\n  var PX_PER_EM = 18;\n  var $picker = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target.parentNode);
    // target is mousecatcher\n\n  var $dimensionDisplay = $picker.next();\n  var
    $catcher = $picker.find('.note-dimension-picker-mousecatcher');\n  var $highlighted
    = $picker.find('.note-dimension-picker-highlighted');\n  var $unhighlighted =
    $picker.find('.note-dimension-picker-unhighlighted');\n  var posOffset; // HTML5
    with jQuery - e.offsetX is undefined in Firefox\n\n  if (event.offsetX === undefined)
    {\n    var posCatcher = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target).offset();\n
    \   posOffset = {\n      x: event.pageX - posCatcher.left,\n      y: event.pageY
    - posCatcher.top\n    };\n  } else {\n    posOffset = {\n      x: event.offsetX,\n
    \     y: event.offsetY\n    };\n  }\n\n  var dim = {\n    c: Math.ceil(posOffset.x
    / PX_PER_EM) || 1,\n    r: Math.ceil(posOffset.y / PX_PER_EM) || 1\n  };\n  $highlighted.css({\n
    \   width: dim.c + 'em',\n    height: dim.r + 'em'\n  });\n  $catcher.data('value',
    dim.c + 'x' + dim.r);\n\n  if (dim.c > 3 && dim.c < col) {\n    $unhighlighted.css({\n
    \     width: dim.c + 1 + 'em'\n    });\n  }\n\n  if (dim.r > 3 && dim.r < row)
    {\n    $unhighlighted.css({\n      height: dim.r + 1 + 'em'\n    });\n  }\n\n
    \ $dimensionDisplay.html(dim.c + ' x ' + dim.r);\n};\n\nvar tableDropdownButton
    = function tableDropdownButton(opt) {\n  return buttonGroup([ui_button({\n    className:
    'dropdown-toggle',\n    contents: opt.title + ' ' + icon('note-icon-caret'),\n
    \   tooltip: opt.tooltip,\n    data: {\n      toggle: 'dropdown'\n    }\n  }),
    dropdown({\n    className: 'note-table',\n    items: ['<div class=\"note-dimension-picker\">',
    '<div class=\"note-dimension-picker-mousecatcher\" data-event=\"insertTable\"
    data-value=\"1x1\"></div>', '<div class=\"note-dimension-picker-highlighted\"></div>',
    '<div class=\"note-dimension-picker-unhighlighted\"></div>', '</div>', '<div class=\"note-dimension-display\">1
    x 1</div>'].join('')\n  })], {\n    callback: function callback($node) {\n      var
    $catcher = $node.find('.note-dimension-picker-mousecatcher');\n      $catcher.css({\n
    \       width: opt.col + 'em',\n        height: opt.row + 'em'\n      }).mousedown(opt.itemClick).mousemove(function
    (e) {\n        ui_tableMoveHandler(e, opt.col, opt.row);\n      });\n    }\n  }).render();\n};\n\nvar
    palette = renderer[\"a\" /* default */].create('<div class=\"note-color-palette\"/>',
    function ($node, options) {\n  var contents = [];\n\n  for (var row = 0, rowSize
    = options.colors.length; row < rowSize; row++) {\n    var eventName = options.eventName;\n
    \   var colors = options.colors[row];\n    var colorsName = options.colorsName[row];\n
    \   var buttons = [];\n\n    for (var col = 0, colSize = colors.length; col <
    colSize; col++) {\n      var color = colors[col];\n      var colorName = colorsName[col];\n
    \     buttons.push(['<button type=\"button\" class=\"note-btn note-color-btn\"',
    'style=\"background-color:', color, '\" ', 'data-event=\"', eventName, '\" ',
    'data-value=\"', color, '\" ', 'data-title=\"', colorName, '\" ', 'aria-label=\"',
    colorName, '\" ', 'data-toggle=\"button\" tabindex=\"-1\"></button>'].join(''));\n
    \   }\n\n    contents.push('<div class=\"note-color-row\">' + buttons.join('')
    + '</div>');\n  }\n\n  $node.html(contents.join(''));\n  $node.find('.note-color-btn').each(function
    () {\n    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this).data('_lite_tooltip',
    new ui_TooltipUI(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this),
    {\n      container: options.container\n    }));\n  });\n});\n\nvar ui_colorDropdownButton
    = function colorDropdownButton(opt, type) {\n  return buttonGroup({\n    className:
    'note-color',\n    children: [ui_button({\n      className: 'note-current-color-button',\n
    \     contents: opt.title,\n      tooltip: opt.lang.color.recent,\n      click:
    opt.currentClick,\n      callback: function callback($button) {\n        var $recentColor
    = $button.find('.note-recent-color');\n\n        if (type !== 'foreColor') {\n
    \         $recentColor.css('background-color', '#FFFF00');\n          $button.attr('data-backColor',
    '#FFFF00');\n        }\n      }\n    }), ui_button({\n      className: 'dropdown-toggle',\n
    \     contents: icon('note-icon-caret'),\n      tooltip: opt.lang.color.more,\n
    \     data: {\n        toggle: 'dropdown'\n      }\n    }), dropdown({\n      items:
    ['<div>', '<div class=\"note-btn-group btn-background-color\">', '<div class=\"note-palette-title\">'
    + opt.lang.color.background + '</div>', '<div>', '<button type=\"button\" class=\"note-color-reset
    note-btn note-btn-block\" data-event=\"backColor\" data-value=\"transparent\">',
    opt.lang.color.transparent, '</button>', '</div>', '<div class=\"note-holder\"
    data-event=\"backColor\"></div>', '<div class=\"btn-sm\">', '<input type=\"color\"
    id=\"html5bcp\" class=\"note-btn btn-default\" value=\"#21104A\" style=\"width:100%;\"
    data-value=\"cp\">', '<button type=\"button\" class=\"note-color-reset btn\" data-event=\"backColor\"
    data-value=\"cpbackColor\">', opt.lang.color.cpSelect, '</button>', '</div>',
    '</div>', '<div class=\"note-btn-group btn-foreground-color\">', '<div class=\"note-palette-title\">'
    + opt.lang.color.foreground + '</div>', '<div>', '<button type=\"button\" class=\"note-color-reset
    note-btn note-btn-block\" data-event=\"removeFormat\" data-value=\"foreColor\">',
    opt.lang.color.resetToDefault, '</button>', '</div>', '<div class=\"note-holder\"
    data-event=\"foreColor\"></div>', '<div class=\"btn-sm\">', '<input type=\"color\"
    id=\"html5fcp\" class=\"note-btn btn-default\" value=\"#21104A\" style=\"width:100%;\"
    data-value=\"cp\">', '<button type=\"button\" class=\"note-color-reset btn\" data-event=\"foreColor\"
    data-value=\"cpforeColor\">', opt.lang.color.cpSelect, '</button>', '</div>',
    '</div>', '</div>'].join(''),\n      callback: function callback($dropdown) {\n
    \       $dropdown.find('.note-holder').each(function () {\n          var $holder
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this);\n
    \         $holder.append(palette({\n            colors: opt.colors,\n            eventName:
    $holder.data('event')\n          }).render());\n        });\n\n        if (type
    === 'fore') {\n          $dropdown.find('.btn-background-color').hide();\n          $dropdown.css({\n
    \           'min-width': '210px'\n          });\n        } else if (type === 'back')
    {\n          $dropdown.find('.btn-foreground-color').hide();\n          $dropdown.css({\n
    \           'min-width': '210px'\n          });\n        }\n      },\n      click:
    function click(event) {\n        var $button = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target);\n
    \       var eventName = $button.data('event');\n        var value = $button.data('value');\n
    \       var foreinput = document.getElementById('html5fcp').value;\n        var
    backinput = document.getElementById('html5bcp').value;\n\n        if (value ===
    'cp') {\n          event.stopPropagation();\n        } else if (value === 'cpbackColor')
    {\n          value = backinput;\n        } else if (value === 'cpforeColor') {\n
    \         value = foreinput;\n        }\n\n        if (eventName && value) {\n
    \         var key = eventName === 'backColor' ? 'background-color' : 'color';\n
    \         var $color = $button.closest('.note-color').find('.note-recent-color');\n
    \         var $currentButton = $button.closest('.note-color').find('.note-current-color-button');\n
    \         $color.css(key, value);\n          $currentButton.attr('data-' + eventName,
    value);\n\n          if (type === 'fore') {\n            opt.itemClick('foreColor',
    value);\n          } else if (type === 'back') {\n            opt.itemClick('backColor',
    value);\n          } else {\n            opt.itemClick(eventName, value);\n          }\n
    \       }\n      }\n    })]\n  }).render();\n};\n\nvar dialog = renderer[\"a\"
    /* default */].create('<div class=\"note-modal\" aria-hidden=\"false\" tabindex=\"-1\"
    role=\"dialog\"/>', function ($node, options) {\n  if (options.fade) {\n    $node.addClass('fade');\n
    \ }\n\n  $node.attr({\n    'aria-label': options.title\n  });\n  $node.html(['<div
    class=\"note-modal-content\">', options.title ? '<div class=\"note-modal-header\"><button
    type=\"button\" class=\"close\" aria-label=\"Close\" aria-hidden=\"true\"><i class=\"note-icon-close\"></i></button><h4
    class=\"note-modal-title\">' + options.title + '</h4></div>' : '', '<div class=\"note-modal-body\">'
    + options.body + '</div>', options.footer ? '<div class=\"note-modal-footer\">'
    + options.footer + '</div>' : '', '</div>'].join(''));\n  $node.data('modal',
    new ui_ModalUI($node, options));\n});\n\nvar videoDialog = function videoDialog(opt)
    {\n  var body = '<div class=\"note-form-group\">' + '<label for=\"note-dialog-video-url-'
    + opt.id + '\" class=\"note-form-label\">' + opt.lang.video.url + ' <small class=\"text-muted\">'
    + opt.lang.video.providers + '</small></label>' + '<input id=\"note-dialog-video-url-'
    + opt.id + '\" class=\"note-video-url note-input\" type=\"text\"/>' + '</div>';\n
    \ var footer = ['<button type=\"button\" href=\"#\" class=\"note-btn note-btn-primary
    note-video-btn disabled\" disabled>', opt.lang.video.insert, '</button>'].join('');\n
    \ return dialog({\n    title: opt.lang.video.insert,\n    fade: opt.fade,\n    body:
    body,\n    footer: footer\n  }).render();\n};\n\nvar imageDialog = function imageDialog(opt)
    {\n  var body = '<div class=\"note-form-group note-group-select-from-files\">'
    + '<label for=\"note-dialog-image-file-' + opt.id + '\" class=\"note-form-label\">'
    + opt.lang.image.selectFromFiles + '</label>' + '<input id=\"note-dialog-image-file-'
    + opt.id + '\" class=\"note-note-image-input note-input\" type=\"file\" name=\"files\"
    accept=\"image/*\" multiple=\"multiple\"/>' + opt.imageLimitation + '</div>' +
    '<div class=\"note-form-group\">' + '<label for=\"note-dialog-image-url-' + opt.id
    + '\" class=\"note-form-label\">' + opt.lang.image.url + '</label>' + '<input
    id=\"note-dialog-image-url-' + opt.id + '\" class=\"note-image-url note-input\"
    type=\"text\"/>' + '</div>';\n  var footer = ['<button href=\"#\" type=\"button\"
    class=\"note-btn note-btn-primary note-btn-large note-image-btn disabled\" disabled>',
    opt.lang.image.insert, '</button>'].join('');\n  return dialog({\n    title: opt.lang.image.insert,\n
    \   fade: opt.fade,\n    body: body,\n    footer: footer\n  }).render();\n};\n\nvar
    linkDialog = function linkDialog(opt) {\n  var body = '<div class=\"note-form-group\">'
    + '<label for=\"note-dialog-link-txt-' + opt.id + '\" class=\"note-form-label\">'
    + opt.lang.link.textToDisplay + '</label>' + '<input id=\"note-dialog-link-txt-'
    + opt.id + '\" class=\"note-link-text note-input\" type=\"text\"/>' + '</div>'
    + '<div class=\"note-form-group\">' + '<label for=\"note-dialog-link-url-' + opt.id
    + '\" class=\"note-form-label\">' + opt.lang.link.url + '</label>' + '<input id=\"note-dialog-link-url-'
    + opt.id + '\" class=\"note-link-url note-input\" type=\"text\" value=\"http://\"/>'
    + '</div>' + (!opt.disableLinkTarget ? '<div class=\"checkbox\"><label for=\"note-dialog-link-nw-'
    + opt.id + '\"><input id=\"note-dialog-link-nw-' + opt.id + '\" type=\"checkbox\"
    checked> ' + opt.lang.link.openInNewWindow + '</label></div>' : '') + '<div class=\"checkbox\"><label
    for=\"note-dialog-link-up-' + opt.id + '\"><input id=\"note-dialog-link-up-' +
    opt.id + '\" type=\"checkbox\" checked> ' + opt.lang.link.useProtocol + '</label></div>';\n
    \ var footer = ['<button href=\"#\" type=\"button\" class=\"note-btn note-btn-primary
    note-link-btn disabled\" disabled>', opt.lang.link.insert, '</button>'].join('');\n
    \ return dialog({\n    className: 'link-dialog',\n    title: opt.lang.link.insert,\n
    \   fade: opt.fade,\n    body: body,\n    footer: footer\n  }).render();\n};\n\nvar
    popover = renderer[\"a\" /* default */].create(['<div class=\"note-popover bottom\">',
    '<div class=\"note-popover-arrow\"></div>', '<div class=\"popover-content note-children-container\"></div>',
    '</div>'].join(''), function ($node, options) {\n  var direction = typeof options.direction
    !== 'undefined' ? options.direction : 'bottom';\n  $node.addClass(direction).hide();\n\n
    \ if (options.hideArrow) {\n    $node.find('.note-popover-arrow').hide();\n  }\n});\nvar
    ui_checkbox = renderer[\"a\" /* default */].create('<div class=\"checkbox\"></div>',
    function ($node, options) {\n  $node.html(['<label' + (options.id ? ' for=\"note-'
    + options.id + '\"' : '') + '>', '<input role=\"checkbox\" type=\"checkbox\"'
    + (options.id ? ' id=\"note-' + options.id + '\"' : ''), options.checked ? ' checked'
    : '', ' aria-checked=\"' + (options.checked ? 'true' : 'false') + '\"/>', options.text
    ? options.text : '', '</label>'].join(''));\n});\n\nvar icon = function icon(iconClassName,
    tagName) {\n  tagName = tagName || 'i';\n  return '<' + tagName + ' class=\"'
    + iconClassName + '\"/>';\n};\n\nvar ui = function ui(editorOptions) {\n  return
    {\n    editor: editor,\n    toolbar: toolbar,\n    editingArea: editingArea,\n
    \   codable: codable,\n    editable: editable,\n    statusbar: statusbar,\n    airEditor:
    airEditor,\n    airEditable: airEditable,\n    buttonGroup: buttonGroup,\n    button:
    ui_button,\n    dropdown: dropdown,\n    dropdownCheck: dropdownCheck,\n    dropdownButton:
    dropdownButton,\n    dropdownButtonContents: dropdownButtonContents,\n    dropdownCheckButton:
    dropdownCheckButton,\n    paragraphDropdownButton: paragraphDropdownButton,\n
    \   tableDropdownButton: tableDropdownButton,\n    colorDropdownButton: ui_colorDropdownButton,\n
    \   palette: palette,\n    dialog: dialog,\n    videoDialog: videoDialog,\n    imageDialog:
    imageDialog,\n    linkDialog: linkDialog,\n    popover: popover,\n    checkbox:
    ui_checkbox,\n    icon: icon,\n    options: editorOptions,\n    toggleBtn: function
    toggleBtn($btn, isEnable) {\n      $btn.toggleClass('disabled', !isEnable);\n
    \     $btn.attr('disabled', !isEnable);\n    },\n    toggleBtnActive: function
    toggleBtnActive($btn, isActive) {\n      $btn.toggleClass('active', isActive);\n
    \   },\n    check: function check($dom, value) {\n      $dom.find('.checked').removeClass('checked');\n
    \     $dom.find('[data-value=\"' + value + '\"]').addClass('checked');\n    },\n
    \   onDialogShown: function onDialogShown($dialog, handler) {\n      $dialog.one('note.modal.show',
    handler);\n    },\n    onDialogHidden: function onDialogHidden($dialog, handler)
    {\n      $dialog.one('note.modal.hide', handler);\n    },\n    showDialog: function
    showDialog($dialog) {\n      $dialog.data('modal').show();\n    },\n    hideDialog:
    function hideDialog($dialog) {\n      $dialog.data('modal').hide();\n    },\n\n
    \   /**\n     * get popover content area\n     *\n     * @param $popover\n     *
    @returns {*}\n     */\n    getPopoverContent: function getPopoverContent($popover)
    {\n      return $popover.find('.note-popover-content');\n    },\n\n    /**\n     *
    get dialog's body area\n     *\n     * @param $dialog\n     * @returns {*}\n     */\n
    \   getDialogBody: function getDialogBody($dialog) {\n      return $dialog.find('.note-modal-body');\n
    \   },\n    createLayout: function createLayout($note) {\n      var $editor =
    (editorOptions.airMode ? airEditor([editingArea([codable(), airEditable()])])
    : editorOptions.toolbarPosition === 'bottom' ? editor([editingArea([codable(),
    editable()]), toolbar(), statusbar()]) : editor([toolbar(), editingArea([codable(),
    editable()]), statusbar()])).render();\n      $editor.insertAfter($note);\n      return
    {\n        note: $note,\n        editor: $editor,\n        toolbar: $editor.find('.note-toolbar'),\n
    \       editingArea: $editor.find('.note-editing-area'),\n        editable: $editor.find('.note-editable'),\n
    \       codable: $editor.find('.note-codable'),\n        statusbar: $editor.find('.note-statusbar')\n
    \     };\n    },\n    removeLayout: function removeLayout($note, layoutInfo) {\n
    \     $note.html(layoutInfo.editable.html());\n      layoutInfo.editor.remove();\n
    \     $note.off('summernote'); // remove summernote custom event\n\n      $note.show();\n
    \   }\n  };\n};\n\n/* harmony default export */ var lite_ui = (ui);\n// EXTERNAL
    MODULE: ./src/js/base/settings.js + 37 modules\nvar settings = __webpack_require__(3);\n\n//
    EXTERNAL MODULE: ./src/styles/summernote-lite.scss\nvar summernote_lite = __webpack_require__(6);\n\n//
    CONCATENATED MODULE: ./src/js/lite/settings.js\n\n\n\n\nexternal_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote,
    {\n  ui_template: lite_ui,\n  \"interface\": 'lite'\n});\n\n/***/ }),\n\n/***/
    6:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by
    mini-css-extract-plugin\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=summernote-lite.js.map"
  uploads-admin-Public-Admin-plugins-summernote-summernote-lite.js.map: '{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external
    {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}","webpack:///./src/js/base/renderer.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/js/base/summernote-en-US.js","webpack:///./src/js/base/core/env.js","webpack:///./src/js/base/core/func.js","webpack:///./src/js/base/core/lists.js","webpack:///./src/js/base/core/dom.js","webpack:///./src/js/base/Context.js","webpack:///./src/js/summernote.js","webpack:///./src/js/base/core/range.js","webpack:///./src/js/base/core/key.js","webpack:///./src/js/base/core/async.js","webpack:///./src/js/base/editing/History.js","webpack:///./src/js/base/editing/Style.js","webpack:///./src/js/base/editing/Bullet.js","webpack:///./src/js/base/editing/Typing.js","webpack:///./src/js/base/editing/Table.js","webpack:///./src/js/base/module/Editor.js","webpack:///./src/js/base/module/Clipboard.js","webpack:///./src/js/base/module/Dropzone.js","webpack:///./src/js/base/module/Codeview.js","webpack:///./src/js/base/module/Statusbar.js","webpack:///./src/js/base/module/Fullscreen.js","webpack:///./src/js/base/module/Handle.js","webpack:///./src/js/base/module/AutoLink.js","webpack:///./src/js/base/module/AutoSync.js","webpack:///./src/js/base/module/AutoReplace.js","webpack:///./src/js/base/module/Placeholder.js","webpack:///./src/js/base/module/Buttons.js","webpack:///./src/js/base/module/Toolbar.js","webpack:///./src/js/base/module/LinkDialog.js","webpack:///./src/js/base/module/LinkPopover.js","webpack:///./src/js/base/module/ImageDialog.js","webpack:///./src/js/base/module/ImagePopover.js","webpack:///./src/js/base/module/TablePopover.js","webpack:///./src/js/base/module/VideoDialog.js","webpack:///./src/js/base/module/HelpDialog.js","webpack:///./src/js/base/module/AirPopover.js","webpack:///./src/js/base/module/HintPopover.js","webpack:///./src/js/base/settings.js","webpack:///./src/js/lite/ui/TooltipUI.js","webpack:///./src/js/lite/ui/DropdownUI.js","webpack:///./src/js/lite/ui/ModalUI.js","webpack:///./src/js/lite/ui.js","webpack:///./src/js/lite/settings.js","webpack:///./src/styles/summernote-lite.scss"],"names":["Renderer","markup","children","options","callback","$parent","$node","$","contents","html","className","addClass","data","each","k","v","attr","click","on","$container","find","forEach","child","render","length","append","create","arguments","Array","isArray","summernote","lang","extend","font","bold","italic","underline","clear","height","name","strikethrough","subscript","superscript","size","sizeunit","image","insert","resizeFull","resizeHalf","resizeQuarter","resizeNone","floatLeft","floatRight","floatNone","shapeRounded","shapeCircle","shapeThumbnail","shapeNone","dragImageHere","dropImage","selectFromFiles","maximumFileSize","maximumFileSizeError","url","remove","original","video","videoLink","providers","link","unlink","edit","textToDisplay","openInNewWindow","useProtocol","table","addRowAbove","addRowBelow","addColLeft","addColRight","delRow","delCol","delTable","hr","style","p","blockquote","pre","h1","h2","h3","h4","h5","h6","lists","unordered","ordered","help","fullscreen","codeview","paragraph","outdent","indent","left","center","right","justify","color","recent","more","background","foreground","transparent","setTransparent","reset","resetToDefault","cpSelect","shortcut","shortcuts","close","textFormatting","action","paragraphFormatting","documentStyle","extraKeys","history","undo","redo","specialChar","select","output","noSelection","isSupportAmd","define","genericFontFamilies","validFontName","fontName","inArray","toLowerCase","isFontInstalled","testFontName","testText","testSize","canvas","document","createElement","context","getContext","originalWidth","measureText","width","userAgent","navigator","isMSIE","test","browserVersion","matches","exec","parseFloat","isEdge","isSupportTouch","window","MaxTouchPoints","msMaxTouchPoints","inputEventName","isMac","appVersion","indexOf","isFF","isPhantom","isWebkit","isChrome","isSafari","jqueryVersion","fn","jquery","isW3CRangeSupport","createRange","eq","itemA","itemB","eq2","peq2","propName","ok","fail","not","f","apply","and","fA","fB","item","self","a","invoke","obj","method","idCounter","resetUniqueId","uniqueId","prefix","id","rect2bnd","rect","$document","top","scrollTop","scrollLeft","bottom","invertObject","inverted","key","Object","prototype","hasOwnProperty","call","namespaceToCamel","namespace","split","map","substring","toUpperCase","join","debounce","func","wait","immediate","timeout","args","later","callNow","clearTimeout","setTimeout","isValidUrl","expression","head","array","last","initial","slice","tail","pred","idx","len","all","contains","sum","reduce","memo","from","collection","result","isEmpty","clusterBy","aTail","aLast","compact","aResult","push","unique","results","next","prev","NBSP_CHAR","String","fromCharCode","ZERO_WIDTH_NBSP_CHAR","isEditable","node","hasClass","isControlSizing","makePredByNodeName","nodeName","isText","nodeType","isElement","isVoid","isPara","isHeading","isPre","isLi","isPurePara","isTable","isData","isInline","isBodyContainer","isList","isHr","isBlockquote","isCell","isAnchor","isParaInline","ancestor","isBodyInline","isBody","isClosestSibling","nodeA","nodeB","nextSibling","previousSibling","withClosestSiblings","siblings","blankHTML","env","nodeLength","nodeValue","childNodes","deepestChildIsEmpty","firstElementChild","innerHTML","paddingBlankHTML","parentNode","singleChildAncestor","listAncestor","ancestors","el","lastAncestor","filter","commonAncestor","n","listPrev","nodes","listNext","listDescendant","descendants","fnWalk","current","wrap","wrapperName","parent","wrapper","insertBefore","appendChild","insertAfter","preceding","appendChildNodes","aChild","isLeftEdgePoint","point","offset","isRightEdgePoint","isEdgePoint","isLeftEdgeOf","position","isRightEdgeOf","isLeftEdgePointOf","isRightEdgePointOf","hasChildren","prevPoint","isSkipInnerOffset","nextPoint","nextTextNode","getNextTextNode","nextPointWithEmptyNode","actual","undefined","isSamePoint","pointA","pointB","isVisiblePoint","leftNode","rightNode","prevPointUntil","nextPointUntil","isCharPoint","ch","charAt","isSpacePoint","walkPoint","startPoint","endPoint","handler","isSkipOffset","makeOffsetPath","reverse","fromOffsetPath","offsets","i","splitNode","isSkipPaddingBlankHTML","isNotSplitEdgePoint","isDiscardEmptySplits","splitText","childNode","clone","cloneNode","splitTree","root","splitPoint","topAncestor","splitRoot","container","pivot","createText","text","createTextNode","isRemoveChild","removeNode","removeChild","removeWhile","replace","newNode","cssText","isTextarea","value","stripLinebreaks","val","isNewlineOnBlock","regexTag","match","endSlash","isEndOfInlineContainer","isBlockNode","trim","posFromPlaceholder","placeholder","$placeholder","pos","outerHeight","attachEvents","events","keys","detachEvents","off","isCustomStyleTag","classList","blank","emptyPara","isBlock","isDiv","isBR","isSpan","isB","isU","isS","isI","isImg","isEmptyAnchor","Context","$note","memos","modules","layoutInfo","ui","ui_template","initialize","createLayout","_initialize","hide","_destroy","removeData","removeLayout","disabled","isDisabled","code","dom","disable","now","editor","buttons","plugins","module","initializeModule","removeModule","removeMemo","triggerEvent","isActivated","codable","editable","editing","callbacks","trigger","shouldInitialize","ModuleClass","withoutIntialize","destroy","event","createInvokeHandler","preventDefault","$target","target","closest","splits","hasSeparator","moduleName","methodName","type","isExternalAPICalled","hasInitOptions","langInfo","icons","tooltip","note","first","focus","textRangeToPoint","textRange","isStart","parentElement","tester","body","createTextRange","prevContainer","moveToElementText","compareEndPoints","textRangeStart","curTextNode","collapse","firstChild","pointTester","duplicate","setEndPoint","textCount","dummy","cont","pointToTextRange","textRangeInfo","isCollapseToStart","prevTextNodes","collapseToStart","info","moveStart","WrappedRange","sc","so","ec","eo","isOnEditable","makeIsOn","isOnList","isOnAnchor","isOnCell","isOnData","w3cRange","setStart","setEnd","nativeRng","nativeRange","selection","getSelection","rangeCount","removeAllRanges","addRange","offsetTop","Math","abs","getVisiblePoint","isLeftToRight","block","hasRightNode","hasLeftNode","getEndPoint","isCollapsed","getStartPoint","includeAncestor","fullyContains","leftEdgeNodes","startAncestor","endAncestor","boundaryPoints","getPoints","isSameContainer","rng","emptyParents","normalize","inlineSiblings","concat","para","wrapBodyInlineWithPara","deleteContents","contentsContainer","reversed","insertNode","toString","findAfter","isNotTextPoint","regex","index","s","path","e","paras","getClientRects","wrappedRange","createFromSelection","bodyElement","lastChild","createFromBodyElement","createFromNode","anchorNode","getRangeAt","startContainer","startOffset","endContainer","endOffset","textRangeEnd","isTextNode","createFromNodeBefore","createFromNodeAfter","createFromBookmark","bookmark","createFromParaBookmark","KEY_MAP","isEdit","keyCode","BACKSPACE","TAB","ENTER","SPACE","DELETE","isMove","LEFT","UP","RIGHT","DOWN","isNavigation","HOME","END","PAGEUP","PAGEDOWN","nameFromCode","readFileAsDataURL","file","Deferred","deferred","FileReader","onload","dataURL","resolve","onerror","err","reject","readAsDataURL","promise","createImage","$img","one","detach","css","display","appendTo","History","stack","stackOffset","$editable","range","emptyBookmark","snapshot","recordUndo","applySnapshot","makeSnapshot","historyLimit","shift","Style","$obj","propertyNames","propertyName","properties","styleInfo","jQueryCSS","fontSize","parseInt","expandClosestSibling","onlyPartialContains","nodesInRange","tails","elem","$cont","fromNode","queryCommandState","queryCommandValue","orderedTypes","isUnordered","lineHeight","toFixed","anchor","Bullet","toggleList","clustereds","previousList","findList","wrapList","appendToPrevious","releaseList","listName","paraBookmark","wrappedParas","diffLists","listNode","prevList","nextList","isEscapseToBody","releasedParas","headList","parentItem","newList","findNextSiblings","lastList","middleList","rootLists","rootList","listNodes","Typing","bullet","tabsize","tab","nextPara","blockquoteBreakingLevel","emptyAnchors","scrollIntoView","TableResultAction","where","domTable","_startPoint","_virtualTable","_actionCellList","setStartPoint","tagName","colPos","cellIndex","rowPos","rowIndex","setVirtualTablePosition","baseRow","baseCell","isRowSpan","isColSpan","isVirtualCell","objPosition","getActionCell","virtualTableCellObj","resultAction","virtualRowPosition","virtualColPosition","recoverCellIndex","newCellIndex","addCellInfoToVirtual","row","cell","cellHasColspan","colSpan","cellHasRowspan","rowSpan","isThisSelectedCell","rowspanNumber","attributes","rp","rowspanIndex","adjustStartPoint","colspanNumber","cp","cellspanIndex","isSelectedCell","createVirtualTable","rows","cells","getDeleteResultActionToCell","Column","SubtractSpanCount","Row","isVirtual","AddCell","RemoveCell","getAddResultActionToCell","SumSpanCount","Ignore","init","getActionList","fixedRow","fixedCol","actualPosition","canContinue","rowPosition","colPosition","requestAction","Add","Delete","Table","isShift","nextCell","currentTr","trAttributes","recoverAttributes","vTable","actions","idCell","currentCell","tdAttributes","baseCellTr","isTopFromRowSpan","newTd","removeAttr","setAttribute","before","lastTrIndex","after","rowsGroup","actionIndex","resultStr","attrList","specified","cellPos","virtualPosition","virtualTable","hasRowspan","nextRow","cloneRow","removeAttribute","hasColspan","colCount","rowCount","tds","tdHTML","idxCol","trs","trHTML","idxRow","$table","tableClassName","KEY_BOGUS","Editor","$editor","lastRange","typing","escape","untab","insertParagraph","insertOrderedList","insertUnorderedList","formatPara","insertHorizontalRule","commands","sCmd","beforeCommand","execCommand","afterCommand","wrapCommand","fontStyling","unit","currentStyle","fontSizeUnit","formatBlock","isLimited","getLastRange","setLastRange","insertText","textNode","pasteHTML","onApplyCustomStyle","onFormatBlock","hrNode","stylePara","createLink","linkInfo","linkUrl","linkText","isNewWindow","checkProtocol","additionalTextLength","isTextChanged","onCreateLink","defaultProtocol","anchors","styleNodes","createRangeFromList","colorInfo","foreColor","backColor","insertTable","dim","dimension","createTable","removeMedia","restoreTarget","floatMe","toggleClass","resize","hasKeyShortCut","isDefaultPrevented","handleKeyMap","preventDefaultEditableShortCuts","recordEveryKeystroke","spellCheck","disableGrammar","airMode","overrideContextMenu","outerWidth","maxHeight","minHeight","keyMap","metaKey","ctrlKey","altKey","shiftKey","keyName","eventName","tabDisable","pad","maxTextLength","lst","startRange","endRange","thenCollapse","commit","styleWithCSS","isPreventTrigger","normalizeContent","tabSize","insertTab","src","param","then","$image","min","show","files","filename","maximumImageFileSize","insertImage","onImageUpload","insertImagesAsDataURL","currentRange","spans","firstSpan","noteStatusOutput","expand","$anchor","addRow","addCol","deleteRow","deleteCol","deleteTable","bKeepRatio","imageSize","newRatio","y","x","ratio","is","hasFocus","Clipboard","pasteByEvent","bind","clipboardData","originalEvent","items","kind","getAsFile","getData","Dropzone","$eventListener","documentEventHandlers","$dropzone","prependTo","disableDragAndDrop","onDrop","attachDragAndDropEvent","$dropzoneMessage","onDragenter","isCodeview","hasEditorSize","add","onDragleave","removeClass","dataTransfer","types","content","substr","CodeView","$codable","CodeMirrorConstructor","CodeMirror","codemirror","getDoc","setValue","save","ESCAPE","deactivate","activate","codeviewFilter","codeviewFilterRegex","codeviewIframeFilter","whitelist","codeviewIframeWhitelistSrc","codeviewIframeWhitelistSrcBase","tag","RegExp","prettifyHtml","cmEditor","fromTextArea","tern","server","TernServer","ternServer","cm","updateArgHints","getValue","setSize","toTextArea","purify","isChange","EDITABLE_PADDING","Statusbar","$statusbar","statusbar","disableResizeEditor","stopPropagation","editableTop","onMouseMove","clientY","minheight","max","Fullscreen","$toolbar","toolbar","$window","$scrollbar","onResize","resizeTo","h","setsize","isFullscreen","Handle","$editingArea","editingArea","we","update","$handle","disableResizeImage","posStart","clientX","isImage","$selection","w","origImageObj","Image","sizingText","defaultScheme","linkPattern","AutoLink","handleKeyup","handleKeydown","lastWordRange","keyword","urlText","showDomainOnlyForAutolink","linkTargetBlank","wordRange","getWordRange","AutoSync","AutoReplace","PERIOD","COMMA","SEMICOLON","SLASH","previousKeydownCode","lastWord","jQuery","Node","Placeholder","inheritPlaceholder","isShow","toggle","Buttons","invertedKeyMap","editorMethod","o","button","addToolbarButtons","addImagePopoverButtons","addLinkPopoverButtons","addTablePopoverButtons","fontInstalledMap","fontNamesIgnoreCheck","buttonGroup","icon","$button","currentTarget","$recentColor","colorButton","dropdownButtonContents","dropdown","$dropdown","$holder","palette","colors","colorsName","customColors","change","$chip","$picker","$palette","prepend","$color","$currentButton","magic","styleTags","title","template","styleIdx","styleLen","representShortcut","createInvokeHandlerAndUpdateState","eraser","addDefaultFonts","fontname","isFontDeservedToAdd","fontNames","dropdownCheck","checkClassName","menuCheck","fontSizes","fontSizeUnits","colorPalette","unorderedlist","orderedlist","justifyLeft","alignLeft","justifyCenter","alignCenter","justifyRight","alignRight","justifyFull","alignJustify","textHeight","lineHeights","$catcher","insertTableMaxSize","col","mousedown","tableMoveHandler","picture","minus","arrowsAlt","question","rollback","trash","rowAbove","rowBelow","colBefore","colAfter","rowRemove","colRemove","groups","groupIdx","groupLen","group","groupName","$group","btn","updateBtnStates","$item","isChecked","infos","selector","toggleBtnActive","PX_PER_EM","$dimensionDisplay","$highlighted","$unhighlighted","posOffset","offsetX","posCatcher","pageX","pageY","offsetY","c","ceil","r","Toolbar","isFollowing","followScroll","toolbarContainer","changeContainer","followingToolbar","editorHeight","editorWidth","toolbarHeight","statusbarHeight","otherBarHeight","otherStaticBar","currentOffset","editorOffsetTop","editorOffsetBottom","activateOffset","deactivateOffsetBottom","marginTop","zIndex","isIncludeCodeview","$btn","toggleBtn","LinkDialog","$body","dialogsInBody","disableLinkTarget","checkbox","checked","buttonClass","footer","$dialog","dialog","fade","dialogsFade","hideDialog","$input","$linkBtn","$linkText","$linkUrl","$openInNewWindow","$useProtocol","onDialogShown","toggleLinkBtn","bindEnterKey","isNewWindowChecked","prop","useProtocolChecked","onDialogHidden","state","showDialog","showLinkDialog","LinkPopover","popover","$popover","$content","href","containerOffset","ImageDialog","imageLimitation","floor","log","readableSize","pow","showImageDialog","onImageLinkInsert","$imageInput","$imageUrl","$imageBtn","replaceWith","ImagePopover","popatmouse","TablePopover","VideoDialog","ytRegExp","ytRegExpForStart","ytMatch","igRegExp","igMatch","vRegExp","vMatch","vimRegExp","vimMatch","dmRegExp","dmMatch","youkuRegExp","youkuMatch","qqRegExp","qqMatch","qqRegExp2","qqMatch2","mp4RegExp","mp4Match","oggRegExp","oggMatch","webmRegExp","webmMatch","fbRegExp","fbMatch","$video","youtubeId","start","ytMatchForStart","vid","encodeURIComponent","showVideoDialog","createVideoNode","$videoUrl","$videoBtn","HelpDialog","createShortcutList","command","$row","showHelpDialog","AIRMODE_POPOVER_X_OFFSET","AIRMODE_POPOVER_Y_OFFSET","AirPopover","hidable","onContextmenu","air","forcelyOpen","POPOVER_DIST","HintPopover","hint","direction","hintDirection","hints","matchingWord","hideArrow","innerHeight","$current","$next","selectItem","$nextGroup","$prev","$prevGroup","nodeFromItem","rangeCompute","hintSelect","hintIdx","moveUp","moveDown","search","searchKeyword","createItemTemplates","hintMode","getWordsRange","getWordsMatchRange","empty","bnd","createGroup","version","Codeview","toolbarPosition","codeviewKeepButton","tabDisabled","textareaAutoSync","onBeforeCommand","onBlur","onBlurCodeview","onChange","onChangeCodeview","onEnter","onFocus","onImageUploadError","onInit","onKeydown","onKeyup","onMousedown","onMouseup","onPaste","onScroll","mode","htmlMode","lineNumbers","pc","mac","TooltipUI","placement","$tooltip","showCallback","hideCallback","toggleCallback","targetOffset","nodeWidth","nodeHeight","tooltipWidth","tooltipHeight","DropdownUI","setEvent","stopImmediatePropagation","windowWidth","targetMarginRight","isOpened","ModalUI","$modal","$backdrop","which","renderer","airEditor","airEditable","$temp","$a","itemClick","caret","dropdownButton","opt","dropdownCheckButton","paragraphDropdownButton","tableDropdownButton","mousemove","rowSize","colSize","colorName","colorDropdownButton","currentClick","foreinput","getElementById","backinput","videoDialog","imageDialog","linkDialog","iconClassName","editorOptions","isEnable","isActive","check","$dom","getPopoverContent","getDialogBody"],"mappings":"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","file":"summernote-lite.js","sourcesContent":["(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === ''object''
    && typeof module === ''object'')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse
    if(typeof define === ''function'' && define.amd)\n\t\tdefine([\"jquery\"], factory);\n\telse
    {\n\t\tvar a = typeof exports === ''object'' ? factory(require(\"jquery\")) :
    factory(root[\"jQuery\"]);\n\t\tfor(var i in a) (typeof exports === ''object''
    ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__)
    {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The
    require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check
    if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n
    \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module
    = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports:
    {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n
    \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn
    module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n
    \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c
    = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d
    = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name))
    {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter
    });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r
    = function(exports) {\n \t\tif(typeof Symbol !== ''undefined'' && Symbol.toStringTag)
    {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: ''Module''
    });\n \t\t}\n \t\tObject.defineProperty(exports, ''__esModule'', { value: true
    });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a
    module id, require it\n \t// mode & 2: merge all properties of value into the
    ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave
    like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode
    & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode
    & 4) && typeof value === ''object'' && value && value.__esModule) return value;\n
    \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns,
    ''default'', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof
    value != ''string'') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport
    function for compatibility with non-harmony modules\n \t__webpack_require__.n
    = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction
    getDefault() { return module[''default'']; } :\n \t\t\tfunction getModuleExports()
    { return module; };\n \t\t__webpack_require__.d(getter, ''a'', getter);\n \t\treturn
    getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n
    \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s
    = 51);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import $ from ''jquery'';\n\nclass
    Renderer {\n  constructor(markup, children, options, callback) {\n    this.markup
    = markup;\n    this.children = children;\n    this.options = options;\n    this.callback
    = callback;\n  }\n\n  render($parent) {\n    const $node = $(this.markup);\n\n    if
    (this.options && this.options.contents) {\n      $node.html(this.options.contents);\n    }\n\n    if
    (this.options && this.options.className) {\n      $node.addClass(this.options.className);\n    }\n\n    if
    (this.options && this.options.data) {\n      $.each(this.options.data, (k, v)
    => {\n        $node.attr(''data-'' + k, v);\n      });\n    }\n\n    if (this.options
    && this.options.click) {\n      $node.on(''click'', this.options.click);\n    }\n\n    if
    (this.children) {\n      const $container = $node.find(''.note-children-container'');\n      this.children.forEach((child)
    => {\n        child.render($container.length ? $container : $node);\n      });\n    }\n\n    if
    (this.callback) {\n      this.callback($node, this.options);\n    }\n\n    if
    (this.options && this.options.callback) {\n      this.options.callback($node);\n    }\n\n    if
    ($parent) {\n      $parent.append($node);\n    }\n\n    return $node;\n  }\n}\n\nexport
    default {\n  create: (markup, callback) => {\n    return function() {\n      const
    options = typeof arguments[1] === ''object'' ? arguments[1] : arguments[0];\n      let
    children = Array.isArray(arguments[0]) ? arguments[0] : [];\n      if (options
    && options.children) {\n        children = options.children;\n      }\n      return
    new Renderer(markup, children, options, callback);\n    };\n  },\n};\n","/* globals
    __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","import
    $ from ''jquery'';\n\n$.summernote = $.summernote || {\n  lang: {},\n};\n\n$.extend($.summernote.lang,
    {\n  ''en-US'': {\n    font: {\n      bold: ''Bold'',\n      italic: ''Italic'',\n      underline:
    ''Underline'',\n      clear: ''Remove Font Style'',\n      height: ''Line Height'',\n      name:
    ''Font Family'',\n      strikethrough: ''Strikethrough'',\n      subscript: ''Subscript'',\n      superscript:
    ''Superscript'',\n      size: ''Font Size'',\n      sizeunit: ''Font Size Unit'',\n    },\n    image:
    {\n      image: ''Picture'',\n      insert: ''Insert Image'',\n      resizeFull:
    ''Resize full'',\n      resizeHalf: ''Resize half'',\n      resizeQuarter: ''Resize
    quarter'',\n      resizeNone: ''Original size'',\n      floatLeft: ''Float Left'',\n      floatRight:
    ''Float Right'',\n      floatNone: ''Remove float'',\n      shapeRounded: ''Shape:
    Rounded'',\n      shapeCircle: ''Shape: Circle'',\n      shapeThumbnail: ''Shape:
    Thumbnail'',\n      shapeNone: ''Shape: None'',\n      dragImageHere: ''Drag image
    or text here'',\n      dropImage: ''Drop image or Text'',\n      selectFromFiles:
    ''Select from files'',\n      maximumFileSize: ''Maximum file size'',\n      maximumFileSizeError:
    ''Maximum file size exceeded.'',\n      url: ''Image URL'',\n      remove: ''Remove
    Image'',\n      original: ''Original'',\n    },\n    video: {\n      video: ''Video'',\n      videoLink:
    ''Video Link'',\n      insert: ''Insert Video'',\n      url: ''Video URL'',\n      providers:
    ''(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)'',\n    },\n    link:
    {\n      link: ''Link'',\n      insert: ''Insert Link'',\n      unlink: ''Unlink'',\n      edit:
    ''Edit'',\n      textToDisplay: ''Text to display'',\n      url: ''To what URL
    should this link go?'',\n      openInNewWindow: ''Open in new window'',\n      useProtocol:
    ''Use default protocol'',\n    },\n    table: {\n      table: ''Table'',\n      addRowAbove:
    ''Add row above'',\n      addRowBelow: ''Add row below'',\n      addColLeft: ''Add
    column left'',\n      addColRight: ''Add column right'',\n      delRow: ''Delete
    row'',\n      delCol: ''Delete column'',\n      delTable: ''Delete table'',\n    },\n    hr:
    {\n      insert: ''Insert Horizontal Rule'',\n    },\n    style: {\n      style:
    ''Style'',\n      p: ''Normal'',\n      blockquote: ''Quote'',\n      pre: ''Code'',\n      h1:
    ''Header 1'',\n      h2: ''Header 2'',\n      h3: ''Header 3'',\n      h4: ''Header
    4'',\n      h5: ''Header 5'',\n      h6: ''Header 6'',\n    },\n    lists: {\n      unordered:
    ''Unordered list'',\n      ordered: ''Ordered list'',\n    },\n    options: {\n      help:
    ''Help'',\n      fullscreen: ''Full Screen'',\n      codeview: ''Code View'',\n    },\n    paragraph:
    {\n      paragraph: ''Paragraph'',\n      outdent: ''Outdent'',\n      indent:
    ''Indent'',\n      left: ''Align left'',\n      center: ''Align center'',\n      right:
    ''Align right'',\n      justify: ''Justify full'',\n    },\n    color: {\n      recent:
    ''Recent Color'',\n      more: ''More Color'',\n      background: ''Background
    Color'',\n      foreground: ''Text Color'',\n      transparent: ''Transparent'',\n      setTransparent:
    ''Set transparent'',\n      reset: ''Reset'',\n      resetToDefault: ''Reset to
    default'',\n      cpSelect: ''Select'',\n    },\n    shortcut: {\n      shortcuts:
    ''Keyboard shortcuts'',\n      close: ''Close'',\n      textFormatting: ''Text
    formatting'',\n      action: ''Action'',\n      paragraphFormatting: ''Paragraph
    formatting'',\n      documentStyle: ''Document Style'',\n      extraKeys: ''Extra
    keys'',\n    },\n    help: {\n      ''escape'': ''Escape'',\n      ''insertParagraph'':
    ''Insert Paragraph'',\n      ''undo'': ''Undo the last command'',\n      ''redo'':
    ''Redo the last command'',\n      ''tab'': ''Tab'',\n      ''untab'': ''Untab'',\n      ''bold'':
    ''Set a bold style'',\n      ''italic'': ''Set a italic style'',\n      ''underline'':
    ''Set a underline style'',\n      ''strikethrough'': ''Set a strikethrough style'',\n      ''removeFormat'':
    ''Clean a style'',\n      ''justifyLeft'': ''Set left align'',\n      ''justifyCenter'':
    ''Set center align'',\n      ''justifyRight'': ''Set right align'',\n      ''justifyFull'':
    ''Set full align'',\n      ''insertUnorderedList'': ''Toggle unordered list'',\n      ''insertOrderedList'':
    ''Toggle ordered list'',\n      ''outdent'': ''Outdent on current paragraph'',\n      ''indent'':
    ''Indent on current paragraph'',\n      ''formatPara'': ''Change current block\\''s
    format as a paragraph(P tag)'',\n      ''formatH1'': ''Change current block\\''s
    format as H1'',\n      ''formatH2'': ''Change current block\\''s format as H2'',\n      ''formatH3'':
    ''Change current block\\''s format as H3'',\n      ''formatH4'': ''Change current
    block\\''s format as H4'',\n      ''formatH5'': ''Change current block\\''s format
    as H5'',\n      ''formatH6'': ''Change current block\\''s format as H6'',\n      ''insertHorizontalRule'':
    ''Insert horizontal rule'',\n      ''linkDialog.show'': ''Show Link Dialog'',\n    },\n    history:
    {\n      undo: ''Undo'',\n      redo: ''Redo'',\n    },\n    specialChar: {\n      specialChar:
    ''SPECIAL CHARACTERS'',\n      select: ''Select Special characters'',\n    },\n    output:
    {\n      noSelection: ''No Selection Made!'',\n    },\n  },\n});\n","import $
    from ''jquery'';\nconst isSupportAmd = typeof define === ''function'' && define.amd;
    // eslint-disable-line\n\n/**\n * returns whether font is installed or not.\n
    *\n * @param {String} fontName\n * @return {Boolean}\n */\nconst genericFontFamilies
    = [''sans-serif'', ''serif'', ''monospace'', ''cursive'', ''fantasy''];\n\nfunction
    validFontName(fontName) {\n  return ($.inArray(fontName.toLowerCase(), genericFontFamilies)
    === -1) ? `''${fontName}''` : fontName;\n}\n\nfunction isFontInstalled(fontName)
    {\n  const testFontName = fontName === ''Comic Sans MS'' ? ''Courier New'' : ''Comic
    Sans MS'';\n  const testText = ''mmmmmmmmmmwwwww'';\n  const testSize = ''200px'';\n\n  var
    canvas = document.createElement(''canvas'');\n  var context = canvas.getContext(''2d'');\n\n  context.font
    = testSize + \" ''\" + testFontName + \"''\";\n  const originalWidth = context.measureText(testText).width;\n\n  context.font
    = testSize + '' '' + validFontName(fontName) + '', \"'' + testFontName + ''\"'';\n  const
    width = context.measureText(testText).width;\n\n  return originalWidth !== width;\n}\n\nconst
    userAgent = navigator.userAgent;\nconst isMSIE = /MSIE|Trident/i.test(userAgent);\nlet
    browserVersion;\nif (isMSIE) {\n  let matches = /MSIE (\\d+[.]\\d+)/.exec(userAgent);\n  if
    (matches) {\n    browserVersion = parseFloat(matches[1]);\n  }\n  matches = /Trident\\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(userAgent);\n  if
    (matches) {\n    browserVersion = parseFloat(matches[1]);\n  }\n}\n\nconst isEdge
    = /Edge\\/\\d+/.test(userAgent);\n\nconst isSupportTouch =\n  ((''ontouchstart''
    in window) ||\n   (navigator.MaxTouchPoints > 0) ||\n   (navigator.msMaxTouchPoints
    > 0));\n\n// [workaround] IE doesn''t have input events for contentEditable\n//
    - see: https://goo.gl/4bfIvA\nconst inputEventName = (isMSIE) ? ''DOMCharacterDataModified
    DOMSubtreeModified DOMNodeInserted'' : ''input'';\n\n/**\n * @class core.env\n
    *\n * Object which check platform and agent\n *\n * @singleton\n * @alternateClassName
    env\n */\nexport default {\n  isMac: navigator.appVersion.indexOf(''Mac'') > -1,\n  isMSIE,\n  isEdge,\n  isFF:
    !isEdge && /firefox/i.test(userAgent),\n  isPhantom: /PhantomJS/i.test(userAgent),\n  isWebkit:
    !isEdge && /webkit/i.test(userAgent),\n  isChrome: !isEdge && /chrome/i.test(userAgent),\n  isSafari:
    !isEdge && /safari/i.test(userAgent) && (!/chrome/i.test(userAgent)),\n  browserVersion,\n  jqueryVersion:
    parseFloat($.fn.jquery),\n  isSupportAmd,\n  isSupportTouch,\n  isFontInstalled,\n  isW3CRangeSupport:
    !!document.createRange,\n  inputEventName,\n  genericFontFamilies,\n  validFontName,\n};\n","import
    $ from ''jquery'';\n\n/**\n * @class core.func\n *\n * func utils (for high-order
    func''s arg)\n *\n * @singleton\n * @alternateClassName func\n */\nfunction eq(itemA)
    {\n  return function(itemB) {\n    return itemA === itemB;\n  };\n}\n\nfunction
    eq2(itemA, itemB) {\n  return itemA === itemB;\n}\n\nfunction peq2(propName) {\n  return
    function(itemA, itemB) {\n    return itemA[propName] === itemB[propName];\n  };\n}\n\nfunction
    ok() {\n  return true;\n}\n\nfunction fail() {\n  return false;\n}\n\nfunction
    not(f) {\n  return function() {\n    return !f.apply(f, arguments);\n  };\n}\n\nfunction
    and(fA, fB) {\n  return function(item) {\n    return fA(item) && fB(item);\n  };\n}\n\nfunction
    self(a) {\n  return a;\n}\n\nfunction invoke(obj, method) {\n  return function()
    {\n    return obj[method].apply(obj, arguments);\n  };\n}\n\nlet idCounter = 0;\n\n/**\n
    * reset globally-unique id\n *\n */\nfunction resetUniqueId() {\n  idCounter =
    0;\n}\n\n/**\n * generate a globally-unique id\n *\n * @param {String} [prefix]\n
    */\nfunction uniqueId(prefix) {\n  const id = ++idCounter + '''';\n  return prefix
    ? prefix + id : id;\n}\n\n/**\n * returns bnd (bounds) from rect\n *\n * - IE
    Compatibility Issue: http://goo.gl/sRLOAo\n * - Scroll Issue: http://goo.gl/sNjUc\n
    *\n * @param {Rect} rect\n * @return {Object} bounds\n * @return {Number} bounds.top\n
    * @return {Number} bounds.left\n * @return {Number} bounds.width\n * @return {Number}
    bounds.height\n */\nfunction rect2bnd(rect) {\n  const $document = $(document);\n  return
    {\n    top: rect.top + $document.scrollTop(),\n    left: rect.left + $document.scrollLeft(),\n    width:
    rect.right - rect.left,\n    height: rect.bottom - rect.top,\n  };\n}\n\n/**\n
    * returns a copy of the object where the keys have become the values and the values
    the keys.\n * @param {Object} obj\n * @return {Object}\n */\nfunction invertObject(obj)
    {\n  const inverted = {};\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj,
    key)) {\n      inverted[obj[key]] = key;\n    }\n  }\n  return inverted;\n}\n\n/**\n
    * @param {String} namespace\n * @param {String} [prefix]\n * @return {String}\n
    */\nfunction namespaceToCamel(namespace, prefix) {\n  prefix = prefix || '''';\n  return
    prefix + namespace.split(''.'').map(function(name) {\n    return name.substring(0,
    1).toUpperCase() + name.substring(1);\n  }).join('''');\n}\n\n/**\n * Returns
    a function, that, as long as it continues to be invoked, will not\n * be triggered.
    The function will be called after it stops being called for\n * N milliseconds.
    If `immediate` is passed, trigger the function on the\n * leading edge, instead
    of the trailing.\n * @param {Function} func\n * @param {Number} wait\n * @param
    {Boolean} immediate\n * @return {Function}\n */\nfunction debounce(func, wait,
    immediate) {\n  let timeout;\n  return function() {\n    const context = this;\n    const
    args = arguments;\n    const later = () => {\n      timeout = null;\n      if
    (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    const
    callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later,
    wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n}\n\n/**\n
    *\n * @param {String} url\n * @return {Boolean}\n */\nfunction isValidUrl(url)
    {\n  const expression = /[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/gi;\n  return
    expression.test(url);\n}\n\nexport default {\n  eq,\n  eq2,\n  peq2,\n  ok,\n  fail,\n  self,\n  not,\n  and,\n  invoke,\n  resetUniqueId,\n  uniqueId,\n  rect2bnd,\n  invertObject,\n  namespaceToCamel,\n  debounce,\n  isValidUrl,\n};\n","import
    func from ''./func'';\n\n/**\n * returns the first item of an array.\n *\n * @param
    {Array} array\n */\nfunction head(array) {\n  return array[0];\n}\n\n/**\n * returns
    the last item of an array.\n *\n * @param {Array} array\n */\nfunction last(array)
    {\n  return array[array.length - 1];\n}\n\n/**\n * returns everything but the
    last entry of the array.\n *\n * @param {Array} array\n */\nfunction initial(array)
    {\n  return array.slice(0, array.length - 1);\n}\n\n/**\n * returns the rest of
    the items in an array.\n *\n * @param {Array} array\n */\nfunction tail(array)
    {\n  return array.slice(1);\n}\n\n/**\n * returns item of array\n */\nfunction
    find(array, pred) {\n  for (let idx = 0, len = array.length; idx < len; idx++)
    {\n    const item = array[idx];\n    if (pred(item)) {\n      return item;\n    }\n  }\n}\n\n/**\n
    * returns true if all of the values in the array pass the predicate truth test.\n
    */\nfunction all(array, pred) {\n  for (let idx = 0, len = array.length; idx <
    len; idx++) {\n    if (!pred(array[idx])) {\n      return false;\n    }\n  }\n  return
    true;\n}\n\n/**\n * returns true if the value is present in the list.\n */\nfunction
    contains(array, item) {\n  if (array && array.length && item) {\n    if (array.indexOf)
    {\n      return array.indexOf(item) !== -1;\n    } else if (array.contains) {\n      //
    `DOMTokenList` doesn''t implement `.indexOf`, but it implements `.contains`\n      return
    array.contains(item);\n    }\n  }\n  return false;\n}\n\n/**\n * get sum from
    a list\n *\n * @param {Array} array - array\n * @param {Function} fn - iterator\n
    */\nfunction sum(array, fn) {\n  fn = fn || func.self;\n  return array.reduce(function(memo,
    v) {\n    return memo + fn(v);\n  }, 0);\n}\n\n/**\n * returns a copy of the collection
    with array type.\n * @param {Collection} collection - collection eg) node.childNodes,
    ...\n */\nfunction from(collection) {\n  const result = [];\n  const length =
    collection.length;\n  let idx = -1;\n  while (++idx < length) {\n    result[idx]
    = collection[idx];\n  }\n  return result;\n}\n\n/**\n * returns whether list is
    empty or not\n */\nfunction isEmpty(array) {\n  return !array || !array.length;\n}\n\n/**\n
    * cluster elements by predicate function.\n *\n * @param {Array} array - array\n
    * @param {Function} fn - predicate function for cluster rule\n * @param {Array[]}\n
    */\nfunction clusterBy(array, fn) {\n  if (!array.length) { return []; }\n  const
    aTail = tail(array);\n  return aTail.reduce(function(memo, v) {\n    const aLast
    = last(memo);\n    if (fn(last(aLast), v)) {\n      aLast[aLast.length] = v;\n    }
    else {\n      memo[memo.length] = [v];\n    }\n    return memo;\n  }, [[head(array)]]);\n}\n\n/**\n
    * returns a copy of the array with all false values removed\n *\n * @param {Array}
    array - array\n * @param {Function} fn - predicate function for cluster rule\n
    */\nfunction compact(array) {\n  const aResult = [];\n  for (let idx = 0, len
    = array.length; idx < len; idx++) {\n    if (array[idx]) { aResult.push(array[idx]);
    }\n  }\n  return aResult;\n}\n\n/**\n * produces a duplicate-free version of the
    array\n *\n * @param {Array} array\n */\nfunction unique(array) {\n  const results
    = [];\n\n  for (let idx = 0, len = array.length; idx < len; idx++) {\n    if (!contains(results,
    array[idx])) {\n      results.push(array[idx]);\n    }\n  }\n\n  return results;\n}\n\n/**\n
    * returns next item.\n * @param {Array} array\n */\nfunction next(array, item)
    {\n  if (array && array.length && item) {\n    const idx = array.indexOf(item);\n    return
    idx === -1 ? null : array[idx + 1];\n  }\n  return null;\n}\n\n/**\n * returns
    prev item.\n * @param {Array} array\n */\nfunction prev(array, item) {\n  if (array
    && array.length && item) {\n    const idx = array.indexOf(item);\n    return idx
    === -1 ? null : array[idx - 1];\n  }\n  return null;\n}\n\n/**\n * @class core.list\n
    *\n * list utils\n *\n * @singleton\n * @alternateClassName list\n */\nexport
    default {\n  head,\n  last,\n  initial,\n  tail,\n  prev,\n  next,\n  find,\n  contains,\n  all,\n  sum,\n  from,\n  isEmpty,\n  clusterBy,\n  compact,\n  unique,\n};\n","import
    $ from ''jquery'';\nimport func from ''./func'';\nimport lists from ''./lists'';\nimport
    env from ''./env'';\n\nconst NBSP_CHAR = String.fromCharCode(160);\nconst ZERO_WIDTH_NBSP_CHAR
    = ''\\ufeff'';\n\n/**\n * @method isEditable\n *\n * returns whether node is `note-editable`
    or not.\n *\n * @param {Node} node\n * @return {Boolean}\n */\nfunction isEditable(node)
    {\n  return node && $(node).hasClass(''note-editable'');\n}\n\n/**\n * @method
    isControlSizing\n *\n * returns whether node is `note-control-sizing` or not.\n
    *\n * @param {Node} node\n * @return {Boolean}\n */\nfunction isControlSizing(node)
    {\n  return node && $(node).hasClass(''note-control-sizing'');\n}\n\n/**\n * @method
    makePredByNodeName\n *\n * returns predicate which judge whether nodeName is same\n
    *\n * @param {String} nodeName\n * @return {Function}\n */\nfunction makePredByNodeName(nodeName)
    {\n  nodeName = nodeName.toUpperCase();\n  return function(node) {\n    return
    node && node.nodeName.toUpperCase() === nodeName;\n  };\n}\n\n/**\n * @method
    isText\n *\n *\n *\n * @param {Node} node\n * @return {Boolean} true if node''s
    type is text(3)\n */\nfunction isText(node) {\n  return node && node.nodeType
    === 3;\n}\n\n/**\n * @method isElement\n *\n *\n *\n * @param {Node} node\n *
    @return {Boolean} true if node''s type is element(1)\n */\nfunction isElement(node)
    {\n  return node && node.nodeType === 1;\n}\n\n/**\n * ex) br, col, embed, hr,
    img, input, ...\n * @see http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\n
    */\nfunction isVoid(node) {\n  return node && /^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(node.nodeName.toUpperCase());\n}\n\nfunction
    isPara(node) {\n  if (isEditable(node)) {\n    return false;\n  }\n\n  // Chrome(v31.0),
    FF(v25.0.1) use DIV for paragraph\n  return node && /^DIV|^P|^LI|^H[1-7]/.test(node.nodeName.toUpperCase());\n}\n\nfunction
    isHeading(node) {\n  return node && /^H[1-7]/.test(node.nodeName.toUpperCase());\n}\n\nconst
    isPre = makePredByNodeName(''PRE'');\n\nconst isLi = makePredByNodeName(''LI'');\n\nfunction
    isPurePara(node) {\n  return isPara(node) && !isLi(node);\n}\n\nconst isTable
    = makePredByNodeName(''TABLE'');\n\nconst isData = makePredByNodeName(''DATA'');\n\nfunction
    isInline(node) {\n  return !isBodyContainer(node) &&\n         !isList(node) &&\n         !isHr(node)
    &&\n         !isPara(node) &&\n         !isTable(node) &&\n         !isBlockquote(node)
    &&\n         !isData(node);\n}\n\nfunction isList(node) {\n  return node && /^UL|^OL/.test(node.nodeName.toUpperCase());\n}\n\nconst
    isHr = makePredByNodeName(''HR'');\n\nfunction isCell(node) {\n  return node &&
    /^TD|^TH/.test(node.nodeName.toUpperCase());\n}\n\nconst isBlockquote = makePredByNodeName(''BLOCKQUOTE'');\n\nfunction
    isBodyContainer(node) {\n  return isCell(node) || isBlockquote(node) || isEditable(node);\n}\n\nconst
    isAnchor = makePredByNodeName(''A'');\n\nfunction isParaInline(node) {\n  return
    isInline(node) && !!ancestor(node, isPara);\n}\n\nfunction isBodyInline(node)
    {\n  return isInline(node) && !ancestor(node, isPara);\n}\n\nconst isBody = makePredByNodeName(''BODY'');\n\n/**\n
    * returns whether nodeB is closest sibling of nodeA\n *\n * @param {Node} nodeA\n
    * @param {Node} nodeB\n * @return {Boolean}\n */\nfunction isClosestSibling(nodeA,
    nodeB) {\n  return nodeA.nextSibling === nodeB ||\n         nodeA.previousSibling
    === nodeB;\n}\n\n/**\n * returns array of closest siblings with node\n *\n * @param
    {Node} node\n * @param {function} [pred] - predicate function\n * @return {Node[]}\n
    */\nfunction withClosestSiblings(node, pred) {\n  pred = pred || func.ok;\n\n  const
    siblings = [];\n  if (node.previousSibling && pred(node.previousSibling)) {\n    siblings.push(node.previousSibling);\n  }\n  siblings.push(node);\n  if
    (node.nextSibling && pred(node.nextSibling)) {\n    siblings.push(node.nextSibling);\n  }\n  return
    siblings;\n}\n\n/**\n * blank HTML for cursor position\n * - [workaround] old
    IE only works with &nbsp;\n * - [workaround] IE11 and other browser works with
    bogus br\n */\nconst blankHTML = env.isMSIE && env.browserVersion < 11 ? ''&nbsp;''
    : ''<br>'';\n\n/**\n * @method nodeLength\n *\n * returns #text''s text size or
    element''s childNodes size\n *\n * @param {Node} node\n */\nfunction nodeLength(node)
    {\n  if (isText(node)) {\n    return node.nodeValue.length;\n  }\n\n  if (node)
    {\n    return node.childNodes.length;\n  }\n\n  return 0;\n}\n\n/**\n * returns
    whether deepest child node is empty or not.\n *\n * @param {Node} node\n * @return
    {Boolean}\n */\nfunction deepestChildIsEmpty(node) {\n  do {\n    if (node.firstElementChild
    === null || node.firstElementChild.innerHTML === '''') break;\n  } while ((node
    = node.firstElementChild));\n\n  return isEmpty(node);\n}\n\n/**\n * returns whether
    node is empty or not.\n *\n * @param {Node} node\n * @return {Boolean}\n */\nfunction
    isEmpty(node) {\n  const len = nodeLength(node);\n\n  if (len === 0) {\n    return
    true;\n  } else if (!isText(node) && len === 1 && node.innerHTML === blankHTML)
    {\n    // ex) <p><br></p>, <span><br></span>\n    return true;\n  } else if (lists.all(node.childNodes,
    isText) && node.innerHTML === '''') {\n    // ex) <p></p>, <span></span>\n    return
    true;\n  }\n\n  return false;\n}\n\n/**\n * padding blankHTML if node is empty
    (for cursor position)\n */\nfunction paddingBlankHTML(node) {\n  if (!isVoid(node)
    && !nodeLength(node)) {\n    node.innerHTML = blankHTML;\n  }\n}\n\n/**\n * find
    nearest ancestor predicate hit\n *\n * @param {Node} node\n * @param {Function}
    pred - predicate function\n */\nfunction ancestor(node, pred) {\n  while (node)
    {\n    if (pred(node)) { return node; }\n    if (isEditable(node)) { break; }\n\n    node
    = node.parentNode;\n  }\n  return null;\n}\n\n/**\n * find nearest ancestor only
    single child blood line and predicate hit\n *\n * @param {Node} node\n * @param
    {Function} pred - predicate function\n */\nfunction singleChildAncestor(node,
    pred) {\n  node = node.parentNode;\n\n  while (node) {\n    if (nodeLength(node)
    !== 1) { break; }\n    if (pred(node)) { return node; }\n    if (isEditable(node))
    { break; }\n\n    node = node.parentNode;\n  }\n  return null;\n}\n\n/**\n * returns
    new array of ancestor nodes (until predicate hit).\n *\n * @param {Node} node\n
    * @param {Function} [optional] pred - predicate function\n */\nfunction listAncestor(node,
    pred) {\n  pred = pred || func.fail;\n\n  const ancestors = [];\n  ancestor(node,
    function(el) {\n    if (!isEditable(el)) {\n      ancestors.push(el);\n    }\n\n    return
    pred(el);\n  });\n  return ancestors;\n}\n\n/**\n * find farthest ancestor predicate
    hit\n */\nfunction lastAncestor(node, pred) {\n  const ancestors = listAncestor(node);\n  return
    lists.last(ancestors.filter(pred));\n}\n\n/**\n * returns common ancestor node
    between two nodes.\n *\n * @param {Node} nodeA\n * @param {Node} nodeB\n */\nfunction
    commonAncestor(nodeA, nodeB) {\n  const ancestors = listAncestor(nodeA);\n  for
    (let n = nodeB; n; n = n.parentNode) {\n    if (ancestors.indexOf(n) > -1) return
    n;\n  }\n  return null; // difference document area\n}\n\n/**\n * listing all
    previous siblings (until predicate hit).\n *\n * @param {Node} node\n * @param
    {Function} [optional] pred - predicate function\n */\nfunction listPrev(node,
    pred) {\n  pred = pred || func.fail;\n\n  const nodes = [];\n  while (node) {\n    if
    (pred(node)) { break; }\n    nodes.push(node);\n    node = node.previousSibling;\n  }\n  return
    nodes;\n}\n\n/**\n * listing next siblings (until predicate hit).\n *\n * @param
    {Node} node\n * @param {Function} [pred] - predicate function\n */\nfunction listNext(node,
    pred) {\n  pred = pred || func.fail;\n\n  const nodes = [];\n  while (node) {\n    if
    (pred(node)) { break; }\n    nodes.push(node);\n    node = node.nextSibling;\n  }\n  return
    nodes;\n}\n\n/**\n * listing descendant nodes\n *\n * @param {Node} node\n * @param
    {Function} [pred] - predicate function\n */\nfunction listDescendant(node, pred)
    {\n  const descendants = [];\n  pred = pred || func.ok;\n\n  // start DFS(depth
    first search) with node\n  (function fnWalk(current) {\n    if (node !== current
    && pred(current)) {\n      descendants.push(current);\n    }\n    for (let idx
    = 0, len = current.childNodes.length; idx < len; idx++) {\n      fnWalk(current.childNodes[idx]);\n    }\n  })(node);\n\n  return
    descendants;\n}\n\n/**\n * wrap node with new tag.\n *\n * @param {Node} node\n
    * @param {Node} tagName of wrapper\n * @return {Node} - wrapper\n */\nfunction
    wrap(node, wrapperName) {\n  const parent = node.parentNode;\n  const wrapper
    = $(''<'' + wrapperName + ''>'')[0];\n\n  parent.insertBefore(wrapper, node);\n  wrapper.appendChild(node);\n\n  return
    wrapper;\n}\n\n/**\n * insert node after preceding\n *\n * @param {Node} node\n
    * @param {Node} preceding - predicate function\n */\nfunction insertAfter(node,
    preceding) {\n  const next = preceding.nextSibling;\n  let parent = preceding.parentNode;\n  if
    (next) {\n    parent.insertBefore(node, next);\n  } else {\n    parent.appendChild(node);\n  }\n  return
    node;\n}\n\n/**\n * append elements.\n *\n * @param {Node} node\n * @param {Collection}
    aChild\n */\nfunction appendChildNodes(node, aChild) {\n  $.each(aChild, function(idx,
    child) {\n    node.appendChild(child);\n  });\n  return node;\n}\n\n/**\n * returns
    whether boundaryPoint is left edge or not.\n *\n * @param {BoundaryPoint} point\n
    * @return {Boolean}\n */\nfunction isLeftEdgePoint(point) {\n  return point.offset
    === 0;\n}\n\n/**\n * returns whether boundaryPoint is right edge or not.\n *\n
    * @param {BoundaryPoint} point\n * @return {Boolean}\n */\nfunction isRightEdgePoint(point)
    {\n  return point.offset === nodeLength(point.node);\n}\n\n/**\n * returns whether
    boundaryPoint is edge or not.\n *\n * @param {BoundaryPoint} point\n * @return
    {Boolean}\n */\nfunction isEdgePoint(point) {\n  return isLeftEdgePoint(point)
    || isRightEdgePoint(point);\n}\n\n/**\n * returns whether node is left edge of
    ancestor or not.\n *\n * @param {Node} node\n * @param {Node} ancestor\n * @return
    {Boolean}\n */\nfunction isLeftEdgeOf(node, ancestor) {\n  while (node && node
    !== ancestor) {\n    if (position(node) !== 0) {\n      return false;\n    }\n    node
    = node.parentNode;\n  }\n\n  return true;\n}\n\n/**\n * returns whether node is
    right edge of ancestor or not.\n *\n * @param {Node} node\n * @param {Node} ancestor\n
    * @return {Boolean}\n */\nfunction isRightEdgeOf(node, ancestor) {\n  if (!ancestor)
    {\n    return false;\n  }\n  while (node && node !== ancestor) {\n    if (position(node)
    !== nodeLength(node.parentNode) - 1) {\n      return false;\n    }\n    node =
    node.parentNode;\n  }\n\n  return true;\n}\n\n/**\n * returns whether point is
    left edge of ancestor or not.\n * @param {BoundaryPoint} point\n * @param {Node}
    ancestor\n * @return {Boolean}\n */\nfunction isLeftEdgePointOf(point, ancestor)
    {\n  return isLeftEdgePoint(point) && isLeftEdgeOf(point.node, ancestor);\n}\n\n/**\n
    * returns whether point is right edge of ancestor or not.\n * @param {BoundaryPoint}
    point\n * @param {Node} ancestor\n * @return {Boolean}\n */\nfunction isRightEdgePointOf(point,
    ancestor) {\n  return isRightEdgePoint(point) && isRightEdgeOf(point.node, ancestor);\n}\n\n/**\n
    * returns offset from parent.\n *\n * @param {Node} node\n */\nfunction position(node)
    {\n  let offset = 0;\n  while ((node = node.previousSibling)) {\n    offset +=
    1;\n  }\n  return offset;\n}\n\nfunction hasChildren(node) {\n  return !!(node
    && node.childNodes && node.childNodes.length);\n}\n\n/**\n * returns previous
    boundaryPoint\n *\n * @param {BoundaryPoint} point\n * @param {Boolean} isSkipInnerOffset\n
    * @return {BoundaryPoint}\n */\nfunction prevPoint(point, isSkipInnerOffset) {\n  let
    node;\n  let offset;\n\n  if (point.offset === 0) {\n    if (isEditable(point.node))
    {\n      return null;\n    }\n\n    node = point.node.parentNode;\n    offset
    = position(point.node);\n  } else if (hasChildren(point.node)) {\n    node = point.node.childNodes[point.offset
    - 1];\n    offset = nodeLength(node);\n  } else {\n    node = point.node;\n    offset
    = isSkipInnerOffset ? 0 : point.offset - 1;\n  }\n\n  return {\n    node: node,\n    offset:
    offset,\n  };\n}\n\n/**\n * returns next boundaryPoint\n *\n * @param {BoundaryPoint}
    point\n * @param {Boolean} isSkipInnerOffset\n * @return {BoundaryPoint}\n */\nfunction
    nextPoint(point, isSkipInnerOffset) {\n  let node, offset;\n\n  if (nodeLength(point.node)
    === point.offset) {\n    if (isEditable(point.node)) {\n      return null;\n    }\n\n    let
    nextTextNode = getNextTextNode(point.node);\n    if (nextTextNode) {\n      node
    = nextTextNode;\n      offset = 0;\n    } else {\n      node = point.node.parentNode;\n      offset
    = position(point.node) + 1;\n    }\n  } else if (hasChildren(point.node)) {\n    node
    = point.node.childNodes[point.offset];\n    offset = 0;\n  } else {\n    node
    = point.node;\n    offset = isSkipInnerOffset ? nodeLength(point.node) : point.offset
    + 1;\n  }\n\n  return {\n    node: node,\n    offset: offset,\n  };\n}\n\n/**\n
    * returns next boundaryPoint with empty node\n *\n * @param {BoundaryPoint} point\n
    * @param {Boolean} isSkipInnerOffset\n * @return {BoundaryPoint}\n */\nfunction
    nextPointWithEmptyNode(point, isSkipInnerOffset) {\n  let node, offset;\n\n  //
    if node is empty string node, return current node''s sibling.\n  if (isEmpty(point.node))
    {\n    node = point.node.nextSibling;\n    offset = 0;\n\n    return {\n      node:
    node,\n      offset: offset,\n    };\n  }\n\n  if (nodeLength(point.node) ===
    point.offset) {\n    if (isEditable(point.node)) {\n      return null;\n    }\n\n    let
    nextTextNode = getNextTextNode(point.node);\n    if (nextTextNode) {\n      node
    = nextTextNode;\n      offset = 0;\n    } else {\n      node = point.node.parentNode;\n      offset
    = position(point.node) + 1;\n    }\n\n    // if next node is editable, return
    current node''s sibling node.\n    if (isEditable(node)) {\n      node = point.node.nextSibling;\n      offset
    = 0;\n    }\n  } else if (hasChildren(point.node)) {\n    node = point.node.childNodes[point.offset];\n    offset
    = 0;\n    if (isEmpty(node)) {\n      return null;\n    }\n  } else {\n    node
    = point.node;\n    offset = isSkipInnerOffset ? nodeLength(point.node) : point.offset
    + 1;\n\n    if (isEmpty(node)) {\n      return null;\n    }\n  }\n\n  return {\n    node:
    node,\n    offset: offset,\n  };\n}\n\n/*\n* returns the next Text node index
    or 0 if not found.\n*/\nfunction getNextTextNode(actual) {\n  if (!actual.nextSibling)
    return undefined;\n  if (actual.parent !== actual.nextSibling.parent) return undefined;\n  if
    (isText(actual.nextSibling)) return actual.nextSibling;\n  return getNextTextNode(actual.nextSibling);\n}\n\n/**\n
    * returns whether pointA and pointB is same or not.\n *\n * @param {BoundaryPoint}
    pointA\n * @param {BoundaryPoint} pointB\n * @return {Boolean}\n */\nfunction
    isSamePoint(pointA, pointB) {\n  return pointA.node === pointB.node && pointA.offset
    === pointB.offset;\n}\n\n/**\n * returns whether point is visible (can set cursor)
    or not.\n *\n * @param {BoundaryPoint} point\n * @return {Boolean}\n */\nfunction
    isVisiblePoint(point) {\n  if (isText(point.node) || !hasChildren(point.node)
    || isEmpty(point.node)) {\n    return true;\n  }\n\n  const leftNode = point.node.childNodes[point.offset
    - 1];\n  const rightNode = point.node.childNodes[point.offset];\n  if ((!leftNode
    || isVoid(leftNode)) && (!rightNode || isVoid(rightNode))) {\n    return true;\n  }\n\n  return
    false;\n}\n\n/**\n * @method prevPointUtil\n *\n * @param {BoundaryPoint} point\n
    * @param {Function} pred\n * @return {BoundaryPoint}\n */\nfunction prevPointUntil(point,
    pred) {\n  while (point) {\n    if (pred(point)) {\n      return point;\n    }\n\n    point
    = prevPoint(point);\n  }\n\n  return null;\n}\n\n/**\n * @method nextPointUntil\n
    *\n * @param {BoundaryPoint} point\n * @param {Function} pred\n * @return {BoundaryPoint}\n
    */\nfunction nextPointUntil(point, pred) {\n  while (point) {\n    if (pred(point))
    {\n      return point;\n    }\n\n    point = nextPoint(point);\n  }\n\n  return
    null;\n}\n\n/**\n * returns whether point has character or not.\n *\n * @param
    {Point} point\n * @return {Boolean}\n */\nfunction isCharPoint(point) {\n  if
    (!isText(point.node)) {\n    return false;\n  }\n\n  const ch = point.node.nodeValue.charAt(point.offset
    - 1);\n  return ch && (ch !== '' '' && ch !== NBSP_CHAR);\n}\n\n/**\n * returns
    whether point has space or not.\n *\n * @param {Point} point\n * @return {Boolean}\n
    */\nfunction isSpacePoint(point) {\n  if (!isText(point.node)) {\n    return false;\n  }\n\n  const
    ch = point.node.nodeValue.charAt(point.offset - 1);\n  return ch === '' '' ||
    ch === NBSP_CHAR;\n}\n\n/**\n * @method walkPoint\n *\n * @param {BoundaryPoint}
    startPoint\n * @param {BoundaryPoint} endPoint\n * @param {Function} handler\n
    * @param {Boolean} isSkipInnerOffset\n */\nfunction walkPoint(startPoint, endPoint,
    handler, isSkipInnerOffset) {\n  let point = startPoint;\n\n  while (point) {\n    handler(point);\n\n    if
    (isSamePoint(point, endPoint)) {\n      break;\n    }\n\n    const isSkipOffset
    = isSkipInnerOffset &&\n                       startPoint.node !== point.node
    &&\n                       endPoint.node !== point.node;\n    point = nextPointWithEmptyNode(point,
    isSkipOffset);\n  }\n}\n\n/**\n * @method makeOffsetPath\n *\n * return offsetPath(array
    of offset) from ancestor\n *\n * @param {Node} ancestor - ancestor node\n * @param
    {Node} node\n */\nfunction makeOffsetPath(ancestor, node) {\n  const ancestors
    = listAncestor(node, func.eq(ancestor));\n  return ancestors.map(position).reverse();\n}\n\n/**\n
    * @method fromOffsetPath\n *\n * return element from offsetPath(array of offset)\n
    *\n * @param {Node} ancestor - ancestor node\n * @param {array} offsets - offsetPath\n
    */\nfunction fromOffsetPath(ancestor, offsets) {\n  let current = ancestor;\n  for
    (let i = 0, len = offsets.length; i < len; i++) {\n    if (current.childNodes.length
    <= offsets[i]) {\n      current = current.childNodes[current.childNodes.length
    - 1];\n    } else {\n      current = current.childNodes[offsets[i]];\n    }\n  }\n  return
    current;\n}\n\n/**\n * @method splitNode\n *\n * split element or #text\n *\n
    * @param {BoundaryPoint} point\n * @param {Object} [options]\n * @param {Boolean}
    [options.isSkipPaddingBlankHTML] - default: false\n * @param {Boolean} [options.isNotSplitEdgePoint]
    - default: false\n * @param {Boolean} [options.isDiscardEmptySplits] - default:
    false\n * @return {Node} right node of boundaryPoint\n */\nfunction splitNode(point,
    options) {\n  let isSkipPaddingBlankHTML = options && options.isSkipPaddingBlankHTML;\n  const
    isNotSplitEdgePoint = options && options.isNotSplitEdgePoint;\n  const isDiscardEmptySplits
    = options && options.isDiscardEmptySplits;\n\n  if (isDiscardEmptySplits) {\n    isSkipPaddingBlankHTML
    = true;\n  }\n\n  // edge case\n  if (isEdgePoint(point) && (isText(point.node)
    || isNotSplitEdgePoint)) {\n    if (isLeftEdgePoint(point)) {\n      return point.node;\n    }
    else if (isRightEdgePoint(point)) {\n      return point.node.nextSibling;\n    }\n  }\n\n  //
    split #text\n  if (isText(point.node)) {\n    return point.node.splitText(point.offset);\n  }
    else {\n    const childNode = point.node.childNodes[point.offset];\n    const
    clone = insertAfter(point.node.cloneNode(false), point.node);\n    appendChildNodes(clone,
    listNext(childNode));\n\n    if (!isSkipPaddingBlankHTML) {\n      paddingBlankHTML(point.node);\n      paddingBlankHTML(clone);\n    }\n\n    if
    (isDiscardEmptySplits) {\n      if (isEmpty(point.node)) {\n        remove(point.node);\n      }\n      if
    (isEmpty(clone)) {\n        remove(clone);\n        return point.node.nextSibling;\n      }\n    }\n\n    return
    clone;\n  }\n}\n\n/**\n * @method splitTree\n *\n * split tree by point\n *\n
    * @param {Node} root - split root\n * @param {BoundaryPoint} point\n * @param
    {Object} [options]\n * @param {Boolean} [options.isSkipPaddingBlankHTML] - default:
    false\n * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\n *
    @return {Node} right node of boundaryPoint\n */\nfunction splitTree(root, point,
    options) {\n  // ex) [#text, <span>, <p>]\n  const ancestors = listAncestor(point.node,
    func.eq(root));\n\n  if (!ancestors.length) {\n    return null;\n  } else if (ancestors.length
    === 1) {\n    return splitNode(point, options);\n  }\n\n  return ancestors.reduce(function(node,
    parent) {\n    if (node === point.node) {\n      node = splitNode(point, options);\n    }\n\n    return
    splitNode({\n      node: parent,\n      offset: node ? position(node) : nodeLength(parent),\n    },
    options);\n  });\n}\n\n/**\n * split point\n *\n * @param {Point} point\n * @param
    {Boolean} isInline\n * @return {Object}\n */\nfunction splitPoint(point, isInline)
    {\n  // find splitRoot, container\n  //  - inline: splitRoot is a child of paragraph\n  //  -
    block: splitRoot is a child of bodyContainer\n  const pred = isInline ? isPara
    : isBodyContainer;\n  const ancestors = listAncestor(point.node, pred);\n  const
    topAncestor = lists.last(ancestors) || point.node;\n\n  let splitRoot, container;\n  if
    (pred(topAncestor)) {\n    splitRoot = ancestors[ancestors.length - 2];\n    container
    = topAncestor;\n  } else {\n    splitRoot = topAncestor;\n    container = splitRoot.parentNode;\n  }\n\n  //
    if splitRoot is exists, split with splitTree\n  let pivot = splitRoot && splitTree(splitRoot,
    point, {\n    isSkipPaddingBlankHTML: isInline,\n    isNotSplitEdgePoint: isInline,\n  });\n\n  //
    if container is point.node, find pivot with point.offset\n  if (!pivot && container
    === point.node) {\n    pivot = point.node.childNodes[point.offset];\n  }\n\n  return
    {\n    rightNode: pivot,\n    container: container,\n  };\n}\n\nfunction create(nodeName)
    {\n  return document.createElement(nodeName);\n}\n\nfunction createText(text)
    {\n  return document.createTextNode(text);\n}\n\n/**\n * @method remove\n *\n
    * remove node, (isRemoveChild: remove child or not)\n *\n * @param {Node} node\n
    * @param {Boolean} isRemoveChild\n */\nfunction remove(node, isRemoveChild) {\n  if
    (!node || !node.parentNode) { return; }\n  if (node.removeNode) { return node.removeNode(isRemoveChild);
    }\n\n  const parent = node.parentNode;\n  if (!isRemoveChild) {\n    const nodes
    = [];\n    for (let i = 0, len = node.childNodes.length; i < len; i++) {\n      nodes.push(node.childNodes[i]);\n    }\n\n    for
    (let i = 0, len = nodes.length; i < len; i++) {\n      parent.insertBefore(nodes[i],
    node);\n    }\n  }\n\n  parent.removeChild(node);\n}\n\n/**\n * @method removeWhile\n
    *\n * @param {Node} node\n * @param {Function} pred\n */\nfunction removeWhile(node,
    pred) {\n  while (node) {\n    if (isEditable(node) || !pred(node)) {\n      break;\n    }\n\n    const
    parent = node.parentNode;\n    remove(node);\n    node = parent;\n  }\n}\n\n/**\n
    * @method replace\n *\n * replace node with provided nodeName\n *\n * @param {Node}
    node\n * @param {String} nodeName\n * @return {Node} - new node\n */\nfunction
    replace(node, nodeName) {\n  if (node.nodeName.toUpperCase() === nodeName.toUpperCase())
    {\n    return node;\n  }\n\n  const newNode = create(nodeName);\n\n  if (node.style.cssText)
    {\n    newNode.style.cssText = node.style.cssText;\n  }\n\n  appendChildNodes(newNode,
    lists.from(node.childNodes));\n  insertAfter(newNode, node);\n  remove(node);\n\n  return
    newNode;\n}\n\nconst isTextarea = makePredByNodeName(''TEXTAREA'');\n\n/**\n *
    @param {jQuery} $node\n * @param {Boolean} [stripLinebreaks] - default: false\n
    */\nfunction value($node, stripLinebreaks) {\n  const val = isTextarea($node[0])
    ? $node.val() : $node.html();\n  if (stripLinebreaks) {\n    return val.replace(/[\\n\\r]/g,
    '''');\n  }\n  return val;\n}\n\n/**\n * @method html\n *\n * get the HTML contents
    of node\n *\n * @param {jQuery} $node\n * @param {Boolean} [isNewlineOnBlock]\n
    */\nfunction html($node, isNewlineOnBlock) {\n  let markup = value($node);\n\n  if
    (isNewlineOnBlock) {\n    const regexTag = /<(\\/?)(\\b(?!!)[^>\\s]*)(.*?)(\\s*\\/?>)/g;\n    markup
    = markup.replace(regexTag, function(match, endSlash, name) {\n      name = name.toUpperCase();\n      const
    isEndOfInlineContainer = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(name) &&\n                                   !!endSlash;\n      const
    isBlockNode = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(name);\n\n      return
    match + ((isEndOfInlineContainer || isBlockNode) ? ''\\n'' : '''');\n    });\n    markup
    = markup.trim();\n  }\n\n  return markup;\n}\n\nfunction posFromPlaceholder(placeholder)
    {\n  const $placeholder = $(placeholder);\n  const pos = $placeholder.offset();\n  const
    height = $placeholder.outerHeight(true); // include margin\n\n  return {\n    left:
    pos.left,\n    top: pos.top + height,\n  };\n}\n\nfunction attachEvents($node,
    events) {\n  Object.keys(events).forEach(function(key) {\n    $node.on(key, events[key]);\n  });\n}\n\nfunction
    detachEvents($node, events) {\n  Object.keys(events).forEach(function(key) {\n    $node.off(key,
    events[key]);\n  });\n}\n\n/**\n * @method isCustomStyleTag\n *\n * assert if
    a node contains a \"note-styletag\" class,\n * which implies that''s a custom-made
    style tag node\n *\n * @param {Node} an HTML DOM node\n */\nfunction isCustomStyleTag(node)
    {\n  return node && !isText(node) && lists.contains(node.classList, ''note-styletag'');\n}\n\nexport
    default {\n  /** @property {String} NBSP_CHAR */\n  NBSP_CHAR,\n  /** @property
    {String} ZERO_WIDTH_NBSP_CHAR */\n  ZERO_WIDTH_NBSP_CHAR,\n  /** @property {String}
    blank */\n  blank: blankHTML,\n  /** @property {String} emptyPara */\n  emptyPara:
    `<p>${blankHTML}</p>`,\n  makePredByNodeName,\n  isEditable,\n  isControlSizing,\n  isText,\n  isElement,\n  isVoid,\n  isPara,\n  isPurePara,\n  isHeading,\n  isInline,\n  isBlock:
    func.not(isInline),\n  isBodyInline,\n  isBody,\n  isParaInline,\n  isPre,\n  isList,\n  isTable,\n  isData,\n  isCell,\n  isBlockquote,\n  isBodyContainer,\n  isAnchor,\n  isDiv:
    makePredByNodeName(''DIV''),\n  isLi,\n  isBR: makePredByNodeName(''BR''),\n  isSpan:
    makePredByNodeName(''SPAN''),\n  isB: makePredByNodeName(''B''),\n  isU: makePredByNodeName(''U''),\n  isS:
    makePredByNodeName(''S''),\n  isI: makePredByNodeName(''I''),\n  isImg: makePredByNodeName(''IMG''),\n  isTextarea,\n  deepestChildIsEmpty,\n  isEmpty,\n  isEmptyAnchor:
    func.and(isAnchor, isEmpty),\n  isClosestSibling,\n  withClosestSiblings,\n  nodeLength,\n  isLeftEdgePoint,\n  isRightEdgePoint,\n  isEdgePoint,\n  isLeftEdgeOf,\n  isRightEdgeOf,\n  isLeftEdgePointOf,\n  isRightEdgePointOf,\n  prevPoint,\n  nextPoint,\n  nextPointWithEmptyNode,\n  isSamePoint,\n  isVisiblePoint,\n  prevPointUntil,\n  nextPointUntil,\n  isCharPoint,\n  isSpacePoint,\n  walkPoint,\n  ancestor,\n  singleChildAncestor,\n  listAncestor,\n  lastAncestor,\n  listNext,\n  listPrev,\n  listDescendant,\n  commonAncestor,\n  wrap,\n  insertAfter,\n  appendChildNodes,\n  position,\n  hasChildren,\n  makeOffsetPath,\n  fromOffsetPath,\n  splitTree,\n  splitPoint,\n  create,\n  createText,\n  remove,\n  removeWhile,\n  replace,\n  html,\n  value,\n  posFromPlaceholder,\n  attachEvents,\n  detachEvents,\n  isCustomStyleTag,\n};\n","import
    $ from ''jquery'';\nimport func from ''./core/func'';\nimport lists from ''./core/lists'';\nimport
    dom from ''./core/dom'';\n\nexport default class Context {\n  /**\n   * @param
    {jQuery} $note\n   * @param {Object} options\n   */\n  constructor($note, options)
    {\n    this.$note = $note;\n\n    this.memos = {};\n    this.modules = {};\n    this.layoutInfo
    = {};\n    this.options = $.extend(true, {}, options);\n\n    // init ui with
    options\n    $.summernote.ui = $.summernote.ui_template(this.options);\n    this.ui
    = $.summernote.ui;\n\n    this.initialize();\n  }\n\n  /**\n   * create layout
    and initialize modules and other resources\n   */\n  initialize() {\n    this.layoutInfo
    = this.ui.createLayout(this.$note);\n    this._initialize();\n    this.$note.hide();\n    return
    this;\n  }\n\n  /**\n   * destroy modules and other resources and remove layout\n   */\n  destroy()
    {\n    this._destroy();\n    this.$note.removeData(''summernote'');\n    this.ui.removeLayout(this.$note,
    this.layoutInfo);\n  }\n\n  /**\n   * destory modules and other resources and
    initialize it again\n   */\n  reset() {\n    const disabled = this.isDisabled();\n    this.code(dom.emptyPara);\n    this._destroy();\n    this._initialize();\n\n    if
    (disabled) {\n      this.disable();\n    }\n  }\n\n  _initialize() {\n    // set
    own id\n    this.options.id = func.uniqueId($.now());\n    // set default container
    for tooltips, popovers, and dialogs\n    this.options.container = this.options.container
    || this.layoutInfo.editor;\n\n    // add optional buttons\n    const buttons =
    $.extend({}, this.options.buttons);\n    Object.keys(buttons).forEach((key) =>
    {\n      this.memo(''button.'' + key, buttons[key]);\n    });\n\n    const modules
    = $.extend({}, this.options.modules, $.summernote.plugins || {});\n\n    // add
    and initialize modules\n    Object.keys(modules).forEach((key) => {\n      this.module(key,
    modules[key], true);\n    });\n\n    Object.keys(this.modules).forEach((key) =>
    {\n      this.initializeModule(key);\n    });\n  }\n\n  _destroy() {\n    // destroy
    modules with reversed order\n    Object.keys(this.modules).reverse().forEach((key)
    => {\n      this.removeModule(key);\n    });\n\n    Object.keys(this.memos).forEach((key)
    => {\n      this.removeMemo(key);\n    });\n    // trigger custom onDestroy callback\n    this.triggerEvent(''destroy'',
    this);\n  }\n\n  code(html) {\n    const isActivated = this.invoke(''codeview.isActivated'');\n\n    if
    (html === undefined) {\n      this.invoke(''codeview.sync'');\n      return isActivated
    ? this.layoutInfo.codable.val() : this.layoutInfo.editable.html();\n    } else
    {\n      if (isActivated) {\n        this.invoke(''codeview.sync'', html);\n      }
    else {\n        this.layoutInfo.editable.html(html);\n      }\n      this.$note.val(html);\n      this.triggerEvent(''change'',
    html, this.layoutInfo.editable);\n    }\n  }\n\n  isDisabled() {\n    return this.layoutInfo.editable.attr(''contenteditable'')
    === ''false'';\n  }\n\n  enable() {\n    this.layoutInfo.editable.attr(''contenteditable'',
    true);\n    this.invoke(''toolbar.activate'', true);\n    this.triggerEvent(''disable'',
    false);\n    this.options.editing = true;\n  }\n\n  disable() {\n    // close
    codeview if codeview is opend\n    if (this.invoke(''codeview.isActivated''))
    {\n      this.invoke(''codeview.deactivate'');\n    }\n    this.layoutInfo.editable.attr(''contenteditable'',
    false);\n    this.options.editing = false;\n    this.invoke(''toolbar.deactivate'',
    true);\n\n    this.triggerEvent(''disable'', true);\n  }\n\n  triggerEvent() {\n    const
    namespace = lists.head(arguments);\n    const args = lists.tail(lists.from(arguments));\n\n    const
    callback = this.options.callbacks[func.namespaceToCamel(namespace, ''on'')];\n    if
    (callback) {\n      callback.apply(this.$note[0], args);\n    }\n    this.$note.trigger(''summernote.''
    + namespace, args);\n  }\n\n  initializeModule(key) {\n    const module = this.modules[key];\n    module.shouldInitialize
    = module.shouldInitialize || func.ok;\n    if (!module.shouldInitialize()) {\n      return;\n    }\n\n    //
    initialize module\n    if (module.initialize) {\n      module.initialize();\n    }\n\n    //
    attach events\n    if (module.events) {\n      dom.attachEvents(this.$note, module.events);\n    }\n  }\n\n  module(key,
    ModuleClass, withoutIntialize) {\n    if (arguments.length === 1) {\n      return
    this.modules[key];\n    }\n\n    this.modules[key] = new ModuleClass(this);\n\n    if
    (!withoutIntialize) {\n      this.initializeModule(key);\n    }\n  }\n\n  removeModule(key)
    {\n    const module = this.modules[key];\n    if (module.shouldInitialize()) {\n      if
    (module.events) {\n        dom.detachEvents(this.$note, module.events);\n      }\n\n      if
    (module.destroy) {\n        module.destroy();\n      }\n    }\n\n    delete this.modules[key];\n  }\n\n  memo(key,
    obj) {\n    if (arguments.length === 1) {\n      return this.memos[key];\n    }\n    this.memos[key]
    = obj;\n  }\n\n  removeMemo(key) {\n    if (this.memos[key] && this.memos[key].destroy)
    {\n      this.memos[key].destroy();\n    }\n\n    delete this.memos[key];\n  }\n\n  /**\n   *
    Some buttons need to change their visual style immediately once they get pressed\n   */\n  createInvokeHandlerAndUpdateState(namespace,
    value) {\n    return (event) => {\n      this.createInvokeHandler(namespace, value)(event);\n      this.invoke(''buttons.updateCurrentStyle'');\n    };\n  }\n\n  createInvokeHandler(namespace,
    value) {\n    return (event) => {\n      event.preventDefault();\n      const
    $target = $(event.target);\n      this.invoke(namespace, value || $target.closest(''[data-value]'').data(''value''),
    $target);\n    };\n  }\n\n  invoke() {\n    const namespace = lists.head(arguments);\n    const
    args = lists.tail(lists.from(arguments));\n\n    const splits = namespace.split(''.'');\n    const
    hasSeparator = splits.length > 1;\n    const moduleName = hasSeparator && lists.head(splits);\n    const
    methodName = hasSeparator ? lists.last(splits) : lists.head(splits);\n\n    const
    module = this.modules[moduleName || ''editor''];\n    if (!moduleName && this[methodName])
    {\n      return this[methodName].apply(this, args);\n    } else if (module &&
    module[methodName] && module.shouldInitialize()) {\n      return module[methodName].apply(module,
    args);\n    }\n  }\n}\n","import $ from ''jquery'';\nimport env from ''./base/core/env'';\nimport
    lists from ''./base/core/lists'';\nimport Context from ''./base/Context'';\n\n$.fn.extend({\n  /**\n   *
    Summernote API\n   *\n   * @param {Object|String}\n   * @return {this}\n   */\n  summernote:
    function() {\n    const type = $.type(lists.head(arguments));\n    const isExternalAPICalled
    = type === ''string'';\n    const hasInitOptions = type === ''object'';\n\n    const
    options = $.extend({}, $.summernote.options, hasInitOptions ? lists.head(arguments)
    : {});\n\n    // Update options\n    options.langInfo = $.extend(true, {}, $.summernote.lang[''en-US''],
    $.summernote.lang[options.lang]);\n    options.icons = $.extend(true, {}, $.summernote.options.icons,
    options.icons);\n    options.tooltip = options.tooltip === ''auto'' ? !env.isSupportTouch
    : options.tooltip;\n\n    this.each((idx, note) => {\n      const $note = $(note);\n      if
    (!$note.data(''summernote'')) {\n        const context = new Context($note, options);\n        $note.data(''summernote'',
    context);\n        $note.data(''summernote'').triggerEvent(''init'', context.layoutInfo);\n      }\n    });\n\n    const
    $note = this.first();\n    if ($note.length) {\n      const context = $note.data(''summernote'');\n      if
    (isExternalAPICalled) {\n        return context.invoke.apply(context, lists.from(arguments));\n      }
    else if (options.focus) {\n        context.invoke(''editor.focus'');\n      }\n    }\n\n    return
    this;\n  },\n});\n","import $ from ''jquery'';\nimport env from ''./env'';\nimport
    func from ''./func'';\nimport lists from ''./lists'';\nimport dom from ''./dom'';\n\n/**\n
    * return boundaryPoint from TextRange, inspired by Andy Na''s HuskyRange.js\n
    *\n * @param {TextRange} textRange\n * @param {Boolean} isStart\n * @return {BoundaryPoint}\n
    *\n * @see http://msdn.microsoft.com/en-us/library/ie/ms535872(v=vs.85).aspx\n
    */\nfunction textRangeToPoint(textRange, isStart) {\n  let container = textRange.parentElement();\n  let
    offset;\n\n  const tester = document.body.createTextRange();\n  let prevContainer;\n  const
    childNodes = lists.from(container.childNodes);\n  for (offset = 0; offset < childNodes.length;
    offset++) {\n    if (dom.isText(childNodes[offset])) {\n      continue;\n    }\n    tester.moveToElementText(childNodes[offset]);\n    if
    (tester.compareEndPoints(''StartToStart'', textRange) >= 0) {\n      break;\n    }\n    prevContainer
    = childNodes[offset];\n  }\n\n  if (offset !== 0 && dom.isText(childNodes[offset
    - 1])) {\n    const textRangeStart = document.body.createTextRange();\n    let
    curTextNode = null;\n    textRangeStart.moveToElementText(prevContainer || container);\n    textRangeStart.collapse(!prevContainer);\n    curTextNode
    = prevContainer ? prevContainer.nextSibling : container.firstChild;\n\n    const
    pointTester = textRange.duplicate();\n    pointTester.setEndPoint(''StartToStart'',
    textRangeStart);\n    let textCount = pointTester.text.replace(/[\\r\\n]/g, '''').length;\n\n    while
    (textCount > curTextNode.nodeValue.length && curTextNode.nextSibling) {\n      textCount
    -= curTextNode.nodeValue.length;\n      curTextNode = curTextNode.nextSibling;\n    }\n\n    //
    [workaround] enforce IE to re-reference curTextNode, hack\n    const dummy = curTextNode.nodeValue;
    // eslint-disable-line\n\n    if (isStart && curTextNode.nextSibling && dom.isText(curTextNode.nextSibling)
    &&\n      textCount === curTextNode.nodeValue.length) {\n      textCount -= curTextNode.nodeValue.length;\n      curTextNode
    = curTextNode.nextSibling;\n    }\n\n    container = curTextNode;\n    offset
    = textCount;\n  }\n\n  return {\n    cont: container,\n    offset: offset,\n  };\n}\n\n/**\n
    * return TextRange from boundary point (inspired by google closure-library)\n
    * @param {BoundaryPoint} point\n * @return {TextRange}\n */\nfunction pointToTextRange(point)
    {\n  const textRangeInfo = function(container, offset) {\n    let node, isCollapseToStart;\n\n    if
    (dom.isText(container)) {\n      const prevTextNodes = dom.listPrev(container,
    func.not(dom.isText));\n      const prevContainer = lists.last(prevTextNodes).previousSibling;\n      node
    = prevContainer || container.parentNode;\n      offset += lists.sum(lists.tail(prevTextNodes),
    dom.nodeLength);\n      isCollapseToStart = !prevContainer;\n    } else {\n      node
    = container.childNodes[offset] || container;\n      if (dom.isText(node)) {\n        return
    textRangeInfo(node, 0);\n      }\n\n      offset = 0;\n      isCollapseToStart
    = false;\n    }\n\n    return {\n      node: node,\n      collapseToStart: isCollapseToStart,\n      offset:
    offset,\n    };\n  };\n\n  const textRange = document.body.createTextRange();\n  const
    info = textRangeInfo(point.node, point.offset);\n\n  textRange.moveToElementText(info.node);\n  textRange.collapse(info.collapseToStart);\n  textRange.moveStart(''character'',
    info.offset);\n  return textRange;\n}\n\n/**\n   * Wrapped Range\n   *\n   * @constructor\n   *
    @param {Node} sc - start container\n   * @param {Number} so - start offset\n   *
    @param {Node} ec - end container\n   * @param {Number} eo - end offset\n   */\nclass
    WrappedRange {\n  constructor(sc, so, ec, eo) {\n    this.sc = sc;\n    this.so
    = so;\n    this.ec = ec;\n    this.eo = eo;\n\n    // isOnEditable: judge whether
    range is on editable or not\n    this.isOnEditable = this.makeIsOn(dom.isEditable);\n    //
    isOnList: judge whether range is on list node or not\n    this.isOnList = this.makeIsOn(dom.isList);\n    //
    isOnAnchor: judge whether range is on anchor node or not\n    this.isOnAnchor
    = this.makeIsOn(dom.isAnchor);\n    // isOnCell: judge whether range is on cell
    node or not\n    this.isOnCell = this.makeIsOn(dom.isCell);\n    // isOnData:
    judge whether range is on data node or not\n    this.isOnData = this.makeIsOn(dom.isData);\n  }\n\n  //
    nativeRange: get nativeRange from sc, so, ec, eo\n  nativeRange() {\n    if (env.isW3CRangeSupport)
    {\n      const w3cRange = document.createRange();\n      w3cRange.setStart(this.sc,
    this.so);\n      w3cRange.setEnd(this.ec, this.eo);\n\n      return w3cRange;\n    }
    else {\n      const textRange = pointToTextRange({\n        node: this.sc,\n        offset:
    this.so,\n      });\n\n      textRange.setEndPoint(''EndToEnd'', pointToTextRange({\n        node:
    this.ec,\n        offset: this.eo,\n      }));\n\n      return textRange;\n    }\n  }\n\n  getPoints()
    {\n    return {\n      sc: this.sc,\n      so: this.so,\n      ec: this.ec,\n      eo:
    this.eo,\n    };\n  }\n\n  getStartPoint() {\n    return {\n      node: this.sc,\n      offset:
    this.so,\n    };\n  }\n\n  getEndPoint() {\n    return {\n      node: this.ec,\n      offset:
    this.eo,\n    };\n  }\n\n  /**\n   * select update visible range\n   */\n  select()
    {\n    const nativeRng = this.nativeRange();\n    if (env.isW3CRangeSupport) {\n      const
    selection = document.getSelection();\n      if (selection.rangeCount > 0) {\n        selection.removeAllRanges();\n      }\n      selection.addRange(nativeRng);\n    }
    else {\n      nativeRng.select();\n    }\n\n    return this;\n  }\n\n  /**\n   *
    Moves the scrollbar to start container(sc) of current range\n   *\n   * @return
    {WrappedRange}\n   */\n  scrollIntoView(container) {\n    const height = $(container).height();\n    if
    (container.scrollTop + height < this.sc.offsetTop) {\n      container.scrollTop
    += Math.abs(container.scrollTop + height - this.sc.offsetTop);\n    }\n\n    return
    this;\n  }\n\n  /**\n   * @return {WrappedRange}\n   */\n  normalize() {\n    /**\n     *
    @param {BoundaryPoint} point\n     * @param {Boolean} isLeftToRight - true: prefer
    to choose right node\n     *                                - false: prefer to
    choose left node\n     * @return {BoundaryPoint}\n     */\n    const getVisiblePoint
    = function(point, isLeftToRight) {\n      if (!point) {\n        return point;\n      }\n\n      //
    Just use the given point [XXX:Adhoc]\n      //  - case 01. if the point is on
    the middle of the node\n      //  - case 02. if the point is on the right edge
    and prefer to choose left node\n      //  - case 03. if the point is on the left
    edge and prefer to choose right node\n      //  - case 04. if the point is on
    the right edge and prefer to choose right node but the node is void\n      //  -
    case 05. if the point is on the left edge and prefer to choose left node but the
    node is void\n      //  - case 06. if the point is on the block node and there
    is no children\n      if (dom.isVisiblePoint(point)) {\n        if (!dom.isEdgePoint(point)
    ||\n            (dom.isRightEdgePoint(point) && !isLeftToRight) ||\n            (dom.isLeftEdgePoint(point)
    && isLeftToRight) ||\n            (dom.isRightEdgePoint(point) && isLeftToRight
    && dom.isVoid(point.node.nextSibling)) ||\n            (dom.isLeftEdgePoint(point)
    && !isLeftToRight && dom.isVoid(point.node.previousSibling)) ||\n            (dom.isBlock(point.node)
    && dom.isEmpty(point.node))) {\n          return point;\n        }\n      }\n\n      //
    point on block''s edge\n      const block = dom.ancestor(point.node, dom.isBlock);\n      let
    hasRightNode = false;\n\n      if (!hasRightNode) {\n        const prevPoint =
    dom.prevPoint(point) || { node: null };\n        hasRightNode = (dom.isLeftEdgePointOf(point,
    block) || dom.isVoid(prevPoint.node)) && !isLeftToRight;\n      }\n\n      let
    hasLeftNode = false;\n      if (!hasLeftNode) {\n        const nextPoint = dom.nextPoint(point)
    || { node: null };\n        hasLeftNode = (dom.isRightEdgePointOf(point, block)
    || dom.isVoid(nextPoint.node)) && isLeftToRight;\n      }\n\n      if (hasRightNode
    || hasLeftNode) {\n        // returns point already on visible point\n        if
    (dom.isVisiblePoint(point)) {\n          return point;\n        }\n        //
    reverse direction\n        isLeftToRight = !isLeftToRight;\n      }\n\n      const
    nextPoint = isLeftToRight ? dom.nextPointUntil(dom.nextPoint(point), dom.isVisiblePoint)\n        :
    dom.prevPointUntil(dom.prevPoint(point), dom.isVisiblePoint);\n      return nextPoint
    || point;\n    };\n\n    const endPoint = getVisiblePoint(this.getEndPoint(),
    false);\n    const startPoint = this.isCollapsed() ? endPoint : getVisiblePoint(this.getStartPoint(),
    true);\n\n    return new WrappedRange(\n      startPoint.node,\n      startPoint.offset,\n      endPoint.node,\n      endPoint.offset\n    );\n  }\n\n  /**\n   *
    returns matched nodes on range\n   *\n   * @param {Function} [pred] - predicate
    function\n   * @param {Object} [options]\n   * @param {Boolean} [options.includeAncestor]\n   *
    @param {Boolean} [options.fullyContains]\n   * @return {Node[]}\n   */\n  nodes(pred,
    options) {\n    pred = pred || func.ok;\n\n    const includeAncestor = options
    && options.includeAncestor;\n    const fullyContains = options && options.fullyContains;\n\n    //
    TODO compare points and sort\n    const startPoint = this.getStartPoint();\n    const
    endPoint = this.getEndPoint();\n\n    const nodes = [];\n    const leftEdgeNodes
    = [];\n\n    dom.walkPoint(startPoint, endPoint, function(point) {\n      if (dom.isEditable(point.node))
    {\n        return;\n      }\n\n      let node;\n      if (fullyContains) {\n        if
    (dom.isLeftEdgePoint(point)) {\n          leftEdgeNodes.push(point.node);\n        }\n        if
    (dom.isRightEdgePoint(point) && lists.contains(leftEdgeNodes, point.node)) {\n          node
    = point.node;\n        }\n      } else if (includeAncestor) {\n        node =
    dom.ancestor(point.node, pred);\n      } else {\n        node = point.node;\n      }\n\n      if
    (node && pred(node)) {\n        nodes.push(node);\n      }\n    }, true);\n\n    return
    lists.unique(nodes);\n  }\n\n  /**\n   * returns commonAncestor of range\n   *
    @return {Element} - commonAncestor\n   */\n  commonAncestor() {\n    return dom.commonAncestor(this.sc,
    this.ec);\n  }\n\n  /**\n   * returns expanded range by pred\n   *\n   * @param
    {Function} pred - predicate function\n   * @return {WrappedRange}\n   */\n  expand(pred)
    {\n    const startAncestor = dom.ancestor(this.sc, pred);\n    const endAncestor
    = dom.ancestor(this.ec, pred);\n\n    if (!startAncestor && !endAncestor) {\n      return
    new WrappedRange(this.sc, this.so, this.ec, this.eo);\n    }\n\n    const boundaryPoints
    = this.getPoints();\n\n    if (startAncestor) {\n      boundaryPoints.sc = startAncestor;\n      boundaryPoints.so
    = 0;\n    }\n\n    if (endAncestor) {\n      boundaryPoints.ec = endAncestor;\n      boundaryPoints.eo
    = dom.nodeLength(endAncestor);\n    }\n\n    return new WrappedRange(\n      boundaryPoints.sc,\n      boundaryPoints.so,\n      boundaryPoints.ec,\n      boundaryPoints.eo\n    );\n  }\n\n  /**\n   *
    @param {Boolean} isCollapseToStart\n   * @return {WrappedRange}\n   */\n  collapse(isCollapseToStart)
    {\n    if (isCollapseToStart) {\n      return new WrappedRange(this.sc, this.so,
    this.sc, this.so);\n    } else {\n      return new WrappedRange(this.ec, this.eo,
    this.ec, this.eo);\n    }\n  }\n\n  /**\n   * splitText on range\n   */\n  splitText()
    {\n    const isSameContainer = this.sc === this.ec;\n    const boundaryPoints
    = this.getPoints();\n\n    if (dom.isText(this.ec) && !dom.isEdgePoint(this.getEndPoint()))
    {\n      this.ec.splitText(this.eo);\n    }\n\n    if (dom.isText(this.sc) &&
    !dom.isEdgePoint(this.getStartPoint())) {\n      boundaryPoints.sc = this.sc.splitText(this.so);\n      boundaryPoints.so
    = 0;\n\n      if (isSameContainer) {\n        boundaryPoints.ec = boundaryPoints.sc;\n        boundaryPoints.eo
    = this.eo - this.so;\n      }\n    }\n\n    return new WrappedRange(\n      boundaryPoints.sc,\n      boundaryPoints.so,\n      boundaryPoints.ec,\n      boundaryPoints.eo\n    );\n  }\n\n  /**\n   *
    delete contents on range\n   * @return {WrappedRange}\n   */\n  deleteContents()
    {\n    if (this.isCollapsed()) {\n      return this;\n    }\n\n    const rng =
    this.splitText();\n    const nodes = rng.nodes(null, {\n      fullyContains: true,\n    });\n\n    //
    find new cursor point\n    const point = dom.prevPointUntil(rng.getStartPoint(),
    function(point) {\n      return !lists.contains(nodes, point.node);\n    });\n\n    const
    emptyParents = [];\n    $.each(nodes, function(idx, node) {\n      // find empty
    parents\n      const parent = node.parentNode;\n      if (point.node !== parent
    && dom.nodeLength(parent) === 1) {\n        emptyParents.push(parent);\n      }\n      dom.remove(node,
    false);\n    });\n\n    // remove empty parents\n    $.each(emptyParents, function(idx,
    node) {\n      dom.remove(node, false);\n    });\n\n    return new WrappedRange(\n      point.node,\n      point.offset,\n      point.node,\n      point.offset\n    ).normalize();\n  }\n\n  /**\n   *
    makeIsOn: return isOn(pred) function\n   */\n  makeIsOn(pred) {\n    return function()
    {\n      const ancestor = dom.ancestor(this.sc, pred);\n      return !!ancestor
    && (ancestor === dom.ancestor(this.ec, pred));\n    };\n  }\n\n  /**\n   * @param
    {Function} pred\n   * @return {Boolean}\n   */\n  isLeftEdgeOf(pred) {\n    if
    (!dom.isLeftEdgePoint(this.getStartPoint())) {\n      return false;\n    }\n\n    const
    node = dom.ancestor(this.sc, pred);\n    return node && dom.isLeftEdgeOf(this.sc,
    node);\n  }\n\n  /**\n   * returns whether range was collapsed or not\n   */\n  isCollapsed()
    {\n    return this.sc === this.ec && this.so === this.eo;\n  }\n\n  /**\n   *
    wrap inline nodes which children of body with paragraph\n   *\n   * @return {WrappedRange}\n   */\n  wrapBodyInlineWithPara()
    {\n    if (dom.isBodyContainer(this.sc) && dom.isEmpty(this.sc)) {\n      this.sc.innerHTML
    = dom.emptyPara;\n      return new WrappedRange(this.sc.firstChild, 0, this.sc.firstChild,
    0);\n    }\n\n    /**\n     * [workaround] firefox often create range on not visible
    point. so normalize here.\n     *  - firefox: |<p>text</p>|\n     *  - chrome:
    <p>|text|</p>\n     */\n    const rng = this.normalize();\n    if (dom.isParaInline(this.sc)
    || dom.isPara(this.sc)) {\n      return rng;\n    }\n\n    // find inline top
    ancestor\n    let topAncestor;\n    if (dom.isInline(rng.sc)) {\n      const ancestors
    = dom.listAncestor(rng.sc, func.not(dom.isInline));\n      topAncestor = lists.last(ancestors);\n      if
    (!dom.isInline(topAncestor)) {\n        topAncestor = ancestors[ancestors.length
    - 2] || rng.sc.childNodes[rng.so];\n      }\n    } else {\n      topAncestor =
    rng.sc.childNodes[rng.so > 0 ? rng.so - 1 : 0];\n    }\n\n    if (topAncestor)
    {\n      // siblings not in paragraph\n      let inlineSiblings = dom.listPrev(topAncestor,
    dom.isParaInline).reverse();\n      inlineSiblings = inlineSiblings.concat(dom.listNext(topAncestor.nextSibling,
    dom.isParaInline));\n\n      // wrap with paragraph\n      if (inlineSiblings.length)
    {\n        const para = dom.wrap(lists.head(inlineSiblings), ''p'');\n        dom.appendChildNodes(para,
    lists.tail(inlineSiblings));\n      }\n    }\n\n    return this.normalize();\n  }\n\n  /**\n   *
    insert node at current cursor\n   *\n   * @param {Node} node\n   * @return {Node}\n   */\n  insertNode(node)
    {\n    let rng = this;\n\n    if (dom.isText(node) || dom.isInline(node)) {\n      rng
    = this.wrapBodyInlineWithPara().deleteContents();\n    }\n\n    const info = dom.splitPoint(rng.getStartPoint(),
    dom.isInline(node));\n    if (info.rightNode) {\n      info.rightNode.parentNode.insertBefore(node,
    info.rightNode);\n      if (dom.isEmpty(info.rightNode) && dom.isPara(node)) {\n        info.rightNode.parentNode.removeChild(info.rightNode);\n      }\n    }
    else {\n      info.container.appendChild(node);\n    }\n\n    return node;\n  }\n\n  /**\n   *
    insert html at current cursor\n   */\n  pasteHTML(markup) {\n    markup = $.trim(markup);\n\n    const
    contentsContainer = $(''<div></div>'').html(markup)[0];\n    let childNodes =
    lists.from(contentsContainer.childNodes);\n\n    // const rng = this.wrapBodyInlineWithPara().deleteContents();\n    const
    rng = this;\n    let reversed = false;\n\n    if (rng.so >= 0) {\n      childNodes
    = childNodes.reverse();\n      reversed = true;\n    }\n\n    childNodes = childNodes.map(function(childNode)
    {\n      return rng.insertNode(childNode);\n    });\n\n    if (reversed) {\n      childNodes
    = childNodes.reverse();\n    }\n    return childNodes;\n  }\n\n  /**\n   * returns
    text in range\n   *\n   * @return {String}\n   */\n  toString() {\n    const nativeRng
    = this.nativeRange();\n    return env.isW3CRangeSupport ? nativeRng.toString()
    : nativeRng.text;\n  }\n\n  /**\n   * returns range for word before cursor\n   *\n   *
    @param {Boolean} [findAfter] - find after cursor, default: false\n   * @return
    {WrappedRange}\n   */\n  getWordRange(findAfter) {\n    let endPoint = this.getEndPoint();\n\n    if
    (!dom.isCharPoint(endPoint)) {\n      return this;\n    }\n\n    const startPoint
    = dom.prevPointUntil(endPoint, function(point) {\n      return !dom.isCharPoint(point);\n    });\n\n    if
    (findAfter) {\n      endPoint = dom.nextPointUntil(endPoint, function(point) {\n        return
    !dom.isCharPoint(point);\n      });\n    }\n\n    return new WrappedRange(\n      startPoint.node,\n      startPoint.offset,\n      endPoint.node,\n      endPoint.offset\n    );\n  }\n\n  /**\n   *
    returns range for words before cursor\n   *\n   * @param {Boolean} [findAfter]
    - find after cursor, default: false\n   * @return {WrappedRange}\n   */\n  getWordsRange(findAfter)
    {\n    var endPoint = this.getEndPoint();\n\n    var isNotTextPoint = function(point)
    {\n      return !dom.isCharPoint(point) && !dom.isSpacePoint(point);\n    };\n\n    if
    (isNotTextPoint(endPoint)) {\n      return this;\n    }\n\n    var startPoint
    = dom.prevPointUntil(endPoint, isNotTextPoint);\n\n    if (findAfter) {\n      endPoint
    = dom.nextPointUntil(endPoint, isNotTextPoint);\n    }\n\n    return new WrappedRange(\n      startPoint.node,\n      startPoint.offset,\n      endPoint.node,\n      endPoint.offset\n    );\n  }\n\n  /**\n   *
    returns range for words before cursor that match with a Regex\n   *\n   * example:\n   *  range:
    ''hi @Peter Pan''\n   *  regex: ''/@[a-z ]+/i''\n   *  return range: ''@Peter
    Pan''\n   *\n   * @param {RegExp} [regex]\n   * @return {WrappedRange|null}\n   */\n  getWordsMatchRange(regex)
    {\n    var endPoint = this.getEndPoint();\n\n    var startPoint = dom.prevPointUntil(endPoint,
    function(point) {\n      if (!dom.isCharPoint(point) && !dom.isSpacePoint(point))
    {\n        return true;\n      }\n      var rng = new WrappedRange(\n        point.node,\n        point.offset,\n        endPoint.node,\n        endPoint.offset\n      );\n      var
    result = regex.exec(rng.toString());\n      return result && result.index ===
    0;\n    });\n\n    var rng = new WrappedRange(\n      startPoint.node,\n      startPoint.offset,\n      endPoint.node,\n      endPoint.offset\n    );\n\n    var
    text = rng.toString();\n    var result = regex.exec(text);\n\n    if (result &&
    result[0].length === text.length) {\n      return rng;\n    } else {\n      return
    null;\n    }\n  }\n\n  /**\n   * create offsetPath bookmark\n   *\n   * @param
    {Node} editable\n   */\n  bookmark(editable) {\n    return {\n      s: {\n        path:
    dom.makeOffsetPath(editable, this.sc),\n        offset: this.so,\n      },\n      e:
    {\n        path: dom.makeOffsetPath(editable, this.ec),\n        offset: this.eo,\n      },\n    };\n  }\n\n  /**\n   *
    create offsetPath bookmark base on paragraph\n   *\n   * @param {Node[]} paras\n   */\n  paraBookmark(paras)
    {\n    return {\n      s: {\n        path: lists.tail(dom.makeOffsetPath(lists.head(paras),
    this.sc)),\n        offset: this.so,\n      },\n      e: {\n        path: lists.tail(dom.makeOffsetPath(lists.last(paras),
    this.ec)),\n        offset: this.eo,\n      },\n    };\n  }\n\n  /**\n   * getClientRects\n   *
    @return {Rect[]}\n   */\n  getClientRects() {\n    const nativeRng = this.nativeRange();\n    return
    nativeRng.getClientRects();\n  }\n}\n\n/**\n * Data structure\n *  * BoundaryPoint:
    a point of dom tree\n *  * BoundaryPoints: two boundaryPoints corresponding to
    the start and the end of the Range\n *\n * See to http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Position\n
    */\nexport default {\n  /**\n   * create Range Object From arguments or Browser
    Selection\n   *\n   * @param {Node} sc - start container\n   * @param {Number}
    so - start offset\n   * @param {Node} ec - end container\n   * @param {Number}
    eo - end offset\n   * @return {WrappedRange}\n   */\n  create: function(sc, so,
    ec, eo) {\n    if (arguments.length === 4) {\n      return new WrappedRange(sc,
    so, ec, eo);\n    } else if (arguments.length === 2) { // collapsed\n      ec
    = sc;\n      eo = so;\n      return new WrappedRange(sc, so, ec, eo);\n    } else
    {\n      let wrappedRange = this.createFromSelection();\n\n      if (!wrappedRange
    && arguments.length === 1) {\n        let bodyElement = arguments[0];\n        if
    (dom.isEditable(bodyElement)) {\n          bodyElement = bodyElement.lastChild;\n        }\n        return
    this.createFromBodyElement(bodyElement, dom.emptyPara === arguments[0].innerHTML);\n      }\n      return
    wrappedRange;\n    }\n  },\n\n  createFromBodyElement: function(bodyElement, isCollapseToStart
    = false) {\n    var wrappedRange = this.createFromNode(bodyElement);\n    return
    wrappedRange.collapse(isCollapseToStart);\n  },\n\n  createFromSelection: function()
    {\n    let sc, so, ec, eo;\n    if (env.isW3CRangeSupport) {\n      const selection
    = document.getSelection();\n      if (!selection || selection.rangeCount === 0)
    {\n        return null;\n      } else if (dom.isBody(selection.anchorNode)) {\n        //
    Firefox: returns entire body as range on initialization.\n        // We won''t
    never need it.\n        return null;\n      }\n\n      const nativeRng = selection.getRangeAt(0);\n      sc
    = nativeRng.startContainer;\n      so = nativeRng.startOffset;\n      ec = nativeRng.endContainer;\n      eo
    = nativeRng.endOffset;\n    } else { // IE8: TextRange\n      const textRange
    = document.selection.createRange();\n      const textRangeEnd = textRange.duplicate();\n      textRangeEnd.collapse(false);\n      const
    textRangeStart = textRange;\n      textRangeStart.collapse(true);\n\n      let
    startPoint = textRangeToPoint(textRangeStart, true);\n      let endPoint = textRangeToPoint(textRangeEnd,
    false);\n\n      // same visible point case: range was collapsed.\n      if (dom.isText(startPoint.node)
    && dom.isLeftEdgePoint(startPoint) &&\n        dom.isTextNode(endPoint.node) &&
    dom.isRightEdgePoint(endPoint) &&\n        endPoint.node.nextSibling === startPoint.node)
    {\n        startPoint = endPoint;\n      }\n\n      sc = startPoint.cont;\n      so
    = startPoint.offset;\n      ec = endPoint.cont;\n      eo = endPoint.offset;\n    }\n\n    return
    new WrappedRange(sc, so, ec, eo);\n  },\n\n  /**\n   * @method\n   *\n   * create
    WrappedRange from node\n   *\n   * @param {Node} node\n   * @return {WrappedRange}\n   */\n  createFromNode:
    function(node) {\n    let sc = node;\n    let so = 0;\n    let ec = node;\n    let
    eo = dom.nodeLength(ec);\n\n    // browsers can''t target a picture or void node\n    if
    (dom.isVoid(sc)) {\n      so = dom.listPrev(sc).length - 1;\n      sc = sc.parentNode;\n    }\n    if
    (dom.isBR(ec)) {\n      eo = dom.listPrev(ec).length - 1;\n      ec = ec.parentNode;\n    }
    else if (dom.isVoid(ec)) {\n      eo = dom.listPrev(ec).length;\n      ec = ec.parentNode;\n    }\n\n    return
    this.create(sc, so, ec, eo);\n  },\n\n  /**\n   * create WrappedRange from node
    after position\n   *\n   * @param {Node} node\n   * @return {WrappedRange}\n   */\n  createFromNodeBefore:
    function(node) {\n    return this.createFromNode(node).collapse(true);\n  },\n\n  /**\n   *
    create WrappedRange from node after position\n   *\n   * @param {Node} node\n   *
    @return {WrappedRange}\n   */\n  createFromNodeAfter: function(node) {\n    return
    this.createFromNode(node).collapse();\n  },\n\n  /**\n   * @method\n   *\n   *
    create WrappedRange from bookmark\n   *\n   * @param {Node} editable\n   * @param
    {Object} bookmark\n   * @return {WrappedRange}\n   */\n  createFromBookmark: function(editable,
    bookmark) {\n    const sc = dom.fromOffsetPath(editable, bookmark.s.path);\n    const
    so = bookmark.s.offset;\n    const ec = dom.fromOffsetPath(editable, bookmark.e.path);\n    const
    eo = bookmark.e.offset;\n    return new WrappedRange(sc, so, ec, eo);\n  },\n\n  /**\n   *
    @method\n   *\n   * create WrappedRange from paraBookmark\n   *\n   * @param {Object}
    bookmark\n   * @param {Node[]} paras\n   * @return {WrappedRange}\n   */\n  createFromParaBookmark:
    function(bookmark, paras) {\n    const so = bookmark.s.offset;\n    const eo =
    bookmark.e.offset;\n    const sc = dom.fromOffsetPath(lists.head(paras), bookmark.s.path);\n    const
    ec = dom.fromOffsetPath(lists.last(paras), bookmark.e.path);\n\n    return new
    WrappedRange(sc, so, ec, eo);\n  },\n};\n","import lists from ''./lists'';\nimport
    func from ''./func'';\n\nconst KEY_MAP = {\n  ''BACKSPACE'': 8,\n  ''TAB'': 9,\n  ''ENTER'':
    13,\n  ''ESCAPE'': 27,\n  ''SPACE'': 32,\n  ''DELETE'': 46,\n\n  // Arrow\n  ''LEFT'':
    37,\n  ''UP'': 38,\n  ''RIGHT'': 39,\n  ''DOWN'': 40,\n\n  // Number: 0-9\n  ''NUM0'':
    48,\n  ''NUM1'': 49,\n  ''NUM2'': 50,\n  ''NUM3'': 51,\n  ''NUM4'': 52,\n  ''NUM5'':
    53,\n  ''NUM6'': 54,\n  ''NUM7'': 55,\n  ''NUM8'': 56,\n\n  // Alphabet: a-z\n  ''B'':
    66,\n  ''E'': 69,\n  ''I'': 73,\n  ''J'': 74,\n  ''K'': 75,\n  ''L'': 76,\n  ''R'':
    82,\n  ''S'': 83,\n  ''U'': 85,\n  ''V'': 86,\n  ''Y'': 89,\n  ''Z'': 90,\n\n  ''SLASH'':
    191,\n  ''LEFTBRACKET'': 219,\n  ''BACKSLASH'': 220,\n  ''RIGHTBRACKET'': 221,\n\n  //
    Navigation\n  ''HOME'': 36,\n  ''END'': 35,\n  ''PAGEUP'': 33,\n  ''PAGEDOWN'':
    34,\n};\n\n/**\n * @class core.key\n *\n * Object for keycodes.\n *\n * @singleton\n
    * @alternateClassName key\n */\nexport default {\n  /**\n   * @method isEdit\n   *\n   *
    @param {Number} keyCode\n   * @return {Boolean}\n   */\n  isEdit: (keyCode) =>
    {\n    return lists.contains([\n      KEY_MAP.BACKSPACE,\n      KEY_MAP.TAB,\n      KEY_MAP.ENTER,\n      KEY_MAP.SPACE,\n      KEY_MAP.DELETE,\n    ],
    keyCode);\n  },\n  /**\n   * @method isMove\n   *\n   * @param {Number} keyCode\n   *
    @return {Boolean}\n   */\n  isMove: (keyCode) => {\n    return lists.contains([\n      KEY_MAP.LEFT,\n      KEY_MAP.UP,\n      KEY_MAP.RIGHT,\n      KEY_MAP.DOWN,\n    ],
    keyCode);\n  },\n  /**\n   * @method isNavigation\n   *\n   * @param {Number}
    keyCode\n   * @return {Boolean}\n   */\n  isNavigation: (keyCode) => {\n    return
    lists.contains([\n      KEY_MAP.HOME,\n      KEY_MAP.END,\n      KEY_MAP.PAGEUP,\n      KEY_MAP.PAGEDOWN,\n    ],
    keyCode);\n  },\n  /**\n   * @property {Object} nameFromCode\n   * @property {String}
    nameFromCode.8 \"BACKSPACE\"\n   */\n  nameFromCode: func.invertObject(KEY_MAP),\n  code:
    KEY_MAP,\n};\n","import $ from ''jquery'';\n\n/**\n * @method readFileAsDataURL\n
    *\n * read contents of file as representing URL\n *\n * @param {File} file\n *
    @return {Promise} - then: dataUrl\n */\nexport function readFileAsDataURL(file)
    {\n  return $.Deferred((deferred) => {\n    $.extend(new FileReader(), {\n      onload:
    (e) => {\n        const dataURL = e.target.result;\n        deferred.resolve(dataURL);\n      },\n      onerror:
    (err) => {\n        deferred.reject(err);\n      },\n    }).readAsDataURL(file);\n  }).promise();\n}\n\n/**\n
    * @method createImage\n *\n * create `<image>` from url string\n *\n * @param
    {String} url\n * @return {Promise} - then: $image\n */\nexport function createImage(url)
    {\n  return $.Deferred((deferred) => {\n    const $img = $(''<img>'');\n\n    $img.one(''load'',
    () => {\n      $img.off(''error abort'');\n      deferred.resolve($img);\n    }).one(''error
    abort'', () => {\n      $img.off(''load'').detach();\n      deferred.reject($img);\n    }).css({\n      display:
    ''none'',\n    }).appendTo(document.body).attr(''src'', url);\n  }).promise();\n}\n","import
    range from ''../core/range'';\n\nexport default class History {\n  constructor(context)
    {\n    this.stack = [];\n    this.stackOffset = -1;\n    this.context = context;\n    this.$editable
    = context.layoutInfo.editable;\n    this.editable = this.$editable[0];\n  }\n\n  makeSnapshot()
    {\n    const rng = range.create(this.editable);\n    const emptyBookmark = { s:
    { path: [], offset: 0 }, e: { path: [], offset: 0 } };\n\n    return {\n      contents:
    this.$editable.html(),\n      bookmark: ((rng && rng.isOnEditable()) ? rng.bookmark(this.editable)
    : emptyBookmark),\n    };\n  }\n\n  applySnapshot(snapshot) {\n    if (snapshot.contents
    !== null) {\n      this.$editable.html(snapshot.contents);\n    }\n    if (snapshot.bookmark
    !== null) {\n      range.createFromBookmark(this.editable, snapshot.bookmark).select();\n    }\n  }\n\n  /**\n  *
    @method rewind\n  * Rewinds the history stack back to the first snapshot taken.\n  *
    Leaves the stack intact, so that \"Redo\" can still be used.\n  */\n  rewind()
    {\n    // Create snap shot if not yet recorded\n    if (this.$editable.html()
    !== this.stack[this.stackOffset].contents) {\n      this.recordUndo();\n    }\n\n    //
    Return to the first available snapshot.\n    this.stackOffset = 0;\n\n    // Apply
    that snapshot.\n    this.applySnapshot(this.stack[this.stackOffset]);\n  }\n\n  /**\n  *  @method
    commit\n  *  Resets history stack, but keeps current editor''s content.\n  */\n  commit()
    {\n    // Clear the stack.\n    this.stack = [];\n\n    // Restore stackOffset
    to its original value.\n    this.stackOffset = -1;\n\n    // Record our first
    snapshot (of nothing).\n    this.recordUndo();\n  }\n\n  /**\n  * @method reset\n  *
    Resets the history stack completely; reverting to an empty editor.\n  */\n  reset()
    {\n    // Clear the stack.\n    this.stack = [];\n\n    // Restore stackOffset
    to its original value.\n    this.stackOffset = -1;\n\n    // Clear the editable
    area.\n    this.$editable.html('''');\n\n    // Record our first snapshot (of
    nothing).\n    this.recordUndo();\n  }\n\n  /**\n   * undo\n   */\n  undo() {\n    //
    Create snap shot if not yet recorded\n    if (this.$editable.html() !== this.stack[this.stackOffset].contents)
    {\n      this.recordUndo();\n    }\n\n    if (this.stackOffset > 0) {\n      this.stackOffset--;\n      this.applySnapshot(this.stack[this.stackOffset]);\n    }\n  }\n\n  /**\n   *
    redo\n   */\n  redo() {\n    if (this.stack.length - 1 > this.stackOffset) {\n      this.stackOffset++;\n      this.applySnapshot(this.stack[this.stackOffset]);\n    }\n  }\n\n  /**\n   *
    recorded undo\n   */\n  recordUndo() {\n    this.stackOffset++;\n\n    // Wash
    out stack after stackOffset\n    if (this.stack.length > this.stackOffset) {\n      this.stack
    = this.stack.slice(0, this.stackOffset);\n    }\n\n    // Create new snapshot
    and push it to the end\n    this.stack.push(this.makeSnapshot());\n\n    // If
    the stack size reachs to the limit, then slice it\n    if (this.stack.length >
    this.context.options.historyLimit) {\n      this.stack.shift();\n      this.stackOffset
    -= 1;\n    }\n  }\n}\n","import $ from ''jquery'';\nimport env from ''../core/env'';\nimport
    func from ''../core/func'';\nimport lists from ''../core/lists'';\nimport dom
    from ''../core/dom'';\n\nexport default class Style {\n  /**\n   * @method jQueryCSS\n   *\n   *
    [workaround] for old jQuery\n   * passing an array of style properties to .css()\n   *
    will result in an object of property-value pairs.\n   * (compability with version
    < 1.9)\n   *\n   * @private\n   * @param  {jQuery} $obj\n   * @param  {Array}
    propertyNames - An array of one or more CSS properties.\n   * @return {Object}\n   */\n  jQueryCSS($obj,
    propertyNames) {\n    if (env.jqueryVersion < 1.9) {\n      const result = {};\n      $.each(propertyNames,
    (idx, propertyName) => {\n        result[propertyName] = $obj.css(propertyName);\n      });\n      return
    result;\n    }\n    return $obj.css(propertyNames);\n  }\n\n  /**\n   * returns
    style object from node\n   *\n   * @param {jQuery} $node\n   * @return {Object}\n   */\n  fromNode($node)
    {\n    const properties = [''font-family'', ''font-size'', ''text-align'', ''list-style-type'',
    ''line-height''];\n    const styleInfo = this.jQueryCSS($node, properties) ||
    {};\n\n    const fontSize = $node[0].style.fontSize || styleInfo[''font-size''];\n\n    styleInfo[''font-size'']
    = parseInt(fontSize, 10);\n    styleInfo[''font-size-unit''] = fontSize.match(/[a-z%]+$/);\n\n    return
    styleInfo;\n  }\n\n  /**\n   * paragraph level style\n   *\n   * @param {WrappedRange}
    rng\n   * @param {Object} styleInfo\n   */\n  stylePara(rng, styleInfo) {\n    $.each(rng.nodes(dom.isPara,
    {\n      includeAncestor: true,\n    }), (idx, para) => {\n      $(para).css(styleInfo);\n    });\n  }\n\n  /**\n   *
    insert and returns styleNodes on range.\n   *\n   * @param {WrappedRange} rng\n   *
    @param {Object} [options] - options for styleNodes\n   * @param {String} [options.nodeName]
    - default: `SPAN`\n   * @param {Boolean} [options.expandClosestSibling] - default:
    `false`\n   * @param {Boolean} [options.onlyPartialContains] - default: `false`\n   *
    @return {Node[]}\n   */\n  styleNodes(rng, options) {\n    rng = rng.splitText();\n\n    const
    nodeName = (options && options.nodeName) || ''SPAN'';\n    const expandClosestSibling
    = !!(options && options.expandClosestSibling);\n    const onlyPartialContains
    = !!(options && options.onlyPartialContains);\n\n    if (rng.isCollapsed()) {\n      return
    [rng.insertNode(dom.create(nodeName))];\n    }\n\n    let pred = dom.makePredByNodeName(nodeName);\n    const
    nodes = rng.nodes(dom.isText, {\n      fullyContains: true,\n    }).map((text)
    => {\n      return dom.singleChildAncestor(text, pred) || dom.wrap(text, nodeName);\n    });\n\n    if
    (expandClosestSibling) {\n      if (onlyPartialContains) {\n        const nodesInRange
    = rng.nodes();\n        // compose with partial contains predication\n        pred
    = func.and(pred, (node) => {\n          return lists.contains(nodesInRange, node);\n        });\n      }\n\n      return
    nodes.map((node) => {\n        const siblings = dom.withClosestSiblings(node,
    pred);\n        const head = lists.head(siblings);\n        const tails = lists.tail(siblings);\n        $.each(tails,
    (idx, elem) => {\n          dom.appendChildNodes(head, elem.childNodes);\n          dom.remove(elem);\n        });\n        return
    lists.head(siblings);\n      });\n    } else {\n      return nodes;\n    }\n  }\n\n  /**\n   *
    get current style on cursor\n   *\n   * @param {WrappedRange} rng\n   * @return
    {Object} - object contains style properties.\n   */\n  current(rng) {\n    const
    $cont = $(!dom.isElement(rng.sc) ? rng.sc.parentNode : rng.sc);\n    let styleInfo
    = this.fromNode($cont);\n\n    // document.queryCommandState for toggle state\n    //
    [workaround] prevent Firefox nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"\n    try
    {\n      styleInfo = $.extend(styleInfo, {\n        ''font-bold'': document.queryCommandState(''bold'')
    ? ''bold'' : ''normal'',\n        ''font-italic'': document.queryCommandState(''italic'')
    ? ''italic'' : ''normal'',\n        ''font-underline'': document.queryCommandState(''underline'')
    ? ''underline'' : ''normal'',\n        ''font-subscript'': document.queryCommandState(''subscript'')
    ? ''subscript'' : ''normal'',\n        ''font-superscript'': document.queryCommandState(''superscript'')
    ? ''superscript'' : ''normal'',\n        ''font-strikethrough'': document.queryCommandState(''strikethrough'')
    ? ''strikethrough'' : ''normal'',\n        ''font-family'': document.queryCommandValue(''fontname'')
    || styleInfo[''font-family''],\n      });\n    } catch (e) {\n      // eslint-disable-next-line\n    }\n\n    //
    list-style-type to list-style(unordered, ordered)\n    if (!rng.isOnList()) {\n      styleInfo[''list-style'']
    = ''none'';\n    } else {\n      const orderedTypes = [''circle'', ''disc'', ''disc-leading-zero'',
    ''square''];\n      const isUnordered = orderedTypes.indexOf(styleInfo[''list-style-type''])
    > -1;\n      styleInfo[''list-style''] = isUnordered ? ''unordered'' : ''ordered'';\n    }\n\n    const
    para = dom.ancestor(rng.sc, dom.isPara);\n    if (para && para.style[''line-height''])
    {\n      styleInfo[''line-height''] = para.style.lineHeight;\n    } else {\n      const
    lineHeight = parseInt(styleInfo[''line-height''], 10) / parseInt(styleInfo[''font-size''],
    10);\n      styleInfo[''line-height''] = lineHeight.toFixed(1);\n    }\n\n    styleInfo.anchor
    = rng.isOnAnchor() && dom.ancestor(rng.sc, dom.isAnchor);\n    styleInfo.ancestors
    = dom.listAncestor(rng.sc, dom.isEditable);\n    styleInfo.range = rng;\n\n    return
    styleInfo;\n  }\n}\n","import $ from ''jquery'';\nimport lists from ''../core/lists'';\nimport
    func from ''../core/func'';\nimport dom from ''../core/dom'';\nimport range from
    ''../core/range'';\n\nexport default class Bullet {\n  /**\n   * toggle ordered
    list\n   */\n  insertOrderedList(editable) {\n    this.toggleList(''OL'', editable);\n  }\n\n  /**\n   *
    toggle unordered list\n   */\n  insertUnorderedList(editable) {\n    this.toggleList(''UL'',
    editable);\n  }\n\n  /**\n   * indent\n   */\n  indent(editable) {\n    const
    rng = range.create(editable).wrapBodyInlineWithPara();\n\n    const paras = rng.nodes(dom.isPara,
    { includeAncestor: true });\n    const clustereds = lists.clusterBy(paras, func.peq2(''parentNode''));\n\n    $.each(clustereds,
    (idx, paras) => {\n      const head = lists.head(paras);\n      if (dom.isLi(head))
    {\n        const previousList = this.findList(head.previousSibling);\n        if
    (previousList) {\n          paras\n            .map(para => previousList.appendChild(para));\n        }
    else {\n          this.wrapList(paras, head.parentNode.nodeName);\n          paras\n            .map((para)
    => para.parentNode)\n            .map((para) => this.appendToPrevious(para));\n        }\n      }
    else {\n        $.each(paras, (idx, para) => {\n          $(para).css(''marginLeft'',
    (idx, val) => {\n            return (parseInt(val, 10) || 0) + 25;\n          });\n        });\n      }\n    });\n\n    rng.select();\n  }\n\n  /**\n   *
    outdent\n   */\n  outdent(editable) {\n    const rng = range.create(editable).wrapBodyInlineWithPara();\n\n    const
    paras = rng.nodes(dom.isPara, { includeAncestor: true });\n    const clustereds
    = lists.clusterBy(paras, func.peq2(''parentNode''));\n\n    $.each(clustereds,
    (idx, paras) => {\n      const head = lists.head(paras);\n      if (dom.isLi(head))
    {\n        this.releaseList([paras]);\n      } else {\n        $.each(paras, (idx,
    para) => {\n          $(para).css(''marginLeft'', (idx, val) => {\n            val
    = (parseInt(val, 10) || 0);\n            return val > 25 ? val - 25 : '''';\n          });\n        });\n      }\n    });\n\n    rng.select();\n  }\n\n  /**\n   *
    toggle list\n   *\n   * @param {String} listName - OL or UL\n   */\n  toggleList(listName,
    editable) {\n    const rng = range.create(editable).wrapBodyInlineWithPara();\n\n    let
    paras = rng.nodes(dom.isPara, { includeAncestor: true });\n    const bookmark
    = rng.paraBookmark(paras);\n    const clustereds = lists.clusterBy(paras, func.peq2(''parentNode''));\n\n    //
    paragraph to list\n    if (lists.find(paras, dom.isPurePara)) {\n      let wrappedParas
    = [];\n      $.each(clustereds, (idx, paras) => {\n        wrappedParas = wrappedParas.concat(this.wrapList(paras,
    listName));\n      });\n      paras = wrappedParas;\n    // list to paragraph
    or change list style\n    } else {\n      const diffLists = rng.nodes(dom.isList,
    {\n        includeAncestor: true,\n      }).filter((listNode) => {\n        return
    !$.nodeName(listNode, listName);\n      });\n\n      if (diffLists.length) {\n        $.each(diffLists,
    (idx, listNode) => {\n          dom.replace(listNode, listName);\n        });\n      }
    else {\n        paras = this.releaseList(clustereds, true);\n      }\n    }\n\n    range.createFromParaBookmark(bookmark,
    paras).select();\n  }\n\n  /**\n   * @param {Node[]} paras\n   * @param {String}
    listName\n   * @return {Node[]}\n   */\n  wrapList(paras, listName) {\n    const
    head = lists.head(paras);\n    const last = lists.last(paras);\n\n    const prevList
    = dom.isList(head.previousSibling) && head.previousSibling;\n    const nextList
    = dom.isList(last.nextSibling) && last.nextSibling;\n\n    const listNode = prevList
    || dom.insertAfter(dom.create(listName || ''UL''), last);\n\n    // P to LI\n    paras
    = paras.map((para) => {\n      return dom.isPurePara(para) ? dom.replace(para,
    ''LI'') : para;\n    });\n\n    // append to list(<ul>, <ol>)\n    dom.appendChildNodes(listNode,
    paras);\n\n    if (nextList) {\n      dom.appendChildNodes(listNode, lists.from(nextList.childNodes));\n      dom.remove(nextList);\n    }\n\n    return
    paras;\n  }\n\n  /**\n   * @method releaseList\n   *\n   * @param {Array[]} clustereds\n   *
    @param {Boolean} isEscapseToBody\n   * @return {Node[]}\n   */\n  releaseList(clustereds,
    isEscapseToBody) {\n    let releasedParas = [];\n\n    $.each(clustereds, (idx,
    paras) => {\n      const head = lists.head(paras);\n      const last = lists.last(paras);\n\n      const
    headList = isEscapseToBody ? dom.lastAncestor(head, dom.isList) : head.parentNode;\n      const
    parentItem = headList.parentNode;\n\n      if (headList.parentNode.nodeName ===
    ''LI'') {\n        paras.map(para => {\n          const newList = this.findNextSiblings(para);\n\n          if
    (parentItem.nextSibling) {\n            parentItem.parentNode.insertBefore(\n              para,\n              parentItem.nextSibling\n            );\n          }
    else {\n            parentItem.parentNode.appendChild(para);\n          }\n\n          if
    (newList.length) {\n            this.wrapList(newList, headList.nodeName);\n            para.appendChild(newList[0].parentNode);\n          }\n        });\n\n        if
    (headList.children.length === 0) {\n          parentItem.removeChild(headList);\n        }\n\n        if
    (parentItem.childNodes.length === 0) {\n          parentItem.parentNode.removeChild(parentItem);\n        }\n      }
    else {\n        const lastList = headList.childNodes.length > 1 ? dom.splitTree(headList,
    {\n          node: last.parentNode,\n          offset: dom.position(last) + 1,\n        },
    {\n          isSkipPaddingBlankHTML: true,\n        }) : null;\n\n        const
    middleList = dom.splitTree(headList, {\n          node: head.parentNode,\n          offset:
    dom.position(head),\n        }, {\n          isSkipPaddingBlankHTML: true,\n        });\n\n        paras
    = isEscapseToBody ? dom.listDescendant(middleList, dom.isLi)\n          : lists.from(middleList.childNodes).filter(dom.isLi);\n\n        //
    LI to P\n        if (isEscapseToBody || !dom.isList(headList.parentNode)) {\n          paras
    = paras.map((para) => {\n            return dom.replace(para, ''P'');\n          });\n        }\n\n        $.each(lists.from(paras).reverse(),
    (idx, para) => {\n          dom.insertAfter(para, headList);\n        });\n\n        //
    remove empty lists\n        const rootLists = lists.compact([headList, middleList,
    lastList]);\n        $.each(rootLists, (idx, rootList) => {\n          const listNodes
    = [rootList].concat(dom.listDescendant(rootList, dom.isList));\n          $.each(listNodes.reverse(),
    (idx, listNode) => {\n            if (!dom.nodeLength(listNode)) {\n              dom.remove(listNode,
    true);\n            }\n          });\n        });\n      }\n\n      releasedParas
    = releasedParas.concat(paras);\n    });\n\n    return releasedParas;\n  }\n\n  /**\n   *
    @method appendToPrevious\n   *\n   * Appends list to previous list item, if\n   *
    none exist it wraps the list in a new list item.\n   *\n   * @param {HTMLNode}
    ListItem\n   * @return {HTMLNode}\n   */\n  appendToPrevious(node) {\n    return
    node.previousSibling\n      ? dom.appendChildNodes(node.previousSibling, [node])\n      :
    this.wrapList([node], ''LI'');\n  }\n\n  /**\n   * @method findList\n   *\n   *
    Finds an existing list in list item\n   *\n   * @param {HTMLNode} ListItem\n   *
    @return {Array[]}\n   */\n  findList(node) {\n    return node\n      ? lists.find(node.children,
    child => [''OL'', ''UL''].indexOf(child.nodeName) > -1)\n      : null;\n  }\n\n  /**\n   *
    @method findNextSiblings\n   *\n   * Finds all list item siblings that follow
    it\n   *\n   * @param {HTMLNode} ListItem\n   * @return {HTMLNode}\n   */\n  findNextSiblings(node)
    {\n    const siblings = [];\n    while (node.nextSibling) {\n      siblings.push(node.nextSibling);\n      node
    = node.nextSibling;\n    }\n    return siblings;\n  }\n}\n","import $ from ''jquery'';\nimport
    dom from ''../core/dom'';\nimport range from ''../core/range'';\nimport Bullet
    from ''../editing/Bullet'';\n\n/**\n * @class editing.Typing\n *\n * Typing\n
    *\n */\nexport default class Typing {\n  constructor(context) {\n    // a Bullet
    instance to toggle lists off\n    this.bullet = new Bullet();\n    this.options
    = context.options;\n  }\n\n  /**\n   * insert tab\n   *\n   * @param {WrappedRange}
    rng\n   * @param {Number} tabsize\n   */\n  insertTab(rng, tabsize) {\n    const
    tab = dom.createText(new Array(tabsize + 1).join(dom.NBSP_CHAR));\n    rng = rng.deleteContents();\n    rng.insertNode(tab,
    true);\n\n    rng = range.create(tab, tabsize);\n    rng.select();\n  }\n\n  /**\n   *
    insert paragraph\n   *\n   * @param {jQuery} $editable\n   * @param {WrappedRange}
    rng Can be used in unit tests to \"mock\" the range\n   *\n   * blockquoteBreakingLevel\n   *   0
    - No break, the new paragraph remains inside the quote\n   *   1 - Break the first
    blockquote in the ancestors list\n   *   2 - Break all blockquotes, so that the
    new paragraph is not quoted (this is the default)\n   */\n  insertParagraph(editable,
    rng) {\n    rng = rng || range.create(editable);\n\n    // deleteContents on range.\n    rng
    = rng.deleteContents();\n\n    // Wrap range if it needs to be wrapped by paragraph\n    rng
    = rng.wrapBodyInlineWithPara();\n\n    // finding paragraph\n    const splitRoot
    = dom.ancestor(rng.sc, dom.isPara);\n\n    let nextPara;\n    // on paragraph:
    split paragraph\n    if (splitRoot) {\n      // if it is an empty line with li\n      if
    (dom.isLi(splitRoot) && (dom.isEmpty(splitRoot) || dom.deepestChildIsEmpty(splitRoot)))
    {\n        // toggle UL/OL and escape\n        this.bullet.toggleList(splitRoot.parentNode.nodeName);\n        return;\n      }
    else {\n        let blockquote = null;\n        if (this.options.blockquoteBreakingLevel
    === 1) {\n          blockquote = dom.ancestor(splitRoot, dom.isBlockquote);\n        }
    else if (this.options.blockquoteBreakingLevel === 2) {\n          blockquote =
    dom.lastAncestor(splitRoot, dom.isBlockquote);\n        }\n\n        if (blockquote)
    {\n          // We''re inside a blockquote and options ask us to break it\n          nextPara
    = $(dom.emptyPara)[0];\n          // If the split is right before a <br>, remove
    it so that there''s no \"empty line\"\n          // after the split in the new
    blockquote created\n          if (dom.isRightEdgePoint(rng.getStartPoint()) &&
    dom.isBR(rng.sc.nextSibling)) {\n            $(rng.sc.nextSibling).remove();\n          }\n          const
    split = dom.splitTree(blockquote, rng.getStartPoint(), { isDiscardEmptySplits:
    true });\n          if (split) {\n            split.parentNode.insertBefore(nextPara,
    split);\n          } else {\n            dom.insertAfter(nextPara, blockquote);
    // There''s no split if we were at the end of the blockquote\n          }\n        }
    else {\n          nextPara = dom.splitTree(splitRoot, rng.getStartPoint());\n\n          //
    not a blockquote, just insert the paragraph\n          let emptyAnchors = dom.listDescendant(splitRoot,
    dom.isEmptyAnchor);\n          emptyAnchors = emptyAnchors.concat(dom.listDescendant(nextPara,
    dom.isEmptyAnchor));\n\n          $.each(emptyAnchors, (idx, anchor) => {\n            dom.remove(anchor);\n          });\n\n          //
    replace empty heading, pre or custom-made styleTag with P tag\n          if ((dom.isHeading(nextPara)
    || dom.isPre(nextPara) || dom.isCustomStyleTag(nextPara)) && dom.isEmpty(nextPara))
    {\n            nextPara = dom.replace(nextPara, ''p'');\n          }\n        }\n      }\n    //
    no paragraph: insert empty paragraph\n    } else {\n      const next = rng.sc.childNodes[rng.so];\n      nextPara
    = $(dom.emptyPara)[0];\n      if (next) {\n        rng.sc.insertBefore(nextPara,
    next);\n      } else {\n        rng.sc.appendChild(nextPara);\n      }\n    }\n\n    range.create(nextPara,
    0).normalize().select().scrollIntoView(editable);\n  }\n}\n","import $ from ''jquery'';\nimport
    dom from ''../core/dom'';\nimport range from ''../core/range'';\nimport lists
    from ''../core/lists'';\n\n/**\n * @class Create a virtual table to create what
    actions to do in change.\n * @param {object} startPoint Cell selected to apply
    change.\n * @param {enum} where  Where change will be applied Row or Col. Use
    enum: TableResultAction.where\n * @param {enum} action Action to be applied. Use
    enum: TableResultAction.requestAction\n * @param {object} domTable Dom element
    of table to make changes.\n */\nconst TableResultAction = function(startPoint,
    where, action, domTable) {\n  const _startPoint = { ''colPos'': 0, ''rowPos'':
    0 };\n  const _virtualTable = [];\n  const _actionCellList = [];\n\n  /// ///////////////////////////////////////////\n  //
    Private functions\n  /// ///////////////////////////////////////////\n\n  /**\n   *
    Set the startPoint of action.\n   */\n  function setStartPoint() {\n    if (!startPoint
    || !startPoint.tagName || (startPoint.tagName.toLowerCase() !== ''td'' && startPoint.tagName.toLowerCase()
    !== ''th'')) {\n      // Impossible to identify start Cell point\n      return;\n    }\n    _startPoint.colPos
    = startPoint.cellIndex;\n    if (!startPoint.parentElement || !startPoint.parentElement.tagName
    || startPoint.parentElement.tagName.toLowerCase() !== ''tr'') {\n      // Impossible
    to identify start Row point\n      return;\n    }\n    _startPoint.rowPos = startPoint.parentElement.rowIndex;\n  }\n\n  /**\n   *
    Define virtual table position info object.\n   *\n   * @param {int} rowIndex Index
    position in line of virtual table.\n   * @param {int} cellIndex Index position
    in column of virtual table.\n   * @param {object} baseRow Row affected by this
    position.\n   * @param {object} baseCell Cell affected by this position.\n   *
    @param {bool} isSpan Inform if it is an span cell/row.\n   */\n  function setVirtualTablePosition(rowIndex,
    cellIndex, baseRow, baseCell, isRowSpan, isColSpan, isVirtualCell) {\n    const
    objPosition = {\n      ''baseRow'': baseRow,\n      ''baseCell'': baseCell,\n      ''isRowSpan'':
    isRowSpan,\n      ''isColSpan'': isColSpan,\n      ''isVirtual'': isVirtualCell,\n    };\n    if
    (!_virtualTable[rowIndex]) {\n      _virtualTable[rowIndex] = [];\n    }\n    _virtualTable[rowIndex][cellIndex]
    = objPosition;\n  }\n\n  /**\n   * Create action cell object.\n   *\n   * @param
    {object} virtualTableCellObj Object of specific position on virtual table.\n   *
    @param {enum} resultAction Action to be applied in that item.\n   */\n  function
    getActionCell(virtualTableCellObj, resultAction, virtualRowPosition, virtualColPosition)
    {\n    return {\n      ''baseCell'': virtualTableCellObj.baseCell,\n      ''action'':
    resultAction,\n      ''virtualTable'': {\n        ''rowIndex'': virtualRowPosition,\n        ''cellIndex'':
    virtualColPosition,\n      },\n    };\n  }\n\n  /**\n   * Recover free index of
    row to append Cell.\n   *\n   * @param {int} rowIndex Index of row to find free
    space.\n   * @param {int} cellIndex Index of cell to find free space in table.\n   */\n  function
    recoverCellIndex(rowIndex, cellIndex) {\n    if (!_virtualTable[rowIndex]) {\n      return
    cellIndex;\n    }\n    if (!_virtualTable[rowIndex][cellIndex]) {\n      return
    cellIndex;\n    }\n\n    let newCellIndex = cellIndex;\n    while (_virtualTable[rowIndex][newCellIndex])
    {\n      newCellIndex++;\n      if (!_virtualTable[rowIndex][newCellIndex]) {\n        return
    newCellIndex;\n      }\n    }\n  }\n\n  /**\n   * Recover info about row and cell
    and add information to virtual table.\n   *\n   * @param {object} row Row to recover
    information.\n   * @param {object} cell Cell to recover information.\n   */\n  function
    addCellInfoToVirtual(row, cell) {\n    const cellIndex = recoverCellIndex(row.rowIndex,
    cell.cellIndex);\n    const cellHasColspan = (cell.colSpan > 1);\n    const cellHasRowspan
    = (cell.rowSpan > 1);\n    const isThisSelectedCell = (row.rowIndex === _startPoint.rowPos
    && cell.cellIndex === _startPoint.colPos);\n    setVirtualTablePosition(row.rowIndex,
    cellIndex, row, cell, cellHasRowspan, cellHasColspan, false);\n\n    // Add span
    rows to virtual Table.\n    const rowspanNumber = cell.attributes.rowSpan ? parseInt(cell.attributes.rowSpan.value,
    10) : 0;\n    if (rowspanNumber > 1) {\n      for (let rp = 1; rp < rowspanNumber;
    rp++) {\n        const rowspanIndex = row.rowIndex + rp;\n        adjustStartPoint(rowspanIndex,
    cellIndex, cell, isThisSelectedCell);\n        setVirtualTablePosition(rowspanIndex,
    cellIndex, row, cell, true, cellHasColspan, true);\n      }\n    }\n\n    // Add
    span cols to virtual table.\n    const colspanNumber = cell.attributes.colSpan
    ? parseInt(cell.attributes.colSpan.value, 10) : 0;\n    if (colspanNumber > 1)
    {\n      for (let cp = 1; cp < colspanNumber; cp++) {\n        const cellspanIndex
    = recoverCellIndex(row.rowIndex, (cellIndex + cp));\n        adjustStartPoint(row.rowIndex,
    cellspanIndex, cell, isThisSelectedCell);\n        setVirtualTablePosition(row.rowIndex,
    cellspanIndex, row, cell, cellHasRowspan, true, true);\n      }\n    }\n  }\n\n  /**\n   *
    Process validation and adjust of start point if needed\n   *\n   * @param {int}
    rowIndex\n   * @param {int} cellIndex\n   * @param {object} cell\n   * @param
    {bool} isSelectedCell\n   */\n  function adjustStartPoint(rowIndex, cellIndex,
    cell, isSelectedCell) {\n    if (rowIndex === _startPoint.rowPos && _startPoint.colPos
    >= cell.cellIndex && cell.cellIndex <= cellIndex && !isSelectedCell) {\n      _startPoint.colPos++;\n    }\n  }\n\n  /**\n   *
    Create virtual table of cells with all cells, including span cells.\n   */\n  function
    createVirtualTable() {\n    const rows = domTable.rows;\n    for (let rowIndex
    = 0; rowIndex < rows.length; rowIndex++) {\n      const cells = rows[rowIndex].cells;\n      for
    (let cellIndex = 0; cellIndex < cells.length; cellIndex++) {\n        addCellInfoToVirtual(rows[rowIndex],
    cells[cellIndex]);\n      }\n    }\n  }\n\n  /**\n   * Get action to be applied
    on the cell.\n   *\n   * @param {object} cell virtual table cell to apply action\n   */\n  function
    getDeleteResultActionToCell(cell) {\n    switch (where) {\n      case TableResultAction.where.Column:\n        if
    (cell.isColSpan) {\n          return TableResultAction.resultAction.SubtractSpanCount;\n        }\n        break;\n      case
    TableResultAction.where.Row:\n        if (!cell.isVirtual && cell.isRowSpan) {\n          return
    TableResultAction.resultAction.AddCell;\n        } else if (cell.isRowSpan) {\n          return
    TableResultAction.resultAction.SubtractSpanCount;\n        }\n        break;\n    }\n    return
    TableResultAction.resultAction.RemoveCell;\n  }\n\n  /**\n   * Get action to be
    applied on the cell.\n   *\n   * @param {object} cell virtual table cell to apply
    action\n   */\n  function getAddResultActionToCell(cell) {\n    switch (where)
    {\n      case TableResultAction.where.Column:\n        if (cell.isColSpan) {\n          return
    TableResultAction.resultAction.SumSpanCount;\n        } else if (cell.isRowSpan
    && cell.isVirtual) {\n          return TableResultAction.resultAction.Ignore;\n        }\n        break;\n      case
    TableResultAction.where.Row:\n        if (cell.isRowSpan) {\n          return
    TableResultAction.resultAction.SumSpanCount;\n        } else if (cell.isColSpan
    && cell.isVirtual) {\n          return TableResultAction.resultAction.Ignore;\n        }\n        break;\n    }\n    return
    TableResultAction.resultAction.AddCell;\n  }\n\n  function init() {\n    setStartPoint();\n    createVirtualTable();\n  }\n\n  ///
    ///////////////////////////////////////////\n  // Public functions\n  /// ///////////////////////////////////////////\n\n  /**\n   *
    Recover array os what to do in table.\n   */\n  this.getActionList = function()
    {\n    const fixedRow = (where === TableResultAction.where.Row) ? _startPoint.rowPos
    : -1;\n    const fixedCol = (where === TableResultAction.where.Column) ? _startPoint.colPos
    : -1;\n\n    let actualPosition = 0;\n    let canContinue = true;\n    while (canContinue)
    {\n      const rowPosition = (fixedRow >= 0) ? fixedRow : actualPosition;\n      const
    colPosition = (fixedCol >= 0) ? fixedCol : actualPosition;\n      const row =
    _virtualTable[rowPosition];\n      if (!row) {\n        canContinue = false;\n        return
    _actionCellList;\n      }\n      const cell = row[colPosition];\n      if (!cell)
    {\n        canContinue = false;\n        return _actionCellList;\n      }\n\n      //
    Define action to be applied in this cell\n      let resultAction = TableResultAction.resultAction.Ignore;\n      switch
    (action) {\n        case TableResultAction.requestAction.Add:\n          resultAction
    = getAddResultActionToCell(cell);\n          break;\n        case TableResultAction.requestAction.Delete:\n          resultAction
    = getDeleteResultActionToCell(cell);\n          break;\n      }\n      _actionCellList.push(getActionCell(cell,
    resultAction, rowPosition, colPosition));\n      actualPosition++;\n    }\n\n    return
    _actionCellList;\n  };\n\n  init();\n};\n/**\n*\n* Where action occours enum.\n*/\nTableResultAction.where
    = { ''Row'': 0, ''Column'': 1 };\n/**\n*\n* Requested action to apply enum.\n*/\nTableResultAction.requestAction
    = { ''Add'': 0, ''Delete'': 1 };\n/**\n*\n* Result action to be executed enum.\n*/\nTableResultAction.resultAction
    = { ''Ignore'': 0, ''SubtractSpanCount'': 1, ''RemoveCell'': 2, ''AddCell'': 3,
    ''SumSpanCount'': 4 };\n\n/**\n *\n * @class editing.Table\n *\n * Table\n *\n
    */\nexport default class Table {\n  /**\n   * handle tab key\n   *\n   * @param
    {WrappedRange} rng\n   * @param {Boolean} isShift\n   */\n  tab(rng, isShift)
    {\n    const cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n    const
    table = dom.ancestor(cell, dom.isTable);\n    const cells = dom.listDescendant(table,
    dom.isCell);\n\n    const nextCell = lists[isShift ? ''prev'' : ''next''](cells,
    cell);\n    if (nextCell) {\n      range.create(nextCell, 0).select();\n    }\n  }\n\n  /**\n   *
    Add a new row\n   *\n   * @param {WrappedRange} rng\n   * @param {String} position
    (top/bottom)\n   * @return {Node}\n   */\n  addRow(rng, position) {\n    const
    cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n\n    const currentTr
    = $(cell).closest(''tr'');\n    const trAttributes = this.recoverAttributes(currentTr);\n    const
    html = $(''<tr'' + trAttributes + ''></tr>'');\n\n    const vTable = new TableResultAction(cell,
    TableResultAction.where.Row,\n      TableResultAction.requestAction.Add, $(currentTr).closest(''table'')[0]);\n    const
    actions = vTable.getActionList();\n\n    for (let idCell = 0; idCell < actions.length;
    idCell++) {\n      const currentCell = actions[idCell];\n      const tdAttributes
    = this.recoverAttributes(currentCell.baseCell);\n      switch (currentCell.action)
    {\n        case TableResultAction.resultAction.AddCell:\n          html.append(''<td''
    + tdAttributes + ''>'' + dom.blank + ''</td>'');\n          break;\n        case
    TableResultAction.resultAction.SumSpanCount:\n          {\n            if (position
    === ''top'') {\n              const baseCellTr = currentCell.baseCell.parent;\n              const
    isTopFromRowSpan = (!baseCellTr ? 0 : currentCell.baseCell.closest(''tr'').rowIndex)
    <= currentTr[0].rowIndex;\n              if (isTopFromRowSpan) {\n                const
    newTd = $(''<div></div>'').append($(''<td'' + tdAttributes + ''>'' + dom.blank
    + ''</td>'').removeAttr(''rowspan'')).html();\n                html.append(newTd);\n                break;\n              }\n            }\n            let
    rowspanNumber = parseInt(currentCell.baseCell.rowSpan, 10);\n            rowspanNumber++;\n            currentCell.baseCell.setAttribute(''rowSpan'',
    rowspanNumber);\n          }\n          break;\n      }\n    }\n\n    if (position
    === ''top'') {\n      currentTr.before(html);\n    } else {\n      const cellHasRowspan
    = (cell.rowSpan > 1);\n      if (cellHasRowspan) {\n        const lastTrIndex
    = currentTr[0].rowIndex + (cell.rowSpan - 2);\n        $($(currentTr).parent().find(''tr'')[lastTrIndex]).after($(html));\n        return;\n      }\n      currentTr.after(html);\n    }\n  }\n\n  /**\n   *
    Add a new col\n   *\n   * @param {WrappedRange} rng\n   * @param {String} position
    (left/right)\n   * @return {Node}\n   */\n  addCol(rng, position) {\n    const
    cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n    const row = $(cell).closest(''tr'');\n    const
    rowsGroup = $(row).siblings();\n    rowsGroup.push(row);\n\n    const vTable =
    new TableResultAction(cell, TableResultAction.where.Column,\n      TableResultAction.requestAction.Add,
    $(row).closest(''table'')[0]);\n    const actions = vTable.getActionList();\n\n    for
    (let actionIndex = 0; actionIndex < actions.length; actionIndex++) {\n      const
    currentCell = actions[actionIndex];\n      const tdAttributes = this.recoverAttributes(currentCell.baseCell);\n      switch
    (currentCell.action) {\n        case TableResultAction.resultAction.AddCell:\n          if
    (position === ''right'') {\n            $(currentCell.baseCell).after(''<td''
    + tdAttributes + ''>'' + dom.blank + ''</td>'');\n          } else {\n            $(currentCell.baseCell).before(''<td''
    + tdAttributes + ''>'' + dom.blank + ''</td>'');\n          }\n          break;\n        case
    TableResultAction.resultAction.SumSpanCount:\n          if (position === ''right'')
    {\n            let colspanNumber = parseInt(currentCell.baseCell.colSpan, 10);\n            colspanNumber++;\n            currentCell.baseCell.setAttribute(''colSpan'',
    colspanNumber);\n          } else {\n            $(currentCell.baseCell).before(''<td''
    + tdAttributes + ''>'' + dom.blank + ''</td>'');\n          }\n          break;\n      }\n    }\n  }\n\n  /*\n  *
    Copy attributes from element.\n  *\n  * @param {object} Element to recover attributes.\n  *
    @return {string} Copied string elements.\n  */\n  recoverAttributes(el) {\n    let
    resultStr = '''';\n\n    if (!el) {\n      return resultStr;\n    }\n\n    const
    attrList = el.attributes || [];\n\n    for (let i = 0; i < attrList.length; i++)
    {\n      if (attrList[i].name.toLowerCase() === ''id'') {\n        continue;\n      }\n\n      if
    (attrList[i].specified) {\n        resultStr += '' '' + attrList[i].name + ''=\\''''
    + attrList[i].value + ''\\'''';\n      }\n    }\n\n    return resultStr;\n  }\n\n  /**\n   *
    Delete current row\n   *\n   * @param {WrappedRange} rng\n   * @return {Node}\n   */\n  deleteRow(rng)
    {\n    const cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n    const
    row = $(cell).closest(''tr'');\n    const cellPos = row.children(''td, th'').index($(cell));\n    const
    rowPos = row[0].rowIndex;\n\n    const vTable = new TableResultAction(cell, TableResultAction.where.Row,\n      TableResultAction.requestAction.Delete,
    $(row).closest(''table'')[0]);\n    const actions = vTable.getActionList();\n\n    for
    (let actionIndex = 0; actionIndex < actions.length; actionIndex++) {\n      if
    (!actions[actionIndex]) {\n        continue;\n      }\n\n      const baseCell
    = actions[actionIndex].baseCell;\n      const virtualPosition = actions[actionIndex].virtualTable;\n      const
    hasRowspan = (baseCell.rowSpan && baseCell.rowSpan > 1);\n      let rowspanNumber
    = (hasRowspan) ? parseInt(baseCell.rowSpan, 10) : 0;\n      switch (actions[actionIndex].action)
    {\n        case TableResultAction.resultAction.Ignore:\n          continue;\n        case
    TableResultAction.resultAction.AddCell:\n          {\n            const nextRow
    = row.next(''tr'')[0];\n            if (!nextRow) { continue; }\n            const
    cloneRow = row[0].cells[cellPos];\n            if (hasRowspan) {\n              if
    (rowspanNumber > 2) {\n                rowspanNumber--;\n                nextRow.insertBefore(cloneRow,
    nextRow.cells[cellPos]);\n                nextRow.cells[cellPos].setAttribute(''rowSpan'',
    rowspanNumber);\n                nextRow.cells[cellPos].innerHTML = '''';\n              }
    else if (rowspanNumber === 2) {\n                nextRow.insertBefore(cloneRow,
    nextRow.cells[cellPos]);\n                nextRow.cells[cellPos].removeAttribute(''rowSpan'');\n                nextRow.cells[cellPos].innerHTML
    = '''';\n              }\n            }\n          }\n          continue;\n        case
    TableResultAction.resultAction.SubtractSpanCount:\n          if (hasRowspan) {\n            if
    (rowspanNumber > 2) {\n              rowspanNumber--;\n              baseCell.setAttribute(''rowSpan'',
    rowspanNumber);\n              if (virtualPosition.rowIndex !== rowPos && baseCell.cellIndex
    === cellPos) { baseCell.innerHTML = ''''; }\n            } else if (rowspanNumber
    === 2) {\n              baseCell.removeAttribute(''rowSpan'');\n              if
    (virtualPosition.rowIndex !== rowPos && baseCell.cellIndex === cellPos) { baseCell.innerHTML
    = ''''; }\n            }\n          }\n          continue;\n        case TableResultAction.resultAction.RemoveCell:\n          //
    Do not need remove cell because row will be deleted.\n          continue;\n      }\n    }\n    row.remove();\n  }\n\n  /**\n   *
    Delete current col\n   *\n   * @param {WrappedRange} rng\n   * @return {Node}\n   */\n  deleteCol(rng)
    {\n    const cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n    const
    row = $(cell).closest(''tr'');\n    const cellPos = row.children(''td, th'').index($(cell));\n\n    const
    vTable = new TableResultAction(cell, TableResultAction.where.Column,\n      TableResultAction.requestAction.Delete,
    $(row).closest(''table'')[0]);\n    const actions = vTable.getActionList();\n\n    for
    (let actionIndex = 0; actionIndex < actions.length; actionIndex++) {\n      if
    (!actions[actionIndex]) {\n        continue;\n      }\n      switch (actions[actionIndex].action)
    {\n        case TableResultAction.resultAction.Ignore:\n          continue;\n        case
    TableResultAction.resultAction.SubtractSpanCount:\n          {\n            const
    baseCell = actions[actionIndex].baseCell;\n            const hasColspan = (baseCell.colSpan
    && baseCell.colSpan > 1);\n            if (hasColspan) {\n              let colspanNumber
    = (baseCell.colSpan) ? parseInt(baseCell.colSpan, 10) : 0;\n              if (colspanNumber
    > 2) {\n                colspanNumber--;\n                baseCell.setAttribute(''colSpan'',
    colspanNumber);\n                if (baseCell.cellIndex === cellPos) { baseCell.innerHTML
    = ''''; }\n              } else if (colspanNumber === 2) {\n                baseCell.removeAttribute(''colSpan'');\n                if
    (baseCell.cellIndex === cellPos) { baseCell.innerHTML = ''''; }\n              }\n            }\n          }\n          continue;\n        case
    TableResultAction.resultAction.RemoveCell:\n          dom.remove(actions[actionIndex].baseCell,
    true);\n          continue;\n      }\n    }\n  }\n\n  /**\n   * create empty table
    element\n   *\n   * @param {Number} rowCount\n   * @param {Number} colCount\n   *
    @return {Node}\n   */\n  createTable(colCount, rowCount, options) {\n    const
    tds = [];\n    let tdHTML;\n    for (let idxCol = 0; idxCol < colCount; idxCol++)
    {\n      tds.push(''<td>'' + dom.blank + ''</td>'');\n    }\n    tdHTML = tds.join('''');\n\n    const
    trs = [];\n    let trHTML;\n    for (let idxRow = 0; idxRow < rowCount; idxRow++)
    {\n      trs.push(''<tr>'' + tdHTML + ''</tr>'');\n    }\n    trHTML = trs.join('''');\n    const
    $table = $(''<table>'' + trHTML + ''</table>'');\n    if (options && options.tableClassName)
    {\n      $table.addClass(options.tableClassName);\n    }\n\n    return $table[0];\n  }\n\n  /**\n   *
    Delete current table\n   *\n   * @param {WrappedRange} rng\n   * @return {Node}\n   */\n  deleteTable(rng)
    {\n    const cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n    $(cell).closest(''table'').remove();\n  }\n}\n","import
    $ from ''jquery'';\nimport env from ''../core/env'';\nimport key from ''../core/key'';\nimport
    func from ''../core/func'';\nimport lists from ''../core/lists'';\nimport dom
    from ''../core/dom'';\nimport range from ''../core/range'';\nimport { readFileAsDataURL,
    createImage } from ''../core/async'';\nimport History from ''../editing/History'';\nimport
    Style from ''../editing/Style'';\nimport Typing from ''../editing/Typing'';\nimport
    Table from ''../editing/Table'';\nimport Bullet from ''../editing/Bullet'';\n\nconst
    KEY_BOGUS = ''bogus'';\n\n/**\n * @class Editor\n */\nexport default class Editor
    {\n  constructor(context) {\n    this.context = context;\n\n    this.$note = context.layoutInfo.note;\n    this.$editor
    = context.layoutInfo.editor;\n    this.$editable = context.layoutInfo.editable;\n    this.options
    = context.options;\n    this.lang = this.options.langInfo;\n\n    this.editable
    = this.$editable[0];\n    this.lastRange = null;\n    this.snapshot = null;\n\n    this.style
    = new Style();\n    this.table = new Table();\n    this.typing = new Typing(context);\n    this.bullet
    = new Bullet();\n    this.history = new History(context);\n\n    this.context.memo(''help.escape'',
    this.lang.help.escape);\n    this.context.memo(''help.undo'', this.lang.help.undo);\n    this.context.memo(''help.redo'',
    this.lang.help.redo);\n    this.context.memo(''help.tab'', this.lang.help.tab);\n    this.context.memo(''help.untab'',
    this.lang.help.untab);\n    this.context.memo(''help.insertParagraph'', this.lang.help.insertParagraph);\n    this.context.memo(''help.insertOrderedList'',
    this.lang.help.insertOrderedList);\n    this.context.memo(''help.insertUnorderedList'',
    this.lang.help.insertUnorderedList);\n    this.context.memo(''help.indent'', this.lang.help.indent);\n    this.context.memo(''help.outdent'',
    this.lang.help.outdent);\n    this.context.memo(''help.formatPara'', this.lang.help.formatPara);\n    this.context.memo(''help.insertHorizontalRule'',
    this.lang.help.insertHorizontalRule);\n    this.context.memo(''help.fontName'',
    this.lang.help.fontName);\n\n    // native commands(with execCommand), generate
    function for execCommand\n    const commands = [\n      ''bold'', ''italic'',
    ''underline'', ''strikethrough'', ''superscript'', ''subscript'',\n      ''justifyLeft'',
    ''justifyCenter'', ''justifyRight'', ''justifyFull'',\n      ''formatBlock'',
    ''removeFormat'', ''backColor'',\n    ];\n\n    for (let idx = 0, len = commands.length;
    idx < len; idx++) {\n      this[commands[idx]] = ((sCmd) => {\n        return
    (value) => {\n          this.beforeCommand();\n          document.execCommand(sCmd,
    false, value);\n          this.afterCommand(true);\n        };\n      })(commands[idx]);\n      this.context.memo(''help.''
    + commands[idx], this.lang.help[commands[idx]]);\n    }\n\n    this.fontName =
    this.wrapCommand((value) => {\n      return this.fontStyling(''font-family'',
    env.validFontName(value));\n    });\n\n    this.fontSize = this.wrapCommand((value)
    => {\n      const unit = this.currentStyle()[''font-size-unit''];\n      return
    this.fontStyling(''font-size'', value + unit);\n    });\n\n    this.fontSizeUnit
    = this.wrapCommand((value) => {\n      const size = this.currentStyle()[''font-size''];\n      return
    this.fontStyling(''font-size'', size + value);\n    });\n\n    for (let idx =
    1; idx <= 6; idx++) {\n      this[''formatH'' + idx] = ((idx) => {\n        return
    () => {\n          this.formatBlock(''H'' + idx);\n        };\n      })(idx);\n      this.context.memo(''help.formatH''
    + idx, this.lang.help[''formatH'' + idx]);\n    }\n\n    this.insertParagraph
    = this.wrapCommand(() => {\n      this.typing.insertParagraph(this.editable);\n    });\n\n    this.insertOrderedList
    = this.wrapCommand(() => {\n      this.bullet.insertOrderedList(this.editable);\n    });\n\n    this.insertUnorderedList
    = this.wrapCommand(() => {\n      this.bullet.insertUnorderedList(this.editable);\n    });\n\n    this.indent
    = this.wrapCommand(() => {\n      this.bullet.indent(this.editable);\n    });\n\n    this.outdent
    = this.wrapCommand(() => {\n      this.bullet.outdent(this.editable);\n    });\n\n    /**\n     *
    insertNode\n     * insert node\n     * @param {Node} node\n     */\n    this.insertNode
    = this.wrapCommand((node) => {\n      if (this.isLimited($(node).text().length))
    {\n        return;\n      }\n      const rng = this.getLastRange();\n      rng.insertNode(node);\n      this.setLastRange(range.createFromNodeAfter(node).select());\n    });\n\n    /**\n     *
    insert text\n     * @param {String} text\n     */\n    this.insertText = this.wrapCommand((text)
    => {\n      if (this.isLimited(text.length)) {\n        return;\n      }\n      const
    rng = this.getLastRange();\n      const textNode = rng.insertNode(dom.createText(text));\n      this.setLastRange(range.create(textNode,
    dom.nodeLength(textNode)).select());\n    });\n\n    /**\n     * paste HTML\n     *
    @param {String} markup\n     */\n    this.pasteHTML = this.wrapCommand((markup)
    => {\n      if (this.isLimited(markup.length)) {\n        return;\n      }\n      markup
    = this.context.invoke(''codeview.purify'', markup);\n      const contents = this.getLastRange().pasteHTML(markup);\n      this.setLastRange(range.createFromNodeAfter(lists.last(contents)).select());\n    });\n\n    /**\n     *
    formatBlock\n     *\n     * @param {String} tagName\n     */\n    this.formatBlock
    = this.wrapCommand((tagName, $target) => {\n      const onApplyCustomStyle = this.options.callbacks.onApplyCustomStyle;\n      if
    (onApplyCustomStyle) {\n        onApplyCustomStyle.call(this, $target, this.context,
    this.onFormatBlock);\n      } else {\n        this.onFormatBlock(tagName, $target);\n      }\n    });\n\n    /**\n     *
    insert horizontal rule\n     */\n    this.insertHorizontalRule = this.wrapCommand(()
    => {\n      const hrNode = this.getLastRange().insertNode(dom.create(''HR''));\n      if
    (hrNode.nextSibling) {\n        this.setLastRange(range.create(hrNode.nextSibling,
    0).normalize().select());\n      }\n    });\n\n    /**\n     * lineHeight\n     *
    @param {String} value\n     */\n    this.lineHeight = this.wrapCommand((value)
    => {\n      this.style.stylePara(this.getLastRange(), {\n        lineHeight: value,\n      });\n    });\n\n    /**\n     *
    create link (command)\n     *\n     * @param {Object} linkInfo\n     */\n    this.createLink
    = this.wrapCommand((linkInfo) => {\n      let linkUrl = linkInfo.url;\n      const
    linkText = linkInfo.text;\n      const isNewWindow = linkInfo.isNewWindow;\n      const
    checkProtocol = linkInfo.checkProtocol;\n      let rng = linkInfo.range || this.getLastRange();\n      const
    additionalTextLength = linkText.length - rng.toString().length;\n      if (additionalTextLength
    > 0 && this.isLimited(additionalTextLength)) {\n        return;\n      }\n      const
    isTextChanged = rng.toString() !== linkText;\n\n      // handle spaced urls from
    input\n      if (typeof linkUrl === ''string'') {\n        linkUrl = linkUrl.trim();\n      }\n\n      if
    (this.options.onCreateLink) {\n        linkUrl = this.options.onCreateLink(linkUrl);\n      }
    else if (checkProtocol) {\n        // if url doesn''t have any protocol and not
    even a relative or a label, use http:// as default\n        linkUrl = /^([A-Za-z][A-Za-z0-9+-.]*\\:|#|\\/)/.test(linkUrl)\n          ?
    linkUrl : this.options.defaultProtocol + linkUrl;\n      }\n\n      let anchors
    = [];\n      if (isTextChanged) {\n        rng = rng.deleteContents();\n        const
    anchor = rng.insertNode($(''<A>'' + linkText + ''</A>'')[0]);\n        anchors.push(anchor);\n      }
    else {\n        anchors = this.style.styleNodes(rng, {\n          nodeName: ''A'',\n          expandClosestSibling:
    true,\n          onlyPartialContains: true,\n        });\n      }\n\n      $.each(anchors,
    (idx, anchor) => {\n        $(anchor).attr(''href'', linkUrl);\n        if (isNewWindow)
    {\n          $(anchor).attr(''target'', ''_blank'');\n        } else {\n          $(anchor).removeAttr(''target'');\n        }\n      });\n\n      this.setLastRange(\n        this.createRangeFromList(anchors).select()\n      );\n    });\n\n    /**\n     *
    setting color\n     *\n     * @param {Object} sObjColor  color code\n     * @param
    {String} sObjColor.foreColor foreground color\n     * @param {String} sObjColor.backColor
    background color\n     */\n    this.color = this.wrapCommand((colorInfo) => {\n      const
    foreColor = colorInfo.foreColor;\n      const backColor = colorInfo.backColor;\n\n      if
    (foreColor) { document.execCommand(''foreColor'', false, foreColor); }\n      if
    (backColor) { document.execCommand(''backColor'', false, backColor); }\n    });\n\n    /**\n     *
    Set foreground color\n     *\n     * @param {String} colorCode foreground color
    code\n     */\n    this.foreColor = this.wrapCommand((colorInfo) => {\n      document.execCommand(''foreColor'',
    false, colorInfo);\n    });\n\n    /**\n     * insert Table\n     *\n     * @param
    {String} dimension of table (ex : \"5x5\")\n     */\n    this.insertTable = this.wrapCommand((dim)
    => {\n      const dimension = dim.split(''x'');\n\n      const rng = this.getLastRange().deleteContents();\n      rng.insertNode(this.table.createTable(dimension[0],
    dimension[1], this.options));\n    });\n\n    /**\n     * remove media object
    and Figure Elements if media object is img with Figure.\n     */\n    this.removeMedia
    = this.wrapCommand(() => {\n      let $target = $(this.restoreTarget()).parent();\n      if
    ($target.closest(''figure'').length) {\n        $target.closest(''figure'').remove();\n      }
    else {\n        $target = $(this.restoreTarget()).detach();\n      }\n      this.context.triggerEvent(''media.delete'',
    $target, this.$editable);\n    });\n\n    /**\n     * float me\n     *\n     *
    @param {String} value\n     */\n    this.floatMe = this.wrapCommand((value) =>
    {\n      const $target = $(this.restoreTarget());\n      $target.toggleClass(''note-float-left'',
    value === ''left'');\n      $target.toggleClass(''note-float-right'', value ===
    ''right'');\n      $target.css(''float'', (value === ''none'' ? '''' : value));\n    });\n\n    /**\n     *
    resize overlay element\n     * @param {String} value\n     */\n    this.resize
    = this.wrapCommand((value) => {\n      const $target = $(this.restoreTarget());\n      value
    = parseFloat(value);\n      if (value === 0) {\n        $target.css(''width'',
    '''');\n      } else {\n        $target.css({\n          width: value * 100 +
    ''%'',\n          height: '''',\n        });\n      }\n    });\n  }\n\n  initialize()
    {\n    // bind custom events\n    this.$editable.on(''keydown'', (event) => {\n      if
    (event.keyCode === key.code.ENTER) {\n        this.context.triggerEvent(''enter'',
    event);\n      }\n      this.context.triggerEvent(''keydown'', event);\n\n      //
    keep a snapshot to limit text on input event\n      this.snapshot = this.history.makeSnapshot();\n      this.hasKeyShortCut
    = false;\n      if (!event.isDefaultPrevented()) {\n        if (this.options.shortcuts)
    {\n          this.hasKeyShortCut = this.handleKeyMap(event);\n        } else {\n          this.preventDefaultEditableShortCuts(event);\n        }\n      }\n      if
    (this.isLimited(1, event)) {\n        const lastRange = this.getLastRange();\n        if
    (lastRange.eo - lastRange.so === 0) {\n          return false;\n        }\n      }\n      this.setLastRange();\n\n      //
    record undo in the key event except keyMap.\n      if (this.options.recordEveryKeystroke)
    {\n        if (this.hasKeyShortCut === false) {\n          this.history.recordUndo();\n        }\n      }\n    }).on(''keyup'',
    (event) => {\n      this.setLastRange();\n      this.context.triggerEvent(''keyup'',
    event);\n    }).on(''focus'', (event) => {\n      this.setLastRange();\n      this.context.triggerEvent(''focus'',
    event);\n    }).on(''blur'', (event) => {\n      this.context.triggerEvent(''blur'',
    event);\n    }).on(''mousedown'', (event) => {\n      this.context.triggerEvent(''mousedown'',
    event);\n    }).on(''mouseup'', (event) => {\n      this.setLastRange();\n      this.history.recordUndo();\n      this.context.triggerEvent(''mouseup'',
    event);\n    }).on(''scroll'', (event) => {\n      this.context.triggerEvent(''scroll'',
    event);\n    }).on(''paste'', (event) => {\n      this.setLastRange();\n      this.context.triggerEvent(''paste'',
    event);\n    }).on(''input'', () => {\n      // To limit composition characters
    (e.g. Korean)\n      if (this.isLimited(0) && this.snapshot) {\n        this.history.applySnapshot(this.snapshot);\n      }\n    });\n\n    this.$editable.attr(''spellcheck'',
    this.options.spellCheck);\n\n    this.$editable.attr(''autocorrect'', this.options.spellCheck);\n\n    if
    (this.options.disableGrammar) {\n      this.$editable.attr(''data-gramm'', false);\n    }\n\n    //
    init content before set event\n    this.$editable.html(dom.html(this.$note) ||
    dom.emptyPara);\n\n    this.$editable.on(env.inputEventName, func.debounce(()
    => {\n      this.context.triggerEvent(''change'', this.$editable.html(), this.$editable);\n    },
    10));\n\n    this.$editable.on(''focusin'', (event) => {\n      this.context.triggerEvent(''focusin'',
    event);\n    }).on(''focusout'', (event) => {\n      this.context.triggerEvent(''focusout'',
    event);\n    });\n\n    if (this.options.airMode) {\n      if (this.options.overrideContextMenu)
    {\n        this.$editor.on(''contextmenu'', (event) => {\n          this.context.triggerEvent(''contextmenu'',
    event);\n          return false;\n        });\n      }\n    } else {\n      if
    (this.options.width) {\n        this.$editor.outerWidth(this.options.width);\n      }\n      if
    (this.options.height) {\n        this.$editable.outerHeight(this.options.height);\n      }\n      if
    (this.options.maxHeight) {\n        this.$editable.css(''max-height'', this.options.maxHeight);\n      }\n      if
    (this.options.minHeight) {\n        this.$editable.css(''min-height'', this.options.minHeight);\n      }\n    }\n\n    this.history.recordUndo();\n    this.setLastRange();\n  }\n\n  destroy()
    {\n    this.$editable.off();\n  }\n\n  handleKeyMap(event) {\n    const keyMap
    = this.options.keyMap[env.isMac ? ''mac'' : ''pc''];\n    const keys = [];\n\n    if
    (event.metaKey) { keys.push(''CMD''); }\n    if (event.ctrlKey && !event.altKey)
    { keys.push(''CTRL''); }\n    if (event.shiftKey) { keys.push(''SHIFT''); }\n\n    const
    keyName = key.nameFromCode[event.keyCode];\n    if (keyName) {\n      keys.push(keyName);\n    }\n\n    const
    eventName = keyMap[keys.join(''+'')];\n\n    if (keyName === ''TAB'' && !this.options.tabDisable)
    {\n      this.afterCommand();\n    } else if (eventName) {\n      if (this.context.invoke(eventName)
    !== false) {\n        event.preventDefault();\n        // if keyMap action was
    invoked\n        return true;\n      }\n    } else if (key.isEdit(event.keyCode))
    {\n      this.afterCommand();\n    }\n    return false;\n  }\n\n  preventDefaultEditableShortCuts(event)
    {\n    // B(Bold, 66) / I(Italic, 73) / U(Underline, 85)\n    if ((event.ctrlKey
    || event.metaKey) &&\n      lists.contains([66, 73, 85], event.keyCode)) {\n      event.preventDefault();\n    }\n  }\n\n  isLimited(pad,
    event) {\n    pad = pad || 0;\n\n    if (typeof event !== ''undefined'') {\n      if
    (key.isMove(event.keyCode) ||\n          key.isNavigation(event.keyCode) ||\n          (event.ctrlKey
    || event.metaKey) ||\n          lists.contains([key.code.BACKSPACE, key.code.DELETE],
    event.keyCode)) {\n        return false;\n      }\n    }\n\n    if (this.options.maxTextLength
    > 0) {\n      if ((this.$editable.text().length + pad) > this.options.maxTextLength)
    {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   *
    create range\n   * @return {WrappedRange}\n   */\n  createRange() {\n    this.focus();\n    this.setLastRange();\n    return
    this.getLastRange();\n  }\n\n  /**\n   * create a new range from the list of elements\n   *\n   *
    @param {list} dom element list\n   * @return {WrappedRange}\n   */\n  createRangeFromList(lst)
    {\n    const startRange = range.createFromNodeBefore(lists.head(lst));\n    const
    startPoint = startRange.getStartPoint();\n    const endRange = range.createFromNodeAfter(lists.last(lst));\n    const
    endPoint = endRange.getEndPoint();\n\n    return range.create(\n      startPoint.node,\n      startPoint.offset,\n      endPoint.node,\n      endPoint.offset\n    );\n  }\n\n  /**\n   *
    set the last range\n   *\n   * if given rng is exist, set rng as the last range\n   *
    or create a new range at the end of the document\n   *\n   * @param {WrappedRange}
    rng\n   */\n  setLastRange(rng) {\n    if (rng) {\n      this.lastRange = rng;\n    }
    else {\n      this.lastRange = range.create(this.editable);\n\n      if ($(this.lastRange.sc).closest(''.note-editable'').length
    === 0) {\n        this.lastRange = range.createFromBodyElement(this.editable);\n      }\n    }\n  }\n\n  /**\n   *
    get the last range\n   *\n   * if there is a saved last range, return it\n   *
    or create a new range and return it\n   *\n   * @return {WrappedRange}\n   */\n  getLastRange()
    {\n    if (!this.lastRange) {\n      this.setLastRange();\n    }\n    return this.lastRange;\n  }\n\n  /**\n   *
    saveRange\n   *\n   * save current range\n   *\n   * @param {Boolean} [thenCollapse=false]\n   */\n  saveRange(thenCollapse)
    {\n    if (thenCollapse) {\n      this.getLastRange().collapse().select();\n    }\n  }\n\n  /**\n   *
    restoreRange\n   *\n   * restore lately range\n   */\n  restoreRange() {\n    if
    (this.lastRange) {\n      this.lastRange.select();\n      this.focus();\n    }\n  }\n\n  saveTarget(node)
    {\n    this.$editable.data(''target'', node);\n  }\n\n  clearTarget() {\n    this.$editable.removeData(''target'');\n  }\n\n  restoreTarget()
    {\n    return this.$editable.data(''target'');\n  }\n\n  /**\n   * currentStyle\n   *\n   *
    current style\n   * @return {Object|Boolean} unfocus\n   */\n  currentStyle()
    {\n    let rng = range.create();\n    if (rng) {\n      rng = rng.normalize();\n    }\n    return
    rng ? this.style.current(rng) : this.style.fromNode(this.$editable);\n  }\n\n  /**\n   *
    style from node\n   *\n   * @param {jQuery} $node\n   * @return {Object}\n   */\n  styleFromNode($node)
    {\n    return this.style.fromNode($node);\n  }\n\n  /**\n   * undo\n   */\n  undo()
    {\n    this.context.triggerEvent(''before.command'', this.$editable.html());\n    this.history.undo();\n    this.context.triggerEvent(''change'',
    this.$editable.html(), this.$editable);\n  }\n\n  /*\n  * commit\n  */\n  commit()
    {\n    this.context.triggerEvent(''before.command'', this.$editable.html());\n    this.history.commit();\n    this.context.triggerEvent(''change'',
    this.$editable.html(), this.$editable);\n  }\n\n  /**\n   * redo\n   */\n  redo()
    {\n    this.context.triggerEvent(''before.command'', this.$editable.html());\n    this.history.redo();\n    this.context.triggerEvent(''change'',
    this.$editable.html(), this.$editable);\n  }\n\n  /**\n   * before command\n   */\n  beforeCommand()
    {\n    this.context.triggerEvent(''before.command'', this.$editable.html());\n\n    //
    Set styleWithCSS before run a command\n    document.execCommand(''styleWithCSS'',
    false, this.options.styleWithCSS);\n\n    // keep focus on editable before command
    execution\n    this.focus();\n  }\n\n  /**\n   * after command\n   * @param {Boolean}
    isPreventTrigger\n   */\n  afterCommand(isPreventTrigger) {\n    this.normalizeContent();\n    this.history.recordUndo();\n    if
    (!isPreventTrigger) {\n      this.context.triggerEvent(''change'', this.$editable.html(),
    this.$editable);\n    }\n  }\n\n  /**\n   * handle tab key\n   */\n  tab() {\n    const
    rng = this.getLastRange();\n    if (rng.isCollapsed() && rng.isOnCell()) {\n      this.table.tab(rng);\n    }
    else {\n      if (this.options.tabSize === 0) {\n        return false;\n      }\n\n      if
    (!this.isLimited(this.options.tabSize)) {\n        this.beforeCommand();\n        this.typing.insertTab(rng,
    this.options.tabSize);\n        this.afterCommand();\n      }\n    }\n  }\n\n  /**\n   *
    handle shift+tab key\n   */\n  untab() {\n    const rng = this.getLastRange();\n    if
    (rng.isCollapsed() && rng.isOnCell()) {\n      this.table.tab(rng, true);\n    }
    else {\n      if (this.options.tabSize === 0) {\n        return false;\n      }\n    }\n  }\n\n  /**\n   *
    run given function between beforeCommand and afterCommand\n   */\n  wrapCommand(fn)
    {\n    return function() {\n      this.beforeCommand();\n      fn.apply(this,
    arguments);\n      this.afterCommand();\n    };\n  }\n\n  /**\n   * insert image\n   *\n   *
    @param {String} src\n   * @param {String|Function} param\n   * @return {Promise}\n   */\n  insertImage(src,
    param) {\n    return createImage(src, param).then(($image) => {\n      this.beforeCommand();\n\n      if
    (typeof param === ''function'') {\n        param($image);\n      } else {\n        if
    (typeof param === ''string'') {\n          $image.attr(''data-filename'', param);\n        }\n        $image.css(''width'',
    Math.min(this.$editable.width(), $image.width()));\n      }\n\n      $image.show();\n      this.getLastRange().insertNode($image[0]);\n      this.setLastRange(range.createFromNodeAfter($image[0]).select());\n      this.afterCommand();\n    }).fail((e)
    => {\n      this.context.triggerEvent(''image.upload.error'', e);\n    });\n  }\n\n  /**\n   *
    insertImages\n   * @param {File[]} files\n   */\n  insertImagesAsDataURL(files)
    {\n    $.each(files, (idx, file) => {\n      const filename = file.name;\n      if
    (this.options.maximumImageFileSize && this.options.maximumImageFileSize < file.size)
    {\n        this.context.triggerEvent(''image.upload.error'', this.lang.image.maximumFileSizeError);\n      }
    else {\n        readFileAsDataURL(file).then((dataURL) => {\n          return
    this.insertImage(dataURL, filename);\n        }).fail(() => {\n          this.context.triggerEvent(''image.upload.error'');\n        });\n      }\n    });\n  }\n\n  /**\n   *
    insertImagesOrCallback\n   * @param {File[]} files\n   */\n  insertImagesOrCallback(files)
    {\n    const callbacks = this.options.callbacks;\n    // If onImageUpload set,\n    if
    (callbacks.onImageUpload) {\n      this.context.triggerEvent(''image.upload'',
    files);\n      // else insert Image as dataURL\n    } else {\n      this.insertImagesAsDataURL(files);\n    }\n  }\n\n  /**\n   *
    return selected plain text\n   * @return {String} text\n   */\n  getSelectedText()
    {\n    let rng = this.getLastRange();\n\n    // if range on anchor, expand range
    with anchor\n    if (rng.isOnAnchor()) {\n      rng = range.createFromNode(dom.ancestor(rng.sc,
    dom.isAnchor));\n    }\n\n    return rng.toString();\n  }\n\n  onFormatBlock(tagName,
    $target) {\n    // [workaround] for MSIE, IE need `<`\n    document.execCommand(''FormatBlock'',
    false, env.isMSIE ? ''<'' + tagName + ''>'' : tagName);\n\n    // support custom
    class\n    if ($target && $target.length) {\n      // find the exact element has
    given tagName\n      if ($target[0].tagName.toUpperCase() !== tagName.toUpperCase())
    {\n        $target = $target.find(tagName);\n      }\n\n      if ($target && $target.length)
    {\n        const className = $target[0].className || '''';\n        if (className)
    {\n          const currentRange = this.createRange();\n\n          const $parent
    = $([currentRange.sc, currentRange.ec]).closest(tagName);\n          $parent.addClass(className);\n        }\n      }\n    }\n  }\n\n  formatPara()
    {\n    this.formatBlock(''P'');\n  }\n\n  fontStyling(target, value) {\n    const
    rng = this.getLastRange();\n\n    if (rng !== '''') {\n      const spans = this.style.styleNodes(rng);\n      this.$editor.find(''.note-status-output'').html('''');\n      $(spans).css(target,
    value);\n\n      // [workaround] added styled bogus span for style\n      //  -
    also bogus character needed for cursor position\n      if (rng.isCollapsed())
    {\n        const firstSpan = lists.head(spans);\n        if (firstSpan && !dom.nodeLength(firstSpan))
    {\n          firstSpan.innerHTML = dom.ZERO_WIDTH_NBSP_CHAR;\n          range.createFromNode(firstSpan.firstChild).select();\n          this.setLastRange();\n          this.$editable.data(KEY_BOGUS,
    firstSpan);\n        }\n      } else {\n        this.setLastRange(\n          this.createRangeFromList(spans).select()\n        );\n      }\n    }
    else {\n      const noteStatusOutput = $.now();\n      this.$editor.find(''.note-status-output'').html(''<div
    id=\"note-status-output-'' + noteStatusOutput + ''\" class=\"alert alert-info\">''
    + this.lang.output.noSelection + ''</div>'');\n      setTimeout(function() { $(''#note-status-output-''
    + noteStatusOutput).remove(); }, 5000);\n    }\n  }\n\n  /**\n   * unlink\n   *\n   *
    @type command\n   */\n  unlink() {\n    let rng = this.getLastRange();\n    if
    (rng.isOnAnchor()) {\n      const anchor = dom.ancestor(rng.sc, dom.isAnchor);\n      rng
    = range.createFromNode(anchor);\n      rng.select();\n      this.setLastRange();\n\n      this.beforeCommand();\n      document.execCommand(''unlink'');\n      this.afterCommand();\n    }\n  }\n\n  /**\n   *
    returns link info\n   *\n   * @return {Object}\n   * @return {WrappedRange} return.range\n   *
    @return {String} return.text\n   * @return {Boolean} [return.isNewWindow=true]\n   *
    @return {String} [return.url=\"\"]\n   */\n  getLinkInfo() {\n    const rng =
    this.getLastRange().expand(dom.isAnchor);\n    // Get the first anchor on range(for
    edit).\n    const $anchor = $(lists.head(rng.nodes(dom.isAnchor)));\n    const
    linkInfo = {\n      range: rng,\n      text: rng.toString(),\n      url: $anchor.length
    ? $anchor.attr(''href'') : '''',\n    };\n\n    // When anchor exists,\n    if
    ($anchor.length) {\n      // Set isNewWindow by checking its target.\n      linkInfo.isNewWindow
    = $anchor.attr(''target'') === ''_blank'';\n    }\n\n    return linkInfo;\n  }\n\n  addRow(position)
    {\n    const rng = this.getLastRange(this.$editable);\n    if (rng.isCollapsed()
    && rng.isOnCell()) {\n      this.beforeCommand();\n      this.table.addRow(rng,
    position);\n      this.afterCommand();\n    }\n  }\n\n  addCol(position) {\n    const
    rng = this.getLastRange(this.$editable);\n    if (rng.isCollapsed() && rng.isOnCell())
    {\n      this.beforeCommand();\n      this.table.addCol(rng, position);\n      this.afterCommand();\n    }\n  }\n\n  deleteRow()
    {\n    const rng = this.getLastRange(this.$editable);\n    if (rng.isCollapsed()
    && rng.isOnCell()) {\n      this.beforeCommand();\n      this.table.deleteRow(rng);\n      this.afterCommand();\n    }\n  }\n\n  deleteCol()
    {\n    const rng = this.getLastRange(this.$editable);\n    if (rng.isCollapsed()
    && rng.isOnCell()) {\n      this.beforeCommand();\n      this.table.deleteCol(rng);\n      this.afterCommand();\n    }\n  }\n\n  deleteTable()
    {\n    const rng = this.getLastRange(this.$editable);\n    if (rng.isCollapsed()
    && rng.isOnCell()) {\n      this.beforeCommand();\n      this.table.deleteTable(rng);\n      this.afterCommand();\n    }\n  }\n\n  /**\n   *
    @param {Position} pos\n   * @param {jQuery} $target - target element\n   * @param
    {Boolean} [bKeepRatio] - keep ratio\n   */\n  resizeTo(pos, $target, bKeepRatio)
    {\n    let imageSize;\n    if (bKeepRatio) {\n      const newRatio = pos.y / pos.x;\n      const
    ratio = $target.data(''ratio'');\n      imageSize = {\n        width: ratio >
    newRatio ? pos.x : pos.y / ratio,\n        height: ratio > newRatio ? pos.x *
    ratio : pos.y,\n      };\n    } else {\n      imageSize = {\n        width: pos.x,\n        height:
    pos.y,\n      };\n    }\n\n    $target.css(imageSize);\n  }\n\n  /**\n   * returns
    whether editable area has focus or not.\n   */\n  hasFocus() {\n    return this.$editable.is('':focus'');\n  }\n\n  /**\n   *
    set focus\n   */\n  focus() {\n    // [workaround] Screen will move when page
    is scolled in IE.\n    //  - do focus when not focused\n    if (!this.hasFocus())
    {\n      this.$editable.focus();\n    }\n  }\n\n  /**\n   * returns whether contents
    is empty or not.\n   * @return {Boolean}\n   */\n  isEmpty() {\n    return dom.isEmpty(this.$editable[0])
    || dom.emptyPara === this.$editable.html();\n  }\n\n  /**\n   * Removes all contents
    and restores the editable instance to an _emptyPara_.\n   */\n  empty() {\n    this.context.invoke(''code'',
    dom.emptyPara);\n  }\n\n  /**\n   * normalize content\n   */\n  normalizeContent()
    {\n    this.$editable[0].normalize();\n  }\n}\n","import lists from ''../core/lists'';\n\nexport
    default class Clipboard {\n  constructor(context) {\n    this.context = context;\n    this.$editable
    = context.layoutInfo.editable;\n  }\n\n  initialize() {\n    this.$editable.on(''paste'',
    this.pasteByEvent.bind(this));\n  }\n\n  /**\n   * paste by clipboard event\n   *\n   *
    @param {Event} event\n   */\n  pasteByEvent(event) {\n    const clipboardData
    = event.originalEvent.clipboardData;\n\n    if (clipboardData && clipboardData.items
    && clipboardData.items.length) {\n      const item = clipboardData.items.length
    > 1 ? clipboardData.items[1] : lists.head(clipboardData.items);\n      if (item.kind
    === ''file'' && item.type.indexOf(''image/'') !== -1) {\n        // paste img
    file\n        this.context.invoke(''editor.insertImagesOrCallback'', [item.getAsFile()]);\n        event.preventDefault();\n      }
    else if (item.kind === ''string'') {\n        // paste text with maxTextLength
    check\n        if (this.context.invoke(''editor.isLimited'', clipboardData.getData(''Text'').length))
    {\n          event.preventDefault();\n        }\n      }\n    } else if (window.clipboardData)
    {\n      // for IE\n      let text = window.clipboardData.getData(''text'');\n      if
    (this.context.invoke(''editor.isLimited'', text.length)) {\n        event.preventDefault();\n      }\n    }\n    //
    Call editor.afterCommand after proceeding default event handler\n    setTimeout(()
    => {\n      this.context.invoke(''editor.afterCommand'');\n    }, 10);\n  }\n}\n","import
    $ from ''jquery'';\n\nexport default class Dropzone {\n  constructor(context)
    {\n    this.context = context;\n    this.$eventListener = $(document);\n    this.$editor
    = context.layoutInfo.editor;\n    this.$editable = context.layoutInfo.editable;\n    this.options
    = context.options;\n    this.lang = this.options.langInfo;\n    this.documentEventHandlers
    = {};\n\n    this.$dropzone = $([\n      ''<div class=\"note-dropzone\">'',\n        ''<div
    class=\"note-dropzone-message\"></div>'',\n      ''</div>'',\n    ].join('''')).prependTo(this.$editor);\n  }\n\n  /**\n   *
    attach Drag and Drop Events\n   */\n  initialize() {\n    if (this.options.disableDragAndDrop)
    {\n      // prevent default drop event\n      this.documentEventHandlers.onDrop
    = (e) => {\n        e.preventDefault();\n      };\n      // do not consider outside
    of dropzone\n      this.$eventListener = this.$dropzone;\n      this.$eventListener.on(''drop'',
    this.documentEventHandlers.onDrop);\n    } else {\n      this.attachDragAndDropEvent();\n    }\n  }\n\n  /**\n   *
    attach Drag and Drop Events\n   */\n  attachDragAndDropEvent() {\n    let collection
    = $();\n    const $dropzoneMessage = this.$dropzone.find(''.note-dropzone-message'');\n\n    this.documentEventHandlers.onDragenter
    = (e) => {\n      const isCodeview = this.context.invoke(''codeview.isActivated'');\n      const
    hasEditorSize = this.$editor.width() > 0 && this.$editor.height() > 0;\n      if
    (!isCodeview && !collection.length && hasEditorSize) {\n        this.$editor.addClass(''dragover'');\n        this.$dropzone.width(this.$editor.width());\n        this.$dropzone.height(this.$editor.height());\n        $dropzoneMessage.text(this.lang.image.dragImageHere);\n      }\n      collection
    = collection.add(e.target);\n    };\n\n    this.documentEventHandlers.onDragleave
    = (e) => {\n      collection = collection.not(e.target);\n\n      // If nodeName
    is BODY, then just make it over (fix for IE)\n      if (!collection.length ||
    e.target.nodeName === ''BODY'') {\n        collection = $();\n        this.$editor.removeClass(''dragover'');\n      }\n    };\n\n    this.documentEventHandlers.onDrop
    = () => {\n      collection = $();\n      this.$editor.removeClass(''dragover'');\n    };\n\n    //
    show dropzone on dragenter when dragging a object to document\n    // -but only
    if the editor is visible, i.e. has a positive width and height\n    this.$eventListener.on(''dragenter'',
    this.documentEventHandlers.onDragenter)\n      .on(''dragleave'', this.documentEventHandlers.onDragleave)\n      .on(''drop'',
    this.documentEventHandlers.onDrop);\n\n    // change dropzone''s message on hover.\n    this.$dropzone.on(''dragenter'',
    () => {\n      this.$dropzone.addClass(''hover'');\n      $dropzoneMessage.text(this.lang.image.dropImage);\n    }).on(''dragleave'',
    () => {\n      this.$dropzone.removeClass(''hover'');\n      $dropzoneMessage.text(this.lang.image.dragImageHere);\n    });\n\n    //
    attach dropImage\n    this.$dropzone.on(''drop'', (event) => {\n      const dataTransfer
    = event.originalEvent.dataTransfer;\n\n      // stop the browser from opening
    the dropped content\n      event.preventDefault();\n\n      if (dataTransfer &&
    dataTransfer.files && dataTransfer.files.length) {\n        this.$editable.focus();\n        this.context.invoke(''editor.insertImagesOrCallback'',
    dataTransfer.files);\n      } else {\n        $.each(dataTransfer.types, (idx,
    type) => {\n          // skip moz-specific types\n          if (type.toLowerCase().indexOf(''_moz_'')
    > -1) {\n            return;\n          }\n          const content = dataTransfer.getData(type);\n\n          if
    (type.toLowerCase().indexOf(''text'') > -1) {\n            this.context.invoke(''editor.pasteHTML'',
    content);\n          } else {\n            $(content).each((idx, item) => {\n              this.context.invoke(''editor.insertNode'',
    item);\n            });\n          }\n        });\n      }\n    }).on(''dragover'',
    false); // prevent default dragover event\n  }\n\n  destroy() {\n    Object.keys(this.documentEventHandlers).forEach((key)
    => {\n      this.$eventListener.off(key.substr(2).toLowerCase(), this.documentEventHandlers[key]);\n    });\n    this.documentEventHandlers
    = {};\n  }\n}\n","import dom from ''../core/dom'';\nimport key from ''../core/key'';\n\n/**\n
    * @class Codeview\n */\nexport default class CodeView {\n  constructor(context)
    {\n    this.context = context;\n    this.$editor = context.layoutInfo.editor;\n    this.$editable
    = context.layoutInfo.editable;\n    this.$codable = context.layoutInfo.codable;\n    this.options
    = context.options;\n    this.CodeMirrorConstructor = window.CodeMirror;\n\n    if
    (this.options.codemirror.CodeMirrorConstructor) {\n      this.CodeMirrorConstructor
    = this.options.codemirror.CodeMirrorConstructor;\n    }\n  }\n\n  sync(html) {\n    const
    isCodeview = this.isActivated();\n    const CodeMirror = this.CodeMirrorConstructor;\n\n    if
    (isCodeview) {\n      if (html) {\n        if (CodeMirror) {\n          this.$codable.data(''cmEditor'').getDoc().setValue(html);\n        }
    else {\n          this.$codable.val(html);\n        }\n      } else {\n        if
    (CodeMirror) {\n          this.$codable.data(''cmEditor'').save();\n        }\n      }\n    }\n  }\n\n  initialize()
    {\n    this.$codable.on(''keyup'', (event) => {\n      if (event.keyCode === key.code.ESCAPE)
    {\n        this.deactivate();\n      }\n    });\n  }\n\n  /**\n   * @return {Boolean}\n   */\n  isActivated()
    {\n    return this.$editor.hasClass(''codeview'');\n  }\n\n  /**\n   * toggle
    codeview\n   */\n  toggle() {\n    if (this.isActivated()) {\n      this.deactivate();\n    }
    else {\n      this.activate();\n    }\n    this.context.triggerEvent(''codeview.toggled'');\n  }\n\n  /**\n   *
    purify input value\n   * @param value\n   * @returns {*}\n   */\n  purify(value)
    {\n    if (this.options.codeviewFilter) {\n      // filter code view regex\n      value
    = value.replace(this.options.codeviewFilterRegex, '''');\n      // allow specific
    iframe tag\n      if (this.options.codeviewIframeFilter) {\n        const whitelist
    = this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);\n        value
    = value.replace(/(<iframe.*?>.*?(?:<\\/iframe>)?)/gi, function(tag) {\n          //
    remove if src attribute is duplicated\n          if (/<.+src(?==?(''|\"|\\s)?)[\\s\\S]+src(?=(''|\"|\\s)?)[^>]*?>/i.test(tag))
    {\n            return '''';\n          }\n          for (const src of whitelist)
    {\n            // pass if src is trusted\n            if ((new RegExp(''src=\"(https?:)?\\/\\/''
    + src.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, ''\\\\$&'') + ''\\/(.+)\"'')).test(tag))
    {\n              return tag;\n            }\n          }\n          return '''';\n        });\n      }\n    }\n    return
    value;\n  }\n\n  /**\n   * activate code view\n   */\n  activate() {\n    const
    CodeMirror = this.CodeMirrorConstructor;\n    this.$codable.val(dom.html(this.$editable,
    this.options.prettifyHtml));\n    this.$codable.height(this.$editable.height());\n\n    this.context.invoke(''toolbar.updateCodeview'',
    true);\n    this.context.invoke(''airPopover.updateCodeview'', true);\n\n    this.$editor.addClass(''codeview'');\n    this.$codable.focus();\n\n    //
    activate CodeMirror as codable\n    if (CodeMirror) {\n      const cmEditor =
    CodeMirror.fromTextArea(this.$codable[0], this.options.codemirror);\n\n      //
    CodeMirror TernServer\n      if (this.options.codemirror.tern) {\n        const
    server = new CodeMirror.TernServer(this.options.codemirror.tern);\n        cmEditor.ternServer
    = server;\n        cmEditor.on(''cursorActivity'', (cm) => {\n          server.updateArgHints(cm);\n        });\n      }\n\n      cmEditor.on(''blur'',
    (event) => {\n        this.context.triggerEvent(''blur.codeview'', cmEditor.getValue(),
    event);\n      });\n      cmEditor.on(''change'', () => {\n        this.context.triggerEvent(''change.codeview'',
    cmEditor.getValue(), cmEditor);\n      });\n\n      // CodeMirror hasn''t Padding.\n      cmEditor.setSize(null,
    this.$editable.outerHeight());\n      this.$codable.data(''cmEditor'', cmEditor);\n    }
    else {\n      this.$codable.on(''blur'', (event) => {\n        this.context.triggerEvent(''blur.codeview'',
    this.$codable.val(), event);\n      });\n      this.$codable.on(''input'', ()
    => {\n        this.context.triggerEvent(''change.codeview'', this.$codable.val(),
    this.$codable);\n      });\n    }\n  }\n\n  /**\n   * deactivate code view\n   */\n  deactivate()
    {\n    const CodeMirror = this.CodeMirrorConstructor;\n    // deactivate CodeMirror
    as codable\n    if (CodeMirror) {\n      const cmEditor = this.$codable.data(''cmEditor'');\n      this.$codable.val(cmEditor.getValue());\n      cmEditor.toTextArea();\n    }\n\n    const
    value = this.purify(dom.value(this.$codable, this.options.prettifyHtml) || dom.emptyPara);\n    const
    isChange = this.$editable.html() !== value;\n\n    this.$editable.html(value);\n    this.$editable.height(this.options.height
    ? this.$codable.height() : ''auto'');\n    this.$editor.removeClass(''codeview'');\n\n    if
    (isChange) {\n      this.context.triggerEvent(''change'', this.$editable.html(),
    this.$editable);\n    }\n\n    this.$editable.focus();\n\n    this.context.invoke(''toolbar.updateCodeview'',
    false);\n    this.context.invoke(''airPopover.updateCodeview'', false);\n  }\n\n  destroy()
    {\n    if (this.isActivated()) {\n      this.deactivate();\n    }\n  }\n}\n","import
    $ from ''jquery'';\nconst EDITABLE_PADDING = 24;\n\nexport default class Statusbar
    {\n  constructor(context) {\n    this.$document = $(document);\n    this.$statusbar
    = context.layoutInfo.statusbar;\n    this.$editable = context.layoutInfo.editable;\n    this.options
    = context.options;\n  }\n\n  initialize() {\n    if (this.options.airMode || this.options.disableResizeEditor)
    {\n      this.destroy();\n      return;\n    }\n\n    this.$statusbar.on(''mousedown'',
    (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n\n      const
    editableTop = this.$editable.offset().top - this.$document.scrollTop();\n      const
    onMouseMove = (event) => {\n        let height = event.clientY - (editableTop
    + EDITABLE_PADDING);\n\n        height = (this.options.minheight > 0) ? Math.max(height,
    this.options.minheight) : height;\n        height = (this.options.maxHeight >
    0) ? Math.min(height, this.options.maxHeight) : height;\n\n        this.$editable.height(height);\n      };\n\n      this.$document.on(''mousemove'',
    onMouseMove).one(''mouseup'', () => {\n        this.$document.off(''mousemove'',
    onMouseMove);\n      });\n    });\n  }\n\n  destroy() {\n    this.$statusbar.off();\n    this.$statusbar.addClass(''locked'');\n  }\n}\n","import
    $ from ''jquery'';\n\nexport default class Fullscreen {\n  constructor(context)
    {\n    this.context = context;\n\n    this.$editor = context.layoutInfo.editor;\n    this.$toolbar
    = context.layoutInfo.toolbar;\n    this.$editable = context.layoutInfo.editable;\n    this.$codable
    = context.layoutInfo.codable;\n\n    this.$window = $(window);\n    this.$scrollbar
    = $(''html, body'');\n\n    this.onResize = () => {\n      this.resizeTo({\n        h:
    this.$window.height() - this.$toolbar.outerHeight(),\n      });\n    };\n  }\n\n  resizeTo(size)
    {\n    this.$editable.css(''height'', size.h);\n    this.$codable.css(''height'',
    size.h);\n    if (this.$codable.data(''cmeditor'')) {\n      this.$codable.data(''cmeditor'').setsize(null,
    size.h);\n    }\n  }\n\n  /**\n   * toggle fullscreen\n   */\n  toggle() {\n    this.$editor.toggleClass(''fullscreen'');\n    if
    (this.isFullscreen()) {\n      this.$editable.data(''orgHeight'', this.$editable.css(''height''));\n      this.$editable.data(''orgMaxHeight'',
    this.$editable.css(''maxHeight''));\n      this.$editable.css(''maxHeight'', '''');\n      this.$window.on(''resize'',
    this.onResize).trigger(''resize'');\n      this.$scrollbar.css(''overflow'', ''hidden'');\n    }
    else {\n      this.$window.off(''resize'', this.onResize);\n      this.resizeTo({
    h: this.$editable.data(''orgHeight'') });\n      this.$editable.css(''maxHeight'',
    this.$editable.css(''orgMaxHeight''));\n      this.$scrollbar.css(''overflow'',
    ''visible'');\n    }\n\n    this.context.invoke(''toolbar.updateFullscreen'',
    this.isFullscreen());\n  }\n\n  isFullscreen() {\n    return this.$editor.hasClass(''fullscreen'');\n  }\n}\n","import
    $ from ''jquery'';\nimport dom from ''../core/dom'';\n\nexport default class Handle
    {\n  constructor(context) {\n    this.context = context;\n    this.$document =
    $(document);\n    this.$editingArea = context.layoutInfo.editingArea;\n    this.options
    = context.options;\n    this.lang = this.options.langInfo;\n\n    this.events
    = {\n      ''summernote.mousedown'': (we, e) => {\n        if (this.update(e.target,
    e)) {\n          e.preventDefault();\n        }\n      },\n      ''summernote.keyup
    summernote.scroll summernote.change summernote.dialog.shown'': () => {\n        this.update();\n      },\n      ''summernote.disable
    summernote.blur'': () => {\n        this.hide();\n      },\n      ''summernote.codeview.toggled'':
    () => {\n        this.update();\n      },\n    };\n  }\n\n  initialize() {\n    this.$handle
    = $([\n      ''<div class=\"note-handle\">'',\n        ''<div class=\"note-control-selection\">'',\n          ''<div
    class=\"note-control-selection-bg\"></div>'',\n          ''<div class=\"note-control-holder
    note-control-nw\"></div>'',\n          ''<div class=\"note-control-holder note-control-ne\"></div>'',\n          ''<div
    class=\"note-control-holder note-control-sw\"></div>'',\n          ''<div class=\"'',\n            (this.options.disableResizeImage
    ? ''note-control-holder'' : ''note-control-sizing''),\n          '' note-control-se\"></div>'',\n          (this.options.disableResizeImage
    ? '''' : ''<div class=\"note-control-selection-info\"></div>''),\n        ''</div>'',\n      ''</div>'',\n    ].join('''')).prependTo(this.$editingArea);\n\n    this.$handle.on(''mousedown'',
    (event) => {\n      if (dom.isControlSizing(event.target)) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        const
    $target = this.$handle.find(''.note-control-selection'').data(''target'');\n        const
    posStart = $target.offset();\n        const scrollTop = this.$document.scrollTop();\n\n        const
    onMouseMove = (event) => {\n          this.context.invoke(''editor.resizeTo'',
    {\n            x: event.clientX - posStart.left,\n            y: event.clientY
    - (posStart.top - scrollTop),\n          }, $target, !event.shiftKey);\n\n          this.update($target[0],
    event);\n        };\n\n        this.$document\n          .on(''mousemove'', onMouseMove)\n          .one(''mouseup'',
    (e) => {\n            e.preventDefault();\n            this.$document.off(''mousemove'',
    onMouseMove);\n            this.context.invoke(''editor.afterCommand'');\n          });\n\n        if
    (!$target.data(''ratio'')) { // original ratio.\n          $target.data(''ratio'',
    $target.height() / $target.width());\n        }\n      }\n    });\n\n    // Listen
    for scrolling on the handle overlay.\n    this.$handle.on(''wheel'', (e) => {\n      e.preventDefault();\n      this.update();\n    });\n  }\n\n  destroy()
    {\n    this.$handle.remove();\n  }\n\n  update(target, event) {\n    if (this.context.isDisabled())
    {\n      return false;\n    }\n\n    const isImage = dom.isImg(target);\n    const
    $selection = this.$handle.find(''.note-control-selection'');\n\n    this.context.invoke(''imagePopover.update'',
    target, event);\n\n    if (isImage) {\n      const $image = $(target);\n      const
    position = $image.position();\n      const pos = {\n        left: position.left
    + parseInt($image.css(''marginLeft''), 10),\n        top: position.top + parseInt($image.css(''marginTop''),
    10),\n      };\n\n      // exclude margin\n      const imageSize = {\n        w:
    $image.outerWidth(false),\n        h: $image.outerHeight(false),\n      };\n\n      $selection.css({\n        display:
    ''block'',\n        left: pos.left,\n        top: pos.top,\n        width: imageSize.w,\n        height:
    imageSize.h,\n      }).data(''target'', $image); // save current image element.\n\n      const
    origImageObj = new Image();\n      origImageObj.src = $image.attr(''src'');\n\n      const
    sizingText = imageSize.w + ''x'' + imageSize.h + '' ('' + this.lang.image.original
    + '': '' + origImageObj.width + ''x'' + origImageObj.height + '')'';\n      $selection.find(''.note-control-selection-info'').text(sizingText);\n      this.context.invoke(''editor.saveTarget'',
    target);\n    } else {\n      this.hide();\n    }\n\n    return isImage;\n  }\n\n  /**\n   *
    hide\n   *\n   * @param {jQuery} $handle\n   */\n  hide() {\n    this.context.invoke(''editor.clearTarget'');\n    this.$handle.children().hide();\n  }\n}\n","import
    $ from ''jquery'';\nimport lists from ''../core/lists'';\nimport key from ''../core/key'';\n\nconst
    defaultScheme = ''http://'';\nconst linkPattern = /^([A-Za-z][A-Za-z0-9+-.]*\\:[\\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@)?(www\\.)?(.+)$/i;\n\nexport
    default class AutoLink {\n  constructor(context) {\n    this.context = context;\n    this.options
    = context.options;\n    this.events = {\n      ''summernote.keyup'': (we, e) =>
    {\n        if (!e.isDefaultPrevented()) {\n          this.handleKeyup(e);\n        }\n      },\n      ''summernote.keydown'':
    (we, e) => {\n        this.handleKeydown(e);\n      },\n    };\n  }\n\n  initialize()
    {\n    this.lastWordRange = null;\n  }\n\n  destroy() {\n    this.lastWordRange
    = null;\n  }\n\n  replace() {\n    if (!this.lastWordRange) {\n      return;\n    }\n\n    const
    keyword = this.lastWordRange.toString();\n    const match = keyword.match(linkPattern);\n\n    if
    (match && (match[1] || match[2])) {\n      const link = match[1] ? keyword : defaultScheme
    + keyword;\n      const urlText = this.options.showDomainOnlyForAutolink ?\n        keyword.replace(/^(?:https?:\\/\\/)?(?:tel?:?)?(?:mailto?:?)?(?:www\\.)?/i,
    '''').split(''/'')[0]\n        : keyword;\n      const node = $(''<a />'').html(urlText).attr(''href'',
    link)[0];\n      if (this.context.options.linkTargetBlank) {\n        $(node).attr(''target'',
    ''_blank'');\n      }\n\n      this.lastWordRange.insertNode(node);\n      this.lastWordRange
    = null;\n      this.context.invoke(''editor.focus'');\n    }\n  }\n\n  handleKeydown(e)
    {\n    if (lists.contains([key.code.ENTER, key.code.SPACE], e.keyCode)) {\n      const
    wordRange = this.context.invoke(''editor.createRange'').getWordRange();\n      this.lastWordRange
    = wordRange;\n    }\n  }\n\n  handleKeyup(e) {\n    if (lists.contains([key.code.ENTER,
    key.code.SPACE], e.keyCode)) {\n      this.replace();\n    }\n  }\n}\n","import
    dom from ''../core/dom'';\n\n/**\n * textarea auto sync.\n */\nexport default
    class AutoSync {\n  constructor(context) {\n    this.$note = context.layoutInfo.note;\n    this.events
    = {\n      ''summernote.change'': () => {\n        this.$note.val(context.invoke(''code''));\n      },\n    };\n  }\n\n  shouldInitialize()
    {\n    return dom.isTextarea(this.$note[0]);\n  }\n}\n","import lists from ''../core/lists'';\nimport
    dom from ''../core/dom'';\nimport key from ''../core/key'';\n\nexport default
    class AutoReplace {\n  constructor(context) {\n    this.context = context;\n    this.options
    = context.options.replace || {};\n\n    this.keys = [key.code.ENTER, key.code.SPACE,
    key.code.PERIOD, key.code.COMMA, key.code.SEMICOLON, key.code.SLASH];\n    this.previousKeydownCode
    = null;\n\n    this.events = {\n      ''summernote.keyup'': (we, e) => {\n        if
    (!e.isDefaultPrevented()) {\n          this.handleKeyup(e);\n        }\n      },\n      ''summernote.keydown'':
    (we, e) => {\n        this.handleKeydown(e);\n      },\n    };\n  }\n\n  shouldInitialize()
    {\n    return !!this.options.match;\n  }\n\n  initialize() {\n    this.lastWord
    = null;\n  }\n\n  destroy() {\n    this.lastWord = null;\n  }\n\n  replace() {\n    if
    (!this.lastWord) {\n      return;\n    }\n\n    const self = this;\n    const
    keyword = this.lastWord.toString();\n    this.options.match(keyword, function(match)
    {\n      if (match) {\n        let node = '''';\n\n        if (typeof match ===
    ''string'') {\n          node = dom.createText(match);\n        } else if (match
    instanceof jQuery) {\n          node = match[0];\n        } else if (match instanceof
    Node) {\n          node = match;\n        }\n\n        if (!node) return;\n        self.lastWord.insertNode(node);\n        self.lastWord
    = null;\n        self.context.invoke(''editor.focus'');\n      }\n    });\n  }\n\n  handleKeydown(e)
    {\n    // this forces it to remember the last whole word, even if multiple termination
    keys are pressed\n    // before the previous key is let go.\n    if (this.previousKeydownCode
    && lists.contains(this.keys, this.previousKeydownCode)) {\n      this.previousKeydownCode
    = e.keyCode;\n      return;\n    }\n\n    if (lists.contains(this.keys, e.keyCode))
    {\n      const wordRange = this.context.invoke(''editor.createRange'').getWordRange();\n      this.lastWord
    = wordRange;\n    }\n    this.previousKeydownCode = e.keyCode;\n  }\n\n  handleKeyup(e)
    {\n    if (lists.contains(this.keys, e.keyCode)) {\n      this.replace();\n    }\n  }\n}\n","import
    $ from ''jquery'';\nexport default class Placeholder {\n  constructor(context)
    {\n    this.context = context;\n\n    this.$editingArea = context.layoutInfo.editingArea;\n    this.options
    = context.options;\n\n    if (this.options.inheritPlaceholder === true) {\n      //
    get placeholder value from the original element\n      this.options.placeholder
    = this.context.$note.attr(''placeholder'') || this.options.placeholder;\n    }\n\n    this.events
    = {\n      ''summernote.init summernote.change'': () => {\n        this.update();\n      },\n      ''summernote.codeview.toggled'':
    () => {\n        this.update();\n      },\n    };\n  }\n\n  shouldInitialize()
    {\n    return !!this.options.placeholder;\n  }\n\n  initialize() {\n    this.$placeholder
    = $(''<div class=\"note-placeholder\">'');\n    this.$placeholder.on(''click'',
    () => {\n      this.context.invoke(''focus'');\n    }).html(this.options.placeholder).prependTo(this.$editingArea);\n\n    this.update();\n  }\n\n  destroy()
    {\n    this.$placeholder.remove();\n  }\n\n  update() {\n    const isShow = !this.context.invoke(''codeview.isActivated'')
    && this.context.invoke(''editor.isEmpty'');\n    this.$placeholder.toggle(isShow);\n  }\n}\n","import
    $ from ''jquery'';\nimport func from ''../core/func'';\nimport lists from ''../core/lists'';\nimport
    env from ''../core/env'';\n\nexport default class Buttons {\n  constructor(context)
    {\n    this.ui = $.summernote.ui;\n    this.context = context;\n    this.$toolbar
    = context.layoutInfo.toolbar;\n    this.options = context.options;\n    this.lang
    = this.options.langInfo;\n    this.invertedKeyMap = func.invertObject(\n      this.options.keyMap[env.isMac
    ? ''mac'' : ''pc'']\n    );\n  }\n\n  representShortcut(editorMethod) {\n    let
    shortcut = this.invertedKeyMap[editorMethod];\n    if (!this.options.shortcuts
    || !shortcut) {\n      return '''';\n    }\n\n    if (env.isMac) {\n      shortcut
    = shortcut.replace(''CMD'', ''⌘'').replace(''SHIFT'', ''⇧'');\n    }\n\n    shortcut
    = shortcut.replace(''BACKSLASH'', ''\\\\'')\n      .replace(''SLASH'', ''/'')\n      .replace(''LEFTBRACKET'',
    ''['')\n      .replace(''RIGHTBRACKET'', '']'');\n\n    return '' ('' + shortcut
    + '')'';\n  }\n\n  button(o) {\n    if (!this.options.tooltip && o.tooltip) {\n      delete
    o.tooltip;\n    }\n    o.container = this.options.container;\n    return this.ui.button(o);\n  }\n\n  initialize()
    {\n    this.addToolbarButtons();\n    this.addImagePopoverButtons();\n    this.addLinkPopoverButtons();\n    this.addTablePopoverButtons();\n    this.fontInstalledMap
    = {};\n  }\n\n  destroy() {\n    delete this.fontInstalledMap;\n  }\n\n  isFontInstalled(name)
    {\n    if (!Object.prototype.hasOwnProperty.call(this.fontInstalledMap, name))
    {\n      this.fontInstalledMap[name] = env.isFontInstalled(name) ||\n        lists.contains(this.options.fontNamesIgnoreCheck,
    name);\n    }\n    return this.fontInstalledMap[name];\n  }\n\n  isFontDeservedToAdd(name)
    {\n    name = name.toLowerCase();\n    return (name !== '''' && this.isFontInstalled(name)
    && env.genericFontFamilies.indexOf(name) === -1);\n  }\n\n  colorPalette(className,
    tooltip, backColor, foreColor) {\n    return this.ui.buttonGroup({\n      className:
    ''note-color '' + className,\n      children: [\n        this.button({\n          className:
    ''note-current-color-button'',\n          contents: this.ui.icon(this.options.icons.font
    + '' note-recent-color''),\n          tooltip: tooltip,\n          click: (e)
    => {\n            const $button = $(e.currentTarget);\n            if (backColor
    && foreColor) {\n              this.context.invoke(''editor.color'', {\n                backColor:
    $button.attr(''data-backColor''),\n                foreColor: $button.attr(''data-foreColor''),\n              });\n            }
    else if (backColor) {\n              this.context.invoke(''editor.color'', {\n                backColor:
    $button.attr(''data-backColor''),\n              });\n            } else if (foreColor)
    {\n              this.context.invoke(''editor.color'', {\n                foreColor:
    $button.attr(''data-foreColor''),\n              });\n            }\n          },\n          callback:
    ($button) => {\n            const $recentColor = $button.find(''.note-recent-color'');\n            if
    (backColor) {\n              $recentColor.css(''background-color'', this.options.colorButton.backColor);\n              $button.attr(''data-backColor'',
    this.options.colorButton.backColor);\n            }\n            if (foreColor)
    {\n              $recentColor.css(''color'', this.options.colorButton.foreColor);\n              $button.attr(''data-foreColor'',
    this.options.colorButton.foreColor);\n            } else {\n              $recentColor.css(''color'',
    ''transparent'');\n            }\n          },\n        }),\n        this.button({\n          className:
    ''dropdown-toggle'',\n          contents: this.ui.dropdownButtonContents('''',
    this.options),\n          tooltip: this.lang.color.more,\n          data: {\n            toggle:
    ''dropdown'',\n          },\n        }),\n        this.ui.dropdown({\n          items:
    (backColor ? [\n            ''<div class=\"note-palette\">'',\n              ''<div
    class=\"note-palette-title\">'' + this.lang.color.background + ''</div>'',\n              ''<div>'',\n                ''<button
    type=\"button\" class=\"note-color-reset btn btn-light btn-default\" data-event=\"backColor\"
    data-value=\"transparent\">'',\n                  this.lang.color.transparent,\n                ''</button>'',\n              ''</div>'',\n              ''<div
    class=\"note-holder\" data-event=\"backColor\"><!-- back colors --></div>'',\n              ''<div>'',\n                ''<button
    type=\"button\" class=\"note-color-select btn btn-light btn-default\" data-event=\"openPalette\"
    data-value=\"backColorPicker\">'',\n                  this.lang.color.cpSelect,\n                ''</button>'',\n                ''<input
    type=\"color\" id=\"backColorPicker\" class=\"note-btn note-color-select-btn\"
    value=\"'' + this.options.colorButton.backColor + ''\" data-event=\"backColorPalette\">'',\n              ''</div>'',\n              ''<div
    class=\"note-holder-custom\" id=\"backColorPalette\" data-event=\"backColor\"></div>'',\n            ''</div>'',\n          ].join('''')
    : '''') +\n          (foreColor ? [\n            ''<div class=\"note-palette\">'',\n              ''<div
    class=\"note-palette-title\">'' + this.lang.color.foreground + ''</div>'',\n              ''<div>'',\n                ''<button
    type=\"button\" class=\"note-color-reset btn btn-light btn-default\" data-event=\"removeFormat\"
    data-value=\"foreColor\">'',\n                  this.lang.color.resetToDefault,\n                ''</button>'',\n              ''</div>'',\n              ''<div
    class=\"note-holder\" data-event=\"foreColor\"><!-- fore colors --></div>'',\n              ''<div>'',\n                ''<button
    type=\"button\" class=\"note-color-select btn btn-light btn-default\" data-event=\"openPalette\"
    data-value=\"foreColorPicker\">'',\n                  this.lang.color.cpSelect,\n                ''</button>'',\n                ''<input
    type=\"color\" id=\"foreColorPicker\" class=\"note-btn note-color-select-btn\"
    value=\"'' + this.options.colorButton.foreColor + ''\" data-event=\"foreColorPalette\">'',\n              ''</div>'',
    // Fix missing Div, Commented to find easily if it''s wrong\n              ''<div
    class=\"note-holder-custom\" id=\"foreColorPalette\" data-event=\"foreColor\"></div>'',\n            ''</div>'',\n          ].join('''')
    : ''''),\n          callback: ($dropdown) => {\n            $dropdown.find(''.note-holder'').each((idx,
    item) => {\n              const $holder = $(item);\n              $holder.append(this.ui.palette({\n                colors:
    this.options.colors,\n                colorsName: this.options.colorsName,\n                eventName:
    $holder.data(''event''),\n                container: this.options.container,\n                tooltip:
    this.options.tooltip,\n              }).render());\n            });\n            /*
    TODO: do we have to record recent custom colors within cookies? */\n            var
    customColors = [\n              [''#FFFFFF'', ''#FFFFFF'', ''#FFFFFF'', ''#FFFFFF'',
    ''#FFFFFF'', ''#FFFFFF'', ''#FFFFFF'', ''#FFFFFF''],\n            ];\n            $dropdown.find(''.note-holder-custom'').each((idx,
    item) => {\n              const $holder = $(item);\n              $holder.append(this.ui.palette({\n                colors:
    customColors,\n                colorsName: customColors,\n                eventName:
    $holder.data(''event''),\n                container: this.options.container,\n                tooltip:
    this.options.tooltip,\n              }).render());\n            });\n            $dropdown.find(''input[type=color]'').each((idx,
    item) => {\n              $(item).change(function() {\n                const $chip
    = $dropdown.find(''#'' + $(this).data(''event'')).find(''.note-color-btn'').first();\n                const
    color = this.value.toUpperCase();\n                $chip.css(''background-color'',
    color)\n                  .attr(''aria-label'', color)\n                  .attr(''data-value'',
    color)\n                  .attr(''data-original-title'', color);\n                $chip.click();\n              });\n            });\n          },\n          click:
    (event) => {\n            event.stopPropagation();\n\n            const $parent
    = $(''.'' + className).find(''.note-dropdown-menu'');\n            const $button
    = $(event.target);\n            const eventName = $button.data(''event'');\n            const
    value = $button.attr(''data-value'');\n\n            if (eventName === ''openPalette'')
    {\n              const $picker = $parent.find(''#'' + value);\n              const
    $palette = $($parent.find(''#'' + $picker.data(''event'')).find(''.note-color-row'')[0]);\n\n              //
    Shift palette chips\n              const $chip = $palette.find(''.note-color-btn'').last().detach();\n\n              //
    Set chip attributes\n              const color = $picker.val();\n              $chip.css(''background-color'',
    color)\n                .attr(''aria-label'', color)\n                .attr(''data-value'',
    color)\n                .attr(''data-original-title'', color);\n              $palette.prepend($chip);\n              $picker.click();\n            }
    else {\n              if (lists.contains([''backColor'', ''foreColor''], eventName))
    {\n                const key = eventName === ''backColor'' ? ''background-color''
    : ''color'';\n                const $color = $button.closest(''.note-color'').find(''.note-recent-color'');\n                const
    $currentButton = $button.closest(''.note-color'').find(''.note-current-color-button'');\n\n                $color.css(key,
    value);\n                $currentButton.attr(''data-'' + eventName, value);\n              }\n              this.context.invoke(''editor.''
    + eventName, value);\n            }\n          },\n        }),\n      ],\n    }).render();\n  }\n\n  addToolbarButtons()
    {\n    this.context.memo(''button.style'', () => {\n      return this.ui.buttonGroup([\n        this.button({\n          className:
    ''dropdown-toggle'',\n          contents: this.ui.dropdownButtonContents(\n            this.ui.icon(this.options.icons.magic),
    this.options\n          ),\n          tooltip: this.lang.style.style,\n          data:
    {\n            toggle: ''dropdown'',\n          },\n        }),\n        this.ui.dropdown({\n          className:
    ''dropdown-style'',\n          items: this.options.styleTags,\n          title:
    this.lang.style.style,\n          template: (item) => {\n            // TBD: need
    to be simplified\n            if (typeof item === ''string'') {\n              item
    = {\n                tag: item,\n                title: (Object.prototype.hasOwnProperty.call(this.lang.style,
    item) ? this.lang.style[item] : item),\n              };\n            }\n\n            const
    tag = item.tag;\n            const title = item.title;\n            const style
    = item.style ? '' style=\"'' + item.style + ''\" '' : '''';\n            const
    className = item.className ? '' class=\"'' + item.className + ''\"'' : '''';\n\n            return
    ''<'' + tag + style + className + ''>'' + title + ''</'' + tag + ''>'';\n          },\n          click:
    this.context.createInvokeHandler(''editor.formatBlock''),\n        }),\n      ]).render();\n    });\n\n    for
    (let styleIdx = 0, styleLen = this.options.styleTags.length; styleIdx < styleLen;
    styleIdx++) {\n      const item = this.options.styleTags[styleIdx];\n\n      this.context.memo(''button.style.''
    + item, () => {\n        return this.button({\n          className: ''note-btn-style-''
    + item,\n          contents: ''<div data-value=\"'' + item + ''\">'' + item.toUpperCase()
    + ''</div>'',\n          tooltip: this.lang.style[item],\n          click: this.context.createInvokeHandler(''editor.formatBlock''),\n        }).render();\n      });\n    }\n\n    this.context.memo(''button.bold'',
    () => {\n      return this.button({\n        className: ''note-btn-bold'',\n        contents:
    this.ui.icon(this.options.icons.bold),\n        tooltip: this.lang.font.bold +
    this.representShortcut(''bold''),\n        click: this.context.createInvokeHandlerAndUpdateState(''editor.bold''),\n      }).render();\n    });\n\n    this.context.memo(''button.italic'',
    () => {\n      return this.button({\n        className: ''note-btn-italic'',\n        contents:
    this.ui.icon(this.options.icons.italic),\n        tooltip: this.lang.font.italic
    + this.representShortcut(''italic''),\n        click: this.context.createInvokeHandlerAndUpdateState(''editor.italic''),\n      }).render();\n    });\n\n    this.context.memo(''button.underline'',
    () => {\n      return this.button({\n        className: ''note-btn-underline'',\n        contents:
    this.ui.icon(this.options.icons.underline),\n        tooltip: this.lang.font.underline
    + this.representShortcut(''underline''),\n        click: this.context.createInvokeHandlerAndUpdateState(''editor.underline''),\n      }).render();\n    });\n\n    this.context.memo(''button.clear'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.eraser),\n        tooltip:
    this.lang.font.clear + this.representShortcut(''removeFormat''),\n        click:
    this.context.createInvokeHandler(''editor.removeFormat''),\n      }).render();\n    });\n\n    this.context.memo(''button.strikethrough'',
    () => {\n      return this.button({\n        className: ''note-btn-strikethrough'',\n        contents:
    this.ui.icon(this.options.icons.strikethrough),\n        tooltip: this.lang.font.strikethrough
    + this.representShortcut(''strikethrough''),\n        click: this.context.createInvokeHandlerAndUpdateState(''editor.strikethrough''),\n      }).render();\n    });\n\n    this.context.memo(''button.superscript'',
    () => {\n      return this.button({\n        className: ''note-btn-superscript'',\n        contents:
    this.ui.icon(this.options.icons.superscript),\n        tooltip: this.lang.font.superscript,\n        click:
    this.context.createInvokeHandlerAndUpdateState(''editor.superscript''),\n      }).render();\n    });\n\n    this.context.memo(''button.subscript'',
    () => {\n      return this.button({\n        className: ''note-btn-subscript'',\n        contents:
    this.ui.icon(this.options.icons.subscript),\n        tooltip: this.lang.font.subscript,\n        click:
    this.context.createInvokeHandlerAndUpdateState(''editor.subscript''),\n      }).render();\n    });\n\n    this.context.memo(''button.fontname'',
    () => {\n      const styleInfo = this.context.invoke(''editor.currentStyle'');\n\n      if
    (this.options.addDefaultFonts) {\n        // Add ''default'' fonts into the fontnames
    array if not exist\n        $.each(styleInfo[''font-family''].split('',''), (idx,
    fontname) => {\n          fontname = fontname.trim().replace(/[''\"]+/g, '''');\n          if
    (this.isFontDeservedToAdd(fontname)) {\n            if (this.options.fontNames.indexOf(fontname)
    === -1) {\n              this.options.fontNames.push(fontname);\n            }\n          }\n        });\n      }\n\n      return
    this.ui.buttonGroup([\n        this.button({\n          className: ''dropdown-toggle'',\n          contents:
    this.ui.dropdownButtonContents(\n            ''<span class=\"note-current-fontname\"></span>'',
    this.options\n          ),\n          tooltip: this.lang.font.name,\n          data:
    {\n            toggle: ''dropdown'',\n          },\n        }),\n        this.ui.dropdownCheck({\n          className:
    ''dropdown-fontname'',\n          checkClassName: this.options.icons.menuCheck,\n          items:
    this.options.fontNames.filter(this.isFontInstalled.bind(this)),\n          title:
    this.lang.font.name,\n          template: (item) => {\n            return ''<span
    style=\"font-family: '' + env.validFontName(item) + ''\">'' + item + ''</span>'';\n          },\n          click:
    this.context.createInvokeHandlerAndUpdateState(''editor.fontName''),\n        }),\n      ]).render();\n    });\n\n    this.context.memo(''button.fontsize'',
    () => {\n      return this.ui.buttonGroup([\n        this.button({\n          className:
    ''dropdown-toggle'',\n          contents: this.ui.dropdownButtonContents(''<span
    class=\"note-current-fontsize\"></span>'', this.options),\n          tooltip:
    this.lang.font.size,\n          data: {\n            toggle: ''dropdown'',\n          },\n        }),\n        this.ui.dropdownCheck({\n          className:
    ''dropdown-fontsize'',\n          checkClassName: this.options.icons.menuCheck,\n          items:
    this.options.fontSizes,\n          title: this.lang.font.size,\n          click:
    this.context.createInvokeHandlerAndUpdateState(''editor.fontSize''),\n        }),\n      ]).render();\n    });\n\n    this.context.memo(''button.fontsizeunit'',
    () => {\n      return this.ui.buttonGroup([\n        this.button({\n          className:
    ''dropdown-toggle'',\n          contents: this.ui.dropdownButtonContents(''<span
    class=\"note-current-fontsizeunit\"></span>'', this.options),\n          tooltip:
    this.lang.font.sizeunit,\n          data: {\n            toggle: ''dropdown'',\n          },\n        }),\n        this.ui.dropdownCheck({\n          className:
    ''dropdown-fontsizeunit'',\n          checkClassName: this.options.icons.menuCheck,\n          items:
    this.options.fontSizeUnits,\n          title: this.lang.font.sizeunit,\n          click:
    this.context.createInvokeHandlerAndUpdateState(''editor.fontSizeUnit''),\n        }),\n      ]).render();\n    });\n\n    this.context.memo(''button.color'',
    () => {\n      return this.colorPalette(''note-color-all'', this.lang.color.recent,
    true, true);\n    });\n\n    this.context.memo(''button.forecolor'', () => {\n      return
    this.colorPalette(''note-color-fore'', this.lang.color.foreground, false, true);\n    });\n\n    this.context.memo(''button.backcolor'',
    () => {\n      return this.colorPalette(''note-color-back'', this.lang.color.background,
    true, false);\n    });\n\n    this.context.memo(''button.ul'', () => {\n      return
    this.button({\n        contents: this.ui.icon(this.options.icons.unorderedlist),\n        tooltip:
    this.lang.lists.unordered + this.representShortcut(''insertUnorderedList''),\n        click:
    this.context.createInvokeHandler(''editor.insertUnorderedList''),\n      }).render();\n    });\n\n    this.context.memo(''button.ol'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.orderedlist),\n        tooltip:
    this.lang.lists.ordered + this.representShortcut(''insertOrderedList''),\n        click:
    this.context.createInvokeHandler(''editor.insertOrderedList''),\n      }).render();\n    });\n\n    const
    justifyLeft = this.button({\n      contents: this.ui.icon(this.options.icons.alignLeft),\n      tooltip:
    this.lang.paragraph.left + this.representShortcut(''justifyLeft''),\n      click:
    this.context.createInvokeHandler(''editor.justifyLeft''),\n    });\n\n    const
    justifyCenter = this.button({\n      contents: this.ui.icon(this.options.icons.alignCenter),\n      tooltip:
    this.lang.paragraph.center + this.representShortcut(''justifyCenter''),\n      click:
    this.context.createInvokeHandler(''editor.justifyCenter''),\n    });\n\n    const
    justifyRight = this.button({\n      contents: this.ui.icon(this.options.icons.alignRight),\n      tooltip:
    this.lang.paragraph.right + this.representShortcut(''justifyRight''),\n      click:
    this.context.createInvokeHandler(''editor.justifyRight''),\n    });\n\n    const
    justifyFull = this.button({\n      contents: this.ui.icon(this.options.icons.alignJustify),\n      tooltip:
    this.lang.paragraph.justify + this.representShortcut(''justifyFull''),\n      click:
    this.context.createInvokeHandler(''editor.justifyFull''),\n    });\n\n    const
    outdent = this.button({\n      contents: this.ui.icon(this.options.icons.outdent),\n      tooltip:
    this.lang.paragraph.outdent + this.representShortcut(''outdent''),\n      click:
    this.context.createInvokeHandler(''editor.outdent''),\n    });\n\n    const indent
    = this.button({\n      contents: this.ui.icon(this.options.icons.indent),\n      tooltip:
    this.lang.paragraph.indent + this.representShortcut(''indent''),\n      click:
    this.context.createInvokeHandler(''editor.indent''),\n    });\n\n    this.context.memo(''button.justifyLeft'',
    func.invoke(justifyLeft, ''render''));\n    this.context.memo(''button.justifyCenter'',
    func.invoke(justifyCenter, ''render''));\n    this.context.memo(''button.justifyRight'',
    func.invoke(justifyRight, ''render''));\n    this.context.memo(''button.justifyFull'',
    func.invoke(justifyFull, ''render''));\n    this.context.memo(''button.outdent'',
    func.invoke(outdent, ''render''));\n    this.context.memo(''button.indent'', func.invoke(indent,
    ''render''));\n\n    this.context.memo(''button.paragraph'', () => {\n      return
    this.ui.buttonGroup([\n        this.button({\n          className: ''dropdown-toggle'',\n          contents:
    this.ui.dropdownButtonContents(this.ui.icon(this.options.icons.alignLeft), this.options),\n          tooltip:
    this.lang.paragraph.paragraph,\n          data: {\n            toggle: ''dropdown'',\n          },\n        }),\n        this.ui.dropdown([\n          this.ui.buttonGroup({\n            className:
    ''note-align'',\n            children: [justifyLeft, justifyCenter, justifyRight,
    justifyFull],\n          }),\n          this.ui.buttonGroup({\n            className:
    ''note-list'',\n            children: [outdent, indent],\n          }),\n        ]),\n      ]).render();\n    });\n\n    this.context.memo(''button.height'',
    () => {\n      return this.ui.buttonGroup([\n        this.button({\n          className:
    ''dropdown-toggle'',\n          contents: this.ui.dropdownButtonContents(this.ui.icon(this.options.icons.textHeight),
    this.options),\n          tooltip: this.lang.font.height,\n          data: {\n            toggle:
    ''dropdown'',\n          },\n        }),\n        this.ui.dropdownCheck({\n          items:
    this.options.lineHeights,\n          checkClassName: this.options.icons.menuCheck,\n          className:
    ''dropdown-line-height'',\n          title: this.lang.font.height,\n          click:
    this.context.createInvokeHandler(''editor.lineHeight''),\n        }),\n      ]).render();\n    });\n\n    this.context.memo(''button.table'',
    () => {\n      return this.ui.buttonGroup([\n        this.button({\n          className:
    ''dropdown-toggle'',\n          contents: this.ui.dropdownButtonContents(this.ui.icon(this.options.icons.table),
    this.options),\n          tooltip: this.lang.table.table,\n          data: {\n            toggle:
    ''dropdown'',\n          },\n        }),\n        this.ui.dropdown({\n          title:
    this.lang.table.table,\n          className: ''note-table'',\n          items:
    [\n            ''<div class=\"note-dimension-picker\">'',\n              ''<div
    class=\"note-dimension-picker-mousecatcher\" data-event=\"insertTable\" data-value=\"1x1\"></div>'',\n              ''<div
    class=\"note-dimension-picker-highlighted\"></div>'',\n              ''<div class=\"note-dimension-picker-unhighlighted\"></div>'',\n            ''</div>'',\n            ''<div
    class=\"note-dimension-display\">1 x 1</div>'',\n          ].join(''''),\n        }),\n      ],
    {\n        callback: ($node) => {\n          const $catcher = $node.find(''.note-dimension-picker-mousecatcher'');\n          $catcher.css({\n            width:
    this.options.insertTableMaxSize.col + ''em'',\n            height: this.options.insertTableMaxSize.row
    + ''em'',\n          }).mousedown(this.context.createInvokeHandler(''editor.insertTable''))\n            .on(''mousemove'',
    this.tableMoveHandler.bind(this));\n        },\n      }).render();\n    });\n\n    this.context.memo(''button.link'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.link),\n        tooltip:
    this.lang.link.link + this.representShortcut(''linkDialog.show''),\n        click:
    this.context.createInvokeHandler(''linkDialog.show''),\n      }).render();\n    });\n\n    this.context.memo(''button.picture'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.picture),\n        tooltip:
    this.lang.image.image,\n        click: this.context.createInvokeHandler(''imageDialog.show''),\n      }).render();\n    });\n\n    this.context.memo(''button.video'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.video),\n        tooltip:
    this.lang.video.video,\n        click: this.context.createInvokeHandler(''videoDialog.show''),\n      }).render();\n    });\n\n    this.context.memo(''button.hr'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.minus),\n        tooltip:
    this.lang.hr.insert + this.representShortcut(''insertHorizontalRule''),\n        click:
    this.context.createInvokeHandler(''editor.insertHorizontalRule''),\n      }).render();\n    });\n\n    this.context.memo(''button.fullscreen'',
    () => {\n      return this.button({\n        className: ''btn-fullscreen note-codeview-keep'',\n        contents:
    this.ui.icon(this.options.icons.arrowsAlt),\n        tooltip: this.lang.options.fullscreen,\n        click:
    this.context.createInvokeHandler(''fullscreen.toggle''),\n      }).render();\n    });\n\n    this.context.memo(''button.codeview'',
    () => {\n      return this.button({\n        className: ''btn-codeview note-codeview-keep'',\n        contents:
    this.ui.icon(this.options.icons.code),\n        tooltip: this.lang.options.codeview,\n        click:
    this.context.createInvokeHandler(''codeview.toggle''),\n      }).render();\n    });\n\n    this.context.memo(''button.redo'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.redo),\n        tooltip:
    this.lang.history.redo + this.representShortcut(''redo''),\n        click: this.context.createInvokeHandler(''editor.redo''),\n      }).render();\n    });\n\n    this.context.memo(''button.undo'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.undo),\n        tooltip:
    this.lang.history.undo + this.representShortcut(''undo''),\n        click: this.context.createInvokeHandler(''editor.undo''),\n      }).render();\n    });\n\n    this.context.memo(''button.help'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.question),\n        tooltip:
    this.lang.options.help,\n        click: this.context.createInvokeHandler(''helpDialog.show''),\n      }).render();\n    });\n  }\n\n  /**\n   *
    image: [\n   *   [''imageResize'', [''resizeFull'', ''resizeHalf'', ''resizeQuarter'',
    ''resizeNone'']],\n   *   [''float'', [''floatLeft'', ''floatRight'', ''floatNone'']],\n   *   [''remove'',
    [''removeMedia'']],\n   * ],\n   */\n  addImagePopoverButtons() {\n    // Image
    Size Buttons\n    this.context.memo(''button.resizeFull'', () => {\n      return
    this.button({\n        contents: ''<span class=\"note-fontsize-10\">100%</span>'',\n        tooltip:
    this.lang.image.resizeFull,\n        click: this.context.createInvokeHandler(''editor.resize'',
    ''1''),\n      }).render();\n    });\n    this.context.memo(''button.resizeHalf'',
    () => {\n      return this.button({\n        contents: ''<span class=\"note-fontsize-10\">50%</span>'',\n        tooltip:
    this.lang.image.resizeHalf,\n        click: this.context.createInvokeHandler(''editor.resize'',
    ''0.5''),\n      }).render();\n    });\n    this.context.memo(''button.resizeQuarter'',
    () => {\n      return this.button({\n        contents: ''<span class=\"note-fontsize-10\">25%</span>'',\n        tooltip:
    this.lang.image.resizeQuarter,\n        click: this.context.createInvokeHandler(''editor.resize'',
    ''0.25''),\n      }).render();\n    });\n    this.context.memo(''button.resizeNone'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.rollback),\n        tooltip:
    this.lang.image.resizeNone,\n        click: this.context.createInvokeHandler(''editor.resize'',
    ''0''),\n      }).render();\n    });\n\n    // Float Buttons\n    this.context.memo(''button.floatLeft'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.floatLeft),\n        tooltip:
    this.lang.image.floatLeft,\n        click: this.context.createInvokeHandler(''editor.floatMe'',
    ''left''),\n      }).render();\n    });\n\n    this.context.memo(''button.floatRight'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.floatRight),\n        tooltip:
    this.lang.image.floatRight,\n        click: this.context.createInvokeHandler(''editor.floatMe'',
    ''right''),\n      }).render();\n    });\n\n    this.context.memo(''button.floatNone'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.rollback),\n        tooltip:
    this.lang.image.floatNone,\n        click: this.context.createInvokeHandler(''editor.floatMe'',
    ''none''),\n      }).render();\n    });\n\n    // Remove Buttons\n    this.context.memo(''button.removeMedia'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.trash),\n        tooltip:
    this.lang.image.remove,\n        click: this.context.createInvokeHandler(''editor.removeMedia''),\n      }).render();\n    });\n  }\n\n  addLinkPopoverButtons()
    {\n    this.context.memo(''button.linkDialogShow'', () => {\n      return this.button({\n        contents:
    this.ui.icon(this.options.icons.link),\n        tooltip: this.lang.link.edit,\n        click:
    this.context.createInvokeHandler(''linkDialog.show''),\n      }).render();\n    });\n\n    this.context.memo(''button.unlink'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.unlink),\n        tooltip:
    this.lang.link.unlink,\n        click: this.context.createInvokeHandler(''editor.unlink''),\n      }).render();\n    });\n  }\n\n  /**\n   *
    table : [\n   *  [''add'', [''addRowDown'', ''addRowUp'', ''addColLeft'', ''addColRight'']],\n   *  [''delete'',
    [''deleteRow'', ''deleteCol'', ''deleteTable'']]\n   * ],\n   */\n  addTablePopoverButtons()
    {\n    this.context.memo(''button.addRowUp'', () => {\n      return this.button({\n        className:
    ''btn-md'',\n        contents: this.ui.icon(this.options.icons.rowAbove),\n        tooltip:
    this.lang.table.addRowAbove,\n        click: this.context.createInvokeHandler(''editor.addRow'',
    ''top''),\n      }).render();\n    });\n    this.context.memo(''button.addRowDown'',
    () => {\n      return this.button({\n        className: ''btn-md'',\n        contents:
    this.ui.icon(this.options.icons.rowBelow),\n        tooltip: this.lang.table.addRowBelow,\n        click:
    this.context.createInvokeHandler(''editor.addRow'', ''bottom''),\n      }).render();\n    });\n    this.context.memo(''button.addColLeft'',
    () => {\n      return this.button({\n        className: ''btn-md'',\n        contents:
    this.ui.icon(this.options.icons.colBefore),\n        tooltip: this.lang.table.addColLeft,\n        click:
    this.context.createInvokeHandler(''editor.addCol'', ''left''),\n      }).render();\n    });\n    this.context.memo(''button.addColRight'',
    () => {\n      return this.button({\n        className: ''btn-md'',\n        contents:
    this.ui.icon(this.options.icons.colAfter),\n        tooltip: this.lang.table.addColRight,\n        click:
    this.context.createInvokeHandler(''editor.addCol'', ''right''),\n      }).render();\n    });\n    this.context.memo(''button.deleteRow'',
    () => {\n      return this.button({\n        className: ''btn-md'',\n        contents:
    this.ui.icon(this.options.icons.rowRemove),\n        tooltip: this.lang.table.delRow,\n        click:
    this.context.createInvokeHandler(''editor.deleteRow''),\n      }).render();\n    });\n    this.context.memo(''button.deleteCol'',
    () => {\n      return this.button({\n        className: ''btn-md'',\n        contents:
    this.ui.icon(this.options.icons.colRemove),\n        tooltip: this.lang.table.delCol,\n        click:
    this.context.createInvokeHandler(''editor.deleteCol''),\n      }).render();\n    });\n    this.context.memo(''button.deleteTable'',
    () => {\n      return this.button({\n        className: ''btn-md'',\n        contents:
    this.ui.icon(this.options.icons.trash),\n        tooltip: this.lang.table.delTable,\n        click:
    this.context.createInvokeHandler(''editor.deleteTable''),\n      }).render();\n    });\n  }\n\n  build($container,
    groups) {\n    for (let groupIdx = 0, groupLen = groups.length; groupIdx < groupLen;
    groupIdx++) {\n      const group = groups[groupIdx];\n      const groupName =
    Array.isArray(group) ? group[0] : group;\n      const buttons = Array.isArray(group)
    ? ((group.length === 1) ? [group[0]] : group[1]) : [group];\n\n      const $group
    = this.ui.buttonGroup({\n        className: ''note-'' + groupName,\n      }).render();\n\n      for
    (let idx = 0, len = buttons.length; idx < len; idx++) {\n        const btn = this.context.memo(''button.''
    + buttons[idx]);\n        if (btn) {\n          $group.append(typeof btn === ''function''
    ? btn(this.context) : btn);\n        }\n      }\n      $group.appendTo($container);\n    }\n  }\n\n  /**\n   *
    @param {jQuery} [$container]\n   */\n  updateCurrentStyle($container) {\n    const
    $cont = $container || this.$toolbar;\n\n    const styleInfo = this.context.invoke(''editor.currentStyle'');\n    this.updateBtnStates($cont,
    {\n      ''.note-btn-bold'': () => {\n        return styleInfo[''font-bold'']
    === ''bold'';\n      },\n      ''.note-btn-italic'': () => {\n        return styleInfo[''font-italic'']
    === ''italic'';\n      },\n      ''.note-btn-underline'': () => {\n        return
    styleInfo[''font-underline''] === ''underline'';\n      },\n      ''.note-btn-subscript'':
    () => {\n        return styleInfo[''font-subscript''] === ''subscript'';\n      },\n      ''.note-btn-superscript'':
    () => {\n        return styleInfo[''font-superscript''] === ''superscript'';\n      },\n      ''.note-btn-strikethrough'':
    () => {\n        return styleInfo[''font-strikethrough''] === ''strikethrough'';\n      },\n    });\n\n    if
    (styleInfo[''font-family'']) {\n      const fontNames = styleInfo[''font-family''].split('','').map((name)
    => {\n        return name.replace(/[\\''\\\"]/g, '''')\n          .replace(/\\s+$/,
    '''')\n          .replace(/^\\s+/, '''');\n      });\n      const fontName = lists.find(fontNames,
    this.isFontInstalled.bind(this));\n\n      $cont.find(''.dropdown-fontname a'').each((idx,
    item) => {\n        const $item = $(item);\n        // always compare string to
    avoid creating another func.\n        const isChecked = ($item.data(''value'')
    + '''') === (fontName + '''');\n        $item.toggleClass(''checked'', isChecked);\n      });\n      $cont.find(''.note-current-fontname'').text(fontName).css(''font-family'',
    fontName);\n    }\n\n    if (styleInfo[''font-size'']) {\n      const fontSize
    = styleInfo[''font-size''];\n      $cont.find(''.dropdown-fontsize a'').each((idx,
    item) => {\n        const $item = $(item);\n        // always compare with string
    to avoid creating another func.\n        const isChecked = ($item.data(''value'')
    + '''') === (fontSize + '''');\n        $item.toggleClass(''checked'', isChecked);\n      });\n      $cont.find(''.note-current-fontsize'').text(fontSize);\n\n      const
    fontSizeUnit = styleInfo[''font-size-unit''];\n      $cont.find(''.dropdown-fontsizeunit
    a'').each((idx, item) => {\n        const $item = $(item);\n        const isChecked
    = ($item.data(''value'') + '''') === (fontSizeUnit + '''');\n        $item.toggleClass(''checked'',
    isChecked);\n      });\n      $cont.find(''.note-current-fontsizeunit'').text(fontSizeUnit);\n    }\n\n    if
    (styleInfo[''line-height'']) {\n      const lineHeight = styleInfo[''line-height''];\n      $cont.find(''.dropdown-line-height
    li a'').each((idx, item) => {\n        // always compare with string to avoid
    creating another func.\n        const isChecked = ($(item).data(''value'') + '''')
    === (lineHeight + '''');\n        this.className = isChecked ? ''checked'' : '''';\n      });\n    }\n  }\n\n  updateBtnStates($container,
    infos) {\n    $.each(infos, (selector, pred) => {\n      this.ui.toggleBtnActive($container.find(selector),
    pred());\n    });\n  }\n\n  tableMoveHandler(event) {\n    const PX_PER_EM = 18;\n    const
    $picker = $(event.target.parentNode); // target is mousecatcher\n    const $dimensionDisplay
    = $picker.next();\n    const $catcher = $picker.find(''.note-dimension-picker-mousecatcher'');\n    const
    $highlighted = $picker.find(''.note-dimension-picker-highlighted'');\n    const
    $unhighlighted = $picker.find(''.note-dimension-picker-unhighlighted'');\n\n    let
    posOffset;\n    // HTML5 with jQuery - e.offsetX is undefined in Firefox\n    if
    (event.offsetX === undefined) {\n      const posCatcher = $(event.target).offset();\n      posOffset
    = {\n        x: event.pageX - posCatcher.left,\n        y: event.pageY - posCatcher.top,\n      };\n    }
    else {\n      posOffset = {\n        x: event.offsetX,\n        y: event.offsetY,\n      };\n    }\n\n    const
    dim = {\n      c: Math.ceil(posOffset.x / PX_PER_EM) || 1,\n      r: Math.ceil(posOffset.y
    / PX_PER_EM) || 1,\n    };\n\n    $highlighted.css({ width: dim.c + ''em'', height:
    dim.r + ''em'' });\n    $catcher.data(''value'', dim.c + ''x'' + dim.r);\n\n    if
    (dim.c > 3 && dim.c < this.options.insertTableMaxSize.col) {\n      $unhighlighted.css({
    width: dim.c + 1 + ''em'' });\n    }\n\n    if (dim.r > 3 && dim.r < this.options.insertTableMaxSize.row)
    {\n      $unhighlighted.css({ height: dim.r + 1 + ''em'' });\n    }\n\n    $dimensionDisplay.html(dim.c
    + '' x '' + dim.r);\n  }\n}\n","import $ from ''jquery'';\nexport default class
    Toolbar {\n  constructor(context) {\n    this.context = context;\n\n    this.$window
    = $(window);\n    this.$document = $(document);\n\n    this.ui = $.summernote.ui;\n    this.$note
    = context.layoutInfo.note;\n    this.$editor = context.layoutInfo.editor;\n    this.$toolbar
    = context.layoutInfo.toolbar;\n    this.$editable = context.layoutInfo.editable;\n    this.$statusbar
    = context.layoutInfo.statusbar;\n    this.options = context.options;\n\n    this.isFollowing
    = false;\n    this.followScroll = this.followScroll.bind(this);\n  }\n\n  shouldInitialize()
    {\n    return !this.options.airMode;\n  }\n\n  initialize() {\n    this.options.toolbar
    = this.options.toolbar || [];\n\n    if (!this.options.toolbar.length) {\n      this.$toolbar.hide();\n    }
    else {\n      this.context.invoke(''buttons.build'', this.$toolbar, this.options.toolbar);\n    }\n\n    if
    (this.options.toolbarContainer) {\n      this.$toolbar.appendTo(this.options.toolbarContainer);\n    }\n\n    this.changeContainer(false);\n\n    this.$note.on(''summernote.keyup
    summernote.mouseup summernote.change'', () => {\n      this.context.invoke(''buttons.updateCurrentStyle'');\n    });\n\n    this.context.invoke(''buttons.updateCurrentStyle'');\n    if
    (this.options.followingToolbar) {\n      this.$window.on(''scroll resize'', this.followScroll);\n    }\n  }\n\n  destroy()
    {\n    this.$toolbar.children().remove();\n\n    if (this.options.followingToolbar)
    {\n      this.$window.off(''scroll resize'', this.followScroll);\n    }\n  }\n\n  followScroll()
    {\n    if (this.$editor.hasClass(''fullscreen'')) {\n      return false;\n    }\n\n    const
    editorHeight = this.$editor.outerHeight();\n    const editorWidth = this.$editor.width();\n    const
    toolbarHeight = this.$toolbar.height();\n    const statusbarHeight = this.$statusbar.height();\n\n    //
    check if the web app is currently using another static bar\n    let otherBarHeight
    = 0;\n    if (this.options.otherStaticBar) {\n      otherBarHeight = $(this.options.otherStaticBar).outerHeight();\n    }\n\n    const
    currentOffset = this.$document.scrollTop();\n    const editorOffsetTop = this.$editor.offset().top;\n    const
    editorOffsetBottom = editorOffsetTop + editorHeight;\n    const activateOffset
    = editorOffsetTop - otherBarHeight;\n    const deactivateOffsetBottom = editorOffsetBottom
    - otherBarHeight - toolbarHeight - statusbarHeight;\n\n    if (!this.isFollowing
    &&\n      (currentOffset > activateOffset) && (currentOffset < deactivateOffsetBottom
    - toolbarHeight)) {\n      this.isFollowing = true;\n      this.$editable.css({\n        marginTop:
    this.$toolbar.outerHeight(),\n      });\n      this.$toolbar.css({\n        position:
    ''fixed'',\n        top: otherBarHeight,\n        width: editorWidth,\n        zIndex:
    1000,\n      });\n    } else if (this.isFollowing &&\n      ((currentOffset <
    activateOffset) || (currentOffset > deactivateOffsetBottom))) {\n      this.isFollowing
    = false;\n      this.$toolbar.css({\n        position: ''relative'',\n        top:
    0,\n        width: ''100%'',\n        zIndex: ''auto'',\n      });\n      this.$editable.css({\n        marginTop:
    '''',\n      });\n    }\n  }\n\n  changeContainer(isFullscreen) {\n    if (isFullscreen)
    {\n      this.$toolbar.prependTo(this.$editor);\n    } else {\n      if (this.options.toolbarContainer)
    {\n        this.$toolbar.appendTo(this.options.toolbarContainer);\n      }\n    }\n    if
    (this.options.followingToolbar) {\n      this.followScroll();\n    }\n  }\n\n  updateFullscreen(isFullscreen)
    {\n    this.ui.toggleBtnActive(this.$toolbar.find(''.btn-fullscreen''), isFullscreen);\n\n    this.changeContainer(isFullscreen);\n  }\n\n  updateCodeview(isCodeview)
    {\n    this.ui.toggleBtnActive(this.$toolbar.find(''.btn-codeview''), isCodeview);\n    if
    (isCodeview) {\n      this.deactivate();\n    } else {\n      this.activate();\n    }\n  }\n\n  activate(isIncludeCodeview)
    {\n    let $btn = this.$toolbar.find(''button'');\n    if (!isIncludeCodeview)
    {\n      $btn = $btn.not(''.note-codeview-keep'');\n    }\n    this.ui.toggleBtn($btn,
    true);\n  }\n\n  deactivate(isIncludeCodeview) {\n    let $btn = this.$toolbar.find(''button'');\n    if
    (!isIncludeCodeview) {\n      $btn = $btn.not(''.note-codeview-keep'');\n    }\n    this.ui.toggleBtn($btn,
    false);\n  }\n}\n","import $ from ''jquery'';\nimport env from ''../core/env'';\nimport
    key from ''../core/key'';\nimport func from ''../core/func'';\n\nexport default
    class LinkDialog {\n  constructor(context) {\n    this.context = context;\n\n    this.ui
    = $.summernote.ui;\n    this.$body = $(document.body);\n    this.$editor = context.layoutInfo.editor;\n    this.options
    = context.options;\n    this.lang = this.options.langInfo;\n\n    context.memo(''help.linkDialog.show'',
    this.options.langInfo.help[''linkDialog.show'']);\n  }\n\n  initialize() {\n    const
    $container = this.options.dialogsInBody ? this.$body : this.options.container;\n    const
    body = [\n      ''<div class=\"form-group note-form-group\">'',\n        `<label
    for=\"note-dialog-link-txt-${this.options.id}\" class=\"note-form-label\">${this.lang.link.textToDisplay}</label>`,\n        `<input
    id=\"note-dialog-link-txt-${this.options.id}\" class=\"note-link-text form-control
    note-form-control note-input\" type=\"text\"/>`,\n      ''</div>'',\n      ''<div
    class=\"form-group note-form-group\">'',\n        `<label for=\"note-dialog-link-url-${this.options.id}\"
    class=\"note-form-label\">${this.lang.link.url}</label>`,\n        `<input id=\"note-dialog-link-url-${this.options.id}\"
    class=\"note-link-url form-control note-form-control note-input\" type=\"text\"
    value=\"http://\"/>`,\n      ''</div>'',\n      !this.options.disableLinkTarget\n        ?
    $(''<div/>'').append(this.ui.checkbox({\n          className: ''sn-checkbox-open-in-new-window'',\n          text:
    this.lang.link.openInNewWindow,\n          checked: true,\n        }).render()).html()\n        :
    '''',\n      $(''<div/>'').append(this.ui.checkbox({\n        className: ''sn-checkbox-use-protocol'',\n        text:
    this.lang.link.useProtocol,\n        checked: true,\n      }).render()).html(),\n    ].join('''');\n\n    const
    buttonClass = ''btn btn-primary note-btn note-btn-primary note-link-btn'';\n    const
    footer = `<input type=\"button\" href=\"#\" class=\"${buttonClass}\" value=\"${this.lang.link.insert}\"
    disabled>`;\n\n    this.$dialog = this.ui.dialog({\n      className: ''link-dialog'',\n      title:
    this.lang.link.insert,\n      fade: this.options.dialogsFade,\n      body: body,\n      footer:
    footer,\n    }).render().appendTo($container);\n  }\n\n  destroy() {\n    this.ui.hideDialog(this.$dialog);\n    this.$dialog.remove();\n  }\n\n  bindEnterKey($input,
    $btn) {\n    $input.on(''keypress'', (event) => {\n      if (event.keyCode ===
    key.code.ENTER) {\n        event.preventDefault();\n        $btn.trigger(''click'');\n      }\n    });\n  }\n\n  /**\n   *
    toggle update button\n   */\n  toggleLinkBtn($linkBtn, $linkText, $linkUrl) {\n    this.ui.toggleBtn($linkBtn,
    $linkText.val() && $linkUrl.val());\n  }\n\n  /**\n   * Show link dialog and set
    event handlers on dialog controls.\n   *\n   * @param {Object} linkInfo\n   *
    @return {Promise}\n   */\n  showLinkDialog(linkInfo) {\n    return $.Deferred((deferred)
    => {\n      const $linkText = this.$dialog.find(''.note-link-text'');\n      const
    $linkUrl = this.$dialog.find(''.note-link-url'');\n      const $linkBtn = this.$dialog.find(''.note-link-btn'');\n      const
    $openInNewWindow = this.$dialog\n        .find(''.sn-checkbox-open-in-new-window
    input[type=checkbox]'');\n      const $useProtocol = this.$dialog\n        .find(''.sn-checkbox-use-protocol
    input[type=checkbox]'');\n\n      this.ui.onDialogShown(this.$dialog, () => {\n        this.context.triggerEvent(''dialog.shown'');\n\n        //
    If no url was given and given text is valid URL then copy that into URL Field\n        if
    (!linkInfo.url && func.isValidUrl(linkInfo.text)) {\n          linkInfo.url =
    linkInfo.text;\n        }\n\n        $linkText.on(''input paste propertychange'',
    () => {\n          // If linktext was modified by input events,\n          //
    cloning text from linkUrl will be stopped.\n          linkInfo.text = $linkText.val();\n          this.toggleLinkBtn($linkBtn,
    $linkText, $linkUrl);\n        }).val(linkInfo.text);\n\n        $linkUrl.on(''input
    paste propertychange'', () => {\n          // Display same text on `Text to display`
    as default\n          // when linktext has no text\n          if (!linkInfo.text)
    {\n            $linkText.val($linkUrl.val());\n          }\n          this.toggleLinkBtn($linkBtn,
    $linkText, $linkUrl);\n        }).val(linkInfo.url);\n\n        if (!env.isSupportTouch)
    {\n          $linkUrl.trigger(''focus'');\n        }\n\n        this.toggleLinkBtn($linkBtn,
    $linkText, $linkUrl);\n        this.bindEnterKey($linkUrl, $linkBtn);\n        this.bindEnterKey($linkText,
    $linkBtn);\n\n        const isNewWindowChecked = linkInfo.isNewWindow !== undefined\n          ?
    linkInfo.isNewWindow : this.context.options.linkTargetBlank;\n\n        $openInNewWindow.prop(''checked'',
    isNewWindowChecked);\n\n        const useProtocolChecked = linkInfo.url\n          ?
    false : this.context.options.useProtocol;\n\n        $useProtocol.prop(''checked'',
    useProtocolChecked);\n\n        $linkBtn.one(''click'', (event) => {\n          event.preventDefault();\n\n          deferred.resolve({\n            range:
    linkInfo.range,\n            url: $linkUrl.val(),\n            text: $linkText.val(),\n            isNewWindow:
    $openInNewWindow.is('':checked''),\n            checkProtocol: $useProtocol.is('':checked''),\n          });\n          this.ui.hideDialog(this.$dialog);\n        });\n      });\n\n      this.ui.onDialogHidden(this.$dialog,
    () => {\n        // detach events\n        $linkText.off();\n        $linkUrl.off();\n        $linkBtn.off();\n\n        if
    (deferred.state() === ''pending'') {\n          deferred.reject();\n        }\n      });\n\n      this.ui.showDialog(this.$dialog);\n    }).promise();\n  }\n\n  /**\n   *
    @param {Object} layoutInfo\n   */\n  show() {\n    const linkInfo = this.context.invoke(''editor.getLinkInfo'');\n\n    this.context.invoke(''editor.saveRange'');\n    this.showLinkDialog(linkInfo).then((linkInfo)
    => {\n      this.context.invoke(''editor.restoreRange'');\n      this.context.invoke(''editor.createLink'',
    linkInfo);\n    }).fail(() => {\n      this.context.invoke(''editor.restoreRange'');\n    });\n  }\n}\n","import
    $ from ''jquery'';\nimport lists from ''../core/lists'';\nimport dom from ''../core/dom'';\n\nexport
    default class LinkPopover {\n  constructor(context) {\n    this.context = context;\n\n    this.ui
    = $.summernote.ui;\n    this.options = context.options;\n    this.events = {\n      ''summernote.keyup
    summernote.mouseup summernote.change summernote.scroll'': () => {\n        this.update();\n      },\n      ''summernote.disable
    summernote.dialog.shown summernote.blur'': () => {\n        this.hide();\n      },\n    };\n  }\n\n  shouldInitialize()
    {\n    return !lists.isEmpty(this.options.popover.link);\n  }\n\n  initialize()
    {\n    this.$popover = this.ui.popover({\n      className: ''note-link-popover'',\n      callback:
    ($node) => {\n        const $content = $node.find(''.popover-content,.note-popover-content'');\n        $content.prepend(''<span><a
    target=\"_blank\"></a>&nbsp;</span>'');\n      },\n    }).render().appendTo(this.options.container);\n    const
    $content = this.$popover.find(''.popover-content,.note-popover-content'');\n\n    this.context.invoke(''buttons.build'',
    $content, this.options.popover.link);\n\n    this.$popover.on(''mousedown'', (e)
    => { e.preventDefault(); });\n  }\n\n  destroy() {\n    this.$popover.remove();\n  }\n\n  update()
    {\n    // Prevent focusing on editable when invoke(''code'') is executed\n    if
    (!this.context.invoke(''editor.hasFocus'')) {\n      this.hide();\n      return;\n    }\n\n    const
    rng = this.context.invoke(''editor.getLastRange'');\n    if (rng.isCollapsed()
    && rng.isOnAnchor()) {\n      const anchor = dom.ancestor(rng.sc, dom.isAnchor);\n      const
    href = $(anchor).attr(''href'');\n      this.$popover.find(''a'').attr(''href'',
    href).text(href);\n\n      const pos = dom.posFromPlaceholder(anchor);\n      const
    containerOffset = $(this.options.container).offset();\n      pos.top -= containerOffset.top;\n      pos.left
    -= containerOffset.left;\n\n      this.$popover.css({\n        display: ''block'',\n        left:
    pos.left,\n        top: pos.top,\n      });\n    } else {\n      this.hide();\n    }\n  }\n\n  hide()
    {\n    this.$popover.hide();\n  }\n}\n","import $ from ''jquery'';\nimport env
    from ''../core/env'';\nimport key from ''../core/key'';\n\nexport default class
    ImageDialog {\n  constructor(context) {\n    this.context = context;\n    this.ui
    = $.summernote.ui;\n    this.$body = $(document.body);\n    this.$editor = context.layoutInfo.editor;\n    this.options
    = context.options;\n    this.lang = this.options.langInfo;\n  }\n\n  initialize()
    {\n    let imageLimitation = '''';\n    if (this.options.maximumImageFileSize)
    {\n      const unit = Math.floor(Math.log(this.options.maximumImageFileSize) /
    Math.log(1024));\n      const readableSize = (this.options.maximumImageFileSize
    / Math.pow(1024, unit)).toFixed(2) * 1 +\n                         '' '' + ''
    KMGTP''[unit] + ''B'';\n      imageLimitation = `<small>${this.lang.image.maximumFileSize
    + '' : '' + readableSize}</small>`;\n    }\n\n    const $container = this.options.dialogsInBody
    ? this.$body : this.options.container;\n    const body = [\n      ''<div class=\"form-group
    note-form-group note-group-select-from-files\">'',\n        ''<label for=\"note-dialog-image-file-''
    + this.options.id + ''\" class=\"note-form-label\">'' + this.lang.image.selectFromFiles
    + ''</label>'',\n        ''<input id=\"note-dialog-image-file-'' + this.options.id
    + ''\" class=\"note-image-input form-control-file note-form-control note-input\"
    '',\n        '' type=\"file\" name=\"files\" accept=\"image/*\" multiple=\"multiple\"/>'',\n        imageLimitation,\n      ''</div>'',\n      ''<div
    class=\"form-group note-group-image-url\">'',\n        ''<label for=\"note-dialog-image-url-''
    + this.options.id + ''\" class=\"note-form-label\">'' + this.lang.image.url +
    ''</label>'',\n        ''<input id=\"note-dialog-image-url-'' + this.options.id
    + ''\" class=\"note-image-url form-control note-form-control note-input\" type=\"text\"/>'',\n      ''</div>'',\n    ].join('''');\n    const
    buttonClass = ''btn btn-primary note-btn note-btn-primary note-image-btn'';\n    const
    footer = `<input type=\"button\" href=\"#\" class=\"${buttonClass}\" value=\"${this.lang.image.insert}\"
    disabled>`;\n\n    this.$dialog = this.ui.dialog({\n      title: this.lang.image.insert,\n      fade:
    this.options.dialogsFade,\n      body: body,\n      footer: footer,\n    }).render().appendTo($container);\n  }\n\n  destroy()
    {\n    this.ui.hideDialog(this.$dialog);\n    this.$dialog.remove();\n  }\n\n  bindEnterKey($input,
    $btn) {\n    $input.on(''keypress'', (event) => {\n      if (event.keyCode ===
    key.code.ENTER) {\n        event.preventDefault();\n        $btn.trigger(''click'');\n      }\n    });\n  }\n\n  show()
    {\n    this.context.invoke(''editor.saveRange'');\n    this.showImageDialog().then((data)
    => {\n      // [workaround] hide dialog before restore range for IE range focus\n      this.ui.hideDialog(this.$dialog);\n      this.context.invoke(''editor.restoreRange'');\n\n      if
    (typeof data === ''string'') { // image url\n        // If onImageLinkInsert set,\n        if
    (this.options.callbacks.onImageLinkInsert) {\n          this.context.triggerEvent(''image.link.insert'',
    data);\n        } else {\n          this.context.invoke(''editor.insertImage'',
    data);\n        }\n      } else { // array of files\n        this.context.invoke(''editor.insertImagesOrCallback'',
    data);\n      }\n    }).fail(() => {\n      this.context.invoke(''editor.restoreRange'');\n    });\n  }\n\n  /**\n   *
    show image dialog\n   *\n   * @param {jQuery} $dialog\n   * @return {Promise}\n   */\n  showImageDialog()
    {\n    return $.Deferred((deferred) => {\n      const $imageInput = this.$dialog.find(''.note-image-input'');\n      const
    $imageUrl = this.$dialog.find(''.note-image-url'');\n      const $imageBtn = this.$dialog.find(''.note-image-btn'');\n\n      this.ui.onDialogShown(this.$dialog,
    () => {\n        this.context.triggerEvent(''dialog.shown'');\n\n        // Cloning
    imageInput to clear element.\n        $imageInput.replaceWith($imageInput.clone().on(''change'',
    (event) => {\n          deferred.resolve(event.target.files || event.target.value);\n        }).val(''''));\n\n        $imageUrl.on(''input
    paste propertychange'', () => {\n          this.ui.toggleBtn($imageBtn, $imageUrl.val());\n        }).val('''');\n\n        if
    (!env.isSupportTouch) {\n          $imageUrl.trigger(''focus'');\n        }\n\n        $imageBtn.click((event)
    => {\n          event.preventDefault();\n          deferred.resolve($imageUrl.val());\n        });\n\n        this.bindEnterKey($imageUrl,
    $imageBtn);\n      });\n\n      this.ui.onDialogHidden(this.$dialog, () => {\n        $imageInput.off();\n        $imageUrl.off();\n        $imageBtn.off();\n\n        if
    (deferred.state() === ''pending'') {\n          deferred.reject();\n        }\n      });\n\n      this.ui.showDialog(this.$dialog);\n    });\n  }\n}\n","import
    $ from ''jquery'';\nimport lists from ''../core/lists'';\nimport dom from ''../core/dom'';\n\n/**\n
    * Image popover module\n *  mouse events that show/hide popover will be handled
    by Handle.js.\n *  Handle.js will receive the events and invoke ''imagePopover.update''.\n
    */\nexport default class ImagePopover {\n  constructor(context) {\n    this.context
    = context;\n    this.ui = $.summernote.ui;\n\n    this.editable = context.layoutInfo.editable[0];\n    this.options
    = context.options;\n\n    this.events = {\n      ''summernote.disable summernote.blur'':
    () => {\n        this.hide();\n      },\n    };\n  }\n\n  shouldInitialize() {\n    return
    !lists.isEmpty(this.options.popover.image);\n  }\n\n  initialize() {\n    this.$popover
    = this.ui.popover({\n      className: ''note-image-popover'',\n    }).render().appendTo(this.options.container);\n    const
    $content = this.$popover.find(''.popover-content,.note-popover-content'');\n    this.context.invoke(''buttons.build'',
    $content, this.options.popover.image);\n\n    this.$popover.on(''mousedown'',
    (e) => { e.preventDefault(); });\n  }\n\n  destroy() {\n    this.$popover.remove();\n  }\n\n  update(target,
    event) {\n    if (dom.isImg(target)) {\n      const position = $(target).offset();\n      const
    containerOffset = $(this.options.container).offset();\n      let pos = {};\n      if
    (this.options.popatmouse) {\n        pos.left = event.pageX - 20;\n        pos.top
    = event.pageY;\n      } else {\n        pos = position;\n      }\n      pos.top
    -= containerOffset.top;\n      pos.left -= containerOffset.left;\n\n      this.$popover.css({\n        display:
    ''block'',\n        left: pos.left,\n        top: pos.top,\n      });\n    } else
    {\n      this.hide();\n    }\n  }\n\n  hide() {\n    this.$popover.hide();\n  }\n}\n","import
    $ from ''jquery'';\nimport env from ''../core/env'';\nimport lists from ''../core/lists'';\nimport
    dom from ''../core/dom'';\n\nexport default class TablePopover {\n  constructor(context)
    {\n    this.context = context;\n\n    this.ui = $.summernote.ui;\n    this.options
    = context.options;\n    this.events = {\n      ''summernote.mousedown'': (we,
    e) => {\n        this.update(e.target);\n      },\n      ''summernote.keyup summernote.scroll
    summernote.change'': () => {\n        this.update();\n      },\n      ''summernote.disable
    summernote.blur'': () => {\n        this.hide();\n      },\n    };\n  }\n\n  shouldInitialize()
    {\n    return !lists.isEmpty(this.options.popover.table);\n  }\n\n  initialize()
    {\n    this.$popover = this.ui.popover({\n      className: ''note-table-popover'',\n    }).render().appendTo(this.options.container);\n    const
    $content = this.$popover.find(''.popover-content,.note-popover-content'');\n\n    this.context.invoke(''buttons.build'',
    $content, this.options.popover.table);\n\n    // [workaround] Disable Firefox''s
    default table editor\n    if (env.isFF) {\n      document.execCommand(''enableInlineTableEditing'',
    false, false);\n    }\n\n    this.$popover.on(''mousedown'', (e) => { e.preventDefault();
    });\n  }\n\n  destroy() {\n    this.$popover.remove();\n  }\n\n  update(target)
    {\n    if (this.context.isDisabled()) {\n      return false;\n    }\n\n    const
    isCell = dom.isCell(target);\n\n    if (isCell) {\n      const pos = dom.posFromPlaceholder(target);\n      const
    containerOffset = $(this.options.container).offset();\n      pos.top -= containerOffset.top;\n      pos.left
    -= containerOffset.left;\n\n      this.$popover.css({\n        display: ''block'',\n        left:
    pos.left,\n        top: pos.top,\n      });\n    } else {\n      this.hide();\n    }\n\n    return
    isCell;\n  }\n\n  hide() {\n    this.$popover.hide();\n  }\n}\n","import $ from
    ''jquery'';\nimport env from ''../core/env'';\nimport key from ''../core/key'';\n\nexport
    default class VideoDialog {\n  constructor(context) {\n    this.context = context;\n\n    this.ui
    = $.summernote.ui;\n    this.$body = $(document.body);\n    this.$editor = context.layoutInfo.editor;\n    this.options
    = context.options;\n    this.lang = this.options.langInfo;\n  }\n\n  initialize()
    {\n    const $container = this.options.dialogsInBody ? this.$body : this.options.container;\n    const
    body = [\n      ''<div class=\"form-group note-form-group row-fluid\">'',\n        `<label
    for=\"note-dialog-video-url-${this.options.id}\" class=\"note-form-label\">${this.lang.video.url}
    <small class=\"text-muted\">${this.lang.video.providers}</small></label>`,\n        `<input
    id=\"note-dialog-video-url-${this.options.id}\" class=\"note-video-url form-control
    note-form-control note-input\" type=\"text\"/>`,\n      ''</div>'',\n    ].join('''');\n    const
    buttonClass = ''btn btn-primary note-btn note-btn-primary note-video-btn'';\n    const
    footer = `<input type=\"button\" href=\"#\" class=\"${buttonClass}\" value=\"${this.lang.video.insert}\"
    disabled>`;\n\n    this.$dialog = this.ui.dialog({\n      title: this.lang.video.insert,\n      fade:
    this.options.dialogsFade,\n      body: body,\n      footer: footer,\n    }).render().appendTo($container);\n  }\n\n  destroy()
    {\n    this.ui.hideDialog(this.$dialog);\n    this.$dialog.remove();\n  }\n\n  bindEnterKey($input,
    $btn) {\n    $input.on(''keypress'', (event) => {\n      if (event.keyCode ===
    key.code.ENTER) {\n        event.preventDefault();\n        $btn.trigger(''click'');\n      }\n    });\n  }\n\n  createVideoNode(url)
    {\n    // video url patterns(youtube, instagram, vimeo, dailymotion, youku, mp4,
    ogg, webm)\n    const ytRegExp = /\\/\\/(?:(?:www|m)\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))([\\w|-]{11})(?:(?:[\\?&]t=)(\\S+))?$/;\n    const
    ytRegExpForStart = /^(?:(\\d+)h)?(?:(\\d+)m)?(?:(\\d+)s)?$/;\n    const ytMatch
    = url.match(ytRegExp);\n\n    const igRegExp = /(?:www\\.|\\/\\/)instagram\\.com\\/p\\/(.[a-zA-Z0-9_-]*)/;\n    const
    igMatch = url.match(igRegExp);\n\n    const vRegExp = /\\/\\/vine\\.co\\/v\\/([a-zA-Z0-9]+)/;\n    const
    vMatch = url.match(vRegExp);\n\n    const vimRegExp = /\\/\\/(player\\.)?vimeo\\.com\\/([a-z]*\\/)*(\\d+)[?]?.*/;\n    const
    vimMatch = url.match(vimRegExp);\n\n    const dmRegExp = /.+dailymotion.com\\/(video|hub)\\/([^_]+)[^#]*(#video=([^_&]+))?/;\n    const
    dmMatch = url.match(dmRegExp);\n\n    const youkuRegExp = /\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/;\n    const
    youkuMatch = url.match(youkuRegExp);\n\n    const qqRegExp = /\\/\\/v\\.qq\\.com.*?vid=(.+)/;\n    const
    qqMatch = url.match(qqRegExp);\n\n    const qqRegExp2 = /\\/\\/v\\.qq\\.com\\/x?\\/?(page|cover).*?\\/([^\\/]+)\\.html\\??.*/;\n    const
    qqMatch2 = url.match(qqRegExp2);\n\n    const mp4RegExp = /^.+.(mp4|m4v)$/;\n    const
    mp4Match = url.match(mp4RegExp);\n\n    const oggRegExp = /^.+.(ogg|ogv)$/;\n    const
    oggMatch = url.match(oggRegExp);\n\n    const webmRegExp = /^.+.(webm)$/;\n    const
    webmMatch = url.match(webmRegExp);\n\n    const fbRegExp = /(?:www\\.|\\/\\/)facebook\\.com\\/([^\\/]+)\\/videos\\/([0-9]+)/;\n    const
    fbMatch = url.match(fbRegExp);\n\n    let $video;\n    if (ytMatch && ytMatch[1].length
    === 11) {\n      const youtubeId = ytMatch[1];\n      var start = 0;\n      if
    (typeof ytMatch[2] !== ''undefined'') {\n        const ytMatchForStart = ytMatch[2].match(ytRegExpForStart);\n        if
    (ytMatchForStart) {\n          for (var n = [3600, 60, 1], i = 0, r = n.length;
    i < r; i++) {\n            start += (typeof ytMatchForStart[i + 1] !== ''undefined''
    ? n[i] * parseInt(ytMatchForStart[i + 1], 10) : 0);\n          }\n        }\n      }\n      $video
    = $(''<iframe>'')\n        .attr(''frameborder'', 0)\n        .attr(''src'', ''//www.youtube.com/embed/''
    + youtubeId + (start > 0 ? ''?start='' + start : ''''))\n        .attr(''width'',
    ''640'').attr(''height'', ''360'');\n    } else if (igMatch && igMatch[0].length)
    {\n      $video = $(''<iframe>'')\n        .attr(''frameborder'', 0)\n        .attr(''src'',
    ''https://instagram.com/p/'' + igMatch[1] + ''/embed/'')\n        .attr(''width'',
    ''612'').attr(''height'', ''710'')\n        .attr(''scrolling'', ''no'')\n        .attr(''allowtransparency'',
    ''true'');\n    } else if (vMatch && vMatch[0].length) {\n      $video = $(''<iframe>'')\n        .attr(''frameborder'',
    0)\n        .attr(''src'', vMatch[0] + ''/embed/simple'')\n        .attr(''width'',
    ''600'').attr(''height'', ''600'')\n        .attr(''class'', ''vine-embed'');\n    }
    else if (vimMatch && vimMatch[3].length) {\n      $video = $(''<iframe webkitallowfullscreen
    mozallowfullscreen allowfullscreen>'')\n        .attr(''frameborder'', 0)\n        .attr(''src'',
    ''//player.vimeo.com/video/'' + vimMatch[3])\n        .attr(''width'', ''640'').attr(''height'',
    ''360'');\n    } else if (dmMatch && dmMatch[2].length) {\n      $video = $(''<iframe>'')\n        .attr(''frameborder'',
    0)\n        .attr(''src'', ''//www.dailymotion.com/embed/video/'' + dmMatch[2])\n        .attr(''width'',
    ''640'').attr(''height'', ''360'');\n    } else if (youkuMatch && youkuMatch[1].length)
    {\n      $video = $(''<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>'')\n        .attr(''frameborder'',
    0)\n        .attr(''height'', ''498'')\n        .attr(''width'', ''510'')\n        .attr(''src'',
    ''//player.youku.com/embed/'' + youkuMatch[1]);\n    } else if ((qqMatch && qqMatch[1].length)
    || (qqMatch2 && qqMatch2[2].length)) {\n      const vid = ((qqMatch && qqMatch[1].length)
    ? qqMatch[1] : qqMatch2[2]);\n      $video = $(''<iframe webkitallowfullscreen
    mozallowfullscreen allowfullscreen>'')\n        .attr(''frameborder'', 0)\n        .attr(''height'',
    ''310'')\n        .attr(''width'', ''500'')\n        .attr(''src'', ''https://v.qq.com/txp/iframe/player.html?vid=''
    + vid + ''&amp;auto=0'');\n    } else if (mp4Match || oggMatch || webmMatch) {\n      $video
    = $(''<video controls>'')\n        .attr(''src'', url)\n        .attr(''width'',
    ''640'').attr(''height'', ''360'');\n    } else if (fbMatch && fbMatch[0].length)
    {\n      $video = $(''<iframe>'')\n        .attr(''frameborder'', 0)\n        .attr(''src'',
    ''https://www.facebook.com/plugins/video.php?href='' + encodeURIComponent(fbMatch[0])
    + ''&show_text=0&width=560'')\n        .attr(''width'', ''560'').attr(''height'',
    ''301'')\n        .attr(''scrolling'', ''no'')\n        .attr(''allowtransparency'',
    ''true'');\n    } else {\n      // this is not a known video link. Now what, Cat?
    Now what?\n      return false;\n    }\n\n    $video.addClass(''note-video-clip'');\n\n    return
    $video[0];\n  }\n\n  show() {\n    const text = this.context.invoke(''editor.getSelectedText'');\n    this.context.invoke(''editor.saveRange'');\n    this.showVideoDialog(text).then((url)
    => {\n      // [workaround] hide dialog before restore range for IE range focus\n      this.ui.hideDialog(this.$dialog);\n      this.context.invoke(''editor.restoreRange'');\n\n      //
    build node\n      const $node = this.createVideoNode(url);\n\n      if ($node)
    {\n        // insert video node\n        this.context.invoke(''editor.insertNode'',
    $node);\n      }\n    }).fail(() => {\n      this.context.invoke(''editor.restoreRange'');\n    });\n  }\n\n  /**\n   *
    show video dialog\n   *\n   * @param {jQuery} $dialog\n   * @return {Promise}\n   */\n  showVideoDialog(/*
    text */) {\n    return $.Deferred((deferred) => {\n      const $videoUrl = this.$dialog.find(''.note-video-url'');\n      const
    $videoBtn = this.$dialog.find(''.note-video-btn'');\n\n      this.ui.onDialogShown(this.$dialog,
    () => {\n        this.context.triggerEvent(''dialog.shown'');\n\n        $videoUrl.on(''input
    paste propertychange'', () => {\n          this.ui.toggleBtn($videoBtn, $videoUrl.val());\n        });\n\n        if
    (!env.isSupportTouch) {\n          $videoUrl.trigger(''focus'');\n        }\n\n        $videoBtn.click((event)
    => {\n          event.preventDefault();\n          deferred.resolve($videoUrl.val());\n        });\n\n        this.bindEnterKey($videoUrl,
    $videoBtn);\n      });\n\n      this.ui.onDialogHidden(this.$dialog, () => {\n        $videoUrl.off();\n        $videoBtn.off();\n\n        if
    (deferred.state() === ''pending'') {\n          deferred.reject();\n        }\n      });\n\n      this.ui.showDialog(this.$dialog);\n    });\n  }\n}\n","import
    $ from ''jquery'';\nimport env from ''../core/env'';\n\nexport default class HelpDialog
    {\n  constructor(context) {\n    this.context = context;\n\n    this.ui = $.summernote.ui;\n    this.$body
    = $(document.body);\n    this.$editor = context.layoutInfo.editor;\n    this.options
    = context.options;\n    this.lang = this.options.langInfo;\n  }\n\n  initialize()
    {\n    const $container = this.options.dialogsInBody ? this.$body : this.options.container;\n    const
    body = [\n      ''<p class=\"text-center\">'',\n        ''<a href=\"http://summernote.org/\"
    target=\"_blank\">Summernote @@VERSION@@</a> · '',\n        ''<a href=\"https://github.com/summernote/summernote\"
    target=\"_blank\">Project</a> · '',\n        ''<a href=\"https://github.com/summernote/summernote/issues\"
    target=\"_blank\">Issues</a>'',\n      ''</p>'',\n    ].join('''');\n\n    this.$dialog
    = this.ui.dialog({\n      title: this.lang.options.help,\n      fade: this.options.dialogsFade,\n      body:
    this.createShortcutList(),\n      footer: body,\n      callback: ($node) => {\n        $node.find(''.modal-body,.note-modal-body'').css({\n          ''max-height'':
    300,\n          ''overflow'': ''scroll'',\n        });\n      },\n    }).render().appendTo($container);\n  }\n\n  destroy()
    {\n    this.ui.hideDialog(this.$dialog);\n    this.$dialog.remove();\n  }\n\n  createShortcutList()
    {\n    const keyMap = this.options.keyMap[env.isMac ? ''mac'' : ''pc''];\n    return
    Object.keys(keyMap).map((key) => {\n      const command = keyMap[key];\n      const
    $row = $(''<div><div class=\"help-list-item\"></div></div>'');\n      $row.append($(''<label><kbd>''
    + key + ''</kdb></label>'').css({\n        ''width'': 180,\n        ''margin-right'':
    10,\n      })).append($(''<span/>'').html(this.context.memo(''help.'' + command)
    || command));\n      return $row.html();\n    }).join('''');\n  }\n\n  /**\n   *
    show help dialog\n   *\n   * @return {Promise}\n   */\n  showHelpDialog() {\n    return
    $.Deferred((deferred) => {\n      this.ui.onDialogShown(this.$dialog, () => {\n        this.context.triggerEvent(''dialog.shown'');\n        deferred.resolve();\n      });\n      this.ui.showDialog(this.$dialog);\n    }).promise();\n  }\n\n  show()
    {\n    this.context.invoke(''editor.saveRange'');\n    this.showHelpDialog().then(()
    => {\n      this.context.invoke(''editor.restoreRange'');\n    });\n  }\n}\n","import
    $ from ''jquery'';\nimport lists from ''../core/lists'';\n\nconst AIRMODE_POPOVER_X_OFFSET
    = -5;\nconst AIRMODE_POPOVER_Y_OFFSET = 5;\n\nexport default class AirPopover
    {\n  constructor(context) {\n    this.context = context;\n    this.ui = $.summernote.ui;\n    this.options
    = context.options;\n\n    this.hidable = true;\n    this.onContextmenu = false;\n    this.pageX
    = null;\n    this.pageY = null;\n\n    this.events = {\n      ''summernote.contextmenu'':
    (e) => {\n        if (this.options.editing) {\n          e.preventDefault();\n          e.stopPropagation();\n          this.onContextmenu
    = true;\n          this.update(true);\n        }\n      },\n      ''summernote.mousedown'':
    (we, e) => {\n        this.pageX = e.pageX;\n        this.pageY = e.pageY;\n      },\n      ''summernote.keyup
    summernote.mouseup summernote.scroll'': (we, e) => {\n        if (this.options.editing
    && !this.onContextmenu) {\n          this.pageX = e.pageX;\n          this.pageY
    = e.pageY;\n          this.update();\n        }\n        this.onContextmenu =
    false;\n      },\n      ''summernote.disable summernote.change summernote.dialog.shown
    summernote.blur'': () => {\n        this.hide();\n      },\n      ''summernote.focusout'':
    () => {\n        if (!this.$popover.is('':active,:focus'')) {\n          this.hide();\n        }\n      },\n    };\n  }\n\n  shouldInitialize()
    {\n    return this.options.airMode && !lists.isEmpty(this.options.popover.air);\n  }\n\n  initialize()
    {\n    this.$popover = this.ui.popover({\n      className: ''note-air-popover'',\n    }).render().appendTo(this.options.container);\n    const
    $content = this.$popover.find(''.popover-content'');\n\n    this.context.invoke(''buttons.build'',
    $content, this.options.popover.air);\n\n    // disable hiding this popover preemptively
    by ''summernote.blur'' event.\n    this.$popover.on(''mousedown'', () => { this.hidable
    = false; });\n    // (re-)enable hiding after ''summernote.blur'' has been handled
    (aka. ignored).\n    this.$popover.on(''mouseup'', () => { this.hidable = true;
    });\n  }\n\n  destroy() {\n    this.$popover.remove();\n  }\n\n  update(forcelyOpen)
    {\n    const styleInfo = this.context.invoke(''editor.currentStyle'');\n    if
    (styleInfo.range && (!styleInfo.range.isCollapsed() || forcelyOpen)) {\n      let
    rect = {\n        left: this.pageX,\n        top: this.pageY,\n      };\n\n      const
    containerOffset = $(this.options.container).offset();\n      rect.top -= containerOffset.top;\n      rect.left
    -= containerOffset.left;\n\n      this.$popover.css({\n        display: ''block'',\n        left:
    Math.max(rect.left, 0) + AIRMODE_POPOVER_X_OFFSET,\n        top: rect.top + AIRMODE_POPOVER_Y_OFFSET,\n      });\n      this.context.invoke(''buttons.updateCurrentStyle'',
    this.$popover);\n    } else {\n      this.hide();\n    }\n  }\n\n  updateCodeview(isCodeview)
    {\n    this.ui.toggleBtnActive(this.$popover.find(''.btn-codeview''), isCodeview);\n    if
    (isCodeview) {\n      this.hide();\n    } \n  }\n\n  hide() {\n    if (this.hidable)
    {\n      this.$popover.hide();\n    }\n  }\n}\n","import $ from ''jquery'';\nimport
    func from ''../core/func'';\nimport lists from ''../core/lists'';\nimport dom
    from ''../core/dom'';\nimport range from ''../core/range'';\nimport key from ''../core/key'';\n\nconst
    POPOVER_DIST = 5;\n\nexport default class HintPopover {\n  constructor(context)
    {\n    this.context = context;\n\n    this.ui = $.summernote.ui;\n    this.$editable
    = context.layoutInfo.editable;\n    this.options = context.options;\n    this.hint
    = this.options.hint || [];\n    this.direction = this.options.hintDirection ||
    ''bottom'';\n    this.hints = Array.isArray(this.hint) ? this.hint : [this.hint];\n\n    this.events
    = {\n      ''summernote.keyup'': (we, e) => {\n        if (!e.isDefaultPrevented())
    {\n          this.handleKeyup(e);\n        }\n      },\n      ''summernote.keydown'':
    (we, e) => {\n        this.handleKeydown(e);\n      },\n      ''summernote.disable
    summernote.dialog.shown summernote.blur'': () => {\n        this.hide();\n      },\n    };\n  }\n\n  shouldInitialize()
    {\n    return this.hints.length > 0;\n  }\n\n  initialize() {\n    this.lastWordRange
    = null;\n    this.matchingWord = null;\n    this.$popover = this.ui.popover({\n      className:
    ''note-hint-popover'',\n      hideArrow: true,\n      direction: '''',\n    }).render().appendTo(this.options.container);\n\n    this.$popover.hide();\n    this.$content
    = this.$popover.find(''.popover-content,.note-popover-content'');\n    this.$content.on(''click'',
    ''.note-hint-item'', (e) => {\n      this.$content.find(''.active'').removeClass(''active'');\n      $(e.currentTarget).addClass(''active'');\n      this.replace();\n    });\n\n    this.$popover.on(''mousedown'',
    (e) => { e.preventDefault(); });\n  }\n\n  destroy() {\n    this.$popover.remove();\n  }\n\n  selectItem($item)
    {\n    this.$content.find(''.active'').removeClass(''active'');\n    $item.addClass(''active'');\n\n    this.$content[0].scrollTop
    = $item[0].offsetTop - (this.$content.innerHeight() / 2);\n  }\n\n  moveDown()
    {\n    const $current = this.$content.find(''.note-hint-item.active'');\n    const
    $next = $current.next();\n\n    if ($next.length) {\n      this.selectItem($next);\n    }
    else {\n      let $nextGroup = $current.parent().next();\n\n      if (!$nextGroup.length)
    {\n        $nextGroup = this.$content.find(''.note-hint-group'').first();\n      }\n\n      this.selectItem($nextGroup.find(''.note-hint-item'').first());\n    }\n  }\n\n  moveUp()
    {\n    const $current = this.$content.find(''.note-hint-item.active'');\n    const
    $prev = $current.prev();\n\n    if ($prev.length) {\n      this.selectItem($prev);\n    }
    else {\n      let $prevGroup = $current.parent().prev();\n\n      if (!$prevGroup.length)
    {\n        $prevGroup = this.$content.find(''.note-hint-group'').last();\n      }\n\n      this.selectItem($prevGroup.find(''.note-hint-item'').last());\n    }\n  }\n\n  replace()
    {\n    const $item = this.$content.find(''.note-hint-item.active'');\n\n    if
    ($item.length) {\n      var node = this.nodeFromItem($item);\n      // If matchingWord
    length = 0 -> capture OK / open hint / but as mention capture \"\" (\\w*)\n      if
    (this.matchingWord !== null && this.matchingWord.length === 0) {\n        this.lastWordRange.so
    = this.lastWordRange.eo;\n      // Else si > 0 and normal case -> adjust range
    \"before\" for correct position of insertion\n      } else if (this.matchingWord
    !== null && this.matchingWord.length > 0 && !this.lastWordRange.isCollapsed())
    {\n        let rangeCompute = this.lastWordRange.eo - this.lastWordRange.so -
    this.matchingWord.length;\n        if (rangeCompute > 0) {\n          this.lastWordRange.so
    += rangeCompute;\n        }\n      }\n      this.lastWordRange.insertNode(node);\n\n      if
    (this.options.hintSelect === ''next'') {\n        var blank = document.createTextNode('''');\n        $(node).after(blank);\n        range.createFromNodeBefore(blank).select();\n      }
    else {\n        range.createFromNodeAfter(node).select();\n      }\n\n      this.lastWordRange
    = null;\n      this.hide();\n      this.context.invoke(''editor.focus'');\n    }\n  }\n\n  nodeFromItem($item)
    {\n    const hint = this.hints[$item.data(''index'')];\n    const item = $item.data(''item'');\n    let
    node = hint.content ? hint.content(item) : item;\n    if (typeof node === ''string'')
    {\n      node = dom.createText(node);\n    }\n    return node;\n  }\n\n  createItemTemplates(hintIdx,
    items) {\n    const hint = this.hints[hintIdx];\n    return items.map((item /*,
    idx */) => {\n      const $item = $(''<div class=\"note-hint-item\"/>'');\n      $item.append(hint.template
    ? hint.template(item) : item + '''');\n      $item.data({\n        ''index'':
    hintIdx,\n        ''item'': item,\n      });\n      return $item;\n    });\n  }\n\n  handleKeydown(e)
    {\n    if (!this.$popover.is('':visible'')) {\n      return;\n    }\n\n    if
    (e.keyCode === key.code.ENTER) {\n      e.preventDefault();\n      this.replace();\n    }
    else if (e.keyCode === key.code.UP) {\n      e.preventDefault();\n      this.moveUp();\n    }
    else if (e.keyCode === key.code.DOWN) {\n      e.preventDefault();\n      this.moveDown();\n    }\n  }\n\n  searchKeyword(index,
    keyword, callback) {\n    const hint = this.hints[index];\n    if (hint && hint.match.test(keyword)
    && hint.search) {\n      const matches = hint.match.exec(keyword);\n      this.matchingWord
    = matches[0];\n      hint.search(matches[1], callback);\n    } else {\n      callback();\n    }\n  }\n\n  createGroup(idx,
    keyword) {\n    const $group = $(''<div class=\"note-hint-group note-hint-group-''
    + idx + ''\"></div>'');\n    this.searchKeyword(idx, keyword, (items) => {\n      items
    = items || [];\n      if (items.length) {\n        $group.html(this.createItemTemplates(idx,
    items));\n        this.show();\n      }\n    });\n\n    return $group;\n  }\n\n  handleKeyup(e)
    {\n    if (!lists.contains([key.code.ENTER, key.code.UP, key.code.DOWN], e.keyCode))
    {\n      let range = this.context.invoke(''editor.getLastRange'');\n      let
    wordRange, keyword;\n      if (this.options.hintMode === ''words'') {\n        wordRange
    = range.getWordsRange(range);\n        keyword = wordRange.toString();\n\n        this.hints.forEach((hint)
    => {\n          if (hint.match.test(keyword)) {\n            wordRange = range.getWordsMatchRange(hint.match);\n            return
    false;\n          }\n        });\n\n        if (!wordRange) {\n          this.hide();\n          return;\n        }\n\n        keyword
    = wordRange.toString();\n      } else {\n        wordRange = range.getWordRange();\n        keyword
    = wordRange.toString();\n      }\n\n      if (this.hints.length && keyword) {\n        this.$content.empty();\n\n        const
    bnd = func.rect2bnd(lists.last(wordRange.getClientRects()));\n        const containerOffset
    = $(this.options.container).offset();\n        if (bnd) {\n          bnd.top -=
    containerOffset.top;\n          bnd.left -= containerOffset.left;\n\n          this.$popover.hide();\n          this.lastWordRange
    = wordRange;\n          this.hints.forEach((hint, idx) => {\n            if (hint.match.test(keyword))
    {\n              this.createGroup(idx, keyword).appendTo(this.$content);\n            }\n          });\n          //
    select first .note-hint-item\n          this.$content.find(''.note-hint-item:first'').addClass(''active'');\n\n          //
    set position for popover after group is created\n          if (this.direction
    === ''top'') {\n            this.$popover.css({\n              left: bnd.left,\n              top:
    bnd.top - this.$popover.outerHeight() - POPOVER_DIST,\n            });\n          }
    else {\n            this.$popover.css({\n              left: bnd.left,\n              top:
    bnd.top + bnd.height + POPOVER_DIST,\n            });\n          }\n        }\n      }
    else {\n        this.hide();\n      }\n    }\n  }\n\n  show() {\n    this.$popover.show();\n  }\n\n  hide()
    {\n    this.$popover.hide();\n  }\n}\n","import $ from ''jquery'';\nimport ''./summernote-en-US'';\nimport
    ''../summernote'';\nimport dom from ''./core/dom'';\nimport range from ''./core/range'';\nimport
    lists from ''./core/lists'';\nimport Editor from ''./module/Editor'';\nimport
    Clipboard from ''./module/Clipboard'';\nimport Dropzone from ''./module/Dropzone'';\nimport
    Codeview from ''./module/Codeview'';\nimport Statusbar from ''./module/Statusbar'';\nimport
    Fullscreen from ''./module/Fullscreen'';\nimport Handle from ''./module/Handle'';\nimport
    AutoLink from ''./module/AutoLink'';\nimport AutoSync from ''./module/AutoSync'';\nimport
    AutoReplace from ''./module/AutoReplace'';\nimport Placeholder from ''./module/Placeholder'';\nimport
    Buttons from ''./module/Buttons'';\nimport Toolbar from ''./module/Toolbar'';\nimport
    LinkDialog from ''./module/LinkDialog'';\nimport LinkPopover from ''./module/LinkPopover'';\nimport
    ImageDialog from ''./module/ImageDialog'';\nimport ImagePopover from ''./module/ImagePopover'';\nimport
    TablePopover from ''./module/TablePopover'';\nimport VideoDialog from ''./module/VideoDialog'';\nimport
    HelpDialog from ''./module/HelpDialog'';\nimport AirPopover from ''./module/AirPopover'';\nimport
    HintPopover from ''./module/HintPopover'';\n\n$.summernote = $.extend($.summernote,
    {\n  version: ''@@VERSION@@'',\n  plugins: {},\n\n  dom: dom,\n  range: range,\n  lists:
    lists,\n\n  options: {\n    langInfo: $.summernote.lang[''en-US''],\n    editing:
    true,\n    modules: {\n      ''editor'': Editor,\n      ''clipboard'': Clipboard,\n      ''dropzone'':
    Dropzone,\n      ''codeview'': Codeview,\n      ''statusbar'': Statusbar,\n      ''fullscreen'':
    Fullscreen,\n      ''handle'': Handle,\n      // FIXME: HintPopover must be front
    of autolink\n      //  - Script error about range when Enter key is pressed on
    hint popover\n      ''hintPopover'': HintPopover,\n      ''autoLink'': AutoLink,\n      ''autoSync'':
    AutoSync,\n      ''autoReplace'': AutoReplace,\n      ''placeholder'': Placeholder,\n      ''buttons'':
    Buttons,\n      ''toolbar'': Toolbar,\n      ''linkDialog'': LinkDialog,\n      ''linkPopover'':
    LinkPopover,\n      ''imageDialog'': ImageDialog,\n      ''imagePopover'': ImagePopover,\n      ''tablePopover'':
    TablePopover,\n      ''videoDialog'': VideoDialog,\n      ''helpDialog'': HelpDialog,\n      ''airPopover'':
    AirPopover,\n    },\n\n    buttons: {},\n\n    lang: ''en-US'',\n\n    followingToolbar:
    false,\n    toolbarPosition: ''top'',\n    otherStaticBar: '''',\n\n    // toolbar\n    codeviewKeepButton:
    false,\n    toolbar: [\n      [''style'', [''style'']],\n      [''font'', [''bold'',
    ''underline'', ''clear'']],\n      [''fontname'', [''fontname'']],\n      [''color'',
    [''color'']],\n      [''para'', [''ul'', ''ol'', ''paragraph'']],\n      [''table'',
    [''table'']],\n      [''insert'', [''link'', ''picture'', ''video'']],\n      [''view'',
    [''fullscreen'', ''codeview'', ''help'']],\n    ],\n\n    // popover\n    popatmouse:
    true,\n    popover: {\n      image: [\n        [''resize'', [''resizeFull'', ''resizeHalf'',
    ''resizeQuarter'', ''resizeNone'']],\n        [''float'', [''floatLeft'', ''floatRight'',
    ''floatNone'']],\n        [''remove'', [''removeMedia'']],\n      ],\n      link:
    [\n        [''link'', [''linkDialogShow'', ''unlink'']],\n      ],\n      table:
    [\n        [''add'', [''addRowDown'', ''addRowUp'', ''addColLeft'', ''addColRight'']],\n        [''delete'',
    [''deleteRow'', ''deleteCol'', ''deleteTable'']],\n      ],\n      air: [\n        [''color'',
    [''color'']],\n        [''font'', [''bold'', ''underline'', ''clear'']],\n        [''para'',
    [''ul'', ''paragraph'']],\n        [''table'', [''table'']],\n        [''insert'',
    [''link'', ''picture'']],\n        [''view'', [''fullscreen'', ''codeview'']],\n      ],\n    },\n\n    //
    air mode: inline editor\n    airMode: false,\n    overrideContextMenu: false,
    // TBD\n\n    width: null,\n    height: null,\n    linkTargetBlank: true,\n    useProtocol:
    true,\n    defaultProtocol: ''http://'',\n\n    focus: false,\n    tabDisabled:
    false,\n    tabSize: 4,\n    styleWithCSS: false,\n    shortcuts: true,\n    textareaAutoSync:
    true,\n    tooltip: ''auto'',\n    container: null,\n    maxTextLength: 0,\n    blockquoteBreakingLevel:
    2,\n    spellCheck: true,\n    disableGrammar: false,\n    placeholder: null,\n    inheritPlaceholder:
    false,\n    // TODO: need to be documented\n    recordEveryKeystroke: false,\n    historyLimit:
    200,\n\n    // TODO: need to be documented\n    showDomainOnlyForAutolink: false,\n\n    //
    TODO: need to be documented\n    hintMode: ''word'',\n    hintSelect: ''after'',\n    hintDirection:
    ''bottom'',\n\n    styleTags: [''p'', ''blockquote'', ''pre'', ''h1'', ''h2'',
    ''h3'', ''h4'', ''h5'', ''h6''],\n\n    fontNames: [\n      ''Arial'', ''Arial
    Black'', ''Comic Sans MS'', ''Courier New'',\n      ''Helvetica Neue'', ''Helvetica'',
    ''Impact'', ''Lucida Grande'',\n      ''Tahoma'', ''Times New Roman'', ''Verdana'',\n    ],\n    fontNamesIgnoreCheck:
    [],\n    addDefaultFonts: true,\n\n    fontSizes: [''8'', ''9'', ''10'', ''11'',
    ''12'', ''14'', ''18'', ''24'', ''36''],\n\n    fontSizeUnits: [''px'', ''pt''],\n\n    //
    pallete colors(n x n)\n    colors: [\n      [''#000000'', ''#424242'', ''#636363'',
    ''#9C9C94'', ''#CEC6CE'', ''#EFEFEF'', ''#F7F7F7'', ''#FFFFFF''],\n      [''#FF0000'',
    ''#FF9C00'', ''#FFFF00'', ''#00FF00'', ''#00FFFF'', ''#0000FF'', ''#9C00FF'',
    ''#FF00FF''],\n      [''#F7C6CE'', ''#FFE7CE'', ''#FFEFC6'', ''#D6EFD6'', ''#CEDEE7'',
    ''#CEE7F7'', ''#D6D6E7'', ''#E7D6DE''],\n      [''#E79C9C'', ''#FFC69C'', ''#FFE79C'',
    ''#B5D6A5'', ''#A5C6CE'', ''#9CC6EF'', ''#B5A5D6'', ''#D6A5BD''],\n      [''#E76363'',
    ''#F7AD6B'', ''#FFD663'', ''#94BD7B'', ''#73A5AD'', ''#6BADDE'', ''#8C7BC6'',
    ''#C67BA5''],\n      [''#CE0000'', ''#E79439'', ''#EFC631'', ''#6BA54A'', ''#4A7B8C'',
    ''#3984C6'', ''#634AA5'', ''#A54A7B''],\n      [''#9C0000'', ''#B56308'', ''#BD9400'',
    ''#397B21'', ''#104A5A'', ''#085294'', ''#311873'', ''#731842''],\n      [''#630000'',
    ''#7B3900'', ''#846300'', ''#295218'', ''#083139'', ''#003163'', ''#21104A'',
    ''#4A1031''],\n    ],\n\n    // http://chir.ag/projects/name-that-color/\n    colorsName:
    [\n      [''Black'', ''Tundora'', ''Dove Gray'', ''Star Dust'', ''Pale Slate'',
    ''Gallery'', ''Alabaster'', ''White''],\n      [''Red'', ''Orange Peel'', ''Yellow'',
    ''Green'', ''Cyan'', ''Blue'', ''Electric Violet'', ''Magenta''],\n      [''Azalea'',
    ''Karry'', ''Egg White'', ''Zanah'', ''Botticelli'', ''Tropical Blue'', ''Mischka'',
    ''Twilight''],\n      [''Tonys Pink'', ''Peach Orange'', ''Cream Brulee'', ''Sprout'',
    ''Casper'', ''Perano'', ''Cold Purple'', ''Careys Pink''],\n      [''Mandy'',
    ''Rajah'', ''Dandelion'', ''Olivine'', ''Gulf Stream'', ''Viking'', ''Blue Marguerite'',
    ''Puce''],\n      [''Guardsman Red'', ''Fire Bush'', ''Golden Dream'', ''Chelsea
    Cucumber'', ''Smalt Blue'', ''Boston Blue'', ''Butterfly Bush'', ''Cadillac''],\n      [''Sangria'',
    ''Mai Tai'', ''Buddha Gold'', ''Forest Green'', ''Eden'', ''Venice Blue'', ''Meteorite'',
    ''Claret''],\n      [''Rosewood'', ''Cinnamon'', ''Olive'', ''Parsley'', ''Tiber'',
    ''Midnight Blue'', ''Valentino'', ''Loulou''],\n    ],\n\n    colorButton: {\n      foreColor:
    ''#000000'',\n      backColor: ''#FFFF00'',\n    },\n\n    lineHeights: [''1.0'',
    ''1.2'', ''1.4'', ''1.5'', ''1.6'', ''1.8'', ''2.0'', ''3.0''],\n\n    tableClassName:
    ''table table-bordered'',\n\n    insertTableMaxSize: {\n      col: 10,\n      row:
    10,\n    },\n\n    // By default, dialogs are attached in container.\n    dialogsInBody:
    false,\n    dialogsFade: false,\n\n    maximumImageFileSize: null,\n\n    callbacks:
    {\n      onBeforeCommand: null,\n      onBlur: null,\n      onBlurCodeview: null,\n      onChange:
    null,\n      onChangeCodeview: null,\n      onDialogShown: null,\n      onEnter:
    null,\n      onFocus: null,\n      onImageLinkInsert: null,\n      onImageUpload:
    null,\n      onImageUploadError: null,\n      onInit: null,\n      onKeydown:
    null,\n      onKeyup: null,\n      onMousedown: null,\n      onMouseup: null,\n      onPaste:
    null,\n      onScroll: null,\n    },\n\n    codemirror: {\n      mode: ''text/html'',\n      htmlMode:
    true,\n      lineNumbers: true,\n    },\n\n    codeviewFilter: false,\n    codeviewFilterRegex:
    /<\\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,\n    codeviewIframeFilter:
    true,\n    codeviewIframeWhitelistSrc: [],\n    codeviewIframeWhitelistSrcBase:
    [\n      ''www.youtube.com'',\n      ''www.youtube-nocookie.com'',\n      ''www.facebook.com'',\n      ''vine.co'',\n      ''instagram.com'',\n      ''player.vimeo.com'',\n      ''www.dailymotion.com'',\n      ''player.youku.com'',\n      ''v.qq.com'',\n    ],\n\n    keyMap:
    {\n      pc: {\n        ''ESC'': ''escape'',\n        ''ENTER'': ''insertParagraph'',\n        ''CTRL+Z'':
    ''undo'',\n        ''CTRL+Y'': ''redo'',\n        ''TAB'': ''tab'',\n        ''SHIFT+TAB'':
    ''untab'',\n        ''CTRL+B'': ''bold'',\n        ''CTRL+I'': ''italic'',\n        ''CTRL+U'':
    ''underline'',\n        ''CTRL+SHIFT+S'': ''strikethrough'',\n        ''CTRL+BACKSLASH'':
    ''removeFormat'',\n        ''CTRL+SHIFT+L'': ''justifyLeft'',\n        ''CTRL+SHIFT+E'':
    ''justifyCenter'',\n        ''CTRL+SHIFT+R'': ''justifyRight'',\n        ''CTRL+SHIFT+J'':
    ''justifyFull'',\n        ''CTRL+SHIFT+NUM7'': ''insertUnorderedList'',\n        ''CTRL+SHIFT+NUM8'':
    ''insertOrderedList'',\n        ''CTRL+LEFTBRACKET'': ''outdent'',\n        ''CTRL+RIGHTBRACKET'':
    ''indent'',\n        ''CTRL+NUM0'': ''formatPara'',\n        ''CTRL+NUM1'': ''formatH1'',\n        ''CTRL+NUM2'':
    ''formatH2'',\n        ''CTRL+NUM3'': ''formatH3'',\n        ''CTRL+NUM4'': ''formatH4'',\n        ''CTRL+NUM5'':
    ''formatH5'',\n        ''CTRL+NUM6'': ''formatH6'',\n        ''CTRL+ENTER'': ''insertHorizontalRule'',\n        ''CTRL+K'':
    ''linkDialog.show'',\n      },\n\n      mac: {\n        ''ESC'': ''escape'',\n        ''ENTER'':
    ''insertParagraph'',\n        ''CMD+Z'': ''undo'',\n        ''CMD+SHIFT+Z'': ''redo'',\n        ''TAB'':
    ''tab'',\n        ''SHIFT+TAB'': ''untab'',\n        ''CMD+B'': ''bold'',\n        ''CMD+I'':
    ''italic'',\n        ''CMD+U'': ''underline'',\n        ''CMD+SHIFT+S'': ''strikethrough'',\n        ''CMD+BACKSLASH'':
    ''removeFormat'',\n        ''CMD+SHIFT+L'': ''justifyLeft'',\n        ''CMD+SHIFT+E'':
    ''justifyCenter'',\n        ''CMD+SHIFT+R'': ''justifyRight'',\n        ''CMD+SHIFT+J'':
    ''justifyFull'',\n        ''CMD+SHIFT+NUM7'': ''insertUnorderedList'',\n        ''CMD+SHIFT+NUM8'':
    ''insertOrderedList'',\n        ''CMD+LEFTBRACKET'': ''outdent'',\n        ''CMD+RIGHTBRACKET'':
    ''indent'',\n        ''CMD+NUM0'': ''formatPara'',\n        ''CMD+NUM1'': ''formatH1'',\n        ''CMD+NUM2'':
    ''formatH2'',\n        ''CMD+NUM3'': ''formatH3'',\n        ''CMD+NUM4'': ''formatH4'',\n        ''CMD+NUM5'':
    ''formatH5'',\n        ''CMD+NUM6'': ''formatH6'',\n        ''CMD+ENTER'': ''insertHorizontalRule'',\n        ''CMD+K'':
    ''linkDialog.show'',\n      },\n    },\n    icons: {\n      ''align'': ''note-icon-align'',\n      ''alignCenter'':
    ''note-icon-align-center'',\n      ''alignJustify'': ''note-icon-align-justify'',\n      ''alignLeft'':
    ''note-icon-align-left'',\n      ''alignRight'': ''note-icon-align-right'',\n      ''rowBelow'':
    ''note-icon-row-below'',\n      ''colBefore'': ''note-icon-col-before'',\n      ''colAfter'':
    ''note-icon-col-after'',\n      ''rowAbove'': ''note-icon-row-above'',\n      ''rowRemove'':
    ''note-icon-row-remove'',\n      ''colRemove'': ''note-icon-col-remove'',\n      ''indent'':
    ''note-icon-align-indent'',\n      ''outdent'': ''note-icon-align-outdent'',\n      ''arrowsAlt'':
    ''note-icon-arrows-alt'',\n      ''bold'': ''note-icon-bold'',\n      ''caret'':
    ''note-icon-caret'',\n      ''circle'': ''note-icon-circle'',\n      ''close'':
    ''note-icon-close'',\n      ''code'': ''note-icon-code'',\n      ''eraser'': ''note-icon-eraser'',\n      ''floatLeft'':
    ''note-icon-float-left'',\n      ''floatRight'': ''note-icon-float-right'',\n      ''font'':
    ''note-icon-font'',\n      ''frame'': ''note-icon-frame'',\n      ''italic'':
    ''note-icon-italic'',\n      ''link'': ''note-icon-link'',\n      ''unlink'':
    ''note-icon-chain-broken'',\n      ''magic'': ''note-icon-magic'',\n      ''menuCheck'':
    ''note-icon-menu-check'',\n      ''minus'': ''note-icon-minus'',\n      ''orderedlist'':
    ''note-icon-orderedlist'',\n      ''pencil'': ''note-icon-pencil'',\n      ''picture'':
    ''note-icon-picture'',\n      ''question'': ''note-icon-question'',\n      ''redo'':
    ''note-icon-redo'',\n      ''rollback'': ''note-icon-rollback'',\n      ''square'':
    ''note-icon-square'',\n      ''strikethrough'': ''note-icon-strikethrough'',\n      ''subscript'':
    ''note-icon-subscript'',\n      ''superscript'': ''note-icon-superscript'',\n      ''table'':
    ''note-icon-table'',\n      ''textHeight'': ''note-icon-text-height'',\n      ''trash'':
    ''note-icon-trash'',\n      ''underline'': ''note-icon-underline'',\n      ''undo'':
    ''note-icon-undo'',\n      ''unorderedlist'': ''note-icon-unorderedlist'',\n      ''video'':
    ''note-icon-video'',\n    },\n  },\n});\n","import $ from ''jquery'';\n\nclass
    TooltipUI {\n  constructor($node, options) {\n    this.$node = $node;\n    this.options
    = $.extend({}, {\n      title: '''',\n      target: options.container,\n      trigger:
    ''hover focus'',\n      placement: ''bottom'',\n    }, options);\n\n    // create
    tooltip node\n    this.$tooltip = $([\n      ''<div class=\"note-tooltip\">'',\n        ''<div
    class=\"note-tooltip-arrow\"></div>'',\n        ''<div class=\"note-tooltip-content\"></div>'',\n      ''</div>'',\n    ].join(''''));\n\n    //
    define event\n    if (this.options.trigger !== ''manual'') {\n      const showCallback
    = this.show.bind(this);\n      const hideCallback = this.hide.bind(this);\n      const
    toggleCallback = this.toggle.bind(this);\n\n      this.options.trigger.split(''
    '').forEach(function(eventName) {\n        if (eventName === ''hover'') {\n          $node.off(''mouseenter
    mouseleave'');\n          $node.on(''mouseenter'', showCallback).on(''mouseleave'',
    hideCallback);\n        } else if (eventName === ''click'') {\n          $node.on(''click'',
    toggleCallback);\n        } else if (eventName === ''focus'') {\n          $node.on(''focus'',
    showCallback).on(''blur'', hideCallback);\n        }\n      });\n    }\n  }\n\n  show()
    {\n    const $node = this.$node;\n    const offset = $node.offset();\n    const
    targetOffset = $(this.options.target).offset();\n    offset.top -= targetOffset.top;\n    offset.left
    -= targetOffset.left;\n\n    const $tooltip = this.$tooltip;\n    const title
    = this.options.title || $node.attr(''title'') || $node.data(''title'');\n    const
    placement = this.options.placement || $node.data(''placement'');\n\n    $tooltip.addClass(placement);\n    $tooltip.find(''.note-tooltip-content'').text(title);\n    $tooltip.appendTo(this.options.target);\n\n    const
    nodeWidth = $node.outerWidth();\n    const nodeHeight = $node.outerHeight();\n    const
    tooltipWidth = $tooltip.outerWidth();\n    const tooltipHeight = $tooltip.outerHeight();\n\n    if
    (placement === ''bottom'') {\n      $tooltip.css({\n        top: offset.top +
    nodeHeight,\n        left: offset.left + (nodeWidth / 2 - tooltipWidth / 2),\n      });\n    }
    else if (placement === ''top'') {\n      $tooltip.css({\n        top: offset.top
    - tooltipHeight,\n        left: offset.left + (nodeWidth / 2 - tooltipWidth /
    2),\n      });\n    } else if (placement === ''left'') {\n      $tooltip.css({\n        top:
    offset.top + (nodeHeight / 2 - tooltipHeight / 2),\n        left: offset.left
    - tooltipWidth,\n      });\n    } else if (placement === ''right'') {\n      $tooltip.css({\n        top:
    offset.top + (nodeHeight / 2 - tooltipHeight / 2),\n        left: offset.left
    + nodeWidth,\n      });\n    }\n\n    $tooltip.addClass(''in'');\n  }\n\n  hide()
    {\n    this.$tooltip.removeClass(''in'');\n    setTimeout(() => {\n      this.$tooltip.remove();\n    },
    200);\n  }\n\n  toggle() {\n    if (this.$tooltip.hasClass(''in'')) {\n      this.hide();\n    }
    else {\n      this.show();\n    }\n  }\n}\n\nexport default TooltipUI;\n","import
    $ from ''jquery'';\n\nclass DropdownUI {\n  constructor($node, options) {\n    this.$button
    = $node;\n    this.options = $.extend({}, {\n      target: options.container,\n    },
    options);\n    this.setEvent();\n  }\n\n  setEvent() {\n    this.$button.on(''click'',
    (e) => {\n      this.toggle();\n      e.stopImmediatePropagation();\n    });\n  }\n\n  clear()
    {\n    var $parent = $(''.note-btn-group.open'');\n    $parent.find(''.note-btn.active'').removeClass(''active'');\n    $parent.removeClass(''open'');\n  }\n\n  show()
    {\n    this.$button.addClass(''active'');\n    this.$button.parent().addClass(''open'');\n\n    var
    $dropdown = this.$button.next();\n    var offset = $dropdown.offset();\n    var
    width = $dropdown.outerWidth();\n    var windowWidth = $(window).width();\n    var
    targetMarginRight = parseFloat($(this.options.target).css(''margin-right''));\n\n    if
    (offset.left + width > windowWidth - targetMarginRight) {\n      $dropdown.css(''margin-left'',
    windowWidth - targetMarginRight - (offset.left + width));\n    } else {\n      $dropdown.css(''margin-left'',
    '''');\n    }\n  }\n\n  hide() {\n    this.$button.removeClass(''active'');\n    this.$button.parent().removeClass(''open'');\n  }\n\n  toggle()
    {\n    var isOpened = this.$button.parent().hasClass(''open'');\n\n    this.clear();\n\n    if
    (isOpened) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n}\n\n$(document).on(''click'',
    function(e) {\n  if (!$(e.target).closest(''.note-btn-group'').length) {\n    $(''.note-btn-group.open'').removeClass(''open'');\n    $(''.note-btn-group
    .note-btn.active'').removeClass(''active'');\n  }\n});\n\n$(document).on(''click.note-dropdown-menu'',
    function(e) {\n  $(e.target).closest(''.note-dropdown-menu'').parent().removeClass(''open'');\n  $(e.target).closest(''.note-dropdown-menu'').parent().find(''.note-btn.active'').removeClass(''active'');\n});\n\nexport
    default DropdownUI;\n","import $ from ''jquery'';\n\nclass ModalUI {\n  constructor($node
    /*, options */) {\n    this.$modal = $node;\n    this.$backdrop = $(''<div class=\"note-modal-backdrop\"/>'');\n  }\n\n  show()
    {\n    this.$backdrop.appendTo(document.body).show();\n    this.$modal.addClass(''open'').show();\n    this.$modal.trigger(''note.modal.show'');\n    this.$modal.off(''click'',
    ''.close'').on(''click'', ''.close'', this.hide.bind(this));\n    this.$modal.on(''keydown'',
    (event) => {\n      if (event.which === 27) {\n        event.preventDefault();\n        this.hide();\n      }\n    });\n  }\n\n  hide()
    {\n    this.$modal.removeClass(''open'').hide();\n    this.$backdrop.hide();\n    this.$modal.trigger(''note.modal.hide'');\n    this.$modal.off(''keydown'');\n  }\n}\n\nexport
    default ModalUI;\n","import $ from ''jquery'';\nimport renderer from ''../base/renderer'';\nimport
    TooltipUI from ''./ui/TooltipUI'';\nimport DropdownUI from ''./ui/DropdownUI'';\nimport
    ModalUI from ''./ui/ModalUI'';\n\nconst editor = renderer.create(''<div class=\"note-editor
    note-frame\"/>'');\nconst toolbar = renderer.create(''<div class=\"note-toolbar\"
    role=\"toolbar\"/>'');\nconst editingArea = renderer.create(''<div class=\"note-editing-area\"/>'');\nconst
    codable = renderer.create(''<textarea class=\"note-codable\" aria-multiline=\"true\"/>'');\nconst
    editable = renderer.create(''<div class=\"note-editable\" contentEditable=\"true\"
    role=\"textbox\" aria-multiline=\"true\"/>'');\nconst statusbar = renderer.create([\n  ''<output
    class=\"note-status-output\" role=\"status\" aria-live=\"polite\"></output>'',\n  ''<div
    class=\"note-statusbar\" role=\"status\">'',\n    ''<div class=\"note-resizebar\"
    aria-label=\"resize\">'',\n      ''<div class=\"note-icon-bar\"></div>'',\n      ''<div
    class=\"note-icon-bar\"></div>'',\n      ''<div class=\"note-icon-bar\"></div>'',\n    ''</div>'',\n  ''</div>'',\n].join(''''));\n\nconst
    airEditor = renderer.create(''<div class=\"note-editor note-airframe\"/>'');\nconst
    airEditable = renderer.create([\n  ''<div class=\"note-editable\" contentEditable=\"true\"
    role=\"textbox\" aria-multiline=\"true\"></div>'',\n  ''<output class=\"note-status-output\"
    role=\"status\" aria-live=\"polite\"></output>'',\n].join(''''));\n\nconst buttonGroup
    = renderer.create(''<div class=\"note-btn-group\">'');\nconst button = renderer.create(''<button
    type=\"button\" class=\"note-btn\" tabindex=\"-1\">'', function($node, options)
    {\n  // set button type\n  if (options && options.tooltip) {\n    $node.attr({\n      ''aria-label'':
    options.tooltip,\n    });\n    $node.data(''_lite_tooltip'', new TooltipUI($node,
    {\n      title: options.tooltip,\n      container: options.container,\n    })).on(''click'',
    (e) => {\n      $(e.currentTarget).data(''_lite_tooltip'').hide();\n    });\n  }\n  if
    (options.contents) {\n    $node.html(options.contents);\n  }\n\n  if (options
    && options.data && options.data.toggle === ''dropdown'') {\n    $node.data(''_lite_dropdown'',
    new DropdownUI($node, {\n      container: options.container,\n    }));\n  }\n\n  if
    (options && options.codeviewKeepButton) {\n    $node.addClass(''note-codeview-keep'');\n  }\n});\n\nconst
    dropdown = renderer.create(''<div class=\"note-dropdown-menu\" role=\"list\">'',
    function($node, options) {\n  const markup = Array.isArray(options.items) ? options.items.map(function(item)
    {\n    const value = (typeof item === ''string'') ? item : (item.value || '''');\n    const
    content = options.template ? options.template(item) : item;\n    const $temp =
    $(''<a class=\"note-dropdown-item\" href=\"#\" data-value=\"'' + value + ''\"
    role=\"listitem\" aria-label=\"'' + value + ''\"></a>'');\n\n    $temp.html(content).data(''item'',
    item);\n\n    return $temp;\n  }) : options.items;\n\n  $node.html(markup).attr({
    ''aria-label'': options.title });\n\n  $node.on(''click'', ''> .note-dropdown-item'',
    function(e) {\n    const $a = $(this);\n\n    const item = $a.data(''item'');\n    const
    value = $a.data(''value'');\n\n    if (item.click) {\n      item.click($a);\n    }
    else if (options.itemClick) {\n      options.itemClick(e, item, value);\n    }\n  });\n  if
    (options && options.codeviewKeepButton) {\n    $node.addClass(''note-codeview-keep'');\n  }\n});\n\nconst
    dropdownCheck = renderer.create(''<div class=\"note-dropdown-menu note-check\"
    role=\"list\">'', function($node, options) {\n  const markup = Array.isArray(options.items)
    ? options.items.map(function(item) {\n    const value = (typeof item === ''string'')
    ? item : (item.value || '''');\n    const content = options.template ? options.template(item)
    : item;\n\n    const $temp = $(''<a class=\"note-dropdown-item\" href=\"#\" data-value=\"''
    + value + ''\" role=\"listitem\" aria-label=\"'' + item + ''\"></a>'');\n    $temp.html([icon(options.checkClassName),
    '' '', content]).data(''item'', item);\n    return $temp;\n  }) : options.items;\n\n  $node.html(markup).attr({
    ''aria-label'': options.title });\n\n  $node.on(''click'', ''> .note-dropdown-item'',
    function(e) {\n    const $a = $(this);\n\n    const item = $a.data(''item'');\n    const
    value = $a.data(''value'');\n\n    if (item.click) {\n      item.click($a);\n    }
    else if (options.itemClick) {\n      options.itemClick(e, item, value);\n    }\n  });\n  if
    (options && options.codeviewKeepButton) {\n    $node.addClass(''note-codeview-keep'');\n  }\n});\n\nconst
    dropdownButtonContents = function(contents, options) {\n  return contents + ''
    '' + icon(options.icons.caret, ''span'');\n};\n\nconst dropdownButton = function(opt,
    callback) {\n  return buttonGroup([\n    button({\n      className: ''dropdown-toggle'',\n      contents:
    opt.title + '' '' + icon(''note-icon-caret''),\n      tooltip: opt.tooltip,\n      data:
    {\n        toggle: ''dropdown'',\n      },\n    }),\n    dropdown({\n      className:
    opt.className,\n      items: opt.items,\n      template: opt.template,\n      itemClick:
    opt.itemClick,\n    }),\n  ], { callback: callback }).render();\n};\n\nconst dropdownCheckButton
    = function(opt, callback) {\n  return buttonGroup([\n    button({\n      className:
    ''dropdown-toggle'',\n      contents: opt.title + '' '' + icon(''note-icon-caret''),\n      tooltip:
    opt.tooltip,\n      data: {\n        toggle: ''dropdown'',\n      },\n    }),\n    dropdownCheck({\n      className:
    opt.className,\n      checkClassName: opt.checkClassName,\n      items: opt.items,\n      template:
    opt.template,\n      itemClick: opt.itemClick,\n    }),\n  ], { callback: callback
    }).render();\n};\n\nconst paragraphDropdownButton = function(opt) {\n  return
    buttonGroup([\n    button({\n      className: ''dropdown-toggle'',\n      contents:
    opt.title + '' '' + icon(''note-icon-caret''),\n      tooltip: opt.tooltip,\n      data:
    {\n        toggle: ''dropdown'',\n      },\n    }),\n    dropdown([\n      buttonGroup({\n        className:
    ''note-align'',\n        children: opt.items[0],\n      }),\n      buttonGroup({\n        className:
    ''note-list'',\n        children: opt.items[1],\n      }),\n    ]),\n  ]).render();\n};\n\nconst
    tableMoveHandler = function(event, col, row) {\n  const PX_PER_EM = 18;\n  const
    $picker = $(event.target.parentNode); // target is mousecatcher\n  const $dimensionDisplay
    = $picker.next();\n  const $catcher = $picker.find(''.note-dimension-picker-mousecatcher'');\n  const
    $highlighted = $picker.find(''.note-dimension-picker-highlighted'');\n  const
    $unhighlighted = $picker.find(''.note-dimension-picker-unhighlighted'');\n\n  let
    posOffset;\n  // HTML5 with jQuery - e.offsetX is undefined in Firefox\n  if (event.offsetX
    === undefined) {\n    const posCatcher = $(event.target).offset();\n    posOffset
    = {\n      x: event.pageX - posCatcher.left,\n      y: event.pageY - posCatcher.top,\n    };\n  }
    else {\n    posOffset = {\n      x: event.offsetX,\n      y: event.offsetY,\n    };\n  }\n\n  const
    dim = {\n    c: Math.ceil(posOffset.x / PX_PER_EM) || 1,\n    r: Math.ceil(posOffset.y
    / PX_PER_EM) || 1,\n  };\n\n  $highlighted.css({ width: dim.c + ''em'', height:
    dim.r + ''em'' });\n  $catcher.data(''value'', dim.c + ''x'' + dim.r);\n\n  if
    (dim.c > 3 && dim.c < col) {\n    $unhighlighted.css({ width: dim.c + 1 + ''em''
    });\n  }\n\n  if (dim.r > 3 && dim.r < row) {\n    $unhighlighted.css({ height:
    dim.r + 1 + ''em'' });\n  }\n\n  $dimensionDisplay.html(dim.c + '' x '' + dim.r);\n};\n\nconst
    tableDropdownButton = function(opt) {\n  return buttonGroup([\n    button({\n      className:
    ''dropdown-toggle'',\n      contents: opt.title + '' '' + icon(''note-icon-caret''),\n      tooltip:
    opt.tooltip,\n      data: {\n        toggle: ''dropdown'',\n      },\n    }),\n    dropdown({\n      className:
    ''note-table'',\n      items: [\n        ''<div class=\"note-dimension-picker\">'',\n          ''<div
    class=\"note-dimension-picker-mousecatcher\" data-event=\"insertTable\" data-value=\"1x1\"></div>'',\n          ''<div
    class=\"note-dimension-picker-highlighted\"></div>'',\n          ''<div class=\"note-dimension-picker-unhighlighted\"></div>'',\n        ''</div>'',\n        ''<div
    class=\"note-dimension-display\">1 x 1</div>'',\n      ].join(''''),\n    }),\n  ],
    {\n    callback: function($node) {\n      const $catcher = $node.find(''.note-dimension-picker-mousecatcher'');\n      $catcher.css({\n        width:
    opt.col + ''em'',\n        height: opt.row + ''em'',\n      })\n        .mousedown(opt.itemClick)\n        .mousemove(function(e)
    {\n          tableMoveHandler(e, opt.col, opt.row);\n        });\n    },\n  }).render();\n};\n\nconst
    palette = renderer.create(''<div class=\"note-color-palette\"/>'', function($node,
    options) {\n  const contents = [];\n  for (let row = 0, rowSize = options.colors.length;
    row < rowSize; row++) {\n    const eventName = options.eventName;\n    const colors
    = options.colors[row];\n    const colorsName = options.colorsName[row];\n    const
    buttons = [];\n    for (let col = 0, colSize = colors.length; col < colSize; col++)
    {\n      const color = colors[col];\n      const colorName = colorsName[col];\n      buttons.push([\n        ''<button
    type=\"button\" class=\"note-btn note-color-btn\"'',\n        ''style=\"background-color:'',
    color, ''\" '',\n        ''data-event=\"'', eventName, ''\" '',\n        ''data-value=\"'',
    color, ''\" '',\n        ''data-title=\"'', colorName, ''\" '',\n        ''aria-label=\"'',
    colorName, ''\" '',\n        ''data-toggle=\"button\" tabindex=\"-1\"></button>'',\n      ].join(''''));\n    }\n    contents.push(''<div
    class=\"note-color-row\">'' + buttons.join('''') + ''</div>'');\n  }\n  $node.html(contents.join(''''));\n\n  $node.find(''.note-color-btn'').each(function()
    {\n    $(this).data(''_lite_tooltip'', new TooltipUI($(this), {\n      container:
    options.container,\n    }));\n  });\n});\n\nconst colorDropdownButton = function(opt,
    type) {\n  return buttonGroup({\n    className: ''note-color'',\n    children:
    [\n      button({\n        className: ''note-current-color-button'',\n        contents:
    opt.title,\n        tooltip: opt.lang.color.recent,\n        click: opt.currentClick,\n        callback:
    function($button) {\n          const $recentColor = $button.find(''.note-recent-color'');\n\n          if
    (type !== ''foreColor'') {\n            $recentColor.css(''background-color'',
    ''#FFFF00'');\n            $button.attr(''data-backColor'', ''#FFFF00'');\n          }\n        },\n      }),\n      button({\n        className:
    ''dropdown-toggle'',\n        contents: icon(''note-icon-caret''),\n        tooltip:
    opt.lang.color.more,\n        data: {\n          toggle: ''dropdown'',\n        },\n      }),\n      dropdown({\n        items:
    [\n          ''<div>'',\n            ''<div class=\"note-btn-group btn-background-color\">'',\n              ''<div
    class=\"note-palette-title\">'' + opt.lang.color.background + ''</div>'',\n            ''<div>'',\n            ''<button
    type=\"button\" class=\"note-color-reset note-btn note-btn-block\" data-event=\"backColor\"
    data-value=\"transparent\">'',\n              opt.lang.color.transparent,\n            ''</button>'',\n          ''</div>'',\n          ''<div
    class=\"note-holder\" data-event=\"backColor\"></div>'',\n            ''<div class=\"btn-sm\">'',\n              ''<input
    type=\"color\" id=\"html5bcp\" class=\"note-btn btn-default\" value=\"#21104A\"
    style=\"width:100%;\" data-value=\"cp\">'',\n              ''<button type=\"button\"
    class=\"note-color-reset btn\" data-event=\"backColor\" data-value=\"cpbackColor\">'',\n                opt.lang.color.cpSelect,\n              ''</button>'',\n            ''</div>'',\n          ''</div>'',\n          ''<div
    class=\"note-btn-group btn-foreground-color\">'',\n            ''<div class=\"note-palette-title\">''
    + opt.lang.color.foreground + ''</div>'',\n            ''<div>'',\n              ''<button
    type=\"button\" class=\"note-color-reset note-btn note-btn-block\" data-event=\"removeFormat\"
    data-value=\"foreColor\">'',\n                opt.lang.color.resetToDefault,\n              ''</button>'',\n            ''</div>'',\n            ''<div
    class=\"note-holder\" data-event=\"foreColor\"></div>'',\n              ''<div
    class=\"btn-sm\">'',\n                ''<input type=\"color\" id=\"html5fcp\"
    class=\"note-btn btn-default\" value=\"#21104A\" style=\"width:100%;\" data-value=\"cp\">'',\n                ''<button
    type=\"button\" class=\"note-color-reset btn\" data-event=\"foreColor\" data-value=\"cpforeColor\">'',\n                  opt.lang.color.cpSelect,\n                ''</button>'',\n              ''</div>'',\n            ''</div>'',\n          ''</div>'',\n        ].join(''''),\n        callback:
    function($dropdown) {\n          $dropdown.find(''.note-holder'').each(function()
    {\n            const $holder = $(this);\n            $holder.append(palette({\n              colors:
    opt.colors,\n              eventName: $holder.data(''event''),\n            }).render());\n          });\n\n          if
    (type === ''fore'') {\n            $dropdown.find(''.btn-background-color'').hide();\n            $dropdown.css({
    ''min-width'': ''210px'' });\n          } else if (type === ''back'') {\n            $dropdown.find(''.btn-foreground-color'').hide();\n            $dropdown.css({
    ''min-width'': ''210px'' });\n          }\n        },\n        click: function(event)
    {\n          const $button = $(event.target);\n          const eventName = $button.data(''event'');\n          let
    value = $button.data(''value'');\n          const foreinput = document.getElementById(''html5fcp'').value;\n          const
    backinput = document.getElementById(''html5bcp'').value;\n          if (value
    === ''cp'') {\n            event.stopPropagation();\n          } else if (value
    === ''cpbackColor'') {\n            value = backinput;\n          } else if (value
    === ''cpforeColor'') {\n            value = foreinput;\n          }\n\n          if
    (eventName && value) {\n            const key = eventName === ''backColor'' ?
    ''background-color'' : ''color'';\n            const $color = $button.closest(''.note-color'').find(''.note-recent-color'');\n            const
    $currentButton = $button.closest(''.note-color'').find(''.note-current-color-button'');\n\n            $color.css(key,
    value);\n            $currentButton.attr(''data-'' + eventName, value);\n\n            if
    (type === ''fore'') {\n              opt.itemClick(''foreColor'', value);\n            }
    else if (type === ''back'') {\n              opt.itemClick(''backColor'', value);\n            }
    else {\n              opt.itemClick(eventName, value);\n            }\n          }\n        },\n      }),\n    ],\n  }).render();\n};\n\nconst
    dialog = renderer.create(''<div class=\"note-modal\" aria-hidden=\"false\" tabindex=\"-1\"
    role=\"dialog\"/>'', function($node, options) {\n  if (options.fade) {\n    $node.addClass(''fade'');\n  }\n  $node.attr({\n    ''aria-label'':
    options.title,\n  });\n  $node.html([\n    ''<div class=\"note-modal-content\">'',\n      (options.title
    ? ''<div class=\"note-modal-header\"><button type=\"button\" class=\"close\" aria-label=\"Close\"
    aria-hidden=\"true\"><i class=\"note-icon-close\"></i></button><h4 class=\"note-modal-title\">''
    + options.title + ''</h4></div>'' : ''''),\n      ''<div class=\"note-modal-body\">''
    + options.body + ''</div>'',\n      (options.footer ? ''<div class=\"note-modal-footer\">''
    + options.footer + ''</div>'' : ''''),\n    ''</div>'',\n  ].join(''''));\n\n  $node.data(''modal'',
    new ModalUI($node, options));\n});\n\nconst videoDialog = function(opt) {\n  const
    body = ''<div class=\"note-form-group\">'' +\n    ''<label for=\"note-dialog-video-url-''
    + opt.id + ''\" class=\"note-form-label\">'' + opt.lang.video.url + '' <small
    class=\"text-muted\">'' + opt.lang.video.providers + ''</small></label>'' +\n    ''<input
    id=\"note-dialog-video-url-'' + opt.id + ''\" class=\"note-video-url note-input\"
    type=\"text\"/>'' +\n  ''</div>'';\n  const footer = [\n    ''<button type=\"button\"
    href=\"#\" class=\"note-btn note-btn-primary note-video-btn disabled\" disabled>'',\n      opt.lang.video.insert,\n    ''</button>'',\n  ].join('''');\n\n  return
    dialog({\n    title: opt.lang.video.insert,\n    fade: opt.fade,\n    body: body,\n    footer:
    footer,\n  }).render();\n};\n\nconst imageDialog = function(opt) {\n  const body
    = ''<div class=\"note-form-group note-group-select-from-files\">'' +\n    ''<label
    for=\"note-dialog-image-file-'' + opt.id + ''\" class=\"note-form-label\">'' +
    opt.lang.image.selectFromFiles + ''</label>'' +\n    ''<input id=\"note-dialog-image-file-''
    + opt.id + ''\" class=\"note-note-image-input note-input\" type=\"file\" name=\"files\"
    accept=\"image/*\" multiple=\"multiple\"/>'' +\n    opt.imageLimitation +\n  ''</div>''
    +\n  ''<div class=\"note-form-group\">'' +\n    ''<label for=\"note-dialog-image-url-''
    + opt.id + ''\" class=\"note-form-label\">'' + opt.lang.image.url + ''</label>''
    +\n    ''<input id=\"note-dialog-image-url-'' + opt.id + ''\" class=\"note-image-url
    note-input\" type=\"text\"/>'' +\n  ''</div>'';\n  const footer = [\n    ''<button
    href=\"#\" type=\"button\" class=\"note-btn note-btn-primary note-btn-large note-image-btn
    disabled\" disabled>'',\n      opt.lang.image.insert,\n    ''</button>'',\n  ].join('''');\n\n  return
    dialog({\n    title: opt.lang.image.insert,\n    fade: opt.fade,\n    body: body,\n    footer:
    footer,\n  }).render();\n};\n\nconst linkDialog = function(opt) {\n  const body
    = ''<div class=\"note-form-group\">'' +\n    ''<label for=\"note-dialog-link-txt-''
    + opt.id + ''\" class=\"note-form-label\">'' + opt.lang.link.textToDisplay + ''</label>''
    +\n    ''<input id=\"note-dialog-link-txt-'' + opt.id + ''\" class=\"note-link-text
    note-input\" type=\"text\"/>'' +\n  ''</div>'' +\n  ''<div class=\"note-form-group\">''
    +\n    ''<label for=\"note-dialog-link-url-'' + opt.id + ''\" class=\"note-form-label\">''
    + opt.lang.link.url + ''</label>'' +\n    ''<input id=\"note-dialog-link-url-''
    + opt.id + ''\" class=\"note-link-url note-input\" type=\"text\" value=\"http://\"/>''
    +\n  ''</div>'' +\n  (!opt.disableLinkTarget ? ''<div class=\"checkbox\"><label
    for=\"note-dialog-link-nw-'' + opt.id + ''\"><input id=\"note-dialog-link-nw-''
    + opt.id + ''\" type=\"checkbox\" checked> '' + opt.lang.link.openInNewWindow
    + ''</label></div>'' : '''') +\n  ''<div class=\"checkbox\"><label for=\"note-dialog-link-up-''
    + opt.id + ''\"><input id=\"note-dialog-link-up-'' + opt.id + ''\" type=\"checkbox\"
    checked> '' + opt.lang.link.useProtocol + ''</label></div>'';\n  const footer
    = [\n    ''<button href=\"#\" type=\"button\" class=\"note-btn note-btn-primary
    note-link-btn disabled\" disabled>'',\n      opt.lang.link.insert,\n    ''</button>'',\n  ].join('''');\n\n  return
    dialog({\n    className: ''link-dialog'',\n    title: opt.lang.link.insert,\n    fade:
    opt.fade,\n    body: body,\n    footer: footer,\n  }).render();\n};\n\nconst popover
    = renderer.create([\n  ''<div class=\"note-popover bottom\">'',\n    ''<div class=\"note-popover-arrow\"></div>'',\n    ''<div
    class=\"popover-content note-children-container\"></div>'',\n  ''</div>'',\n].join(''''),
    function($node, options) {\n  const direction = typeof options.direction !== ''undefined''
    ? options.direction : ''bottom'';\n\n  $node.addClass(direction).hide();\n\n  if
    (options.hideArrow) {\n    $node.find(''.note-popover-arrow'').hide();\n  }\n});\n\nconst
    checkbox = renderer.create(''<div class=\"checkbox\"></div>'', function($node,
    options) {\n  $node.html([\n    ''<label'' + (options.id ? '' for=\"note-'' +
    options.id + ''\"'' : '''') + ''>'',\n      ''<input role=\"checkbox\" type=\"checkbox\"''
    + (options.id ? '' id=\"note-'' + options.id + ''\"'' : ''''),\n      (options.checked
    ? '' checked'' : ''''),\n      '' aria-checked=\"'' + (options.checked ? ''true''
    : ''false'') + ''\"/>'',\n      (options.text ? options.text : ''''),\n    ''</label>'',\n  ].join(''''));\n});\n\nconst
    icon = function(iconClassName, tagName) {\n  tagName = tagName || ''i'';\n  return
    ''<'' + tagName + '' class=\"'' + iconClassName + ''\"/>'';\n};\n\nconst ui =
    function(editorOptions) {\n  return {\n    editor: editor,\n    toolbar: toolbar,\n    editingArea:
    editingArea,\n    codable: codable,\n    editable: editable,\n    statusbar: statusbar,\n    airEditor:
    airEditor,\n    airEditable: airEditable,\n    buttonGroup: buttonGroup,\n    button:
    button,\n    dropdown: dropdown,\n    dropdownCheck: dropdownCheck,\n    dropdownButton:
    dropdownButton,\n    dropdownButtonContents: dropdownButtonContents,\n    dropdownCheckButton:
    dropdownCheckButton,\n    paragraphDropdownButton: paragraphDropdownButton,\n    tableDropdownButton:
    tableDropdownButton,\n    colorDropdownButton: colorDropdownButton,\n    palette:
    palette,\n    dialog: dialog,\n    videoDialog: videoDialog,\n    imageDialog:
    imageDialog,\n    linkDialog: linkDialog,\n    popover: popover,\n    checkbox:
    checkbox,\n    icon: icon,\n    options: editorOptions,\n\n    toggleBtn: function($btn,
    isEnable) {\n      $btn.toggleClass(''disabled'', !isEnable);\n      $btn.attr(''disabled'',
    !isEnable);\n    },\n\n    toggleBtnActive: function($btn, isActive) {\n      $btn.toggleClass(''active'',
    isActive);\n    },\n\n    check: function($dom, value) {\n      $dom.find(''.checked'').removeClass(''checked'');\n      $dom.find(''[data-value=\"''
    + value + ''\"]'').addClass(''checked'');\n    },\n\n    onDialogShown: function($dialog,
    handler) {\n      $dialog.one(''note.modal.show'', handler);\n    },\n\n    onDialogHidden:
    function($dialog, handler) {\n      $dialog.one(''note.modal.hide'', handler);\n    },\n\n    showDialog:
    function($dialog) {\n      $dialog.data(''modal'').show();\n    },\n\n    hideDialog:
    function($dialog) {\n      $dialog.data(''modal'').hide();\n    },\n\n    /**\n     *
    get popover content area\n     *\n     * @param $popover\n     * @returns {*}\n     */\n    getPopoverContent:
    function($popover) {\n      return $popover.find(''.note-popover-content'');\n    },\n\n    /**\n     *
    get dialog''s body area\n     *\n     * @param $dialog\n     * @returns {*}\n     */\n    getDialogBody:
    function($dialog) {\n      return $dialog.find(''.note-modal-body'');\n    },\n\n    createLayout:
    function($note) {\n      const $editor = (editorOptions.airMode ? airEditor([\n        editingArea([\n          codable(),\n          airEditable(),\n        ]),\n      ])
    : (editorOptions.toolbarPosition === ''bottom''\n        ? editor([\n          editingArea([\n            codable(),\n            editable(),\n          ]),\n          toolbar(),\n          statusbar(),\n        ])\n        :
    editor([\n          toolbar(),\n          editingArea([\n            codable(),\n            editable(),\n          ]),\n          statusbar(),\n        ])\n      )).render();\n\n      $editor.insertAfter($note);\n\n      return
    {\n        note: $note,\n        editor: $editor,\n        toolbar: $editor.find(''.note-toolbar''),\n        editingArea:
    $editor.find(''.note-editing-area''),\n        editable: $editor.find(''.note-editable''),\n        codable:
    $editor.find(''.note-codable''),\n        statusbar: $editor.find(''.note-statusbar''),\n      };\n    },\n\n    removeLayout:
    function($note, layoutInfo) {\n      $note.html(layoutInfo.editable.html());\n      layoutInfo.editor.remove();\n      $note.off(''summernote'');
    // remove summernote custom event\n      $note.show();\n    },\n  };\n};\n\nexport
    default ui;\n","import $ from ''jquery'';\nimport ui from ''./ui'';\nimport ''../base/settings.js'';\n\nimport
    ''../../styles/summernote-lite.scss'';\n\n$.summernote = $.extend($.summernote,
    {\n  ui_template: ui,\n  interface: ''lite'',\n});\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}'
  uploads-admin-Public-Admin-plugins-summernote-summernote-lite.min.js: |-
    /*! For license information please see summernote-lite.min.js.LICENSE.txt */
    !function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],e);else{var n="object"==typeof exports?e(require("jquery")):e(t.jQuery);for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(window,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=51)}({0:function(e,n){e.exports=t},1:function(t,e,n){"use strict";var o=n(0),i=n.n(o);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(e,n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.markup=e,this.children=n,this.options=o,this.callback=i}var e,n,o;return e=t,(n=[{key:"render",value:function(t){var e=i()(this.markup);if(this.options&&this.options.contents&&e.html(this.options.contents),this.options&&this.options.className&&e.addClass(this.options.className),this.options&&this.options.data&&i.a.each(this.options.data,(function(t,n){e.attr("data-"+t,n)})),this.options&&this.options.click&&e.on("click",this.options.click),this.children){var n=e.find(".note-children-container");this.children.forEach((function(t){t.render(n.length?n:e)}))}return this.callback&&this.callback(e,this.options),this.options&&this.options.callback&&this.options.callback(e),t&&t.append(e),e}}])&&a(e.prototype,n),o&&a(e,o),t}();e.a={create:function(t,e){return function(){var n="object"===r(arguments[1])?arguments[1]:arguments[0],o=Array.isArray(arguments[0])?arguments[0]:[];return n&&n.children&&(o=n.children),new s(t,o,n,e)}}}},2:function(t,e){(function(e){t.exports=e}).call(this,{})},3:function(t,e,n){"use strict";var o=n(0),i=n.n(o);i.a.summernote=i.a.summernote||{lang:{}},i.a.extend(i.a.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size",sizeunit:"Font Size Unit"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window",useProtocol:"Use default protocol"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Text Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{escape:"Escape",insertParagraph:"Insert Paragraph",undo:"Undo the last command",redo:"Redo the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"},output:{noSelection:"No Selection Made!"}}});var r="function"==typeof define&&n(2),a=["sans-serif","serif","monospace","cursive","fantasy"];function s(t){return-1===i.a.inArray(t.toLowerCase(),a)?"'".concat(t,"'"):t}var l,c=navigator.userAgent,u=/MSIE|Trident/i.test(c);if(u){var d=/MSIE (\d+[.]\d+)/.exec(c);d&&(l=parseFloat(d[1])),(d=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(c))&&(l=parseFloat(d[1]))}var h=/Edge\/\d+/.test(c),f="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,p=u?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",m={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:u,isEdge:h,isFF:!h&&/firefox/i.test(c),isPhantom:/PhantomJS/i.test(c),isWebkit:!h&&/webkit/i.test(c),isChrome:!h&&/chrome/i.test(c),isSafari:!h&&/safari/i.test(c)&&!/chrome/i.test(c),browserVersion:l,jqueryVersion:parseFloat(i.a.fn.jquery),isSupportAmd:r,isSupportTouch:f,isFontInstalled:function(t){var e="Comic Sans MS"===t?"Courier New":"Comic Sans MS",n=document.createElement("canvas").getContext("2d");n.font="200px '"+e+"'";var o=n.measureText("mmmmmmmmmmwwwww").width;return n.font="200px "+s(t)+', "'+e+'"',o!==n.measureText("mmmmmmmmmmwwwww").width},isW3CRangeSupport:!!document.createRange,inputEventName:p,genericFontFamilies:a,validFontName:s};var v=0;var g={eq:function(t){return function(e){return t===e}},eq2:function(t,e){return t===e},peq2:function(t){return function(e,n){return e[t]===n[t]}},ok:function(){return!0},fail:function(){return!1},self:function(t){return t},not:function(t){return function(){return!t.apply(t,arguments)}},and:function(t,e){return function(n){return t(n)&&e(n)}},invoke:function(t,e){return function(){return t[e].apply(t,arguments)}},resetUniqueId:function(){v=0},uniqueId:function(t){var e=++v+"";return t?t+e:e},rect2bnd:function(t){var e=i()(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},invertObject:function(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[t[n]]=n);return e},namespaceToCamel:function(t,e){return(e=e||"")+t.split(".").map((function(t){return t.substring(0,1).toUpperCase()+t.substring(1)})).join("")},debounce:function(t,e,n){var o;return function(){var i=this,r=arguments,a=function(){o=null,n||t.apply(i,r)},s=n&&!o;clearTimeout(o),o=setTimeout(a,e),s&&t.apply(i,r)}},isValidUrl:function(t){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(t)}};function b(t){return t[0]}function k(t){return t[t.length-1]}function y(t){return t.slice(1)}function w(t,e){if(t&&t.length&&e){if(t.indexOf)return-1!==t.indexOf(e);if(t.contains)return t.contains(e)}return!1}var C={head:b,last:k,initial:function(t){return t.slice(0,t.length-1)},tail:y,prev:function(t,e){if(t&&t.length&&e){var n=t.indexOf(e);return-1===n?null:t[n-1]}return null},next:function(t,e){if(t&&t.length&&e){var n=t.indexOf(e);return-1===n?null:t[n+1]}return null},find:function(t,e){for(var n=0,o=t.length;n<o;n++){var i=t[n];if(e(i))return i}},contains:w,all:function(t,e){for(var n=0,o=t.length;n<o;n++)if(!e(t[n]))return!1;return!0},sum:function(t,e){return e=e||g.self,t.reduce((function(t,n){return t+e(n)}),0)},from:function(t){for(var e=[],n=t.length,o=-1;++o<n;)e[o]=t[o];return e},isEmpty:function(t){return!t||!t.length},clusterBy:function(t,e){return t.length?y(t).reduce((function(t,n){var o=k(t);return e(k(o),n)?o[o.length]=n:t[t.length]=[n],t}),[[b(t)]]):[]},compact:function(t){for(var e=[],n=0,o=t.length;n<o;n++)t[n]&&e.push(t[n]);return e},unique:function(t){for(var e=[],n=0,o=t.length;n<o;n++)w(e,t[n])||e.push(t[n]);return e}},x=String.fromCharCode(160);function S(t){return t&&i()(t).hasClass("note-editable")}function T(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}}function E(t){return t&&3===t.nodeType}function $(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(t.nodeName.toUpperCase())}function N(t){return!S(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))}var I=T("PRE"),P=T("LI");var R=T("TABLE"),L=T("DATA");function A(t){return!(z(t)||F(t)||D(t)||N(t)||R(t)||B(t)||L(t))}function F(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())}var D=T("HR");function H(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())}var B=T("BLOCKQUOTE");function z(t){return H(t)||B(t)||S(t)}var M=T("A");var O=T("BODY");var j=m.isMSIE&&m.browserVersion<11?"&nbsp;":"<br>";function U(t){return E(t)?t.nodeValue.length:t?t.childNodes.length:0}function W(t){var e=U(t);return 0===e||(!E(t)&&1===e&&t.innerHTML===j||!(!C.all(t.childNodes,E)||""!==t.innerHTML))}function K(t){$(t)||U(t)||(t.innerHTML=j)}function V(t,e){for(;t;){if(e(t))return t;if(S(t))break;t=t.parentNode}return null}function q(t,e){e=e||g.fail;var n=[];return V(t,(function(t){return S(t)||n.push(t),e(t)})),n}function _(t,e){e=e||g.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.nextSibling;return n}function G(t,e){var n=e.nextSibling,o=e.parentNode;return n?o.insertBefore(t,n):o.appendChild(t),t}function Y(t,e){return i.a.each(e,(function(e,n){t.appendChild(n)})),t}function Z(t){return 0===t.offset}function X(t){return t.offset===U(t.node)}function Q(t){return Z(t)||X(t)}function J(t,e){for(;t&&t!==e;){if(0!==et(t))return!1;t=t.parentNode}return!0}function tt(t,e){if(!e)return!1;for(;t&&t!==e;){if(et(t)!==U(t.parentNode)-1)return!1;t=t.parentNode}return!0}function et(t){for(var e=0;t=t.previousSibling;)e+=1;return e}function nt(t){return!!(t&&t.childNodes&&t.childNodes.length)}function ot(t,e){var n,o;if(0===t.offset){if(S(t.node))return null;n=t.node.parentNode,o=et(t.node)}else nt(t.node)?o=U(n=t.node.childNodes[t.offset-1]):(n=t.node,o=e?0:t.offset-1);return{node:n,offset:o}}function it(t,e){var n,o;if(U(t.node)===t.offset){if(S(t.node))return null;var i=at(t.node);i?(n=i,o=0):(n=t.node.parentNode,o=et(t.node)+1)}else nt(t.node)?(n=t.node.childNodes[t.offset],o=0):(n=t.node,o=e?U(t.node):t.offset+1);return{node:n,offset:o}}function rt(t,e){var n,o;if(W(t.node))return{node:n=t.node.nextSibling,offset:o=0};if(U(t.node)===t.offset){if(S(t.node))return null;var i=at(t.node);i?(n=i,o=0):(n=t.node.parentNode,o=et(t.node)+1),S(n)&&(n=t.node.nextSibling,o=0)}else if(nt(t.node)){if(o=0,W(n=t.node.childNodes[t.offset]))return null}else if(n=t.node,o=e?U(t.node):t.offset+1,W(n))return null;return{node:n,offset:o}}function at(t){if(t.nextSibling&&t.parent===t.nextSibling.parent)return E(t.nextSibling)?t.nextSibling:at(t.nextSibling)}function st(t,e){return t.node===e.node&&t.offset===e.offset}function lt(t,e){var n=e&&e.isSkipPaddingBlankHTML,o=e&&e.isNotSplitEdgePoint,i=e&&e.isDiscardEmptySplits;if(i&&(n=!0),Q(t)&&(E(t.node)||o)){if(Z(t))return t.node;if(X(t))return t.node.nextSibling}if(E(t.node))return t.node.splitText(t.offset);var r=t.node.childNodes[t.offset],a=G(t.node.cloneNode(!1),t.node);return Y(a,_(r)),n||(K(t.node),K(a)),i&&(W(t.node)&&dt(t.node),W(a))?(dt(a),t.node.nextSibling):a}function ct(t,e,n){var o=q(e.node,g.eq(t));return o.length?1===o.length?lt(e,n):o.reduce((function(t,o){return t===e.node&&(t=lt(e,n)),lt({node:o,offset:t?et(t):U(o)},n)})):null}function ut(t){return document.createElement(t)}function dt(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){for(var o=[],i=0,r=t.childNodes.length;i<r;i++)o.push(t.childNodes[i]);for(var a=0,s=o.length;a<s;a++)n.insertBefore(o[a],t)}n.removeChild(t)}}var ht=T("TEXTAREA");function ft(t,e){var n=ht(t[0])?t.val():t.html();return e?n.replace(/[\n\r]/g,""):n}var pt={NBSP_CHAR:x,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:j,emptyPara:"<p>".concat(j,"</p>"),makePredByNodeName:T,isEditable:S,isControlSizing:function(t){return t&&i()(t).hasClass("note-control-sizing")},isText:E,isElement:function(t){return t&&1===t.nodeType},isVoid:$,isPara:N,isPurePara:function(t){return N(t)&&!P(t)},isHeading:function(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())},isInline:A,isBlock:g.not(A),isBodyInline:function(t){return A(t)&&!V(t,N)},isBody:O,isParaInline:function(t){return A(t)&&!!V(t,N)},isPre:I,isList:F,isTable:R,isData:L,isCell:H,isBlockquote:B,isBodyContainer:z,isAnchor:M,isDiv:T("DIV"),isLi:P,isBR:T("BR"),isSpan:T("SPAN"),isB:T("B"),isU:T("U"),isS:T("S"),isI:T("I"),isImg:T("IMG"),isTextarea:ht,deepestChildIsEmpty:function(t){do{if(null===t.firstElementChild||""===t.firstElementChild.innerHTML)break}while(t=t.firstElementChild);return W(t)},isEmpty:W,isEmptyAnchor:g.and(M,W),isClosestSibling:function(t,e){return t.nextSibling===e||t.previousSibling===e},withClosestSiblings:function(t,e){e=e||g.ok;var n=[];return t.previousSibling&&e(t.previousSibling)&&n.push(t.previousSibling),n.push(t),t.nextSibling&&e(t.nextSibling)&&n.push(t.nextSibling),n},nodeLength:U,isLeftEdgePoint:Z,isRightEdgePoint:X,isEdgePoint:Q,isLeftEdgeOf:J,isRightEdgeOf:tt,isLeftEdgePointOf:function(t,e){return Z(t)&&J(t.node,e)},isRightEdgePointOf:function(t,e){return X(t)&&tt(t.node,e)},prevPoint:ot,nextPoint:it,nextPointWithEmptyNode:rt,isSamePoint:st,isVisiblePoint:function(t){if(E(t.node)||!nt(t.node)||W(t.node))return!0;var e=t.node.childNodes[t.offset-1],n=t.node.childNodes[t.offset];return!(e&&!$(e)||n&&!$(n))},prevPointUntil:function(t,e){for(;t;){if(e(t))return t;t=ot(t)}return null},nextPointUntil:function(t,e){for(;t;){if(e(t))return t;t=it(t)}return null},isCharPoint:function(t){if(!E(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==x},isSpacePoint:function(t){if(!E(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return" "===e||e===x},walkPoint:function(t,e,n,o){for(var i=t;i&&(n(i),!st(i,e));){i=rt(i,o&&t.node!==i.node&&e.node!==i.node)}},ancestor:V,singleChildAncestor:function(t,e){for(t=t.parentNode;t&&1===U(t);){if(e(t))return t;if(S(t))break;t=t.parentNode}return null},listAncestor:q,lastAncestor:function(t,e){var n=q(t);return C.last(n.filter(e))},listNext:_,listPrev:function(t,e){e=e||g.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.previousSibling;return n},listDescendant:function(t,e){var n=[];return e=e||g.ok,function o(i){t!==i&&e(i)&&n.push(i);for(var r=0,a=i.childNodes.length;r<a;r++)o(i.childNodes[r])}(t),n},commonAncestor:function(t,e){for(var n=q(t),o=e;o;o=o.parentNode)if(n.indexOf(o)>-1)return o;return null},wrap:function(t,e){var n=t.parentNode,o=i()("<"+e+">")[0];return n.insertBefore(o,t),o.appendChild(t),o},insertAfter:G,appendChildNodes:Y,position:et,hasChildren:nt,makeOffsetPath:function(t,e){return q(e,g.eq(t)).map(et).reverse()},fromOffsetPath:function(t,e){for(var n=t,o=0,i=e.length;o<i;o++)n=n.childNodes.length<=e[o]?n.childNodes[n.childNodes.length-1]:n.childNodes[e[o]];return n},splitTree:ct,splitPoint:function(t,e){var n,o,i=e?N:z,r=q(t.node,i),a=C.last(r)||t.node;i(a)?(n=r[r.length-2],o=a):o=(n=a).parentNode;var s=n&&ct(n,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return s||o!==t.node||(s=t.node.childNodes[t.offset]),{rightNode:s,container:o}},create:ut,createText:function(t){return document.createTextNode(t)},remove:dt,removeWhile:function(t,e){for(;t&&!S(t)&&e(t);){var n=t.parentNode;dt(t),t=n}},replace:function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var n=ut(e);return t.style.cssText&&(n.style.cssText=t.style.cssText),Y(n,C.from(t.childNodes)),G(n,t),dt(t),n},html:function(t,e){var n=ft(t);if(e){n=(n=n.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,(function(t,e,n){n=n.toUpperCase();var o=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!e,i=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return t+(o||i?"\n":"")}))).trim()}return n},value:ft,posFromPlaceholder:function(t){var e=i()(t),n=e.offset(),o=e.outerHeight(!0);return{left:n.left,top:n.top+o}},attachEvents:function(t,e){Object.keys(e).forEach((function(n){t.on(n,e[n])}))},detachEvents:function(t,e){Object.keys(e).forEach((function(n){t.off(n,e[n])}))},isCustomStyleTag:function(t){return t&&!E(t)&&C.contains(t.classList,"note-styletag")}};function mt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var vt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=i.a.extend(!0,{},n),i.a.summernote.ui=i.a.summernote.ui_template(this.options),this.ui=i.a.summernote.ui,this.initialize()}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){return this.layoutInfo=this.ui.createLayout(this.$note),this._initialize(),this.$note.hide(),this}},{key:"destroy",value:function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)}},{key:"reset",value:function(){var t=this.isDisabled();this.code(pt.emptyPara),this._destroy(),this._initialize(),t&&this.disable()}},{key:"_initialize",value:function(){var t=this;this.options.id=g.uniqueId(i.a.now()),this.options.container=this.options.container||this.layoutInfo.editor;var e=i.a.extend({},this.options.buttons);Object.keys(e).forEach((function(n){t.memo("button."+n,e[n])}));var n=i.a.extend({},this.options.modules,i.a.summernote.plugins||{});Object.keys(n).forEach((function(e){t.module(e,n[e],!0)})),Object.keys(this.modules).forEach((function(e){t.initializeModule(e)}))}},{key:"_destroy",value:function(){var t=this;Object.keys(this.modules).reverse().forEach((function(e){t.removeModule(e)})),Object.keys(this.memos).forEach((function(e){t.removeMemo(e)})),this.triggerEvent("destroy",this)}},{key:"code",value:function(t){var e=this.invoke("codeview.isActivated");if(void 0===t)return this.invoke("codeview.sync"),e?this.layoutInfo.codable.val():this.layoutInfo.editable.html();e?this.invoke("codeview.sync",t):this.layoutInfo.editable.html(t),this.$note.val(t),this.triggerEvent("change",t,this.layoutInfo.editable)}},{key:"isDisabled",value:function(){return"false"===this.layoutInfo.editable.attr("contenteditable")}},{key:"enable",value:function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1),this.options.editing=!0}},{key:"disable",value:function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.options.editing=!1,this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)}},{key:"triggerEvent",value:function(){var t=C.head(arguments),e=C.tail(C.from(arguments)),n=this.options.callbacks[g.namespaceToCamel(t,"on")];n&&n.apply(this.$note[0],e),this.$note.trigger("summernote."+t,e)}},{key:"initializeModule",value:function(t){var e=this.modules[t];e.shouldInitialize=e.shouldInitialize||g.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&pt.attachEvents(this.$note,e.events))}},{key:"module",value:function(t,e,n){if(1===arguments.length)return this.modules[t];this.modules[t]=new e(this),n||this.initializeModule(t)}},{key:"removeModule",value:function(t){var e=this.modules[t];e.shouldInitialize()&&(e.events&&pt.detachEvents(this.$note,e.events),e.destroy&&e.destroy()),delete this.modules[t]}},{key:"memo",value:function(t,e){if(1===arguments.length)return this.memos[t];this.memos[t]=e}},{key:"removeMemo",value:function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]}},{key:"createInvokeHandlerAndUpdateState",value:function(t,e){var n=this;return function(o){n.createInvokeHandler(t,e)(o),n.invoke("buttons.updateCurrentStyle")}}},{key:"createInvokeHandler",value:function(t,e){var n=this;return function(o){o.preventDefault();var r=i()(o.target);n.invoke(t,e||r.closest("[data-value]").data("value"),r)}}},{key:"invoke",value:function(){var t=C.head(arguments),e=C.tail(C.from(arguments)),n=t.split("."),o=n.length>1,i=o&&C.head(n),r=o?C.last(n):C.head(n),a=this.modules[i||"editor"];return!i&&this[r]?this[r].apply(this,e):a&&a[r]&&a.shouldInitialize()?a[r].apply(a,e):void 0}}])&&mt(e.prototype,n),o&&mt(e,o),t}();function gt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function bt(t,e){var n,o,i=t.parentElement(),r=document.body.createTextRange(),a=C.from(i.childNodes);for(n=0;n<a.length;n++)if(!pt.isText(a[n])){if(r.moveToElementText(a[n]),r.compareEndPoints("StartToStart",t)>=0)break;o=a[n]}if(0!==n&&pt.isText(a[n-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(o||i),s.collapse(!o),l=o?o.nextSibling:i.firstChild;var c=t.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&pt.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),i=l,n=u}return{cont:i,offset:n}}function kt(t){var e=document.body.createTextRange(),n=function t(e,n){var o,i;if(pt.isText(e)){var r=pt.listPrev(e,g.not(pt.isText)),a=C.last(r).previousSibling;o=a||e.parentNode,n+=C.sum(C.tail(r),pt.nodeLength),i=!a}else{if(o=e.childNodes[n]||e,pt.isText(o))return t(o,0);n=0,i=!1}return{node:o,collapseToStart:i,offset:n}}(t.node,t.offset);return e.moveToElementText(n.node),e.collapse(n.collapseToStart),e.moveStart("character",n.offset),e}i.a.fn.extend({summernote:function(){var t=i.a.type(C.head(arguments)),e="string"===t,n="object"===t,o=i.a.extend({},i.a.summernote.options,n?C.head(arguments):{});o.langInfo=i.a.extend(!0,{},i.a.summernote.lang["en-US"],i.a.summernote.lang[o.lang]),o.icons=i.a.extend(!0,{},i.a.summernote.options.icons,o.icons),o.tooltip="auto"===o.tooltip?!m.isSupportTouch:o.tooltip,this.each((function(t,e){var n=i()(e);if(!n.data("summernote")){var r=new vt(n,o);n.data("summernote",r),n.data("summernote").triggerEvent("init",r.layoutInfo)}}));var r=this.first();if(r.length){var a=r.data("summernote");if(e)return a.invoke.apply(a,C.from(arguments));o.focus&&a.invoke("editor.focus")}return this}});var yt=function(){function t(e,n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sc=e,this.so=n,this.ec=o,this.eo=i,this.isOnEditable=this.makeIsOn(pt.isEditable),this.isOnList=this.makeIsOn(pt.isList),this.isOnAnchor=this.makeIsOn(pt.isAnchor),this.isOnCell=this.makeIsOn(pt.isCell),this.isOnData=this.makeIsOn(pt.isData)}var e,n,o;return e=t,(n=[{key:"nativeRange",value:function(){if(m.isW3CRangeSupport){var t=document.createRange();return t.setStart(this.sc,this.so),t.setEnd(this.ec,this.eo),t}var e=kt({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",kt({node:this.ec,offset:this.eo})),e}},{key:"getPoints",value:function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}}},{key:"getStartPoint",value:function(){return{node:this.sc,offset:this.so}}},{key:"getEndPoint",value:function(){return{node:this.ec,offset:this.eo}}},{key:"select",value:function(){var t=this.nativeRange();if(m.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select();return this}},{key:"scrollIntoView",value:function(t){var e=i()(t).height();return t.scrollTop+e<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+e-this.sc.offsetTop)),this}},{key:"normalize",value:function(){var e=function(t,e){if(!t)return t;if(pt.isVisiblePoint(t)&&(!pt.isEdgePoint(t)||pt.isRightEdgePoint(t)&&!e||pt.isLeftEdgePoint(t)&&e||pt.isRightEdgePoint(t)&&e&&pt.isVoid(t.node.nextSibling)||pt.isLeftEdgePoint(t)&&!e&&pt.isVoid(t.node.previousSibling)||pt.isBlock(t.node)&&pt.isEmpty(t.node)))return t;var n=pt.ancestor(t.node,pt.isBlock),o=!1;if(!o){var i=pt.prevPoint(t)||{node:null};o=(pt.isLeftEdgePointOf(t,n)||pt.isVoid(i.node))&&!e}var r=!1;if(!r){var a=pt.nextPoint(t)||{node:null};r=(pt.isRightEdgePointOf(t,n)||pt.isVoid(a.node))&&e}if(o||r){if(pt.isVisiblePoint(t))return t;e=!e}return(e?pt.nextPointUntil(pt.nextPoint(t),pt.isVisiblePoint):pt.prevPointUntil(pt.prevPoint(t),pt.isVisiblePoint))||t},n=e(this.getEndPoint(),!1),o=this.isCollapsed()?n:e(this.getStartPoint(),!0);return new t(o.node,o.offset,n.node,n.offset)}},{key:"nodes",value:function(t,e){t=t||g.ok;var n=e&&e.includeAncestor,o=e&&e.fullyContains,i=this.getStartPoint(),r=this.getEndPoint(),a=[],s=[];return pt.walkPoint(i,r,(function(e){var i;pt.isEditable(e.node)||(o?(pt.isLeftEdgePoint(e)&&s.push(e.node),pt.isRightEdgePoint(e)&&C.contains(s,e.node)&&(i=e.node)):i=n?pt.ancestor(e.node,t):e.node,i&&t(i)&&a.push(i))}),!0),C.unique(a)}},{key:"commonAncestor",value:function(){return pt.commonAncestor(this.sc,this.ec)}},{key:"expand",value:function(e){var n=pt.ancestor(this.sc,e),o=pt.ancestor(this.ec,e);if(!n&&!o)return new t(this.sc,this.so,this.ec,this.eo);var i=this.getPoints();return n&&(i.sc=n,i.so=0),o&&(i.ec=o,i.eo=pt.nodeLength(o)),new t(i.sc,i.so,i.ec,i.eo)}},{key:"collapse",value:function(e){return e?new t(this.sc,this.so,this.sc,this.so):new t(this.ec,this.eo,this.ec,this.eo)}},{key:"splitText",value:function(){var e=this.sc===this.ec,n=this.getPoints();return pt.isText(this.ec)&&!pt.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),pt.isText(this.sc)&&!pt.isEdgePoint(this.getStartPoint())&&(n.sc=this.sc.splitText(this.so),n.so=0,e&&(n.ec=n.sc,n.eo=this.eo-this.so)),new t(n.sc,n.so,n.ec,n.eo)}},{key:"deleteContents",value:function(){if(this.isCollapsed())return this;var e=this.splitText(),n=e.nodes(null,{fullyContains:!0}),o=pt.prevPointUntil(e.getStartPoint(),(function(t){return!C.contains(n,t.node)})),r=[];return i.a.each(n,(function(t,e){var n=e.parentNode;o.node!==n&&1===pt.nodeLength(n)&&r.push(n),pt.remove(e,!1)})),i.a.each(r,(function(t,e){pt.remove(e,!1)})),new t(o.node,o.offset,o.node,o.offset).normalize()}},{key:"makeIsOn",value:function(t){return function(){var e=pt.ancestor(this.sc,t);return!!e&&e===pt.ancestor(this.ec,t)}}},{key:"isLeftEdgeOf",value:function(t){if(!pt.isLeftEdgePoint(this.getStartPoint()))return!1;var e=pt.ancestor(this.sc,t);return e&&pt.isLeftEdgeOf(this.sc,e)}},{key:"isCollapsed",value:function(){return this.sc===this.ec&&this.so===this.eo}},{key:"wrapBodyInlineWithPara",value:function(){if(pt.isBodyContainer(this.sc)&&pt.isEmpty(this.sc))return this.sc.innerHTML=pt.emptyPara,new t(this.sc.firstChild,0,this.sc.firstChild,0);var e,n=this.normalize();if(pt.isParaInline(this.sc)||pt.isPara(this.sc))return n;if(pt.isInline(n.sc)){var o=pt.listAncestor(n.sc,g.not(pt.isInline));e=C.last(o),pt.isInline(e)||(e=o[o.length-2]||n.sc.childNodes[n.so])}else e=n.sc.childNodes[n.so>0?n.so-1:0];if(e){var i=pt.listPrev(e,pt.isParaInline).reverse();if((i=i.concat(pt.listNext(e.nextSibling,pt.isParaInline))).length){var r=pt.wrap(C.head(i),"p");pt.appendChildNodes(r,C.tail(i))}}return this.normalize()}},{key:"insertNode",value:function(t){var e=this;(pt.isText(t)||pt.isInline(t))&&(e=this.wrapBodyInlineWithPara().deleteContents());var n=pt.splitPoint(e.getStartPoint(),pt.isInline(t));return n.rightNode?(n.rightNode.parentNode.insertBefore(t,n.rightNode),pt.isEmpty(n.rightNode)&&pt.isPara(t)&&n.rightNode.parentNode.removeChild(n.rightNode)):n.container.appendChild(t),t}},{key:"pasteHTML",value:function(t){t=i.a.trim(t);var e=i()("<div></div>").html(t)[0],n=C.from(e.childNodes),o=this,r=!1;return o.so>=0&&(n=n.reverse(),r=!0),n=n.map((function(t){return o.insertNode(t)})),r&&(n=n.reverse()),n}},{key:"toString",value:function(){var t=this.nativeRange();return m.isW3CRangeSupport?t.toString():t.text}},{key:"getWordRange",value:function(e){var n=this.getEndPoint();if(!pt.isCharPoint(n))return this;var o=pt.prevPointUntil(n,(function(t){return!pt.isCharPoint(t)}));return e&&(n=pt.nextPointUntil(n,(function(t){return!pt.isCharPoint(t)}))),new t(o.node,o.offset,n.node,n.offset)}},{key:"getWordsRange",value:function(e){var n=this.getEndPoint(),o=function(t){return!pt.isCharPoint(t)&&!pt.isSpacePoint(t)};if(o(n))return this;var i=pt.prevPointUntil(n,o);return e&&(n=pt.nextPointUntil(n,o)),new t(i.node,i.offset,n.node,n.offset)}},{key:"getWordsMatchRange",value:function(e){var n=this.getEndPoint(),o=pt.prevPointUntil(n,(function(o){if(!pt.isCharPoint(o)&&!pt.isSpacePoint(o))return!0;var i=new t(o.node,o.offset,n.node,n.offset),r=e.exec(i.toString());return r&&0===r.index})),i=new t(o.node,o.offset,n.node,n.offset),r=i.toString(),a=e.exec(r);return a&&a[0].length===r.length?i:null}},{key:"bookmark",value:function(t){return{s:{path:pt.makeOffsetPath(t,this.sc),offset:this.so},e:{path:pt.makeOffsetPath(t,this.ec),offset:this.eo}}}},{key:"paraBookmark",value:function(t){return{s:{path:C.tail(pt.makeOffsetPath(C.head(t),this.sc)),offset:this.so},e:{path:C.tail(pt.makeOffsetPath(C.last(t),this.ec)),offset:this.eo}}}},{key:"getClientRects",value:function(){return this.nativeRange().getClientRects()}}])&&gt(e.prototype,n),o&&gt(e,o),t}(),wt={create:function(t,e,n,o){if(4===arguments.length)return new yt(t,e,n,o);if(2===arguments.length)return new yt(t,e,n=t,o=e);var i=this.createFromSelection();if(!i&&1===arguments.length){var r=arguments[0];return pt.isEditable(r)&&(r=r.lastChild),this.createFromBodyElement(r,pt.emptyPara===arguments[0].innerHTML)}return i},createFromBodyElement:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.createFromNode(t);return n.collapse(e)},createFromSelection:function(){var t,e,n,o;if(m.isW3CRangeSupport){var i=document.getSelection();if(!i||0===i.rangeCount)return null;if(pt.isBody(i.anchorNode))return null;var r=i.getRangeAt(0);t=r.startContainer,e=r.startOffset,n=r.endContainer,o=r.endOffset}else{var a=document.selection.createRange(),s=a.duplicate();s.collapse(!1);var l=a;l.collapse(!0);var c=bt(l,!0),u=bt(s,!1);pt.isText(c.node)&&pt.isLeftEdgePoint(c)&&pt.isTextNode(u.node)&&pt.isRightEdgePoint(u)&&u.node.nextSibling===c.node&&(c=u),t=c.cont,e=c.offset,n=u.cont,o=u.offset}return new yt(t,e,n,o)},createFromNode:function(t){var e=t,n=0,o=t,i=pt.nodeLength(o);return pt.isVoid(e)&&(n=pt.listPrev(e).length-1,e=e.parentNode),pt.isBR(o)?(i=pt.listPrev(o).length-1,o=o.parentNode):pt.isVoid(o)&&(i=pt.listPrev(o).length,o=o.parentNode),this.create(e,n,o,i)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var n=pt.fromOffsetPath(t,e.s.path),o=e.s.offset,i=pt.fromOffsetPath(t,e.e.path),r=e.e.offset;return new yt(n,o,i,r)},createFromParaBookmark:function(t,e){var n=t.s.offset,o=t.e.offset,i=pt.fromOffsetPath(C.head(e),t.s.path),r=pt.fromOffsetPath(C.last(e),t.e.path);return new yt(i,n,r,o)}},Ct={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34},xt={isEdit:function(t){return C.contains([Ct.BACKSPACE,Ct.TAB,Ct.ENTER,Ct.SPACE,Ct.DELETE],t)},isMove:function(t){return C.contains([Ct.LEFT,Ct.UP,Ct.RIGHT,Ct.DOWN],t)},isNavigation:function(t){return C.contains([Ct.HOME,Ct.END,Ct.PAGEUP,Ct.PAGEDOWN],t)},nameFromCode:g.invertObject(Ct),code:Ct};function St(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Tt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stack=[],this.stackOffset=-1,this.context=e,this.$editable=e.layoutInfo.editable,this.editable=this.$editable[0]}var e,n,o;return e=t,(n=[{key:"makeSnapshot",value:function(){var t=wt.create(this.editable);return{contents:this.$editable.html(),bookmark:t&&t.isOnEditable()?t.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}}},{key:"applySnapshot",value:function(t){null!==t.contents&&this.$editable.html(t.contents),null!==t.bookmark&&wt.createFromBookmark(this.editable,t.bookmark).select()}},{key:"rewind",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])}},{key:"commit",value:function(){this.stack=[],this.stackOffset=-1,this.recordUndo()}},{key:"reset",value:function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()}},{key:"undo",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"redo",value:function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"recordUndo",value:function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot()),this.stack.length>this.context.options.historyLimit&&(this.stack.shift(),this.stackOffset-=1)}}])&&St(e.prototype,n),o&&St(e,o),t}();function Et(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var $t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"jQueryCSS",value:function(t,e){if(m.jqueryVersion<1.9){var n={};return i.a.each(e,(function(e,o){n[o]=t.css(o)})),n}return t.css(e)}},{key:"fromNode",value:function(t){var e=this.jQueryCSS(t,["font-family","font-size","text-align","list-style-type","line-height"])||{},n=t[0].style.fontSize||e["font-size"];return e["font-size"]=parseInt(n,10),e["font-size-unit"]=n.match(/[a-z%]+$/),e}},{key:"stylePara",value:function(t,e){i.a.each(t.nodes(pt.isPara,{includeAncestor:!0}),(function(t,n){i()(n).css(e)}))}},{key:"styleNodes",value:function(t,e){t=t.splitText();var n=e&&e.nodeName||"SPAN",o=!(!e||!e.expandClosestSibling),r=!(!e||!e.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(pt.create(n))];var a=pt.makePredByNodeName(n),s=t.nodes(pt.isText,{fullyContains:!0}).map((function(t){return pt.singleChildAncestor(t,a)||pt.wrap(t,n)}));if(o){if(r){var l=t.nodes();a=g.and(a,(function(t){return C.contains(l,t)}))}return s.map((function(t){var e=pt.withClosestSiblings(t,a),n=C.head(e),o=C.tail(e);return i.a.each(o,(function(t,e){pt.appendChildNodes(n,e.childNodes),pt.remove(e)})),C.head(e)}))}return s}},{key:"current",value:function(t){var e=i()(pt.isElement(t.sc)?t.sc:t.sc.parentNode),n=this.fromNode(e);try{n=i.a.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||n["font-family"]})}catch(t){}if(t.isOnList()){var o=["circle","disc","disc-leading-zero","square"].indexOf(n["list-style-type"])>-1;n["list-style"]=o?"unordered":"ordered"}else n["list-style"]="none";var r=pt.ancestor(t.sc,pt.isPara);if(r&&r.style["line-height"])n["line-height"]=r.style.lineHeight;else{var a=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=a.toFixed(1)}return n.anchor=t.isOnAnchor()&&pt.ancestor(t.sc,pt.isAnchor),n.ancestors=pt.listAncestor(t.sc,pt.isEditable),n.range=t,n}}])&&Et(e.prototype,n),o&&Et(e,o),t}();function Nt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var It=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"insertOrderedList",value:function(t){this.toggleList("OL",t)}},{key:"insertUnorderedList",value:function(t){this.toggleList("UL",t)}},{key:"indent",value:function(t){var e=this,n=wt.create(t).wrapBodyInlineWithPara(),o=n.nodes(pt.isPara,{includeAncestor:!0}),r=C.clusterBy(o,g.peq2("parentNode"));i.a.each(r,(function(t,n){var o=C.head(n);if(pt.isLi(o)){var r=e.findList(o.previousSibling);r?n.map((function(t){return r.appendChild(t)})):(e.wrapList(n,o.parentNode.nodeName),n.map((function(t){return t.parentNode})).map((function(t){return e.appendToPrevious(t)})))}else i.a.each(n,(function(t,e){i()(e).css("marginLeft",(function(t,e){return(parseInt(e,10)||0)+25}))}))})),n.select()}},{key:"outdent",value:function(t){var e=this,n=wt.create(t).wrapBodyInlineWithPara(),o=n.nodes(pt.isPara,{includeAncestor:!0}),r=C.clusterBy(o,g.peq2("parentNode"));i.a.each(r,(function(t,n){var o=C.head(n);pt.isLi(o)?e.releaseList([n]):i.a.each(n,(function(t,e){i()(e).css("marginLeft",(function(t,e){return(e=parseInt(e,10)||0)>25?e-25:""}))}))})),n.select()}},{key:"toggleList",value:function(t,e){var n=this,o=wt.create(e).wrapBodyInlineWithPara(),r=o.nodes(pt.isPara,{includeAncestor:!0}),a=o.paraBookmark(r),s=C.clusterBy(r,g.peq2("parentNode"));if(C.find(r,pt.isPurePara)){var l=[];i.a.each(s,(function(e,o){l=l.concat(n.wrapList(o,t))})),r=l}else{var c=o.nodes(pt.isList,{includeAncestor:!0}).filter((function(e){return!i.a.nodeName(e,t)}));c.length?i.a.each(c,(function(e,n){pt.replace(n,t)})):r=this.releaseList(s,!0)}wt.createFromParaBookmark(a,r).select()}},{key:"wrapList",value:function(t,e){var n=C.head(t),o=C.last(t),i=pt.isList(n.previousSibling)&&n.previousSibling,r=pt.isList(o.nextSibling)&&o.nextSibling,a=i||pt.insertAfter(pt.create(e||"UL"),o);return t=t.map((function(t){return pt.isPurePara(t)?pt.replace(t,"LI"):t})),pt.appendChildNodes(a,t),r&&(pt.appendChildNodes(a,C.from(r.childNodes)),pt.remove(r)),t}},{key:"releaseList",value:function(t,e){var n=this,o=[];return i.a.each(t,(function(t,r){var a=C.head(r),s=C.last(r),l=e?pt.lastAncestor(a,pt.isList):a.parentNode,c=l.parentNode;if("LI"===l.parentNode.nodeName)r.map((function(t){var e=n.findNextSiblings(t);c.nextSibling?c.parentNode.insertBefore(t,c.nextSibling):c.parentNode.appendChild(t),e.length&&(n.wrapList(e,l.nodeName),t.appendChild(e[0].parentNode))})),0===l.children.length&&c.removeChild(l),0===c.childNodes.length&&c.parentNode.removeChild(c);else{var u=l.childNodes.length>1?pt.splitTree(l,{node:s.parentNode,offset:pt.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,d=pt.splitTree(l,{node:a.parentNode,offset:pt.position(a)},{isSkipPaddingBlankHTML:!0});r=e?pt.listDescendant(d,pt.isLi):C.from(d.childNodes).filter(pt.isLi),!e&&pt.isList(l.parentNode)||(r=r.map((function(t){return pt.replace(t,"P")}))),i.a.each(C.from(r).reverse(),(function(t,e){pt.insertAfter(e,l)}));var h=C.compact([l,d,u]);i.a.each(h,(function(t,e){var n=[e].concat(pt.listDescendant(e,pt.isList));i.a.each(n.reverse(),(function(t,e){pt.nodeLength(e)||pt.remove(e,!0)}))}))}o=o.concat(r)})),o}},{key:"appendToPrevious",value:function(t){return t.previousSibling?pt.appendChildNodes(t.previousSibling,[t]):this.wrapList([t],"LI")}},{key:"findList",value:function(t){return t?C.find(t.children,(function(t){return["OL","UL"].indexOf(t.nodeName)>-1})):null}},{key:"findNextSiblings",value:function(t){for(var e=[];t.nextSibling;)e.push(t.nextSibling),t=t.nextSibling;return e}}])&&Nt(e.prototype,n),o&&Nt(e,o),t}();function Pt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Rt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bullet=new It,this.options=e.options}var e,n,o;return e=t,(n=[{key:"insertTab",value:function(t,e){var n=pt.createText(new Array(e+1).join(pt.NBSP_CHAR));(t=t.deleteContents()).insertNode(n,!0),(t=wt.create(n,e)).select()}},{key:"insertParagraph",value:function(t,e){e=(e=(e=e||wt.create(t)).deleteContents()).wrapBodyInlineWithPara();var n,o=pt.ancestor(e.sc,pt.isPara);if(o){if(pt.isLi(o)&&(pt.isEmpty(o)||pt.deepestChildIsEmpty(o)))return void this.bullet.toggleList(o.parentNode.nodeName);var r=null;if(1===this.options.blockquoteBreakingLevel?r=pt.ancestor(o,pt.isBlockquote):2===this.options.blockquoteBreakingLevel&&(r=pt.lastAncestor(o,pt.isBlockquote)),r){n=i()(pt.emptyPara)[0],pt.isRightEdgePoint(e.getStartPoint())&&pt.isBR(e.sc.nextSibling)&&i()(e.sc.nextSibling).remove();var a=pt.splitTree(r,e.getStartPoint(),{isDiscardEmptySplits:!0});a?a.parentNode.insertBefore(n,a):pt.insertAfter(n,r)}else{n=pt.splitTree(o,e.getStartPoint());var s=pt.listDescendant(o,pt.isEmptyAnchor);s=s.concat(pt.listDescendant(n,pt.isEmptyAnchor)),i.a.each(s,(function(t,e){pt.remove(e)})),(pt.isHeading(n)||pt.isPre(n)||pt.isCustomStyleTag(n))&&pt.isEmpty(n)&&(n=pt.replace(n,"p"))}}else{var l=e.sc.childNodes[e.so];n=i()(pt.emptyPara)[0],l?e.sc.insertBefore(n,l):e.sc.appendChild(n)}wt.create(n,0).normalize().select().scrollIntoView(t)}}])&&Pt(e.prototype,n),o&&Pt(e,o),t}();function Lt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var At=function t(e,n,o,i){var r={colPos:0,rowPos:0},a=[],s=[];function l(t,e,n,o,i,r,s){var l={baseRow:n,baseCell:o,isRowSpan:i,isColSpan:r,isVirtual:s};a[t]||(a[t]=[]),a[t][e]=l}function c(t,e,n,o){return{baseCell:t.baseCell,action:e,virtualTable:{rowIndex:n,cellIndex:o}}}function u(t,e){if(!a[t])return e;if(!a[t][e])return e;for(var n=e;a[t][n];)if(n++,!a[t][n])return n}function d(t,e){var n=u(t.rowIndex,e.cellIndex),o=e.colSpan>1,i=e.rowSpan>1,a=t.rowIndex===r.rowPos&&e.cellIndex===r.colPos;l(t.rowIndex,n,t,e,i,o,!1);var s=e.attributes.rowSpan?parseInt(e.attributes.rowSpan.value,10):0;if(s>1)for(var c=1;c<s;c++){var d=t.rowIndex+c;h(d,n,e,a),l(d,n,t,e,!0,o,!0)}var f=e.attributes.colSpan?parseInt(e.attributes.colSpan.value,10):0;if(f>1)for(var p=1;p<f;p++){var m=u(t.rowIndex,n+p);h(t.rowIndex,m,e,a),l(t.rowIndex,m,t,e,i,!0,!0)}}function h(t,e,n,o){t===r.rowPos&&r.colPos>=n.cellIndex&&n.cellIndex<=e&&!o&&r.colPos++}function f(e){switch(n){case t.where.Column:if(e.isColSpan)return t.resultAction.SubtractSpanCount;break;case t.where.Row:if(!e.isVirtual&&e.isRowSpan)return t.resultAction.AddCell;if(e.isRowSpan)return t.resultAction.SubtractSpanCount}return t.resultAction.RemoveCell}function p(e){switch(n){case t.where.Column:if(e.isColSpan)return t.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return t.resultAction.Ignore;break;case t.where.Row:if(e.isRowSpan)return t.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return t.resultAction.Ignore}return t.resultAction.AddCell}this.getActionList=function(){for(var e=n===t.where.Row?r.rowPos:-1,i=n===t.where.Column?r.colPos:-1,l=0,u=!0;u;){var d=e>=0?e:l,h=i>=0?i:l,m=a[d];if(!m)return u=!1,s;var v=m[h];if(!v)return u=!1,s;var g=t.resultAction.Ignore;switch(o){case t.requestAction.Add:g=p(v);break;case t.requestAction.Delete:g=f(v)}s.push(c(v,g,d,h)),l++}return s},e&&e.tagName&&("td"===e.tagName.toLowerCase()||"th"===e.tagName.toLowerCase())&&(r.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()&&(r.rowPos=e.parentElement.rowIndex)),function(){for(var t=i.rows,e=0;e<t.length;e++)for(var n=t[e].cells,o=0;o<n.length;o++)d(t[e],n[o])}()};At.where={Row:0,Column:1},At.requestAction={Add:0,Delete:1},At.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Ft=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"tab",value:function(t,e){var n=pt.ancestor(t.commonAncestor(),pt.isCell),o=pt.ancestor(n,pt.isTable),i=pt.listDescendant(o,pt.isCell),r=C[e?"prev":"next"](i,n);r&&wt.create(r,0).select()}},{key:"addRow",value:function(t,e){for(var n=pt.ancestor(t.commonAncestor(),pt.isCell),o=i()(n).closest("tr"),r=this.recoverAttributes(o),a=i()("<tr"+r+"></tr>"),s=new At(n,At.where.Row,At.requestAction.Add,i()(o).closest("table")[0]).getActionList(),l=0;l<s.length;l++){var c=s[l],u=this.recoverAttributes(c.baseCell);switch(c.action){case At.resultAction.AddCell:a.append("<td"+u+">"+pt.blank+"</td>");break;case At.resultAction.SumSpanCount:if("top"===e&&(c.baseCell.parent?c.baseCell.closest("tr").rowIndex:0)<=o[0].rowIndex){var d=i()("<div></div>").append(i()("<td"+u+">"+pt.blank+"</td>").removeAttr("rowspan")).html();a.append(d);break}var h=parseInt(c.baseCell.rowSpan,10);h++,c.baseCell.setAttribute("rowSpan",h)}}if("top"===e)o.before(a);else{if(n.rowSpan>1){var f=o[0].rowIndex+(n.rowSpan-2);return void i()(i()(o).parent().find("tr")[f]).after(i()(a))}o.after(a)}}},{key:"addCol",value:function(t,e){var n=pt.ancestor(t.commonAncestor(),pt.isCell),o=i()(n).closest("tr");i()(o).siblings().push(o);for(var r=new At(n,At.where.Column,At.requestAction.Add,i()(o).closest("table")[0]).getActionList(),a=0;a<r.length;a++){var s=r[a],l=this.recoverAttributes(s.baseCell);switch(s.action){case At.resultAction.AddCell:"right"===e?i()(s.baseCell).after("<td"+l+">"+pt.blank+"</td>"):i()(s.baseCell).before("<td"+l+">"+pt.blank+"</td>");break;case At.resultAction.SumSpanCount:if("right"===e){var c=parseInt(s.baseCell.colSpan,10);c++,s.baseCell.setAttribute("colSpan",c)}else i()(s.baseCell).before("<td"+l+">"+pt.blank+"</td>")}}}},{key:"recoverAttributes",value:function(t){var e="";if(!t)return e;for(var n=t.attributes||[],o=0;o<n.length;o++)"id"!==n[o].name.toLowerCase()&&n[o].specified&&(e+=" "+n[o].name+"='"+n[o].value+"'");return e}},{key:"deleteRow",value:function(t){for(var e=pt.ancestor(t.commonAncestor(),pt.isCell),n=i()(e).closest("tr"),o=n.children("td, th").index(i()(e)),r=n[0].rowIndex,a=new At(e,At.where.Row,At.requestAction.Delete,i()(n).closest("table")[0]).getActionList(),s=0;s<a.length;s++)if(a[s]){var l=a[s].baseCell,c=a[s].virtualTable,u=l.rowSpan&&l.rowSpan>1,d=u?parseInt(l.rowSpan,10):0;switch(a[s].action){case At.resultAction.Ignore:continue;case At.resultAction.AddCell:var h=n.next("tr")[0];if(!h)continue;var f=n[0].cells[o];u&&(d>2?(d--,h.insertBefore(f,h.cells[o]),h.cells[o].setAttribute("rowSpan",d),h.cells[o].innerHTML=""):2===d&&(h.insertBefore(f,h.cells[o]),h.cells[o].removeAttribute("rowSpan"),h.cells[o].innerHTML=""));continue;case At.resultAction.SubtractSpanCount:u&&(d>2?(d--,l.setAttribute("rowSpan",d),c.rowIndex!==r&&l.cellIndex===o&&(l.innerHTML="")):2===d&&(l.removeAttribute("rowSpan"),c.rowIndex!==r&&l.cellIndex===o&&(l.innerHTML="")));continue;case At.resultAction.RemoveCell:continue}}n.remove()}},{key:"deleteCol",value:function(t){for(var e=pt.ancestor(t.commonAncestor(),pt.isCell),n=i()(e).closest("tr"),o=n.children("td, th").index(i()(e)),r=new At(e,At.where.Column,At.requestAction.Delete,i()(n).closest("table")[0]).getActionList(),a=0;a<r.length;a++)if(r[a])switch(r[a].action){case At.resultAction.Ignore:continue;case At.resultAction.SubtractSpanCount:var s=r[a].baseCell;if(s.colSpan&&s.colSpan>1){var l=s.colSpan?parseInt(s.colSpan,10):0;l>2?(l--,s.setAttribute("colSpan",l),s.cellIndex===o&&(s.innerHTML="")):2===l&&(s.removeAttribute("colSpan"),s.cellIndex===o&&(s.innerHTML=""))}continue;case At.resultAction.RemoveCell:pt.remove(r[a].baseCell,!0);continue}}},{key:"createTable",value:function(t,e,n){for(var o,r=[],a=0;a<t;a++)r.push("<td>"+pt.blank+"</td>");o=r.join("");for(var s,l=[],c=0;c<e;c++)l.push("<tr>"+o+"</tr>");s=l.join("");var u=i()("<table>"+s+"</table>");return n&&n.tableClassName&&u.addClass(n.tableClassName),u[0]}},{key:"deleteTable",value:function(t){var e=pt.ancestor(t.commonAncestor(),pt.isCell);i()(e).closest("table").remove()}}])&&Lt(e.prototype,n),o&&Lt(e,o),t}();function Dt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ht=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.snapshot=null,this.style=new $t,this.table=new Ft,this.typing=new Rt(e),this.bullet=new It,this.history=new Tt(e),this.context.memo("help.escape",this.lang.help.escape),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var o=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],r=0,a=o.length;r<a;r++)this[o[r]]=function(t){return function(e){n.beforeCommand(),document.execCommand(t,!1,e),n.afterCommand(!0)}}(o[r]),this.context.memo("help."+o[r],this.lang.help[o[r]]);this.fontName=this.wrapCommand((function(t){return n.fontStyling("font-family",m.validFontName(t))})),this.fontSize=this.wrapCommand((function(t){var e=n.currentStyle()["font-size-unit"];return n.fontStyling("font-size",t+e)})),this.fontSizeUnit=this.wrapCommand((function(t){var e=n.currentStyle()["font-size"];return n.fontStyling("font-size",e+t)}));for(var s=1;s<=6;s++)this["formatH"+s]=function(t){return function(){n.formatBlock("H"+t)}}(s),this.context.memo("help.formatH"+s,this.lang.help["formatH"+s]);this.insertParagraph=this.wrapCommand((function(){n.typing.insertParagraph(n.editable)})),this.insertOrderedList=this.wrapCommand((function(){n.bullet.insertOrderedList(n.editable)})),this.insertUnorderedList=this.wrapCommand((function(){n.bullet.insertUnorderedList(n.editable)})),this.indent=this.wrapCommand((function(){n.bullet.indent(n.editable)})),this.outdent=this.wrapCommand((function(){n.bullet.outdent(n.editable)})),this.insertNode=this.wrapCommand((function(t){n.isLimited(i()(t).text().length)||(n.getLastRange().insertNode(t),n.setLastRange(wt.createFromNodeAfter(t).select()))})),this.insertText=this.wrapCommand((function(t){if(!n.isLimited(t.length)){var e=n.getLastRange().insertNode(pt.createText(t));n.setLastRange(wt.create(e,pt.nodeLength(e)).select())}})),this.pasteHTML=this.wrapCommand((function(t){if(!n.isLimited(t.length)){t=n.context.invoke("codeview.purify",t);var e=n.getLastRange().pasteHTML(t);n.setLastRange(wt.createFromNodeAfter(C.last(e)).select())}})),this.formatBlock=this.wrapCommand((function(t,e){var o=n.options.callbacks.onApplyCustomStyle;o?o.call(n,e,n.context,n.onFormatBlock):n.onFormatBlock(t,e)})),this.insertHorizontalRule=this.wrapCommand((function(){var t=n.getLastRange().insertNode(pt.create("HR"));t.nextSibling&&n.setLastRange(wt.create(t.nextSibling,0).normalize().select())})),this.lineHeight=this.wrapCommand((function(t){n.style.stylePara(n.getLastRange(),{lineHeight:t})})),this.createLink=this.wrapCommand((function(t){var e=t.url,o=t.text,r=t.isNewWindow,a=t.checkProtocol,s=t.range||n.getLastRange(),l=o.length-s.toString().length;if(!(l>0&&n.isLimited(l))){var c=s.toString()!==o;"string"==typeof e&&(e=e.trim()),n.options.onCreateLink?e=n.options.onCreateLink(e):a&&(e=/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(e)?e:n.options.defaultProtocol+e);var u=[];if(c){var d=(s=s.deleteContents()).insertNode(i()("<A>"+o+"</A>")[0]);u.push(d)}else u=n.style.styleNodes(s,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});i.a.each(u,(function(t,n){i()(n).attr("href",e),r?i()(n).attr("target","_blank"):i()(n).removeAttr("target")})),n.setLastRange(n.createRangeFromList(u).select())}})),this.color=this.wrapCommand((function(t){var e=t.foreColor,n=t.backColor;e&&document.execCommand("foreColor",!1,e),n&&document.execCommand("backColor",!1,n)})),this.foreColor=this.wrapCommand((function(t){document.execCommand("foreColor",!1,t)})),this.insertTable=this.wrapCommand((function(t){var e=t.split("x");n.getLastRange().deleteContents().insertNode(n.table.createTable(e[0],e[1],n.options))})),this.removeMedia=this.wrapCommand((function(){var t=i()(n.restoreTarget()).parent();t.closest("figure").length?t.closest("figure").remove():t=i()(n.restoreTarget()).detach(),n.context.triggerEvent("media.delete",t,n.$editable)})),this.floatMe=this.wrapCommand((function(t){var e=i()(n.restoreTarget());e.toggleClass("note-float-left","left"===t),e.toggleClass("note-float-right","right"===t),e.css("float","none"===t?"":t)})),this.resize=this.wrapCommand((function(t){var e=i()(n.restoreTarget());0===(t=parseFloat(t))?e.css("width",""):e.css({width:100*t+"%",height:""})}))}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){var t=this;this.$editable.on("keydown",(function(e){if(e.keyCode===xt.code.ENTER&&t.context.triggerEvent("enter",e),t.context.triggerEvent("keydown",e),t.snapshot=t.history.makeSnapshot(),t.hasKeyShortCut=!1,e.isDefaultPrevented()||(t.options.shortcuts?t.hasKeyShortCut=t.handleKeyMap(e):t.preventDefaultEditableShortCuts(e)),t.isLimited(1,e)){var n=t.getLastRange();if(n.eo-n.so==0)return!1}t.setLastRange(),t.options.recordEveryKeystroke&&!1===t.hasKeyShortCut&&t.history.recordUndo()})).on("keyup",(function(e){t.setLastRange(),t.context.triggerEvent("keyup",e)})).on("focus",(function(e){t.setLastRange(),t.context.triggerEvent("focus",e)})).on("blur",(function(e){t.context.triggerEvent("blur",e)})).on("mousedown",(function(e){t.context.triggerEvent("mousedown",e)})).on("mouseup",(function(e){t.setLastRange(),t.history.recordUndo(),t.context.triggerEvent("mouseup",e)})).on("scroll",(function(e){t.context.triggerEvent("scroll",e)})).on("paste",(function(e){t.setLastRange(),t.context.triggerEvent("paste",e)})).on("input",(function(){t.isLimited(0)&&t.snapshot&&t.history.applySnapshot(t.snapshot)})),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.attr("autocorrect",this.options.spellCheck),this.options.disableGrammar&&this.$editable.attr("data-gramm",!1),this.$editable.html(pt.html(this.$note)||pt.emptyPara),this.$editable.on(m.inputEventName,g.debounce((function(){t.context.triggerEvent("change",t.$editable.html(),t.$editable)}),10)),this.$editable.on("focusin",(function(e){t.context.triggerEvent("focusin",e)})).on("focusout",(function(e){t.context.triggerEvent("focusout",e)})),this.options.airMode?this.options.overrideContextMenu&&this.$editor.on("contextmenu",(function(e){return t.context.triggerEvent("contextmenu",e),!1})):(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()}},{key:"destroy",value:function(){this.$editable.off()}},{key:"handleKeyMap",value:function(t){var e=this.options.keyMap[m.isMac?"mac":"pc"],n=[];t.metaKey&&n.push("CMD"),t.ctrlKey&&!t.altKey&&n.push("CTRL"),t.shiftKey&&n.push("SHIFT");var o=xt.nameFromCode[t.keyCode];o&&n.push(o);var i=e[n.join("+")];if("TAB"!==o||this.options.tabDisable)if(i){if(!1!==this.context.invoke(i))return t.preventDefault(),!0}else xt.isEdit(t.keyCode)&&this.afterCommand();else this.afterCommand();return!1}},{key:"preventDefaultEditableShortCuts",value:function(t){(t.ctrlKey||t.metaKey)&&C.contains([66,73,85],t.keyCode)&&t.preventDefault()}},{key:"isLimited",value:function(t,e){return t=t||0,(void 0===e||!(xt.isMove(e.keyCode)||xt.isNavigation(e.keyCode)||e.ctrlKey||e.metaKey||C.contains([xt.code.BACKSPACE,xt.code.DELETE],e.keyCode)))&&this.options.maxTextLength>0&&this.$editable.text().length+t>this.options.maxTextLength}},{key:"createRange",value:function(){return this.focus(),this.setLastRange(),this.getLastRange()}},{key:"createRangeFromList",value:function(t){var e=wt.createFromNodeBefore(C.head(t)).getStartPoint(),n=wt.createFromNodeAfter(C.last(t)).getEndPoint();return wt.create(e.node,e.offset,n.node,n.offset)}},{key:"setLastRange",value:function(t){t?this.lastRange=t:(this.lastRange=wt.create(this.editable),0===i()(this.lastRange.sc).closest(".note-editable").length&&(this.lastRange=wt.createFromBodyElement(this.editable)))}},{key:"getLastRange",value:function(){return this.lastRange||this.setLastRange(),this.lastRange}},{key:"saveRange",value:function(t){t&&this.getLastRange().collapse().select()}},{key:"restoreRange",value:function(){this.lastRange&&(this.lastRange.select(),this.focus())}},{key:"saveTarget",value:function(t){this.$editable.data("target",t)}},{key:"clearTarget",value:function(){this.$editable.removeData("target")}},{key:"restoreTarget",value:function(){return this.$editable.data("target")}},{key:"currentStyle",value:function(){var t=wt.create();return t&&(t=t.normalize()),t?this.style.current(t):this.style.fromNode(this.$editable)}},{key:"styleFromNode",value:function(t){return this.style.fromNode(t)}},{key:"undo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"commit",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"redo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"beforeCommand",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),document.execCommand("styleWithCSS",!1,this.options.styleWithCSS),this.focus()}},{key:"afterCommand",value:function(t){this.normalizeContent(),this.history.recordUndo(),t||this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"tab",value:function(){var t=this.getLastRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(t,this.options.tabSize),this.afterCommand())}}},{key:"untab",value:function(){var t=this.getLastRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t,!0);else if(0===this.options.tabSize)return!1}},{key:"wrapCommand",value:function(t){return function(){this.beforeCommand(),t.apply(this,arguments),this.afterCommand()}}},{key:"insertImage",value:function(t,e){var n,o=this;return(n=t,i.a.Deferred((function(t){var e=i()("<img>");e.one("load",(function(){e.off("error abort"),t.resolve(e)})).one("error abort",(function(){e.off("load").detach(),t.reject(e)})).css({display:"none"}).appendTo(document.body).attr("src",n)})).promise()).then((function(t){o.beforeCommand(),"function"==typeof e?e(t):("string"==typeof e&&t.attr("data-filename",e),t.css("width",Math.min(o.$editable.width(),t.width()))),t.show(),o.getLastRange().insertNode(t[0]),o.setLastRange(wt.createFromNodeAfter(t[0]).select()),o.afterCommand()})).fail((function(t){o.context.triggerEvent("image.upload.error",t)}))}},{key:"insertImagesAsDataURL",value:function(t){var e=this;i.a.each(t,(function(t,n){var o=n.name;e.options.maximumImageFileSize&&e.options.maximumImageFileSize<n.size?e.context.triggerEvent("image.upload.error",e.lang.image.maximumFileSizeError):function(t){return i.a.Deferred((function(e){i.a.extend(new FileReader,{onload:function(t){var n=t.target.result;e.resolve(n)},onerror:function(t){e.reject(t)}}).readAsDataURL(t)})).promise()}(n).then((function(t){return e.insertImage(t,o)})).fail((function(){e.context.triggerEvent("image.upload.error")}))}))}},{key:"insertImagesOrCallback",value:function(t){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",t):this.insertImagesAsDataURL(t)}},{key:"getSelectedText",value:function(){var t=this.getLastRange();return t.isOnAnchor()&&(t=wt.createFromNode(pt.ancestor(t.sc,pt.isAnchor))),t.toString()}},{key:"onFormatBlock",value:function(t,e){if(document.execCommand("FormatBlock",!1,m.isMSIE?"<"+t+">":t),e&&e.length&&(e[0].tagName.toUpperCase()!==t.toUpperCase()&&(e=e.find(t)),e&&e.length)){var n=e[0].className||"";if(n){var o=this.createRange();i()([o.sc,o.ec]).closest(t).addClass(n)}}}},{key:"formatPara",value:function(){this.formatBlock("P")}},{key:"fontStyling",value:function(t,e){var n=this.getLastRange();if(""!==n){var o=this.style.styleNodes(n);if(this.$editor.find(".note-status-output").html(""),i()(o).css(t,e),n.isCollapsed()){var r=C.head(o);r&&!pt.nodeLength(r)&&(r.innerHTML=pt.ZERO_WIDTH_NBSP_CHAR,wt.createFromNode(r.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",r))}else this.setLastRange(this.createRangeFromList(o).select())}else{var a=i.a.now();this.$editor.find(".note-status-output").html('<div id="note-status-output-'+a+'" class="alert alert-info">'+this.lang.output.noSelection+"</div>"),setTimeout((function(){i()("#note-status-output-"+a).remove()}),5e3)}}},{key:"unlink",value:function(){var t=this.getLastRange();if(t.isOnAnchor()){var e=pt.ancestor(t.sc,pt.isAnchor);(t=wt.createFromNode(e)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}}},{key:"getLinkInfo",value:function(){var t=this.getLastRange().expand(pt.isAnchor),e=i()(C.head(t.nodes(pt.isAnchor))),n={range:t,text:t.toString(),url:e.length?e.attr("href"):""};return e.length&&(n.isNewWindow="_blank"===e.attr("target")),n}},{key:"addRow",value:function(t){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addRow(e,t),this.afterCommand())}},{key:"addCol",value:function(t){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addCol(e,t),this.afterCommand())}},{key:"deleteRow",value:function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(t),this.afterCommand())}},{key:"deleteCol",value:function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(t),this.afterCommand())}},{key:"deleteTable",value:function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(t),this.afterCommand())}},{key:"resizeTo",value:function(t,e,n){var o;if(n){var i=t.y/t.x,r=e.data("ratio");o={width:r>i?t.x:t.y/r,height:r>i?t.x*r:t.y}}else o={width:t.x,height:t.y};e.css(o)}},{key:"hasFocus",value:function(){return this.$editable.is(":focus")}},{key:"focus",value:function(){this.hasFocus()||this.$editable.focus()}},{key:"isEmpty",value:function(){return pt.isEmpty(this.$editable[0])||pt.emptyPara===this.$editable.html()}},{key:"empty",value:function(){this.context.invoke("code",pt.emptyPara)}},{key:"normalizeContent",value:function(){this.$editable[0].normalize()}}])&&Dt(e.prototype,n),o&&Dt(e,o),t}();function Bt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var zt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$editable=e.layoutInfo.editable}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){this.$editable.on("paste",this.pasteByEvent.bind(this))}},{key:"pasteByEvent",value:function(t){var e=this,n=t.originalEvent.clipboardData;if(n&&n.items&&n.items.length){var o=n.items.length>1?n.items[1]:C.head(n.items);"file"===o.kind&&-1!==o.type.indexOf("image/")?(this.context.invoke("editor.insertImagesOrCallback",[o.getAsFile()]),t.preventDefault()):"string"===o.kind&&this.context.invoke("editor.isLimited",n.getData("Text").length)&&t.preventDefault()}else if(window.clipboardData){var i=window.clipboardData.getData("text");this.context.invoke("editor.isLimited",i.length)&&t.preventDefault()}setTimeout((function(){e.context.invoke("editor.afterCommand")}),10)}}])&&Bt(e.prototype,n),o&&Bt(e,o),t}();function Mt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ot=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$eventListener=i()(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=i()(['<div class="note-dropzone">','<div class="note-dropzone-message"></div>',"</div>"].join("")).prependTo(this.$editor)}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(t){t.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()}},{key:"attachDragAndDropEvent",value:function(){var t=this,e=i()(),n=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(o){var i=t.context.invoke("codeview.isActivated"),r=t.$editor.width()>0&&t.$editor.height()>0;i||e.length||!r||(t.$editor.addClass("dragover"),t.$dropzone.width(t.$editor.width()),t.$dropzone.height(t.$editor.height()),n.text(t.lang.image.dragImageHere)),e=e.add(o.target)},this.documentEventHandlers.onDragleave=function(n){(e=e.not(n.target)).length&&"BODY"!==n.target.nodeName||(e=i()(),t.$editor.removeClass("dragover"))},this.documentEventHandlers.onDrop=function(){e=i()(),t.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",(function(){t.$dropzone.addClass("hover"),n.text(t.lang.image.dropImage)})).on("dragleave",(function(){t.$dropzone.removeClass("hover"),n.text(t.lang.image.dragImageHere)})),this.$dropzone.on("drop",(function(e){var n=e.originalEvent.dataTransfer;e.preventDefault(),n&&n.files&&n.files.length?(t.$editable.focus(),t.context.invoke("editor.insertImagesOrCallback",n.files)):i.a.each(n.types,(function(e,o){if(!(o.toLowerCase().indexOf("_moz_")>-1)){var r=n.getData(o);o.toLowerCase().indexOf("text")>-1?t.context.invoke("editor.pasteHTML",r):i()(r).each((function(e,n){t.context.invoke("editor.insertNode",n)}))}}))})).on("dragover",!1)}},{key:"destroy",value:function(){var t=this;Object.keys(this.documentEventHandlers).forEach((function(e){t.$eventListener.off(e.substr(2).toLowerCase(),t.documentEventHandlers[e])})),this.documentEventHandlers={}}}])&&Mt(e.prototype,n),o&&Mt(e,o),t}();function jt(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return Ut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ut(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,r=!0,a=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return r=t.done,t},e:function(t){a=!0,i=t},f:function(){try{r||null==o.return||o.return()}finally{if(a)throw i}}}}function Ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Wt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Kt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options,this.CodeMirrorConstructor=window.CodeMirror,this.options.codemirror.CodeMirrorConstructor&&(this.CodeMirrorConstructor=this.options.codemirror.CodeMirrorConstructor)}var e,n,o;return e=t,(n=[{key:"sync",value:function(t){var e=this.isActivated(),n=this.CodeMirrorConstructor;e&&(t?n?this.$codable.data("cmEditor").getDoc().setValue(t):this.$codable.val(t):n&&this.$codable.data("cmEditor").save())}},{key:"initialize",value:function(){var t=this;this.$codable.on("keyup",(function(e){e.keyCode===xt.code.ESCAPE&&t.deactivate()}))}},{key:"isActivated",value:function(){return this.$editor.hasClass("codeview")}},{key:"toggle",value:function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")}},{key:"purify",value:function(t){if(this.options.codeviewFilter&&(t=t.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var e=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);t=t.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,(function(t){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(t))return"";var n,o=jt(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(new RegExp('src="(https?:)?//'+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(t))return t}}catch(t){o.e(t)}finally{o.f()}return""}))}return t}},{key:"activate",value:function(){var t=this,e=this.CodeMirrorConstructor;if(this.$codable.val(pt.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.context.invoke("airPopover.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),e){var n=e.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var o=new e.TernServer(this.options.codemirror.tern);n.ternServer=o,n.on("cursorActivity",(function(t){o.updateArgHints(t)}))}n.on("blur",(function(e){t.context.triggerEvent("blur.codeview",n.getValue(),e)})),n.on("change",(function(){t.context.triggerEvent("change.codeview",n.getValue(),n)})),n.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",n)}else this.$codable.on("blur",(function(e){t.context.triggerEvent("blur.codeview",t.$codable.val(),e)})),this.$codable.on("input",(function(){t.context.triggerEvent("change.codeview",t.$codable.val(),t.$codable)}))}},{key:"deactivate",value:function(){if(this.CodeMirrorConstructor){var t=this.$codable.data("cmEditor");this.$codable.val(t.getValue()),t.toTextArea()}var e=this.purify(pt.value(this.$codable,this.options.prettifyHtml)||pt.emptyPara),n=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),n&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1),this.context.invoke("airPopover.updateCodeview",!1)}},{key:"destroy",value:function(){this.isActivated()&&this.deactivate()}}])&&Wt(e.prototype,n),o&&Wt(e,o),t}();function Vt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var qt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$document=i()(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){var t=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",(function(e){e.preventDefault(),e.stopPropagation();var n=t.$editable.offset().top-t.$document.scrollTop(),o=function(e){var o=e.clientY-(n+24);o=t.options.minheight>0?Math.max(o,t.options.minheight):o,o=t.options.maxHeight>0?Math.min(o,t.options.maxHeight):o,t.$editable.height(o)};t.$document.on("mousemove",o).one("mouseup",(function(){t.$document.off("mousemove",o)}))}))}},{key:"destroy",value:function(){this.$statusbar.off(),this.$statusbar.addClass("locked")}}])&&Vt(e.prototype,n),o&&Vt(e,o),t}();function _t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Gt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=i()(window),this.$scrollbar=i()("html, body"),this.onResize=function(){n.resizeTo({h:n.$window.height()-n.$toolbar.outerHeight()})}}var e,n,o;return e=t,(n=[{key:"resizeTo",value:function(t){this.$editable.css("height",t.h),this.$codable.css("height",t.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,t.h)}},{key:"toggle",value:function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())}},{key:"isFullscreen",value:function(){return this.$editor.hasClass("fullscreen")}}])&&_t(e.prototype,n),o&&_t(e,o),t}();function Yt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Zt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$document=i()(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(t,e){n.update(e.target,e)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable summernote.blur":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){var t=this;this.$handle=i()(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",(function(e){if(pt.isControlSizing(e.target)){e.preventDefault(),e.stopPropagation();var n=t.$handle.find(".note-control-selection").data("target"),o=n.offset(),i=t.$document.scrollTop(),r=function(e){t.context.invoke("editor.resizeTo",{x:e.clientX-o.left,y:e.clientY-(o.top-i)},n,!e.shiftKey),t.update(n[0],e)};t.$document.on("mousemove",r).one("mouseup",(function(e){e.preventDefault(),t.$document.off("mousemove",r),t.context.invoke("editor.afterCommand")})),n.data("ratio")||n.data("ratio",n.height()/n.width())}})),this.$handle.on("wheel",(function(e){e.preventDefault(),t.update()}))}},{key:"destroy",value:function(){this.$handle.remove()}},{key:"update",value:function(t,e){if(this.context.isDisabled())return!1;var n=pt.isImg(t),o=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",t,e),n){var r=i()(t),a=r.position(),s={left:a.left+parseInt(r.css("marginLeft"),10),top:a.top+parseInt(r.css("marginTop"),10)},l={w:r.outerWidth(!1),h:r.outerHeight(!1)};o.css({display:"block",left:s.left,top:s.top,width:l.w,height:l.h}).data("target",r);var c=new Image;c.src=r.attr("src");var u=l.w+"x"+l.h+" ("+this.lang.image.original+": "+c.width+"x"+c.height+")";o.find(".note-control-selection-info").text(u),this.context.invoke("editor.saveTarget",t)}else this.hide();return n}},{key:"hide",value:function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()}}])&&Yt(e.prototype,n),o&&Yt(e,o),t}();function Xt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Qt=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Jt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.options=e.options,this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||n.handleKeyup(e)},"summernote.keydown":function(t,e){n.handleKeydown(e)}}}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){this.lastWordRange=null}},{key:"destroy",value:function(){this.lastWordRange=null}},{key:"replace",value:function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),e=t.match(Qt);if(e&&(e[1]||e[2])){var n=e[1]?t:"http://"+t,o=this.options.showDomainOnlyForAutolink?t.replace(/^(?:https?:\/\/)?(?:tel?:?)?(?:mailto?:?)?(?:www\.)?/i,"").split("/")[0]:t,r=i()("<a />").html(o).attr("href",n)[0];this.context.options.linkTargetBlank&&i()(r).attr("target","_blank"),this.lastWordRange.insertNode(r),this.lastWordRange=null,this.context.invoke("editor.focus")}}}},{key:"handleKeydown",value:function(t){if(C.contains([xt.code.ENTER,xt.code.SPACE],t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=e}}},{key:"handleKeyup",value:function(t){C.contains([xt.code.ENTER,xt.code.SPACE],t.keyCode)&&this.replace()}}])&&Xt(e.prototype,n),o&&Xt(e,o),t}();function te(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ee=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){n.$note.val(e.invoke("code"))}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return pt.isTextarea(this.$note[0])}}])&&te(e.prototype,n),o&&te(e,o),t}();function ne(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var oe=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.options=e.options.replace||{},this.keys=[xt.code.ENTER,xt.code.SPACE,xt.code.PERIOD,xt.code.COMMA,xt.code.SEMICOLON,xt.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||n.handleKeyup(e)},"summernote.keydown":function(t,e){n.handleKeydown(e)}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return!!this.options.match}},{key:"initialize",value:function(){this.lastWord=null}},{key:"destroy",value:function(){this.lastWord=null}},{key:"replace",value:function(){if(this.lastWord){var t=this,e=this.lastWord.toString();this.options.match(e,(function(e){if(e){var n="";if("string"==typeof e?n=pt.createText(e):e instanceof jQuery?n=e[0]:e instanceof Node&&(n=e),!n)return;t.lastWord.insertNode(n),t.lastWord=null,t.context.invoke("editor.focus")}}))}}},{key:"handleKeydown",value:function(t){if(this.previousKeydownCode&&C.contains(this.keys,this.previousKeydownCode))this.previousKeydownCode=t.keyCode;else{if(C.contains(this.keys,t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWord=e}this.previousKeydownCode=t.keyCode}}},{key:"handleKeyup",value:function(t){C.contains(this.keys,t.keyCode)&&this.replace()}}])&&ne(e.prototype,n),o&&ne(e,o),t}();function ie(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var re=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,!0===this.options.inheritPlaceholder&&(this.options.placeholder=this.context.$note.attr("placeholder")||this.options.placeholder),this.events={"summernote.init summernote.change":function(){n.update()},"summernote.codeview.toggled":function(){n.update()}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return!!this.options.placeholder}},{key:"initialize",value:function(){var t=this;this.$placeholder=i()('<div class="note-placeholder">'),this.$placeholder.on("click",(function(){t.context.invoke("focus")})).html(this.options.placeholder).prependTo(this.$editingArea),this.update()}},{key:"destroy",value:function(){this.$placeholder.remove()}},{key:"update",value:function(){var t=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(t)}}])&&ie(e.prototype,n),o&&ie(e,o),t}();function ae(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var se=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ui=i.a.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=g.invertObject(this.options.keyMap[m.isMac?"mac":"pc"])}var e,n,o;return e=t,(n=[{key:"representShortcut",value:function(t){var e=this.invertedKeyMap[t];return this.options.shortcuts&&e?(m.isMac&&(e=e.replace("CMD","⌘").replace("SHIFT","⇧"))," ("+(e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""}},{key:"button",value:function(t){return!this.options.tooltip&&t.tooltip&&delete t.tooltip,t.container=this.options.container,this.ui.button(t)}},{key:"initialize",value:function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}}},{key:"destroy",value:function(){delete this.fontInstalledMap}},{key:"isFontInstalled",value:function(t){return Object.prototype.hasOwnProperty.call(this.fontInstalledMap,t)||(this.fontInstalledMap[t]=m.isFontInstalled(t)||C.contains(this.options.fontNamesIgnoreCheck,t)),this.fontInstalledMap[t]}},{key:"isFontDeservedToAdd",value:function(t){return""!==(t=t.toLowerCase())&&this.isFontInstalled(t)&&-1===m.genericFontFamilies.indexOf(t)}},{key:"colorPalette",value:function(t,e,n,o){var r=this;return this.ui.buttonGroup({className:"note-color "+t,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:e,click:function(t){var e=i()(t.currentTarget);n&&o?r.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")}):n?r.context.invoke("editor.color",{backColor:e.attr("data-backColor")}):o&&r.context.invoke("editor.color",{foreColor:e.attr("data-foreColor")})},callback:function(t){var e=t.find(".note-recent-color");n&&(e.css("background-color",r.options.colorButton.backColor),t.attr("data-backColor",r.options.colorButton.backColor)),o?(e.css("color",r.options.colorButton.foreColor),t.attr("data-foreColor",r.options.colorButton.foreColor)):e.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.background+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="backColor" data-value="transparent">',this.lang.color.transparent,"</button>","</div>",'<div class="note-holder" data-event="backColor">\x3c!-- back colors --\x3e</div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"</button>",'<input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"</div>",'<div class="note-holder-custom" id="backColorPalette" data-event="backColor"></div>',"</div>"].join(""):"")+(o?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.foreground+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"</button>","</div>",'<div class="note-holder" data-event="foreColor">\x3c!-- fore colors --\x3e</div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"</button>",'<input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">',"</div>",'<div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"></div>',"</div>"].join(""):""),callback:function(t){t.find(".note-holder").each((function(t,e){var n=i()(e);n.append(r.ui.palette({colors:r.options.colors,colorsName:r.options.colorsName,eventName:n.data("event"),container:r.options.container,tooltip:r.options.tooltip}).render())}));var e=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];t.find(".note-holder-custom").each((function(t,n){var o=i()(n);o.append(r.ui.palette({colors:e,colorsName:e,eventName:o.data("event"),container:r.options.container,tooltip:r.options.tooltip}).render())})),t.find("input[type=color]").each((function(e,n){i()(n).change((function(){var e=t.find("#"+i()(this).data("event")).find(".note-color-btn").first(),n=this.value.toUpperCase();e.css("background-color",n).attr("aria-label",n).attr("data-value",n).attr("data-original-title",n),e.click()}))}))},click:function(e){e.stopPropagation();var n=i()("."+t).find(".note-dropdown-menu"),o=i()(e.target),a=o.data("event"),s=o.attr("data-value");if("openPalette"===a){var l=n.find("#"+s),c=i()(n.find("#"+l.data("event")).find(".note-color-row")[0]),u=c.find(".note-color-btn").last().detach(),d=l.val();u.css("background-color",d).attr("aria-label",d).attr("data-value",d).attr("data-original-title",d),c.prepend(u),l.click()}else{if(C.contains(["backColor","foreColor"],a)){var h="backColor"===a?"background-color":"color",f=o.closest(".note-color").find(".note-recent-color"),p=o.closest(".note-color").find(".note-current-color-button");f.css(h,s),p.attr("data-"+a,s)}r.context.invoke("editor."+a,s)}}})]}).render()}},{key:"addToolbarButtons",value:function(){var t=this;this.context.memo("button.style",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.magic),t.options),tooltip:t.lang.style.style,data:{toggle:"dropdown"}}),t.ui.dropdown({className:"dropdown-style",items:t.options.styleTags,title:t.lang.style.style,template:function(e){"string"==typeof e&&(e={tag:e,title:Object.prototype.hasOwnProperty.call(t.lang.style,e)?t.lang.style[e]:e});var n=e.tag,o=e.title;return"<"+n+(e.style?' style="'+e.style+'" ':"")+(e.className?' class="'+e.className+'"':"")+">"+o+"</"+n+">"},click:t.context.createInvokeHandler("editor.formatBlock")})]).render()}));for(var e=function(e,n){var o=t.options.styleTags[e];t.context.memo("button.style."+o,(function(){return t.button({className:"note-btn-style-"+o,contents:'<div data-value="'+o+'">'+o.toUpperCase()+"</div>",tooltip:t.lang.style[o],click:t.context.createInvokeHandler("editor.formatBlock")}).render()}))},n=0,o=this.options.styleTags.length;n<o;n++)e(n);this.context.memo("button.bold",(function(){return t.button({className:"note-btn-bold",contents:t.ui.icon(t.options.icons.bold),tooltip:t.lang.font.bold+t.representShortcut("bold"),click:t.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()})),this.context.memo("button.italic",(function(){return t.button({className:"note-btn-italic",contents:t.ui.icon(t.options.icons.italic),tooltip:t.lang.font.italic+t.representShortcut("italic"),click:t.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()})),this.context.memo("button.underline",(function(){return t.button({className:"note-btn-underline",contents:t.ui.icon(t.options.icons.underline),tooltip:t.lang.font.underline+t.representShortcut("underline"),click:t.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()})),this.context.memo("button.clear",(function(){return t.button({contents:t.ui.icon(t.options.icons.eraser),tooltip:t.lang.font.clear+t.representShortcut("removeFormat"),click:t.context.createInvokeHandler("editor.removeFormat")}).render()})),this.context.memo("button.strikethrough",(function(){return t.button({className:"note-btn-strikethrough",contents:t.ui.icon(t.options.icons.strikethrough),tooltip:t.lang.font.strikethrough+t.representShortcut("strikethrough"),click:t.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()})),this.context.memo("button.superscript",(function(){return t.button({className:"note-btn-superscript",contents:t.ui.icon(t.options.icons.superscript),tooltip:t.lang.font.superscript,click:t.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()})),this.context.memo("button.subscript",(function(){return t.button({className:"note-btn-subscript",contents:t.ui.icon(t.options.icons.subscript),tooltip:t.lang.font.subscript,click:t.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()})),this.context.memo("button.fontname",(function(){var e=t.context.invoke("editor.currentStyle");return t.options.addDefaultFonts&&i.a.each(e["font-family"].split(","),(function(e,n){n=n.trim().replace(/['"]+/g,""),t.isFontDeservedToAdd(n)&&-1===t.options.fontNames.indexOf(n)&&t.options.fontNames.push(n)})),t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents('<span class="note-current-fontname"></span>',t.options),tooltip:t.lang.font.name,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:t.options.icons.menuCheck,items:t.options.fontNames.filter(t.isFontInstalled.bind(t)),title:t.lang.font.name,template:function(t){return'<span style="font-family: '+m.validFontName(t)+'">'+t+"</span>"},click:t.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()})),this.context.memo("button.fontsize",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents('<span class="note-current-fontsize"></span>',t.options),tooltip:t.lang.font.size,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:t.options.icons.menuCheck,items:t.options.fontSizes,title:t.lang.font.size,click:t.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()})),this.context.memo("button.fontsizeunit",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents('<span class="note-current-fontsizeunit"></span>',t.options),tooltip:t.lang.font.sizeunit,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({className:"dropdown-fontsizeunit",checkClassName:t.options.icons.menuCheck,items:t.options.fontSizeUnits,title:t.lang.font.sizeunit,click:t.context.createInvokeHandlerAndUpdateState("editor.fontSizeUnit")})]).render()})),this.context.memo("button.color",(function(){return t.colorPalette("note-color-all",t.lang.color.recent,!0,!0)})),this.context.memo("button.forecolor",(function(){return t.colorPalette("note-color-fore",t.lang.color.foreground,!1,!0)})),this.context.memo("button.backcolor",(function(){return t.colorPalette("note-color-back",t.lang.color.background,!0,!1)})),this.context.memo("button.ul",(function(){return t.button({contents:t.ui.icon(t.options.icons.unorderedlist),tooltip:t.lang.lists.unordered+t.representShortcut("insertUnorderedList"),click:t.context.createInvokeHandler("editor.insertUnorderedList")}).render()})),this.context.memo("button.ol",(function(){return t.button({contents:t.ui.icon(t.options.icons.orderedlist),tooltip:t.lang.lists.ordered+t.representShortcut("insertOrderedList"),click:t.context.createInvokeHandler("editor.insertOrderedList")}).render()}));var r=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),a=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),s=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),l=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),c=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),u=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",g.invoke(r,"render")),this.context.memo("button.justifyCenter",g.invoke(a,"render")),this.context.memo("button.justifyRight",g.invoke(s,"render")),this.context.memo("button.justifyFull",g.invoke(l,"render")),this.context.memo("button.outdent",g.invoke(c,"render")),this.context.memo("button.indent",g.invoke(u,"render")),this.context.memo("button.paragraph",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.alignLeft),t.options),tooltip:t.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),t.ui.dropdown([t.ui.buttonGroup({className:"note-align",children:[r,a,s,l]}),t.ui.buttonGroup({className:"note-list",children:[c,u]})])]).render()})),this.context.memo("button.height",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.textHeight),t.options),tooltip:t.lang.font.height,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({items:t.options.lineHeights,checkClassName:t.options.icons.menuCheck,className:"dropdown-line-height",title:t.lang.font.height,click:t.context.createInvokeHandler("editor.lineHeight")})]).render()})),this.context.memo("button.table",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.table),t.options),tooltip:t.lang.table.table,data:{toggle:"dropdown"}}),t.ui.dropdown({title:t.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:t.options.insertTableMaxSize.col+"em",height:t.options.insertTableMaxSize.row+"em"}).mousedown(t.context.createInvokeHandler("editor.insertTable")).on("mousemove",t.tableMoveHandler.bind(t))}}).render()})),this.context.memo("button.link",(function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.link+t.representShortcut("linkDialog.show"),click:t.context.createInvokeHandler("linkDialog.show")}).render()})),this.context.memo("button.picture",(function(){return t.button({contents:t.ui.icon(t.options.icons.picture),tooltip:t.lang.image.image,click:t.context.createInvokeHandler("imageDialog.show")}).render()})),this.context.memo("button.video",(function(){return t.button({contents:t.ui.icon(t.options.icons.video),tooltip:t.lang.video.video,click:t.context.createInvokeHandler("videoDialog.show")}).render()})),this.context.memo("button.hr",(function(){return t.button({contents:t.ui.icon(t.options.icons.minus),tooltip:t.lang.hr.insert+t.representShortcut("insertHorizontalRule"),click:t.context.createInvokeHandler("editor.insertHorizontalRule")}).render()})),this.context.memo("button.fullscreen",(function(){return t.button({className:"btn-fullscreen note-codeview-keep",contents:t.ui.icon(t.options.icons.arrowsAlt),tooltip:t.lang.options.fullscreen,click:t.context.createInvokeHandler("fullscreen.toggle")}).render()})),this.context.memo("button.codeview",(function(){return t.button({className:"btn-codeview note-codeview-keep",contents:t.ui.icon(t.options.icons.code),tooltip:t.lang.options.codeview,click:t.context.createInvokeHandler("codeview.toggle")}).render()})),this.context.memo("button.redo",(function(){return t.button({contents:t.ui.icon(t.options.icons.redo),tooltip:t.lang.history.redo+t.representShortcut("redo"),click:t.context.createInvokeHandler("editor.redo")}).render()})),this.context.memo("button.undo",(function(){return t.button({contents:t.ui.icon(t.options.icons.undo),tooltip:t.lang.history.undo+t.representShortcut("undo"),click:t.context.createInvokeHandler("editor.undo")}).render()})),this.context.memo("button.help",(function(){return t.button({contents:t.ui.icon(t.options.icons.question),tooltip:t.lang.options.help,click:t.context.createInvokeHandler("helpDialog.show")}).render()}))}},{key:"addImagePopoverButtons",value:function(){var t=this;this.context.memo("button.resizeFull",(function(){return t.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:t.lang.image.resizeFull,click:t.context.createInvokeHandler("editor.resize","1")}).render()})),this.context.memo("button.resizeHalf",(function(){return t.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:t.lang.image.resizeHalf,click:t.context.createInvokeHandler("editor.resize","0.5")}).render()})),this.context.memo("button.resizeQuarter",(function(){return t.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:t.lang.image.resizeQuarter,click:t.context.createInvokeHandler("editor.resize","0.25")}).render()})),this.context.memo("button.resizeNone",(function(){return t.button({contents:t.ui.icon(t.options.icons.rollback),tooltip:t.lang.image.resizeNone,click:t.context.createInvokeHandler("editor.resize","0")}).render()})),this.context.memo("button.floatLeft",(function(){return t.button({contents:t.ui.icon(t.options.icons.floatLeft),tooltip:t.lang.image.floatLeft,click:t.context.createInvokeHandler("editor.floatMe","left")}).render()})),this.context.memo("button.floatRight",(function(){return t.button({contents:t.ui.icon(t.options.icons.floatRight),tooltip:t.lang.image.floatRight,click:t.context.createInvokeHandler("editor.floatMe","right")}).render()})),this.context.memo("button.floatNone",(function(){return t.button({contents:t.ui.icon(t.options.icons.rollback),tooltip:t.lang.image.floatNone,click:t.context.createInvokeHandler("editor.floatMe","none")}).render()})),this.context.memo("button.removeMedia",(function(){return t.button({contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.image.remove,click:t.context.createInvokeHandler("editor.removeMedia")}).render()}))}},{key:"addLinkPopoverButtons",value:function(){var t=this;this.context.memo("button.linkDialogShow",(function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.edit,click:t.context.createInvokeHandler("linkDialog.show")}).render()})),this.context.memo("button.unlink",(function(){return t.button({contents:t.ui.icon(t.options.icons.unlink),tooltip:t.lang.link.unlink,click:t.context.createInvokeHandler("editor.unlink")}).render()}))}},{key:"addTablePopoverButtons",value:function(){var t=this;this.context.memo("button.addRowUp",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowAbove),tooltip:t.lang.table.addRowAbove,click:t.context.createInvokeHandler("editor.addRow","top")}).render()})),this.context.memo("button.addRowDown",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowBelow),tooltip:t.lang.table.addRowBelow,click:t.context.createInvokeHandler("editor.addRow","bottom")}).render()})),this.context.memo("button.addColLeft",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colBefore),tooltip:t.lang.table.addColLeft,click:t.context.createInvokeHandler("editor.addCol","left")}).render()})),this.context.memo("button.addColRight",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colAfter),tooltip:t.lang.table.addColRight,click:t.context.createInvokeHandler("editor.addCol","right")}).render()})),this.context.memo("button.deleteRow",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowRemove),tooltip:t.lang.table.delRow,click:t.context.createInvokeHandler("editor.deleteRow")}).render()})),this.context.memo("button.deleteCol",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colRemove),tooltip:t.lang.table.delCol,click:t.context.createInvokeHandler("editor.deleteCol")}).render()})),this.context.memo("button.deleteTable",(function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.table.delTable,click:t.context.createInvokeHandler("editor.deleteTable")}).render()}))}},{key:"build",value:function(t,e){for(var n=0,o=e.length;n<o;n++){for(var i=e[n],r=Array.isArray(i)?i[0]:i,a=Array.isArray(i)?1===i.length?[i[0]]:i[1]:[i],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var u=this.context.memo("button."+a[l]);u&&s.append("function"==typeof u?u(this.context):u)}s.appendTo(t)}}},{key:"updateCurrentStyle",value:function(t){var e=this,n=t||this.$toolbar,o=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(n,{".note-btn-bold":function(){return"bold"===o["font-bold"]},".note-btn-italic":function(){return"italic"===o["font-italic"]},".note-btn-underline":function(){return"underline"===o["font-underline"]},".note-btn-subscript":function(){return"subscript"===o["font-subscript"]},".note-btn-superscript":function(){return"superscript"===o["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===o["font-strikethrough"]}}),o["font-family"]){var r=o["font-family"].split(",").map((function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")})),a=C.find(r,this.isFontInstalled.bind(this));n.find(".dropdown-fontname a").each((function(t,e){var n=i()(e),o=n.data("value")+""==a+"";n.toggleClass("checked",o)})),n.find(".note-current-fontname").text(a).css("font-family",a)}if(o["font-size"]){var s=o["font-size"];n.find(".dropdown-fontsize a").each((function(t,e){var n=i()(e),o=n.data("value")+""==s+"";n.toggleClass("checked",o)})),n.find(".note-current-fontsize").text(s);var l=o["font-size-unit"];n.find(".dropdown-fontsizeunit a").each((function(t,e){var n=i()(e),o=n.data("value")+""==l+"";n.toggleClass("checked",o)})),n.find(".note-current-fontsizeunit").text(l)}if(o["line-height"]){var c=o["line-height"];n.find(".dropdown-line-height li a").each((function(t,n){var o=i()(n).data("value")+""==c+"";e.className=o?"checked":""}))}}},{key:"updateBtnStates",value:function(t,e){var n=this;i.a.each(e,(function(e,o){n.ui.toggleBtnActive(t.find(e),o())}))}},{key:"tableMoveHandler",value:function(t){var e,n=i()(t.target.parentNode),o=n.next(),r=n.find(".note-dimension-picker-mousecatcher"),a=n.find(".note-dimension-picker-highlighted"),s=n.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var l=i()(t.target).offset();e={x:t.pageX-l.left,y:t.pageY-l.top}}else e={x:t.offsetX,y:t.offsetY};var c=Math.ceil(e.x/18)||1,u=Math.ceil(e.y/18)||1;a.css({width:c+"em",height:u+"em"}),r.data("value",c+"x"+u),c>3&&c<this.options.insertTableMaxSize.col&&s.css({width:c+1+"em"}),u>3&&u<this.options.insertTableMaxSize.row&&s.css({height:u+1+"em"}),o.html(c+" x "+u)}}])&&ae(e.prototype,n),o&&ae(e,o),t}();function le(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ce=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.$window=i()(window),this.$document=i()(document),this.ui=i.a.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$statusbar=e.layoutInfo.statusbar,this.options=e.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return!this.options.airMode}},{key:"initialize",value:function(){var t=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",(function(){t.context.invoke("buttons.updateCurrentStyle")})),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)}},{key:"destroy",value:function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)}},{key:"followScroll",value:function(){if(this.$editor.hasClass("fullscreen"))return!1;var t=this.$editor.outerHeight(),e=this.$editor.width(),n=this.$toolbar.height(),o=this.$statusbar.height(),r=0;this.options.otherStaticBar&&(r=i()(this.options.otherStaticBar).outerHeight());var a=this.$document.scrollTop(),s=this.$editor.offset().top,l=s-r,c=s+t-r-n-o;!this.isFollowing&&a>l&&a<c-n?(this.isFollowing=!0,this.$editable.css({marginTop:this.$toolbar.outerHeight()}),this.$toolbar.css({position:"fixed",top:r,width:e,zIndex:1e3})):this.isFollowing&&(a<l||a>c)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%",zIndex:"auto"}),this.$editable.css({marginTop:""}))}},{key:"changeContainer",value:function(t){t?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.options.followingToolbar&&this.followScroll()}},{key:"updateFullscreen",value:function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),t),this.changeContainer(t)}},{key:"updateCodeview",value:function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),t),t?this.deactivate():this.activate()}},{key:"activate",value:function(t){var e=this.$toolbar.find("button");t||(e=e.not(".note-codeview-keep")),this.ui.toggleBtn(e,!0)}},{key:"deactivate",value:function(t){var e=this.$toolbar.find("button");t||(e=e.not(".note-codeview-keep")),this.ui.toggleBtn(e,!1)}}])&&le(e.prototype,n),o&&le(e,o),t}();function ue(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var de=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.$body=i()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){var t=this.options.dialogsInBody?this.$body:this.options.container,e=['<div class="form-group note-form-group">','<label for="note-dialog-link-txt-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.textToDisplay,"</label>"),'<input id="note-dialog-link-txt-'.concat(this.options.id,'" class="note-link-text form-control note-form-control note-input" type="text"/>'),"</div>",'<div class="form-group note-form-group">','<label for="note-dialog-link-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.url,"</label>"),'<input id="note-dialog-link-url-'.concat(this.options.id,'" class="note-link-url form-control note-form-control note-input" type="text" value="http://"/>'),"</div>",this.options.disableLinkTarget?"":i()("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html(),i()("<div/>").append(this.ui.checkbox({className:"sn-checkbox-use-protocol",text:this.lang.link.useProtocol,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-link-btn",'" value="').concat(this.lang.link.insert,'" disabled>');this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:e,footer:n}).render().appendTo(t)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(t,e){t.on("keypress",(function(t){t.keyCode===xt.code.ENTER&&(t.preventDefault(),e.trigger("click"))}))}},{key:"toggleLinkBtn",value:function(t,e,n){this.ui.toggleBtn(t,e.val()&&n.val())}},{key:"showLinkDialog",value:function(t){var e=this;return i.a.Deferred((function(n){var o=e.$dialog.find(".note-link-text"),i=e.$dialog.find(".note-link-url"),r=e.$dialog.find(".note-link-btn"),a=e.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]"),s=e.$dialog.find(".sn-checkbox-use-protocol input[type=checkbox]");e.ui.onDialogShown(e.$dialog,(function(){e.context.triggerEvent("dialog.shown"),!t.url&&g.isValidUrl(t.text)&&(t.url=t.text),o.on("input paste propertychange",(function(){t.text=o.val(),e.toggleLinkBtn(r,o,i)})).val(t.text),i.on("input paste propertychange",(function(){t.text||o.val(i.val()),e.toggleLinkBtn(r,o,i)})).val(t.url),m.isSupportTouch||i.trigger("focus"),e.toggleLinkBtn(r,o,i),e.bindEnterKey(i,r),e.bindEnterKey(o,r);var l=void 0!==t.isNewWindow?t.isNewWindow:e.context.options.linkTargetBlank;a.prop("checked",l);var c=!t.url&&e.context.options.useProtocol;s.prop("checked",c),r.one("click",(function(r){r.preventDefault(),n.resolve({range:t.range,url:i.val(),text:o.val(),isNewWindow:a.is(":checked"),checkProtocol:s.is(":checked")}),e.ui.hideDialog(e.$dialog)}))})),e.ui.onDialogHidden(e.$dialog,(function(){o.off(),i.off(),r.off(),"pending"===n.state()&&n.reject()})),e.ui.showDialog(e.$dialog)})).promise()}},{key:"show",value:function(){var t=this,e=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(e).then((function(e){t.context.invoke("editor.restoreRange"),t.context.invoke("editor.createLink",e)})).fail((function(){t.context.invoke("editor.restoreRange")}))}}])&&ue(e.prototype,n),o&&ue(e,o),t}();function he(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var fe=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){n.update()},"summernote.disable summernote.dialog.shown summernote.blur":function(){n.hide()}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return!C.isEmpty(this.options.popover.link)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(t){t.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.link),this.$popover.on("mousedown",(function(t){t.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(){if(this.context.invoke("editor.hasFocus")){var t=this.context.invoke("editor.getLastRange");if(t.isCollapsed()&&t.isOnAnchor()){var e=pt.ancestor(t.sc,pt.isAnchor),n=i()(e).attr("href");this.$popover.find("a").attr("href",n).text(n);var o=pt.posFromPlaceholder(e),r=i()(this.options.container).offset();o.top-=r.top,o.left-=r.left,this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide()}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}])&&he(e.prototype,n),o&&he(e,o),t}();function pe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var me=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.$body=i()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){var t="";if(this.options.maximumImageFileSize){var e=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=1*(this.options.maximumImageFileSize/Math.pow(1024,e)).toFixed(2)+" "+" KMGTP"[e]+"B";t="<small>".concat(this.lang.image.maximumFileSize+" : "+n,"</small>")}var o=this.options.dialogsInBody?this.$body:this.options.container,i=['<div class="form-group note-form-group note-group-select-from-files">','<label for="note-dialog-image-file-'+this.options.id+'" class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input id="note-dialog-image-file-'+this.options.id+'" class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple"/>',t,"</div>",'<div class="form-group note-group-image-url">','<label for="note-dialog-image-url-'+this.options.id+'" class="note-form-label">'+this.lang.image.url+"</label>",'<input id="note-dialog-image-url-'+this.options.id+'" class="note-image-url form-control note-form-control note-input" type="text"/>',"</div>"].join(""),r='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-image-btn",'" value="').concat(this.lang.image.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:i,footer:r}).render().appendTo(o)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(t,e){t.on("keypress",(function(t){t.keyCode===xt.code.ENTER&&(t.preventDefault(),e.trigger("click"))}))}},{key:"show",value:function(){var t=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then((function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange"),"string"==typeof e?t.options.callbacks.onImageLinkInsert?t.context.triggerEvent("image.link.insert",e):t.context.invoke("editor.insertImage",e):t.context.invoke("editor.insertImagesOrCallback",e)})).fail((function(){t.context.invoke("editor.restoreRange")}))}},{key:"showImageDialog",value:function(){var t=this;return i.a.Deferred((function(e){var n=t.$dialog.find(".note-image-input"),o=t.$dialog.find(".note-image-url"),i=t.$dialog.find(".note-image-btn");t.ui.onDialogShown(t.$dialog,(function(){t.context.triggerEvent("dialog.shown"),n.replaceWith(n.clone().on("change",(function(t){e.resolve(t.target.files||t.target.value)})).val("")),o.on("input paste propertychange",(function(){t.ui.toggleBtn(i,o.val())})).val(""),m.isSupportTouch||o.trigger("focus"),i.click((function(t){t.preventDefault(),e.resolve(o.val())})),t.bindEnterKey(o,i)})),t.ui.onDialogHidden(t.$dialog,(function(){n.off(),o.off(),i.off(),"pending"===e.state()&&e.reject()})),t.ui.showDialog(t.$dialog)}))}}])&&pe(e.prototype,n),o&&pe(e,o),t}();function ve(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ge=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable summernote.blur":function(){n.hide()}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return!C.isEmpty(this.options.popover.image)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.image),this.$popover.on("mousedown",(function(t){t.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(t,e){if(pt.isImg(t)){var n=i()(t).offset(),o=i()(this.options.container).offset(),r={};this.options.popatmouse?(r.left=e.pageX-20,r.top=e.pageY):r=n,r.top-=o.top,r.left-=o.left,this.$popover.css({display:"block",left:r.left,top:r.top})}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}])&&ve(e.prototype,n),o&&ve(e,o),t}();function be(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ke=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(t,e){n.update(e.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable summernote.blur":function(){n.hide()}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return!C.isEmpty(this.options.popover.table)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.table),m.isFF&&document.execCommand("enableInlineTableEditing",!1,!1),this.$popover.on("mousedown",(function(t){t.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(t){if(this.context.isDisabled())return!1;var e=pt.isCell(t);if(e){var n=pt.posFromPlaceholder(t),o=i()(this.options.container).offset();n.top-=o.top,n.left-=o.left,this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide();return e}},{key:"hide",value:function(){this.$popover.hide()}}])&&be(e.prototype,n),o&&be(e,o),t}();function ye(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var we=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.$body=i()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){var t=this.options.dialogsInBody?this.$body:this.options.container,e=['<div class="form-group note-form-group row-fluid">','<label for="note-dialog-video-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.video.url,' <small class="text-muted">').concat(this.lang.video.providers,"</small></label>"),'<input id="note-dialog-video-url-'.concat(this.options.id,'" class="note-video-url form-control note-form-control note-input" type="text"/>'),"</div>"].join(""),n='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-video-btn",'" value="').concat(this.lang.video.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:e,footer:n}).render().appendTo(t)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(t,e){t.on("keypress",(function(t){t.keyCode===xt.code.ENTER&&(t.preventDefault(),e.trigger("click"))}))}},{key:"createVideoNode",value:function(t){var e,n=t.match(/\/\/(?:(?:www|m)\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),o=t.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),r=t.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),a=t.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),s=t.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),l=t.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),c=t.match(/\/\/v\.qq\.com.*?vid=(.+)/),u=t.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),d=t.match(/^.+.(mp4|m4v)$/),h=t.match(/^.+.(ogg|ogv)$/),f=t.match(/^.+.(webm)$/),p=t.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(n&&11===n[1].length){var m=n[1],v=0;if(void 0!==n[2]){var g=n[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(g)for(var b=[3600,60,1],k=0,y=b.length;k<y;k++)v+=void 0!==g[k+1]?b[k]*parseInt(g[k+1],10):0}e=i()("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+m+(v>0?"?start="+v:"")).attr("width","640").attr("height","360")}else if(o&&o[0].length)e=i()("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+o[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(r&&r[0].length)e=i()("<iframe>").attr("frameborder",0).attr("src",r[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(a&&a[3].length)e=i()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+a[3]).attr("width","640").attr("height","360");else if(s&&s[2].length)e=i()("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+s[2]).attr("width","640").attr("height","360");else if(l&&l[1].length)e=i()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+l[1]);else if(c&&c[1].length||u&&u[2].length){var w=c&&c[1].length?c[1]:u[2];e=i()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","https://v.qq.com/txp/iframe/player.html?vid="+w+"&amp;auto=0")}else if(d||h||f)e=i()("<video controls>").attr("src",t).attr("width","640").attr("height","360");else{if(!p||!p[0].length)return!1;e=i()("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(p[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return e.addClass("note-video-clip"),e[0]}},{key:"show",value:function(){var t=this,e=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(e).then((function(e){t.ui.hideDialog(t.$dialog),t.context.invoke("editor.restoreRange");var n=t.createVideoNode(e);n&&t.context.invoke("editor.insertNode",n)})).fail((function(){t.context.invoke("editor.restoreRange")}))}},{key:"showVideoDialog",value:function(){var t=this;return i.a.Deferred((function(e){var n=t.$dialog.find(".note-video-url"),o=t.$dialog.find(".note-video-btn");t.ui.onDialogShown(t.$dialog,(function(){t.context.triggerEvent("dialog.shown"),n.on("input paste propertychange",(function(){t.ui.toggleBtn(o,n.val())})),m.isSupportTouch||n.trigger("focus"),o.click((function(t){t.preventDefault(),e.resolve(n.val())})),t.bindEnterKey(n,o)})),t.ui.onDialogHidden(t.$dialog,(function(){n.off(),o.off(),"pending"===e.state()&&e.reject()})),t.ui.showDialog(t.$dialog)}))}}])&&ye(e.prototype,n),o&&ye(e,o),t}();function Ce(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var xe=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.$body=i()(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}var e,n,o;return e=t,(n=[{key:"initialize",value:function(){var t=this.options.dialogsInBody?this.$body:this.options.container,e=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.18</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:e,callback:function(t){t.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"createShortcutList",value:function(){var t=this,e=this.options.keyMap[m.isMac?"mac":"pc"];return Object.keys(e).map((function(n){var o=e[n],r=i()('<div><div class="help-list-item"></div></div>');return r.append(i()("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append(i()("<span/>").html(t.context.memo("help."+o)||o)),r.html()})).join("")}},{key:"showHelpDialog",value:function(){var t=this;return i.a.Deferred((function(e){t.ui.onDialogShown(t.$dialog,(function(){t.context.triggerEvent("dialog.shown"),e.resolve()})),t.ui.showDialog(t.$dialog)})).promise()}},{key:"show",value:function(){var t=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then((function(){t.context.invoke("editor.restoreRange")}))}}])&&Ce(e.prototype,n),o&&Ce(e,o),t}();function Se(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Te=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.options=e.options,this.hidable=!0,this.onContextmenu=!1,this.pageX=null,this.pageY=null,this.events={"summernote.contextmenu":function(t){n.options.editing&&(t.preventDefault(),t.stopPropagation(),n.onContextmenu=!0,n.update(!0))},"summernote.mousedown":function(t,e){n.pageX=e.pageX,n.pageY=e.pageY},"summernote.keyup summernote.mouseup summernote.scroll":function(t,e){n.options.editing&&!n.onContextmenu&&(n.pageX=e.pageX,n.pageY=e.pageY,n.update()),n.onContextmenu=!1},"summernote.disable summernote.change summernote.dialog.shown summernote.blur":function(){n.hide()},"summernote.focusout":function(){n.$popover.is(":active,:focus")||n.hide()}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return this.options.airMode&&!C.isEmpty(this.options.popover.air)}},{key:"initialize",value:function(){var t=this;this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content");this.context.invoke("buttons.build",e,this.options.popover.air),this.$popover.on("mousedown",(function(){t.hidable=!1})),this.$popover.on("mouseup",(function(){t.hidable=!0}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(t){var e=this.context.invoke("editor.currentStyle");if(!e.range||e.range.isCollapsed()&&!t)this.hide();else{var n={left:this.pageX,top:this.pageY},o=i()(this.options.container).offset();n.top-=o.top,n.left-=o.left,this.$popover.css({display:"block",left:Math.max(n.left,0)+-5,top:n.top+5}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}},{key:"updateCodeview",value:function(t){this.ui.toggleBtnActive(this.$popover.find(".btn-codeview"),t),t&&this.hide()}},{key:"hide",value:function(){this.hidable&&this.$popover.hide()}}])&&Se(e.prototype,n),o&&Se(e,o),t}();function Ee(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var $e=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.ui=i.a.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||n.handleKeyup(e)},"summernote.keydown":function(t,e){n.handleKeydown(e)},"summernote.disable summernote.dialog.shown summernote.blur":function(){n.hide()}}}var e,n,o;return e=t,(n=[{key:"shouldInitialize",value:function(){return this.hints.length>0}},{key:"initialize",value:function(){var t=this;this.lastWordRange=null,this.matchingWord=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",(function(e){t.$content.find(".active").removeClass("active"),i()(e.currentTarget).addClass("active"),t.replace()})),this.$popover.on("mousedown",(function(t){t.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"selectItem",value:function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2}},{key:"moveDown",value:function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var n=t.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}}},{key:"moveUp",value:function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var n=t.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}}},{key:"replace",value:function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var e=this.nodeFromItem(t);if(null!==this.matchingWord&&0===this.matchingWord.length)this.lastWordRange.so=this.lastWordRange.eo;else if(null!==this.matchingWord&&this.matchingWord.length>0&&!this.lastWordRange.isCollapsed()){var n=this.lastWordRange.eo-this.lastWordRange.so-this.matchingWord.length;n>0&&(this.lastWordRange.so+=n)}if(this.lastWordRange.insertNode(e),"next"===this.options.hintSelect){var o=document.createTextNode("");i()(e).after(o),wt.createFromNodeBefore(o).select()}else wt.createFromNodeAfter(e).select();this.lastWordRange=null,this.hide(),this.context.invoke("editor.focus")}}},{key:"nodeFromItem",value:function(t){var e=this.hints[t.data("index")],n=t.data("item"),o=e.content?e.content(n):n;return"string"==typeof o&&(o=pt.createText(o)),o}},{key:"createItemTemplates",value:function(t,e){var n=this.hints[t];return e.map((function(e){var o=i()('<div class="note-hint-item"/>');return o.append(n.template?n.template(e):e+""),o.data({index:t,item:e}),o}))}},{key:"handleKeydown",value:function(t){this.$popover.is(":visible")&&(t.keyCode===xt.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===xt.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===xt.code.DOWN&&(t.preventDefault(),this.moveDown()))}},{key:"searchKeyword",value:function(t,e,n){var o=this.hints[t];if(o&&o.match.test(e)&&o.search){var i=o.match.exec(e);this.matchingWord=i[0],o.search(i[1],n)}else n()}},{key:"createGroup",value:function(t,e){var n=this,o=i()('<div class="note-hint-group note-hint-group-'+t+'"></div>');return this.searchKeyword(t,e,(function(e){(e=e||[]).length&&(o.html(n.createItemTemplates(t,e)),n.show())})),o}},{key:"handleKeyup",value:function(t){var e=this;if(!C.contains([xt.code.ENTER,xt.code.UP,xt.code.DOWN],t.keyCode)){var n,o,r=this.context.invoke("editor.getLastRange");if("words"===this.options.hintMode){if(n=r.getWordsRange(r),o=n.toString(),this.hints.forEach((function(t){if(t.match.test(o))return n=r.getWordsMatchRange(t.match),!1})),!n)return void this.hide();o=n.toString()}else n=r.getWordRange(),o=n.toString();if(this.hints.length&&o){this.$content.empty();var a=g.rect2bnd(C.last(n.getClientRects())),s=i()(this.options.container).offset();a&&(a.top-=s.top,a.left-=s.left,this.$popover.hide(),this.lastWordRange=n,this.hints.forEach((function(t,n){t.match.test(o)&&e.createGroup(n,o).appendTo(e.$content)})),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:a.left,top:a.top-this.$popover.outerHeight()-5}):this.$popover.css({left:a.left,top:a.top+a.height+5}))}else this.hide()}}},{key:"show",value:function(){this.$popover.show()}},{key:"hide",value:function(){this.$popover.hide()}}])&&Ee(e.prototype,n),o&&Ee(e,o),t}();i.a.summernote=i.a.extend(i.a.summernote,{version:"0.8.18",plugins:{},dom:pt,range:wt,lists:C,options:{langInfo:i.a.summernote.lang["en-US"],editing:!0,modules:{editor:Ht,clipboard:zt,dropzone:Ot,codeview:Kt,statusbar:qt,fullscreen:Gt,handle:Zt,hintPopover:$e,autoLink:Jt,autoSync:ee,autoReplace:oe,placeholder:re,buttons:se,toolbar:ce,linkDialog:de,linkPopover:fe,imageDialog:me,imagePopover:ge,tablePopover:ke,videoDialog:we,helpDialog:xe,airPopover:Te},buttons:{},lang:"en-US",followingToolbar:!1,toolbarPosition:"top",otherStaticBar:"",codeviewKeepButton:!1,toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]],["view",["fullscreen","codeview"]]]},airMode:!1,overrideContextMenu:!1,width:null,height:null,linkTargetBlank:!0,useProtocol:!0,defaultProtocol:"http://",focus:!1,tabDisabled:!1,tabSize:4,styleWithCSS:!1,shortcuts:!0,textareaAutoSync:!0,tooltip:"auto",container:null,maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,disableGrammar:!1,placeholder:null,inheritPlaceholder:!1,recordEveryKeystroke:!1,historyLimit:200,showDomainOnlyForAutolink:!1,hintMode:"word",hintSelect:"after",hintDirection:"bottom",styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],addDefaultFonts:!0,fontSizes:["8","9","10","11","12","14","18","24","36"],fontSizeUnits:["px","pt"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ESC:"escape",ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ESC:"escape",ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})},51:function(t,e,n){"use strict";n.r(e);var o=n(0),i=n.n(o),r=n(1);function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$node=e,this.options=i.a.extend({},{title:"",target:n.container,trigger:"hover focus",placement:"bottom"},n),this.$tooltip=i()(['<div class="note-tooltip">','<div class="note-tooltip-arrow"></div>','<div class="note-tooltip-content"></div>',"</div>"].join("")),"manual"!==this.options.trigger){var o=this.show.bind(this),r=this.hide.bind(this),a=this.toggle.bind(this);this.options.trigger.split(" ").forEach((function(t){"hover"===t?(e.off("mouseenter mouseleave"),e.on("mouseenter",o).on("mouseleave",r)):"click"===t?e.on("click",a):"focus"===t&&e.on("focus",o).on("blur",r)}))}}var e,n,o;return e=t,(n=[{key:"show",value:function(){var t=this.$node,e=t.offset(),n=i()(this.options.target).offset();e.top-=n.top,e.left-=n.left;var o=this.$tooltip,r=this.options.title||t.attr("title")||t.data("title"),a=this.options.placement||t.data("placement");o.addClass(a),o.find(".note-tooltip-content").text(r),o.appendTo(this.options.target);var s=t.outerWidth(),l=t.outerHeight(),c=o.outerWidth(),u=o.outerHeight();"bottom"===a?o.css({top:e.top+l,left:e.left+(s/2-c/2)}):"top"===a?o.css({top:e.top-u,left:e.left+(s/2-c/2)}):"left"===a?o.css({top:e.top+(l/2-u/2),left:e.left-c}):"right"===a&&o.css({top:e.top+(l/2-u/2),left:e.left+s}),o.addClass("in")}},{key:"hide",value:function(){var t=this;this.$tooltip.removeClass("in"),setTimeout((function(){t.$tooltip.remove()}),200)}},{key:"toggle",value:function(){this.$tooltip.hasClass("in")?this.hide():this.show()}}])&&a(e.prototype,n),o&&a(e,o),t}();function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$button=e,this.options=i.a.extend({},{target:n.container},n),this.setEvent()}var e,n,o;return e=t,(n=[{key:"setEvent",value:function(){var t=this;this.$button.on("click",(function(e){t.toggle(),e.stopImmediatePropagation()}))}},{key:"clear",value:function(){var t=i()(".note-btn-group.open");t.find(".note-btn.active").removeClass("active"),t.removeClass("open")}},{key:"show",value:function(){this.$button.addClass("active"),this.$button.parent().addClass("open");var t=this.$button.next(),e=t.offset(),n=t.outerWidth(),o=i()(window).width(),r=parseFloat(i()(this.options.target).css("margin-right"));e.left+n>o-r?t.css("margin-left",o-r-(e.left+n)):t.css("margin-left","")}},{key:"hide",value:function(){this.$button.removeClass("active"),this.$button.parent().removeClass("open")}},{key:"toggle",value:function(){var t=this.$button.parent().hasClass("open");this.clear(),t?this.hide():this.show()}}])&&l(e.prototype,n),o&&l(e,o),t}();i()(document).on("click",(function(t){i()(t.target).closest(".note-btn-group").length||(i()(".note-btn-group.open").removeClass("open"),i()(".note-btn-group .note-btn.active").removeClass("active"))})),i()(document).on("click.note-dropdown-menu",(function(t){i()(t.target).closest(".note-dropdown-menu").parent().removeClass("open"),i()(t.target).closest(".note-dropdown-menu").parent().find(".note-btn.active").removeClass("active")}));var u=c;function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$modal=e,this.$backdrop=i()('<div class="note-modal-backdrop"/>')}var e,n,o;return e=t,(n=[{key:"show",value:function(){var t=this;this.$backdrop.appendTo(document.body).show(),this.$modal.addClass("open").show(),this.$modal.trigger("note.modal.show"),this.$modal.off("click",".close").on("click",".close",this.hide.bind(this)),this.$modal.on("keydown",(function(e){27===e.which&&(e.preventDefault(),t.hide())}))}},{key:"hide",value:function(){this.$modal.removeClass("open").hide(),this.$backdrop.hide(),this.$modal.trigger("note.modal.hide"),this.$modal.off("keydown")}}])&&d(e.prototype,n),o&&d(e,o),t}(),f=r.a.create('<div class="note-editor note-frame"/>'),p=r.a.create('<div class="note-toolbar" role="toolbar"/>'),m=r.a.create('<div class="note-editing-area"/>'),v=r.a.create('<textarea class="note-codable" aria-multiline="true"/>'),g=r.a.create('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),b=r.a.create(['<output class="note-status-output" role="status" aria-live="polite"></output>','<div class="note-statusbar" role="status">','<div class="note-resizebar" aria-label="resize">','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>',"</div>","</div>"].join("")),k=r.a.create('<div class="note-editor note-airframe"/>'),y=r.a.create(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"></div>','<output class="note-status-output" role="status" aria-live="polite"></output>'].join("")),w=r.a.create('<div class="note-btn-group">'),C=r.a.create('<button type="button" class="note-btn" tabindex="-1">',(function(t,e){e&&e.tooltip&&(t.attr({"aria-label":e.tooltip}),t.data("_lite_tooltip",new s(t,{title:e.tooltip,container:e.container})).on("click",(function(t){i()(t.currentTarget).data("_lite_tooltip").hide()}))),e.contents&&t.html(e.contents),e&&e.data&&"dropdown"===e.data.toggle&&t.data("_lite_dropdown",new u(t,{container:e.container})),e&&e.codeviewKeepButton&&t.addClass("note-codeview-keep")})),x=r.a.create('<div class="note-dropdown-menu" role="list">',(function(t,e){var n=Array.isArray(e.items)?e.items.map((function(t){var n="string"==typeof t?t:t.value||"",o=e.template?e.template(t):t,r=i()('<a class="note-dropdown-item" href="#" data-value="'+n+'" role="listitem" aria-label="'+n+'"></a>');return r.html(o).data("item",t),r})):e.items;t.html(n).attr({"aria-label":e.title}),t.on("click","> .note-dropdown-item",(function(t){var n=i()(this),o=n.data("item"),r=n.data("value");o.click?o.click(n):e.itemClick&&e.itemClick(t,o,r)})),e&&e.codeviewKeepButton&&t.addClass("note-codeview-keep")})),S=r.a.create('<div class="note-dropdown-menu note-check" role="list">',(function(t,e){var n=Array.isArray(e.items)?e.items.map((function(t){var n="string"==typeof t?t:t.value||"",o=e.template?e.template(t):t,r=i()('<a class="note-dropdown-item" href="#" data-value="'+n+'" role="listitem" aria-label="'+t+'"></a>');return r.html([z(e.checkClassName)," ",o]).data("item",t),r})):e.items;t.html(n).attr({"aria-label":e.title}),t.on("click","> .note-dropdown-item",(function(t){var n=i()(this),o=n.data("item"),r=n.data("value");o.click?o.click(n):e.itemClick&&e.itemClick(t,o,r)})),e&&e.codeviewKeepButton&&t.addClass("note-codeview-keep")})),T=function(t,e){return t+" "+z(e.icons.caret,"span")},E=function(t,e){return w([C({className:"dropdown-toggle",contents:t.title+" "+z("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),x({className:t.className,items:t.items,template:t.template,itemClick:t.itemClick})],{callback:e}).render()},$=function(t,e){return w([C({className:"dropdown-toggle",contents:t.title+" "+z("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),S({className:t.className,checkClassName:t.checkClassName,items:t.items,template:t.template,itemClick:t.itemClick})],{callback:e}).render()},N=function(t){return w([C({className:"dropdown-toggle",contents:t.title+" "+z("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),x([w({className:"note-align",children:t.items[0]}),w({className:"note-list",children:t.items[1]})])]).render()},I=function(t){return w([C({className:"dropdown-toggle",contents:t.title+" "+z("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),x({className:"note-table",items:['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:t.col+"em",height:t.row+"em"}).mousedown(t.itemClick).mousemove((function(e){!function(t,e,n){var o,r=i()(t.target.parentNode),a=r.next(),s=r.find(".note-dimension-picker-mousecatcher"),l=r.find(".note-dimension-picker-highlighted"),c=r.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var u=i()(t.target).offset();o={x:t.pageX-u.left,y:t.pageY-u.top}}else o={x:t.offsetX,y:t.offsetY};var d=Math.ceil(o.x/18)||1,h=Math.ceil(o.y/18)||1;l.css({width:d+"em",height:h+"em"}),s.data("value",d+"x"+h),d>3&&d<e&&c.css({width:d+1+"em"}),h>3&&h<n&&c.css({height:h+1+"em"}),a.html(d+" x "+h)}(e,t.col,t.row)}))}}).render()},P=r.a.create('<div class="note-color-palette"/>',(function(t,e){for(var n=[],o=0,r=e.colors.length;o<r;o++){for(var a=e.eventName,l=e.colors[o],c=e.colorsName[o],u=[],d=0,h=l.length;d<h;d++){var f=l[d],p=c[d];u.push(['<button type="button" class="note-btn note-color-btn"','style="background-color:',f,'" ','data-event="',a,'" ','data-value="',f,'" ','data-title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+u.join("")+"</div>")}t.html(n.join("")),t.find(".note-color-btn").each((function(){i()(this).data("_lite_tooltip",new s(i()(this),{container:e.container}))}))})),R=function(t,e){return w({className:"note-color",children:[C({className:"note-current-color-button",contents:t.title,tooltip:t.lang.color.recent,click:t.currentClick,callback:function(t){var n=t.find(".note-recent-color");"foreColor"!==e&&(n.css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00"))}}),C({className:"dropdown-toggle",contents:z("note-icon-caret"),tooltip:t.lang.color.more,data:{toggle:"dropdown"}}),x({items:["<div>",'<div class="note-btn-group btn-background-color">','<div class="note-palette-title">'+t.lang.color.background+"</div>","<div>",'<button type="button" class="note-color-reset note-btn note-btn-block" data-event="backColor" data-value="transparent">',t.lang.color.transparent,"</button>","</div>",'<div class="note-holder" data-event="backColor"></div>','<div class="btn-sm">','<input type="color" id="html5bcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','<button type="button" class="note-color-reset btn" data-event="backColor" data-value="cpbackColor">',t.lang.color.cpSelect,"</button>","</div>","</div>",'<div class="note-btn-group btn-foreground-color">','<div class="note-palette-title">'+t.lang.color.foreground+"</div>","<div>",'<button type="button" class="note-color-reset note-btn note-btn-block" data-event="removeFormat" data-value="foreColor">',t.lang.color.resetToDefault,"</button>","</div>",'<div class="note-holder" data-event="foreColor"></div>','<div class="btn-sm">','<input type="color" id="html5fcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','<button type="button" class="note-color-reset btn" data-event="foreColor" data-value="cpforeColor">',t.lang.color.cpSelect,"</button>","</div>","</div>","</div>"].join(""),callback:function(n){n.find(".note-holder").each((function(){var e=i()(this);e.append(P({colors:t.colors,eventName:e.data("event")}).render())})),"fore"===e?(n.find(".btn-background-color").hide(),n.css({"min-width":"210px"})):"back"===e&&(n.find(".btn-foreground-color").hide(),n.css({"min-width":"210px"}))},click:function(n){var o=i()(n.target),r=o.data("event"),a=o.data("value"),s=document.getElementById("html5fcp").value,l=document.getElementById("html5bcp").value;if("cp"===a?n.stopPropagation():"cpbackColor"===a?a=l:"cpforeColor"===a&&(a=s),r&&a){var c="backColor"===r?"background-color":"color",u=o.closest(".note-color").find(".note-recent-color"),d=o.closest(".note-color").find(".note-current-color-button");u.css(c,a),d.attr("data-"+r,a),"fore"===e?t.itemClick("foreColor",a):"back"===e?t.itemClick("backColor",a):t.itemClick(r,a)}}})]}).render()},L=r.a.create('<div class="note-modal" aria-hidden="false" tabindex="-1" role="dialog"/>',(function(t,e){e.fade&&t.addClass("fade"),t.attr({"aria-label":e.title}),t.html(['<div class="note-modal-content">',e.title?'<div class="note-modal-header"><button type="button" class="close" aria-label="Close" aria-hidden="true"><i class="note-icon-close"></i></button><h4 class="note-modal-title">'+e.title+"</h4></div>":"",'<div class="note-modal-body">'+e.body+"</div>",e.footer?'<div class="note-modal-footer">'+e.footer+"</div>":"","</div>"].join("")),t.data("modal",new h(t,e))})),A=function(t){var e='<div class="note-form-group"><label for="note-dialog-video-url-'+t.id+'" class="note-form-label">'+t.lang.video.url+' <small class="text-muted">'+t.lang.video.providers+'</small></label><input id="note-dialog-video-url-'+t.id+'" class="note-video-url note-input" type="text"/></div>',n=['<button type="button" href="#" class="note-btn note-btn-primary note-video-btn disabled" disabled>',t.lang.video.insert,"</button>"].join("");return L({title:t.lang.video.insert,fade:t.fade,body:e,footer:n}).render()},F=function(t){var e='<div class="note-form-group note-group-select-from-files"><label for="note-dialog-image-file-'+t.id+'" class="note-form-label">'+t.lang.image.selectFromFiles+'</label><input id="note-dialog-image-file-'+t.id+'" class="note-note-image-input note-input" type="file" name="files" accept="image/*" multiple="multiple"/>'+t.imageLimitation+'</div><div class="note-form-group"><label for="note-dialog-image-url-'+t.id+'" class="note-form-label">'+t.lang.image.url+'</label><input id="note-dialog-image-url-'+t.id+'" class="note-image-url note-input" type="text"/></div>',n=['<button href="#" type="button" class="note-btn note-btn-primary note-btn-large note-image-btn disabled" disabled>',t.lang.image.insert,"</button>"].join("");return L({title:t.lang.image.insert,fade:t.fade,body:e,footer:n}).render()},D=function(t){var e='<div class="note-form-group"><label for="note-dialog-link-txt-'+t.id+'" class="note-form-label">'+t.lang.link.textToDisplay+'</label><input id="note-dialog-link-txt-'+t.id+'" class="note-link-text note-input" type="text"/></div><div class="note-form-group"><label for="note-dialog-link-url-'+t.id+'" class="note-form-label">'+t.lang.link.url+'</label><input id="note-dialog-link-url-'+t.id+'" class="note-link-url note-input" type="text" value="http://"/></div>'+(t.disableLinkTarget?"":'<div class="checkbox"><label for="note-dialog-link-nw-'+t.id+'"><input id="note-dialog-link-nw-'+t.id+'" type="checkbox" checked> '+t.lang.link.openInNewWindow+"</label></div>")+'<div class="checkbox"><label for="note-dialog-link-up-'+t.id+'"><input id="note-dialog-link-up-'+t.id+'" type="checkbox" checked> '+t.lang.link.useProtocol+"</label></div>",n=['<button href="#" type="button" class="note-btn note-btn-primary note-link-btn disabled" disabled>',t.lang.link.insert,"</button>"].join("");return L({className:"link-dialog",title:t.lang.link.insert,fade:t.fade,body:e,footer:n}).render()},H=r.a.create(['<div class="note-popover bottom">','<div class="note-popover-arrow"></div>','<div class="popover-content note-children-container"></div>',"</div>"].join(""),(function(t,e){var n=void 0!==e.direction?e.direction:"bottom";t.addClass(n).hide(),e.hideArrow&&t.find(".note-popover-arrow").hide()})),B=r.a.create('<div class="checkbox"></div>',(function(t,e){t.html(["<label"+(e.id?' for="note-'+e.id+'"':"")+">",'<input role="checkbox" type="checkbox"'+(e.id?' id="note-'+e.id+'"':""),e.checked?" checked":"",' aria-checked="'+(e.checked?"true":"false")+'"/>',e.text?e.text:"","</label>"].join(""))})),z=function(t,e){return"<"+(e=e||"i")+' class="'+t+'"/>'},M=function(t){return{editor:f,toolbar:p,editingArea:m,codable:v,editable:g,statusbar:b,airEditor:k,airEditable:y,buttonGroup:w,button:C,dropdown:x,dropdownCheck:S,dropdownButton:E,dropdownButtonContents:T,dropdownCheckButton:$,paragraphDropdownButton:N,tableDropdownButton:I,colorDropdownButton:R,palette:P,dialog:L,videoDialog:A,imageDialog:F,linkDialog:D,popover:H,checkbox:B,icon:z,options:t,toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},check:function(t,e){t.find(".checked").removeClass("checked"),t.find('[data-value="'+e+'"]').addClass("checked")},onDialogShown:function(t,e){t.one("note.modal.show",e)},onDialogHidden:function(t,e){t.one("note.modal.hide",e)},showDialog:function(t){t.data("modal").show()},hideDialog:function(t){t.data("modal").hide()},getPopoverContent:function(t){return t.find(".note-popover-content")},getDialogBody:function(t){return t.find(".note-modal-body")},createLayout:function(e){var n=(t.airMode?k([m([v(),y()])]):"bottom"===t.toolbarPosition?f([m([v(),g()]),p(),b()]):f([p(),m([v(),g()]),b()])).render();return n.insertAfter(e),{note:e,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.off("summernote"),t.show()}}};n(3),n(6);i.a.summernote=i.a.extend(i.a.summernote,{ui_template:M,interface:"lite"})},6:function(t,e,n){}})}));
    //# sourceMappingURL=summernote-lite.min.js.map
  uploads-admin-Public-Admin-plugins-summernote-summernote.js: "/*!\n * \n * Super
    simple wysiwyg editor v0.8.18\n * https://summernote.org\n * \n * \n * Copyright
    2013- Alan Hong. and other contributors\n * summernote may be freely distributed
    under the MIT license.\n * \n * Date: 2020-05-20T16:47Z\n * \n */\n(function webpackUniversalModuleDefinition(root,
    factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports
    = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\"],
    factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"jquery\"))
    : factory(root[\"jQuery\"]);\n\t\tfor(var i in a) (typeof exports === 'object'
    ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__)
    {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The
    module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The
    require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/
    \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])
    {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/
    \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module
    = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl:
    false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t//
    Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag
    the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t//
    Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/
    \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/
    \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module
    cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/
    \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d
    = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports,
    name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true,
    get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define
    __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/
    \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports,
    Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports,
    '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create
    a fake namespace object\n/******/ \t// mode & 1: value is a module id, require
    it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/
    \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1:
    behave like require\n/******/ \t__webpack_require__.t = function(value, mode)
    {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode
    & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' &&
    value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/
    \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default',
    { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value
    != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/
    \t// getDefaultExport function for compatibility with non-harmony modules\n/******/
    \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module
    && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default'];
    } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/
    \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/
    \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p
    = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/
    \treturn __webpack_require__(__webpack_require__.s = 52);\n/******/ })\n/************************************************************************/\n/******/
    ({\n\n/***/ 0:\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__0__;\n\n/***/
    }),\n\n/***/ 1:\n/***/ (function(module, __webpack_exports__, __webpack_require__)
    {\n\n\"use strict\";\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__
    = __webpack_require__(0);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default
    = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\nfunction
    _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\"
    && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) {
    return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj &&
    typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype
    ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction _defineProperties(target, props)
    { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps)
    { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps)
    _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar
    Renderer = /*#__PURE__*/function () {\n  function Renderer(markup, children, options,
    callback) {\n    _classCallCheck(this, Renderer);\n\n    this.markup = markup;\n
    \   this.children = children;\n    this.options = options;\n    this.callback
    = callback;\n  }\n\n  _createClass(Renderer, [{\n    key: \"render\",\n    value:
    function render($parent) {\n      var $node = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.markup);\n\n
    \     if (this.options && this.options.contents) {\n        $node.html(this.options.contents);\n
    \     }\n\n      if (this.options && this.options.className) {\n        $node.addClass(this.options.className);\n
    \     }\n\n      if (this.options && this.options.data) {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default.a.each(this.options.data,
    function (k, v) {\n          $node.attr('data-' + k, v);\n        });\n      }\n\n
    \     if (this.options && this.options.click) {\n        $node.on('click', this.options.click);\n
    \     }\n\n      if (this.children) {\n        var $container = $node.find('.note-children-container');\n
    \       this.children.forEach(function (child) {\n          child.render($container.length
    ? $container : $node);\n        });\n      }\n\n      if (this.callback) {\n        this.callback($node,
    this.options);\n      }\n\n      if (this.options && this.options.callback) {\n
    \       this.options.callback($node);\n      }\n\n      if ($parent) {\n        $parent.append($node);\n
    \     }\n\n      return $node;\n    }\n  }]);\n\n  return Renderer;\n}();\n\n/*
    harmony default export */ __webpack_exports__[\"a\"] = ({\n  create: function
    create(markup, callback) {\n    return function () {\n      var options = _typeof(arguments[1])
    === 'object' ? arguments[1] : arguments[0];\n      var children = Array.isArray(arguments[0])
    ? arguments[0] : [];\n\n      if (options && options.children) {\n        children
    = options.children;\n      }\n\n      return new Renderer(markup, children, options,
    callback);\n    };\n  }\n});\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module,
    exports) {\n\n/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/*
    globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n\n/*
    WEBPACK VAR INJECTION */}.call(this, {}))\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module,
    __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL
    MODULE: external {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}\nvar
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_ = __webpack_require__(0);\nvar
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default = /*#__PURE__*/__webpack_require__.n(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_);\n\n//
    CONCATENATED MODULE: ./src/js/base/summernote-en-US.js\n\nexternal_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote
    || {\n  lang: {}\n};\nexternal_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.lang,
    {\n  'en-US': {\n    font: {\n      bold: 'Bold',\n      italic: 'Italic',\n      underline:
    'Underline',\n      clear: 'Remove Font Style',\n      height: 'Line Height',\n
    \     name: 'Font Family',\n      strikethrough: 'Strikethrough',\n      subscript:
    'Subscript',\n      superscript: 'Superscript',\n      size: 'Font Size',\n      sizeunit:
    'Font Size Unit'\n    },\n    image: {\n      image: 'Picture',\n      insert:
    'Insert Image',\n      resizeFull: 'Resize full',\n      resizeHalf: 'Resize half',\n
    \     resizeQuarter: 'Resize quarter',\n      resizeNone: 'Original size',\n      floatLeft:
    'Float Left',\n      floatRight: 'Float Right',\n      floatNone: 'Remove float',\n
    \     shapeRounded: 'Shape: Rounded',\n      shapeCircle: 'Shape: Circle',\n      shapeThumbnail:
    'Shape: Thumbnail',\n      shapeNone: 'Shape: None',\n      dragImageHere: 'Drag
    image or text here',\n      dropImage: 'Drop image or Text',\n      selectFromFiles:
    'Select from files',\n      maximumFileSize: 'Maximum file size',\n      maximumFileSizeError:
    'Maximum file size exceeded.',\n      url: 'Image URL',\n      remove: 'Remove
    Image',\n      original: 'Original'\n    },\n    video: {\n      video: 'Video',\n
    \     videoLink: 'Video Link',\n      insert: 'Insert Video',\n      url: 'Video
    URL',\n      providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)'\n
    \   },\n    link: {\n      link: 'Link',\n      insert: 'Insert Link',\n      unlink:
    'Unlink',\n      edit: 'Edit',\n      textToDisplay: 'Text to display',\n      url:
    'To what URL should this link go?',\n      openInNewWindow: 'Open in new window',\n
    \     useProtocol: 'Use default protocol'\n    },\n    table: {\n      table:
    'Table',\n      addRowAbove: 'Add row above',\n      addRowBelow: 'Add row below',\n
    \     addColLeft: 'Add column left',\n      addColRight: 'Add column right',\n
    \     delRow: 'Delete row',\n      delCol: 'Delete column',\n      delTable: 'Delete
    table'\n    },\n    hr: {\n      insert: 'Insert Horizontal Rule'\n    },\n    style:
    {\n      style: 'Style',\n      p: 'Normal',\n      blockquote: 'Quote',\n      pre:
    'Code',\n      h1: 'Header 1',\n      h2: 'Header 2',\n      h3: 'Header 3',\n
    \     h4: 'Header 4',\n      h5: 'Header 5',\n      h6: 'Header 6'\n    },\n    lists:
    {\n      unordered: 'Unordered list',\n      ordered: 'Ordered list'\n    },\n
    \   options: {\n      help: 'Help',\n      fullscreen: 'Full Screen',\n      codeview:
    'Code View'\n    },\n    paragraph: {\n      paragraph: 'Paragraph',\n      outdent:
    'Outdent',\n      indent: 'Indent',\n      left: 'Align left',\n      center:
    'Align center',\n      right: 'Align right',\n      justify: 'Justify full'\n
    \   },\n    color: {\n      recent: 'Recent Color',\n      more: 'More Color',\n
    \     background: 'Background Color',\n      foreground: 'Text Color',\n      transparent:
    'Transparent',\n      setTransparent: 'Set transparent',\n      reset: 'Reset',\n
    \     resetToDefault: 'Reset to default',\n      cpSelect: 'Select'\n    },\n
    \   shortcut: {\n      shortcuts: 'Keyboard shortcuts',\n      close: 'Close',\n
    \     textFormatting: 'Text formatting',\n      action: 'Action',\n      paragraphFormatting:
    'Paragraph formatting',\n      documentStyle: 'Document Style',\n      extraKeys:
    'Extra keys'\n    },\n    help: {\n      'escape': 'Escape',\n      'insertParagraph':
    'Insert Paragraph',\n      'undo': 'Undo the last command',\n      'redo': 'Redo
    the last command',\n      'tab': 'Tab',\n      'untab': 'Untab',\n      'bold':
    'Set a bold style',\n      'italic': 'Set a italic style',\n      'underline':
    'Set a underline style',\n      'strikethrough': 'Set a strikethrough style',\n
    \     'removeFormat': 'Clean a style',\n      'justifyLeft': 'Set left align',\n
    \     'justifyCenter': 'Set center align',\n      'justifyRight': 'Set right align',\n
    \     'justifyFull': 'Set full align',\n      'insertUnorderedList': 'Toggle unordered
    list',\n      'insertOrderedList': 'Toggle ordered list',\n      'outdent': 'Outdent
    on current paragraph',\n      'indent': 'Indent on current paragraph',\n      'formatPara':
    'Change current block\\'s format as a paragraph(P tag)',\n      'formatH1': 'Change
    current block\\'s format as H1',\n      'formatH2': 'Change current block\\'s
    format as H2',\n      'formatH3': 'Change current block\\'s format as H3',\n      'formatH4':
    'Change current block\\'s format as H4',\n      'formatH5': 'Change current block\\'s
    format as H5',\n      'formatH6': 'Change current block\\'s format as H6',\n      'insertHorizontalRule':
    'Insert horizontal rule',\n      'linkDialog.show': 'Show Link Dialog'\n    },\n
    \   history: {\n      undo: 'Undo',\n      redo: 'Redo'\n    },\n    specialChar:
    {\n      specialChar: 'SPECIAL CHARACTERS',\n      select: 'Select Special characters'\n
    \   },\n    output: {\n      noSelection: 'No Selection Made!'\n    }\n  }\n});\n//
    CONCATENATED MODULE: ./src/js/base/core/env.js\n\nvar isSupportAmd = typeof define
    === 'function' && __webpack_require__(2); // eslint-disable-line\n\n/**\n * returns
    whether font is installed or not.\n *\n * @param {String} fontName\n * @return
    {Boolean}\n */\n\nvar genericFontFamilies = ['sans-serif', 'serif', 'monospace',
    'cursive', 'fantasy'];\n\nfunction validFontName(fontName) {\n  return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.inArray(fontName.toLowerCase(),
    genericFontFamilies) === -1 ? \"'\".concat(fontName, \"'\") : fontName;\n}\n\nfunction
    env_isFontInstalled(fontName) {\n  var testFontName = fontName === 'Comic Sans
    MS' ? 'Courier New' : 'Comic Sans MS';\n  var testText = 'mmmmmmmmmmwwwww';\n
    \ var testSize = '200px';\n  var canvas = document.createElement('canvas');\n
    \ var context = canvas.getContext('2d');\n  context.font = testSize + \" '\" +
    testFontName + \"'\";\n  var originalWidth = context.measureText(testText).width;\n
    \ context.font = testSize + ' ' + validFontName(fontName) + ', \"' + testFontName
    + '\"';\n  var width = context.measureText(testText).width;\n  return originalWidth
    !== width;\n}\n\nvar userAgent = navigator.userAgent;\nvar isMSIE = /MSIE|Trident/i.test(userAgent);\nvar
    browserVersion;\n\nif (isMSIE) {\n  var matches = /MSIE (\\d+[.]\\d+)/.exec(userAgent);\n\n
    \ if (matches) {\n    browserVersion = parseFloat(matches[1]);\n  }\n\n  matches
    = /Trident\\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(userAgent);\n\n  if (matches) {\n
    \   browserVersion = parseFloat(matches[1]);\n  }\n}\n\nvar isEdge = /Edge\\/\\d+/.test(userAgent);\nvar
    isSupportTouch = 'ontouchstart' in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints
    > 0; // [workaround] IE doesn't have input events for contentEditable\n// - see:
    https://goo.gl/4bfIvA\n\nvar inputEventName = isMSIE ? 'DOMCharacterDataModified
    DOMSubtreeModified DOMNodeInserted' : 'input';\n/**\n * @class core.env\n *\n
    * Object which check platform and agent\n *\n * @singleton\n * @alternateClassName
    env\n */\n\n/* harmony default export */ var env = ({\n  isMac: navigator.appVersion.indexOf('Mac')
    > -1,\n  isMSIE: isMSIE,\n  isEdge: isEdge,\n  isFF: !isEdge && /firefox/i.test(userAgent),\n
    \ isPhantom: /PhantomJS/i.test(userAgent),\n  isWebkit: !isEdge && /webkit/i.test(userAgent),\n
    \ isChrome: !isEdge && /chrome/i.test(userAgent),\n  isSafari: !isEdge && /safari/i.test(userAgent)
    && !/chrome/i.test(userAgent),\n  browserVersion: browserVersion,\n  jqueryVersion:
    parseFloat(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.fn.jquery),\n
    \ isSupportAmd: isSupportAmd,\n  isSupportTouch: isSupportTouch,\n  isFontInstalled:
    env_isFontInstalled,\n  isW3CRangeSupport: !!document.createRange,\n  inputEventName:
    inputEventName,\n  genericFontFamilies: genericFontFamilies,\n  validFontName:
    validFontName\n});\n// CONCATENATED MODULE: ./src/js/base/core/func.js\n\n/**\n
    * @class core.func\n *\n * func utils (for high-order func's arg)\n *\n * @singleton\n
    * @alternateClassName func\n */\n\nfunction eq(itemA) {\n  return function (itemB)
    {\n    return itemA === itemB;\n  };\n}\n\nfunction eq2(itemA, itemB) {\n  return
    itemA === itemB;\n}\n\nfunction peq2(propName) {\n  return function (itemA, itemB)
    {\n    return itemA[propName] === itemB[propName];\n  };\n}\n\nfunction ok() {\n
    \ return true;\n}\n\nfunction fail() {\n  return false;\n}\n\nfunction not(f)
    {\n  return function () {\n    return !f.apply(f, arguments);\n  };\n}\n\nfunction
    and(fA, fB) {\n  return function (item) {\n    return fA(item) && fB(item);\n
    \ };\n}\n\nfunction func_self(a) {\n  return a;\n}\n\nfunction func_invoke(obj,
    method) {\n  return function () {\n    return obj[method].apply(obj, arguments);\n
    \ };\n}\n\nvar idCounter = 0;\n/**\n * reset globally-unique id\n *\n */\n\nfunction
    resetUniqueId() {\n  idCounter = 0;\n}\n/**\n * generate a globally-unique id\n
    *\n * @param {String} [prefix]\n */\n\n\nfunction uniqueId(prefix) {\n  var id
    = ++idCounter + '';\n  return prefix ? prefix + id : id;\n}\n/**\n * returns bnd
    (bounds) from rect\n *\n * - IE Compatibility Issue: http://goo.gl/sRLOAo\n *
    - Scroll Issue: http://goo.gl/sNjUc\n *\n * @param {Rect} rect\n * @return {Object}
    bounds\n * @return {Number} bounds.top\n * @return {Number} bounds.left\n * @return
    {Number} bounds.width\n * @return {Number} bounds.height\n */\n\n\nfunction rect2bnd(rect)
    {\n  var $document = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);\n
    \ return {\n    top: rect.top + $document.scrollTop(),\n    left: rect.left +
    $document.scrollLeft(),\n    width: rect.right - rect.left,\n    height: rect.bottom
    - rect.top\n  };\n}\n/**\n * returns a copy of the object where the keys have
    become the values and the values the keys.\n * @param {Object} obj\n * @return
    {Object}\n */\n\n\nfunction invertObject(obj) {\n  var inverted = {};\n\n  for
    (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n
    \     inverted[obj[key]] = key;\n    }\n  }\n\n  return inverted;\n}\n/**\n *
    @param {String} namespace\n * @param {String} [prefix]\n * @return {String}\n
    */\n\n\nfunction namespaceToCamel(namespace, prefix) {\n  prefix = prefix || '';\n
    \ return prefix + namespace.split('.').map(function (name) {\n    return name.substring(0,
    1).toUpperCase() + name.substring(1);\n  }).join('');\n}\n/**\n * Returns a function,
    that, as long as it continues to be invoked, will not\n * be triggered. The function
    will be called after it stops being called for\n * N milliseconds. If `immediate`
    is passed, trigger the function on the\n * leading edge, instead of the trailing.\n
    * @param {Function} func\n * @param {Number} wait\n * @param {Boolean} immediate\n
    * @return {Function}\n */\n\n\nfunction debounce(func, wait, immediate) {\n  var
    timeout;\n  return function () {\n    var context = this;\n    var args = arguments;\n\n
    \   var later = function later() {\n      timeout = null;\n\n      if (!immediate)
    {\n        func.apply(context, args);\n      }\n    };\n\n    var callNow = immediate
    && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n
    \   if (callNow) {\n      func.apply(context, args);\n    }\n  };\n}\n/**\n *\n
    * @param {String} url\n * @return {Boolean}\n */\n\n\nfunction isValidUrl(url)
    {\n  var expression = /[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/gi;\n
    \ return expression.test(url);\n}\n\n/* harmony default export */ var func = ({\n
    \ eq: eq,\n  eq2: eq2,\n  peq2: peq2,\n  ok: ok,\n  fail: fail,\n  self: func_self,\n
    \ not: not,\n  and: and,\n  invoke: func_invoke,\n  resetUniqueId: resetUniqueId,\n
    \ uniqueId: uniqueId,\n  rect2bnd: rect2bnd,\n  invertObject: invertObject,\n
    \ namespaceToCamel: namespaceToCamel,\n  debounce: debounce,\n  isValidUrl: isValidUrl\n});\n//
    CONCATENATED MODULE: ./src/js/base/core/lists.js\n\n/**\n * returns the first
    item of an array.\n *\n * @param {Array} array\n */\n\nfunction lists_head(array)
    {\n  return array[0];\n}\n/**\n * returns the last item of an array.\n *\n * @param
    {Array} array\n */\n\n\nfunction lists_last(array) {\n  return array[array.length
    - 1];\n}\n/**\n * returns everything but the last entry of the array.\n *\n *
    @param {Array} array\n */\n\n\nfunction initial(array) {\n  return array.slice(0,
    array.length - 1);\n}\n/**\n * returns the rest of the items in an array.\n *\n
    * @param {Array} array\n */\n\n\nfunction tail(array) {\n  return array.slice(1);\n}\n/**\n
    * returns item of array\n */\n\n\nfunction find(array, pred) {\n  for (var idx
    = 0, len = array.length; idx < len; idx++) {\n    var item = array[idx];\n\n    if
    (pred(item)) {\n      return item;\n    }\n  }\n}\n/**\n * returns true if all
    of the values in the array pass the predicate truth test.\n */\n\n\nfunction lists_all(array,
    pred) {\n  for (var idx = 0, len = array.length; idx < len; idx++) {\n    if (!pred(array[idx]))
    {\n      return false;\n    }\n  }\n\n  return true;\n}\n/**\n * returns true
    if the value is present in the list.\n */\n\n\nfunction contains(array, item)
    {\n  if (array && array.length && item) {\n    if (array.indexOf) {\n      return
    array.indexOf(item) !== -1;\n    } else if (array.contains) {\n      // `DOMTokenList`
    doesn't implement `.indexOf`, but it implements `.contains`\n      return array.contains(item);\n
    \   }\n  }\n\n  return false;\n}\n/**\n * get sum from a list\n *\n * @param {Array}
    array - array\n * @param {Function} fn - iterator\n */\n\n\nfunction sum(array,
    fn) {\n  fn = fn || func.self;\n  return array.reduce(function (memo, v) {\n    return
    memo + fn(v);\n  }, 0);\n}\n/**\n * returns a copy of the collection with array
    type.\n * @param {Collection} collection - collection eg) node.childNodes, ...\n
    */\n\n\nfunction from(collection) {\n  var result = [];\n  var length = collection.length;\n
    \ var idx = -1;\n\n  while (++idx < length) {\n    result[idx] = collection[idx];\n
    \ }\n\n  return result;\n}\n/**\n * returns whether list is empty or not\n */\n\n\nfunction
    lists_isEmpty(array) {\n  return !array || !array.length;\n}\n/**\n * cluster
    elements by predicate function.\n *\n * @param {Array} array - array\n * @param
    {Function} fn - predicate function for cluster rule\n * @param {Array[]}\n */\n\n\nfunction
    clusterBy(array, fn) {\n  if (!array.length) {\n    return [];\n  }\n\n  var aTail
    = tail(array);\n  return aTail.reduce(function (memo, v) {\n    var aLast = lists_last(memo);\n\n
    \   if (fn(lists_last(aLast), v)) {\n      aLast[aLast.length] = v;\n    } else
    {\n      memo[memo.length] = [v];\n    }\n\n    return memo;\n  }, [[lists_head(array)]]);\n}\n/**\n
    * returns a copy of the array with all false values removed\n *\n * @param {Array}
    array - array\n * @param {Function} fn - predicate function for cluster rule\n
    */\n\n\nfunction compact(array) {\n  var aResult = [];\n\n  for (var idx = 0,
    len = array.length; idx < len; idx++) {\n    if (array[idx]) {\n      aResult.push(array[idx]);\n
    \   }\n  }\n\n  return aResult;\n}\n/**\n * produces a duplicate-free version
    of the array\n *\n * @param {Array} array\n */\n\n\nfunction unique(array) {\n
    \ var results = [];\n\n  for (var idx = 0, len = array.length; idx < len; idx++)
    {\n    if (!contains(results, array[idx])) {\n      results.push(array[idx]);\n
    \   }\n  }\n\n  return results;\n}\n/**\n * returns next item.\n * @param {Array}
    array\n */\n\n\nfunction lists_next(array, item) {\n  if (array && array.length
    && item) {\n    var idx = array.indexOf(item);\n    return idx === -1 ? null :
    array[idx + 1];\n  }\n\n  return null;\n}\n/**\n * returns prev item.\n * @param
    {Array} array\n */\n\n\nfunction prev(array, item) {\n  if (array && array.length
    && item) {\n    var idx = array.indexOf(item);\n    return idx === -1 ? null :
    array[idx - 1];\n  }\n\n  return null;\n}\n/**\n * @class core.list\n *\n * list
    utils\n *\n * @singleton\n * @alternateClassName list\n */\n\n\n/* harmony default
    export */ var lists = ({\n  head: lists_head,\n  last: lists_last,\n  initial:
    initial,\n  tail: tail,\n  prev: prev,\n  next: lists_next,\n  find: find,\n  contains:
    contains,\n  all: lists_all,\n  sum: sum,\n  from: from,\n  isEmpty: lists_isEmpty,\n
    \ clusterBy: clusterBy,\n  compact: compact,\n  unique: unique\n});\n// CONCATENATED
    MODULE: ./src/js/base/core/dom.js\n\n\n\n\nvar NBSP_CHAR = String.fromCharCode(160);\nvar
    ZERO_WIDTH_NBSP_CHAR = \"\\uFEFF\";\n/**\n * @method isEditable\n *\n * returns
    whether node is `note-editable` or not.\n *\n * @param {Node} node\n * @return
    {Boolean}\n */\n\nfunction isEditable(node) {\n  return node && external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).hasClass('note-editable');\n}\n/**\n
    * @method isControlSizing\n *\n * returns whether node is `note-control-sizing`
    or not.\n *\n * @param {Node} node\n * @return {Boolean}\n */\n\n\nfunction isControlSizing(node)
    {\n  return node && external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).hasClass('note-control-sizing');\n}\n/**\n
    * @method makePredByNodeName\n *\n * returns predicate which judge whether nodeName
    is same\n *\n * @param {String} nodeName\n * @return {Function}\n */\n\n\nfunction
    makePredByNodeName(nodeName) {\n  nodeName = nodeName.toUpperCase();\n  return
    function (node) {\n    return node && node.nodeName.toUpperCase() === nodeName;\n
    \ };\n}\n/**\n * @method isText\n *\n *\n *\n * @param {Node} node\n * @return
    {Boolean} true if node's type is text(3)\n */\n\n\nfunction isText(node) {\n  return
    node && node.nodeType === 3;\n}\n/**\n * @method isElement\n *\n *\n *\n * @param
    {Node} node\n * @return {Boolean} true if node's type is element(1)\n */\n\n\nfunction
    isElement(node) {\n  return node && node.nodeType === 1;\n}\n/**\n * ex) br, col,
    embed, hr, img, input, ...\n * @see http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\n
    */\n\n\nfunction isVoid(node) {\n  return node && /^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(node.nodeName.toUpperCase());\n}\n\nfunction
    isPara(node) {\n  if (isEditable(node)) {\n    return false;\n  } // Chrome(v31.0),
    FF(v25.0.1) use DIV for paragraph\n\n\n  return node && /^DIV|^P|^LI|^H[1-7]/.test(node.nodeName.toUpperCase());\n}\n\nfunction
    isHeading(node) {\n  return node && /^H[1-7]/.test(node.nodeName.toUpperCase());\n}\n\nvar
    isPre = makePredByNodeName('PRE');\nvar isLi = makePredByNodeName('LI');\n\nfunction
    isPurePara(node) {\n  return isPara(node) && !isLi(node);\n}\n\nvar isTable =
    makePredByNodeName('TABLE');\nvar isData = makePredByNodeName('DATA');\n\nfunction
    dom_isInline(node) {\n  return !isBodyContainer(node) && !isList(node) && !isHr(node)
    && !isPara(node) && !isTable(node) && !isBlockquote(node) && !isData(node);\n}\n\nfunction
    isList(node) {\n  return node && /^UL|^OL/.test(node.nodeName.toUpperCase());\n}\n\nvar
    isHr = makePredByNodeName('HR');\n\nfunction dom_isCell(node) {\n  return node
    && /^TD|^TH/.test(node.nodeName.toUpperCase());\n}\n\nvar isBlockquote = makePredByNodeName('BLOCKQUOTE');\n\nfunction
    isBodyContainer(node) {\n  return dom_isCell(node) || isBlockquote(node) || isEditable(node);\n}\n\nvar
    isAnchor = makePredByNodeName('A');\n\nfunction isParaInline(node) {\n  return
    dom_isInline(node) && !!dom_ancestor(node, isPara);\n}\n\nfunction isBodyInline(node)
    {\n  return dom_isInline(node) && !dom_ancestor(node, isPara);\n}\n\nvar isBody
    = makePredByNodeName('BODY');\n/**\n * returns whether nodeB is closest sibling
    of nodeA\n *\n * @param {Node} nodeA\n * @param {Node} nodeB\n * @return {Boolean}\n
    */\n\nfunction isClosestSibling(nodeA, nodeB) {\n  return nodeA.nextSibling ===
    nodeB || nodeA.previousSibling === nodeB;\n}\n/**\n * returns array of closest
    siblings with node\n *\n * @param {Node} node\n * @param {function} [pred] - predicate
    function\n * @return {Node[]}\n */\n\n\nfunction withClosestSiblings(node, pred)
    {\n  pred = pred || func.ok;\n  var siblings = [];\n\n  if (node.previousSibling
    && pred(node.previousSibling)) {\n    siblings.push(node.previousSibling);\n  }\n\n
    \ siblings.push(node);\n\n  if (node.nextSibling && pred(node.nextSibling)) {\n
    \   siblings.push(node.nextSibling);\n  }\n\n  return siblings;\n}\n/**\n * blank
    HTML for cursor position\n * - [workaround] old IE only works with &nbsp;\n *
    - [workaround] IE11 and other browser works with bogus br\n */\n\n\nvar blankHTML
    = env.isMSIE && env.browserVersion < 11 ? '&nbsp;' : '<br>';\n/**\n * @method
    nodeLength\n *\n * returns #text's text size or element's childNodes size\n *\n
    * @param {Node} node\n */\n\nfunction nodeLength(node) {\n  if (isText(node))
    {\n    return node.nodeValue.length;\n  }\n\n  if (node) {\n    return node.childNodes.length;\n
    \ }\n\n  return 0;\n}\n/**\n * returns whether deepest child node is empty or
    not.\n *\n * @param {Node} node\n * @return {Boolean}\n */\n\n\nfunction deepestChildIsEmpty(node)
    {\n  do {\n    if (node.firstElementChild === null || node.firstElementChild.innerHTML
    === '') break;\n  } while (node = node.firstElementChild);\n\n  return dom_isEmpty(node);\n}\n/**\n
    * returns whether node is empty or not.\n *\n * @param {Node} node\n * @return
    {Boolean}\n */\n\n\nfunction dom_isEmpty(node) {\n  var len = nodeLength(node);\n\n
    \ if (len === 0) {\n    return true;\n  } else if (!isText(node) && len === 1
    && node.innerHTML === blankHTML) {\n    // ex) <p><br></p>, <span><br></span>\n
    \   return true;\n  } else if (lists.all(node.childNodes, isText) && node.innerHTML
    === '') {\n    // ex) <p></p>, <span></span>\n    return true;\n  }\n\n  return
    false;\n}\n/**\n * padding blankHTML if node is empty (for cursor position)\n
    */\n\n\nfunction paddingBlankHTML(node) {\n  if (!isVoid(node) && !nodeLength(node))
    {\n    node.innerHTML = blankHTML;\n  }\n}\n/**\n * find nearest ancestor predicate
    hit\n *\n * @param {Node} node\n * @param {Function} pred - predicate function\n
    */\n\n\nfunction dom_ancestor(node, pred) {\n  while (node) {\n    if (pred(node))
    {\n      return node;\n    }\n\n    if (isEditable(node)) {\n      break;\n    }\n\n
    \   node = node.parentNode;\n  }\n\n  return null;\n}\n/**\n * find nearest ancestor
    only single child blood line and predicate hit\n *\n * @param {Node} node\n *
    @param {Function} pred - predicate function\n */\n\n\nfunction singleChildAncestor(node,
    pred) {\n  node = node.parentNode;\n\n  while (node) {\n    if (nodeLength(node)
    !== 1) {\n      break;\n    }\n\n    if (pred(node)) {\n      return node;\n    }\n\n
    \   if (isEditable(node)) {\n      break;\n    }\n\n    node = node.parentNode;\n
    \ }\n\n  return null;\n}\n/**\n * returns new array of ancestor nodes (until predicate
    hit).\n *\n * @param {Node} node\n * @param {Function} [optional] pred - predicate
    function\n */\n\n\nfunction listAncestor(node, pred) {\n  pred = pred || func.fail;\n
    \ var ancestors = [];\n  dom_ancestor(node, function (el) {\n    if (!isEditable(el))
    {\n      ancestors.push(el);\n    }\n\n    return pred(el);\n  });\n  return ancestors;\n}\n/**\n
    * find farthest ancestor predicate hit\n */\n\n\nfunction lastAncestor(node, pred)
    {\n  var ancestors = listAncestor(node);\n  return lists.last(ancestors.filter(pred));\n}\n/**\n
    * returns common ancestor node between two nodes.\n *\n * @param {Node} nodeA\n
    * @param {Node} nodeB\n */\n\n\nfunction dom_commonAncestor(nodeA, nodeB) {\n
    \ var ancestors = listAncestor(nodeA);\n\n  for (var n = nodeB; n; n = n.parentNode)
    {\n    if (ancestors.indexOf(n) > -1) return n;\n  }\n\n  return null; // difference
    document area\n}\n/**\n * listing all previous siblings (until predicate hit).\n
    *\n * @param {Node} node\n * @param {Function} [optional] pred - predicate function\n
    */\n\n\nfunction listPrev(node, pred) {\n  pred = pred || func.fail;\n  var nodes
    = [];\n\n  while (node) {\n    if (pred(node)) {\n      break;\n    }\n\n    nodes.push(node);\n
    \   node = node.previousSibling;\n  }\n\n  return nodes;\n}\n/**\n * listing next
    siblings (until predicate hit).\n *\n * @param {Node} node\n * @param {Function}
    [pred] - predicate function\n */\n\n\nfunction listNext(node, pred) {\n  pred
    = pred || func.fail;\n  var nodes = [];\n\n  while (node) {\n    if (pred(node))
    {\n      break;\n    }\n\n    nodes.push(node);\n    node = node.nextSibling;\n
    \ }\n\n  return nodes;\n}\n/**\n * listing descendant nodes\n *\n * @param {Node}
    node\n * @param {Function} [pred] - predicate function\n */\n\n\nfunction listDescendant(node,
    pred) {\n  var descendants = [];\n  pred = pred || func.ok; // start DFS(depth
    first search) with node\n\n  (function fnWalk(current) {\n    if (node !== current
    && pred(current)) {\n      descendants.push(current);\n    }\n\n    for (var idx
    = 0, len = current.childNodes.length; idx < len; idx++) {\n      fnWalk(current.childNodes[idx]);\n
    \   }\n  })(node);\n\n  return descendants;\n}\n/**\n * wrap node with new tag.\n
    *\n * @param {Node} node\n * @param {Node} tagName of wrapper\n * @return {Node}
    - wrapper\n */\n\n\nfunction wrap(node, wrapperName) {\n  var parent = node.parentNode;\n
    \ var wrapper = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<'
    + wrapperName + '>')[0];\n  parent.insertBefore(wrapper, node);\n  wrapper.appendChild(node);\n
    \ return wrapper;\n}\n/**\n * insert node after preceding\n *\n * @param {Node}
    node\n * @param {Node} preceding - predicate function\n */\n\n\nfunction insertAfter(node,
    preceding) {\n  var next = preceding.nextSibling;\n  var parent = preceding.parentNode;\n\n
    \ if (next) {\n    parent.insertBefore(node, next);\n  } else {\n    parent.appendChild(node);\n
    \ }\n\n  return node;\n}\n/**\n * append elements.\n *\n * @param {Node} node\n
    * @param {Collection} aChild\n */\n\n\nfunction appendChildNodes(node, aChild)
    {\n  external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(aChild,
    function (idx, child) {\n    node.appendChild(child);\n  });\n  return node;\n}\n/**\n
    * returns whether boundaryPoint is left edge or not.\n *\n * @param {BoundaryPoint}
    point\n * @return {Boolean}\n */\n\n\nfunction isLeftEdgePoint(point) {\n  return
    point.offset === 0;\n}\n/**\n * returns whether boundaryPoint is right edge or
    not.\n *\n * @param {BoundaryPoint} point\n * @return {Boolean}\n */\n\n\nfunction
    isRightEdgePoint(point) {\n  return point.offset === nodeLength(point.node);\n}\n/**\n
    * returns whether boundaryPoint is edge or not.\n *\n * @param {BoundaryPoint}
    point\n * @return {Boolean}\n */\n\n\nfunction isEdgePoint(point) {\n  return
    isLeftEdgePoint(point) || isRightEdgePoint(point);\n}\n/**\n * returns whether
    node is left edge of ancestor or not.\n *\n * @param {Node} node\n * @param {Node}
    ancestor\n * @return {Boolean}\n */\n\n\nfunction dom_isLeftEdgeOf(node, ancestor)
    {\n  while (node && node !== ancestor) {\n    if (dom_position(node) !== 0) {\n
    \     return false;\n    }\n\n    node = node.parentNode;\n  }\n\n  return true;\n}\n/**\n
    * returns whether node is right edge of ancestor or not.\n *\n * @param {Node}
    node\n * @param {Node} ancestor\n * @return {Boolean}\n */\n\n\nfunction isRightEdgeOf(node,
    ancestor) {\n  if (!ancestor) {\n    return false;\n  }\n\n  while (node && node
    !== ancestor) {\n    if (dom_position(node) !== nodeLength(node.parentNode) -
    1) {\n      return false;\n    }\n\n    node = node.parentNode;\n  }\n\n  return
    true;\n}\n/**\n * returns whether point is left edge of ancestor or not.\n * @param
    {BoundaryPoint} point\n * @param {Node} ancestor\n * @return {Boolean}\n */\n\n\nfunction
    isLeftEdgePointOf(point, ancestor) {\n  return isLeftEdgePoint(point) && dom_isLeftEdgeOf(point.node,
    ancestor);\n}\n/**\n * returns whether point is right edge of ancestor or not.\n
    * @param {BoundaryPoint} point\n * @param {Node} ancestor\n * @return {Boolean}\n
    */\n\n\nfunction isRightEdgePointOf(point, ancestor) {\n  return isRightEdgePoint(point)
    && isRightEdgeOf(point.node, ancestor);\n}\n/**\n * returns offset from parent.\n
    *\n * @param {Node} node\n */\n\n\nfunction dom_position(node) {\n  var offset
    = 0;\n\n  while (node = node.previousSibling) {\n    offset += 1;\n  }\n\n  return
    offset;\n}\n\nfunction hasChildren(node) {\n  return !!(node && node.childNodes
    && node.childNodes.length);\n}\n/**\n * returns previous boundaryPoint\n *\n *
    @param {BoundaryPoint} point\n * @param {Boolean} isSkipInnerOffset\n * @return
    {BoundaryPoint}\n */\n\n\nfunction dom_prevPoint(point, isSkipInnerOffset) {\n
    \ var node;\n  var offset;\n\n  if (point.offset === 0) {\n    if (isEditable(point.node))
    {\n      return null;\n    }\n\n    node = point.node.parentNode;\n    offset
    = dom_position(point.node);\n  } else if (hasChildren(point.node)) {\n    node
    = point.node.childNodes[point.offset - 1];\n    offset = nodeLength(node);\n  }
    else {\n    node = point.node;\n    offset = isSkipInnerOffset ? 0 : point.offset
    - 1;\n  }\n\n  return {\n    node: node,\n    offset: offset\n  };\n}\n/**\n *
    returns next boundaryPoint\n *\n * @param {BoundaryPoint} point\n * @param {Boolean}
    isSkipInnerOffset\n * @return {BoundaryPoint}\n */\n\n\nfunction dom_nextPoint(point,
    isSkipInnerOffset) {\n  var node, offset;\n\n  if (nodeLength(point.node) ===
    point.offset) {\n    if (isEditable(point.node)) {\n      return null;\n    }\n\n
    \   var nextTextNode = getNextTextNode(point.node);\n\n    if (nextTextNode) {\n
    \     node = nextTextNode;\n      offset = 0;\n    } else {\n      node = point.node.parentNode;\n
    \     offset = dom_position(point.node) + 1;\n    }\n  } else if (hasChildren(point.node))
    {\n    node = point.node.childNodes[point.offset];\n    offset = 0;\n  } else
    {\n    node = point.node;\n    offset = isSkipInnerOffset ? nodeLength(point.node)
    : point.offset + 1;\n  }\n\n  return {\n    node: node,\n    offset: offset\n
    \ };\n}\n/**\n * returns next boundaryPoint with empty node\n *\n * @param {BoundaryPoint}
    point\n * @param {Boolean} isSkipInnerOffset\n * @return {BoundaryPoint}\n */\n\n\nfunction
    nextPointWithEmptyNode(point, isSkipInnerOffset) {\n  var node, offset; // if
    node is empty string node, return current node's sibling.\n\n  if (dom_isEmpty(point.node))
    {\n    node = point.node.nextSibling;\n    offset = 0;\n    return {\n      node:
    node,\n      offset: offset\n    };\n  }\n\n  if (nodeLength(point.node) === point.offset)
    {\n    if (isEditable(point.node)) {\n      return null;\n    }\n\n    var nextTextNode
    = getNextTextNode(point.node);\n\n    if (nextTextNode) {\n      node = nextTextNode;\n
    \     offset = 0;\n    } else {\n      node = point.node.parentNode;\n      offset
    = dom_position(point.node) + 1;\n    } // if next node is editable, return current
    node's sibling node.\n\n\n    if (isEditable(node)) {\n      node = point.node.nextSibling;\n
    \     offset = 0;\n    }\n  } else if (hasChildren(point.node)) {\n    node =
    point.node.childNodes[point.offset];\n    offset = 0;\n\n    if (dom_isEmpty(node))
    {\n      return null;\n    }\n  } else {\n    node = point.node;\n    offset =
    isSkipInnerOffset ? nodeLength(point.node) : point.offset + 1;\n\n    if (dom_isEmpty(node))
    {\n      return null;\n    }\n  }\n\n  return {\n    node: node,\n    offset:
    offset\n  };\n}\n/*\n* returns the next Text node index or 0 if not found.\n*/\n\n\nfunction
    getNextTextNode(actual) {\n  if (!actual.nextSibling) return undefined;\n  if
    (actual.parent !== actual.nextSibling.parent) return undefined;\n  if (isText(actual.nextSibling))
    return actual.nextSibling;\n  return getNextTextNode(actual.nextSibling);\n}\n/**\n
    * returns whether pointA and pointB is same or not.\n *\n * @param {BoundaryPoint}
    pointA\n * @param {BoundaryPoint} pointB\n * @return {Boolean}\n */\n\n\nfunction
    isSamePoint(pointA, pointB) {\n  return pointA.node === pointB.node && pointA.offset
    === pointB.offset;\n}\n/**\n * returns whether point is visible (can set cursor)
    or not.\n *\n * @param {BoundaryPoint} point\n * @return {Boolean}\n */\n\n\nfunction
    isVisiblePoint(point) {\n  if (isText(point.node) || !hasChildren(point.node)
    || dom_isEmpty(point.node)) {\n    return true;\n  }\n\n  var leftNode = point.node.childNodes[point.offset
    - 1];\n  var rightNode = point.node.childNodes[point.offset];\n\n  if ((!leftNode
    || isVoid(leftNode)) && (!rightNode || isVoid(rightNode))) {\n    return true;\n
    \ }\n\n  return false;\n}\n/**\n * @method prevPointUtil\n *\n * @param {BoundaryPoint}
    point\n * @param {Function} pred\n * @return {BoundaryPoint}\n */\n\n\nfunction
    prevPointUntil(point, pred) {\n  while (point) {\n    if (pred(point)) {\n      return
    point;\n    }\n\n    point = dom_prevPoint(point);\n  }\n\n  return null;\n}\n/**\n
    * @method nextPointUntil\n *\n * @param {BoundaryPoint} point\n * @param {Function}
    pred\n * @return {BoundaryPoint}\n */\n\n\nfunction nextPointUntil(point, pred)
    {\n  while (point) {\n    if (pred(point)) {\n      return point;\n    }\n\n    point
    = dom_nextPoint(point);\n  }\n\n  return null;\n}\n/**\n * returns whether point
    has character or not.\n *\n * @param {Point} point\n * @return {Boolean}\n */\n\n\nfunction
    isCharPoint(point) {\n  if (!isText(point.node)) {\n    return false;\n  }\n\n
    \ var ch = point.node.nodeValue.charAt(point.offset - 1);\n  return ch && ch !==
    ' ' && ch !== NBSP_CHAR;\n}\n/**\n * returns whether point has space or not.\n
    *\n * @param {Point} point\n * @return {Boolean}\n */\n\n\nfunction isSpacePoint(point)
    {\n  if (!isText(point.node)) {\n    return false;\n  }\n\n  var ch = point.node.nodeValue.charAt(point.offset
    - 1);\n  return ch === ' ' || ch === NBSP_CHAR;\n}\n/**\n * @method walkPoint\n
    *\n * @param {BoundaryPoint} startPoint\n * @param {BoundaryPoint} endPoint\n
    * @param {Function} handler\n * @param {Boolean} isSkipInnerOffset\n */\n\n\nfunction
    walkPoint(startPoint, endPoint, handler, isSkipInnerOffset) {\n  var point = startPoint;\n\n
    \ while (point) {\n    handler(point);\n\n    if (isSamePoint(point, endPoint))
    {\n      break;\n    }\n\n    var isSkipOffset = isSkipInnerOffset && startPoint.node
    !== point.node && endPoint.node !== point.node;\n    point = nextPointWithEmptyNode(point,
    isSkipOffset);\n  }\n}\n/**\n * @method makeOffsetPath\n *\n * return offsetPath(array
    of offset) from ancestor\n *\n * @param {Node} ancestor - ancestor node\n * @param
    {Node} node\n */\n\n\nfunction makeOffsetPath(ancestor, node) {\n  var ancestors
    = listAncestor(node, func.eq(ancestor));\n  return ancestors.map(dom_position).reverse();\n}\n/**\n
    * @method fromOffsetPath\n *\n * return element from offsetPath(array of offset)\n
    *\n * @param {Node} ancestor - ancestor node\n * @param {array} offsets - offsetPath\n
    */\n\n\nfunction fromOffsetPath(ancestor, offsets) {\n  var current = ancestor;\n\n
    \ for (var i = 0, len = offsets.length; i < len; i++) {\n    if (current.childNodes.length
    <= offsets[i]) {\n      current = current.childNodes[current.childNodes.length
    - 1];\n    } else {\n      current = current.childNodes[offsets[i]];\n    }\n
    \ }\n\n  return current;\n}\n/**\n * @method splitNode\n *\n * split element or
    #text\n *\n * @param {BoundaryPoint} point\n * @param {Object} [options]\n * @param
    {Boolean} [options.isSkipPaddingBlankHTML] - default: false\n * @param {Boolean}
    [options.isNotSplitEdgePoint] - default: false\n * @param {Boolean} [options.isDiscardEmptySplits]
    - default: false\n * @return {Node} right node of boundaryPoint\n */\n\n\nfunction
    splitNode(point, options) {\n  var isSkipPaddingBlankHTML = options && options.isSkipPaddingBlankHTML;\n
    \ var isNotSplitEdgePoint = options && options.isNotSplitEdgePoint;\n  var isDiscardEmptySplits
    = options && options.isDiscardEmptySplits;\n\n  if (isDiscardEmptySplits) {\n
    \   isSkipPaddingBlankHTML = true;\n  } // edge case\n\n\n  if (isEdgePoint(point)
    && (isText(point.node) || isNotSplitEdgePoint)) {\n    if (isLeftEdgePoint(point))
    {\n      return point.node;\n    } else if (isRightEdgePoint(point)) {\n      return
    point.node.nextSibling;\n    }\n  } // split #text\n\n\n  if (isText(point.node))
    {\n    return point.node.splitText(point.offset);\n  } else {\n    var childNode
    = point.node.childNodes[point.offset];\n    var clone = insertAfter(point.node.cloneNode(false),
    point.node);\n    appendChildNodes(clone, listNext(childNode));\n\n    if (!isSkipPaddingBlankHTML)
    {\n      paddingBlankHTML(point.node);\n      paddingBlankHTML(clone);\n    }\n\n
    \   if (isDiscardEmptySplits) {\n      if (dom_isEmpty(point.node)) {\n        remove(point.node);\n
    \     }\n\n      if (dom_isEmpty(clone)) {\n        remove(clone);\n        return
    point.node.nextSibling;\n      }\n    }\n\n    return clone;\n  }\n}\n/**\n *
    @method splitTree\n *\n * split tree by point\n *\n * @param {Node} root - split
    root\n * @param {BoundaryPoint} point\n * @param {Object} [options]\n * @param
    {Boolean} [options.isSkipPaddingBlankHTML] - default: false\n * @param {Boolean}
    [options.isNotSplitEdgePoint] - default: false\n * @return {Node} right node of
    boundaryPoint\n */\n\n\nfunction splitTree(root, point, options) {\n  // ex) [#text,
    <span>, <p>]\n  var ancestors = listAncestor(point.node, func.eq(root));\n\n  if
    (!ancestors.length) {\n    return null;\n  } else if (ancestors.length === 1)
    {\n    return splitNode(point, options);\n  }\n\n  return ancestors.reduce(function
    (node, parent) {\n    if (node === point.node) {\n      node = splitNode(point,
    options);\n    }\n\n    return splitNode({\n      node: parent,\n      offset:
    node ? dom_position(node) : nodeLength(parent)\n    }, options);\n  });\n}\n/**\n
    * split point\n *\n * @param {Point} point\n * @param {Boolean} isInline\n * @return
    {Object}\n */\n\n\nfunction splitPoint(point, isInline) {\n  // find splitRoot,
    container\n  //  - inline: splitRoot is a child of paragraph\n  //  - block: splitRoot
    is a child of bodyContainer\n  var pred = isInline ? isPara : isBodyContainer;\n
    \ var ancestors = listAncestor(point.node, pred);\n  var topAncestor = lists.last(ancestors)
    || point.node;\n  var splitRoot, container;\n\n  if (pred(topAncestor)) {\n    splitRoot
    = ancestors[ancestors.length - 2];\n    container = topAncestor;\n  } else {\n
    \   splitRoot = topAncestor;\n    container = splitRoot.parentNode;\n  } // if
    splitRoot is exists, split with splitTree\n\n\n  var pivot = splitRoot && splitTree(splitRoot,
    point, {\n    isSkipPaddingBlankHTML: isInline,\n    isNotSplitEdgePoint: isInline\n
    \ }); // if container is point.node, find pivot with point.offset\n\n  if (!pivot
    && container === point.node) {\n    pivot = point.node.childNodes[point.offset];\n
    \ }\n\n  return {\n    rightNode: pivot,\n    container: container\n  };\n}\n\nfunction
    dom_create(nodeName) {\n  return document.createElement(nodeName);\n}\n\nfunction
    createText(text) {\n  return document.createTextNode(text);\n}\n/**\n * @method
    remove\n *\n * remove node, (isRemoveChild: remove child or not)\n *\n * @param
    {Node} node\n * @param {Boolean} isRemoveChild\n */\n\n\nfunction remove(node,
    isRemoveChild) {\n  if (!node || !node.parentNode) {\n    return;\n  }\n\n  if
    (node.removeNode) {\n    return node.removeNode(isRemoveChild);\n  }\n\n  var
    parent = node.parentNode;\n\n  if (!isRemoveChild) {\n    var nodes = [];\n\n
    \   for (var i = 0, len = node.childNodes.length; i < len; i++) {\n      nodes.push(node.childNodes[i]);\n
    \   }\n\n    for (var _i = 0, _len = nodes.length; _i < _len; _i++) {\n      parent.insertBefore(nodes[_i],
    node);\n    }\n  }\n\n  parent.removeChild(node);\n}\n/**\n * @method removeWhile\n
    *\n * @param {Node} node\n * @param {Function} pred\n */\n\n\nfunction removeWhile(node,
    pred) {\n  while (node) {\n    if (isEditable(node) || !pred(node)) {\n      break;\n
    \   }\n\n    var parent = node.parentNode;\n    remove(node);\n    node = parent;\n
    \ }\n}\n/**\n * @method replace\n *\n * replace node with provided nodeName\n
    *\n * @param {Node} node\n * @param {String} nodeName\n * @return {Node} - new
    node\n */\n\n\nfunction dom_replace(node, nodeName) {\n  if (node.nodeName.toUpperCase()
    === nodeName.toUpperCase()) {\n    return node;\n  }\n\n  var newNode = dom_create(nodeName);\n\n
    \ if (node.style.cssText) {\n    newNode.style.cssText = node.style.cssText;\n
    \ }\n\n  appendChildNodes(newNode, lists.from(node.childNodes));\n  insertAfter(newNode,
    node);\n  remove(node);\n  return newNode;\n}\n\nvar isTextarea = makePredByNodeName('TEXTAREA');\n/**\n
    * @param {jQuery} $node\n * @param {Boolean} [stripLinebreaks] - default: false\n
    */\n\nfunction dom_value($node, stripLinebreaks) {\n  var val = isTextarea($node[0])
    ? $node.val() : $node.html();\n\n  if (stripLinebreaks) {\n    return val.replace(/[\\n\\r]/g,
    '');\n  }\n\n  return val;\n}\n/**\n * @method html\n *\n * get the HTML contents
    of node\n *\n * @param {jQuery} $node\n * @param {Boolean} [isNewlineOnBlock]\n
    */\n\n\nfunction dom_html($node, isNewlineOnBlock) {\n  var markup = dom_value($node);\n\n
    \ if (isNewlineOnBlock) {\n    var regexTag = /<(\\/?)(\\b(?!!)[^>\\s]*)(.*?)(\\s*\\/?>)/g;\n
    \   markup = markup.replace(regexTag, function (match, endSlash, name) {\n      name
    = name.toUpperCase();\n      var isEndOfInlineContainer = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(name)
    && !!endSlash;\n      var isBlockNode = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(name);\n
    \     return match + (isEndOfInlineContainer || isBlockNode ? '\\n' : '');\n    });\n
    \   markup = markup.trim();\n  }\n\n  return markup;\n}\n\nfunction posFromPlaceholder(placeholder)
    {\n  var $placeholder = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(placeholder);\n
    \ var pos = $placeholder.offset();\n  var height = $placeholder.outerHeight(true);
    // include margin\n\n  return {\n    left: pos.left,\n    top: pos.top + height\n
    \ };\n}\n\nfunction attachEvents($node, events) {\n  Object.keys(events).forEach(function
    (key) {\n    $node.on(key, events[key]);\n  });\n}\n\nfunction detachEvents($node,
    events) {\n  Object.keys(events).forEach(function (key) {\n    $node.off(key,
    events[key]);\n  });\n}\n/**\n * @method isCustomStyleTag\n *\n * assert if a
    node contains a \"note-styletag\" class,\n * which implies that's a custom-made
    style tag node\n *\n * @param {Node} an HTML DOM node\n */\n\n\nfunction isCustomStyleTag(node)
    {\n  return node && !isText(node) && lists.contains(node.classList, 'note-styletag');\n}\n\n/*
    harmony default export */ var dom = ({\n  /** @property {String} NBSP_CHAR */\n
    \ NBSP_CHAR: NBSP_CHAR,\n\n  /** @property {String} ZERO_WIDTH_NBSP_CHAR */\n
    \ ZERO_WIDTH_NBSP_CHAR: ZERO_WIDTH_NBSP_CHAR,\n\n  /** @property {String} blank
    */\n  blank: blankHTML,\n\n  /** @property {String} emptyPara */\n  emptyPara:
    \"<p>\".concat(blankHTML, \"</p>\"),\n  makePredByNodeName: makePredByNodeName,\n
    \ isEditable: isEditable,\n  isControlSizing: isControlSizing,\n  isText: isText,\n
    \ isElement: isElement,\n  isVoid: isVoid,\n  isPara: isPara,\n  isPurePara: isPurePara,\n
    \ isHeading: isHeading,\n  isInline: dom_isInline,\n  isBlock: func.not(dom_isInline),\n
    \ isBodyInline: isBodyInline,\n  isBody: isBody,\n  isParaInline: isParaInline,\n
    \ isPre: isPre,\n  isList: isList,\n  isTable: isTable,\n  isData: isData,\n  isCell:
    dom_isCell,\n  isBlockquote: isBlockquote,\n  isBodyContainer: isBodyContainer,\n
    \ isAnchor: isAnchor,\n  isDiv: makePredByNodeName('DIV'),\n  isLi: isLi,\n  isBR:
    makePredByNodeName('BR'),\n  isSpan: makePredByNodeName('SPAN'),\n  isB: makePredByNodeName('B'),\n
    \ isU: makePredByNodeName('U'),\n  isS: makePredByNodeName('S'),\n  isI: makePredByNodeName('I'),\n
    \ isImg: makePredByNodeName('IMG'),\n  isTextarea: isTextarea,\n  deepestChildIsEmpty:
    deepestChildIsEmpty,\n  isEmpty: dom_isEmpty,\n  isEmptyAnchor: func.and(isAnchor,
    dom_isEmpty),\n  isClosestSibling: isClosestSibling,\n  withClosestSiblings: withClosestSiblings,\n
    \ nodeLength: nodeLength,\n  isLeftEdgePoint: isLeftEdgePoint,\n  isRightEdgePoint:
    isRightEdgePoint,\n  isEdgePoint: isEdgePoint,\n  isLeftEdgeOf: dom_isLeftEdgeOf,\n
    \ isRightEdgeOf: isRightEdgeOf,\n  isLeftEdgePointOf: isLeftEdgePointOf,\n  isRightEdgePointOf:
    isRightEdgePointOf,\n  prevPoint: dom_prevPoint,\n  nextPoint: dom_nextPoint,\n
    \ nextPointWithEmptyNode: nextPointWithEmptyNode,\n  isSamePoint: isSamePoint,\n
    \ isVisiblePoint: isVisiblePoint,\n  prevPointUntil: prevPointUntil,\n  nextPointUntil:
    nextPointUntil,\n  isCharPoint: isCharPoint,\n  isSpacePoint: isSpacePoint,\n
    \ walkPoint: walkPoint,\n  ancestor: dom_ancestor,\n  singleChildAncestor: singleChildAncestor,\n
    \ listAncestor: listAncestor,\n  lastAncestor: lastAncestor,\n  listNext: listNext,\n
    \ listPrev: listPrev,\n  listDescendant: listDescendant,\n  commonAncestor: dom_commonAncestor,\n
    \ wrap: wrap,\n  insertAfter: insertAfter,\n  appendChildNodes: appendChildNodes,\n
    \ position: dom_position,\n  hasChildren: hasChildren,\n  makeOffsetPath: makeOffsetPath,\n
    \ fromOffsetPath: fromOffsetPath,\n  splitTree: splitTree,\n  splitPoint: splitPoint,\n
    \ create: dom_create,\n  createText: createText,\n  remove: remove,\n  removeWhile:
    removeWhile,\n  replace: dom_replace,\n  html: dom_html,\n  value: dom_value,\n
    \ posFromPlaceholder: posFromPlaceholder,\n  attachEvents: attachEvents,\n  detachEvents:
    detachEvents,\n  isCustomStyleTag: isCustomStyleTag\n});\n// CONCATENATED MODULE:
    ./src/js/base/Context.js\nfunction _classCallCheck(instance, Constructor) { if
    (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class
    as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var
    i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps)
    { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps)
    _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar
    Context_Context = /*#__PURE__*/function () {\n  /**\n   * @param {jQuery} $note\n
    \  * @param {Object} options\n   */\n  function Context($note, options) {\n    _classCallCheck(this,
    Context);\n\n    this.$note = $note;\n    this.memos = {};\n    this.modules =
    {};\n    this.layoutInfo = {};\n    this.options = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(true,
    {}, options); // init ui with options\n\n    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui_template(this.options);\n
    \   this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.initialize();\n  }\n  /**\n   * create layout and initialize modules
    and other resources\n   */\n\n\n  _createClass(Context, [{\n    key: \"initialize\",\n
    \   value: function initialize() {\n      this.layoutInfo = this.ui.createLayout(this.$note);\n\n
    \     this._initialize();\n\n      this.$note.hide();\n      return this;\n    }\n
    \   /**\n     * destroy modules and other resources and remove layout\n     */\n\n
    \ }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._destroy();\n\n
    \     this.$note.removeData('summernote');\n      this.ui.removeLayout(this.$note,
    this.layoutInfo);\n    }\n    /**\n     * destory modules and other resources
    and initialize it again\n     */\n\n  }, {\n    key: \"reset\",\n    value: function
    reset() {\n      var disabled = this.isDisabled();\n      this.code(dom.emptyPara);\n\n
    \     this._destroy();\n\n      this._initialize();\n\n      if (disabled) {\n
    \       this.disable();\n      }\n    }\n  }, {\n    key: \"_initialize\",\n    value:
    function _initialize() {\n      var _this = this;\n\n      // set own id\n      this.options.id
    = func.uniqueId(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.now());
    // set default container for tooltips, popovers, and dialogs\n\n      this.options.container
    = this.options.container || this.layoutInfo.editor; // add optional buttons\n\n
    \     var buttons = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend({},
    this.options.buttons);\n      Object.keys(buttons).forEach(function (key) {\n
    \       _this.memo('button.' + key, buttons[key]);\n      });\n      var modules
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend({},
    this.options.modules, external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.plugins
    || {}); // add and initialize modules\n\n      Object.keys(modules).forEach(function
    (key) {\n        _this.module(key, modules[key], true);\n      });\n      Object.keys(this.modules).forEach(function
    (key) {\n        _this.initializeModule(key);\n      });\n    }\n  }, {\n    key:
    \"_destroy\",\n    value: function _destroy() {\n      var _this2 = this;\n\n
    \     // destroy modules with reversed order\n      Object.keys(this.modules).reverse().forEach(function
    (key) {\n        _this2.removeModule(key);\n      });\n      Object.keys(this.memos).forEach(function
    (key) {\n        _this2.removeMemo(key);\n      }); // trigger custom onDestroy
    callback\n\n      this.triggerEvent('destroy', this);\n    }\n  }, {\n    key:
    \"code\",\n    value: function code(html) {\n      var isActivated = this.invoke('codeview.isActivated');\n\n
    \     if (html === undefined) {\n        this.invoke('codeview.sync');\n        return
    isActivated ? this.layoutInfo.codable.val() : this.layoutInfo.editable.html();\n
    \     } else {\n        if (isActivated) {\n          this.invoke('codeview.sync',
    html);\n        } else {\n          this.layoutInfo.editable.html(html);\n        }\n\n
    \       this.$note.val(html);\n        this.triggerEvent('change', html, this.layoutInfo.editable);\n
    \     }\n    }\n  }, {\n    key: \"isDisabled\",\n    value: function isDisabled()
    {\n      return this.layoutInfo.editable.attr('contenteditable') === 'false';\n
    \   }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.layoutInfo.editable.attr('contenteditable',
    true);\n      this.invoke('toolbar.activate', true);\n      this.triggerEvent('disable',
    false);\n      this.options.editing = true;\n    }\n  }, {\n    key: \"disable\",\n
    \   value: function disable() {\n      // close codeview if codeview is opend\n
    \     if (this.invoke('codeview.isActivated')) {\n        this.invoke('codeview.deactivate');\n
    \     }\n\n      this.layoutInfo.editable.attr('contenteditable', false);\n      this.options.editing
    = false;\n      this.invoke('toolbar.deactivate', true);\n      this.triggerEvent('disable',
    true);\n    }\n  }, {\n    key: \"triggerEvent\",\n    value: function triggerEvent()
    {\n      var namespace = lists.head(arguments);\n      var args = lists.tail(lists.from(arguments));\n
    \     var callback = this.options.callbacks[func.namespaceToCamel(namespace, 'on')];\n\n
    \     if (callback) {\n        callback.apply(this.$note[0], args);\n      }\n\n
    \     this.$note.trigger('summernote.' + namespace, args);\n    }\n  }, {\n    key:
    \"initializeModule\",\n    value: function initializeModule(key) {\n      var
    module = this.modules[key];\n      module.shouldInitialize = module.shouldInitialize
    || func.ok;\n\n      if (!module.shouldInitialize()) {\n        return;\n      }
    // initialize module\n\n\n      if (module.initialize) {\n        module.initialize();\n
    \     } // attach events\n\n\n      if (module.events) {\n        dom.attachEvents(this.$note,
    module.events);\n      }\n    }\n  }, {\n    key: \"module\",\n    value: function
    module(key, ModuleClass, withoutIntialize) {\n      if (arguments.length === 1)
    {\n        return this.modules[key];\n      }\n\n      this.modules[key] = new
    ModuleClass(this);\n\n      if (!withoutIntialize) {\n        this.initializeModule(key);\n
    \     }\n    }\n  }, {\n    key: \"removeModule\",\n    value: function removeModule(key)
    {\n      var module = this.modules[key];\n\n      if (module.shouldInitialize())
    {\n        if (module.events) {\n          dom.detachEvents(this.$note, module.events);\n
    \       }\n\n        if (module.destroy) {\n          module.destroy();\n        }\n
    \     }\n\n      delete this.modules[key];\n    }\n  }, {\n    key: \"memo\",\n
    \   value: function memo(key, obj) {\n      if (arguments.length === 1) {\n        return
    this.memos[key];\n      }\n\n      this.memos[key] = obj;\n    }\n  }, {\n    key:
    \"removeMemo\",\n    value: function removeMemo(key) {\n      if (this.memos[key]
    && this.memos[key].destroy) {\n        this.memos[key].destroy();\n      }\n\n
    \     delete this.memos[key];\n    }\n    /**\n     * Some buttons need to change
    their visual style immediately once they get pressed\n     */\n\n  }, {\n    key:
    \"createInvokeHandlerAndUpdateState\",\n    value: function createInvokeHandlerAndUpdateState(namespace,
    value) {\n      var _this3 = this;\n\n      return function (event) {\n        _this3.createInvokeHandler(namespace,
    value)(event);\n\n        _this3.invoke('buttons.updateCurrentStyle');\n      };\n
    \   }\n  }, {\n    key: \"createInvokeHandler\",\n    value: function createInvokeHandler(namespace,
    value) {\n      var _this4 = this;\n\n      return function (event) {\n        event.preventDefault();\n
    \       var $target = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target);\n\n
    \       _this4.invoke(namespace, value || $target.closest('[data-value]').data('value'),
    $target);\n      };\n    }\n  }, {\n    key: \"invoke\",\n    value: function
    invoke() {\n      var namespace = lists.head(arguments);\n      var args = lists.tail(lists.from(arguments));\n
    \     var splits = namespace.split('.');\n      var hasSeparator = splits.length
    > 1;\n      var moduleName = hasSeparator && lists.head(splits);\n      var methodName
    = hasSeparator ? lists.last(splits) : lists.head(splits);\n      var module =
    this.modules[moduleName || 'editor'];\n\n      if (!moduleName && this[methodName])
    {\n        return this[methodName].apply(this, args);\n      } else if (module
    && module[methodName] && module.shouldInitialize()) {\n        return module[methodName].apply(module,
    args);\n      }\n    }\n  }]);\n\n  return Context;\n}();\n\n\n// CONCATENATED
    MODULE: ./src/js/summernote.js\n\n\n\n\nexternal_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.fn.extend({\n
    \ /**\n   * Summernote API\n   *\n   * @param {Object|String}\n   * @return {this}\n
    \  */\n  summernote: function summernote() {\n    var type = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.type(lists.head(arguments));\n
    \   var isExternalAPICalled = type === 'string';\n    var hasInitOptions = type
    === 'object';\n    var options = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend({},
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.options,
    hasInitOptions ? lists.head(arguments) : {}); // Update options\n\n    options.langInfo
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(true,
    {}, external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.lang['en-US'],
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.lang[options.lang]);\n
    \   options.icons = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(true,
    {}, external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.options.icons,
    options.icons);\n    options.tooltip = options.tooltip === 'auto' ? !env.isSupportTouch
    : options.tooltip;\n    this.each(function (idx, note) {\n      var $note = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(note);\n\n
    \     if (!$note.data('summernote')) {\n        var context = new Context_Context($note,
    options);\n        $note.data('summernote', context);\n        $note.data('summernote').triggerEvent('init',
    context.layoutInfo);\n      }\n    });\n    var $note = this.first();\n\n    if
    ($note.length) {\n      var context = $note.data('summernote');\n\n      if (isExternalAPICalled)
    {\n        return context.invoke.apply(context, lists.from(arguments));\n      }
    else if (options.focus) {\n        context.invoke('editor.focus');\n      }\n
    \   }\n\n    return this;\n  }\n});\n// CONCATENATED MODULE: ./src/js/base/core/range.js\nfunction
    range_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    range_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    range_createClass(Constructor, protoProps, staticProps) { if (protoProps) range_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) range_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n\n/**\n * return boundaryPoint from TextRange,
    inspired by Andy Na's HuskyRange.js\n *\n * @param {TextRange} textRange\n * @param
    {Boolean} isStart\n * @return {BoundaryPoint}\n *\n * @see http://msdn.microsoft.com/en-us/library/ie/ms535872(v=vs.85).aspx\n
    */\n\nfunction textRangeToPoint(textRange, isStart) {\n  var container = textRange.parentElement();\n
    \ var offset;\n  var tester = document.body.createTextRange();\n  var prevContainer;\n
    \ var childNodes = lists.from(container.childNodes);\n\n  for (offset = 0; offset
    < childNodes.length; offset++) {\n    if (dom.isText(childNodes[offset])) {\n
    \     continue;\n    }\n\n    tester.moveToElementText(childNodes[offset]);\n\n
    \   if (tester.compareEndPoints('StartToStart', textRange) >= 0) {\n      break;\n
    \   }\n\n    prevContainer = childNodes[offset];\n  }\n\n  if (offset !== 0 &&
    dom.isText(childNodes[offset - 1])) {\n    var textRangeStart = document.body.createTextRange();\n
    \   var curTextNode = null;\n    textRangeStart.moveToElementText(prevContainer
    || container);\n    textRangeStart.collapse(!prevContainer);\n    curTextNode
    = prevContainer ? prevContainer.nextSibling : container.firstChild;\n    var pointTester
    = textRange.duplicate();\n    pointTester.setEndPoint('StartToStart', textRangeStart);\n
    \   var textCount = pointTester.text.replace(/[\\r\\n]/g, '').length;\n\n    while
    (textCount > curTextNode.nodeValue.length && curTextNode.nextSibling) {\n      textCount
    -= curTextNode.nodeValue.length;\n      curTextNode = curTextNode.nextSibling;\n
    \   } // [workaround] enforce IE to re-reference curTextNode, hack\n\n\n    var
    dummy = curTextNode.nodeValue; // eslint-disable-line\n\n    if (isStart && curTextNode.nextSibling
    && dom.isText(curTextNode.nextSibling) && textCount === curTextNode.nodeValue.length)
    {\n      textCount -= curTextNode.nodeValue.length;\n      curTextNode = curTextNode.nextSibling;\n
    \   }\n\n    container = curTextNode;\n    offset = textCount;\n  }\n\n  return
    {\n    cont: container,\n    offset: offset\n  };\n}\n/**\n * return TextRange
    from boundary point (inspired by google closure-library)\n * @param {BoundaryPoint}
    point\n * @return {TextRange}\n */\n\n\nfunction pointToTextRange(point) {\n  var
    textRangeInfo = function textRangeInfo(container, offset) {\n    var node, isCollapseToStart;\n\n
    \   if (dom.isText(container)) {\n      var prevTextNodes = dom.listPrev(container,
    func.not(dom.isText));\n      var prevContainer = lists.last(prevTextNodes).previousSibling;\n
    \     node = prevContainer || container.parentNode;\n      offset += lists.sum(lists.tail(prevTextNodes),
    dom.nodeLength);\n      isCollapseToStart = !prevContainer;\n    } else {\n      node
    = container.childNodes[offset] || container;\n\n      if (dom.isText(node)) {\n
    \       return textRangeInfo(node, 0);\n      }\n\n      offset = 0;\n      isCollapseToStart
    = false;\n    }\n\n    return {\n      node: node,\n      collapseToStart: isCollapseToStart,\n
    \     offset: offset\n    };\n  };\n\n  var textRange = document.body.createTextRange();\n
    \ var info = textRangeInfo(point.node, point.offset);\n  textRange.moveToElementText(info.node);\n
    \ textRange.collapse(info.collapseToStart);\n  textRange.moveStart('character',
    info.offset);\n  return textRange;\n}\n/**\n   * Wrapped Range\n   *\n   * @constructor\n
    \  * @param {Node} sc - start container\n   * @param {Number} so - start offset\n
    \  * @param {Node} ec - end container\n   * @param {Number} eo - end offset\n
    \  */\n\n\nvar range_WrappedRange = /*#__PURE__*/function () {\n  function WrappedRange(sc,
    so, ec, eo) {\n    range_classCallCheck(this, WrappedRange);\n\n    this.sc =
    sc;\n    this.so = so;\n    this.ec = ec;\n    this.eo = eo; // isOnEditable:
    judge whether range is on editable or not\n\n    this.isOnEditable = this.makeIsOn(dom.isEditable);
    // isOnList: judge whether range is on list node or not\n\n    this.isOnList =
    this.makeIsOn(dom.isList); // isOnAnchor: judge whether range is on anchor node
    or not\n\n    this.isOnAnchor = this.makeIsOn(dom.isAnchor); // isOnCell: judge
    whether range is on cell node or not\n\n    this.isOnCell = this.makeIsOn(dom.isCell);
    // isOnData: judge whether range is on data node or not\n\n    this.isOnData =
    this.makeIsOn(dom.isData);\n  } // nativeRange: get nativeRange from sc, so, ec,
    eo\n\n\n  range_createClass(WrappedRange, [{\n    key: \"nativeRange\",\n    value:
    function nativeRange() {\n      if (env.isW3CRangeSupport) {\n        var w3cRange
    = document.createRange();\n        w3cRange.setStart(this.sc, this.so);\n        w3cRange.setEnd(this.ec,
    this.eo);\n        return w3cRange;\n      } else {\n        var textRange = pointToTextRange({\n
    \         node: this.sc,\n          offset: this.so\n        });\n        textRange.setEndPoint('EndToEnd',
    pointToTextRange({\n          node: this.ec,\n          offset: this.eo\n        }));\n
    \       return textRange;\n      }\n    }\n  }, {\n    key: \"getPoints\",\n    value:
    function getPoints() {\n      return {\n        sc: this.sc,\n        so: this.so,\n
    \       ec: this.ec,\n        eo: this.eo\n      };\n    }\n  }, {\n    key: \"getStartPoint\",\n
    \   value: function getStartPoint() {\n      return {\n        node: this.sc,\n
    \       offset: this.so\n      };\n    }\n  }, {\n    key: \"getEndPoint\",\n
    \   value: function getEndPoint() {\n      return {\n        node: this.ec,\n
    \       offset: this.eo\n      };\n    }\n    /**\n     * select update visible
    range\n     */\n\n  }, {\n    key: \"select\",\n    value: function select() {\n
    \     var nativeRng = this.nativeRange();\n\n      if (env.isW3CRangeSupport)
    {\n        var selection = document.getSelection();\n\n        if (selection.rangeCount
    > 0) {\n          selection.removeAllRanges();\n        }\n\n        selection.addRange(nativeRng);\n
    \     } else {\n        nativeRng.select();\n      }\n\n      return this;\n    }\n
    \   /**\n     * Moves the scrollbar to start container(sc) of current range\n
    \    *\n     * @return {WrappedRange}\n     */\n\n  }, {\n    key: \"scrollIntoView\",\n
    \   value: function scrollIntoView(container) {\n      var height = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(container).height();\n\n
    \     if (container.scrollTop + height < this.sc.offsetTop) {\n        container.scrollTop
    += Math.abs(container.scrollTop + height - this.sc.offsetTop);\n      }\n\n      return
    this;\n    }\n    /**\n     * @return {WrappedRange}\n     */\n\n  }, {\n    key:
    \"normalize\",\n    value: function normalize() {\n      /**\n       * @param
    {BoundaryPoint} point\n       * @param {Boolean} isLeftToRight - true: prefer
    to choose right node\n       *                                - false: prefer
    to choose left node\n       * @return {BoundaryPoint}\n       */\n      var getVisiblePoint
    = function getVisiblePoint(point, isLeftToRight) {\n        if (!point) {\n          return
    point;\n        } // Just use the given point [XXX:Adhoc]\n        //  - case
    01. if the point is on the middle of the node\n        //  - case 02. if the point
    is on the right edge and prefer to choose left node\n        //  - case 03. if
    the point is on the left edge and prefer to choose right node\n        //  - case
    04. if the point is on the right edge and prefer to choose right node but the
    node is void\n        //  - case 05. if the point is on the left edge and prefer
    to choose left node but the node is void\n        //  - case 06. if the point
    is on the block node and there is no children\n\n\n        if (dom.isVisiblePoint(point))
    {\n          if (!dom.isEdgePoint(point) || dom.isRightEdgePoint(point) && !isLeftToRight
    || dom.isLeftEdgePoint(point) && isLeftToRight || dom.isRightEdgePoint(point)
    && isLeftToRight && dom.isVoid(point.node.nextSibling) || dom.isLeftEdgePoint(point)
    && !isLeftToRight && dom.isVoid(point.node.previousSibling) || dom.isBlock(point.node)
    && dom.isEmpty(point.node)) {\n            return point;\n          }\n        }
    // point on block's edge\n\n\n        var block = dom.ancestor(point.node, dom.isBlock);\n
    \       var hasRightNode = false;\n\n        if (!hasRightNode) {\n          var
    prevPoint = dom.prevPoint(point) || {\n            node: null\n          };\n
    \         hasRightNode = (dom.isLeftEdgePointOf(point, block) || dom.isVoid(prevPoint.node))
    && !isLeftToRight;\n        }\n\n        var hasLeftNode = false;\n\n        if
    (!hasLeftNode) {\n          var _nextPoint = dom.nextPoint(point) || {\n            node:
    null\n          };\n\n          hasLeftNode = (dom.isRightEdgePointOf(point, block)
    || dom.isVoid(_nextPoint.node)) && isLeftToRight;\n        }\n\n        if (hasRightNode
    || hasLeftNode) {\n          // returns point already on visible point\n          if
    (dom.isVisiblePoint(point)) {\n            return point;\n          } // reverse
    direction\n\n\n          isLeftToRight = !isLeftToRight;\n        }\n\n        var
    nextPoint = isLeftToRight ? dom.nextPointUntil(dom.nextPoint(point), dom.isVisiblePoint)
    : dom.prevPointUntil(dom.prevPoint(point), dom.isVisiblePoint);\n        return
    nextPoint || point;\n      };\n\n      var endPoint = getVisiblePoint(this.getEndPoint(),
    false);\n      var startPoint = this.isCollapsed() ? endPoint : getVisiblePoint(this.getStartPoint(),
    true);\n      return new WrappedRange(startPoint.node, startPoint.offset, endPoint.node,
    endPoint.offset);\n    }\n    /**\n     * returns matched nodes on range\n     *\n
    \    * @param {Function} [pred] - predicate function\n     * @param {Object} [options]\n
    \    * @param {Boolean} [options.includeAncestor]\n     * @param {Boolean} [options.fullyContains]\n
    \    * @return {Node[]}\n     */\n\n  }, {\n    key: \"nodes\",\n    value: function
    nodes(pred, options) {\n      pred = pred || func.ok;\n      var includeAncestor
    = options && options.includeAncestor;\n      var fullyContains = options && options.fullyContains;
    // TODO compare points and sort\n\n      var startPoint = this.getStartPoint();\n
    \     var endPoint = this.getEndPoint();\n      var nodes = [];\n      var leftEdgeNodes
    = [];\n      dom.walkPoint(startPoint, endPoint, function (point) {\n        if
    (dom.isEditable(point.node)) {\n          return;\n        }\n\n        var node;\n\n
    \       if (fullyContains) {\n          if (dom.isLeftEdgePoint(point)) {\n            leftEdgeNodes.push(point.node);\n
    \         }\n\n          if (dom.isRightEdgePoint(point) && lists.contains(leftEdgeNodes,
    point.node)) {\n            node = point.node;\n          }\n        } else if
    (includeAncestor) {\n          node = dom.ancestor(point.node, pred);\n        }
    else {\n          node = point.node;\n        }\n\n        if (node && pred(node))
    {\n          nodes.push(node);\n        }\n      }, true);\n      return lists.unique(nodes);\n
    \   }\n    /**\n     * returns commonAncestor of range\n     * @return {Element}
    - commonAncestor\n     */\n\n  }, {\n    key: \"commonAncestor\",\n    value:
    function commonAncestor() {\n      return dom.commonAncestor(this.sc, this.ec);\n
    \   }\n    /**\n     * returns expanded range by pred\n     *\n     * @param {Function}
    pred - predicate function\n     * @return {WrappedRange}\n     */\n\n  }, {\n
    \   key: \"expand\",\n    value: function expand(pred) {\n      var startAncestor
    = dom.ancestor(this.sc, pred);\n      var endAncestor = dom.ancestor(this.ec,
    pred);\n\n      if (!startAncestor && !endAncestor) {\n        return new WrappedRange(this.sc,
    this.so, this.ec, this.eo);\n      }\n\n      var boundaryPoints = this.getPoints();\n\n
    \     if (startAncestor) {\n        boundaryPoints.sc = startAncestor;\n        boundaryPoints.so
    = 0;\n      }\n\n      if (endAncestor) {\n        boundaryPoints.ec = endAncestor;\n
    \       boundaryPoints.eo = dom.nodeLength(endAncestor);\n      }\n\n      return
    new WrappedRange(boundaryPoints.sc, boundaryPoints.so, boundaryPoints.ec, boundaryPoints.eo);\n
    \   }\n    /**\n     * @param {Boolean} isCollapseToStart\n     * @return {WrappedRange}\n
    \    */\n\n  }, {\n    key: \"collapse\",\n    value: function collapse(isCollapseToStart)
    {\n      if (isCollapseToStart) {\n        return new WrappedRange(this.sc, this.so,
    this.sc, this.so);\n      } else {\n        return new WrappedRange(this.ec, this.eo,
    this.ec, this.eo);\n      }\n    }\n    /**\n     * splitText on range\n     */\n\n
    \ }, {\n    key: \"splitText\",\n    value: function splitText() {\n      var
    isSameContainer = this.sc === this.ec;\n      var boundaryPoints = this.getPoints();\n\n
    \     if (dom.isText(this.ec) && !dom.isEdgePoint(this.getEndPoint())) {\n        this.ec.splitText(this.eo);\n
    \     }\n\n      if (dom.isText(this.sc) && !dom.isEdgePoint(this.getStartPoint()))
    {\n        boundaryPoints.sc = this.sc.splitText(this.so);\n        boundaryPoints.so
    = 0;\n\n        if (isSameContainer) {\n          boundaryPoints.ec = boundaryPoints.sc;\n
    \         boundaryPoints.eo = this.eo - this.so;\n        }\n      }\n\n      return
    new WrappedRange(boundaryPoints.sc, boundaryPoints.so, boundaryPoints.ec, boundaryPoints.eo);\n
    \   }\n    /**\n     * delete contents on range\n     * @return {WrappedRange}\n
    \    */\n\n  }, {\n    key: \"deleteContents\",\n    value: function deleteContents()
    {\n      if (this.isCollapsed()) {\n        return this;\n      }\n\n      var
    rng = this.splitText();\n      var nodes = rng.nodes(null, {\n        fullyContains:
    true\n      }); // find new cursor point\n\n      var point = dom.prevPointUntil(rng.getStartPoint(),
    function (point) {\n        return !lists.contains(nodes, point.node);\n      });\n
    \     var emptyParents = [];\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(nodes,
    function (idx, node) {\n        // find empty parents\n        var parent = node.parentNode;\n\n
    \       if (point.node !== parent && dom.nodeLength(parent) === 1) {\n          emptyParents.push(parent);\n
    \       }\n\n        dom.remove(node, false);\n      }); // remove empty parents\n\n
    \     external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(emptyParents,
    function (idx, node) {\n        dom.remove(node, false);\n      });\n      return
    new WrappedRange(point.node, point.offset, point.node, point.offset).normalize();\n
    \   }\n    /**\n     * makeIsOn: return isOn(pred) function\n     */\n\n  }, {\n
    \   key: \"makeIsOn\",\n    value: function makeIsOn(pred) {\n      return function
    () {\n        var ancestor = dom.ancestor(this.sc, pred);\n        return !!ancestor
    && ancestor === dom.ancestor(this.ec, pred);\n      };\n    }\n    /**\n     *
    @param {Function} pred\n     * @return {Boolean}\n     */\n\n  }, {\n    key:
    \"isLeftEdgeOf\",\n    value: function isLeftEdgeOf(pred) {\n      if (!dom.isLeftEdgePoint(this.getStartPoint()))
    {\n        return false;\n      }\n\n      var node = dom.ancestor(this.sc, pred);\n
    \     return node && dom.isLeftEdgeOf(this.sc, node);\n    }\n    /**\n     *
    returns whether range was collapsed or not\n     */\n\n  }, {\n    key: \"isCollapsed\",\n
    \   value: function isCollapsed() {\n      return this.sc === this.ec && this.so
    === this.eo;\n    }\n    /**\n     * wrap inline nodes which children of body
    with paragraph\n     *\n     * @return {WrappedRange}\n     */\n\n  }, {\n    key:
    \"wrapBodyInlineWithPara\",\n    value: function wrapBodyInlineWithPara() {\n
    \     if (dom.isBodyContainer(this.sc) && dom.isEmpty(this.sc)) {\n        this.sc.innerHTML
    = dom.emptyPara;\n        return new WrappedRange(this.sc.firstChild, 0, this.sc.firstChild,
    0);\n      }\n      /**\n       * [workaround] firefox often create range on not
    visible point. so normalize here.\n       *  - firefox: |<p>text</p>|\n       *
    \ - chrome: <p>|text|</p>\n       */\n\n\n      var rng = this.normalize();\n\n
    \     if (dom.isParaInline(this.sc) || dom.isPara(this.sc)) {\n        return
    rng;\n      } // find inline top ancestor\n\n\n      var topAncestor;\n\n      if
    (dom.isInline(rng.sc)) {\n        var ancestors = dom.listAncestor(rng.sc, func.not(dom.isInline));\n
    \       topAncestor = lists.last(ancestors);\n\n        if (!dom.isInline(topAncestor))
    {\n          topAncestor = ancestors[ancestors.length - 2] || rng.sc.childNodes[rng.so];\n
    \       }\n      } else {\n        topAncestor = rng.sc.childNodes[rng.so > 0
    ? rng.so - 1 : 0];\n      }\n\n      if (topAncestor) {\n        // siblings not
    in paragraph\n        var inlineSiblings = dom.listPrev(topAncestor, dom.isParaInline).reverse();\n
    \       inlineSiblings = inlineSiblings.concat(dom.listNext(topAncestor.nextSibling,
    dom.isParaInline)); // wrap with paragraph\n\n        if (inlineSiblings.length)
    {\n          var para = dom.wrap(lists.head(inlineSiblings), 'p');\n          dom.appendChildNodes(para,
    lists.tail(inlineSiblings));\n        }\n      }\n\n      return this.normalize();\n
    \   }\n    /**\n     * insert node at current cursor\n     *\n     * @param {Node}
    node\n     * @return {Node}\n     */\n\n  }, {\n    key: \"insertNode\",\n    value:
    function insertNode(node) {\n      var rng = this;\n\n      if (dom.isText(node)
    || dom.isInline(node)) {\n        rng = this.wrapBodyInlineWithPara().deleteContents();\n
    \     }\n\n      var info = dom.splitPoint(rng.getStartPoint(), dom.isInline(node));\n\n
    \     if (info.rightNode) {\n        info.rightNode.parentNode.insertBefore(node,
    info.rightNode);\n\n        if (dom.isEmpty(info.rightNode) && dom.isPara(node))
    {\n          info.rightNode.parentNode.removeChild(info.rightNode);\n        }\n
    \     } else {\n        info.container.appendChild(node);\n      }\n\n      return
    node;\n    }\n    /**\n     * insert html at current cursor\n     */\n\n  }, {\n
    \   key: \"pasteHTML\",\n    value: function pasteHTML(markup) {\n      markup
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.trim(markup);\n
    \     var contentsContainer = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div></div>').html(markup)[0];\n
    \     var childNodes = lists.from(contentsContainer.childNodes); // const rng
    = this.wrapBodyInlineWithPara().deleteContents();\n\n      var rng = this;\n      var
    reversed = false;\n\n      if (rng.so >= 0) {\n        childNodes = childNodes.reverse();\n
    \       reversed = true;\n      }\n\n      childNodes = childNodes.map(function
    (childNode) {\n        return rng.insertNode(childNode);\n      });\n\n      if
    (reversed) {\n        childNodes = childNodes.reverse();\n      }\n\n      return
    childNodes;\n    }\n    /**\n     * returns text in range\n     *\n     * @return
    {String}\n     */\n\n  }, {\n    key: \"toString\",\n    value: function toString()
    {\n      var nativeRng = this.nativeRange();\n      return env.isW3CRangeSupport
    ? nativeRng.toString() : nativeRng.text;\n    }\n    /**\n     * returns range
    for word before cursor\n     *\n     * @param {Boolean} [findAfter] - find after
    cursor, default: false\n     * @return {WrappedRange}\n     */\n\n  }, {\n    key:
    \"getWordRange\",\n    value: function getWordRange(findAfter) {\n      var endPoint
    = this.getEndPoint();\n\n      if (!dom.isCharPoint(endPoint)) {\n        return
    this;\n      }\n\n      var startPoint = dom.prevPointUntil(endPoint, function
    (point) {\n        return !dom.isCharPoint(point);\n      });\n\n      if (findAfter)
    {\n        endPoint = dom.nextPointUntil(endPoint, function (point) {\n          return
    !dom.isCharPoint(point);\n        });\n      }\n\n      return new WrappedRange(startPoint.node,
    startPoint.offset, endPoint.node, endPoint.offset);\n    }\n    /**\n     * returns
    range for words before cursor\n     *\n     * @param {Boolean} [findAfter] - find
    after cursor, default: false\n     * @return {WrappedRange}\n     */\n\n  }, {\n
    \   key: \"getWordsRange\",\n    value: function getWordsRange(findAfter) {\n
    \     var endPoint = this.getEndPoint();\n\n      var isNotTextPoint = function
    isNotTextPoint(point) {\n        return !dom.isCharPoint(point) && !dom.isSpacePoint(point);\n
    \     };\n\n      if (isNotTextPoint(endPoint)) {\n        return this;\n      }\n\n
    \     var startPoint = dom.prevPointUntil(endPoint, isNotTextPoint);\n\n      if
    (findAfter) {\n        endPoint = dom.nextPointUntil(endPoint, isNotTextPoint);\n
    \     }\n\n      return new WrappedRange(startPoint.node, startPoint.offset, endPoint.node,
    endPoint.offset);\n    }\n    /**\n     * returns range for words before cursor
    that match with a Regex\n     *\n     * example:\n     *  range: 'hi @Peter Pan'\n
    \    *  regex: '/@[a-z ]+/i'\n     *  return range: '@Peter Pan'\n     *\n     *
    @param {RegExp} [regex]\n     * @return {WrappedRange|null}\n     */\n\n  }, {\n
    \   key: \"getWordsMatchRange\",\n    value: function getWordsMatchRange(regex)
    {\n      var endPoint = this.getEndPoint();\n      var startPoint = dom.prevPointUntil(endPoint,
    function (point) {\n        if (!dom.isCharPoint(point) && !dom.isSpacePoint(point))
    {\n          return true;\n        }\n\n        var rng = new WrappedRange(point.node,
    point.offset, endPoint.node, endPoint.offset);\n        var result = regex.exec(rng.toString());\n
    \       return result && result.index === 0;\n      });\n      var rng = new WrappedRange(startPoint.node,
    startPoint.offset, endPoint.node, endPoint.offset);\n      var text = rng.toString();\n
    \     var result = regex.exec(text);\n\n      if (result && result[0].length ===
    text.length) {\n        return rng;\n      } else {\n        return null;\n      }\n
    \   }\n    /**\n     * create offsetPath bookmark\n     *\n     * @param {Node}
    editable\n     */\n\n  }, {\n    key: \"bookmark\",\n    value: function bookmark(editable)
    {\n      return {\n        s: {\n          path: dom.makeOffsetPath(editable,
    this.sc),\n          offset: this.so\n        },\n        e: {\n          path:
    dom.makeOffsetPath(editable, this.ec),\n          offset: this.eo\n        }\n
    \     };\n    }\n    /**\n     * create offsetPath bookmark base on paragraph\n
    \    *\n     * @param {Node[]} paras\n     */\n\n  }, {\n    key: \"paraBookmark\",\n
    \   value: function paraBookmark(paras) {\n      return {\n        s: {\n          path:
    lists.tail(dom.makeOffsetPath(lists.head(paras), this.sc)),\n          offset:
    this.so\n        },\n        e: {\n          path: lists.tail(dom.makeOffsetPath(lists.last(paras),
    this.ec)),\n          offset: this.eo\n        }\n      };\n    }\n    /**\n     *
    getClientRects\n     * @return {Rect[]}\n     */\n\n  }, {\n    key: \"getClientRects\",\n
    \   value: function getClientRects() {\n      var nativeRng = this.nativeRange();\n
    \     return nativeRng.getClientRects();\n    }\n  }]);\n\n  return WrappedRange;\n}();\n/**\n
    * Data structure\n *  * BoundaryPoint: a point of dom tree\n *  * BoundaryPoints:
    two boundaryPoints corresponding to the start and the end of the Range\n *\n *
    See to http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Position\n
    */\n\n\n/* harmony default export */ var range = ({\n  /**\n   * create Range
    Object From arguments or Browser Selection\n   *\n   * @param {Node} sc - start
    container\n   * @param {Number} so - start offset\n   * @param {Node} ec - end
    container\n   * @param {Number} eo - end offset\n   * @return {WrappedRange}\n
    \  */\n  create: function create(sc, so, ec, eo) {\n    if (arguments.length ===
    4) {\n      return new range_WrappedRange(sc, so, ec, eo);\n    } else if (arguments.length
    === 2) {\n      // collapsed\n      ec = sc;\n      eo = so;\n      return new
    range_WrappedRange(sc, so, ec, eo);\n    } else {\n      var wrappedRange = this.createFromSelection();\n\n
    \     if (!wrappedRange && arguments.length === 1) {\n        var bodyElement
    = arguments[0];\n\n        if (dom.isEditable(bodyElement)) {\n          bodyElement
    = bodyElement.lastChild;\n        }\n\n        return this.createFromBodyElement(bodyElement,
    dom.emptyPara === arguments[0].innerHTML);\n      }\n\n      return wrappedRange;\n
    \   }\n  },\n  createFromBodyElement: function createFromBodyElement(bodyElement)
    {\n    var isCollapseToStart = arguments.length > 1 && arguments[1] !== undefined
    ? arguments[1] : false;\n    var wrappedRange = this.createFromNode(bodyElement);\n
    \   return wrappedRange.collapse(isCollapseToStart);\n  },\n  createFromSelection:
    function createFromSelection() {\n    var sc, so, ec, eo;\n\n    if (env.isW3CRangeSupport)
    {\n      var selection = document.getSelection();\n\n      if (!selection || selection.rangeCount
    === 0) {\n        return null;\n      } else if (dom.isBody(selection.anchorNode))
    {\n        // Firefox: returns entire body as range on initialization.\n        //
    We won't never need it.\n        return null;\n      }\n\n      var nativeRng
    = selection.getRangeAt(0);\n      sc = nativeRng.startContainer;\n      so = nativeRng.startOffset;\n
    \     ec = nativeRng.endContainer;\n      eo = nativeRng.endOffset;\n    } else
    {\n      // IE8: TextRange\n      var textRange = document.selection.createRange();\n
    \     var textRangeEnd = textRange.duplicate();\n      textRangeEnd.collapse(false);\n
    \     var textRangeStart = textRange;\n      textRangeStart.collapse(true);\n
    \     var startPoint = textRangeToPoint(textRangeStart, true);\n      var endPoint
    = textRangeToPoint(textRangeEnd, false); // same visible point case: range was
    collapsed.\n\n      if (dom.isText(startPoint.node) && dom.isLeftEdgePoint(startPoint)
    && dom.isTextNode(endPoint.node) && dom.isRightEdgePoint(endPoint) && endPoint.node.nextSibling
    === startPoint.node) {\n        startPoint = endPoint;\n      }\n\n      sc =
    startPoint.cont;\n      so = startPoint.offset;\n      ec = endPoint.cont;\n      eo
    = endPoint.offset;\n    }\n\n    return new range_WrappedRange(sc, so, ec, eo);\n
    \ },\n\n  /**\n   * @method\n   *\n   * create WrappedRange from node\n   *\n
    \  * @param {Node} node\n   * @return {WrappedRange}\n   */\n  createFromNode:
    function createFromNode(node) {\n    var sc = node;\n    var so = 0;\n    var
    ec = node;\n    var eo = dom.nodeLength(ec); // browsers can't target a picture
    or void node\n\n    if (dom.isVoid(sc)) {\n      so = dom.listPrev(sc).length
    - 1;\n      sc = sc.parentNode;\n    }\n\n    if (dom.isBR(ec)) {\n      eo =
    dom.listPrev(ec).length - 1;\n      ec = ec.parentNode;\n    } else if (dom.isVoid(ec))
    {\n      eo = dom.listPrev(ec).length;\n      ec = ec.parentNode;\n    }\n\n    return
    this.create(sc, so, ec, eo);\n  },\n\n  /**\n   * create WrappedRange from node
    after position\n   *\n   * @param {Node} node\n   * @return {WrappedRange}\n   */\n
    \ createFromNodeBefore: function createFromNodeBefore(node) {\n    return this.createFromNode(node).collapse(true);\n
    \ },\n\n  /**\n   * create WrappedRange from node after position\n   *\n   * @param
    {Node} node\n   * @return {WrappedRange}\n   */\n  createFromNodeAfter: function
    createFromNodeAfter(node) {\n    return this.createFromNode(node).collapse();\n
    \ },\n\n  /**\n   * @method\n   *\n   * create WrappedRange from bookmark\n   *\n
    \  * @param {Node} editable\n   * @param {Object} bookmark\n   * @return {WrappedRange}\n
    \  */\n  createFromBookmark: function createFromBookmark(editable, bookmark) {\n
    \   var sc = dom.fromOffsetPath(editable, bookmark.s.path);\n    var so = bookmark.s.offset;\n
    \   var ec = dom.fromOffsetPath(editable, bookmark.e.path);\n    var eo = bookmark.e.offset;\n
    \   return new range_WrappedRange(sc, so, ec, eo);\n  },\n\n  /**\n   * @method\n
    \  *\n   * create WrappedRange from paraBookmark\n   *\n   * @param {Object} bookmark\n
    \  * @param {Node[]} paras\n   * @return {WrappedRange}\n   */\n  createFromParaBookmark:
    function createFromParaBookmark(bookmark, paras) {\n    var so = bookmark.s.offset;\n
    \   var eo = bookmark.e.offset;\n    var sc = dom.fromOffsetPath(lists.head(paras),
    bookmark.s.path);\n    var ec = dom.fromOffsetPath(lists.last(paras), bookmark.e.path);\n
    \   return new range_WrappedRange(sc, so, ec, eo);\n  }\n});\n// CONCATENATED
    MODULE: ./src/js/base/core/key.js\n\n\nvar KEY_MAP = {\n  'BACKSPACE': 8,\n  'TAB':
    9,\n  'ENTER': 13,\n  'ESCAPE': 27,\n  'SPACE': 32,\n  'DELETE': 46,\n  // Arrow\n
    \ 'LEFT': 37,\n  'UP': 38,\n  'RIGHT': 39,\n  'DOWN': 40,\n  // Number: 0-9\n
    \ 'NUM0': 48,\n  'NUM1': 49,\n  'NUM2': 50,\n  'NUM3': 51,\n  'NUM4': 52,\n  'NUM5':
    53,\n  'NUM6': 54,\n  'NUM7': 55,\n  'NUM8': 56,\n  // Alphabet: a-z\n  'B': 66,\n
    \ 'E': 69,\n  'I': 73,\n  'J': 74,\n  'K': 75,\n  'L': 76,\n  'R': 82,\n  'S':
    83,\n  'U': 85,\n  'V': 86,\n  'Y': 89,\n  'Z': 90,\n  'SLASH': 191,\n  'LEFTBRACKET':
    219,\n  'BACKSLASH': 220,\n  'RIGHTBRACKET': 221,\n  // Navigation\n  'HOME':
    36,\n  'END': 35,\n  'PAGEUP': 33,\n  'PAGEDOWN': 34\n};\n/**\n * @class core.key\n
    *\n * Object for keycodes.\n *\n * @singleton\n * @alternateClassName key\n */\n\n/*
    harmony default export */ var core_key = ({\n  /**\n   * @method isEdit\n   *\n
    \  * @param {Number} keyCode\n   * @return {Boolean}\n   */\n  isEdit: function
    isEdit(keyCode) {\n    return lists.contains([KEY_MAP.BACKSPACE, KEY_MAP.TAB,
    KEY_MAP.ENTER, KEY_MAP.SPACE, KEY_MAP.DELETE], keyCode);\n  },\n\n  /**\n   *
    @method isMove\n   *\n   * @param {Number} keyCode\n   * @return {Boolean}\n   */\n
    \ isMove: function isMove(keyCode) {\n    return lists.contains([KEY_MAP.LEFT,
    KEY_MAP.UP, KEY_MAP.RIGHT, KEY_MAP.DOWN], keyCode);\n  },\n\n  /**\n   * @method
    isNavigation\n   *\n   * @param {Number} keyCode\n   * @return {Boolean}\n   */\n
    \ isNavigation: function isNavigation(keyCode) {\n    return lists.contains([KEY_MAP.HOME,
    KEY_MAP.END, KEY_MAP.PAGEUP, KEY_MAP.PAGEDOWN], keyCode);\n  },\n\n  /**\n   *
    @property {Object} nameFromCode\n   * @property {String} nameFromCode.8 \"BACKSPACE\"\n
    \  */\n  nameFromCode: func.invertObject(KEY_MAP),\n  code: KEY_MAP\n});\n// CONCATENATED
    MODULE: ./src/js/base/core/async.js\n\n/**\n * @method readFileAsDataURL\n *\n
    * read contents of file as representing URL\n *\n * @param {File} file\n * @return
    {Promise} - then: dataUrl\n */\n\nfunction readFileAsDataURL(file) {\n  return
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function
    (deferred) {\n    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(new
    FileReader(), {\n      onload: function onload(e) {\n        var dataURL = e.target.result;\n
    \       deferred.resolve(dataURL);\n      },\n      onerror: function onerror(err)
    {\n        deferred.reject(err);\n      }\n    }).readAsDataURL(file);\n  }).promise();\n}\n/**\n
    * @method createImage\n *\n * create `<image>` from url string\n *\n * @param
    {String} url\n * @return {Promise} - then: $image\n */\n\nfunction createImage(url)
    {\n  return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function
    (deferred) {\n    var $img = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<img>');\n
    \   $img.one('load', function () {\n      $img.off('error abort');\n      deferred.resolve($img);\n
    \   }).one('error abort', function () {\n      $img.off('load').detach();\n      deferred.reject($img);\n
    \   }).css({\n      display: 'none'\n    }).appendTo(document.body).attr('src',
    url);\n  }).promise();\n}\n// CONCATENATED MODULE: ./src/js/base/editing/History.js\nfunction
    History_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    History_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    History_createClass(Constructor, protoProps, staticProps) { if (protoProps) History_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) History_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\nvar History_History = /*#__PURE__*/function () {\n
    \ function History(context) {\n    History_classCallCheck(this, History);\n\n
    \   this.stack = [];\n    this.stackOffset = -1;\n    this.context = context;\n
    \   this.$editable = context.layoutInfo.editable;\n    this.editable = this.$editable[0];\n
    \ }\n\n  History_createClass(History, [{\n    key: \"makeSnapshot\",\n    value:
    function makeSnapshot() {\n      var rng = range.create(this.editable);\n      var
    emptyBookmark = {\n        s: {\n          path: [],\n          offset: 0\n        },\n
    \       e: {\n          path: [],\n          offset: 0\n        }\n      };\n
    \     return {\n        contents: this.$editable.html(),\n        bookmark: rng
    && rng.isOnEditable() ? rng.bookmark(this.editable) : emptyBookmark\n      };\n
    \   }\n  }, {\n    key: \"applySnapshot\",\n    value: function applySnapshot(snapshot)
    {\n      if (snapshot.contents !== null) {\n        this.$editable.html(snapshot.contents);\n
    \     }\n\n      if (snapshot.bookmark !== null) {\n        range.createFromBookmark(this.editable,
    snapshot.bookmark).select();\n      }\n    }\n    /**\n    * @method rewind\n
    \   * Rewinds the history stack back to the first snapshot taken.\n    * Leaves
    the stack intact, so that \"Redo\" can still be used.\n    */\n\n  }, {\n    key:
    \"rewind\",\n    value: function rewind() {\n      // Create snap shot if not
    yet recorded\n      if (this.$editable.html() !== this.stack[this.stackOffset].contents)
    {\n        this.recordUndo();\n      } // Return to the first available snapshot.\n\n\n
    \     this.stackOffset = 0; // Apply that snapshot.\n\n      this.applySnapshot(this.stack[this.stackOffset]);\n
    \   }\n    /**\n    *  @method commit\n    *  Resets history stack, but keeps
    current editor's content.\n    */\n\n  }, {\n    key: \"commit\",\n    value:
    function commit() {\n      // Clear the stack.\n      this.stack = []; // Restore
    stackOffset to its original value.\n\n      this.stackOffset = -1; // Record our
    first snapshot (of nothing).\n\n      this.recordUndo();\n    }\n    /**\n    *
    @method reset\n    * Resets the history stack completely; reverting to an empty
    editor.\n    */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n
    \     // Clear the stack.\n      this.stack = []; // Restore stackOffset to its
    original value.\n\n      this.stackOffset = -1; // Clear the editable area.\n\n
    \     this.$editable.html(''); // Record our first snapshot (of nothing).\n\n
    \     this.recordUndo();\n    }\n    /**\n     * undo\n     */\n\n  }, {\n    key:
    \"undo\",\n    value: function undo() {\n      // Create snap shot if not yet
    recorded\n      if (this.$editable.html() !== this.stack[this.stackOffset].contents)
    {\n        this.recordUndo();\n      }\n\n      if (this.stackOffset > 0) {\n
    \       this.stackOffset--;\n        this.applySnapshot(this.stack[this.stackOffset]);\n
    \     }\n    }\n    /**\n     * redo\n     */\n\n  }, {\n    key: \"redo\",\n
    \   value: function redo() {\n      if (this.stack.length - 1 > this.stackOffset)
    {\n        this.stackOffset++;\n        this.applySnapshot(this.stack[this.stackOffset]);\n
    \     }\n    }\n    /**\n     * recorded undo\n     */\n\n  }, {\n    key: \"recordUndo\",\n
    \   value: function recordUndo() {\n      this.stackOffset++; // Wash out stack
    after stackOffset\n\n      if (this.stack.length > this.stackOffset) {\n        this.stack
    = this.stack.slice(0, this.stackOffset);\n      } // Create new snapshot and push
    it to the end\n\n\n      this.stack.push(this.makeSnapshot()); // If the stack
    size reachs to the limit, then slice it\n\n      if (this.stack.length > this.context.options.historyLimit)
    {\n        this.stack.shift();\n        this.stackOffset -= 1;\n      }\n    }\n
    \ }]);\n\n  return History;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/editing/Style.js\nfunction
    Style_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Style_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Style_createClass(Constructor, protoProps, staticProps) { if (protoProps) Style_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Style_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n\n\nvar Style_Style = /*#__PURE__*/function ()
    {\n  function Style() {\n    Style_classCallCheck(this, Style);\n  }\n\n  Style_createClass(Style,
    [{\n    key: \"jQueryCSS\",\n\n    /**\n     * @method jQueryCSS\n     *\n     *
    [workaround] for old jQuery\n     * passing an array of style properties to .css()\n
    \    * will result in an object of property-value pairs.\n     * (compability
    with version < 1.9)\n     *\n     * @private\n     * @param  {jQuery} $obj\n     *
    @param  {Array} propertyNames - An array of one or more CSS properties.\n     *
    @return {Object}\n     */\n    value: function jQueryCSS($obj, propertyNames)
    {\n      if (env.jqueryVersion < 1.9) {\n        var result = {};\n        external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(propertyNames,
    function (idx, propertyName) {\n          result[propertyName] = $obj.css(propertyName);\n
    \       });\n        return result;\n      }\n\n      return $obj.css(propertyNames);\n
    \   }\n    /**\n     * returns style object from node\n     *\n     * @param {jQuery}
    $node\n     * @return {Object}\n     */\n\n  }, {\n    key: \"fromNode\",\n    value:
    function fromNode($node) {\n      var properties = ['font-family', 'font-size',
    'text-align', 'list-style-type', 'line-height'];\n      var styleInfo = this.jQueryCSS($node,
    properties) || {};\n      var fontSize = $node[0].style.fontSize || styleInfo['font-size'];\n
    \     styleInfo['font-size'] = parseInt(fontSize, 10);\n      styleInfo['font-size-unit']
    = fontSize.match(/[a-z%]+$/);\n      return styleInfo;\n    }\n    /**\n     *
    paragraph level style\n     *\n     * @param {WrappedRange} rng\n     * @param
    {Object} styleInfo\n     */\n\n  }, {\n    key: \"stylePara\",\n    value: function
    stylePara(rng, styleInfo) {\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(rng.nodes(dom.isPara,
    {\n        includeAncestor: true\n      }), function (idx, para) {\n        external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(para).css(styleInfo);\n
    \     });\n    }\n    /**\n     * insert and returns styleNodes on range.\n     *\n
    \    * @param {WrappedRange} rng\n     * @param {Object} [options] - options for
    styleNodes\n     * @param {String} [options.nodeName] - default: `SPAN`\n     *
    @param {Boolean} [options.expandClosestSibling] - default: `false`\n     * @param
    {Boolean} [options.onlyPartialContains] - default: `false`\n     * @return {Node[]}\n
    \    */\n\n  }, {\n    key: \"styleNodes\",\n    value: function styleNodes(rng,
    options) {\n      rng = rng.splitText();\n      var nodeName = options && options.nodeName
    || 'SPAN';\n      var expandClosestSibling = !!(options && options.expandClosestSibling);\n
    \     var onlyPartialContains = !!(options && options.onlyPartialContains);\n\n
    \     if (rng.isCollapsed()) {\n        return [rng.insertNode(dom.create(nodeName))];\n
    \     }\n\n      var pred = dom.makePredByNodeName(nodeName);\n      var nodes
    = rng.nodes(dom.isText, {\n        fullyContains: true\n      }).map(function
    (text) {\n        return dom.singleChildAncestor(text, pred) || dom.wrap(text,
    nodeName);\n      });\n\n      if (expandClosestSibling) {\n        if (onlyPartialContains)
    {\n          var nodesInRange = rng.nodes(); // compose with partial contains
    predication\n\n          pred = func.and(pred, function (node) {\n            return
    lists.contains(nodesInRange, node);\n          });\n        }\n\n        return
    nodes.map(function (node) {\n          var siblings = dom.withClosestSiblings(node,
    pred);\n          var head = lists.head(siblings);\n          var tails = lists.tail(siblings);\n
    \         external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(tails,
    function (idx, elem) {\n            dom.appendChildNodes(head, elem.childNodes);\n
    \           dom.remove(elem);\n          });\n          return lists.head(siblings);\n
    \       });\n      } else {\n        return nodes;\n      }\n    }\n    /**\n
    \    * get current style on cursor\n     *\n     * @param {WrappedRange} rng\n
    \    * @return {Object} - object contains style properties.\n     */\n\n  }, {\n
    \   key: \"current\",\n    value: function current(rng) {\n      var $cont = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(!dom.isElement(rng.sc)
    ? rng.sc.parentNode : rng.sc);\n      var styleInfo = this.fromNode($cont); //
    document.queryCommandState for toggle state\n      // [workaround] prevent Firefox
    nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"\n\n      try {\n        styleInfo
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(styleInfo,
    {\n          'font-bold': document.queryCommandState('bold') ? 'bold' : 'normal',\n
    \         'font-italic': document.queryCommandState('italic') ? 'italic' : 'normal',\n
    \         'font-underline': document.queryCommandState('underline') ? 'underline'
    : 'normal',\n          'font-subscript': document.queryCommandState('subscript')
    ? 'subscript' : 'normal',\n          'font-superscript': document.queryCommandState('superscript')
    ? 'superscript' : 'normal',\n          'font-strikethrough': document.queryCommandState('strikethrough')
    ? 'strikethrough' : 'normal',\n          'font-family': document.queryCommandValue('fontname')
    || styleInfo['font-family']\n        });\n      } catch (e) {} // eslint-disable-next-line\n
    \     // list-style-type to list-style(unordered, ordered)\n\n\n      if (!rng.isOnList())
    {\n        styleInfo['list-style'] = 'none';\n      } else {\n        var orderedTypes
    = ['circle', 'disc', 'disc-leading-zero', 'square'];\n        var isUnordered
    = orderedTypes.indexOf(styleInfo['list-style-type']) > -1;\n        styleInfo['list-style']
    = isUnordered ? 'unordered' : 'ordered';\n      }\n\n      var para = dom.ancestor(rng.sc,
    dom.isPara);\n\n      if (para && para.style['line-height']) {\n        styleInfo['line-height']
    = para.style.lineHeight;\n      } else {\n        var lineHeight = parseInt(styleInfo['line-height'],
    10) / parseInt(styleInfo['font-size'], 10);\n        styleInfo['line-height']
    = lineHeight.toFixed(1);\n      }\n\n      styleInfo.anchor = rng.isOnAnchor()
    && dom.ancestor(rng.sc, dom.isAnchor);\n      styleInfo.ancestors = dom.listAncestor(rng.sc,
    dom.isEditable);\n      styleInfo.range = rng;\n      return styleInfo;\n    }\n
    \ }]);\n\n  return Style;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/editing/Bullet.js\nfunction
    Bullet_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Bullet_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Bullet_createClass(Constructor, protoProps, staticProps) { if (protoProps) Bullet_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Bullet_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n\n\nvar Bullet_Bullet = /*#__PURE__*/function
    () {\n  function Bullet() {\n    Bullet_classCallCheck(this, Bullet);\n  }\n\n
    \ Bullet_createClass(Bullet, [{\n    key: \"insertOrderedList\",\n\n    /**\n
    \    * toggle ordered list\n     */\n    value: function insertOrderedList(editable)
    {\n      this.toggleList('OL', editable);\n    }\n    /**\n     * toggle unordered
    list\n     */\n\n  }, {\n    key: \"insertUnorderedList\",\n    value: function
    insertUnorderedList(editable) {\n      this.toggleList('UL', editable);\n    }\n
    \   /**\n     * indent\n     */\n\n  }, {\n    key: \"indent\",\n    value: function
    indent(editable) {\n      var _this = this;\n\n      var rng = range.create(editable).wrapBodyInlineWithPara();\n
    \     var paras = rng.nodes(dom.isPara, {\n        includeAncestor: true\n      });\n
    \     var clustereds = lists.clusterBy(paras, func.peq2('parentNode'));\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(clustereds,
    function (idx, paras) {\n        var head = lists.head(paras);\n\n        if (dom.isLi(head))
    {\n          var previousList = _this.findList(head.previousSibling);\n\n          if
    (previousList) {\n            paras.map(function (para) {\n              return
    previousList.appendChild(para);\n            });\n          } else {\n            _this.wrapList(paras,
    head.parentNode.nodeName);\n\n            paras.map(function (para) {\n              return
    para.parentNode;\n            }).map(function (para) {\n              return _this.appendToPrevious(para);\n
    \           });\n          }\n        } else {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(paras,
    function (idx, para) {\n            external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(para).css('marginLeft',
    function (idx, val) {\n              return (parseInt(val, 10) || 0) + 25;\n            });\n
    \         });\n        }\n      });\n      rng.select();\n    }\n    /**\n     *
    outdent\n     */\n\n  }, {\n    key: \"outdent\",\n    value: function outdent(editable)
    {\n      var _this2 = this;\n\n      var rng = range.create(editable).wrapBodyInlineWithPara();\n
    \     var paras = rng.nodes(dom.isPara, {\n        includeAncestor: true\n      });\n
    \     var clustereds = lists.clusterBy(paras, func.peq2('parentNode'));\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(clustereds,
    function (idx, paras) {\n        var head = lists.head(paras);\n\n        if (dom.isLi(head))
    {\n          _this2.releaseList([paras]);\n        } else {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(paras,
    function (idx, para) {\n            external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(para).css('marginLeft',
    function (idx, val) {\n              val = parseInt(val, 10) || 0;\n              return
    val > 25 ? val - 25 : '';\n            });\n          });\n        }\n      });\n
    \     rng.select();\n    }\n    /**\n     * toggle list\n     *\n     * @param
    {String} listName - OL or UL\n     */\n\n  }, {\n    key: \"toggleList\",\n    value:
    function toggleList(listName, editable) {\n      var _this3 = this;\n\n      var
    rng = range.create(editable).wrapBodyInlineWithPara();\n      var paras = rng.nodes(dom.isPara,
    {\n        includeAncestor: true\n      });\n      var bookmark = rng.paraBookmark(paras);\n
    \     var clustereds = lists.clusterBy(paras, func.peq2('parentNode')); // paragraph
    to list\n\n      if (lists.find(paras, dom.isPurePara)) {\n        var wrappedParas
    = [];\n        external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(clustereds,
    function (idx, paras) {\n          wrappedParas = wrappedParas.concat(_this3.wrapList(paras,
    listName));\n        });\n        paras = wrappedParas; // list to paragraph or
    change list style\n      } else {\n        var diffLists = rng.nodes(dom.isList,
    {\n          includeAncestor: true\n        }).filter(function (listNode) {\n
    \         return !external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.nodeName(listNode,
    listName);\n        });\n\n        if (diffLists.length) {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(diffLists,
    function (idx, listNode) {\n            dom.replace(listNode, listName);\n          });\n
    \       } else {\n          paras = this.releaseList(clustereds, true);\n        }\n
    \     }\n\n      range.createFromParaBookmark(bookmark, paras).select();\n    }\n
    \   /**\n     * @param {Node[]} paras\n     * @param {String} listName\n     *
    @return {Node[]}\n     */\n\n  }, {\n    key: \"wrapList\",\n    value: function
    wrapList(paras, listName) {\n      var head = lists.head(paras);\n      var last
    = lists.last(paras);\n      var prevList = dom.isList(head.previousSibling) &&
    head.previousSibling;\n      var nextList = dom.isList(last.nextSibling) && last.nextSibling;\n
    \     var listNode = prevList || dom.insertAfter(dom.create(listName || 'UL'),
    last); // P to LI\n\n      paras = paras.map(function (para) {\n        return
    dom.isPurePara(para) ? dom.replace(para, 'LI') : para;\n      }); // append to
    list(<ul>, <ol>)\n\n      dom.appendChildNodes(listNode, paras);\n\n      if (nextList)
    {\n        dom.appendChildNodes(listNode, lists.from(nextList.childNodes));\n
    \       dom.remove(nextList);\n      }\n\n      return paras;\n    }\n    /**\n
    \    * @method releaseList\n     *\n     * @param {Array[]} clustereds\n     *
    @param {Boolean} isEscapseToBody\n     * @return {Node[]}\n     */\n\n  }, {\n
    \   key: \"releaseList\",\n    value: function releaseList(clustereds, isEscapseToBody)
    {\n      var _this4 = this;\n\n      var releasedParas = [];\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(clustereds,
    function (idx, paras) {\n        var head = lists.head(paras);\n        var last
    = lists.last(paras);\n        var headList = isEscapseToBody ? dom.lastAncestor(head,
    dom.isList) : head.parentNode;\n        var parentItem = headList.parentNode;\n\n
    \       if (headList.parentNode.nodeName === 'LI') {\n          paras.map(function
    (para) {\n            var newList = _this4.findNextSiblings(para);\n\n            if
    (parentItem.nextSibling) {\n              parentItem.parentNode.insertBefore(para,
    parentItem.nextSibling);\n            } else {\n              parentItem.parentNode.appendChild(para);\n
    \           }\n\n            if (newList.length) {\n              _this4.wrapList(newList,
    headList.nodeName);\n\n              para.appendChild(newList[0].parentNode);\n
    \           }\n          });\n\n          if (headList.children.length === 0)
    {\n            parentItem.removeChild(headList);\n          }\n\n          if
    (parentItem.childNodes.length === 0) {\n            parentItem.parentNode.removeChild(parentItem);\n
    \         }\n        } else {\n          var lastList = headList.childNodes.length
    > 1 ? dom.splitTree(headList, {\n            node: last.parentNode,\n            offset:
    dom.position(last) + 1\n          }, {\n            isSkipPaddingBlankHTML: true\n
    \         }) : null;\n          var middleList = dom.splitTree(headList, {\n            node:
    head.parentNode,\n            offset: dom.position(head)\n          }, {\n            isSkipPaddingBlankHTML:
    true\n          });\n          paras = isEscapseToBody ? dom.listDescendant(middleList,
    dom.isLi) : lists.from(middleList.childNodes).filter(dom.isLi); // LI to P\n\n
    \         if (isEscapseToBody || !dom.isList(headList.parentNode)) {\n            paras
    = paras.map(function (para) {\n              return dom.replace(para, 'P');\n
    \           });\n          }\n\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(lists.from(paras).reverse(),
    function (idx, para) {\n            dom.insertAfter(para, headList);\n          });
    // remove empty lists\n\n          var rootLists = lists.compact([headList, middleList,
    lastList]);\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(rootLists,
    function (idx, rootList) {\n            var listNodes = [rootList].concat(dom.listDescendant(rootList,
    dom.isList));\n            external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(listNodes.reverse(),
    function (idx, listNode) {\n              if (!dom.nodeLength(listNode)) {\n                dom.remove(listNode,
    true);\n              }\n            });\n          });\n        }\n\n        releasedParas
    = releasedParas.concat(paras);\n      });\n      return releasedParas;\n    }\n
    \   /**\n     * @method appendToPrevious\n     *\n     * Appends list to previous
    list item, if\n     * none exist it wraps the list in a new list item.\n     *\n
    \    * @param {HTMLNode} ListItem\n     * @return {HTMLNode}\n     */\n\n  },
    {\n    key: \"appendToPrevious\",\n    value: function appendToPrevious(node)
    {\n      return node.previousSibling ? dom.appendChildNodes(node.previousSibling,
    [node]) : this.wrapList([node], 'LI');\n    }\n    /**\n     * @method findList\n
    \    *\n     * Finds an existing list in list item\n     *\n     * @param {HTMLNode}
    ListItem\n     * @return {Array[]}\n     */\n\n  }, {\n    key: \"findList\",\n
    \   value: function findList(node) {\n      return node ? lists.find(node.children,
    function (child) {\n        return ['OL', 'UL'].indexOf(child.nodeName) > -1;\n
    \     }) : null;\n    }\n    /**\n     * @method findNextSiblings\n     *\n     *
    Finds all list item siblings that follow it\n     *\n     * @param {HTMLNode}
    ListItem\n     * @return {HTMLNode}\n     */\n\n  }, {\n    key: \"findNextSiblings\",\n
    \   value: function findNextSiblings(node) {\n      var siblings = [];\n\n      while
    (node.nextSibling) {\n        siblings.push(node.nextSibling);\n        node =
    node.nextSibling;\n      }\n\n      return siblings;\n    }\n  }]);\n\n  return
    Bullet;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/editing/Typing.js\nfunction
    Typing_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Typing_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Typing_createClass(Constructor, protoProps, staticProps) { if (protoProps) Typing_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Typing_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n/**\n * @class editing.Typing\n *\n * Typing\n
    *\n */\n\nvar Typing_Typing = /*#__PURE__*/function () {\n  function Typing(context)
    {\n    Typing_classCallCheck(this, Typing);\n\n    // a Bullet instance to toggle
    lists off\n    this.bullet = new Bullet_Bullet();\n    this.options = context.options;\n
    \ }\n  /**\n   * insert tab\n   *\n   * @param {WrappedRange} rng\n   * @param
    {Number} tabsize\n   */\n\n\n  Typing_createClass(Typing, [{\n    key: \"insertTab\",\n
    \   value: function insertTab(rng, tabsize) {\n      var tab = dom.createText(new
    Array(tabsize + 1).join(dom.NBSP_CHAR));\n      rng = rng.deleteContents();\n
    \     rng.insertNode(tab, true);\n      rng = range.create(tab, tabsize);\n      rng.select();\n
    \   }\n    /**\n     * insert paragraph\n     *\n     * @param {jQuery} $editable\n
    \    * @param {WrappedRange} rng Can be used in unit tests to \"mock\" the range\n
    \    *\n     * blockquoteBreakingLevel\n     *   0 - No break, the new paragraph
    remains inside the quote\n     *   1 - Break the first blockquote in the ancestors
    list\n     *   2 - Break all blockquotes, so that the new paragraph is not quoted
    (this is the default)\n     */\n\n  }, {\n    key: \"insertParagraph\",\n    value:
    function insertParagraph(editable, rng) {\n      rng = rng || range.create(editable);
    // deleteContents on range.\n\n      rng = rng.deleteContents(); // Wrap range
    if it needs to be wrapped by paragraph\n\n      rng = rng.wrapBodyInlineWithPara();
    // finding paragraph\n\n      var splitRoot = dom.ancestor(rng.sc, dom.isPara);\n
    \     var nextPara; // on paragraph: split paragraph\n\n      if (splitRoot) {\n
    \       // if it is an empty line with li\n        if (dom.isLi(splitRoot) &&
    (dom.isEmpty(splitRoot) || dom.deepestChildIsEmpty(splitRoot))) {\n          //
    toggle UL/OL and escape\n          this.bullet.toggleList(splitRoot.parentNode.nodeName);\n
    \         return;\n        } else {\n          var blockquote = null;\n\n          if
    (this.options.blockquoteBreakingLevel === 1) {\n            blockquote = dom.ancestor(splitRoot,
    dom.isBlockquote);\n          } else if (this.options.blockquoteBreakingLevel
    === 2) {\n            blockquote = dom.lastAncestor(splitRoot, dom.isBlockquote);\n
    \         }\n\n          if (blockquote) {\n            // We're inside a blockquote
    and options ask us to break it\n            nextPara = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(dom.emptyPara)[0];
    // If the split is right before a <br>, remove it so that there's no \"empty line\"\n
    \           // after the split in the new blockquote created\n\n            if
    (dom.isRightEdgePoint(rng.getStartPoint()) && dom.isBR(rng.sc.nextSibling)) {\n
    \             external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(rng.sc.nextSibling).remove();\n
    \           }\n\n            var split = dom.splitTree(blockquote, rng.getStartPoint(),
    {\n              isDiscardEmptySplits: true\n            });\n\n            if
    (split) {\n              split.parentNode.insertBefore(nextPara, split);\n            }
    else {\n              dom.insertAfter(nextPara, blockquote); // There's no split
    if we were at the end of the blockquote\n            }\n          } else {\n            nextPara
    = dom.splitTree(splitRoot, rng.getStartPoint()); // not a blockquote, just insert
    the paragraph\n\n            var emptyAnchors = dom.listDescendant(splitRoot,
    dom.isEmptyAnchor);\n            emptyAnchors = emptyAnchors.concat(dom.listDescendant(nextPara,
    dom.isEmptyAnchor));\n            external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(emptyAnchors,
    function (idx, anchor) {\n              dom.remove(anchor);\n            }); //
    replace empty heading, pre or custom-made styleTag with P tag\n\n            if
    ((dom.isHeading(nextPara) || dom.isPre(nextPara) || dom.isCustomStyleTag(nextPara))
    && dom.isEmpty(nextPara)) {\n              nextPara = dom.replace(nextPara, 'p');\n
    \           }\n          }\n        } // no paragraph: insert empty paragraph\n\n
    \     } else {\n        var next = rng.sc.childNodes[rng.so];\n        nextPara
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(dom.emptyPara)[0];\n\n
    \       if (next) {\n          rng.sc.insertBefore(nextPara, next);\n        }
    else {\n          rng.sc.appendChild(nextPara);\n        }\n      }\n\n      range.create(nextPara,
    0).normalize().select().scrollIntoView(editable);\n    }\n  }]);\n\n  return Typing;\n}();\n\n\n//
    CONCATENATED MODULE: ./src/js/base/editing/Table.js\nfunction Table_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction Table_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction Table_createClass(Constructor, protoProps, staticProps)
    { if (protoProps) Table_defineProperties(Constructor.prototype, protoProps); if
    (staticProps) Table_defineProperties(Constructor, staticProps); return Constructor;
    }\n\n\n\n\n\n/**\n * @class Create a virtual table to create what actions to do
    in change.\n * @param {object} startPoint Cell selected to apply change.\n * @param
    {enum} where  Where change will be applied Row or Col. Use enum: TableResultAction.where\n
    * @param {enum} action Action to be applied. Use enum: TableResultAction.requestAction\n
    * @param {object} domTable Dom element of table to make changes.\n */\n\nvar TableResultAction
    = function TableResultAction(startPoint, where, action, domTable) {\n  var _startPoint
    = {\n    'colPos': 0,\n    'rowPos': 0\n  };\n  var _virtualTable = [];\n  var
    _actionCellList = []; /// ///////////////////////////////////////////\n  // Private
    functions\n  /// ///////////////////////////////////////////\n\n  /**\n   * Set
    the startPoint of action.\n   */\n\n  function setStartPoint() {\n    if (!startPoint
    || !startPoint.tagName || startPoint.tagName.toLowerCase() !== 'td' && startPoint.tagName.toLowerCase()
    !== 'th') {\n      // Impossible to identify start Cell point\n      return;\n
    \   }\n\n    _startPoint.colPos = startPoint.cellIndex;\n\n    if (!startPoint.parentElement
    || !startPoint.parentElement.tagName || startPoint.parentElement.tagName.toLowerCase()
    !== 'tr') {\n      // Impossible to identify start Row point\n      return;\n
    \   }\n\n    _startPoint.rowPos = startPoint.parentElement.rowIndex;\n  }\n  /**\n
    \  * Define virtual table position info object.\n   *\n   * @param {int} rowIndex
    Index position in line of virtual table.\n   * @param {int} cellIndex Index position
    in column of virtual table.\n   * @param {object} baseRow Row affected by this
    position.\n   * @param {object} baseCell Cell affected by this position.\n   *
    @param {bool} isSpan Inform if it is an span cell/row.\n   */\n\n\n  function
    setVirtualTablePosition(rowIndex, cellIndex, baseRow, baseCell, isRowSpan, isColSpan,
    isVirtualCell) {\n    var objPosition = {\n      'baseRow': baseRow,\n      'baseCell':
    baseCell,\n      'isRowSpan': isRowSpan,\n      'isColSpan': isColSpan,\n      'isVirtual':
    isVirtualCell\n    };\n\n    if (!_virtualTable[rowIndex]) {\n      _virtualTable[rowIndex]
    = [];\n    }\n\n    _virtualTable[rowIndex][cellIndex] = objPosition;\n  }\n  /**\n
    \  * Create action cell object.\n   *\n   * @param {object} virtualTableCellObj
    Object of specific position on virtual table.\n   * @param {enum} resultAction
    Action to be applied in that item.\n   */\n\n\n  function getActionCell(virtualTableCellObj,
    resultAction, virtualRowPosition, virtualColPosition) {\n    return {\n      'baseCell':
    virtualTableCellObj.baseCell,\n      'action': resultAction,\n      'virtualTable':
    {\n        'rowIndex': virtualRowPosition,\n        'cellIndex': virtualColPosition\n
    \     }\n    };\n  }\n  /**\n   * Recover free index of row to append Cell.\n
    \  *\n   * @param {int} rowIndex Index of row to find free space.\n   * @param
    {int} cellIndex Index of cell to find free space in table.\n   */\n\n\n  function
    recoverCellIndex(rowIndex, cellIndex) {\n    if (!_virtualTable[rowIndex]) {\n
    \     return cellIndex;\n    }\n\n    if (!_virtualTable[rowIndex][cellIndex])
    {\n      return cellIndex;\n    }\n\n    var newCellIndex = cellIndex;\n\n    while
    (_virtualTable[rowIndex][newCellIndex]) {\n      newCellIndex++;\n\n      if (!_virtualTable[rowIndex][newCellIndex])
    {\n        return newCellIndex;\n      }\n    }\n  }\n  /**\n   * Recover info
    about row and cell and add information to virtual table.\n   *\n   * @param {object}
    row Row to recover information.\n   * @param {object} cell Cell to recover information.\n
    \  */\n\n\n  function addCellInfoToVirtual(row, cell) {\n    var cellIndex = recoverCellIndex(row.rowIndex,
    cell.cellIndex);\n    var cellHasColspan = cell.colSpan > 1;\n    var cellHasRowspan
    = cell.rowSpan > 1;\n    var isThisSelectedCell = row.rowIndex === _startPoint.rowPos
    && cell.cellIndex === _startPoint.colPos;\n    setVirtualTablePosition(row.rowIndex,
    cellIndex, row, cell, cellHasRowspan, cellHasColspan, false); // Add span rows
    to virtual Table.\n\n    var rowspanNumber = cell.attributes.rowSpan ? parseInt(cell.attributes.rowSpan.value,
    10) : 0;\n\n    if (rowspanNumber > 1) {\n      for (var rp = 1; rp < rowspanNumber;
    rp++) {\n        var rowspanIndex = row.rowIndex + rp;\n        adjustStartPoint(rowspanIndex,
    cellIndex, cell, isThisSelectedCell);\n        setVirtualTablePosition(rowspanIndex,
    cellIndex, row, cell, true, cellHasColspan, true);\n      }\n    } // Add span
    cols to virtual table.\n\n\n    var colspanNumber = cell.attributes.colSpan ?
    parseInt(cell.attributes.colSpan.value, 10) : 0;\n\n    if (colspanNumber > 1)
    {\n      for (var cp = 1; cp < colspanNumber; cp++) {\n        var cellspanIndex
    = recoverCellIndex(row.rowIndex, cellIndex + cp);\n        adjustStartPoint(row.rowIndex,
    cellspanIndex, cell, isThisSelectedCell);\n        setVirtualTablePosition(row.rowIndex,
    cellspanIndex, row, cell, cellHasRowspan, true, true);\n      }\n    }\n  }\n
    \ /**\n   * Process validation and adjust of start point if needed\n   *\n   *
    @param {int} rowIndex\n   * @param {int} cellIndex\n   * @param {object} cell\n
    \  * @param {bool} isSelectedCell\n   */\n\n\n  function adjustStartPoint(rowIndex,
    cellIndex, cell, isSelectedCell) {\n    if (rowIndex === _startPoint.rowPos &&
    _startPoint.colPos >= cell.cellIndex && cell.cellIndex <= cellIndex && !isSelectedCell)
    {\n      _startPoint.colPos++;\n    }\n  }\n  /**\n   * Create virtual table of
    cells with all cells, including span cells.\n   */\n\n\n  function createVirtualTable()
    {\n    var rows = domTable.rows;\n\n    for (var rowIndex = 0; rowIndex < rows.length;
    rowIndex++) {\n      var cells = rows[rowIndex].cells;\n\n      for (var cellIndex
    = 0; cellIndex < cells.length; cellIndex++) {\n        addCellInfoToVirtual(rows[rowIndex],
    cells[cellIndex]);\n      }\n    }\n  }\n  /**\n   * Get action to be applied
    on the cell.\n   *\n   * @param {object} cell virtual table cell to apply action\n
    \  */\n\n\n  function getDeleteResultActionToCell(cell) {\n    switch (where)
    {\n      case TableResultAction.where.Column:\n        if (cell.isColSpan) {\n
    \         return TableResultAction.resultAction.SubtractSpanCount;\n        }\n\n
    \       break;\n\n      case TableResultAction.where.Row:\n        if (!cell.isVirtual
    && cell.isRowSpan) {\n          return TableResultAction.resultAction.AddCell;\n
    \       } else if (cell.isRowSpan) {\n          return TableResultAction.resultAction.SubtractSpanCount;\n
    \       }\n\n        break;\n    }\n\n    return TableResultAction.resultAction.RemoveCell;\n
    \ }\n  /**\n   * Get action to be applied on the cell.\n   *\n   * @param {object}
    cell virtual table cell to apply action\n   */\n\n\n  function getAddResultActionToCell(cell)
    {\n    switch (where) {\n      case TableResultAction.where.Column:\n        if
    (cell.isColSpan) {\n          return TableResultAction.resultAction.SumSpanCount;\n
    \       } else if (cell.isRowSpan && cell.isVirtual) {\n          return TableResultAction.resultAction.Ignore;\n
    \       }\n\n        break;\n\n      case TableResultAction.where.Row:\n        if
    (cell.isRowSpan) {\n          return TableResultAction.resultAction.SumSpanCount;\n
    \       } else if (cell.isColSpan && cell.isVirtual) {\n          return TableResultAction.resultAction.Ignore;\n
    \       }\n\n        break;\n    }\n\n    return TableResultAction.resultAction.AddCell;\n
    \ }\n\n  function init() {\n    setStartPoint();\n    createVirtualTable();\n
    \ } /// ///////////////////////////////////////////\n  // Public functions\n  ///
    ///////////////////////////////////////////\n\n  /**\n   * Recover array os what
    to do in table.\n   */\n\n\n  this.getActionList = function () {\n    var fixedRow
    = where === TableResultAction.where.Row ? _startPoint.rowPos : -1;\n    var fixedCol
    = where === TableResultAction.where.Column ? _startPoint.colPos : -1;\n    var
    actualPosition = 0;\n    var canContinue = true;\n\n    while (canContinue) {\n
    \     var rowPosition = fixedRow >= 0 ? fixedRow : actualPosition;\n      var
    colPosition = fixedCol >= 0 ? fixedCol : actualPosition;\n      var row = _virtualTable[rowPosition];\n\n
    \     if (!row) {\n        canContinue = false;\n        return _actionCellList;\n
    \     }\n\n      var cell = row[colPosition];\n\n      if (!cell) {\n        canContinue
    = false;\n        return _actionCellList;\n      } // Define action to be applied
    in this cell\n\n\n      var resultAction = TableResultAction.resultAction.Ignore;\n\n
    \     switch (action) {\n        case TableResultAction.requestAction.Add:\n          resultAction
    = getAddResultActionToCell(cell);\n          break;\n\n        case TableResultAction.requestAction.Delete:\n
    \         resultAction = getDeleteResultActionToCell(cell);\n          break;\n
    \     }\n\n      _actionCellList.push(getActionCell(cell, resultAction, rowPosition,
    colPosition));\n\n      actualPosition++;\n    }\n\n    return _actionCellList;\n
    \ };\n\n  init();\n};\n/**\n*\n* Where action occours enum.\n*/\n\n\nTableResultAction.where
    = {\n  'Row': 0,\n  'Column': 1\n};\n/**\n*\n* Requested action to apply enum.\n*/\n\nTableResultAction.requestAction
    = {\n  'Add': 0,\n  'Delete': 1\n};\n/**\n*\n* Result action to be executed enum.\n*/\n\nTableResultAction.resultAction
    = {\n  'Ignore': 0,\n  'SubtractSpanCount': 1,\n  'RemoveCell': 2,\n  'AddCell':
    3,\n  'SumSpanCount': 4\n};\n/**\n *\n * @class editing.Table\n *\n * Table\n
    *\n */\n\nvar Table_Table = /*#__PURE__*/function () {\n  function Table() {\n
    \   Table_classCallCheck(this, Table);\n  }\n\n  Table_createClass(Table, [{\n
    \   key: \"tab\",\n\n    /**\n     * handle tab key\n     *\n     * @param {WrappedRange}
    rng\n     * @param {Boolean} isShift\n     */\n    value: function tab(rng, isShift)
    {\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var
    table = dom.ancestor(cell, dom.isTable);\n      var cells = dom.listDescendant(table,
    dom.isCell);\n      var nextCell = lists[isShift ? 'prev' : 'next'](cells, cell);\n\n
    \     if (nextCell) {\n        range.create(nextCell, 0).select();\n      }\n
    \   }\n    /**\n     * Add a new row\n     *\n     * @param {WrappedRange} rng\n
    \    * @param {String} position (top/bottom)\n     * @return {Node}\n     */\n\n
    \ }, {\n    key: \"addRow\",\n    value: function addRow(rng, position) {\n      var
    cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var currentTr =
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('tr');\n
    \     var trAttributes = this.recoverAttributes(currentTr);\n      var html =
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<tr'
    + trAttributes + '></tr>');\n      var vTable = new TableResultAction(cell, TableResultAction.where.Row,
    TableResultAction.requestAction.Add, external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentTr).closest('table')[0]);\n
    \     var actions = vTable.getActionList();\n\n      for (var idCell = 0; idCell
    < actions.length; idCell++) {\n        var currentCell = actions[idCell];\n        var
    tdAttributes = this.recoverAttributes(currentCell.baseCell);\n\n        switch
    (currentCell.action) {\n          case TableResultAction.resultAction.AddCell:\n
    \           html.append('<td' + tdAttributes + '>' + dom.blank + '</td>');\n            break;\n\n
    \         case TableResultAction.resultAction.SumSpanCount:\n            {\n              if
    (position === 'top') {\n                var baseCellTr = currentCell.baseCell.parent;\n
    \               var isTopFromRowSpan = (!baseCellTr ? 0 : currentCell.baseCell.closest('tr').rowIndex)
    <= currentTr[0].rowIndex;\n\n                if (isTopFromRowSpan) {\n                  var
    newTd = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div></div>').append(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<td'
    + tdAttributes + '>' + dom.blank + '</td>').removeAttr('rowspan')).html();\n                  html.append(newTd);\n
    \                 break;\n                }\n              }\n\n              var
    rowspanNumber = parseInt(currentCell.baseCell.rowSpan, 10);\n              rowspanNumber++;\n
    \             currentCell.baseCell.setAttribute('rowSpan', rowspanNumber);\n            }\n
    \           break;\n        }\n      }\n\n      if (position === 'top') {\n        currentTr.before(html);\n
    \     } else {\n        var cellHasRowspan = cell.rowSpan > 1;\n\n        if (cellHasRowspan)
    {\n          var lastTrIndex = currentTr[0].rowIndex + (cell.rowSpan - 2);\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentTr).parent().find('tr')[lastTrIndex]).after(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(html));\n
    \         return;\n        }\n\n        currentTr.after(html);\n      }\n    }\n
    \   /**\n     * Add a new col\n     *\n     * @param {WrappedRange} rng\n     *
    @param {String} position (left/right)\n     * @return {Node}\n     */\n\n  },
    {\n    key: \"addCol\",\n    value: function addCol(rng, position) {\n      var
    cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var row = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('tr');\n
    \     var rowsGroup = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(row).siblings();\n
    \     rowsGroup.push(row);\n      var vTable = new TableResultAction(cell, TableResultAction.where.Column,
    TableResultAction.requestAction.Add, external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(row).closest('table')[0]);\n
    \     var actions = vTable.getActionList();\n\n      for (var actionIndex = 0;
    actionIndex < actions.length; actionIndex++) {\n        var currentCell = actions[actionIndex];\n
    \       var tdAttributes = this.recoverAttributes(currentCell.baseCell);\n\n        switch
    (currentCell.action) {\n          case TableResultAction.resultAction.AddCell:\n
    \           if (position === 'right') {\n              external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentCell.baseCell).after('<td'
    + tdAttributes + '>' + dom.blank + '</td>');\n            } else {\n              external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentCell.baseCell).before('<td'
    + tdAttributes + '>' + dom.blank + '</td>');\n            }\n\n            break;\n\n
    \         case TableResultAction.resultAction.SumSpanCount:\n            if (position
    === 'right') {\n              var colspanNumber = parseInt(currentCell.baseCell.colSpan,
    10);\n              colspanNumber++;\n              currentCell.baseCell.setAttribute('colSpan',
    colspanNumber);\n            } else {\n              external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentCell.baseCell).before('<td'
    + tdAttributes + '>' + dom.blank + '</td>');\n            }\n\n            break;\n
    \       }\n      }\n    }\n    /*\n    * Copy attributes from element.\n    *\n
    \   * @param {object} Element to recover attributes.\n    * @return {string} Copied
    string elements.\n    */\n\n  }, {\n    key: \"recoverAttributes\",\n    value:
    function recoverAttributes(el) {\n      var resultStr = '';\n\n      if (!el)
    {\n        return resultStr;\n      }\n\n      var attrList = el.attributes ||
    [];\n\n      for (var i = 0; i < attrList.length; i++) {\n        if (attrList[i].name.toLowerCase()
    === 'id') {\n          continue;\n        }\n\n        if (attrList[i].specified)
    {\n          resultStr += ' ' + attrList[i].name + '=\\'' + attrList[i].value
    + '\\'';\n        }\n      }\n\n      return resultStr;\n    }\n    /**\n     *
    Delete current row\n     *\n     * @param {WrappedRange} rng\n     * @return {Node}\n
    \    */\n\n  }, {\n    key: \"deleteRow\",\n    value: function deleteRow(rng)
    {\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var
    row = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('tr');\n
    \     var cellPos = row.children('td, th').index(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell));\n
    \     var rowPos = row[0].rowIndex;\n      var vTable = new TableResultAction(cell,
    TableResultAction.where.Row, TableResultAction.requestAction.Delete, external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(row).closest('table')[0]);\n
    \     var actions = vTable.getActionList();\n\n      for (var actionIndex = 0;
    actionIndex < actions.length; actionIndex++) {\n        if (!actions[actionIndex])
    {\n          continue;\n        }\n\n        var baseCell = actions[actionIndex].baseCell;\n
    \       var virtualPosition = actions[actionIndex].virtualTable;\n        var
    hasRowspan = baseCell.rowSpan && baseCell.rowSpan > 1;\n        var rowspanNumber
    = hasRowspan ? parseInt(baseCell.rowSpan, 10) : 0;\n\n        switch (actions[actionIndex].action)
    {\n          case TableResultAction.resultAction.Ignore:\n            continue;\n\n
    \         case TableResultAction.resultAction.AddCell:\n            {\n              var
    nextRow = row.next('tr')[0];\n\n              if (!nextRow) {\n                continue;\n
    \             }\n\n              var cloneRow = row[0].cells[cellPos];\n\n              if
    (hasRowspan) {\n                if (rowspanNumber > 2) {\n                  rowspanNumber--;\n
    \                 nextRow.insertBefore(cloneRow, nextRow.cells[cellPos]);\n                  nextRow.cells[cellPos].setAttribute('rowSpan',
    rowspanNumber);\n                  nextRow.cells[cellPos].innerHTML = '';\n                }
    else if (rowspanNumber === 2) {\n                  nextRow.insertBefore(cloneRow,
    nextRow.cells[cellPos]);\n                  nextRow.cells[cellPos].removeAttribute('rowSpan');\n
    \                 nextRow.cells[cellPos].innerHTML = '';\n                }\n
    \             }\n            }\n            continue;\n\n          case TableResultAction.resultAction.SubtractSpanCount:\n
    \           if (hasRowspan) {\n              if (rowspanNumber > 2) {\n                rowspanNumber--;\n
    \               baseCell.setAttribute('rowSpan', rowspanNumber);\n\n                if
    (virtualPosition.rowIndex !== rowPos && baseCell.cellIndex === cellPos) {\n                  baseCell.innerHTML
    = '';\n                }\n              } else if (rowspanNumber === 2) {\n                baseCell.removeAttribute('rowSpan');\n\n
    \               if (virtualPosition.rowIndex !== rowPos && baseCell.cellIndex
    === cellPos) {\n                  baseCell.innerHTML = '';\n                }\n
    \             }\n            }\n\n            continue;\n\n          case TableResultAction.resultAction.RemoveCell:\n
    \           // Do not need remove cell because row will be deleted.\n            continue;\n
    \       }\n      }\n\n      row.remove();\n    }\n    /**\n     * Delete current
    col\n     *\n     * @param {WrappedRange} rng\n     * @return {Node}\n     */\n\n
    \ }, {\n    key: \"deleteCol\",\n    value: function deleteCol(rng) {\n      var
    cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var row = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('tr');\n
    \     var cellPos = row.children('td, th').index(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell));\n
    \     var vTable = new TableResultAction(cell, TableResultAction.where.Column,
    TableResultAction.requestAction.Delete, external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(row).closest('table')[0]);\n
    \     var actions = vTable.getActionList();\n\n      for (var actionIndex = 0;
    actionIndex < actions.length; actionIndex++) {\n        if (!actions[actionIndex])
    {\n          continue;\n        }\n\n        switch (actions[actionIndex].action)
    {\n          case TableResultAction.resultAction.Ignore:\n            continue;\n\n
    \         case TableResultAction.resultAction.SubtractSpanCount:\n            {\n
    \             var baseCell = actions[actionIndex].baseCell;\n              var
    hasColspan = baseCell.colSpan && baseCell.colSpan > 1;\n\n              if (hasColspan)
    {\n                var colspanNumber = baseCell.colSpan ? parseInt(baseCell.colSpan,
    10) : 0;\n\n                if (colspanNumber > 2) {\n                  colspanNumber--;\n
    \                 baseCell.setAttribute('colSpan', colspanNumber);\n\n                  if
    (baseCell.cellIndex === cellPos) {\n                    baseCell.innerHTML = '';\n
    \                 }\n                } else if (colspanNumber === 2) {\n                  baseCell.removeAttribute('colSpan');\n\n
    \                 if (baseCell.cellIndex === cellPos) {\n                    baseCell.innerHTML
    = '';\n                  }\n                }\n              }\n            }\n
    \           continue;\n\n          case TableResultAction.resultAction.RemoveCell:\n
    \           dom.remove(actions[actionIndex].baseCell, true);\n            continue;\n
    \       }\n      }\n    }\n    /**\n     * create empty table element\n     *\n
    \    * @param {Number} rowCount\n     * @param {Number} colCount\n     * @return
    {Node}\n     */\n\n  }, {\n    key: \"createTable\",\n    value: function createTable(colCount,
    rowCount, options) {\n      var tds = [];\n      var tdHTML;\n\n      for (var
    idxCol = 0; idxCol < colCount; idxCol++) {\n        tds.push('<td>' + dom.blank
    + '</td>');\n      }\n\n      tdHTML = tds.join('');\n      var trs = [];\n      var
    trHTML;\n\n      for (var idxRow = 0; idxRow < rowCount; idxRow++) {\n        trs.push('<tr>'
    + tdHTML + '</tr>');\n      }\n\n      trHTML = trs.join('');\n      var $table
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<table>'
    + trHTML + '</table>');\n\n      if (options && options.tableClassName) {\n        $table.addClass(options.tableClassName);\n
    \     }\n\n      return $table[0];\n    }\n    /**\n     * Delete current table\n
    \    *\n     * @param {WrappedRange} rng\n     * @return {Node}\n     */\n\n  },
    {\n    key: \"deleteTable\",\n    value: function deleteTable(rng) {\n      var
    cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('table').remove();\n
    \   }\n  }]);\n\n  return Table;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Editor.js\nfunction
    Editor_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Editor_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Editor_createClass(Constructor, protoProps, staticProps) { if (protoProps) Editor_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Editor_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar KEY_BOGUS = 'bogus';\n/**\n
    * @class Editor\n */\n\nvar Editor_Editor = /*#__PURE__*/function () {\n  function
    Editor(context) {\n    var _this = this;\n\n    Editor_classCallCheck(this, Editor);\n\n
    \   this.context = context;\n    this.$note = context.layoutInfo.note;\n    this.$editor
    = context.layoutInfo.editor;\n    this.$editable = context.layoutInfo.editable;\n
    \   this.options = context.options;\n    this.lang = this.options.langInfo;\n
    \   this.editable = this.$editable[0];\n    this.lastRange = null;\n    this.snapshot
    = null;\n    this.style = new Style_Style();\n    this.table = new Table_Table();\n
    \   this.typing = new Typing_Typing(context);\n    this.bullet = new Bullet_Bullet();\n
    \   this.history = new History_History(context);\n    this.context.memo('help.escape',
    this.lang.help.escape);\n    this.context.memo('help.undo', this.lang.help.undo);\n
    \   this.context.memo('help.redo', this.lang.help.redo);\n    this.context.memo('help.tab',
    this.lang.help.tab);\n    this.context.memo('help.untab', this.lang.help.untab);\n
    \   this.context.memo('help.insertParagraph', this.lang.help.insertParagraph);\n
    \   this.context.memo('help.insertOrderedList', this.lang.help.insertOrderedList);\n
    \   this.context.memo('help.insertUnorderedList', this.lang.help.insertUnorderedList);\n
    \   this.context.memo('help.indent', this.lang.help.indent);\n    this.context.memo('help.outdent',
    this.lang.help.outdent);\n    this.context.memo('help.formatPara', this.lang.help.formatPara);\n
    \   this.context.memo('help.insertHorizontalRule', this.lang.help.insertHorizontalRule);\n
    \   this.context.memo('help.fontName', this.lang.help.fontName); // native commands(with
    execCommand), generate function for execCommand\n\n    var commands = ['bold',
    'italic', 'underline', 'strikethrough', 'superscript', 'subscript', 'justifyLeft',
    'justifyCenter', 'justifyRight', 'justifyFull', 'formatBlock', 'removeFormat',
    'backColor'];\n\n    for (var idx = 0, len = commands.length; idx < len; idx++)
    {\n      this[commands[idx]] = function (sCmd) {\n        return function (value)
    {\n          _this.beforeCommand();\n\n          document.execCommand(sCmd, false,
    value);\n\n          _this.afterCommand(true);\n        };\n      }(commands[idx]);\n\n
    \     this.context.memo('help.' + commands[idx], this.lang.help[commands[idx]]);\n
    \   }\n\n    this.fontName = this.wrapCommand(function (value) {\n      return
    _this.fontStyling('font-family', env.validFontName(value));\n    });\n    this.fontSize
    = this.wrapCommand(function (value) {\n      var unit = _this.currentStyle()['font-size-unit'];\n\n
    \     return _this.fontStyling('font-size', value + unit);\n    });\n    this.fontSizeUnit
    = this.wrapCommand(function (value) {\n      var size = _this.currentStyle()['font-size'];\n\n
    \     return _this.fontStyling('font-size', size + value);\n    });\n\n    for
    (var _idx = 1; _idx <= 6; _idx++) {\n      this['formatH' + _idx] = function (idx)
    {\n        return function () {\n          _this.formatBlock('H' + idx);\n        };\n
    \     }(_idx);\n\n      this.context.memo('help.formatH' + _idx, this.lang.help['formatH'
    + _idx]);\n    }\n\n    this.insertParagraph = this.wrapCommand(function () {\n
    \     _this.typing.insertParagraph(_this.editable);\n    });\n    this.insertOrderedList
    = this.wrapCommand(function () {\n      _this.bullet.insertOrderedList(_this.editable);\n
    \   });\n    this.insertUnorderedList = this.wrapCommand(function () {\n      _this.bullet.insertUnorderedList(_this.editable);\n
    \   });\n    this.indent = this.wrapCommand(function () {\n      _this.bullet.indent(_this.editable);\n
    \   });\n    this.outdent = this.wrapCommand(function () {\n      _this.bullet.outdent(_this.editable);\n
    \   });\n    /**\n     * insertNode\n     * insert node\n     * @param {Node}
    node\n     */\n\n    this.insertNode = this.wrapCommand(function (node) {\n      if
    (_this.isLimited(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).text().length))
    {\n        return;\n      }\n\n      var rng = _this.getLastRange();\n\n      rng.insertNode(node);\n\n
    \     _this.setLastRange(range.createFromNodeAfter(node).select());\n    });\n
    \   /**\n     * insert text\n     * @param {String} text\n     */\n\n    this.insertText
    = this.wrapCommand(function (text) {\n      if (_this.isLimited(text.length))
    {\n        return;\n      }\n\n      var rng = _this.getLastRange();\n\n      var
    textNode = rng.insertNode(dom.createText(text));\n\n      _this.setLastRange(range.create(textNode,
    dom.nodeLength(textNode)).select());\n    });\n    /**\n     * paste HTML\n     *
    @param {String} markup\n     */\n\n    this.pasteHTML = this.wrapCommand(function
    (markup) {\n      if (_this.isLimited(markup.length)) {\n        return;\n      }\n\n
    \     markup = _this.context.invoke('codeview.purify', markup);\n\n      var contents
    = _this.getLastRange().pasteHTML(markup);\n\n      _this.setLastRange(range.createFromNodeAfter(lists.last(contents)).select());\n
    \   });\n    /**\n     * formatBlock\n     *\n     * @param {String} tagName\n
    \    */\n\n    this.formatBlock = this.wrapCommand(function (tagName, $target)
    {\n      var onApplyCustomStyle = _this.options.callbacks.onApplyCustomStyle;\n\n
    \     if (onApplyCustomStyle) {\n        onApplyCustomStyle.call(_this, $target,
    _this.context, _this.onFormatBlock);\n      } else {\n        _this.onFormatBlock(tagName,
    $target);\n      }\n    });\n    /**\n     * insert horizontal rule\n     */\n\n
    \   this.insertHorizontalRule = this.wrapCommand(function () {\n      var hrNode
    = _this.getLastRange().insertNode(dom.create('HR'));\n\n      if (hrNode.nextSibling)
    {\n        _this.setLastRange(range.create(hrNode.nextSibling, 0).normalize().select());\n
    \     }\n    });\n    /**\n     * lineHeight\n     * @param {String} value\n     */\n\n
    \   this.lineHeight = this.wrapCommand(function (value) {\n      _this.style.stylePara(_this.getLastRange(),
    {\n        lineHeight: value\n      });\n    });\n    /**\n     * create link
    (command)\n     *\n     * @param {Object} linkInfo\n     */\n\n    this.createLink
    = this.wrapCommand(function (linkInfo) {\n      var linkUrl = linkInfo.url;\n
    \     var linkText = linkInfo.text;\n      var isNewWindow = linkInfo.isNewWindow;\n
    \     var checkProtocol = linkInfo.checkProtocol;\n\n      var rng = linkInfo.range
    || _this.getLastRange();\n\n      var additionalTextLength = linkText.length -
    rng.toString().length;\n\n      if (additionalTextLength > 0 && _this.isLimited(additionalTextLength))
    {\n        return;\n      }\n\n      var isTextChanged = rng.toString() !== linkText;
    // handle spaced urls from input\n\n      if (typeof linkUrl === 'string') {\n
    \       linkUrl = linkUrl.trim();\n      }\n\n      if (_this.options.onCreateLink)
    {\n        linkUrl = _this.options.onCreateLink(linkUrl);\n      } else if (checkProtocol)
    {\n        // if url doesn't have any protocol and not even a relative or a label,
    use http:// as default\n        linkUrl = /^([A-Za-z][A-Za-z0-9+-.]*\\:|#|\\/)/.test(linkUrl)
    ? linkUrl : _this.options.defaultProtocol + linkUrl;\n      }\n\n      var anchors
    = [];\n\n      if (isTextChanged) {\n        rng = rng.deleteContents();\n        var
    anchor = rng.insertNode(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<A>'
    + linkText + '</A>')[0]);\n        anchors.push(anchor);\n      } else {\n        anchors
    = _this.style.styleNodes(rng, {\n          nodeName: 'A',\n          expandClosestSibling:
    true,\n          onlyPartialContains: true\n        });\n      }\n\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(anchors,
    function (idx, anchor) {\n        external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(anchor).attr('href',
    linkUrl);\n\n        if (isNewWindow) {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(anchor).attr('target',
    '_blank');\n        } else {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(anchor).removeAttr('target');\n
    \       }\n      });\n\n      _this.setLastRange(_this.createRangeFromList(anchors).select());\n
    \   });\n    /**\n     * setting color\n     *\n     * @param {Object} sObjColor
    \ color code\n     * @param {String} sObjColor.foreColor foreground color\n     *
    @param {String} sObjColor.backColor background color\n     */\n\n    this.color
    = this.wrapCommand(function (colorInfo) {\n      var foreColor = colorInfo.foreColor;\n
    \     var backColor = colorInfo.backColor;\n\n      if (foreColor) {\n        document.execCommand('foreColor',
    false, foreColor);\n      }\n\n      if (backColor) {\n        document.execCommand('backColor',
    false, backColor);\n      }\n    });\n    /**\n     * Set foreground color\n     *\n
    \    * @param {String} colorCode foreground color code\n     */\n\n    this.foreColor
    = this.wrapCommand(function (colorInfo) {\n      document.execCommand('foreColor',
    false, colorInfo);\n    });\n    /**\n     * insert Table\n     *\n     * @param
    {String} dimension of table (ex : \"5x5\")\n     */\n\n    this.insertTable =
    this.wrapCommand(function (dim) {\n      var dimension = dim.split('x');\n\n      var
    rng = _this.getLastRange().deleteContents();\n\n      rng.insertNode(_this.table.createTable(dimension[0],
    dimension[1], _this.options));\n    });\n    /**\n     * remove media object and
    Figure Elements if media object is img with Figure.\n     */\n\n    this.removeMedia
    = this.wrapCommand(function () {\n      var $target = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(_this.restoreTarget()).parent();\n\n
    \     if ($target.closest('figure').length) {\n        $target.closest('figure').remove();\n
    \     } else {\n        $target = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(_this.restoreTarget()).detach();\n
    \     }\n\n      _this.context.triggerEvent('media.delete', $target, _this.$editable);\n
    \   });\n    /**\n     * float me\n     *\n     * @param {String} value\n     */\n\n
    \   this.floatMe = this.wrapCommand(function (value) {\n      var $target = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(_this.restoreTarget());\n
    \     $target.toggleClass('note-float-left', value === 'left');\n      $target.toggleClass('note-float-right',
    value === 'right');\n      $target.css('float', value === 'none' ? '' : value);\n
    \   });\n    /**\n     * resize overlay element\n     * @param {String} value\n
    \    */\n\n    this.resize = this.wrapCommand(function (value) {\n      var $target
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(_this.restoreTarget());\n
    \     value = parseFloat(value);\n\n      if (value === 0) {\n        $target.css('width',
    '');\n      } else {\n        $target.css({\n          width: value * 100 + '%',\n
    \         height: ''\n        });\n      }\n    });\n  }\n\n  Editor_createClass(Editor,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2
    = this;\n\n      // bind custom events\n      this.$editable.on('keydown', function
    (event) {\n        if (event.keyCode === core_key.code.ENTER) {\n          _this2.context.triggerEvent('enter',
    event);\n        }\n\n        _this2.context.triggerEvent('keydown', event); //
    keep a snapshot to limit text on input event\n\n\n        _this2.snapshot = _this2.history.makeSnapshot();\n
    \       _this2.hasKeyShortCut = false;\n\n        if (!event.isDefaultPrevented())
    {\n          if (_this2.options.shortcuts) {\n            _this2.hasKeyShortCut
    = _this2.handleKeyMap(event);\n          } else {\n            _this2.preventDefaultEditableShortCuts(event);\n
    \         }\n        }\n\n        if (_this2.isLimited(1, event)) {\n          var
    lastRange = _this2.getLastRange();\n\n          if (lastRange.eo - lastRange.so
    === 0) {\n            return false;\n          }\n        }\n\n        _this2.setLastRange();
    // record undo in the key event except keyMap.\n\n\n        if (_this2.options.recordEveryKeystroke)
    {\n          if (_this2.hasKeyShortCut === false) {\n            _this2.history.recordUndo();\n
    \         }\n        }\n      }).on('keyup', function (event) {\n        _this2.setLastRange();\n\n
    \       _this2.context.triggerEvent('keyup', event);\n      }).on('focus', function
    (event) {\n        _this2.setLastRange();\n\n        _this2.context.triggerEvent('focus',
    event);\n      }).on('blur', function (event) {\n        _this2.context.triggerEvent('blur',
    event);\n      }).on('mousedown', function (event) {\n        _this2.context.triggerEvent('mousedown',
    event);\n      }).on('mouseup', function (event) {\n        _this2.setLastRange();\n\n
    \       _this2.history.recordUndo();\n\n        _this2.context.triggerEvent('mouseup',
    event);\n      }).on('scroll', function (event) {\n        _this2.context.triggerEvent('scroll',
    event);\n      }).on('paste', function (event) {\n        _this2.setLastRange();\n\n
    \       _this2.context.triggerEvent('paste', event);\n      }).on('input', function
    () {\n        // To limit composition characters (e.g. Korean)\n        if (_this2.isLimited(0)
    && _this2.snapshot) {\n          _this2.history.applySnapshot(_this2.snapshot);\n
    \       }\n      });\n      this.$editable.attr('spellcheck', this.options.spellCheck);\n
    \     this.$editable.attr('autocorrect', this.options.spellCheck);\n\n      if
    (this.options.disableGrammar) {\n        this.$editable.attr('data-gramm', false);\n
    \     } // init content before set event\n\n\n      this.$editable.html(dom.html(this.$note)
    || dom.emptyPara);\n      this.$editable.on(env.inputEventName, func.debounce(function
    () {\n        _this2.context.triggerEvent('change', _this2.$editable.html(), _this2.$editable);\n
    \     }, 10));\n      this.$editable.on('focusin', function (event) {\n        _this2.context.triggerEvent('focusin',
    event);\n      }).on('focusout', function (event) {\n        _this2.context.triggerEvent('focusout',
    event);\n      });\n\n      if (this.options.airMode) {\n        if (this.options.overrideContextMenu)
    {\n          this.$editor.on('contextmenu', function (event) {\n            _this2.context.triggerEvent('contextmenu',
    event);\n\n            return false;\n          });\n        }\n      } else {\n
    \       if (this.options.width) {\n          this.$editor.outerWidth(this.options.width);\n
    \       }\n\n        if (this.options.height) {\n          this.$editable.outerHeight(this.options.height);\n
    \       }\n\n        if (this.options.maxHeight) {\n          this.$editable.css('max-height',
    this.options.maxHeight);\n        }\n\n        if (this.options.minHeight) {\n
    \         this.$editable.css('min-height', this.options.minHeight);\n        }\n
    \     }\n\n      this.history.recordUndo();\n      this.setLastRange();\n    }\n
    \ }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.$editable.off();\n
    \   }\n  }, {\n    key: \"handleKeyMap\",\n    value: function handleKeyMap(event)
    {\n      var keyMap = this.options.keyMap[env.isMac ? 'mac' : 'pc'];\n      var
    keys = [];\n\n      if (event.metaKey) {\n        keys.push('CMD');\n      }\n\n
    \     if (event.ctrlKey && !event.altKey) {\n        keys.push('CTRL');\n      }\n\n
    \     if (event.shiftKey) {\n        keys.push('SHIFT');\n      }\n\n      var
    keyName = core_key.nameFromCode[event.keyCode];\n\n      if (keyName) {\n        keys.push(keyName);\n
    \     }\n\n      var eventName = keyMap[keys.join('+')];\n\n      if (keyName
    === 'TAB' && !this.options.tabDisable) {\n        this.afterCommand();\n      }
    else if (eventName) {\n        if (this.context.invoke(eventName) !== false) {\n
    \         event.preventDefault(); // if keyMap action was invoked\n\n          return
    true;\n        }\n      } else if (core_key.isEdit(event.keyCode)) {\n        this.afterCommand();\n
    \     }\n\n      return false;\n    }\n  }, {\n    key: \"preventDefaultEditableShortCuts\",\n
    \   value: function preventDefaultEditableShortCuts(event) {\n      // B(Bold,
    66) / I(Italic, 73) / U(Underline, 85)\n      if ((event.ctrlKey || event.metaKey)
    && lists.contains([66, 73, 85], event.keyCode)) {\n        event.preventDefault();\n
    \     }\n    }\n  }, {\n    key: \"isLimited\",\n    value: function isLimited(pad,
    event) {\n      pad = pad || 0;\n\n      if (typeof event !== 'undefined') {\n
    \       if (core_key.isMove(event.keyCode) || core_key.isNavigation(event.keyCode)
    || event.ctrlKey || event.metaKey || lists.contains([core_key.code.BACKSPACE,
    core_key.code.DELETE], event.keyCode)) {\n          return false;\n        }\n
    \     }\n\n      if (this.options.maxTextLength > 0) {\n        if (this.$editable.text().length
    + pad > this.options.maxTextLength) {\n          return true;\n        }\n      }\n\n
    \     return false;\n    }\n    /**\n     * create range\n     * @return {WrappedRange}\n
    \    */\n\n  }, {\n    key: \"createRange\",\n    value: function createRange()
    {\n      this.focus();\n      this.setLastRange();\n      return this.getLastRange();\n
    \   }\n    /**\n     * create a new range from the list of elements\n     *\n
    \    * @param {list} dom element list\n     * @return {WrappedRange}\n     */\n\n
    \ }, {\n    key: \"createRangeFromList\",\n    value: function createRangeFromList(lst)
    {\n      var startRange = range.createFromNodeBefore(lists.head(lst));\n      var
    startPoint = startRange.getStartPoint();\n      var endRange = range.createFromNodeAfter(lists.last(lst));\n
    \     var endPoint = endRange.getEndPoint();\n      return range.create(startPoint.node,
    startPoint.offset, endPoint.node, endPoint.offset);\n    }\n    /**\n     * set
    the last range\n     *\n     * if given rng is exist, set rng as the last range\n
    \    * or create a new range at the end of the document\n     *\n     * @param
    {WrappedRange} rng\n     */\n\n  }, {\n    key: \"setLastRange\",\n    value:
    function setLastRange(rng) {\n      if (rng) {\n        this.lastRange = rng;\n
    \     } else {\n        this.lastRange = range.create(this.editable);\n\n        if
    (external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.lastRange.sc).closest('.note-editable').length
    === 0) {\n          this.lastRange = range.createFromBodyElement(this.editable);\n
    \       }\n      }\n    }\n    /**\n     * get the last range\n     *\n     *
    if there is a saved last range, return it\n     * or create a new range and return
    it\n     *\n     * @return {WrappedRange}\n     */\n\n  }, {\n    key: \"getLastRange\",\n
    \   value: function getLastRange() {\n      if (!this.lastRange) {\n        this.setLastRange();\n
    \     }\n\n      return this.lastRange;\n    }\n    /**\n     * saveRange\n     *\n
    \    * save current range\n     *\n     * @param {Boolean} [thenCollapse=false]\n
    \    */\n\n  }, {\n    key: \"saveRange\",\n    value: function saveRange(thenCollapse)
    {\n      if (thenCollapse) {\n        this.getLastRange().collapse().select();\n
    \     }\n    }\n    /**\n     * restoreRange\n     *\n     * restore lately range\n
    \    */\n\n  }, {\n    key: \"restoreRange\",\n    value: function restoreRange()
    {\n      if (this.lastRange) {\n        this.lastRange.select();\n        this.focus();\n
    \     }\n    }\n  }, {\n    key: \"saveTarget\",\n    value: function saveTarget(node)
    {\n      this.$editable.data('target', node);\n    }\n  }, {\n    key: \"clearTarget\",\n
    \   value: function clearTarget() {\n      this.$editable.removeData('target');\n
    \   }\n  }, {\n    key: \"restoreTarget\",\n    value: function restoreTarget()
    {\n      return this.$editable.data('target');\n    }\n    /**\n     * currentStyle\n
    \    *\n     * current style\n     * @return {Object|Boolean} unfocus\n     */\n\n
    \ }, {\n    key: \"currentStyle\",\n    value: function currentStyle() {\n      var
    rng = range.create();\n\n      if (rng) {\n        rng = rng.normalize();\n      }\n\n
    \     return rng ? this.style.current(rng) : this.style.fromNode(this.$editable);\n
    \   }\n    /**\n     * style from node\n     *\n     * @param {jQuery} $node\n
    \    * @return {Object}\n     */\n\n  }, {\n    key: \"styleFromNode\",\n    value:
    function styleFromNode($node) {\n      return this.style.fromNode($node);\n    }\n
    \   /**\n     * undo\n     */\n\n  }, {\n    key: \"undo\",\n    value: function
    undo() {\n      this.context.triggerEvent('before.command', this.$editable.html());\n
    \     this.history.undo();\n      this.context.triggerEvent('change', this.$editable.html(),
    this.$editable);\n    }\n    /*\n    * commit\n    */\n\n  }, {\n    key: \"commit\",\n
    \   value: function commit() {\n      this.context.triggerEvent('before.command',
    this.$editable.html());\n      this.history.commit();\n      this.context.triggerEvent('change',
    this.$editable.html(), this.$editable);\n    }\n    /**\n     * redo\n     */\n\n
    \ }, {\n    key: \"redo\",\n    value: function redo() {\n      this.context.triggerEvent('before.command',
    this.$editable.html());\n      this.history.redo();\n      this.context.triggerEvent('change',
    this.$editable.html(), this.$editable);\n    }\n    /**\n     * before command\n
    \    */\n\n  }, {\n    key: \"beforeCommand\",\n    value: function beforeCommand()
    {\n      this.context.triggerEvent('before.command', this.$editable.html()); //
    Set styleWithCSS before run a command\n\n      document.execCommand('styleWithCSS',
    false, this.options.styleWithCSS); // keep focus on editable before command execution\n\n
    \     this.focus();\n    }\n    /**\n     * after command\n     * @param {Boolean}
    isPreventTrigger\n     */\n\n  }, {\n    key: \"afterCommand\",\n    value: function
    afterCommand(isPreventTrigger) {\n      this.normalizeContent();\n      this.history.recordUndo();\n\n
    \     if (!isPreventTrigger) {\n        this.context.triggerEvent('change', this.$editable.html(),
    this.$editable);\n      }\n    }\n    /**\n     * handle tab key\n     */\n\n
    \ }, {\n    key: \"tab\",\n    value: function tab() {\n      var rng = this.getLastRange();\n\n
    \     if (rng.isCollapsed() && rng.isOnCell()) {\n        this.table.tab(rng);\n
    \     } else {\n        if (this.options.tabSize === 0) {\n          return false;\n
    \       }\n\n        if (!this.isLimited(this.options.tabSize)) {\n          this.beforeCommand();\n
    \         this.typing.insertTab(rng, this.options.tabSize);\n          this.afterCommand();\n
    \       }\n      }\n    }\n    /**\n     * handle shift+tab key\n     */\n\n  },
    {\n    key: \"untab\",\n    value: function untab() {\n      var rng = this.getLastRange();\n\n
    \     if (rng.isCollapsed() && rng.isOnCell()) {\n        this.table.tab(rng,
    true);\n      } else {\n        if (this.options.tabSize === 0) {\n          return
    false;\n        }\n      }\n    }\n    /**\n     * run given function between
    beforeCommand and afterCommand\n     */\n\n  }, {\n    key: \"wrapCommand\",\n
    \   value: function wrapCommand(fn) {\n      return function () {\n        this.beforeCommand();\n
    \       fn.apply(this, arguments);\n        this.afterCommand();\n      };\n    }\n
    \   /**\n     * insert image\n     *\n     * @param {String} src\n     * @param
    {String|Function} param\n     * @return {Promise}\n     */\n\n  }, {\n    key:
    \"insertImage\",\n    value: function insertImage(src, param) {\n      var _this3
    = this;\n\n      return createImage(src, param).then(function ($image) {\n        _this3.beforeCommand();\n\n
    \       if (typeof param === 'function') {\n          param($image);\n        }
    else {\n          if (typeof param === 'string') {\n            $image.attr('data-filename',
    param);\n          }\n\n          $image.css('width', Math.min(_this3.$editable.width(),
    $image.width()));\n        }\n\n        $image.show();\n\n        _this3.getLastRange().insertNode($image[0]);\n\n
    \       _this3.setLastRange(range.createFromNodeAfter($image[0]).select());\n\n
    \       _this3.afterCommand();\n      }).fail(function (e) {\n        _this3.context.triggerEvent('image.upload.error',
    e);\n      });\n    }\n    /**\n     * insertImages\n     * @param {File[]} files\n
    \    */\n\n  }, {\n    key: \"insertImagesAsDataURL\",\n    value: function insertImagesAsDataURL(files)
    {\n      var _this4 = this;\n\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(files,
    function (idx, file) {\n        var filename = file.name;\n\n        if (_this4.options.maximumImageFileSize
    && _this4.options.maximumImageFileSize < file.size) {\n          _this4.context.triggerEvent('image.upload.error',
    _this4.lang.image.maximumFileSizeError);\n        } else {\n          readFileAsDataURL(file).then(function
    (dataURL) {\n            return _this4.insertImage(dataURL, filename);\n          }).fail(function
    () {\n            _this4.context.triggerEvent('image.upload.error');\n          });\n
    \       }\n      });\n    }\n    /**\n     * insertImagesOrCallback\n     * @param
    {File[]} files\n     */\n\n  }, {\n    key: \"insertImagesOrCallback\",\n    value:
    function insertImagesOrCallback(files) {\n      var callbacks = this.options.callbacks;
    // If onImageUpload set,\n\n      if (callbacks.onImageUpload) {\n        this.context.triggerEvent('image.upload',
    files); // else insert Image as dataURL\n      } else {\n        this.insertImagesAsDataURL(files);\n
    \     }\n    }\n    /**\n     * return selected plain text\n     * @return {String}
    text\n     */\n\n  }, {\n    key: \"getSelectedText\",\n    value: function getSelectedText()
    {\n      var rng = this.getLastRange(); // if range on anchor, expand range with
    anchor\n\n      if (rng.isOnAnchor()) {\n        rng = range.createFromNode(dom.ancestor(rng.sc,
    dom.isAnchor));\n      }\n\n      return rng.toString();\n    }\n  }, {\n    key:
    \"onFormatBlock\",\n    value: function onFormatBlock(tagName, $target) {\n      //
    [workaround] for MSIE, IE need `<`\n      document.execCommand('FormatBlock',
    false, env.isMSIE ? '<' + tagName + '>' : tagName); // support custom class\n\n
    \     if ($target && $target.length) {\n        // find the exact element has
    given tagName\n        if ($target[0].tagName.toUpperCase() !== tagName.toUpperCase())
    {\n          $target = $target.find(tagName);\n        }\n\n        if ($target
    && $target.length) {\n          var className = $target[0].className || '';\n\n
    \         if (className) {\n            var currentRange = this.createRange();\n
    \           var $parent = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()([currentRange.sc,
    currentRange.ec]).closest(tagName);\n            $parent.addClass(className);\n
    \         }\n        }\n      }\n    }\n  }, {\n    key: \"formatPara\",\n    value:
    function formatPara() {\n      this.formatBlock('P');\n    }\n  }, {\n    key:
    \"fontStyling\",\n    value: function fontStyling(target, value) {\n      var
    rng = this.getLastRange();\n\n      if (rng !== '') {\n        var spans = this.style.styleNodes(rng);\n
    \       this.$editor.find('.note-status-output').html('');\n        external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(spans).css(target,
    value); // [workaround] added styled bogus span for style\n        //  - also
    bogus character needed for cursor position\n\n        if (rng.isCollapsed()) {\n
    \         var firstSpan = lists.head(spans);\n\n          if (firstSpan && !dom.nodeLength(firstSpan))
    {\n            firstSpan.innerHTML = dom.ZERO_WIDTH_NBSP_CHAR;\n            range.createFromNode(firstSpan.firstChild).select();\n
    \           this.setLastRange();\n            this.$editable.data(KEY_BOGUS, firstSpan);\n
    \         }\n        } else {\n          this.setLastRange(this.createRangeFromList(spans).select());\n
    \       }\n      } else {\n        var noteStatusOutput = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.now();\n
    \       this.$editor.find('.note-status-output').html('<div id=\"note-status-output-'
    + noteStatusOutput + '\" class=\"alert alert-info\">' + this.lang.output.noSelection
    + '</div>');\n        setTimeout(function () {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('#note-status-output-'
    + noteStatusOutput).remove();\n        }, 5000);\n      }\n    }\n    /**\n     *
    unlink\n     *\n     * @type command\n     */\n\n  }, {\n    key: \"unlink\",\n
    \   value: function unlink() {\n      var rng = this.getLastRange();\n\n      if
    (rng.isOnAnchor()) {\n        var anchor = dom.ancestor(rng.sc, dom.isAnchor);\n
    \       rng = range.createFromNode(anchor);\n        rng.select();\n        this.setLastRange();\n
    \       this.beforeCommand();\n        document.execCommand('unlink');\n        this.afterCommand();\n
    \     }\n    }\n    /**\n     * returns link info\n     *\n     * @return {Object}\n
    \    * @return {WrappedRange} return.range\n     * @return {String} return.text\n
    \    * @return {Boolean} [return.isNewWindow=true]\n     * @return {String} [return.url=\"\"]\n
    \    */\n\n  }, {\n    key: \"getLinkInfo\",\n    value: function getLinkInfo()
    {\n      var rng = this.getLastRange().expand(dom.isAnchor); // Get the first
    anchor on range(for edit).\n\n      var $anchor = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(lists.head(rng.nodes(dom.isAnchor)));\n
    \     var linkInfo = {\n        range: rng,\n        text: rng.toString(),\n        url:
    $anchor.length ? $anchor.attr('href') : ''\n      }; // When anchor exists,\n\n
    \     if ($anchor.length) {\n        // Set isNewWindow by checking its target.\n
    \       linkInfo.isNewWindow = $anchor.attr('target') === '_blank';\n      }\n\n
    \     return linkInfo;\n    }\n  }, {\n    key: \"addRow\",\n    value: function
    addRow(position) {\n      var rng = this.getLastRange(this.$editable);\n\n      if
    (rng.isCollapsed() && rng.isOnCell()) {\n        this.beforeCommand();\n        this.table.addRow(rng,
    position);\n        this.afterCommand();\n      }\n    }\n  }, {\n    key: \"addCol\",\n
    \   value: function addCol(position) {\n      var rng = this.getLastRange(this.$editable);\n\n
    \     if (rng.isCollapsed() && rng.isOnCell()) {\n        this.beforeCommand();\n
    \       this.table.addCol(rng, position);\n        this.afterCommand();\n      }\n
    \   }\n  }, {\n    key: \"deleteRow\",\n    value: function deleteRow() {\n      var
    rng = this.getLastRange(this.$editable);\n\n      if (rng.isCollapsed() && rng.isOnCell())
    {\n        this.beforeCommand();\n        this.table.deleteRow(rng);\n        this.afterCommand();\n
    \     }\n    }\n  }, {\n    key: \"deleteCol\",\n    value: function deleteCol()
    {\n      var rng = this.getLastRange(this.$editable);\n\n      if (rng.isCollapsed()
    && rng.isOnCell()) {\n        this.beforeCommand();\n        this.table.deleteCol(rng);\n
    \       this.afterCommand();\n      }\n    }\n  }, {\n    key: \"deleteTable\",\n
    \   value: function deleteTable() {\n      var rng = this.getLastRange(this.$editable);\n\n
    \     if (rng.isCollapsed() && rng.isOnCell()) {\n        this.beforeCommand();\n
    \       this.table.deleteTable(rng);\n        this.afterCommand();\n      }\n
    \   }\n    /**\n     * @param {Position} pos\n     * @param {jQuery} $target -
    target element\n     * @param {Boolean} [bKeepRatio] - keep ratio\n     */\n\n
    \ }, {\n    key: \"resizeTo\",\n    value: function resizeTo(pos, $target, bKeepRatio)
    {\n      var imageSize;\n\n      if (bKeepRatio) {\n        var newRatio = pos.y
    / pos.x;\n        var ratio = $target.data('ratio');\n        imageSize = {\n
    \         width: ratio > newRatio ? pos.x : pos.y / ratio,\n          height:
    ratio > newRatio ? pos.x * ratio : pos.y\n        };\n      } else {\n        imageSize
    = {\n          width: pos.x,\n          height: pos.y\n        };\n      }\n\n
    \     $target.css(imageSize);\n    }\n    /**\n     * returns whether editable
    area has focus or not.\n     */\n\n  }, {\n    key: \"hasFocus\",\n    value:
    function hasFocus() {\n      return this.$editable.is(':focus');\n    }\n    /**\n
    \    * set focus\n     */\n\n  }, {\n    key: \"focus\",\n    value: function
    focus() {\n      // [workaround] Screen will move when page is scolled in IE.\n
    \     //  - do focus when not focused\n      if (!this.hasFocus()) {\n        this.$editable.focus();\n
    \     }\n    }\n    /**\n     * returns whether contents is empty or not.\n     *
    @return {Boolean}\n     */\n\n  }, {\n    key: \"isEmpty\",\n    value: function
    isEmpty() {\n      return dom.isEmpty(this.$editable[0]) || dom.emptyPara ===
    this.$editable.html();\n    }\n    /**\n     * Removes all contents and restores
    the editable instance to an _emptyPara_.\n     */\n\n  }, {\n    key: \"empty\",\n
    \   value: function empty() {\n      this.context.invoke('code', dom.emptyPara);\n
    \   }\n    /**\n     * normalize content\n     */\n\n  }, {\n    key: \"normalizeContent\",\n
    \   value: function normalizeContent() {\n      this.$editable[0].normalize();\n
    \   }\n  }]);\n\n  return Editor;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Clipboard.js\nfunction
    Clipboard_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Clipboard_defineProperties(target, props) { for (var i = 0; i < props.length;
    i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Clipboard_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    Clipboard_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    Clipboard_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar
    Clipboard_Clipboard = /*#__PURE__*/function () {\n  function Clipboard(context)
    {\n    Clipboard_classCallCheck(this, Clipboard);\n\n    this.context = context;\n
    \   this.$editable = context.layoutInfo.editable;\n  }\n\n  Clipboard_createClass(Clipboard,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      this.$editable.on('paste',
    this.pasteByEvent.bind(this));\n    }\n    /**\n     * paste by clipboard event\n
    \    *\n     * @param {Event} event\n     */\n\n  }, {\n    key: \"pasteByEvent\",\n
    \   value: function pasteByEvent(event) {\n      var _this = this;\n\n      var
    clipboardData = event.originalEvent.clipboardData;\n\n      if (clipboardData
    && clipboardData.items && clipboardData.items.length) {\n        var item = clipboardData.items.length
    > 1 ? clipboardData.items[1] : lists.head(clipboardData.items);\n\n        if
    (item.kind === 'file' && item.type.indexOf('image/') !== -1) {\n          // paste
    img file\n          this.context.invoke('editor.insertImagesOrCallback', [item.getAsFile()]);\n
    \         event.preventDefault();\n        } else if (item.kind === 'string')
    {\n          // paste text with maxTextLength check\n          if (this.context.invoke('editor.isLimited',
    clipboardData.getData('Text').length)) {\n            event.preventDefault();\n
    \         }\n        }\n      } else if (window.clipboardData) {\n        // for
    IE\n        var text = window.clipboardData.getData('text');\n\n        if (this.context.invoke('editor.isLimited',
    text.length)) {\n          event.preventDefault();\n        }\n      } // Call
    editor.afterCommand after proceeding default event handler\n\n\n      setTimeout(function
    () {\n        _this.context.invoke('editor.afterCommand');\n      }, 10);\n    }\n
    \ }]);\n\n  return Clipboard;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Dropzone.js\nfunction
    Dropzone_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Dropzone_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Dropzone_createClass(Constructor, protoProps, staticProps) { if (protoProps) Dropzone_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Dropzone_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\nvar Dropzone_Dropzone = /*#__PURE__*/function ()
    {\n  function Dropzone(context) {\n    Dropzone_classCallCheck(this, Dropzone);\n\n
    \   this.context = context;\n    this.$eventListener = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);\n
    \   this.$editor = context.layoutInfo.editor;\n    this.$editable = context.layoutInfo.editable;\n
    \   this.options = context.options;\n    this.lang = this.options.langInfo;\n
    \   this.documentEventHandlers = {};\n    this.$dropzone = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(['<div
    class=\"note-dropzone\">', '<div class=\"note-dropzone-message\"></div>', '</div>'].join('')).prependTo(this.$editor);\n
    \ }\n  /**\n   * attach Drag and Drop Events\n   */\n\n\n  Dropzone_createClass(Dropzone,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      if (this.options.disableDragAndDrop)
    {\n        // prevent default drop event\n        this.documentEventHandlers.onDrop
    = function (e) {\n          e.preventDefault();\n        }; // do not consider
    outside of dropzone\n\n\n        this.$eventListener = this.$dropzone;\n        this.$eventListener.on('drop',
    this.documentEventHandlers.onDrop);\n      } else {\n        this.attachDragAndDropEvent();\n
    \     }\n    }\n    /**\n     * attach Drag and Drop Events\n     */\n\n  }, {\n
    \   key: \"attachDragAndDropEvent\",\n    value: function attachDragAndDropEvent()
    {\n      var _this = this;\n\n      var collection = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()();\n
    \     var $dropzoneMessage = this.$dropzone.find('.note-dropzone-message');\n\n
    \     this.documentEventHandlers.onDragenter = function (e) {\n        var isCodeview
    = _this.context.invoke('codeview.isActivated');\n\n        var hasEditorSize =
    _this.$editor.width() > 0 && _this.$editor.height() > 0;\n\n        if (!isCodeview
    && !collection.length && hasEditorSize) {\n          _this.$editor.addClass('dragover');\n\n
    \         _this.$dropzone.width(_this.$editor.width());\n\n          _this.$dropzone.height(_this.$editor.height());\n\n
    \         $dropzoneMessage.text(_this.lang.image.dragImageHere);\n        }\n\n
    \       collection = collection.add(e.target);\n      };\n\n      this.documentEventHandlers.onDragleave
    = function (e) {\n        collection = collection.not(e.target); // If nodeName
    is BODY, then just make it over (fix for IE)\n\n        if (!collection.length
    || e.target.nodeName === 'BODY') {\n          collection = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()();\n\n
    \         _this.$editor.removeClass('dragover');\n        }\n      };\n\n      this.documentEventHandlers.onDrop
    = function () {\n        collection = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()();\n\n
    \       _this.$editor.removeClass('dragover');\n      }; // show dropzone on dragenter
    when dragging a object to document\n      // -but only if the editor is visible,
    i.e. has a positive width and height\n\n\n      this.$eventListener.on('dragenter',
    this.documentEventHandlers.onDragenter).on('dragleave', this.documentEventHandlers.onDragleave).on('drop',
    this.documentEventHandlers.onDrop); // change dropzone's message on hover.\n\n
    \     this.$dropzone.on('dragenter', function () {\n        _this.$dropzone.addClass('hover');\n\n
    \       $dropzoneMessage.text(_this.lang.image.dropImage);\n      }).on('dragleave',
    function () {\n        _this.$dropzone.removeClass('hover');\n\n        $dropzoneMessage.text(_this.lang.image.dragImageHere);\n
    \     }); // attach dropImage\n\n      this.$dropzone.on('drop', function (event)
    {\n        var dataTransfer = event.originalEvent.dataTransfer; // stop the browser
    from opening the dropped content\n\n        event.preventDefault();\n\n        if
    (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\n          _this.$editable.focus();\n\n
    \         _this.context.invoke('editor.insertImagesOrCallback', dataTransfer.files);\n
    \       } else {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(dataTransfer.types,
    function (idx, type) {\n            // skip moz-specific types\n            if
    (type.toLowerCase().indexOf('_moz_') > -1) {\n              return;\n            }\n\n
    \           var content = dataTransfer.getData(type);\n\n            if (type.toLowerCase().indexOf('text')
    > -1) {\n              _this.context.invoke('editor.pasteHTML', content);\n            }
    else {\n              external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(content).each(function
    (idx, item) {\n                _this.context.invoke('editor.insertNode', item);\n
    \             });\n            }\n          });\n        }\n      }).on('dragover',
    false); // prevent default dragover event\n    }\n  }, {\n    key: \"destroy\",\n
    \   value: function destroy() {\n      var _this2 = this;\n\n      Object.keys(this.documentEventHandlers).forEach(function
    (key) {\n        _this2.$eventListener.off(key.substr(2).toLowerCase(), _this2.documentEventHandlers[key]);\n
    \     });\n      this.documentEventHandlers = {};\n    }\n  }]);\n\n  return Dropzone;\n}();\n\n\n//
    CONCATENATED MODULE: ./src/js/base/module/Codeview.js\nfunction _createForOfIteratorHelper(o)
    { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o)
    || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {};
    return { s: F, n: function n() { if (i >= o.length) return { done: true }; return
    { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; }
    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order
    to be iterable, non-array objects must have a [Symbol.iterator]() method.\");
    } var it, normalCompletion = true, didErr = false, err; return { s: function s()
    { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion
    = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; },
    f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();
    } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o,
    minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o,
    minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\"
    && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\")
    return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
    return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len)
    { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2
    = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction
    Codeview_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Codeview_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Codeview_createClass(Constructor, protoProps, staticProps) { if (protoProps) Codeview_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Codeview_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n/**\n * @class Codeview\n */\n\nvar Codeview_CodeView
    = /*#__PURE__*/function () {\n  function CodeView(context) {\n    Codeview_classCallCheck(this,
    CodeView);\n\n    this.context = context;\n    this.$editor = context.layoutInfo.editor;\n
    \   this.$editable = context.layoutInfo.editable;\n    this.$codable = context.layoutInfo.codable;\n
    \   this.options = context.options;\n    this.CodeMirrorConstructor = window.CodeMirror;\n\n
    \   if (this.options.codemirror.CodeMirrorConstructor) {\n      this.CodeMirrorConstructor
    = this.options.codemirror.CodeMirrorConstructor;\n    }\n  }\n\n  Codeview_createClass(CodeView,
    [{\n    key: \"sync\",\n    value: function sync(html) {\n      var isCodeview
    = this.isActivated();\n      var CodeMirror = this.CodeMirrorConstructor;\n\n
    \     if (isCodeview) {\n        if (html) {\n          if (CodeMirror) {\n            this.$codable.data('cmEditor').getDoc().setValue(html);\n
    \         } else {\n            this.$codable.val(html);\n          }\n        }
    else {\n          if (CodeMirror) {\n            this.$codable.data('cmEditor').save();\n
    \         }\n        }\n      }\n    }\n  }, {\n    key: \"initialize\",\n    value:
    function initialize() {\n      var _this = this;\n\n      this.$codable.on('keyup',
    function (event) {\n        if (event.keyCode === core_key.code.ESCAPE) {\n          _this.deactivate();\n
    \       }\n      });\n    }\n    /**\n     * @return {Boolean}\n     */\n\n  },
    {\n    key: \"isActivated\",\n    value: function isActivated() {\n      return
    this.$editor.hasClass('codeview');\n    }\n    /**\n     * toggle codeview\n     */\n\n
    \ }, {\n    key: \"toggle\",\n    value: function toggle() {\n      if (this.isActivated())
    {\n        this.deactivate();\n      } else {\n        this.activate();\n      }\n\n
    \     this.context.triggerEvent('codeview.toggled');\n    }\n    /**\n     * purify
    input value\n     * @param value\n     * @returns {*}\n     */\n\n  }, {\n    key:
    \"purify\",\n    value: function purify(value) {\n      if (this.options.codeviewFilter)
    {\n        // filter code view regex\n        value = value.replace(this.options.codeviewFilterRegex,
    ''); // allow specific iframe tag\n\n        if (this.options.codeviewIframeFilter)
    {\n          var whitelist = this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);\n
    \         value = value.replace(/(<iframe.*?>.*?(?:<\\/iframe>)?)/gi, function
    (tag) {\n            // remove if src attribute is duplicated\n            if
    (/<.+src(?==?('|\"|\\s)?)[\\s\\S]+src(?=('|\"|\\s)?)[^>]*?>/i.test(tag)) {\n              return
    '';\n            }\n\n            var _iterator = _createForOfIteratorHelper(whitelist),\n
    \               _step;\n\n            try {\n              for (_iterator.s();
    !(_step = _iterator.n()).done;) {\n                var src = _step.value;\n\n
    \               // pass if src is trusted\n                if (new RegExp('src=\"(https?:)?\\/\\/'
    + src.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&') + '\\/(.+)\"').test(tag))
    {\n                  return tag;\n                }\n              }\n            }
    catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n
    \           }\n\n            return '';\n          });\n        }\n      }\n\n
    \     return value;\n    }\n    /**\n     * activate code view\n     */\n\n  },
    {\n    key: \"activate\",\n    value: function activate() {\n      var _this2
    = this;\n\n      var CodeMirror = this.CodeMirrorConstructor;\n      this.$codable.val(dom.html(this.$editable,
    this.options.prettifyHtml));\n      this.$codable.height(this.$editable.height());\n
    \     this.context.invoke('toolbar.updateCodeview', true);\n      this.context.invoke('airPopover.updateCodeview',
    true);\n      this.$editor.addClass('codeview');\n      this.$codable.focus();
    // activate CodeMirror as codable\n\n      if (CodeMirror) {\n        var cmEditor
    = CodeMirror.fromTextArea(this.$codable[0], this.options.codemirror); // CodeMirror
    TernServer\n\n        if (this.options.codemirror.tern) {\n          var server
    = new CodeMirror.TernServer(this.options.codemirror.tern);\n          cmEditor.ternServer
    = server;\n          cmEditor.on('cursorActivity', function (cm) {\n            server.updateArgHints(cm);\n
    \         });\n        }\n\n        cmEditor.on('blur', function (event) {\n          _this2.context.triggerEvent('blur.codeview',
    cmEditor.getValue(), event);\n        });\n        cmEditor.on('change', function
    () {\n          _this2.context.triggerEvent('change.codeview', cmEditor.getValue(),
    cmEditor);\n        }); // CodeMirror hasn't Padding.\n\n        cmEditor.setSize(null,
    this.$editable.outerHeight());\n        this.$codable.data('cmEditor', cmEditor);\n
    \     } else {\n        this.$codable.on('blur', function (event) {\n          _this2.context.triggerEvent('blur.codeview',
    _this2.$codable.val(), event);\n        });\n        this.$codable.on('input',
    function () {\n          _this2.context.triggerEvent('change.codeview', _this2.$codable.val(),
    _this2.$codable);\n        });\n      }\n    }\n    /**\n     * deactivate code
    view\n     */\n\n  }, {\n    key: \"deactivate\",\n    value: function deactivate()
    {\n      var CodeMirror = this.CodeMirrorConstructor; // deactivate CodeMirror
    as codable\n\n      if (CodeMirror) {\n        var cmEditor = this.$codable.data('cmEditor');\n
    \       this.$codable.val(cmEditor.getValue());\n        cmEditor.toTextArea();\n
    \     }\n\n      var value = this.purify(dom.value(this.$codable, this.options.prettifyHtml)
    || dom.emptyPara);\n      var isChange = this.$editable.html() !== value;\n      this.$editable.html(value);\n
    \     this.$editable.height(this.options.height ? this.$codable.height() : 'auto');\n
    \     this.$editor.removeClass('codeview');\n\n      if (isChange) {\n        this.context.triggerEvent('change',
    this.$editable.html(), this.$editable);\n      }\n\n      this.$editable.focus();\n
    \     this.context.invoke('toolbar.updateCodeview', false);\n      this.context.invoke('airPopover.updateCodeview',
    false);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n
    \     if (this.isActivated()) {\n        this.deactivate();\n      }\n    }\n
    \ }]);\n\n  return CodeView;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Statusbar.js\nfunction
    Statusbar_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Statusbar_defineProperties(target, props) { for (var i = 0; i < props.length;
    i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Statusbar_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    Statusbar_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    Statusbar_defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar
    EDITABLE_PADDING = 24;\n\nvar Statusbar_Statusbar = /*#__PURE__*/function () {\n
    \ function Statusbar(context) {\n    Statusbar_classCallCheck(this, Statusbar);\n\n
    \   this.$document = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);\n
    \   this.$statusbar = context.layoutInfo.statusbar;\n    this.$editable = context.layoutInfo.editable;\n
    \   this.options = context.options;\n  }\n\n  Statusbar_createClass(Statusbar,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this
    = this;\n\n      if (this.options.airMode || this.options.disableResizeEditor)
    {\n        this.destroy();\n        return;\n      }\n\n      this.$statusbar.on('mousedown',
    function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n\n
    \       var editableTop = _this.$editable.offset().top - _this.$document.scrollTop();\n\n
    \       var onMouseMove = function onMouseMove(event) {\n          var height
    = event.clientY - (editableTop + EDITABLE_PADDING);\n          height = _this.options.minheight
    > 0 ? Math.max(height, _this.options.minheight) : height;\n          height =
    _this.options.maxHeight > 0 ? Math.min(height, _this.options.maxHeight) : height;\n\n
    \         _this.$editable.height(height);\n        };\n\n        _this.$document.on('mousemove',
    onMouseMove).one('mouseup', function () {\n          _this.$document.off('mousemove',
    onMouseMove);\n        });\n      });\n    }\n  }, {\n    key: \"destroy\",\n
    \   value: function destroy() {\n      this.$statusbar.off();\n      this.$statusbar.addClass('locked');\n
    \   }\n  }]);\n\n  return Statusbar;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Fullscreen.js\nfunction
    Fullscreen_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Fullscreen_defineProperties(target, props) { for (var i = 0; i < props.length;
    i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Fullscreen_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    Fullscreen_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    Fullscreen_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar
    Fullscreen_Fullscreen = /*#__PURE__*/function () {\n  function Fullscreen(context)
    {\n    var _this = this;\n\n    Fullscreen_classCallCheck(this, Fullscreen);\n\n
    \   this.context = context;\n    this.$editor = context.layoutInfo.editor;\n    this.$toolbar
    = context.layoutInfo.toolbar;\n    this.$editable = context.layoutInfo.editable;\n
    \   this.$codable = context.layoutInfo.codable;\n    this.$window = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(window);\n
    \   this.$scrollbar = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('html,
    body');\n\n    this.onResize = function () {\n      _this.resizeTo({\n        h:
    _this.$window.height() - _this.$toolbar.outerHeight()\n      });\n    };\n  }\n\n
    \ Fullscreen_createClass(Fullscreen, [{\n    key: \"resizeTo\",\n    value: function
    resizeTo(size) {\n      this.$editable.css('height', size.h);\n      this.$codable.css('height',
    size.h);\n\n      if (this.$codable.data('cmeditor')) {\n        this.$codable.data('cmeditor').setsize(null,
    size.h);\n      }\n    }\n    /**\n     * toggle fullscreen\n     */\n\n  }, {\n
    \   key: \"toggle\",\n    value: function toggle() {\n      this.$editor.toggleClass('fullscreen');\n\n
    \     if (this.isFullscreen()) {\n        this.$editable.data('orgHeight', this.$editable.css('height'));\n
    \       this.$editable.data('orgMaxHeight', this.$editable.css('maxHeight'));\n
    \       this.$editable.css('maxHeight', '');\n        this.$window.on('resize',
    this.onResize).trigger('resize');\n        this.$scrollbar.css('overflow', 'hidden');\n
    \     } else {\n        this.$window.off('resize', this.onResize);\n        this.resizeTo({\n
    \         h: this.$editable.data('orgHeight')\n        });\n        this.$editable.css('maxHeight',
    this.$editable.css('orgMaxHeight'));\n        this.$scrollbar.css('overflow',
    'visible');\n      }\n\n      this.context.invoke('toolbar.updateFullscreen',
    this.isFullscreen());\n    }\n  }, {\n    key: \"isFullscreen\",\n    value: function
    isFullscreen() {\n      return this.$editor.hasClass('fullscreen');\n    }\n  }]);\n\n
    \ return Fullscreen;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Handle.js\nfunction
    Handle_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Handle_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Handle_createClass(Constructor, protoProps, staticProps) { if (protoProps) Handle_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Handle_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\nvar Handle_Handle = /*#__PURE__*/function () {\n
    \ function Handle(context) {\n    var _this = this;\n\n    Handle_classCallCheck(this,
    Handle);\n\n    this.context = context;\n    this.$document = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);\n
    \   this.$editingArea = context.layoutInfo.editingArea;\n    this.options = context.options;\n
    \   this.lang = this.options.langInfo;\n    this.events = {\n      'summernote.mousedown':
    function summernoteMousedown(we, e) {\n        if (_this.update(e.target, e))
    {\n          e.preventDefault();\n        }\n      },\n      'summernote.keyup
    summernote.scroll summernote.change summernote.dialog.shown': function summernoteKeyupSummernoteScrollSummernoteChangeSummernoteDialogShown()
    {\n        _this.update();\n      },\n      'summernote.disable summernote.blur':
    function summernoteDisableSummernoteBlur() {\n        _this.hide();\n      },\n
    \     'summernote.codeview.toggled': function summernoteCodeviewToggled() {\n
    \       _this.update();\n      }\n    };\n  }\n\n  Handle_createClass(Handle,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2
    = this;\n\n      this.$handle = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(['<div
    class=\"note-handle\">', '<div class=\"note-control-selection\">', '<div class=\"note-control-selection-bg\"></div>',
    '<div class=\"note-control-holder note-control-nw\"></div>', '<div class=\"note-control-holder
    note-control-ne\"></div>', '<div class=\"note-control-holder note-control-sw\"></div>',
    '<div class=\"', this.options.disableResizeImage ? 'note-control-holder' : 'note-control-sizing',
    ' note-control-se\"></div>', this.options.disableResizeImage ? '' : '<div class=\"note-control-selection-info\"></div>',
    '</div>', '</div>'].join('')).prependTo(this.$editingArea);\n      this.$handle.on('mousedown',
    function (event) {\n        if (dom.isControlSizing(event.target)) {\n          event.preventDefault();\n
    \         event.stopPropagation();\n\n          var $target = _this2.$handle.find('.note-control-selection').data('target');\n\n
    \         var posStart = $target.offset();\n\n          var scrollTop = _this2.$document.scrollTop();\n\n
    \         var onMouseMove = function onMouseMove(event) {\n            _this2.context.invoke('editor.resizeTo',
    {\n              x: event.clientX - posStart.left,\n              y: event.clientY
    - (posStart.top - scrollTop)\n            }, $target, !event.shiftKey);\n\n            _this2.update($target[0],
    event);\n          };\n\n          _this2.$document.on('mousemove', onMouseMove).one('mouseup',
    function (e) {\n            e.preventDefault();\n\n            _this2.$document.off('mousemove',
    onMouseMove);\n\n            _this2.context.invoke('editor.afterCommand');\n          });\n\n
    \         if (!$target.data('ratio')) {\n            // original ratio.\n            $target.data('ratio',
    $target.height() / $target.width());\n          }\n        }\n      }); // Listen
    for scrolling on the handle overlay.\n\n      this.$handle.on('wheel', function
    (e) {\n        e.preventDefault();\n\n        _this2.update();\n      });\n    }\n
    \ }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.$handle.remove();\n
    \   }\n  }, {\n    key: \"update\",\n    value: function update(target, event)
    {\n      if (this.context.isDisabled()) {\n        return false;\n      }\n\n
    \     var isImage = dom.isImg(target);\n      var $selection = this.$handle.find('.note-control-selection');\n
    \     this.context.invoke('imagePopover.update', target, event);\n\n      if (isImage)
    {\n        var $image = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(target);\n
    \       var position = $image.position();\n        var pos = {\n          left:
    position.left + parseInt($image.css('marginLeft'), 10),\n          top: position.top
    + parseInt($image.css('marginTop'), 10)\n        }; // exclude margin\n\n        var
    imageSize = {\n          w: $image.outerWidth(false),\n          h: $image.outerHeight(false)\n
    \       };\n        $selection.css({\n          display: 'block',\n          left:
    pos.left,\n          top: pos.top,\n          width: imageSize.w,\n          height:
    imageSize.h\n        }).data('target', $image); // save current image element.\n\n
    \       var origImageObj = new Image();\n        origImageObj.src = $image.attr('src');\n
    \       var sizingText = imageSize.w + 'x' + imageSize.h + ' (' + this.lang.image.original
    + ': ' + origImageObj.width + 'x' + origImageObj.height + ')';\n        $selection.find('.note-control-selection-info').text(sizingText);\n
    \       this.context.invoke('editor.saveTarget', target);\n      } else {\n        this.hide();\n
    \     }\n\n      return isImage;\n    }\n    /**\n     * hide\n     *\n     *
    @param {jQuery} $handle\n     */\n\n  }, {\n    key: \"hide\",\n    value: function
    hide() {\n      this.context.invoke('editor.clearTarget');\n      this.$handle.children().hide();\n
    \   }\n  }]);\n\n  return Handle;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/AutoLink.js\nfunction
    AutoLink_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    AutoLink_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    AutoLink_createClass(Constructor, protoProps, staticProps) { if (protoProps) AutoLink_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) AutoLink_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\nvar defaultScheme = 'http://';\nvar linkPattern
    = /^([A-Za-z][A-Za-z0-9+-.]*\\:[\\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@)?(www\\.)?(.+)$/i;\n\nvar
    AutoLink_AutoLink = /*#__PURE__*/function () {\n  function AutoLink(context) {\n
    \   var _this = this;\n\n    AutoLink_classCallCheck(this, AutoLink);\n\n    this.context
    = context;\n    this.options = context.options;\n    this.events = {\n      'summernote.keyup':
    function summernoteKeyup(we, e) {\n        if (!e.isDefaultPrevented()) {\n          _this.handleKeyup(e);\n
    \       }\n      },\n      'summernote.keydown': function summernoteKeydown(we,
    e) {\n        _this.handleKeydown(e);\n      }\n    };\n  }\n\n  AutoLink_createClass(AutoLink,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      this.lastWordRange
    = null;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n
    \     this.lastWordRange = null;\n    }\n  }, {\n    key: \"replace\",\n    value:
    function replace() {\n      if (!this.lastWordRange) {\n        return;\n      }\n\n
    \     var keyword = this.lastWordRange.toString();\n      var match = keyword.match(linkPattern);\n\n
    \     if (match && (match[1] || match[2])) {\n        var link = match[1] ? keyword
    : defaultScheme + keyword;\n        var urlText = this.options.showDomainOnlyForAutolink
    ? keyword.replace(/^(?:https?:\\/\\/)?(?:tel?:?)?(?:mailto?:?)?(?:www\\.)?/i,
    '').split('/')[0] : keyword;\n        var node = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<a
    />').html(urlText).attr('href', link)[0];\n\n        if (this.context.options.linkTargetBlank)
    {\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).attr('target',
    '_blank');\n        }\n\n        this.lastWordRange.insertNode(node);\n        this.lastWordRange
    = null;\n        this.context.invoke('editor.focus');\n      }\n    }\n  }, {\n
    \   key: \"handleKeydown\",\n    value: function handleKeydown(e) {\n      if
    (lists.contains([core_key.code.ENTER, core_key.code.SPACE], e.keyCode)) {\n        var
    wordRange = this.context.invoke('editor.createRange').getWordRange();\n        this.lastWordRange
    = wordRange;\n      }\n    }\n  }, {\n    key: \"handleKeyup\",\n    value: function
    handleKeyup(e) {\n      if (lists.contains([core_key.code.ENTER, core_key.code.SPACE],
    e.keyCode)) {\n        this.replace();\n      }\n    }\n  }]);\n\n  return AutoLink;\n}();\n\n\n//
    CONCATENATED MODULE: ./src/js/base/module/AutoSync.js\nfunction AutoSync_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction AutoSync_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction AutoSync_createClass(Constructor, protoProps, staticProps)
    { if (protoProps) AutoSync_defineProperties(Constructor.prototype, protoProps);
    if (staticProps) AutoSync_defineProperties(Constructor, staticProps); return Constructor;
    }\n\n\n/**\n * textarea auto sync.\n */\n\nvar AutoSync_AutoSync = /*#__PURE__*/function
    () {\n  function AutoSync(context) {\n    var _this = this;\n\n    AutoSync_classCallCheck(this,
    AutoSync);\n\n    this.$note = context.layoutInfo.note;\n    this.events = {\n
    \     'summernote.change': function summernoteChange() {\n        _this.$note.val(context.invoke('code'));\n
    \     }\n    };\n  }\n\n  AutoSync_createClass(AutoSync, [{\n    key: \"shouldInitialize\",\n
    \   value: function shouldInitialize() {\n      return dom.isTextarea(this.$note[0]);\n
    \   }\n  }]);\n\n  return AutoSync;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/AutoReplace.js\nfunction
    AutoReplace_classCallCheck(instance, Constructor) { if (!(instance instanceof
    Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); }
    }\n\nfunction AutoReplace_defineProperties(target, props) { for (var i = 0; i
    < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    AutoReplace_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    AutoReplace_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    AutoReplace_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar
    AutoReplace_AutoReplace = /*#__PURE__*/function () {\n  function AutoReplace(context)
    {\n    var _this = this;\n\n    AutoReplace_classCallCheck(this, AutoReplace);\n\n
    \   this.context = context;\n    this.options = context.options.replace || {};\n
    \   this.keys = [core_key.code.ENTER, core_key.code.SPACE, core_key.code.PERIOD,
    core_key.code.COMMA, core_key.code.SEMICOLON, core_key.code.SLASH];\n    this.previousKeydownCode
    = null;\n    this.events = {\n      'summernote.keyup': function summernoteKeyup(we,
    e) {\n        if (!e.isDefaultPrevented()) {\n          _this.handleKeyup(e);\n
    \       }\n      },\n      'summernote.keydown': function summernoteKeydown(we,
    e) {\n        _this.handleKeydown(e);\n      }\n    };\n  }\n\n  AutoReplace_createClass(AutoReplace,
    [{\n    key: \"shouldInitialize\",\n    value: function shouldInitialize() {\n
    \     return !!this.options.match;\n    }\n  }, {\n    key: \"initialize\",\n
    \   value: function initialize() {\n      this.lastWord = null;\n    }\n  }, {\n
    \   key: \"destroy\",\n    value: function destroy() {\n      this.lastWord =
    null;\n    }\n  }, {\n    key: \"replace\",\n    value: function replace() {\n
    \     if (!this.lastWord) {\n        return;\n      }\n\n      var self = this;\n
    \     var keyword = this.lastWord.toString();\n      this.options.match(keyword,
    function (match) {\n        if (match) {\n          var node = '';\n\n          if
    (typeof match === 'string') {\n            node = dom.createText(match);\n          }
    else if (match instanceof jQuery) {\n            node = match[0];\n          }
    else if (match instanceof Node) {\n            node = match;\n          }\n\n
    \         if (!node) return;\n          self.lastWord.insertNode(node);\n          self.lastWord
    = null;\n          self.context.invoke('editor.focus');\n        }\n      });\n
    \   }\n  }, {\n    key: \"handleKeydown\",\n    value: function handleKeydown(e)
    {\n      // this forces it to remember the last whole word, even if multiple termination
    keys are pressed\n      // before the previous key is let go.\n      if (this.previousKeydownCode
    && lists.contains(this.keys, this.previousKeydownCode)) {\n        this.previousKeydownCode
    = e.keyCode;\n        return;\n      }\n\n      if (lists.contains(this.keys,
    e.keyCode)) {\n        var wordRange = this.context.invoke('editor.createRange').getWordRange();\n
    \       this.lastWord = wordRange;\n      }\n\n      this.previousKeydownCode
    = e.keyCode;\n    }\n  }, {\n    key: \"handleKeyup\",\n    value: function handleKeyup(e)
    {\n      if (lists.contains(this.keys, e.keyCode)) {\n        this.replace();\n
    \     }\n    }\n  }]);\n\n  return AutoReplace;\n}();\n\n\n// CONCATENATED MODULE:
    ./src/js/base/module/Placeholder.js\nfunction Placeholder_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction Placeholder_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction Placeholder_createClass(Constructor, protoProps,
    staticProps) { if (protoProps) Placeholder_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Placeholder_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\nvar Placeholder_Placeholder = /*#__PURE__*/function
    () {\n  function Placeholder(context) {\n    var _this = this;\n\n    Placeholder_classCallCheck(this,
    Placeholder);\n\n    this.context = context;\n    this.$editingArea = context.layoutInfo.editingArea;\n
    \   this.options = context.options;\n\n    if (this.options.inheritPlaceholder
    === true) {\n      // get placeholder value from the original element\n      this.options.placeholder
    = this.context.$note.attr('placeholder') || this.options.placeholder;\n    }\n\n
    \   this.events = {\n      'summernote.init summernote.change': function summernoteInitSummernoteChange()
    {\n        _this.update();\n      },\n      'summernote.codeview.toggled': function
    summernoteCodeviewToggled() {\n        _this.update();\n      }\n    };\n  }\n\n
    \ Placeholder_createClass(Placeholder, [{\n    key: \"shouldInitialize\",\n    value:
    function shouldInitialize() {\n      return !!this.options.placeholder;\n    }\n
    \ }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var
    _this2 = this;\n\n      this.$placeholder = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div
    class=\"note-placeholder\">');\n      this.$placeholder.on('click', function ()
    {\n        _this2.context.invoke('focus');\n      }).html(this.options.placeholder).prependTo(this.$editingArea);\n
    \     this.update();\n    }\n  }, {\n    key: \"destroy\",\n    value: function
    destroy() {\n      this.$placeholder.remove();\n    }\n  }, {\n    key: \"update\",\n
    \   value: function update() {\n      var isShow = !this.context.invoke('codeview.isActivated')
    && this.context.invoke('editor.isEmpty');\n      this.$placeholder.toggle(isShow);\n
    \   }\n  }]);\n\n  return Placeholder;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Buttons.js\nfunction
    Buttons_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Buttons_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Buttons_createClass(Constructor, protoProps, staticProps) { if (protoProps) Buttons_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Buttons_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n\nvar Buttons_Buttons = /*#__PURE__*/function
    () {\n  function Buttons(context) {\n    Buttons_classCallCheck(this, Buttons);\n\n
    \   this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.context = context;\n    this.$toolbar = context.layoutInfo.toolbar;\n
    \   this.options = context.options;\n    this.lang = this.options.langInfo;\n
    \   this.invertedKeyMap = func.invertObject(this.options.keyMap[env.isMac ? 'mac'
    : 'pc']);\n  }\n\n  Buttons_createClass(Buttons, [{\n    key: \"representShortcut\",\n
    \   value: function representShortcut(editorMethod) {\n      var shortcut = this.invertedKeyMap[editorMethod];\n\n
    \     if (!this.options.shortcuts || !shortcut) {\n        return '';\n      }\n\n
    \     if (env.isMac) {\n        shortcut = shortcut.replace('CMD', '⌘').replace('SHIFT',
    '⇧');\n      }\n\n      shortcut = shortcut.replace('BACKSLASH', '\\\\').replace('SLASH',
    '/').replace('LEFTBRACKET', '[').replace('RIGHTBRACKET', ']');\n      return '
    (' + shortcut + ')';\n    }\n  }, {\n    key: \"button\",\n    value: function
    button(o) {\n      if (!this.options.tooltip && o.tooltip) {\n        delete o.tooltip;\n
    \     }\n\n      o.container = this.options.container;\n      return this.ui.button(o);\n
    \   }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n
    \     this.addToolbarButtons();\n      this.addImagePopoverButtons();\n      this.addLinkPopoverButtons();\n
    \     this.addTablePopoverButtons();\n      this.fontInstalledMap = {};\n    }\n
    \ }, {\n    key: \"destroy\",\n    value: function destroy() {\n      delete this.fontInstalledMap;\n
    \   }\n  }, {\n    key: \"isFontInstalled\",\n    value: function isFontInstalled(name)
    {\n      if (!Object.prototype.hasOwnProperty.call(this.fontInstalledMap, name))
    {\n        this.fontInstalledMap[name] = env.isFontInstalled(name) || lists.contains(this.options.fontNamesIgnoreCheck,
    name);\n      }\n\n      return this.fontInstalledMap[name];\n    }\n  }, {\n
    \   key: \"isFontDeservedToAdd\",\n    value: function isFontDeservedToAdd(name)
    {\n      name = name.toLowerCase();\n      return name !== '' && this.isFontInstalled(name)
    && env.genericFontFamilies.indexOf(name) === -1;\n    }\n  }, {\n    key: \"colorPalette\",\n
    \   value: function colorPalette(className, tooltip, backColor, foreColor) {\n
    \     var _this = this;\n\n      return this.ui.buttonGroup({\n        className:
    'note-color ' + className,\n        children: [this.button({\n          className:
    'note-current-color-button',\n          contents: this.ui.icon(this.options.icons.font
    + ' note-recent-color'),\n          tooltip: tooltip,\n          click: function
    click(e) {\n            var $button = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(e.currentTarget);\n\n
    \           if (backColor && foreColor) {\n              _this.context.invoke('editor.color',
    {\n                backColor: $button.attr('data-backColor'),\n                foreColor:
    $button.attr('data-foreColor')\n              });\n            } else if (backColor)
    {\n              _this.context.invoke('editor.color', {\n                backColor:
    $button.attr('data-backColor')\n              });\n            } else if (foreColor)
    {\n              _this.context.invoke('editor.color', {\n                foreColor:
    $button.attr('data-foreColor')\n              });\n            }\n          },\n
    \         callback: function callback($button) {\n            var $recentColor
    = $button.find('.note-recent-color');\n\n            if (backColor) {\n              $recentColor.css('background-color',
    _this.options.colorButton.backColor);\n              $button.attr('data-backColor',
    _this.options.colorButton.backColor);\n            }\n\n            if (foreColor)
    {\n              $recentColor.css('color', _this.options.colorButton.foreColor);\n
    \             $button.attr('data-foreColor', _this.options.colorButton.foreColor);\n
    \           } else {\n              $recentColor.css('color', 'transparent');\n
    \           }\n          }\n        }), this.button({\n          className: 'dropdown-toggle',\n
    \         contents: this.ui.dropdownButtonContents('', this.options),\n          tooltip:
    this.lang.color.more,\n          data: {\n            toggle: 'dropdown'\n          }\n
    \       }), this.ui.dropdown({\n          items: (backColor ? ['<div class=\"note-palette\">',
    '<div class=\"note-palette-title\">' + this.lang.color.background + '</div>',
    '<div>', '<button type=\"button\" class=\"note-color-reset btn btn-light btn-default\"
    data-event=\"backColor\" data-value=\"transparent\">', this.lang.color.transparent,
    '</button>', '</div>', '<div class=\"note-holder\" data-event=\"backColor\"><!--
    back colors --></div>', '<div>', '<button type=\"button\" class=\"note-color-select
    btn btn-light btn-default\" data-event=\"openPalette\" data-value=\"backColorPicker\">',
    this.lang.color.cpSelect, '</button>', '<input type=\"color\" id=\"backColorPicker\"
    class=\"note-btn note-color-select-btn\" value=\"' + this.options.colorButton.backColor
    + '\" data-event=\"backColorPalette\">', '</div>', '<div class=\"note-holder-custom\"
    id=\"backColorPalette\" data-event=\"backColor\"></div>', '</div>'].join('') :
    '') + (foreColor ? ['<div class=\"note-palette\">', '<div class=\"note-palette-title\">'
    + this.lang.color.foreground + '</div>', '<div>', '<button type=\"button\" class=\"note-color-reset
    btn btn-light btn-default\" data-event=\"removeFormat\" data-value=\"foreColor\">',
    this.lang.color.resetToDefault, '</button>', '</div>', '<div class=\"note-holder\"
    data-event=\"foreColor\"><!-- fore colors --></div>', '<div>', '<button type=\"button\"
    class=\"note-color-select btn btn-light btn-default\" data-event=\"openPalette\"
    data-value=\"foreColorPicker\">', this.lang.color.cpSelect, '</button>', '<input
    type=\"color\" id=\"foreColorPicker\" class=\"note-btn note-color-select-btn\"
    value=\"' + this.options.colorButton.foreColor + '\" data-event=\"foreColorPalette\">',
    '</div>', // Fix missing Div, Commented to find easily if it's wrong\n          '<div
    class=\"note-holder-custom\" id=\"foreColorPalette\" data-event=\"foreColor\"></div>',
    '</div>'].join('') : ''),\n          callback: function callback($dropdown) {\n
    \           $dropdown.find('.note-holder').each(function (idx, item) {\n              var
    $holder = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);\n
    \             $holder.append(_this.ui.palette({\n                colors: _this.options.colors,\n
    \               colorsName: _this.options.colorsName,\n                eventName:
    $holder.data('event'),\n                container: _this.options.container,\n
    \               tooltip: _this.options.tooltip\n              }).render());\n
    \           });\n            /* TODO: do we have to record recent custom colors
    within cookies? */\n\n            var customColors = [['#FFFFFF', '#FFFFFF', '#FFFFFF',
    '#FFFFFF', '#FFFFFF', '#FFFFFF', '#FFFFFF', '#FFFFFF']];\n            $dropdown.find('.note-holder-custom').each(function
    (idx, item) {\n              var $holder = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);\n
    \             $holder.append(_this.ui.palette({\n                colors: customColors,\n
    \               colorsName: customColors,\n                eventName: $holder.data('event'),\n
    \               container: _this.options.container,\n                tooltip:
    _this.options.tooltip\n              }).render());\n            });\n            $dropdown.find('input[type=color]').each(function
    (idx, item) {\n              external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item).change(function
    () {\n                var $chip = $dropdown.find('#' + external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this).data('event')).find('.note-color-btn').first();\n
    \               var color = this.value.toUpperCase();\n                $chip.css('background-color',
    color).attr('aria-label', color).attr('data-value', color).attr('data-original-title',
    color);\n                $chip.click();\n              });\n            });\n
    \         },\n          click: function click(event) {\n            event.stopPropagation();\n
    \           var $parent = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('.'
    + className).find('.note-dropdown-menu');\n            var $button = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target);\n
    \           var eventName = $button.data('event');\n            var value = $button.attr('data-value');\n\n
    \           if (eventName === 'openPalette') {\n              var $picker = $parent.find('#'
    + value);\n              var $palette = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()($parent.find('#'
    + $picker.data('event')).find('.note-color-row')[0]); // Shift palette chips\n\n
    \             var $chip = $palette.find('.note-color-btn').last().detach(); //
    Set chip attributes\n\n              var color = $picker.val();\n              $chip.css('background-color',
    color).attr('aria-label', color).attr('data-value', color).attr('data-original-title',
    color);\n              $palette.prepend($chip);\n              $picker.click();\n
    \           } else {\n              if (lists.contains(['backColor', 'foreColor'],
    eventName)) {\n                var key = eventName === 'backColor' ? 'background-color'
    : 'color';\n                var $color = $button.closest('.note-color').find('.note-recent-color');\n
    \               var $currentButton = $button.closest('.note-color').find('.note-current-color-button');\n
    \               $color.css(key, value);\n                $currentButton.attr('data-'
    + eventName, value);\n              }\n\n              _this.context.invoke('editor.'
    + eventName, value);\n            }\n          }\n        })]\n      }).render();\n
    \   }\n  }, {\n    key: \"addToolbarButtons\",\n    value: function addToolbarButtons()
    {\n      var _this2 = this;\n\n      this.context.memo('button.style', function
    () {\n        return _this2.ui.buttonGroup([_this2.button({\n          className:
    'dropdown-toggle',\n          contents: _this2.ui.dropdownButtonContents(_this2.ui.icon(_this2.options.icons.magic),
    _this2.options),\n          tooltip: _this2.lang.style.style,\n          data:
    {\n            toggle: 'dropdown'\n          }\n        }), _this2.ui.dropdown({\n
    \         className: 'dropdown-style',\n          items: _this2.options.styleTags,\n
    \         title: _this2.lang.style.style,\n          template: function template(item)
    {\n            // TBD: need to be simplified\n            if (typeof item ===
    'string') {\n              item = {\n                tag: item,\n                title:
    Object.prototype.hasOwnProperty.call(_this2.lang.style, item) ? _this2.lang.style[item]
    : item\n              };\n            }\n\n            var tag = item.tag;\n            var
    title = item.title;\n            var style = item.style ? ' style=\"' + item.style
    + '\" ' : '';\n            var className = item.className ? ' class=\"' + item.className
    + '\"' : '';\n            return '<' + tag + style + className + '>' + title +
    '</' + tag + '>';\n          },\n          click: _this2.context.createInvokeHandler('editor.formatBlock')\n
    \       })]).render();\n      });\n\n      var _loop = function _loop(styleIdx,
    styleLen) {\n        var item = _this2.options.styleTags[styleIdx];\n\n        _this2.context.memo('button.style.'
    + item, function () {\n          return _this2.button({\n            className:
    'note-btn-style-' + item,\n            contents: '<div data-value=\"' + item +
    '\">' + item.toUpperCase() + '</div>',\n            tooltip: _this2.lang.style[item],\n
    \           click: _this2.context.createInvokeHandler('editor.formatBlock')\n
    \         }).render();\n        });\n      };\n\n      for (var styleIdx = 0,
    styleLen = this.options.styleTags.length; styleIdx < styleLen; styleIdx++) {\n
    \       _loop(styleIdx, styleLen);\n      }\n\n      this.context.memo('button.bold',
    function () {\n        return _this2.button({\n          className: 'note-btn-bold',\n
    \         contents: _this2.ui.icon(_this2.options.icons.bold),\n          tooltip:
    _this2.lang.font.bold + _this2.representShortcut('bold'),\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.bold')\n
    \       }).render();\n      });\n      this.context.memo('button.italic', function
    () {\n        return _this2.button({\n          className: 'note-btn-italic',\n
    \         contents: _this2.ui.icon(_this2.options.icons.italic),\n          tooltip:
    _this2.lang.font.italic + _this2.representShortcut('italic'),\n          click:
    _this2.context.createInvokeHandlerAndUpdateState('editor.italic')\n        }).render();\n
    \     });\n      this.context.memo('button.underline', function () {\n        return
    _this2.button({\n          className: 'note-btn-underline',\n          contents:
    _this2.ui.icon(_this2.options.icons.underline),\n          tooltip: _this2.lang.font.underline
    + _this2.representShortcut('underline'),\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.underline')\n
    \       }).render();\n      });\n      this.context.memo('button.clear', function
    () {\n        return _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.eraser),\n
    \         tooltip: _this2.lang.font.clear + _this2.representShortcut('removeFormat'),\n
    \         click: _this2.context.createInvokeHandler('editor.removeFormat')\n        }).render();\n
    \     });\n      this.context.memo('button.strikethrough', function () {\n        return
    _this2.button({\n          className: 'note-btn-strikethrough',\n          contents:
    _this2.ui.icon(_this2.options.icons.strikethrough),\n          tooltip: _this2.lang.font.strikethrough
    + _this2.representShortcut('strikethrough'),\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.strikethrough')\n
    \       }).render();\n      });\n      this.context.memo('button.superscript',
    function () {\n        return _this2.button({\n          className: 'note-btn-superscript',\n
    \         contents: _this2.ui.icon(_this2.options.icons.superscript),\n          tooltip:
    _this2.lang.font.superscript,\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.superscript')\n
    \       }).render();\n      });\n      this.context.memo('button.subscript', function
    () {\n        return _this2.button({\n          className: 'note-btn-subscript',\n
    \         contents: _this2.ui.icon(_this2.options.icons.subscript),\n          tooltip:
    _this2.lang.font.subscript,\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.subscript')\n
    \       }).render();\n      });\n      this.context.memo('button.fontname', function
    () {\n        var styleInfo = _this2.context.invoke('editor.currentStyle');\n\n
    \       if (_this2.options.addDefaultFonts) {\n          // Add 'default' fonts
    into the fontnames array if not exist\n          external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(styleInfo['font-family'].split(','),
    function (idx, fontname) {\n            fontname = fontname.trim().replace(/['\"]+/g,
    '');\n\n            if (_this2.isFontDeservedToAdd(fontname)) {\n              if
    (_this2.options.fontNames.indexOf(fontname) === -1) {\n                _this2.options.fontNames.push(fontname);\n
    \             }\n            }\n          });\n        }\n\n        return _this2.ui.buttonGroup([_this2.button({\n
    \         className: 'dropdown-toggle',\n          contents: _this2.ui.dropdownButtonContents('<span
    class=\"note-current-fontname\"></span>', _this2.options),\n          tooltip:
    _this2.lang.font.name,\n          data: {\n            toggle: 'dropdown'\n          }\n
    \       }), _this2.ui.dropdownCheck({\n          className: 'dropdown-fontname',\n
    \         checkClassName: _this2.options.icons.menuCheck,\n          items: _this2.options.fontNames.filter(_this2.isFontInstalled.bind(_this2)),\n
    \         title: _this2.lang.font.name,\n          template: function template(item)
    {\n            return '<span style=\"font-family: ' + env.validFontName(item)
    + '\">' + item + '</span>';\n          },\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.fontName')\n
    \       })]).render();\n      });\n      this.context.memo('button.fontsize',
    function () {\n        return _this2.ui.buttonGroup([_this2.button({\n          className:
    'dropdown-toggle',\n          contents: _this2.ui.dropdownButtonContents('<span
    class=\"note-current-fontsize\"></span>', _this2.options),\n          tooltip:
    _this2.lang.font.size,\n          data: {\n            toggle: 'dropdown'\n          }\n
    \       }), _this2.ui.dropdownCheck({\n          className: 'dropdown-fontsize',\n
    \         checkClassName: _this2.options.icons.menuCheck,\n          items: _this2.options.fontSizes,\n
    \         title: _this2.lang.font.size,\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.fontSize')\n
    \       })]).render();\n      });\n      this.context.memo('button.fontsizeunit',
    function () {\n        return _this2.ui.buttonGroup([_this2.button({\n          className:
    'dropdown-toggle',\n          contents: _this2.ui.dropdownButtonContents('<span
    class=\"note-current-fontsizeunit\"></span>', _this2.options),\n          tooltip:
    _this2.lang.font.sizeunit,\n          data: {\n            toggle: 'dropdown'\n
    \         }\n        }), _this2.ui.dropdownCheck({\n          className: 'dropdown-fontsizeunit',\n
    \         checkClassName: _this2.options.icons.menuCheck,\n          items: _this2.options.fontSizeUnits,\n
    \         title: _this2.lang.font.sizeunit,\n          click: _this2.context.createInvokeHandlerAndUpdateState('editor.fontSizeUnit')\n
    \       })]).render();\n      });\n      this.context.memo('button.color', function
    () {\n        return _this2.colorPalette('note-color-all', _this2.lang.color.recent,
    true, true);\n      });\n      this.context.memo('button.forecolor', function
    () {\n        return _this2.colorPalette('note-color-fore', _this2.lang.color.foreground,
    false, true);\n      });\n      this.context.memo('button.backcolor', function
    () {\n        return _this2.colorPalette('note-color-back', _this2.lang.color.background,
    true, false);\n      });\n      this.context.memo('button.ul', function () {\n
    \       return _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.unorderedlist),\n
    \         tooltip: _this2.lang.lists.unordered + _this2.representShortcut('insertUnorderedList'),\n
    \         click: _this2.context.createInvokeHandler('editor.insertUnorderedList')\n
    \       }).render();\n      });\n      this.context.memo('button.ol', function
    () {\n        return _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.orderedlist),\n
    \         tooltip: _this2.lang.lists.ordered + _this2.representShortcut('insertOrderedList'),\n
    \         click: _this2.context.createInvokeHandler('editor.insertOrderedList')\n
    \       }).render();\n      });\n      var justifyLeft = this.button({\n        contents:
    this.ui.icon(this.options.icons.alignLeft),\n        tooltip: this.lang.paragraph.left
    + this.representShortcut('justifyLeft'),\n        click: this.context.createInvokeHandler('editor.justifyLeft')\n
    \     });\n      var justifyCenter = this.button({\n        contents: this.ui.icon(this.options.icons.alignCenter),\n
    \       tooltip: this.lang.paragraph.center + this.representShortcut('justifyCenter'),\n
    \       click: this.context.createInvokeHandler('editor.justifyCenter')\n      });\n
    \     var justifyRight = this.button({\n        contents: this.ui.icon(this.options.icons.alignRight),\n
    \       tooltip: this.lang.paragraph.right + this.representShortcut('justifyRight'),\n
    \       click: this.context.createInvokeHandler('editor.justifyRight')\n      });\n
    \     var justifyFull = this.button({\n        contents: this.ui.icon(this.options.icons.alignJustify),\n
    \       tooltip: this.lang.paragraph.justify + this.representShortcut('justifyFull'),\n
    \       click: this.context.createInvokeHandler('editor.justifyFull')\n      });\n
    \     var outdent = this.button({\n        contents: this.ui.icon(this.options.icons.outdent),\n
    \       tooltip: this.lang.paragraph.outdent + this.representShortcut('outdent'),\n
    \       click: this.context.createInvokeHandler('editor.outdent')\n      });\n
    \     var indent = this.button({\n        contents: this.ui.icon(this.options.icons.indent),\n
    \       tooltip: this.lang.paragraph.indent + this.representShortcut('indent'),\n
    \       click: this.context.createInvokeHandler('editor.indent')\n      });\n
    \     this.context.memo('button.justifyLeft', func.invoke(justifyLeft, 'render'));\n
    \     this.context.memo('button.justifyCenter', func.invoke(justifyCenter, 'render'));\n
    \     this.context.memo('button.justifyRight', func.invoke(justifyRight, 'render'));\n
    \     this.context.memo('button.justifyFull', func.invoke(justifyFull, 'render'));\n
    \     this.context.memo('button.outdent', func.invoke(outdent, 'render'));\n      this.context.memo('button.indent',
    func.invoke(indent, 'render'));\n      this.context.memo('button.paragraph', function
    () {\n        return _this2.ui.buttonGroup([_this2.button({\n          className:
    'dropdown-toggle',\n          contents: _this2.ui.dropdownButtonContents(_this2.ui.icon(_this2.options.icons.alignLeft),
    _this2.options),\n          tooltip: _this2.lang.paragraph.paragraph,\n          data:
    {\n            toggle: 'dropdown'\n          }\n        }), _this2.ui.dropdown([_this2.ui.buttonGroup({\n
    \         className: 'note-align',\n          children: [justifyLeft, justifyCenter,
    justifyRight, justifyFull]\n        }), _this2.ui.buttonGroup({\n          className:
    'note-list',\n          children: [outdent, indent]\n        })])]).render();\n
    \     });\n      this.context.memo('button.height', function () {\n        return
    _this2.ui.buttonGroup([_this2.button({\n          className: 'dropdown-toggle',\n
    \         contents: _this2.ui.dropdownButtonContents(_this2.ui.icon(_this2.options.icons.textHeight),
    _this2.options),\n          tooltip: _this2.lang.font.height,\n          data:
    {\n            toggle: 'dropdown'\n          }\n        }), _this2.ui.dropdownCheck({\n
    \         items: _this2.options.lineHeights,\n          checkClassName: _this2.options.icons.menuCheck,\n
    \         className: 'dropdown-line-height',\n          title: _this2.lang.font.height,\n
    \         click: _this2.context.createInvokeHandler('editor.lineHeight')\n        })]).render();\n
    \     });\n      this.context.memo('button.table', function () {\n        return
    _this2.ui.buttonGroup([_this2.button({\n          className: 'dropdown-toggle',\n
    \         contents: _this2.ui.dropdownButtonContents(_this2.ui.icon(_this2.options.icons.table),
    _this2.options),\n          tooltip: _this2.lang.table.table,\n          data:
    {\n            toggle: 'dropdown'\n          }\n        }), _this2.ui.dropdown({\n
    \         title: _this2.lang.table.table,\n          className: 'note-table',\n
    \         items: ['<div class=\"note-dimension-picker\">', '<div class=\"note-dimension-picker-mousecatcher\"
    data-event=\"insertTable\" data-value=\"1x1\"></div>', '<div class=\"note-dimension-picker-highlighted\"></div>',
    '<div class=\"note-dimension-picker-unhighlighted\"></div>', '</div>', '<div class=\"note-dimension-display\">1
    x 1</div>'].join('')\n        })], {\n          callback: function callback($node)
    {\n            var $catcher = $node.find('.note-dimension-picker-mousecatcher');\n
    \           $catcher.css({\n              width: _this2.options.insertTableMaxSize.col
    + 'em',\n              height: _this2.options.insertTableMaxSize.row + 'em'\n
    \           }).mousedown(_this2.context.createInvokeHandler('editor.insertTable')).on('mousemove',
    _this2.tableMoveHandler.bind(_this2));\n          }\n        }).render();\n      });\n
    \     this.context.memo('button.link', function () {\n        return _this2.button({\n
    \         contents: _this2.ui.icon(_this2.options.icons.link),\n          tooltip:
    _this2.lang.link.link + _this2.representShortcut('linkDialog.show'),\n          click:
    _this2.context.createInvokeHandler('linkDialog.show')\n        }).render();\n
    \     });\n      this.context.memo('button.picture', function () {\n        return
    _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.picture),\n
    \         tooltip: _this2.lang.image.image,\n          click: _this2.context.createInvokeHandler('imageDialog.show')\n
    \       }).render();\n      });\n      this.context.memo('button.video', function
    () {\n        return _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.video),\n
    \         tooltip: _this2.lang.video.video,\n          click: _this2.context.createInvokeHandler('videoDialog.show')\n
    \       }).render();\n      });\n      this.context.memo('button.hr', function
    () {\n        return _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.minus),\n
    \         tooltip: _this2.lang.hr.insert + _this2.representShortcut('insertHorizontalRule'),\n
    \         click: _this2.context.createInvokeHandler('editor.insertHorizontalRule')\n
    \       }).render();\n      });\n      this.context.memo('button.fullscreen',
    function () {\n        return _this2.button({\n          className: 'btn-fullscreen
    note-codeview-keep',\n          contents: _this2.ui.icon(_this2.options.icons.arrowsAlt),\n
    \         tooltip: _this2.lang.options.fullscreen,\n          click: _this2.context.createInvokeHandler('fullscreen.toggle')\n
    \       }).render();\n      });\n      this.context.memo('button.codeview', function
    () {\n        return _this2.button({\n          className: 'btn-codeview note-codeview-keep',\n
    \         contents: _this2.ui.icon(_this2.options.icons.code),\n          tooltip:
    _this2.lang.options.codeview,\n          click: _this2.context.createInvokeHandler('codeview.toggle')\n
    \       }).render();\n      });\n      this.context.memo('button.redo', function
    () {\n        return _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.redo),\n
    \         tooltip: _this2.lang.history.redo + _this2.representShortcut('redo'),\n
    \         click: _this2.context.createInvokeHandler('editor.redo')\n        }).render();\n
    \     });\n      this.context.memo('button.undo', function () {\n        return
    _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.undo),\n
    \         tooltip: _this2.lang.history.undo + _this2.representShortcut('undo'),\n
    \         click: _this2.context.createInvokeHandler('editor.undo')\n        }).render();\n
    \     });\n      this.context.memo('button.help', function () {\n        return
    _this2.button({\n          contents: _this2.ui.icon(_this2.options.icons.question),\n
    \         tooltip: _this2.lang.options.help,\n          click: _this2.context.createInvokeHandler('helpDialog.show')\n
    \       }).render();\n      });\n    }\n    /**\n     * image: [\n     *   ['imageResize',
    ['resizeFull', 'resizeHalf', 'resizeQuarter', 'resizeNone']],\n     *   ['float',
    ['floatLeft', 'floatRight', 'floatNone']],\n     *   ['remove', ['removeMedia']],\n
    \    * ],\n     */\n\n  }, {\n    key: \"addImagePopoverButtons\",\n    value:
    function addImagePopoverButtons() {\n      var _this3 = this;\n\n      // Image
    Size Buttons\n      this.context.memo('button.resizeFull', function () {\n        return
    _this3.button({\n          contents: '<span class=\"note-fontsize-10\">100%</span>',\n
    \         tooltip: _this3.lang.image.resizeFull,\n          click: _this3.context.createInvokeHandler('editor.resize',
    '1')\n        }).render();\n      });\n      this.context.memo('button.resizeHalf',
    function () {\n        return _this3.button({\n          contents: '<span class=\"note-fontsize-10\">50%</span>',\n
    \         tooltip: _this3.lang.image.resizeHalf,\n          click: _this3.context.createInvokeHandler('editor.resize',
    '0.5')\n        }).render();\n      });\n      this.context.memo('button.resizeQuarter',
    function () {\n        return _this3.button({\n          contents: '<span class=\"note-fontsize-10\">25%</span>',\n
    \         tooltip: _this3.lang.image.resizeQuarter,\n          click: _this3.context.createInvokeHandler('editor.resize',
    '0.25')\n        }).render();\n      });\n      this.context.memo('button.resizeNone',
    function () {\n        return _this3.button({\n          contents: _this3.ui.icon(_this3.options.icons.rollback),\n
    \         tooltip: _this3.lang.image.resizeNone,\n          click: _this3.context.createInvokeHandler('editor.resize',
    '0')\n        }).render();\n      }); // Float Buttons\n\n      this.context.memo('button.floatLeft',
    function () {\n        return _this3.button({\n          contents: _this3.ui.icon(_this3.options.icons.floatLeft),\n
    \         tooltip: _this3.lang.image.floatLeft,\n          click: _this3.context.createInvokeHandler('editor.floatMe',
    'left')\n        }).render();\n      });\n      this.context.memo('button.floatRight',
    function () {\n        return _this3.button({\n          contents: _this3.ui.icon(_this3.options.icons.floatRight),\n
    \         tooltip: _this3.lang.image.floatRight,\n          click: _this3.context.createInvokeHandler('editor.floatMe',
    'right')\n        }).render();\n      });\n      this.context.memo('button.floatNone',
    function () {\n        return _this3.button({\n          contents: _this3.ui.icon(_this3.options.icons.rollback),\n
    \         tooltip: _this3.lang.image.floatNone,\n          click: _this3.context.createInvokeHandler('editor.floatMe',
    'none')\n        }).render();\n      }); // Remove Buttons\n\n      this.context.memo('button.removeMedia',
    function () {\n        return _this3.button({\n          contents: _this3.ui.icon(_this3.options.icons.trash),\n
    \         tooltip: _this3.lang.image.remove,\n          click: _this3.context.createInvokeHandler('editor.removeMedia')\n
    \       }).render();\n      });\n    }\n  }, {\n    key: \"addLinkPopoverButtons\",\n
    \   value: function addLinkPopoverButtons() {\n      var _this4 = this;\n\n      this.context.memo('button.linkDialogShow',
    function () {\n        return _this4.button({\n          contents: _this4.ui.icon(_this4.options.icons.link),\n
    \         tooltip: _this4.lang.link.edit,\n          click: _this4.context.createInvokeHandler('linkDialog.show')\n
    \       }).render();\n      });\n      this.context.memo('button.unlink', function
    () {\n        return _this4.button({\n          contents: _this4.ui.icon(_this4.options.icons.unlink),\n
    \         tooltip: _this4.lang.link.unlink,\n          click: _this4.context.createInvokeHandler('editor.unlink')\n
    \       }).render();\n      });\n    }\n    /**\n     * table : [\n     *  ['add',
    ['addRowDown', 'addRowUp', 'addColLeft', 'addColRight']],\n     *  ['delete',
    ['deleteRow', 'deleteCol', 'deleteTable']]\n     * ],\n     */\n\n  }, {\n    key:
    \"addTablePopoverButtons\",\n    value: function addTablePopoverButtons() {\n
    \     var _this5 = this;\n\n      this.context.memo('button.addRowUp', function
    () {\n        return _this5.button({\n          className: 'btn-md',\n          contents:
    _this5.ui.icon(_this5.options.icons.rowAbove),\n          tooltip: _this5.lang.table.addRowAbove,\n
    \         click: _this5.context.createInvokeHandler('editor.addRow', 'top')\n
    \       }).render();\n      });\n      this.context.memo('button.addRowDown',
    function () {\n        return _this5.button({\n          className: 'btn-md',\n
    \         contents: _this5.ui.icon(_this5.options.icons.rowBelow),\n          tooltip:
    _this5.lang.table.addRowBelow,\n          click: _this5.context.createInvokeHandler('editor.addRow',
    'bottom')\n        }).render();\n      });\n      this.context.memo('button.addColLeft',
    function () {\n        return _this5.button({\n          className: 'btn-md',\n
    \         contents: _this5.ui.icon(_this5.options.icons.colBefore),\n          tooltip:
    _this5.lang.table.addColLeft,\n          click: _this5.context.createInvokeHandler('editor.addCol',
    'left')\n        }).render();\n      });\n      this.context.memo('button.addColRight',
    function () {\n        return _this5.button({\n          className: 'btn-md',\n
    \         contents: _this5.ui.icon(_this5.options.icons.colAfter),\n          tooltip:
    _this5.lang.table.addColRight,\n          click: _this5.context.createInvokeHandler('editor.addCol',
    'right')\n        }).render();\n      });\n      this.context.memo('button.deleteRow',
    function () {\n        return _this5.button({\n          className: 'btn-md',\n
    \         contents: _this5.ui.icon(_this5.options.icons.rowRemove),\n          tooltip:
    _this5.lang.table.delRow,\n          click: _this5.context.createInvokeHandler('editor.deleteRow')\n
    \       }).render();\n      });\n      this.context.memo('button.deleteCol', function
    () {\n        return _this5.button({\n          className: 'btn-md',\n          contents:
    _this5.ui.icon(_this5.options.icons.colRemove),\n          tooltip: _this5.lang.table.delCol,\n
    \         click: _this5.context.createInvokeHandler('editor.deleteCol')\n        }).render();\n
    \     });\n      this.context.memo('button.deleteTable', function () {\n        return
    _this5.button({\n          className: 'btn-md',\n          contents: _this5.ui.icon(_this5.options.icons.trash),\n
    \         tooltip: _this5.lang.table.delTable,\n          click: _this5.context.createInvokeHandler('editor.deleteTable')\n
    \       }).render();\n      });\n    }\n  }, {\n    key: \"build\",\n    value:
    function build($container, groups) {\n      for (var groupIdx = 0, groupLen =
    groups.length; groupIdx < groupLen; groupIdx++) {\n        var group = groups[groupIdx];\n
    \       var groupName = Array.isArray(group) ? group[0] : group;\n        var
    buttons = Array.isArray(group) ? group.length === 1 ? [group[0]] : group[1] :
    [group];\n        var $group = this.ui.buttonGroup({\n          className: 'note-'
    + groupName\n        }).render();\n\n        for (var idx = 0, len = buttons.length;
    idx < len; idx++) {\n          var btn = this.context.memo('button.' + buttons[idx]);\n\n
    \         if (btn) {\n            $group.append(typeof btn === 'function' ? btn(this.context)
    : btn);\n          }\n        }\n\n        $group.appendTo($container);\n      }\n
    \   }\n    /**\n     * @param {jQuery} [$container]\n     */\n\n  }, {\n    key:
    \"updateCurrentStyle\",\n    value: function updateCurrentStyle($container) {\n
    \     var _this6 = this;\n\n      var $cont = $container || this.$toolbar;\n      var
    styleInfo = this.context.invoke('editor.currentStyle');\n      this.updateBtnStates($cont,
    {\n        '.note-btn-bold': function noteBtnBold() {\n          return styleInfo['font-bold']
    === 'bold';\n        },\n        '.note-btn-italic': function noteBtnItalic()
    {\n          return styleInfo['font-italic'] === 'italic';\n        },\n        '.note-btn-underline':
    function noteBtnUnderline() {\n          return styleInfo['font-underline'] ===
    'underline';\n        },\n        '.note-btn-subscript': function noteBtnSubscript()
    {\n          return styleInfo['font-subscript'] === 'subscript';\n        },\n
    \       '.note-btn-superscript': function noteBtnSuperscript() {\n          return
    styleInfo['font-superscript'] === 'superscript';\n        },\n        '.note-btn-strikethrough':
    function noteBtnStrikethrough() {\n          return styleInfo['font-strikethrough']
    === 'strikethrough';\n        }\n      });\n\n      if (styleInfo['font-family'])
    {\n        var fontNames = styleInfo['font-family'].split(',').map(function (name)
    {\n          return name.replace(/[\\'\\\"]/g, '').replace(/\\s+$/, '').replace(/^\\s+/,
    '');\n        });\n        var fontName = lists.find(fontNames, this.isFontInstalled.bind(this));\n
    \       $cont.find('.dropdown-fontname a').each(function (idx, item) {\n          var
    $item = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);
    // always compare string to avoid creating another func.\n\n          var isChecked
    = $item.data('value') + '' === fontName + '';\n          $item.toggleClass('checked',
    isChecked);\n        });\n        $cont.find('.note-current-fontname').text(fontName).css('font-family',
    fontName);\n      }\n\n      if (styleInfo['font-size']) {\n        var fontSize
    = styleInfo['font-size'];\n        $cont.find('.dropdown-fontsize a').each(function
    (idx, item) {\n          var $item = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);
    // always compare with string to avoid creating another func.\n\n          var
    isChecked = $item.data('value') + '' === fontSize + '';\n          $item.toggleClass('checked',
    isChecked);\n        });\n        $cont.find('.note-current-fontsize').text(fontSize);\n
    \       var fontSizeUnit = styleInfo['font-size-unit'];\n        $cont.find('.dropdown-fontsizeunit
    a').each(function (idx, item) {\n          var $item = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);\n
    \         var isChecked = $item.data('value') + '' === fontSizeUnit + '';\n          $item.toggleClass('checked',
    isChecked);\n        });\n        $cont.find('.note-current-fontsizeunit').text(fontSizeUnit);\n
    \     }\n\n      if (styleInfo['line-height']) {\n        var lineHeight = styleInfo['line-height'];\n
    \       $cont.find('.dropdown-line-height li a').each(function (idx, item) {\n
    \         // always compare with string to avoid creating another func.\n          var
    isChecked = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item).data('value')
    + '' === lineHeight + '';\n          _this6.className = isChecked ? 'checked'
    : '';\n        });\n      }\n    }\n  }, {\n    key: \"updateBtnStates\",\n    value:
    function updateBtnStates($container, infos) {\n      var _this7 = this;\n\n      external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(infos,
    function (selector, pred) {\n        _this7.ui.toggleBtnActive($container.find(selector),
    pred());\n      });\n    }\n  }, {\n    key: \"tableMoveHandler\",\n    value:
    function tableMoveHandler(event) {\n      var PX_PER_EM = 18;\n      var $picker
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target.parentNode);
    // target is mousecatcher\n\n      var $dimensionDisplay = $picker.next();\n      var
    $catcher = $picker.find('.note-dimension-picker-mousecatcher');\n      var $highlighted
    = $picker.find('.note-dimension-picker-highlighted');\n      var $unhighlighted
    = $picker.find('.note-dimension-picker-unhighlighted');\n      var posOffset;
    // HTML5 with jQuery - e.offsetX is undefined in Firefox\n\n      if (event.offsetX
    === undefined) {\n        var posCatcher = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target).offset();\n
    \       posOffset = {\n          x: event.pageX - posCatcher.left,\n          y:
    event.pageY - posCatcher.top\n        };\n      } else {\n        posOffset =
    {\n          x: event.offsetX,\n          y: event.offsetY\n        };\n      }\n\n
    \     var dim = {\n        c: Math.ceil(posOffset.x / PX_PER_EM) || 1,\n        r:
    Math.ceil(posOffset.y / PX_PER_EM) || 1\n      };\n      $highlighted.css({\n
    \       width: dim.c + 'em',\n        height: dim.r + 'em'\n      });\n      $catcher.data('value',
    dim.c + 'x' + dim.r);\n\n      if (dim.c > 3 && dim.c < this.options.insertTableMaxSize.col)
    {\n        $unhighlighted.css({\n          width: dim.c + 1 + 'em'\n        });\n
    \     }\n\n      if (dim.r > 3 && dim.r < this.options.insertTableMaxSize.row)
    {\n        $unhighlighted.css({\n          height: dim.r + 1 + 'em'\n        });\n
    \     }\n\n      $dimensionDisplay.html(dim.c + ' x ' + dim.r);\n    }\n  }]);\n\n
    \ return Buttons;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/Toolbar.js\nfunction
    Toolbar_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    Toolbar_defineProperties(target, props) { for (var i = 0; i < props.length; i++)
    { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable ||
    false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    Toolbar_createClass(Constructor, protoProps, staticProps) { if (protoProps) Toolbar_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) Toolbar_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\nvar Toolbar_Toolbar = /*#__PURE__*/function () {\n
    \ function Toolbar(context) {\n    Toolbar_classCallCheck(this, Toolbar);\n\n
    \   this.context = context;\n    this.$window = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(window);\n
    \   this.$document = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);\n
    \   this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.$note = context.layoutInfo.note;\n    this.$editor = context.layoutInfo.editor;\n
    \   this.$toolbar = context.layoutInfo.toolbar;\n    this.$editable = context.layoutInfo.editable;\n
    \   this.$statusbar = context.layoutInfo.statusbar;\n    this.options = context.options;\n
    \   this.isFollowing = false;\n    this.followScroll = this.followScroll.bind(this);\n
    \ }\n\n  Toolbar_createClass(Toolbar, [{\n    key: \"shouldInitialize\",\n    value:
    function shouldInitialize() {\n      return !this.options.airMode;\n    }\n  },
    {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this
    = this;\n\n      this.options.toolbar = this.options.toolbar || [];\n\n      if
    (!this.options.toolbar.length) {\n        this.$toolbar.hide();\n      } else
    {\n        this.context.invoke('buttons.build', this.$toolbar, this.options.toolbar);\n
    \     }\n\n      if (this.options.toolbarContainer) {\n        this.$toolbar.appendTo(this.options.toolbarContainer);\n
    \     }\n\n      this.changeContainer(false);\n      this.$note.on('summernote.keyup
    summernote.mouseup summernote.change', function () {\n        _this.context.invoke('buttons.updateCurrentStyle');\n
    \     });\n      this.context.invoke('buttons.updateCurrentStyle');\n\n      if
    (this.options.followingToolbar) {\n        this.$window.on('scroll resize', this.followScroll);\n
    \     }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n
    \     this.$toolbar.children().remove();\n\n      if (this.options.followingToolbar)
    {\n        this.$window.off('scroll resize', this.followScroll);\n      }\n    }\n
    \ }, {\n    key: \"followScroll\",\n    value: function followScroll() {\n      if
    (this.$editor.hasClass('fullscreen')) {\n        return false;\n      }\n\n      var
    editorHeight = this.$editor.outerHeight();\n      var editorWidth = this.$editor.width();\n
    \     var toolbarHeight = this.$toolbar.height();\n      var statusbarHeight =
    this.$statusbar.height(); // check if the web app is currently using another static
    bar\n\n      var otherBarHeight = 0;\n\n      if (this.options.otherStaticBar)
    {\n        otherBarHeight = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.otherStaticBar).outerHeight();\n
    \     }\n\n      var currentOffset = this.$document.scrollTop();\n      var editorOffsetTop
    = this.$editor.offset().top;\n      var editorOffsetBottom = editorOffsetTop +
    editorHeight;\n      var activateOffset = editorOffsetTop - otherBarHeight;\n
    \     var deactivateOffsetBottom = editorOffsetBottom - otherBarHeight - toolbarHeight
    - statusbarHeight;\n\n      if (!this.isFollowing && currentOffset > activateOffset
    && currentOffset < deactivateOffsetBottom - toolbarHeight) {\n        this.isFollowing
    = true;\n        this.$editable.css({\n          marginTop: this.$toolbar.outerHeight()\n
    \       });\n        this.$toolbar.css({\n          position: 'fixed',\n          top:
    otherBarHeight,\n          width: editorWidth,\n          zIndex: 1000\n        });\n
    \     } else if (this.isFollowing && (currentOffset < activateOffset || currentOffset
    > deactivateOffsetBottom)) {\n        this.isFollowing = false;\n        this.$toolbar.css({\n
    \         position: 'relative',\n          top: 0,\n          width: '100%',\n
    \         zIndex: 'auto'\n        });\n        this.$editable.css({\n          marginTop:
    ''\n        });\n      }\n    }\n  }, {\n    key: \"changeContainer\",\n    value:
    function changeContainer(isFullscreen) {\n      if (isFullscreen) {\n        this.$toolbar.prependTo(this.$editor);\n
    \     } else {\n        if (this.options.toolbarContainer) {\n          this.$toolbar.appendTo(this.options.toolbarContainer);\n
    \       }\n      }\n\n      if (this.options.followingToolbar) {\n        this.followScroll();\n
    \     }\n    }\n  }, {\n    key: \"updateFullscreen\",\n    value: function updateFullscreen(isFullscreen)
    {\n      this.ui.toggleBtnActive(this.$toolbar.find('.btn-fullscreen'), isFullscreen);\n
    \     this.changeContainer(isFullscreen);\n    }\n  }, {\n    key: \"updateCodeview\",\n
    \   value: function updateCodeview(isCodeview) {\n      this.ui.toggleBtnActive(this.$toolbar.find('.btn-codeview'),
    isCodeview);\n\n      if (isCodeview) {\n        this.deactivate();\n      } else
    {\n        this.activate();\n      }\n    }\n  }, {\n    key: \"activate\",\n
    \   value: function activate(isIncludeCodeview) {\n      var $btn = this.$toolbar.find('button');\n\n
    \     if (!isIncludeCodeview) {\n        $btn = $btn.not('.note-codeview-keep');\n
    \     }\n\n      this.ui.toggleBtn($btn, true);\n    }\n  }, {\n    key: \"deactivate\",\n
    \   value: function deactivate(isIncludeCodeview) {\n      var $btn = this.$toolbar.find('button');\n\n
    \     if (!isIncludeCodeview) {\n        $btn = $btn.not('.note-codeview-keep');\n
    \     }\n\n      this.ui.toggleBtn($btn, false);\n    }\n  }]);\n\n  return Toolbar;\n}();\n\n\n//
    CONCATENATED MODULE: ./src/js/base/module/LinkDialog.js\nfunction LinkDialog_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction LinkDialog_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction LinkDialog_createClass(Constructor, protoProps, staticProps)
    { if (protoProps) LinkDialog_defineProperties(Constructor.prototype, protoProps);
    if (staticProps) LinkDialog_defineProperties(Constructor, staticProps); return
    Constructor; }\n\n\n\n\n\n\nvar LinkDialog_LinkDialog = /*#__PURE__*/function
    () {\n  function LinkDialog(context) {\n    LinkDialog_classCallCheck(this, LinkDialog);\n\n
    \   this.context = context;\n    this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.$body = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document.body);\n
    \   this.$editor = context.layoutInfo.editor;\n    this.options = context.options;\n
    \   this.lang = this.options.langInfo;\n    context.memo('help.linkDialog.show',
    this.options.langInfo.help['linkDialog.show']);\n  }\n\n  LinkDialog_createClass(LinkDialog,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      var $container
    = this.options.dialogsInBody ? this.$body : this.options.container;\n      var
    body = ['<div class=\"form-group note-form-group\">', \"<label for=\\\"note-dialog-link-txt-\".concat(this.options.id,
    \"\\\" class=\\\"note-form-label\\\">\").concat(this.lang.link.textToDisplay,
    \"</label>\"), \"<input id=\\\"note-dialog-link-txt-\".concat(this.options.id,
    \"\\\" class=\\\"note-link-text form-control note-form-control note-input\\\"
    type=\\\"text\\\"/>\"), '</div>', '<div class=\"form-group note-form-group\">',
    \"<label for=\\\"note-dialog-link-url-\".concat(this.options.id, \"\\\" class=\\\"note-form-label\\\">\").concat(this.lang.link.url,
    \"</label>\"), \"<input id=\\\"note-dialog-link-url-\".concat(this.options.id,
    \"\\\" class=\\\"note-link-url form-control note-form-control note-input\\\" type=\\\"text\\\"
    value=\\\"http://\\\"/>\"), '</div>', !this.options.disableLinkTarget ? external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div/>').append(this.ui.checkbox({\n
    \       className: 'sn-checkbox-open-in-new-window',\n        text: this.lang.link.openInNewWindow,\n
    \       checked: true\n      }).render()).html() : '', external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div/>').append(this.ui.checkbox({\n
    \       className: 'sn-checkbox-use-protocol',\n        text: this.lang.link.useProtocol,\n
    \       checked: true\n      }).render()).html()].join('');\n      var buttonClass
    = 'btn btn-primary note-btn note-btn-primary note-link-btn';\n      var footer
    = \"<input type=\\\"button\\\" href=\\\"#\\\" class=\\\"\".concat(buttonClass,
    \"\\\" value=\\\"\").concat(this.lang.link.insert, \"\\\" disabled>\");\n      this.$dialog
    = this.ui.dialog({\n        className: 'link-dialog',\n        title: this.lang.link.insert,\n
    \       fade: this.options.dialogsFade,\n        body: body,\n        footer:
    footer\n      }).render().appendTo($container);\n    }\n  }, {\n    key: \"destroy\",\n
    \   value: function destroy() {\n      this.ui.hideDialog(this.$dialog);\n      this.$dialog.remove();\n
    \   }\n  }, {\n    key: \"bindEnterKey\",\n    value: function bindEnterKey($input,
    $btn) {\n      $input.on('keypress', function (event) {\n        if (event.keyCode
    === core_key.code.ENTER) {\n          event.preventDefault();\n          $btn.trigger('click');\n
    \       }\n      });\n    }\n    /**\n     * toggle update button\n     */\n\n
    \ }, {\n    key: \"toggleLinkBtn\",\n    value: function toggleLinkBtn($linkBtn,
    $linkText, $linkUrl) {\n      this.ui.toggleBtn($linkBtn, $linkText.val() && $linkUrl.val());\n
    \   }\n    /**\n     * Show link dialog and set event handlers on dialog controls.\n
    \    *\n     * @param {Object} linkInfo\n     * @return {Promise}\n     */\n\n
    \ }, {\n    key: \"showLinkDialog\",\n    value: function showLinkDialog(linkInfo)
    {\n      var _this = this;\n\n      return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function
    (deferred) {\n        var $linkText = _this.$dialog.find('.note-link-text');\n\n
    \       var $linkUrl = _this.$dialog.find('.note-link-url');\n\n        var $linkBtn
    = _this.$dialog.find('.note-link-btn');\n\n        var $openInNewWindow = _this.$dialog.find('.sn-checkbox-open-in-new-window
    input[type=checkbox]');\n\n        var $useProtocol = _this.$dialog.find('.sn-checkbox-use-protocol
    input[type=checkbox]');\n\n        _this.ui.onDialogShown(_this.$dialog, function
    () {\n          _this.context.triggerEvent('dialog.shown'); // If no url was given
    and given text is valid URL then copy that into URL Field\n\n\n          if (!linkInfo.url
    && func.isValidUrl(linkInfo.text)) {\n            linkInfo.url = linkInfo.text;\n
    \         }\n\n          $linkText.on('input paste propertychange', function ()
    {\n            // If linktext was modified by input events,\n            // cloning
    text from linkUrl will be stopped.\n            linkInfo.text = $linkText.val();\n\n
    \           _this.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n          }).val(linkInfo.text);\n
    \         $linkUrl.on('input paste propertychange', function () {\n            //
    Display same text on `Text to display` as default\n            // when linktext
    has no text\n            if (!linkInfo.text) {\n              $linkText.val($linkUrl.val());\n
    \           }\n\n            _this.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n
    \         }).val(linkInfo.url);\n\n          if (!env.isSupportTouch) {\n            $linkUrl.trigger('focus');\n
    \         }\n\n          _this.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n\n
    \         _this.bindEnterKey($linkUrl, $linkBtn);\n\n          _this.bindEnterKey($linkText,
    $linkBtn);\n\n          var isNewWindowChecked = linkInfo.isNewWindow !== undefined
    ? linkInfo.isNewWindow : _this.context.options.linkTargetBlank;\n          $openInNewWindow.prop('checked',
    isNewWindowChecked);\n          var useProtocolChecked = linkInfo.url ? false
    : _this.context.options.useProtocol;\n          $useProtocol.prop('checked', useProtocolChecked);\n
    \         $linkBtn.one('click', function (event) {\n            event.preventDefault();\n
    \           deferred.resolve({\n              range: linkInfo.range,\n              url:
    $linkUrl.val(),\n              text: $linkText.val(),\n              isNewWindow:
    $openInNewWindow.is(':checked'),\n              checkProtocol: $useProtocol.is(':checked')\n
    \           });\n\n            _this.ui.hideDialog(_this.$dialog);\n          });\n
    \       });\n\n        _this.ui.onDialogHidden(_this.$dialog, function () {\n
    \         // detach events\n          $linkText.off();\n          $linkUrl.off();\n
    \         $linkBtn.off();\n\n          if (deferred.state() === 'pending') {\n
    \           deferred.reject();\n          }\n        });\n\n        _this.ui.showDialog(_this.$dialog);\n
    \     }).promise();\n    }\n    /**\n     * @param {Object} layoutInfo\n     */\n\n
    \ }, {\n    key: \"show\",\n    value: function show() {\n      var _this2 = this;\n\n
    \     var linkInfo = this.context.invoke('editor.getLinkInfo');\n      this.context.invoke('editor.saveRange');\n
    \     this.showLinkDialog(linkInfo).then(function (linkInfo) {\n        _this2.context.invoke('editor.restoreRange');\n\n
    \       _this2.context.invoke('editor.createLink', linkInfo);\n      }).fail(function
    () {\n        _this2.context.invoke('editor.restoreRange');\n      });\n    }\n
    \ }]);\n\n  return LinkDialog;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/LinkPopover.js\nfunction
    LinkPopover_classCallCheck(instance, Constructor) { if (!(instance instanceof
    Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); }
    }\n\nfunction LinkPopover_defineProperties(target, props) { for (var i = 0; i
    < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    LinkPopover_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    LinkPopover_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    LinkPopover_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar
    LinkPopover_LinkPopover = /*#__PURE__*/function () {\n  function LinkPopover(context)
    {\n    var _this = this;\n\n    LinkPopover_classCallCheck(this, LinkPopover);\n\n
    \   this.context = context;\n    this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.options = context.options;\n    this.events = {\n      'summernote.keyup
    summernote.mouseup summernote.change summernote.scroll': function summernoteKeyupSummernoteMouseupSummernoteChangeSummernoteScroll()
    {\n        _this.update();\n      },\n      'summernote.disable summernote.dialog.shown
    summernote.blur': function summernoteDisableSummernoteDialogShownSummernoteBlur()
    {\n        _this.hide();\n      }\n    };\n  }\n\n  LinkPopover_createClass(LinkPopover,
    [{\n    key: \"shouldInitialize\",\n    value: function shouldInitialize() {\n
    \     return !lists.isEmpty(this.options.popover.link);\n    }\n  }, {\n    key:
    \"initialize\",\n    value: function initialize() {\n      this.$popover = this.ui.popover({\n
    \       className: 'note-link-popover',\n        callback: function callback($node)
    {\n          var $content = $node.find('.popover-content,.note-popover-content');\n
    \         $content.prepend('<span><a target=\"_blank\"></a>&nbsp;</span>');\n
    \       }\n      }).render().appendTo(this.options.container);\n      var $content
    = this.$popover.find('.popover-content,.note-popover-content');\n      this.context.invoke('buttons.build',
    $content, this.options.popover.link);\n      this.$popover.on('mousedown', function
    (e) {\n        e.preventDefault();\n      });\n    }\n  }, {\n    key: \"destroy\",\n
    \   value: function destroy() {\n      this.$popover.remove();\n    }\n  }, {\n
    \   key: \"update\",\n    value: function update() {\n      // Prevent focusing
    on editable when invoke('code') is executed\n      if (!this.context.invoke('editor.hasFocus'))
    {\n        this.hide();\n        return;\n      }\n\n      var rng = this.context.invoke('editor.getLastRange');\n\n
    \     if (rng.isCollapsed() && rng.isOnAnchor()) {\n        var anchor = dom.ancestor(rng.sc,
    dom.isAnchor);\n        var href = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(anchor).attr('href');\n
    \       this.$popover.find('a').attr('href', href).text(href);\n        var pos
    = dom.posFromPlaceholder(anchor);\n        var containerOffset = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();\n
    \       pos.top -= containerOffset.top;\n        pos.left -= containerOffset.left;\n
    \       this.$popover.css({\n          display: 'block',\n          left: pos.left,\n
    \         top: pos.top\n        });\n      } else {\n        this.hide();\n      }\n
    \   }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.$popover.hide();\n
    \   }\n  }]);\n\n  return LinkPopover;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/ImageDialog.js\nfunction
    ImageDialog_classCallCheck(instance, Constructor) { if (!(instance instanceof
    Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); }
    }\n\nfunction ImageDialog_defineProperties(target, props) { for (var i = 0; i
    < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    ImageDialog_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    ImageDialog_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    ImageDialog_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar
    ImageDialog_ImageDialog = /*#__PURE__*/function () {\n  function ImageDialog(context)
    {\n    ImageDialog_classCallCheck(this, ImageDialog);\n\n    this.context = context;\n
    \   this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.$body = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document.body);\n
    \   this.$editor = context.layoutInfo.editor;\n    this.options = context.options;\n
    \   this.lang = this.options.langInfo;\n  }\n\n  ImageDialog_createClass(ImageDialog,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      var imageLimitation
    = '';\n\n      if (this.options.maximumImageFileSize) {\n        var unit = Math.floor(Math.log(this.options.maximumImageFileSize)
    / Math.log(1024));\n        var readableSize = (this.options.maximumImageFileSize
    / Math.pow(1024, unit)).toFixed(2) * 1 + ' ' + ' KMGTP'[unit] + 'B';\n        imageLimitation
    = \"<small>\".concat(this.lang.image.maximumFileSize + ' : ' + readableSize, \"</small>\");\n
    \     }\n\n      var $container = this.options.dialogsInBody ? this.$body : this.options.container;\n
    \     var body = ['<div class=\"form-group note-form-group note-group-select-from-files\">',
    '<label for=\"note-dialog-image-file-' + this.options.id + '\" class=\"note-form-label\">'
    + this.lang.image.selectFromFiles + '</label>', '<input id=\"note-dialog-image-file-'
    + this.options.id + '\" class=\"note-image-input form-control-file note-form-control
    note-input\" ', ' type=\"file\" name=\"files\" accept=\"image/*\" multiple=\"multiple\"/>',
    imageLimitation, '</div>', '<div class=\"form-group note-group-image-url\">',
    '<label for=\"note-dialog-image-url-' + this.options.id + '\" class=\"note-form-label\">'
    + this.lang.image.url + '</label>', '<input id=\"note-dialog-image-url-' + this.options.id
    + '\" class=\"note-image-url form-control note-form-control note-input\" type=\"text\"/>',
    '</div>'].join('');\n      var buttonClass = 'btn btn-primary note-btn note-btn-primary
    note-image-btn';\n      var footer = \"<input type=\\\"button\\\" href=\\\"#\\\"
    class=\\\"\".concat(buttonClass, \"\\\" value=\\\"\").concat(this.lang.image.insert,
    \"\\\" disabled>\");\n      this.$dialog = this.ui.dialog({\n        title: this.lang.image.insert,\n
    \       fade: this.options.dialogsFade,\n        body: body,\n        footer:
    footer\n      }).render().appendTo($container);\n    }\n  }, {\n    key: \"destroy\",\n
    \   value: function destroy() {\n      this.ui.hideDialog(this.$dialog);\n      this.$dialog.remove();\n
    \   }\n  }, {\n    key: \"bindEnterKey\",\n    value: function bindEnterKey($input,
    $btn) {\n      $input.on('keypress', function (event) {\n        if (event.keyCode
    === core_key.code.ENTER) {\n          event.preventDefault();\n          $btn.trigger('click');\n
    \       }\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show()
    {\n      var _this = this;\n\n      this.context.invoke('editor.saveRange');\n
    \     this.showImageDialog().then(function (data) {\n        // [workaround] hide
    dialog before restore range for IE range focus\n        _this.ui.hideDialog(_this.$dialog);\n\n
    \       _this.context.invoke('editor.restoreRange');\n\n        if (typeof data
    === 'string') {\n          // image url\n          // If onImageLinkInsert set,\n
    \         if (_this.options.callbacks.onImageLinkInsert) {\n            _this.context.triggerEvent('image.link.insert',
    data);\n          } else {\n            _this.context.invoke('editor.insertImage',
    data);\n          }\n        } else {\n          // array of files\n          _this.context.invoke('editor.insertImagesOrCallback',
    data);\n        }\n      }).fail(function () {\n        _this.context.invoke('editor.restoreRange');\n
    \     });\n    }\n    /**\n     * show image dialog\n     *\n     * @param {jQuery}
    $dialog\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"showImageDialog\",\n
    \   value: function showImageDialog() {\n      var _this2 = this;\n\n      return
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function
    (deferred) {\n        var $imageInput = _this2.$dialog.find('.note-image-input');\n\n
    \       var $imageUrl = _this2.$dialog.find('.note-image-url');\n\n        var
    $imageBtn = _this2.$dialog.find('.note-image-btn');\n\n        _this2.ui.onDialogShown(_this2.$dialog,
    function () {\n          _this2.context.triggerEvent('dialog.shown'); // Cloning
    imageInput to clear element.\n\n\n          $imageInput.replaceWith($imageInput.clone().on('change',
    function (event) {\n            deferred.resolve(event.target.files || event.target.value);\n
    \         }).val(''));\n          $imageUrl.on('input paste propertychange', function
    () {\n            _this2.ui.toggleBtn($imageBtn, $imageUrl.val());\n          }).val('');\n\n
    \         if (!env.isSupportTouch) {\n            $imageUrl.trigger('focus');\n
    \         }\n\n          $imageBtn.click(function (event) {\n            event.preventDefault();\n
    \           deferred.resolve($imageUrl.val());\n          });\n\n          _this2.bindEnterKey($imageUrl,
    $imageBtn);\n        });\n\n        _this2.ui.onDialogHidden(_this2.$dialog, function
    () {\n          $imageInput.off();\n          $imageUrl.off();\n          $imageBtn.off();\n\n
    \         if (deferred.state() === 'pending') {\n            deferred.reject();\n
    \         }\n        });\n\n        _this2.ui.showDialog(_this2.$dialog);\n      });\n
    \   }\n  }]);\n\n  return ImageDialog;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/ImagePopover.js\nfunction
    ImagePopover_classCallCheck(instance, Constructor) { if (!(instance instanceof
    Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); }
    }\n\nfunction ImagePopover_defineProperties(target, props) { for (var i = 0; i
    < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    ImagePopover_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    ImagePopover_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    ImagePopover_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n/**\n
    * Image popover module\n *  mouse events that show/hide popover will be handled
    by Handle.js.\n *  Handle.js will receive the events and invoke 'imagePopover.update'.\n
    */\n\nvar ImagePopover_ImagePopover = /*#__PURE__*/function () {\n  function ImagePopover(context)
    {\n    var _this = this;\n\n    ImagePopover_classCallCheck(this, ImagePopover);\n\n
    \   this.context = context;\n    this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.editable = context.layoutInfo.editable[0];\n    this.options = context.options;\n
    \   this.events = {\n      'summernote.disable summernote.blur': function summernoteDisableSummernoteBlur()
    {\n        _this.hide();\n      }\n    };\n  }\n\n  ImagePopover_createClass(ImagePopover,
    [{\n    key: \"shouldInitialize\",\n    value: function shouldInitialize() {\n
    \     return !lists.isEmpty(this.options.popover.image);\n    }\n  }, {\n    key:
    \"initialize\",\n    value: function initialize() {\n      this.$popover = this.ui.popover({\n
    \       className: 'note-image-popover'\n      }).render().appendTo(this.options.container);\n
    \     var $content = this.$popover.find('.popover-content,.note-popover-content');\n
    \     this.context.invoke('buttons.build', $content, this.options.popover.image);\n
    \     this.$popover.on('mousedown', function (e) {\n        e.preventDefault();\n
    \     });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy()
    {\n      this.$popover.remove();\n    }\n  }, {\n    key: \"update\",\n    value:
    function update(target, event) {\n      if (dom.isImg(target)) {\n        var
    position = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(target).offset();\n
    \       var containerOffset = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();\n
    \       var pos = {};\n\n        if (this.options.popatmouse) {\n          pos.left
    = event.pageX - 20;\n          pos.top = event.pageY;\n        } else {\n          pos
    = position;\n        }\n\n        pos.top -= containerOffset.top;\n        pos.left
    -= containerOffset.left;\n        this.$popover.css({\n          display: 'block',\n
    \         left: pos.left,\n          top: pos.top\n        });\n      } else {\n
    \       this.hide();\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function
    hide() {\n      this.$popover.hide();\n    }\n  }]);\n\n  return ImagePopover;\n}();\n\n\n//
    CONCATENATED MODULE: ./src/js/base/module/TablePopover.js\nfunction TablePopover_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction TablePopover_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction TablePopover_createClass(Constructor, protoProps,
    staticProps) { if (protoProps) TablePopover_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) TablePopover_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n\nvar TablePopover_TablePopover = /*#__PURE__*/function
    () {\n  function TablePopover(context) {\n    var _this = this;\n\n    TablePopover_classCallCheck(this,
    TablePopover);\n\n    this.context = context;\n    this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.options = context.options;\n    this.events = {\n      'summernote.mousedown':
    function summernoteMousedown(we, e) {\n        _this.update(e.target);\n      },\n
    \     'summernote.keyup summernote.scroll summernote.change': function summernoteKeyupSummernoteScrollSummernoteChange()
    {\n        _this.update();\n      },\n      'summernote.disable summernote.blur':
    function summernoteDisableSummernoteBlur() {\n        _this.hide();\n      }\n
    \   };\n  }\n\n  TablePopover_createClass(TablePopover, [{\n    key: \"shouldInitialize\",\n
    \   value: function shouldInitialize() {\n      return !lists.isEmpty(this.options.popover.table);\n
    \   }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n
    \     this.$popover = this.ui.popover({\n        className: 'note-table-popover'\n
    \     }).render().appendTo(this.options.container);\n      var $content = this.$popover.find('.popover-content,.note-popover-content');\n
    \     this.context.invoke('buttons.build', $content, this.options.popover.table);
    // [workaround] Disable Firefox's default table editor\n\n      if (env.isFF)
    {\n        document.execCommand('enableInlineTableEditing', false, false);\n      }\n\n
    \     this.$popover.on('mousedown', function (e) {\n        e.preventDefault();\n
    \     });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy()
    {\n      this.$popover.remove();\n    }\n  }, {\n    key: \"update\",\n    value:
    function update(target) {\n      if (this.context.isDisabled()) {\n        return
    false;\n      }\n\n      var isCell = dom.isCell(target);\n\n      if (isCell)
    {\n        var pos = dom.posFromPlaceholder(target);\n        var containerOffset
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();\n
    \       pos.top -= containerOffset.top;\n        pos.left -= containerOffset.left;\n
    \       this.$popover.css({\n          display: 'block',\n          left: pos.left,\n
    \         top: pos.top\n        });\n      } else {\n        this.hide();\n      }\n\n
    \     return isCell;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide()
    {\n      this.$popover.hide();\n    }\n  }]);\n\n  return TablePopover;\n}();\n\n\n//
    CONCATENATED MODULE: ./src/js/base/module/VideoDialog.js\nfunction VideoDialog_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction VideoDialog_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction VideoDialog_createClass(Constructor, protoProps,
    staticProps) { if (protoProps) VideoDialog_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) VideoDialog_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\nvar VideoDialog_VideoDialog = /*#__PURE__*/function
    () {\n  function VideoDialog(context) {\n    VideoDialog_classCallCheck(this,
    VideoDialog);\n\n    this.context = context;\n    this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.$body = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document.body);\n
    \   this.$editor = context.layoutInfo.editor;\n    this.options = context.options;\n
    \   this.lang = this.options.langInfo;\n  }\n\n  VideoDialog_createClass(VideoDialog,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      var $container
    = this.options.dialogsInBody ? this.$body : this.options.container;\n      var
    body = ['<div class=\"form-group note-form-group row-fluid\">', \"<label for=\\\"note-dialog-video-url-\".concat(this.options.id,
    \"\\\" class=\\\"note-form-label\\\">\").concat(this.lang.video.url, \" <small
    class=\\\"text-muted\\\">\").concat(this.lang.video.providers, \"</small></label>\"),
    \"<input id=\\\"note-dialog-video-url-\".concat(this.options.id, \"\\\" class=\\\"note-video-url
    form-control note-form-control note-input\\\" type=\\\"text\\\"/>\"), '</div>'].join('');\n
    \     var buttonClass = 'btn btn-primary note-btn note-btn-primary note-video-btn';\n
    \     var footer = \"<input type=\\\"button\\\" href=\\\"#\\\" class=\\\"\".concat(buttonClass,
    \"\\\" value=\\\"\").concat(this.lang.video.insert, \"\\\" disabled>\");\n      this.$dialog
    = this.ui.dialog({\n        title: this.lang.video.insert,\n        fade: this.options.dialogsFade,\n
    \       body: body,\n        footer: footer\n      }).render().appendTo($container);\n
    \   }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.ui.hideDialog(this.$dialog);\n
    \     this.$dialog.remove();\n    }\n  }, {\n    key: \"bindEnterKey\",\n    value:
    function bindEnterKey($input, $btn) {\n      $input.on('keypress', function (event)
    {\n        if (event.keyCode === core_key.code.ENTER) {\n          event.preventDefault();\n
    \         $btn.trigger('click');\n        }\n      });\n    }\n  }, {\n    key:
    \"createVideoNode\",\n    value: function createVideoNode(url) {\n      // video
    url patterns(youtube, instagram, vimeo, dailymotion, youku, mp4, ogg, webm)\n
    \     var ytRegExp = /\\/\\/(?:(?:www|m)\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))([\\w|-]{11})(?:(?:[\\?&]t=)(\\S+))?$/;\n
    \     var ytRegExpForStart = /^(?:(\\d+)h)?(?:(\\d+)m)?(?:(\\d+)s)?$/;\n      var
    ytMatch = url.match(ytRegExp);\n      var igRegExp = /(?:www\\.|\\/\\/)instagram\\.com\\/p\\/(.[a-zA-Z0-9_-]*)/;\n
    \     var igMatch = url.match(igRegExp);\n      var vRegExp = /\\/\\/vine\\.co\\/v\\/([a-zA-Z0-9]+)/;\n
    \     var vMatch = url.match(vRegExp);\n      var vimRegExp = /\\/\\/(player\\.)?vimeo\\.com\\/([a-z]*\\/)*(\\d+)[?]?.*/;\n
    \     var vimMatch = url.match(vimRegExp);\n      var dmRegExp = /.+dailymotion.com\\/(video|hub)\\/([^_]+)[^#]*(#video=([^_&]+))?/;\n
    \     var dmMatch = url.match(dmRegExp);\n      var youkuRegExp = /\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/;\n
    \     var youkuMatch = url.match(youkuRegExp);\n      var qqRegExp = /\\/\\/v\\.qq\\.com.*?vid=(.+)/;\n
    \     var qqMatch = url.match(qqRegExp);\n      var qqRegExp2 = /\\/\\/v\\.qq\\.com\\/x?\\/?(page|cover).*?\\/([^\\/]+)\\.html\\??.*/;\n
    \     var qqMatch2 = url.match(qqRegExp2);\n      var mp4RegExp = /^.+.(mp4|m4v)$/;\n
    \     var mp4Match = url.match(mp4RegExp);\n      var oggRegExp = /^.+.(ogg|ogv)$/;\n
    \     var oggMatch = url.match(oggRegExp);\n      var webmRegExp = /^.+.(webm)$/;\n
    \     var webmMatch = url.match(webmRegExp);\n      var fbRegExp = /(?:www\\.|\\/\\/)facebook\\.com\\/([^\\/]+)\\/videos\\/([0-9]+)/;\n
    \     var fbMatch = url.match(fbRegExp);\n      var $video;\n\n      if (ytMatch
    && ytMatch[1].length === 11) {\n        var youtubeId = ytMatch[1];\n        var
    start = 0;\n\n        if (typeof ytMatch[2] !== 'undefined') {\n          var
    ytMatchForStart = ytMatch[2].match(ytRegExpForStart);\n\n          if (ytMatchForStart)
    {\n            for (var n = [3600, 60, 1], i = 0, r = n.length; i < r; i++) {\n
    \             start += typeof ytMatchForStart[i + 1] !== 'undefined' ? n[i] *
    parseInt(ytMatchForStart[i + 1], 10) : 0;\n            }\n          }\n        }\n\n
    \       $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',
    0).attr('src', '//www.youtube.com/embed/' + youtubeId + (start > 0 ? '?start='
    + start : '')).attr('width', '640').attr('height', '360');\n      } else if (igMatch
    && igMatch[0].length) {\n        $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',
    0).attr('src', 'https://instagram.com/p/' + igMatch[1] + '/embed/').attr('width',
    '612').attr('height', '710').attr('scrolling', 'no').attr('allowtransparency',
    'true');\n      } else if (vMatch && vMatch[0].length) {\n        $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',
    0).attr('src', vMatch[0] + '/embed/simple').attr('width', '600').attr('height',
    '600').attr('class', 'vine-embed');\n      } else if (vimMatch && vimMatch[3].length)
    {\n        $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe
    webkitallowfullscreen mozallowfullscreen allowfullscreen>').attr('frameborder',
    0).attr('src', '//player.vimeo.com/video/' + vimMatch[3]).attr('width', '640').attr('height',
    '360');\n      } else if (dmMatch && dmMatch[2].length) {\n        $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',
    0).attr('src', '//www.dailymotion.com/embed/video/' + dmMatch[2]).attr('width',
    '640').attr('height', '360');\n      } else if (youkuMatch && youkuMatch[1].length)
    {\n        $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe
    webkitallowfullscreen mozallowfullscreen allowfullscreen>').attr('frameborder',
    0).attr('height', '498').attr('width', '510').attr('src', '//player.youku.com/embed/'
    + youkuMatch[1]);\n      } else if (qqMatch && qqMatch[1].length || qqMatch2 &&
    qqMatch2[2].length) {\n        var vid = qqMatch && qqMatch[1].length ? qqMatch[1]
    : qqMatch2[2];\n        $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe
    webkitallowfullscreen mozallowfullscreen allowfullscreen>').attr('frameborder',
    0).attr('height', '310').attr('width', '500').attr('src', 'https://v.qq.com/txp/iframe/player.html?vid='
    + vid + '&amp;auto=0');\n      } else if (mp4Match || oggMatch || webmMatch) {\n
    \       $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<video
    controls>').attr('src', url).attr('width', '640').attr('height', '360');\n      }
    else if (fbMatch && fbMatch[0].length) {\n        $video = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',
    0).attr('src', 'https://www.facebook.com/plugins/video.php?href=' + encodeURIComponent(fbMatch[0])
    + '&show_text=0&width=560').attr('width', '560').attr('height', '301').attr('scrolling',
    'no').attr('allowtransparency', 'true');\n      } else {\n        // this is not
    a known video link. Now what, Cat? Now what?\n        return false;\n      }\n\n
    \     $video.addClass('note-video-clip');\n      return $video[0];\n    }\n  },
    {\n    key: \"show\",\n    value: function show() {\n      var _this = this;\n\n
    \     var text = this.context.invoke('editor.getSelectedText');\n      this.context.invoke('editor.saveRange');\n
    \     this.showVideoDialog(text).then(function (url) {\n        // [workaround]
    hide dialog before restore range for IE range focus\n        _this.ui.hideDialog(_this.$dialog);\n\n
    \       _this.context.invoke('editor.restoreRange'); // build node\n\n\n        var
    $node = _this.createVideoNode(url);\n\n        if ($node) {\n          // insert
    video node\n          _this.context.invoke('editor.insertNode', $node);\n        }\n
    \     }).fail(function () {\n        _this.context.invoke('editor.restoreRange');\n
    \     });\n    }\n    /**\n     * show video dialog\n     *\n     * @param {jQuery}
    $dialog\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"showVideoDialog\",\n
    \   value: function showVideoDialog()\n    /* text */\n    {\n      var _this2
    = this;\n\n      return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function
    (deferred) {\n        var $videoUrl = _this2.$dialog.find('.note-video-url');\n\n
    \       var $videoBtn = _this2.$dialog.find('.note-video-btn');\n\n        _this2.ui.onDialogShown(_this2.$dialog,
    function () {\n          _this2.context.triggerEvent('dialog.shown');\n\n          $videoUrl.on('input
    paste propertychange', function () {\n            _this2.ui.toggleBtn($videoBtn,
    $videoUrl.val());\n          });\n\n          if (!env.isSupportTouch) {\n            $videoUrl.trigger('focus');\n
    \         }\n\n          $videoBtn.click(function (event) {\n            event.preventDefault();\n
    \           deferred.resolve($videoUrl.val());\n          });\n\n          _this2.bindEnterKey($videoUrl,
    $videoBtn);\n        });\n\n        _this2.ui.onDialogHidden(_this2.$dialog, function
    () {\n          $videoUrl.off();\n          $videoBtn.off();\n\n          if (deferred.state()
    === 'pending') {\n            deferred.reject();\n          }\n        });\n\n
    \       _this2.ui.showDialog(_this2.$dialog);\n      });\n    }\n  }]);\n\n  return
    VideoDialog;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/HelpDialog.js\nfunction
    HelpDialog_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    HelpDialog_defineProperties(target, props) { for (var i = 0; i < props.length;
    i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    HelpDialog_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    HelpDialog_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    HelpDialog_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar
    HelpDialog_HelpDialog = /*#__PURE__*/function () {\n  function HelpDialog(context)
    {\n    HelpDialog_classCallCheck(this, HelpDialog);\n\n    this.context = context;\n
    \   this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.$body = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document.body);\n
    \   this.$editor = context.layoutInfo.editor;\n    this.options = context.options;\n
    \   this.lang = this.options.langInfo;\n  }\n\n  HelpDialog_createClass(HelpDialog,
    [{\n    key: \"initialize\",\n    value: function initialize() {\n      var $container
    = this.options.dialogsInBody ? this.$body : this.options.container;\n      var
    body = ['<p class=\"text-center\">', '<a href=\"http://summernote.org/\" target=\"_blank\">Summernote
    0.8.18</a> · ', '<a href=\"https://github.com/summernote/summernote\" target=\"_blank\">Project</a>
    · ', '<a href=\"https://github.com/summernote/summernote/issues\" target=\"_blank\">Issues</a>',
    '</p>'].join('');\n      this.$dialog = this.ui.dialog({\n        title: this.lang.options.help,\n
    \       fade: this.options.dialogsFade,\n        body: this.createShortcutList(),\n
    \       footer: body,\n        callback: function callback($node) {\n          $node.find('.modal-body,.note-modal-body').css({\n
    \           'max-height': 300,\n            'overflow': 'scroll'\n          });\n
    \       }\n      }).render().appendTo($container);\n    }\n  }, {\n    key: \"destroy\",\n
    \   value: function destroy() {\n      this.ui.hideDialog(this.$dialog);\n      this.$dialog.remove();\n
    \   }\n  }, {\n    key: \"createShortcutList\",\n    value: function createShortcutList()
    {\n      var _this = this;\n\n      var keyMap = this.options.keyMap[env.isMac
    ? 'mac' : 'pc'];\n      return Object.keys(keyMap).map(function (key) {\n        var
    command = keyMap[key];\n        var $row = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div><div
    class=\"help-list-item\"></div></div>');\n        $row.append(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<label><kbd>'
    + key + '</kdb></label>').css({\n          'width': 180,\n          'margin-right':
    10\n        })).append(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<span/>').html(_this.context.memo('help.'
    + command) || command));\n        return $row.html();\n      }).join('');\n    }\n
    \   /**\n     * show help dialog\n     *\n     * @return {Promise}\n     */\n\n
    \ }, {\n    key: \"showHelpDialog\",\n    value: function showHelpDialog() {\n
    \     var _this2 = this;\n\n      return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function
    (deferred) {\n        _this2.ui.onDialogShown(_this2.$dialog, function () {\n
    \         _this2.context.triggerEvent('dialog.shown');\n\n          deferred.resolve();\n
    \       });\n\n        _this2.ui.showDialog(_this2.$dialog);\n      }).promise();\n
    \   }\n  }, {\n    key: \"show\",\n    value: function show() {\n      var _this3
    = this;\n\n      this.context.invoke('editor.saveRange');\n      this.showHelpDialog().then(function
    () {\n        _this3.context.invoke('editor.restoreRange');\n      });\n    }\n
    \ }]);\n\n  return HelpDialog;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/module/AirPopover.js\nfunction
    AirPopover_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor))
    { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction
    AirPopover_defineProperties(target, props) { for (var i = 0; i < props.length;
    i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable
    || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    AirPopover_createClass(Constructor, protoProps, staticProps) { if (protoProps)
    AirPopover_defineProperties(Constructor.prototype, protoProps); if (staticProps)
    AirPopover_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar
    AIRMODE_POPOVER_X_OFFSET = -5;\nvar AIRMODE_POPOVER_Y_OFFSET = 5;\n\nvar AirPopover_AirPopover
    = /*#__PURE__*/function () {\n  function AirPopover(context) {\n    var _this
    = this;\n\n    AirPopover_classCallCheck(this, AirPopover);\n\n    this.context
    = context;\n    this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.options = context.options;\n    this.hidable = true;\n    this.onContextmenu
    = false;\n    this.pageX = null;\n    this.pageY = null;\n    this.events = {\n
    \     'summernote.contextmenu': function summernoteContextmenu(e) {\n        if
    (_this.options.editing) {\n          e.preventDefault();\n          e.stopPropagation();\n
    \         _this.onContextmenu = true;\n\n          _this.update(true);\n        }\n
    \     },\n      'summernote.mousedown': function summernoteMousedown(we, e) {\n
    \       _this.pageX = e.pageX;\n        _this.pageY = e.pageY;\n      },\n      'summernote.keyup
    summernote.mouseup summernote.scroll': function summernoteKeyupSummernoteMouseupSummernoteScroll(we,
    e) {\n        if (_this.options.editing && !_this.onContextmenu) {\n          _this.pageX
    = e.pageX;\n          _this.pageY = e.pageY;\n\n          _this.update();\n        }\n\n
    \       _this.onContextmenu = false;\n      },\n      'summernote.disable summernote.change
    summernote.dialog.shown summernote.blur': function summernoteDisableSummernoteChangeSummernoteDialogShownSummernoteBlur()
    {\n        _this.hide();\n      },\n      'summernote.focusout': function summernoteFocusout()
    {\n        if (!_this.$popover.is(':active,:focus')) {\n          _this.hide();\n
    \       }\n      }\n    };\n  }\n\n  AirPopover_createClass(AirPopover, [{\n    key:
    \"shouldInitialize\",\n    value: function shouldInitialize() {\n      return
    this.options.airMode && !lists.isEmpty(this.options.popover.air);\n    }\n  },
    {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2
    = this;\n\n      this.$popover = this.ui.popover({\n        className: 'note-air-popover'\n
    \     }).render().appendTo(this.options.container);\n      var $content = this.$popover.find('.popover-content');\n
    \     this.context.invoke('buttons.build', $content, this.options.popover.air);
    // disable hiding this popover preemptively by 'summernote.blur' event.\n\n      this.$popover.on('mousedown',
    function () {\n        _this2.hidable = false;\n      }); // (re-)enable hiding
    after 'summernote.blur' has been handled (aka. ignored).\n\n      this.$popover.on('mouseup',
    function () {\n        _this2.hidable = true;\n      });\n    }\n  }, {\n    key:
    \"destroy\",\n    value: function destroy() {\n      this.$popover.remove();\n
    \   }\n  }, {\n    key: \"update\",\n    value: function update(forcelyOpen) {\n
    \     var styleInfo = this.context.invoke('editor.currentStyle');\n\n      if
    (styleInfo.range && (!styleInfo.range.isCollapsed() || forcelyOpen)) {\n        var
    rect = {\n          left: this.pageX,\n          top: this.pageY\n        };\n
    \       var containerOffset = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();\n
    \       rect.top -= containerOffset.top;\n        rect.left -= containerOffset.left;\n
    \       this.$popover.css({\n          display: 'block',\n          left: Math.max(rect.left,
    0) + AIRMODE_POPOVER_X_OFFSET,\n          top: rect.top + AIRMODE_POPOVER_Y_OFFSET\n
    \       });\n        this.context.invoke('buttons.updateCurrentStyle', this.$popover);\n
    \     } else {\n        this.hide();\n      }\n    }\n  }, {\n    key: \"updateCodeview\",\n
    \   value: function updateCodeview(isCodeview) {\n      this.ui.toggleBtnActive(this.$popover.find('.btn-codeview'),
    isCodeview);\n\n      if (isCodeview) {\n        this.hide();\n      }\n    }\n
    \ }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.hidable)
    {\n        this.$popover.hide();\n      }\n    }\n  }]);\n\n  return AirPopover;\n}();\n\n\n//
    CONCATENATED MODULE: ./src/js/base/module/HintPopover.js\nfunction HintPopover_classCallCheck(instance,
    Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot
    call a class as a function\"); } }\n\nfunction HintPopover_defineProperties(target,
    props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable
    = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\"
    in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key,
    descriptor); } }\n\nfunction HintPopover_createClass(Constructor, protoProps,
    staticProps) { if (protoProps) HintPopover_defineProperties(Constructor.prototype,
    protoProps); if (staticProps) HintPopover_defineProperties(Constructor, staticProps);
    return Constructor; }\n\n\n\n\n\n\n\nvar POPOVER_DIST = 5;\n\nvar HintPopover_HintPopover
    = /*#__PURE__*/function () {\n  function HintPopover(context) {\n    var _this
    = this;\n\n    HintPopover_classCallCheck(this, HintPopover);\n\n    this.context
    = context;\n    this.ui = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;\n
    \   this.$editable = context.layoutInfo.editable;\n    this.options = context.options;\n
    \   this.hint = this.options.hint || [];\n    this.direction = this.options.hintDirection
    || 'bottom';\n    this.hints = Array.isArray(this.hint) ? this.hint : [this.hint];\n
    \   this.events = {\n      'summernote.keyup': function summernoteKeyup(we, e)
    {\n        if (!e.isDefaultPrevented()) {\n          _this.handleKeyup(e);\n        }\n
    \     },\n      'summernote.keydown': function summernoteKeydown(we, e) {\n        _this.handleKeydown(e);\n
    \     },\n      'summernote.disable summernote.dialog.shown summernote.blur':
    function summernoteDisableSummernoteDialogShownSummernoteBlur() {\n        _this.hide();\n
    \     }\n    };\n  }\n\n  HintPopover_createClass(HintPopover, [{\n    key: \"shouldInitialize\",\n
    \   value: function shouldInitialize() {\n      return this.hints.length > 0;\n
    \   }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n
    \     var _this2 = this;\n\n      this.lastWordRange = null;\n      this.matchingWord
    = null;\n      this.$popover = this.ui.popover({\n        className: 'note-hint-popover',\n
    \       hideArrow: true,\n        direction: ''\n      }).render().appendTo(this.options.container);\n
    \     this.$popover.hide();\n      this.$content = this.$popover.find('.popover-content,.note-popover-content');\n
    \     this.$content.on('click', '.note-hint-item', function (e) {\n        _this2.$content.find('.active').removeClass('active');\n\n
    \       external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(e.currentTarget).addClass('active');\n\n
    \       _this2.replace();\n      });\n      this.$popover.on('mousedown', function
    (e) {\n        e.preventDefault();\n      });\n    }\n  }, {\n    key: \"destroy\",\n
    \   value: function destroy() {\n      this.$popover.remove();\n    }\n  }, {\n
    \   key: \"selectItem\",\n    value: function selectItem($item) {\n      this.$content.find('.active').removeClass('active');\n
    \     $item.addClass('active');\n      this.$content[0].scrollTop = $item[0].offsetTop
    - this.$content.innerHeight() / 2;\n    }\n  }, {\n    key: \"moveDown\",\n    value:
    function moveDown() {\n      var $current = this.$content.find('.note-hint-item.active');\n
    \     var $next = $current.next();\n\n      if ($next.length) {\n        this.selectItem($next);\n
    \     } else {\n        var $nextGroup = $current.parent().next();\n\n        if
    (!$nextGroup.length) {\n          $nextGroup = this.$content.find('.note-hint-group').first();\n
    \       }\n\n        this.selectItem($nextGroup.find('.note-hint-item').first());\n
    \     }\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp() {\n
    \     var $current = this.$content.find('.note-hint-item.active');\n      var
    $prev = $current.prev();\n\n      if ($prev.length) {\n        this.selectItem($prev);\n
    \     } else {\n        var $prevGroup = $current.parent().prev();\n\n        if
    (!$prevGroup.length) {\n          $prevGroup = this.$content.find('.note-hint-group').last();\n
    \       }\n\n        this.selectItem($prevGroup.find('.note-hint-item').last());\n
    \     }\n    }\n  }, {\n    key: \"replace\",\n    value: function replace() {\n
    \     var $item = this.$content.find('.note-hint-item.active');\n\n      if ($item.length)
    {\n        var node = this.nodeFromItem($item); // If matchingWord length = 0
    -> capture OK / open hint / but as mention capture \"\" (\\w*)\n\n        if (this.matchingWord
    !== null && this.matchingWord.length === 0) {\n          this.lastWordRange.so
    = this.lastWordRange.eo; // Else si > 0 and normal case -> adjust range \"before\"
    for correct position of insertion\n        } else if (this.matchingWord !== null
    && this.matchingWord.length > 0 && !this.lastWordRange.isCollapsed()) {\n          var
    rangeCompute = this.lastWordRange.eo - this.lastWordRange.so - this.matchingWord.length;\n\n
    \         if (rangeCompute > 0) {\n            this.lastWordRange.so += rangeCompute;\n
    \         }\n        }\n\n        this.lastWordRange.insertNode(node);\n\n        if
    (this.options.hintSelect === 'next') {\n          var blank = document.createTextNode('');\n
    \         external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).after(blank);\n
    \         range.createFromNodeBefore(blank).select();\n        } else {\n          range.createFromNodeAfter(node).select();\n
    \       }\n\n        this.lastWordRange = null;\n        this.hide();\n        this.context.invoke('editor.focus');\n
    \     }\n    }\n  }, {\n    key: \"nodeFromItem\",\n    value: function nodeFromItem($item)
    {\n      var hint = this.hints[$item.data('index')];\n      var item = $item.data('item');\n
    \     var node = hint.content ? hint.content(item) : item;\n\n      if (typeof
    node === 'string') {\n        node = dom.createText(node);\n      }\n\n      return
    node;\n    }\n  }, {\n    key: \"createItemTemplates\",\n    value: function createItemTemplates(hintIdx,
    items) {\n      var hint = this.hints[hintIdx];\n      return items.map(function
    (item\n      /*, idx */\n      ) {\n        var $item = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div
    class=\"note-hint-item\"/>');\n        $item.append(hint.template ? hint.template(item)
    : item + '');\n        $item.data({\n          'index': hintIdx,\n          'item':
    item\n        });\n        return $item;\n      });\n    }\n  }, {\n    key: \"handleKeydown\",\n
    \   value: function handleKeydown(e) {\n      if (!this.$popover.is(':visible'))
    {\n        return;\n      }\n\n      if (e.keyCode === core_key.code.ENTER) {\n
    \       e.preventDefault();\n        this.replace();\n      } else if (e.keyCode
    === core_key.code.UP) {\n        e.preventDefault();\n        this.moveUp();\n
    \     } else if (e.keyCode === core_key.code.DOWN) {\n        e.preventDefault();\n
    \       this.moveDown();\n      }\n    }\n  }, {\n    key: \"searchKeyword\",\n
    \   value: function searchKeyword(index, keyword, callback) {\n      var hint
    = this.hints[index];\n\n      if (hint && hint.match.test(keyword) && hint.search)
    {\n        var matches = hint.match.exec(keyword);\n        this.matchingWord
    = matches[0];\n        hint.search(matches[1], callback);\n      } else {\n        callback();\n
    \     }\n    }\n  }, {\n    key: \"createGroup\",\n    value: function createGroup(idx,
    keyword) {\n      var _this3 = this;\n\n      var $group = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div
    class=\"note-hint-group note-hint-group-' + idx + '\"></div>');\n      this.searchKeyword(idx,
    keyword, function (items) {\n        items = items || [];\n\n        if (items.length)
    {\n          $group.html(_this3.createItemTemplates(idx, items));\n\n          _this3.show();\n
    \       }\n      });\n      return $group;\n    }\n  }, {\n    key: \"handleKeyup\",\n
    \   value: function handleKeyup(e) {\n      var _this4 = this;\n\n      if (!lists.contains([core_key.code.ENTER,
    core_key.code.UP, core_key.code.DOWN], e.keyCode)) {\n        var _range = this.context.invoke('editor.getLastRange');\n\n
    \       var wordRange, keyword;\n\n        if (this.options.hintMode === 'words')
    {\n          wordRange = _range.getWordsRange(_range);\n          keyword = wordRange.toString();\n
    \         this.hints.forEach(function (hint) {\n            if (hint.match.test(keyword))
    {\n              wordRange = _range.getWordsMatchRange(hint.match);\n              return
    false;\n            }\n          });\n\n          if (!wordRange) {\n            this.hide();\n
    \           return;\n          }\n\n          keyword = wordRange.toString();\n
    \       } else {\n          wordRange = _range.getWordRange();\n          keyword
    = wordRange.toString();\n        }\n\n        if (this.hints.length && keyword)
    {\n          this.$content.empty();\n          var bnd = func.rect2bnd(lists.last(wordRange.getClientRects()));\n
    \         var containerOffset = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();\n\n
    \         if (bnd) {\n            bnd.top -= containerOffset.top;\n            bnd.left
    -= containerOffset.left;\n            this.$popover.hide();\n            this.lastWordRange
    = wordRange;\n            this.hints.forEach(function (hint, idx) {\n              if
    (hint.match.test(keyword)) {\n                _this4.createGroup(idx, keyword).appendTo(_this4.$content);\n
    \             }\n            }); // select first .note-hint-item\n\n            this.$content.find('.note-hint-item:first').addClass('active');
    // set position for popover after group is created\n\n            if (this.direction
    === 'top') {\n              this.$popover.css({\n                left: bnd.left,\n
    \               top: bnd.top - this.$popover.outerHeight() - POPOVER_DIST\n              });\n
    \           } else {\n              this.$popover.css({\n                left:
    bnd.left,\n                top: bnd.top + bnd.height + POPOVER_DIST\n              });\n
    \           }\n          }\n        } else {\n          this.hide();\n        }\n
    \     }\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.$popover.show();\n
    \   }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.$popover.hide();\n
    \   }\n  }]);\n\n  return HintPopover;\n}();\n\n\n// CONCATENATED MODULE: ./src/js/base/settings.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexternal_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote,
    {\n  version: '0.8.18',\n  plugins: {},\n  dom: dom,\n  range: range,\n  lists:
    lists,\n  options: {\n    langInfo: external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.lang['en-US'],\n
    \   editing: true,\n    modules: {\n      'editor': Editor_Editor,\n      'clipboard':
    Clipboard_Clipboard,\n      'dropzone': Dropzone_Dropzone,\n      'codeview':
    Codeview_CodeView,\n      'statusbar': Statusbar_Statusbar,\n      'fullscreen':
    Fullscreen_Fullscreen,\n      'handle': Handle_Handle,\n      // FIXME: HintPopover
    must be front of autolink\n      //  - Script error about range when Enter key
    is pressed on hint popover\n      'hintPopover': HintPopover_HintPopover,\n      'autoLink':
    AutoLink_AutoLink,\n      'autoSync': AutoSync_AutoSync,\n      'autoReplace':
    AutoReplace_AutoReplace,\n      'placeholder': Placeholder_Placeholder,\n      'buttons':
    Buttons_Buttons,\n      'toolbar': Toolbar_Toolbar,\n      'linkDialog': LinkDialog_LinkDialog,\n
    \     'linkPopover': LinkPopover_LinkPopover,\n      'imageDialog': ImageDialog_ImageDialog,\n
    \     'imagePopover': ImagePopover_ImagePopover,\n      'tablePopover': TablePopover_TablePopover,\n
    \     'videoDialog': VideoDialog_VideoDialog,\n      'helpDialog': HelpDialog_HelpDialog,\n
    \     'airPopover': AirPopover_AirPopover\n    },\n    buttons: {},\n    lang:
    'en-US',\n    followingToolbar: false,\n    toolbarPosition: 'top',\n    otherStaticBar:
    '',\n    // toolbar\n    codeviewKeepButton: false,\n    toolbar: [['style', ['style']],
    ['font', ['bold', 'underline', 'clear']], ['fontname', ['fontname']], ['color',
    ['color']], ['para', ['ul', 'ol', 'paragraph']], ['table', ['table']], ['insert',
    ['link', 'picture', 'video']], ['view', ['fullscreen', 'codeview', 'help']]],\n
    \   // popover\n    popatmouse: true,\n    popover: {\n      image: [['resize',
    ['resizeFull', 'resizeHalf', 'resizeQuarter', 'resizeNone']], ['float', ['floatLeft',
    'floatRight', 'floatNone']], ['remove', ['removeMedia']]],\n      link: [['link',
    ['linkDialogShow', 'unlink']]],\n      table: [['add', ['addRowDown', 'addRowUp',
    'addColLeft', 'addColRight']], ['delete', ['deleteRow', 'deleteCol', 'deleteTable']]],\n
    \     air: [['color', ['color']], ['font', ['bold', 'underline', 'clear']], ['para',
    ['ul', 'paragraph']], ['table', ['table']], ['insert', ['link', 'picture']], ['view',
    ['fullscreen', 'codeview']]]\n    },\n    // air mode: inline editor\n    airMode:
    false,\n    overrideContextMenu: false,\n    // TBD\n    width: null,\n    height:
    null,\n    linkTargetBlank: true,\n    useProtocol: true,\n    defaultProtocol:
    'http://',\n    focus: false,\n    tabDisabled: false,\n    tabSize: 4,\n    styleWithCSS:
    false,\n    shortcuts: true,\n    textareaAutoSync: true,\n    tooltip: 'auto',\n
    \   container: null,\n    maxTextLength: 0,\n    blockquoteBreakingLevel: 2,\n
    \   spellCheck: true,\n    disableGrammar: false,\n    placeholder: null,\n    inheritPlaceholder:
    false,\n    // TODO: need to be documented\n    recordEveryKeystroke: false,\n
    \   historyLimit: 200,\n    // TODO: need to be documented\n    showDomainOnlyForAutolink:
    false,\n    // TODO: need to be documented\n    hintMode: 'word',\n    hintSelect:
    'after',\n    hintDirection: 'bottom',\n    styleTags: ['p', 'blockquote', 'pre',
    'h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n    fontNames: ['Arial', 'Arial Black',
    'Comic Sans MS', 'Courier New', 'Helvetica Neue', 'Helvetica', 'Impact', 'Lucida
    Grande', 'Tahoma', 'Times New Roman', 'Verdana'],\n    fontNamesIgnoreCheck: [],\n
    \   addDefaultFonts: true,\n    fontSizes: ['8', '9', '10', '11', '12', '14',
    '18', '24', '36'],\n    fontSizeUnits: ['px', 'pt'],\n    // pallete colors(n
    x n)\n    colors: [['#000000', '#424242', '#636363', '#9C9C94', '#CEC6CE', '#EFEFEF',
    '#F7F7F7', '#FFFFFF'], ['#FF0000', '#FF9C00', '#FFFF00', '#00FF00', '#00FFFF',
    '#0000FF', '#9C00FF', '#FF00FF'], ['#F7C6CE', '#FFE7CE', '#FFEFC6', '#D6EFD6',
    '#CEDEE7', '#CEE7F7', '#D6D6E7', '#E7D6DE'], ['#E79C9C', '#FFC69C', '#FFE79C',
    '#B5D6A5', '#A5C6CE', '#9CC6EF', '#B5A5D6', '#D6A5BD'], ['#E76363', '#F7AD6B',
    '#FFD663', '#94BD7B', '#73A5AD', '#6BADDE', '#8C7BC6', '#C67BA5'], ['#CE0000',
    '#E79439', '#EFC631', '#6BA54A', '#4A7B8C', '#3984C6', '#634AA5', '#A54A7B'],
    ['#9C0000', '#B56308', '#BD9400', '#397B21', '#104A5A', '#085294', '#311873',
    '#731842'], ['#630000', '#7B3900', '#846300', '#295218', '#083139', '#003163',
    '#21104A', '#4A1031']],\n    // http://chir.ag/projects/name-that-color/\n    colorsName:
    [['Black', 'Tundora', 'Dove Gray', 'Star Dust', 'Pale Slate', 'Gallery', 'Alabaster',
    'White'], ['Red', 'Orange Peel', 'Yellow', 'Green', 'Cyan', 'Blue', 'Electric
    Violet', 'Magenta'], ['Azalea', 'Karry', 'Egg White', 'Zanah', 'Botticelli', 'Tropical
    Blue', 'Mischka', 'Twilight'], ['Tonys Pink', 'Peach Orange', 'Cream Brulee',
    'Sprout', 'Casper', 'Perano', 'Cold Purple', 'Careys Pink'], ['Mandy', 'Rajah',
    'Dandelion', 'Olivine', 'Gulf Stream', 'Viking', 'Blue Marguerite', 'Puce'], ['Guardsman
    Red', 'Fire Bush', 'Golden Dream', 'Chelsea Cucumber', 'Smalt Blue', 'Boston Blue',
    'Butterfly Bush', 'Cadillac'], ['Sangria', 'Mai Tai', 'Buddha Gold', 'Forest Green',
    'Eden', 'Venice Blue', 'Meteorite', 'Claret'], ['Rosewood', 'Cinnamon', 'Olive',
    'Parsley', 'Tiber', 'Midnight Blue', 'Valentino', 'Loulou']],\n    colorButton:
    {\n      foreColor: '#000000',\n      backColor: '#FFFF00'\n    },\n    lineHeights:
    ['1.0', '1.2', '1.4', '1.5', '1.6', '1.8', '2.0', '3.0'],\n    tableClassName:
    'table table-bordered',\n    insertTableMaxSize: {\n      col: 10,\n      row:
    10\n    },\n    // By default, dialogs are attached in container.\n    dialogsInBody:
    false,\n    dialogsFade: false,\n    maximumImageFileSize: null,\n    callbacks:
    {\n      onBeforeCommand: null,\n      onBlur: null,\n      onBlurCodeview: null,\n
    \     onChange: null,\n      onChangeCodeview: null,\n      onDialogShown: null,\n
    \     onEnter: null,\n      onFocus: null,\n      onImageLinkInsert: null,\n      onImageUpload:
    null,\n      onImageUploadError: null,\n      onInit: null,\n      onKeydown:
    null,\n      onKeyup: null,\n      onMousedown: null,\n      onMouseup: null,\n
    \     onPaste: null,\n      onScroll: null\n    },\n    codemirror: {\n      mode:
    'text/html',\n      htmlMode: true,\n      lineNumbers: true\n    },\n    codeviewFilter:
    false,\n    codeviewFilterRegex: /<\\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,\n
    \   codeviewIframeFilter: true,\n    codeviewIframeWhitelistSrc: [],\n    codeviewIframeWhitelistSrcBase:
    ['www.youtube.com', 'www.youtube-nocookie.com', 'www.facebook.com', 'vine.co',
    'instagram.com', 'player.vimeo.com', 'www.dailymotion.com', 'player.youku.com',
    'v.qq.com'],\n    keyMap: {\n      pc: {\n        'ESC': 'escape',\n        'ENTER':
    'insertParagraph',\n        'CTRL+Z': 'undo',\n        'CTRL+Y': 'redo',\n        'TAB':
    'tab',\n        'SHIFT+TAB': 'untab',\n        'CTRL+B': 'bold',\n        'CTRL+I':
    'italic',\n        'CTRL+U': 'underline',\n        'CTRL+SHIFT+S': 'strikethrough',\n
    \       'CTRL+BACKSLASH': 'removeFormat',\n        'CTRL+SHIFT+L': 'justifyLeft',\n
    \       'CTRL+SHIFT+E': 'justifyCenter',\n        'CTRL+SHIFT+R': 'justifyRight',\n
    \       'CTRL+SHIFT+J': 'justifyFull',\n        'CTRL+SHIFT+NUM7': 'insertUnorderedList',\n
    \       'CTRL+SHIFT+NUM8': 'insertOrderedList',\n        'CTRL+LEFTBRACKET': 'outdent',\n
    \       'CTRL+RIGHTBRACKET': 'indent',\n        'CTRL+NUM0': 'formatPara',\n        'CTRL+NUM1':
    'formatH1',\n        'CTRL+NUM2': 'formatH2',\n        'CTRL+NUM3': 'formatH3',\n
    \       'CTRL+NUM4': 'formatH4',\n        'CTRL+NUM5': 'formatH5',\n        'CTRL+NUM6':
    'formatH6',\n        'CTRL+ENTER': 'insertHorizontalRule',\n        'CTRL+K':
    'linkDialog.show'\n      },\n      mac: {\n        'ESC': 'escape',\n        'ENTER':
    'insertParagraph',\n        'CMD+Z': 'undo',\n        'CMD+SHIFT+Z': 'redo',\n
    \       'TAB': 'tab',\n        'SHIFT+TAB': 'untab',\n        'CMD+B': 'bold',\n
    \       'CMD+I': 'italic',\n        'CMD+U': 'underline',\n        'CMD+SHIFT+S':
    'strikethrough',\n        'CMD+BACKSLASH': 'removeFormat',\n        'CMD+SHIFT+L':
    'justifyLeft',\n        'CMD+SHIFT+E': 'justifyCenter',\n        'CMD+SHIFT+R':
    'justifyRight',\n        'CMD+SHIFT+J': 'justifyFull',\n        'CMD+SHIFT+NUM7':
    'insertUnorderedList',\n        'CMD+SHIFT+NUM8': 'insertOrderedList',\n        'CMD+LEFTBRACKET':
    'outdent',\n        'CMD+RIGHTBRACKET': 'indent',\n        'CMD+NUM0': 'formatPara',\n
    \       'CMD+NUM1': 'formatH1',\n        'CMD+NUM2': 'formatH2',\n        'CMD+NUM3':
    'formatH3',\n        'CMD+NUM4': 'formatH4',\n        'CMD+NUM5': 'formatH5',\n
    \       'CMD+NUM6': 'formatH6',\n        'CMD+ENTER': 'insertHorizontalRule',\n
    \       'CMD+K': 'linkDialog.show'\n      }\n    },\n    icons: {\n      'align':
    'note-icon-align',\n      'alignCenter': 'note-icon-align-center',\n      'alignJustify':
    'note-icon-align-justify',\n      'alignLeft': 'note-icon-align-left',\n      'alignRight':
    'note-icon-align-right',\n      'rowBelow': 'note-icon-row-below',\n      'colBefore':
    'note-icon-col-before',\n      'colAfter': 'note-icon-col-after',\n      'rowAbove':
    'note-icon-row-above',\n      'rowRemove': 'note-icon-row-remove',\n      'colRemove':
    'note-icon-col-remove',\n      'indent': 'note-icon-align-indent',\n      'outdent':
    'note-icon-align-outdent',\n      'arrowsAlt': 'note-icon-arrows-alt',\n      'bold':
    'note-icon-bold',\n      'caret': 'note-icon-caret',\n      'circle': 'note-icon-circle',\n
    \     'close': 'note-icon-close',\n      'code': 'note-icon-code',\n      'eraser':
    'note-icon-eraser',\n      'floatLeft': 'note-icon-float-left',\n      'floatRight':
    'note-icon-float-right',\n      'font': 'note-icon-font',\n      'frame': 'note-icon-frame',\n
    \     'italic': 'note-icon-italic',\n      'link': 'note-icon-link',\n      'unlink':
    'note-icon-chain-broken',\n      'magic': 'note-icon-magic',\n      'menuCheck':
    'note-icon-menu-check',\n      'minus': 'note-icon-minus',\n      'orderedlist':
    'note-icon-orderedlist',\n      'pencil': 'note-icon-pencil',\n      'picture':
    'note-icon-picture',\n      'question': 'note-icon-question',\n      'redo': 'note-icon-redo',\n
    \     'rollback': 'note-icon-rollback',\n      'square': 'note-icon-square',\n
    \     'strikethrough': 'note-icon-strikethrough',\n      'subscript': 'note-icon-subscript',\n
    \     'superscript': 'note-icon-superscript',\n      'table': 'note-icon-table',\n
    \     'textHeight': 'note-icon-text-height',\n      'trash': 'note-icon-trash',\n
    \     'underline': 'note-icon-underline',\n      'undo': 'note-icon-undo',\n      'unorderedlist':
    'note-icon-unorderedlist',\n      'video': 'note-icon-video'\n    }\n  }\n});\n\n/***/
    }),\n\n/***/ 4:\n/***/ (function(module, exports, __webpack_require__) {\n\n//
    extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module,
    __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT
    FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: external
    {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}\nvar
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_ = __webpack_require__(0);\nvar
    external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default = /*#__PURE__*/__webpack_require__.n(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_);\n\n//
    EXTERNAL MODULE: ./src/js/base/renderer.js\nvar renderer = __webpack_require__(1);\n\n//
    CONCATENATED MODULE: ./src/js/bs3/ui.js\nfunction _typeof(obj) { \"@babel/helpers
    - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\")
    { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function
    _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor
    === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return
    _typeof(obj); }\n\n\n\nvar editor = renderer[\"a\" /* default */].create('<div
    class=\"note-editor note-frame panel panel-default\"/>');\nvar toolbar = renderer[\"a\"
    /* default */].create('<div class=\"panel-heading note-toolbar\" role=\"toolbar\"/>');\nvar
    editingArea = renderer[\"a\" /* default */].create('<div class=\"note-editing-area\"/>');\nvar
    codable = renderer[\"a\" /* default */].create('<textarea class=\"note-codable\"
    aria-multiline=\"true\"/>');\nvar editable = renderer[\"a\" /* default */].create('<div
    class=\"note-editable\" contentEditable=\"true\" role=\"textbox\" aria-multiline=\"true\"/>');\nvar
    statusbar = renderer[\"a\" /* default */].create(['<output class=\"note-status-output\"
    role=\"status\" aria-live=\"polite\"></output>', '<div class=\"note-statusbar\"
    role=\"status\">', '<div class=\"note-resizebar\" aria-label=\"Resize\">', '<div
    class=\"note-icon-bar\"></div>', '<div class=\"note-icon-bar\"></div>', '<div
    class=\"note-icon-bar\"></div>', '</div>', '</div>'].join(''));\nvar airEditor
    = renderer[\"a\" /* default */].create('<div class=\"note-editor note-airframe\"/>');\nvar
    airEditable = renderer[\"a\" /* default */].create(['<div class=\"note-editable\"
    contentEditable=\"true\" role=\"textbox\" aria-multiline=\"true\"></div>', '<output
    class=\"note-status-output\" role=\"status\" aria-live=\"polite\"></output>'].join(''));\nvar
    buttonGroup = renderer[\"a\" /* default */].create('<div class=\"note-btn-group
    btn-group\">');\nvar dropdown = renderer[\"a\" /* default */].create('<ul class=\"note-dropdown-menu
    dropdown-menu\">', function ($node, options) {\n  var markup = Array.isArray(options.items)
    ? options.items.map(function (item) {\n    var value = typeof item === 'string'
    ? item : item.value || '';\n    var content = options.template ? options.template(item)
    : item;\n    var option = _typeof(item) === 'object' ? item.option : undefined;\n
    \   var dataValue = 'data-value=\"' + value + '\"';\n    var dataOption = option
    !== undefined ? ' data-option=\"' + option + '\"' : '';\n    return '<li aria-label=\"'
    + value + '\"><a href=\"#\" ' + (dataValue + dataOption) + '>' + content + '</a></li>';\n
    \ }).join('') : options.items;\n  $node.html(markup).attr({\n    'aria-label':
    options.title\n  });\n\n  if (options && options.codeviewKeepButton) {\n    $node.addClass('note-codeview-keep');\n
    \ }\n});\n\nvar dropdownButtonContents = function dropdownButtonContents(contents,
    options) {\n  return contents + ' ' + icon(options.icons.caret, 'span');\n};\n\nvar
    dropdownCheck = renderer[\"a\" /* default */].create('<ul class=\"note-dropdown-menu
    dropdown-menu note-check\">', function ($node, options) {\n  var markup = Array.isArray(options.items)
    ? options.items.map(function (item) {\n    var value = typeof item === 'string'
    ? item : item.value || '';\n    var content = options.template ? options.template(item)
    : item;\n    return '<li aria-label=\"' + item + '\"><a href=\"#\" data-value=\"'
    + value + '\">' + icon(options.checkClassName) + ' ' + content + '</a></li>';\n
    \ }).join('') : options.items;\n  $node.html(markup).attr({\n    'aria-label':
    options.title\n  });\n\n  if (options && options.codeviewKeepButton) {\n    $node.addClass('note-codeview-keep');\n
    \ }\n});\nvar dialog = renderer[\"a\" /* default */].create('<div class=\"modal
    note-modal\" aria-hidden=\"false\" tabindex=\"-1\" role=\"dialog\"/>', function
    ($node, options) {\n  if (options.fade) {\n    $node.addClass('fade');\n  }\n\n
    \ $node.attr({\n    'aria-label': options.title\n  });\n  $node.html(['<div class=\"modal-dialog\">',
    '<div class=\"modal-content\">', options.title ? '<div class=\"modal-header\">'
    + '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"
    aria-hidden=\"true\">&times;</button>' + '<h4 class=\"modal-title\">' + options.title
    + '</h4>' + '</div>' : '', '<div class=\"modal-body\">' + options.body + '</div>',
    options.footer ? '<div class=\"modal-footer\">' + options.footer + '</div>' :
    '', '</div>', '</div>'].join(''));\n});\nvar popover = renderer[\"a\" /* default
    */].create(['<div class=\"note-popover popover in\">', '<div class=\"arrow\"></div>',
    '<div class=\"popover-content note-children-container\"></div>', '</div>'].join(''),
    function ($node, options) {\n  var direction = typeof options.direction !== 'undefined'
    ? options.direction : 'bottom';\n  $node.addClass(direction);\n\n  if (options.hideArrow)
    {\n    $node.find('.arrow').hide();\n  }\n});\nvar ui_checkbox = renderer[\"a\"
    /* default */].create('<div class=\"checkbox\"></div>', function ($node, options)
    {\n  $node.html(['<label' + (options.id ? ' for=\"note-' + options.id + '\"' :
    '') + '>', '<input type=\"checkbox\"' + (options.id ? ' id=\"note-' + options.id
    + '\"' : ''), options.checked ? ' checked' : '', ' aria-checked=\"' + (options.checked
    ? 'true' : 'false') + '\"/>', options.text ? options.text : '', '</label>'].join(''));\n});\n\nvar
    icon = function icon(iconClassName, tagName) {\n  tagName = tagName || 'i';\n
    \ return '<' + tagName + ' class=\"' + iconClassName + '\"></' + tagName + '>';\n};\n\nvar
    ui_ui = function ui(editorOptions) {\n  return {\n    editor: editor,\n    toolbar:
    toolbar,\n    editingArea: editingArea,\n    codable: codable,\n    editable:
    editable,\n    statusbar: statusbar,\n    airEditor: airEditor,\n    airEditable:
    airEditable,\n    buttonGroup: buttonGroup,\n    dropdown: dropdown,\n    dropdownButtonContents:
    dropdownButtonContents,\n    dropdownCheck: dropdownCheck,\n    dialog: dialog,\n
    \   popover: popover,\n    checkbox: ui_checkbox,\n    icon: icon,\n    options:
    editorOptions,\n    palette: function palette($node, options) {\n      return
    renderer[\"a\" /* default */].create('<div class=\"note-color-palette\"/>', function
    ($node, options) {\n        var contents = [];\n\n        for (var row = 0, rowSize
    = options.colors.length; row < rowSize; row++) {\n          var eventName = options.eventName;\n
    \         var colors = options.colors[row];\n          var colorsName = options.colorsName[row];\n
    \         var buttons = [];\n\n          for (var col = 0, colSize = colors.length;
    col < colSize; col++) {\n            var color = colors[col];\n            var
    colorName = colorsName[col];\n            buttons.push(['<button type=\"button\"
    class=\"note-color-btn\"', 'style=\"background-color:', color, '\" ', 'data-event=\"',
    eventName, '\" ', 'data-value=\"', color, '\" ', 'title=\"', colorName, '\" ',
    'aria-label=\"', colorName, '\" ', 'data-toggle=\"button\" tabindex=\"-1\"></button>'].join(''));\n
    \         }\n\n          contents.push('<div class=\"note-color-row\">' + buttons.join('')
    + '</div>');\n        }\n\n        $node.html(contents.join(''));\n\n        if
    (options.tooltip) {\n          $node.find('.note-color-btn').tooltip({\n            container:
    options.container || editorOptions.container,\n            trigger: 'hover',\n
    \           placement: 'bottom'\n          });\n        }\n      })($node, options);\n
    \   },\n    button: function button($node, options) {\n      return renderer[\"a\"
    /* default */].create('<button type=\"button\" class=\"note-btn btn btn-default
    btn-sm\" tabindex=\"-1\">', function ($node, options) {\n        if (options &&
    options.tooltip) {\n          $node.attr({\n            title: options.tooltip,\n
    \           'aria-label': options.tooltip\n          }).tooltip({\n            container:
    options.container || editorOptions.container,\n            trigger: 'hover',\n
    \           placement: 'bottom'\n          }).on('click', function (e) {\n            external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(e.currentTarget).tooltip('hide');\n
    \         });\n        }\n\n        if (options && options.codeviewButton) {\n
    \         $node.addClass('note-codeview-keep');\n        }\n      })($node, options);\n
    \   },\n    toggleBtn: function toggleBtn($btn, isEnable) {\n      $btn.toggleClass('disabled',
    !isEnable);\n      $btn.attr('disabled', !isEnable);\n    },\n    toggleBtnActive:
    function toggleBtnActive($btn, isActive) {\n      $btn.toggleClass('active', isActive);\n
    \   },\n    onDialogShown: function onDialogShown($dialog, handler) {\n      $dialog.one('shown.bs.modal',
    handler);\n    },\n    onDialogHidden: function onDialogHidden($dialog, handler)
    {\n      $dialog.one('hidden.bs.modal', handler);\n    },\n    showDialog: function
    showDialog($dialog) {\n      $dialog.modal('show');\n    },\n    hideDialog: function
    hideDialog($dialog) {\n      $dialog.modal('hide');\n    },\n    createLayout:
    function createLayout($note) {\n      var $editor = (editorOptions.airMode ? airEditor([editingArea([codable(),
    airEditable()])]) : editorOptions.toolbarPosition === 'bottom' ? editor([editingArea([codable(),
    editable()]), toolbar(), statusbar()]) : editor([toolbar(), editingArea([codable(),
    editable()]), statusbar()])).render();\n      $editor.insertAfter($note);\n      return
    {\n        note: $note,\n        editor: $editor,\n        toolbar: $editor.find('.note-toolbar'),\n
    \       editingArea: $editor.find('.note-editing-area'),\n        editable: $editor.find('.note-editable'),\n
    \       codable: $editor.find('.note-codable'),\n        statusbar: $editor.find('.note-statusbar')\n
    \     };\n    },\n    removeLayout: function removeLayout($note, layoutInfo) {\n
    \     $note.html(layoutInfo.editable.html());\n      layoutInfo.editor.remove();\n
    \     $note.show();\n    }\n  };\n};\n\n/* harmony default export */ var bs3_ui
    = (ui_ui);\n// EXTERNAL MODULE: ./src/js/base/settings.js + 37 modules\nvar settings
    = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./src/styles/summernote-bs3.scss\nvar
    summernote_bs3 = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/js/bs3/settings.js\n\n\n\n\nexternal_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote
    = external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote,
    {\n  ui_template: bs3_ui,\n  \"interface\": 'bs3'\n});\n\n/***/ })\n\n/******/
    });\n});\n//# sourceMappingURL=summernote.js.map"
  uploads-admin-Public-Admin-plugins-summernote-summernote.min.js.map: '{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external
    {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}","webpack:///./src/js/base/renderer.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/js/base/summernote-en-US.js","webpack:///./src/js/base/core/env.js","webpack:///./src/js/base/core/func.js","webpack:///./src/js/base/core/lists.js","webpack:///./src/js/base/core/dom.js","webpack:///./src/js/base/Context.js","webpack:///./src/js/base/core/range.js","webpack:///./src/js/summernote.js","webpack:///./src/js/base/core/key.js","webpack:///./src/js/base/editing/History.js","webpack:///./src/js/base/editing/Style.js","webpack:///./src/js/base/editing/Bullet.js","webpack:///./src/js/base/editing/Typing.js","webpack:///./src/js/base/editing/Table.js","webpack:///./src/js/base/module/Editor.js","webpack:///./src/js/base/core/async.js","webpack:///./src/js/base/module/Clipboard.js","webpack:///./src/js/base/module/Dropzone.js","webpack:///./src/js/base/module/Codeview.js","webpack:///./src/js/base/module/Statusbar.js","webpack:///./src/js/base/module/Fullscreen.js","webpack:///./src/js/base/module/Handle.js","webpack:///./src/js/base/module/AutoLink.js","webpack:///./src/js/base/module/AutoSync.js","webpack:///./src/js/base/module/AutoReplace.js","webpack:///./src/js/base/module/Placeholder.js","webpack:///./src/js/base/module/Buttons.js","webpack:///./src/js/base/module/Toolbar.js","webpack:///./src/js/base/module/LinkDialog.js","webpack:///./src/js/base/module/LinkPopover.js","webpack:///./src/js/base/module/ImageDialog.js","webpack:///./src/js/base/module/ImagePopover.js","webpack:///./src/js/base/module/TablePopover.js","webpack:///./src/js/base/module/VideoDialog.js","webpack:///./src/js/base/module/HelpDialog.js","webpack:///./src/js/base/module/AirPopover.js","webpack:///./src/js/base/module/HintPopover.js","webpack:///./src/js/base/settings.js","webpack:///./src/js/bs3/ui.js","webpack:///./src/js/bs3/settings.js"],"names":["root","factory","exports","module","require","define","amd","a","i","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Renderer","markup","children","options","callback","this","$parent","$node","$","contents","html","className","addClass","data","each","k","v","attr","click","on","$container","find","forEach","child","render","length","append","arguments","Array","isArray","__webpack_amd_options__","summernote","lang","extend","font","bold","italic","underline","clear","height","strikethrough","subscript","superscript","size","sizeunit","image","insert","resizeFull","resizeHalf","resizeQuarter","resizeNone","floatLeft","floatRight","floatNone","shapeRounded","shapeCircle","shapeThumbnail","shapeNone","dragImageHere","dropImage","selectFromFiles","maximumFileSize","maximumFileSizeError","url","remove","original","video","videoLink","providers","link","unlink","edit","textToDisplay","openInNewWindow","useProtocol","table","addRowAbove","addRowBelow","addColLeft","addColRight","delRow","delCol","delTable","hr","style","blockquote","pre","h1","h2","h3","h4","h5","h6","lists","unordered","ordered","help","fullscreen","codeview","paragraph","outdent","indent","left","center","right","justify","color","recent","more","background","foreground","transparent","setTransparent","reset","resetToDefault","cpSelect","shortcut","shortcuts","close","textFormatting","action","paragraphFormatting","documentStyle","extraKeys","history","undo","redo","specialChar","select","output","noSelection","isSupportAmd","genericFontFamilies","validFontName","fontName","inArray","toLowerCase","browserVersion","userAgent","navigator","isMSIE","test","matches","exec","parseFloat","isEdge","isSupportTouch","MaxTouchPoints","msMaxTouchPoints","inputEventName","isMac","appVersion","indexOf","isFF","isPhantom","isWebkit","isChrome","isSafari","jqueryVersion","fn","jquery","isFontInstalled","testFontName","context","document","createElement","getContext","testSize","originalWidth","measureText","width","isW3CRangeSupport","createRange","idCounter","eq","itemA","itemB","eq2","peq2","propName","ok","fail","self","not","f","apply","and","fA","fB","item","invoke","obj","method","resetUniqueId","uniqueId","prefix","id","rect2bnd","rect","$document","top","scrollTop","scrollLeft","bottom","invertObject","inverted","namespaceToCamel","namespace","split","map","substring","toUpperCase","join","debounce","func","wait","immediate","timeout","args","later","callNow","clearTimeout","setTimeout","isValidUrl","head","array","last","tail","slice","contains","initial","prev","idx","next","pred","len","all","sum","reduce","memo","from","collection","result","isEmpty","clusterBy","aLast","compact","aResult","push","unique","results","NBSP_CHAR","String","fromCharCode","isEditable","node","hasClass","makePredByNodeName","nodeName","isText","nodeType","isVoid","isPara","isPre","isLi","isTable","isData","isInline","isBodyContainer","isList","isHr","isBlockquote","isCell","isAnchor","isBody","blankHTML","env","nodeLength","nodeValue","childNodes","innerHTML","paddingBlankHTML","ancestor","parentNode","listAncestor","ancestors","el","listNext","nodes","nextSibling","insertAfter","preceding","parent","insertBefore","appendChild","appendChildNodes","aChild","isLeftEdgePoint","point","offset","isRightEdgePoint","isEdgePoint","isLeftEdgeOf","position","isRightEdgeOf","previousSibling","hasChildren","prevPoint","isSkipInnerOffset","nextPoint","nextTextNode","getNextTextNode","nextPointWithEmptyNode","actual","isSamePoint","pointA","pointB","splitNode","isSkipPaddingBlankHTML","isNotSplitEdgePoint","isDiscardEmptySplits","splitText","childNode","clone","cloneNode","splitTree","isRemoveChild","removeNode","removeChild","isTextarea","stripLinebreaks","val","replace","ZERO_WIDTH_NBSP_CHAR","blank","emptyPara","isControlSizing","isElement","isPurePara","isHeading","isBlock","isBodyInline","isParaInline","isDiv","isBR","isSpan","isB","isU","isS","isI","isImg","deepestChildIsEmpty","firstElementChild","isEmptyAnchor","isClosestSibling","nodeA","nodeB","withClosestSiblings","siblings","isLeftEdgePointOf","isRightEdgePointOf","isVisiblePoint","leftNode","rightNode","prevPointUntil","nextPointUntil","isCharPoint","ch","charAt","isSpacePoint","walkPoint","startPoint","endPoint","handler","singleChildAncestor","lastAncestor","filter","listPrev","listDescendant","descendants","fnWalk","current","commonAncestor","wrap","wrapperName","wrapper","makeOffsetPath","reverse","fromOffsetPath","offsets","splitPoint","splitRoot","container","topAncestor","pivot","createText","text","createTextNode","removeWhile","newNode","cssText","isNewlineOnBlock","match","endSlash","isEndOfInlineContainer","isBlockNode","trim","posFromPlaceholder","placeholder","$placeholder","pos","outerHeight","attachEvents","events","keys","detachEvents","off","isCustomStyleTag","classList","Context","$note","memos","layoutInfo","ui","ui_template","initialize","createLayout","_initialize","hide","_destroy","removeData","removeLayout","disabled","isDisabled","code","dom","disable","now","editor","buttons","plugins","initializeModule","removeModule","removeMemo","triggerEvent","isActivated","undefined","codable","editable","editing","callbacks","trigger","shouldInitialize","ModuleClass","withoutIntialize","destroy","event","createInvokeHandler","preventDefault","$target","target","closest","splits","hasSeparator","moduleName","methodName","textRangeToPoint","textRange","isStart","prevContainer","parentElement","tester","body","createTextRange","moveToElementText","compareEndPoints","textRangeStart","curTextNode","collapse","firstChild","pointTester","duplicate","setEndPoint","textCount","cont","pointToTextRange","info","textRangeInfo","isCollapseToStart","prevTextNodes","collapseToStart","moveStart","type","isExternalAPICalled","hasInitOptions","langInfo","icons","tooltip","note","first","focus","WrappedRange","sc","so","ec","eo","isOnEditable","makeIsOn","isOnList","isOnAnchor","isOnCell","isOnData","w3cRange","setStart","setEnd","nativeRng","nativeRange","selection","getSelection","rangeCount","removeAllRanges","addRange","offsetTop","Math","abs","getVisiblePoint","isLeftToRight","block","hasRightNode","hasLeftNode","getEndPoint","isCollapsed","getStartPoint","includeAncestor","fullyContains","leftEdgeNodes","startAncestor","endAncestor","boundaryPoints","getPoints","isSameContainer","rng","emptyParents","normalize","inlineSiblings","concat","para","wrapBodyInlineWithPara","deleteContents","contentsContainer","reversed","insertNode","toString","findAfter","isNotTextPoint","regex","index","path","e","paras","getClientRects","wrappedRange","createFromSelection","bodyElement","lastChild","createFromBodyElement","createFromNode","anchorNode","getRangeAt","startContainer","startOffset","endContainer","endOffset","textRangeEnd","isTextNode","createFromNodeBefore","createFromNodeAfter","createFromBookmark","bookmark","createFromParaBookmark","KEY_MAP","isEdit","keyCode","BACKSPACE","TAB","ENTER","SPACE","DELETE","isMove","LEFT","UP","RIGHT","DOWN","isNavigation","HOME","END","PAGEUP","PAGEDOWN","nameFromCode","History","stack","stackOffset","$editable","range","snapshot","recordUndo","applySnapshot","makeSnapshot","historyLimit","shift","Style","$obj","propertyNames","propertyName","css","styleInfo","jQueryCSS","fontSize","parseInt","expandClosestSibling","onlyPartialContains","nodesInRange","tails","elem","$cont","fromNode","queryCommandState","queryCommandValue","isUnordered","lineHeight","toFixed","anchor","Bullet","toggleList","clustereds","previousList","findList","wrapList","appendToPrevious","releaseList","listName","paraBookmark","wrappedParas","diffLists","listNode","prevList","nextList","isEscapseToBody","releasedParas","headList","parentItem","newList","findNextSiblings","lastList","middleList","rootLists","rootList","listNodes","Typing","bullet","tabsize","tab","nextPara","blockquoteBreakingLevel","emptyAnchors","scrollIntoView","TableResultAction","where","domTable","_startPoint","_virtualTable","_actionCellList","setVirtualTablePosition","rowIndex","cellIndex","baseRow","baseCell","isRowSpan","isColSpan","isVirtualCell","objPosition","getActionCell","virtualTableCellObj","resultAction","virtualRowPosition","virtualColPosition","recoverCellIndex","newCellIndex","addCellInfoToVirtual","row","cell","cellHasColspan","colSpan","cellHasRowspan","rowSpan","isThisSelectedCell","rowPos","colPos","rowspanNumber","attributes","rp","rowspanIndex","adjustStartPoint","colspanNumber","cp","cellspanIndex","isSelectedCell","getDeleteResultActionToCell","Column","SubtractSpanCount","Row","isVirtual","AddCell","RemoveCell","getAddResultActionToCell","SumSpanCount","Ignore","getActionList","fixedRow","fixedCol","actualPosition","canContinue","rowPosition","colPosition","requestAction","Add","Delete","tagName","rows","cells","createVirtualTable","Table","isShift","nextCell","currentTr","trAttributes","recoverAttributes","actions","idCell","currentCell","tdAttributes","newTd","removeAttr","setAttribute","before","lastTrIndex","after","actionIndex","resultStr","attrList","specified","cellPos","virtualPosition","virtualTable","hasRowspan","nextRow","cloneRow","removeAttribute","colCount","rowCount","tdHTML","tds","idxCol","trHTML","trs","idxRow","$table","tableClassName","Editor","$editor","lastRange","typing","escape","untab","insertParagraph","insertOrderedList","insertUnorderedList","formatPara","insertHorizontalRule","commands","sCmd","beforeCommand","execCommand","afterCommand","wrapCommand","fontStyling","unit","currentStyle","fontSizeUnit","formatBlock","isLimited","getLastRange","setLastRange","insertText","textNode","pasteHTML","onApplyCustomStyle","onFormatBlock","hrNode","stylePara","createLink","linkInfo","linkUrl","linkText","isNewWindow","checkProtocol","additionalTextLength","isTextChanged","onCreateLink","defaultProtocol","anchors","styleNodes","createRangeFromList","colorInfo","foreColor","backColor","insertTable","dim","dimension","createTable","removeMedia","restoreTarget","detach","floatMe","toggleClass","resize","hasKeyShortCut","isDefaultPrevented","handleKeyMap","preventDefaultEditableShortCuts","recordEveryKeystroke","spellCheck","disableGrammar","airMode","overrideContextMenu","outerWidth","maxHeight","minHeight","keyMap","metaKey","ctrlKey","altKey","shiftKey","keyName","eventName","tabDisable","pad","maxTextLength","lst","thenCollapse","commit","styleWithCSS","isPreventTrigger","normalizeContent","tabSize","insertTab","src","param","Deferred","deferred","$img","one","resolve","reject","display","appendTo","promise","then","$image","min","show","files","file","filename","maximumImageFileSize","FileReader","onload","dataURL","onerror","err","readAsDataURL","readFileAsDataURL","insertImage","onImageUpload","insertImagesAsDataURL","currentRange","spans","firstSpan","noteStatusOutput","expand","$anchor","addRow","addCol","deleteRow","deleteCol","deleteTable","bKeepRatio","imageSize","newRatio","y","x","ratio","is","hasFocus","Clipboard","pasteByEvent","clipboardData","originalEvent","items","kind","getAsFile","getData","Dropzone","$eventListener","documentEventHandlers","$dropzone","prependTo","disableDragAndDrop","onDrop","attachDragAndDropEvent","$dropzoneMessage","onDragenter","isCodeview","hasEditorSize","add","onDragleave","removeClass","dataTransfer","types","content","substr","CodeView","$codable","CodeMirrorConstructor","CodeMirror","codemirror","getDoc","setValue","save","ESCAPE","deactivate","activate","codeviewFilter","codeviewFilterRegex","codeviewIframeFilter","whitelist","codeviewIframeWhitelistSrc","codeviewIframeWhitelistSrcBase","tag","RegExp","prettifyHtml","cmEditor","fromTextArea","tern","server","TernServer","ternServer","cm","updateArgHints","getValue","setSize","toTextArea","purify","isChange","Statusbar","$statusbar","statusbar","disableResizeEditor","stopPropagation","editableTop","onMouseMove","clientY","minheight","max","Fullscreen","$toolbar","toolbar","$window","$scrollbar","onResize","resizeTo","h","setsize","isFullscreen","Handle","$editingArea","editingArea","we","update","$handle","disableResizeImage","posStart","clientX","isImage","$selection","w","origImageObj","Image","sizingText","linkPattern","AutoLink","handleKeyup","handleKeydown","lastWordRange","keyword","urlText","showDomainOnlyForAutolink","linkTargetBlank","wordRange","getWordRange","AutoSync","AutoReplace","PERIOD","COMMA","SEMICOLON","SLASH","previousKeydownCode","lastWord","jQuery","Node","Placeholder","inheritPlaceholder","isShow","toggle","Buttons","invertedKeyMap","editorMethod","button","addToolbarButtons","addImagePopoverButtons","addLinkPopoverButtons","addTablePopoverButtons","fontInstalledMap","fontNamesIgnoreCheck","buttonGroup","icon","$button","currentTarget","$recentColor","colorButton","dropdownButtonContents","dropdown","$dropdown","$holder","palette","colors","colorsName","customColors","change","$chip","$picker","$palette","prepend","$color","$currentButton","magic","styleTags","title","template","styleIdx","styleLen","representShortcut","createInvokeHandlerAndUpdateState","eraser","addDefaultFonts","fontname","isFontDeservedToAdd","fontNames","dropdownCheck","checkClassName","menuCheck","fontSizes","fontSizeUnits","colorPalette","unorderedlist","orderedlist","justifyLeft","alignLeft","justifyCenter","alignCenter","justifyRight","alignRight","justifyFull","alignJustify","textHeight","lineHeights","insertTableMaxSize","col","mousedown","tableMoveHandler","picture","minus","arrowsAlt","question","rollback","trash","rowAbove","rowBelow","colBefore","colAfter","rowRemove","colRemove","groups","groupIdx","groupLen","group","groupName","$group","btn","updateBtnStates","$item","isChecked","infos","selector","toggleBtnActive","posOffset","$dimensionDisplay","$catcher","$highlighted","$unhighlighted","offsetX","posCatcher","pageX","pageY","offsetY","ceil","Toolbar","isFollowing","followScroll","toolbarContainer","changeContainer","followingToolbar","editorHeight","editorWidth","toolbarHeight","statusbarHeight","otherBarHeight","otherStaticBar","currentOffset","editorOffsetTop","activateOffset","deactivateOffsetBottom","marginTop","zIndex","isIncludeCodeview","$btn","toggleBtn","LinkDialog","$body","dialogsInBody","disableLinkTarget","checkbox","checked","footer","$dialog","dialog","fade","dialogsFade","hideDialog","$input","$linkBtn","$linkText","$linkUrl","$openInNewWindow","$useProtocol","onDialogShown","toggleLinkBtn","bindEnterKey","isNewWindowChecked","prop","useProtocolChecked","onDialogHidden","state","showDialog","showLinkDialog","LinkPopover","popover","$popover","$content","href","containerOffset","ImageDialog","imageLimitation","floor","log","readableSize","pow","showImageDialog","onImageLinkInsert","$imageInput","$imageUrl","$imageBtn","replaceWith","ImagePopover","popatmouse","TablePopover","VideoDialog","$video","ytMatch","igMatch","vMatch","vimMatch","dmMatch","youkuMatch","qqMatch","qqMatch2","mp4Match","oggMatch","webmMatch","fbMatch","youtubeId","start","ytMatchForStart","vid","encodeURIComponent","showVideoDialog","createVideoNode","$videoUrl","$videoBtn","HelpDialog","createShortcutList","command","$row","showHelpDialog","AirPopover","hidable","onContextmenu","air","forcelyOpen","HintPopover","hint","direction","hintDirection","hints","matchingWord","hideArrow","innerHeight","$current","$next","selectItem","$nextGroup","$prev","$prevGroup","nodeFromItem","rangeCompute","hintSelect","hintIdx","moveUp","moveDown","search","searchKeyword","createItemTemplates","hintMode","getWordsRange","getWordsMatchRange","empty","bnd","createGroup","version","Codeview","toolbarPosition","codeviewKeepButton","tabDisabled","textareaAutoSync","onBeforeCommand","onBlur","onBlurCodeview","onChange","onChangeCodeview","onEnter","onFocus","onImageUploadError","onInit","onKeydown","onKeyup","onMousedown","onMouseup","onPaste","onScroll","htmlMode","lineNumbers","pc","mac","renderer","airEditor","airEditable","option","caret","iconClassName","editorOptions","rowSize","colSize","colorName","placement","codeviewButton","isEnable","isActive","modal","interface"],"mappings":"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","file":"summernote.min.js","sourcesContent":["(function
    webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === ''object''
    && typeof module === ''object'')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse
    if(typeof define === ''function'' && define.amd)\n\t\tdefine([\"jquery\"], factory);\n\telse
    {\n\t\tvar a = typeof exports === ''object'' ? factory(require(\"jquery\")) :
    factory(root[\"jQuery\"]);\n\t\tfor(var i in a) (typeof exports === ''object''
    ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__)
    {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The
    require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check
    if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n
    \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module
    = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports:
    {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports,
    module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n
    \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn
    module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n
    \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c
    = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d
    = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name))
    {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter
    });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r
    = function(exports) {\n \t\tif(typeof Symbol !== ''undefined'' && Symbol.toStringTag)
    {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: ''Module''
    });\n \t\t}\n \t\tObject.defineProperty(exports, ''__esModule'', { value: true
    });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a
    module id, require it\n \t// mode & 2: merge all properties of value into the
    ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave
    like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode
    & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode
    & 4) && typeof value === ''object'' && value && value.__esModule) return value;\n
    \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns,
    ''default'', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof
    value != ''string'') for(var key in value) __webpack_require__.d(ns, key, function(key)
    { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport
    function for compatibility with non-harmony modules\n \t__webpack_require__.n
    = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction
    getDefault() { return module[''default'']; } :\n \t\t\tfunction getModuleExports()
    { return module; };\n \t\t__webpack_require__.d(getter, ''a'', getter);\n \t\treturn
    getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o
    = function(object, property) { return Object.prototype.hasOwnProperty.call(object,
    property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n
    \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s
    = 52);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import $ from ''jquery'';\n\nclass
    Renderer {\n  constructor(markup, children, options, callback) {\n    this.markup
    = markup;\n    this.children = children;\n    this.options = options;\n    this.callback
    = callback;\n  }\n\n  render($parent) {\n    const $node = $(this.markup);\n\n    if
    (this.options && this.options.contents) {\n      $node.html(this.options.contents);\n    }\n\n    if
    (this.options && this.options.className) {\n      $node.addClass(this.options.className);\n    }\n\n    if
    (this.options && this.options.data) {\n      $.each(this.options.data, (k, v)
    => {\n        $node.attr(''data-'' + k, v);\n      });\n    }\n\n    if (this.options
    && this.options.click) {\n      $node.on(''click'', this.options.click);\n    }\n\n    if
    (this.children) {\n      const $container = $node.find(''.note-children-container'');\n      this.children.forEach((child)
    => {\n        child.render($container.length ? $container : $node);\n      });\n    }\n\n    if
    (this.callback) {\n      this.callback($node, this.options);\n    }\n\n    if
    (this.options && this.options.callback) {\n      this.options.callback($node);\n    }\n\n    if
    ($parent) {\n      $parent.append($node);\n    }\n\n    return $node;\n  }\n}\n\nexport
    default {\n  create: (markup, callback) => {\n    return function() {\n      const
    options = typeof arguments[1] === ''object'' ? arguments[1] : arguments[0];\n      let
    children = Array.isArray(arguments[0]) ? arguments[0] : [];\n      if (options
    && options.children) {\n        children = options.children;\n      }\n      return
    new Renderer(markup, children, options, callback);\n    };\n  },\n};\n","/* globals
    __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","import
    $ from ''jquery'';\n\n$.summernote = $.summernote || {\n  lang: {},\n};\n\n$.extend($.summernote.lang,
    {\n  ''en-US'': {\n    font: {\n      bold: ''Bold'',\n      italic: ''Italic'',\n      underline:
    ''Underline'',\n      clear: ''Remove Font Style'',\n      height: ''Line Height'',\n      name:
    ''Font Family'',\n      strikethrough: ''Strikethrough'',\n      subscript: ''Subscript'',\n      superscript:
    ''Superscript'',\n      size: ''Font Size'',\n      sizeunit: ''Font Size Unit'',\n    },\n    image:
    {\n      image: ''Picture'',\n      insert: ''Insert Image'',\n      resizeFull:
    ''Resize full'',\n      resizeHalf: ''Resize half'',\n      resizeQuarter: ''Resize
    quarter'',\n      resizeNone: ''Original size'',\n      floatLeft: ''Float Left'',\n      floatRight:
    ''Float Right'',\n      floatNone: ''Remove float'',\n      shapeRounded: ''Shape:
    Rounded'',\n      shapeCircle: ''Shape: Circle'',\n      shapeThumbnail: ''Shape:
    Thumbnail'',\n      shapeNone: ''Shape: None'',\n      dragImageHere: ''Drag image
    or text here'',\n      dropImage: ''Drop image or Text'',\n      selectFromFiles:
    ''Select from files'',\n      maximumFileSize: ''Maximum file size'',\n      maximumFileSizeError:
    ''Maximum file size exceeded.'',\n      url: ''Image URL'',\n      remove: ''Remove
    Image'',\n      original: ''Original'',\n    },\n    video: {\n      video: ''Video'',\n      videoLink:
    ''Video Link'',\n      insert: ''Insert Video'',\n      url: ''Video URL'',\n      providers:
    ''(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)'',\n    },\n    link:
    {\n      link: ''Link'',\n      insert: ''Insert Link'',\n      unlink: ''Unlink'',\n      edit:
    ''Edit'',\n      textToDisplay: ''Text to display'',\n      url: ''To what URL
    should this link go?'',\n      openInNewWindow: ''Open in new window'',\n      useProtocol:
    ''Use default protocol'',\n    },\n    table: {\n      table: ''Table'',\n      addRowAbove:
    ''Add row above'',\n      addRowBelow: ''Add row below'',\n      addColLeft: ''Add
    column left'',\n      addColRight: ''Add column right'',\n      delRow: ''Delete
    row'',\n      delCol: ''Delete column'',\n      delTable: ''Delete table'',\n    },\n    hr:
    {\n      insert: ''Insert Horizontal Rule'',\n    },\n    style: {\n      style:
    ''Style'',\n      p: ''Normal'',\n      blockquote: ''Quote'',\n      pre: ''Code'',\n      h1:
    ''Header 1'',\n      h2: ''Header 2'',\n      h3: ''Header 3'',\n      h4: ''Header
    4'',\n      h5: ''Header 5'',\n      h6: ''Header 6'',\n    },\n    lists: {\n      unordered:
    ''Unordered list'',\n      ordered: ''Ordered list'',\n    },\n    options: {\n      help:
    ''Help'',\n      fullscreen: ''Full Screen'',\n      codeview: ''Code View'',\n    },\n    paragraph:
    {\n      paragraph: ''Paragraph'',\n      outdent: ''Outdent'',\n      indent:
    ''Indent'',\n      left: ''Align left'',\n      center: ''Align center'',\n      right:
    ''Align right'',\n      justify: ''Justify full'',\n    },\n    color: {\n      recent:
    ''Recent Color'',\n      more: ''More Color'',\n      background: ''Background
    Color'',\n      foreground: ''Text Color'',\n      transparent: ''Transparent'',\n      setTransparent:
    ''Set transparent'',\n      reset: ''Reset'',\n      resetToDefault: ''Reset to
    default'',\n      cpSelect: ''Select'',\n    },\n    shortcut: {\n      shortcuts:
    ''Keyboard shortcuts'',\n      close: ''Close'',\n      textFormatting: ''Text
    formatting'',\n      action: ''Action'',\n      paragraphFormatting: ''Paragraph
    formatting'',\n      documentStyle: ''Document Style'',\n      extraKeys: ''Extra
    keys'',\n    },\n    help: {\n      ''escape'': ''Escape'',\n      ''insertParagraph'':
    ''Insert Paragraph'',\n      ''undo'': ''Undo the last command'',\n      ''redo'':
    ''Redo the last command'',\n      ''tab'': ''Tab'',\n      ''untab'': ''Untab'',\n      ''bold'':
    ''Set a bold style'',\n      ''italic'': ''Set a italic style'',\n      ''underline'':
    ''Set a underline style'',\n      ''strikethrough'': ''Set a strikethrough style'',\n      ''removeFormat'':
    ''Clean a style'',\n      ''justifyLeft'': ''Set left align'',\n      ''justifyCenter'':
    ''Set center align'',\n      ''justifyRight'': ''Set right align'',\n      ''justifyFull'':
    ''Set full align'',\n      ''insertUnorderedList'': ''Toggle unordered list'',\n      ''insertOrderedList'':
    ''Toggle ordered list'',\n      ''outdent'': ''Outdent on current paragraph'',\n      ''indent'':
    ''Indent on current paragraph'',\n      ''formatPara'': ''Change current block\\''s
    format as a paragraph(P tag)'',\n      ''formatH1'': ''Change current block\\''s
    format as H1'',\n      ''formatH2'': ''Change current block\\''s format as H2'',\n      ''formatH3'':
    ''Change current block\\''s format as H3'',\n      ''formatH4'': ''Change current
    block\\''s format as H4'',\n      ''formatH5'': ''Change current block\\''s format
    as H5'',\n      ''formatH6'': ''Change current block\\''s format as H6'',\n      ''insertHorizontalRule'':
    ''Insert horizontal rule'',\n      ''linkDialog.show'': ''Show Link Dialog'',\n    },\n    history:
    {\n      undo: ''Undo'',\n      redo: ''Redo'',\n    },\n    specialChar: {\n      specialChar:
    ''SPECIAL CHARACTERS'',\n      select: ''Select Special characters'',\n    },\n    output:
    {\n      noSelection: ''No Selection Made!'',\n    },\n  },\n});\n","import $
    from ''jquery'';\nconst isSupportAmd = typeof define === ''function'' && define.amd;
    // eslint-disable-line\n\n/**\n * returns whether font is installed or not.\n
    *\n * @param {String} fontName\n * @return {Boolean}\n */\nconst genericFontFamilies
    = [''sans-serif'', ''serif'', ''monospace'', ''cursive'', ''fantasy''];\n\nfunction
    validFontName(fontName) {\n  return ($.inArray(fontName.toLowerCase(), genericFontFamilies)
    === -1) ? `''${fontName}''` : fontName;\n}\n\nfunction isFontInstalled(fontName)
    {\n  const testFontName = fontName === ''Comic Sans MS'' ? ''Courier New'' : ''Comic
    Sans MS'';\n  const testText = ''mmmmmmmmmmwwwww'';\n  const testSize = ''200px'';\n\n  var
    canvas = document.createElement(''canvas'');\n  var context = canvas.getContext(''2d'');\n\n  context.font
    = testSize + \" ''\" + testFontName + \"''\";\n  const originalWidth = context.measureText(testText).width;\n\n  context.font
    = testSize + '' '' + validFontName(fontName) + '', \"'' + testFontName + ''\"'';\n  const
    width = context.measureText(testText).width;\n\n  return originalWidth !== width;\n}\n\nconst
    userAgent = navigator.userAgent;\nconst isMSIE = /MSIE|Trident/i.test(userAgent);\nlet
    browserVersion;\nif (isMSIE) {\n  let matches = /MSIE (\\d+[.]\\d+)/.exec(userAgent);\n  if
    (matches) {\n    browserVersion = parseFloat(matches[1]);\n  }\n  matches = /Trident\\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(userAgent);\n  if
    (matches) {\n    browserVersion = parseFloat(matches[1]);\n  }\n}\n\nconst isEdge
    = /Edge\\/\\d+/.test(userAgent);\n\nconst isSupportTouch =\n  ((''ontouchstart''
    in window) ||\n   (navigator.MaxTouchPoints > 0) ||\n   (navigator.msMaxTouchPoints
    > 0));\n\n// [workaround] IE doesn''t have input events for contentEditable\n//
    - see: https://goo.gl/4bfIvA\nconst inputEventName = (isMSIE) ? ''DOMCharacterDataModified
    DOMSubtreeModified DOMNodeInserted'' : ''input'';\n\n/**\n * @class core.env\n
    *\n * Object which check platform and agent\n *\n * @singleton\n * @alternateClassName
    env\n */\nexport default {\n  isMac: navigator.appVersion.indexOf(''Mac'') > -1,\n  isMSIE,\n  isEdge,\n  isFF:
    !isEdge && /firefox/i.test(userAgent),\n  isPhantom: /PhantomJS/i.test(userAgent),\n  isWebkit:
    !isEdge && /webkit/i.test(userAgent),\n  isChrome: !isEdge && /chrome/i.test(userAgent),\n  isSafari:
    !isEdge && /safari/i.test(userAgent) && (!/chrome/i.test(userAgent)),\n  browserVersion,\n  jqueryVersion:
    parseFloat($.fn.jquery),\n  isSupportAmd,\n  isSupportTouch,\n  isFontInstalled,\n  isW3CRangeSupport:
    !!document.createRange,\n  inputEventName,\n  genericFontFamilies,\n  validFontName,\n};\n","import
    $ from ''jquery'';\n\n/**\n * @class core.func\n *\n * func utils (for high-order
    func''s arg)\n *\n * @singleton\n * @alternateClassName func\n */\nfunction eq(itemA)
    {\n  return function(itemB) {\n    return itemA === itemB;\n  };\n}\n\nfunction
    eq2(itemA, itemB) {\n  return itemA === itemB;\n}\n\nfunction peq2(propName) {\n  return
    function(itemA, itemB) {\n    return itemA[propName] === itemB[propName];\n  };\n}\n\nfunction
    ok() {\n  return true;\n}\n\nfunction fail() {\n  return false;\n}\n\nfunction
    not(f) {\n  return function() {\n    return !f.apply(f, arguments);\n  };\n}\n\nfunction
    and(fA, fB) {\n  return function(item) {\n    return fA(item) && fB(item);\n  };\n}\n\nfunction
    self(a) {\n  return a;\n}\n\nfunction invoke(obj, method) {\n  return function()
    {\n    return obj[method].apply(obj, arguments);\n  };\n}\n\nlet idCounter = 0;\n\n/**\n
    * reset globally-unique id\n *\n */\nfunction resetUniqueId() {\n  idCounter =
    0;\n}\n\n/**\n * generate a globally-unique id\n *\n * @param {String} [prefix]\n
    */\nfunction uniqueId(prefix) {\n  const id = ++idCounter + '''';\n  return prefix
    ? prefix + id : id;\n}\n\n/**\n * returns bnd (bounds) from rect\n *\n * - IE
    Compatibility Issue: http://goo.gl/sRLOAo\n * - Scroll Issue: http://goo.gl/sNjUc\n
    *\n * @param {Rect} rect\n * @return {Object} bounds\n * @return {Number} bounds.top\n
    * @return {Number} bounds.left\n * @return {Number} bounds.width\n * @return {Number}
    bounds.height\n */\nfunction rect2bnd(rect) {\n  const $document = $(document);\n  return
    {\n    top: rect.top + $document.scrollTop(),\n    left: rect.left + $document.scrollLeft(),\n    width:
    rect.right - rect.left,\n    height: rect.bottom - rect.top,\n  };\n}\n\n/**\n
    * returns a copy of the object where the keys have become the values and the values
    the keys.\n * @param {Object} obj\n * @return {Object}\n */\nfunction invertObject(obj)
    {\n  const inverted = {};\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj,
    key)) {\n      inverted[obj[key]] = key;\n    }\n  }\n  return inverted;\n}\n\n/**\n
    * @param {String} namespace\n * @param {String} [prefix]\n * @return {String}\n
    */\nfunction namespaceToCamel(namespace, prefix) {\n  prefix = prefix || '''';\n  return
    prefix + namespace.split(''.'').map(function(name) {\n    return name.substring(0,
    1).toUpperCase() + name.substring(1);\n  }).join('''');\n}\n\n/**\n * Returns
    a function, that, as long as it continues to be invoked, will not\n * be triggered.
    The function will be called after it stops being called for\n * N milliseconds.
    If `immediate` is passed, trigger the function on the\n * leading edge, instead
    of the trailing.\n * @param {Function} func\n * @param {Number} wait\n * @param
    {Boolean} immediate\n * @return {Function}\n */\nfunction debounce(func, wait,
    immediate) {\n  let timeout;\n  return function() {\n    const context = this;\n    const
    args = arguments;\n    const later = () => {\n      timeout = null;\n      if
    (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    const
    callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later,
    wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n}\n\n/**\n
    *\n * @param {String} url\n * @return {Boolean}\n */\nfunction isValidUrl(url)
    {\n  const expression = /[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/gi;\n  return
    expression.test(url);\n}\n\nexport default {\n  eq,\n  eq2,\n  peq2,\n  ok,\n  fail,\n  self,\n  not,\n  and,\n  invoke,\n  resetUniqueId,\n  uniqueId,\n  rect2bnd,\n  invertObject,\n  namespaceToCamel,\n  debounce,\n  isValidUrl,\n};\n","import
    func from ''./func'';\n\n/**\n * returns the first item of an array.\n *\n * @param
    {Array} array\n */\nfunction head(array) {\n  return array[0];\n}\n\n/**\n * returns
    the last item of an array.\n *\n * @param {Array} array\n */\nfunction last(array)
    {\n  return array[array.length - 1];\n}\n\n/**\n * returns everything but the
    last entry of the array.\n *\n * @param {Array} array\n */\nfunction initial(array)
    {\n  return array.slice(0, array.length - 1);\n}\n\n/**\n * returns the rest of
    the items in an array.\n *\n * @param {Array} array\n */\nfunction tail(array)
    {\n  return array.slice(1);\n}\n\n/**\n * returns item of array\n */\nfunction
    find(array, pred) {\n  for (let idx = 0, len = array.length; idx < len; idx++)
    {\n    const item = array[idx];\n    if (pred(item)) {\n      return item;\n    }\n  }\n}\n\n/**\n
    * returns true if all of the values in the array pass the predicate truth test.\n
    */\nfunction all(array, pred) {\n  for (let idx = 0, len = array.length; idx <
    len; idx++) {\n    if (!pred(array[idx])) {\n      return false;\n    }\n  }\n  return
    true;\n}\n\n/**\n * returns true if the value is present in the list.\n */\nfunction
    contains(array, item) {\n  if (array && array.length && item) {\n    if (array.indexOf)
    {\n      return array.indexOf(item) !== -1;\n    } else if (array.contains) {\n      //
    `DOMTokenList` doesn''t implement `.indexOf`, but it implements `.contains`\n      return
    array.contains(item);\n    }\n  }\n  return false;\n}\n\n/**\n * get sum from
    a list\n *\n * @param {Array} array - array\n * @param {Function} fn - iterator\n
    */\nfunction sum(array, fn) {\n  fn = fn || func.self;\n  return array.reduce(function(memo,
    v) {\n    return memo + fn(v);\n  }, 0);\n}\n\n/**\n * returns a copy of the collection
    with array type.\n * @param {Collection} collection - collection eg) node.childNodes,
    ...\n */\nfunction from(collection) {\n  const result = [];\n  const length =
    collection.length;\n  let idx = -1;\n  while (++idx < length) {\n    result[idx]
    = collection[idx];\n  }\n  return result;\n}\n\n/**\n * returns whether list is
    empty or not\n */\nfunction isEmpty(array) {\n  return !array || !array.length;\n}\n\n/**\n
    * cluster elements by predicate function.\n *\n * @param {Array} array - array\n
    * @param {Function} fn - predicate function for cluster rule\n * @param {Array[]}\n
    */\nfunction clusterBy(array, fn) {\n  if (!array.length) { return []; }\n  const
    aTail = tail(array);\n  return aTail.reduce(function(memo, v) {\n    const aLast
    = last(memo);\n    if (fn(last(aLast), v)) {\n      aLast[aLast.length] = v;\n    }
    else {\n      memo[memo.length] = [v];\n    }\n    return memo;\n  }, [[head(array)]]);\n}\n\n/**\n
    * returns a copy of the array with all false values removed\n *\n * @param {Array}
    array - array\n * @param {Function} fn - predicate function for cluster rule\n
    */\nfunction compact(array) {\n  const aResult = [];\n  for (let idx = 0, len
    = array.length; idx < len; idx++) {\n    if (array[idx]) { aResult.push(array[idx]);
    }\n  }\n  return aResult;\n}\n\n/**\n * produces a duplicate-free version of the
    array\n *\n * @param {Array} array\n */\nfunction unique(array) {\n  const results
    = [];\n\n  for (let idx = 0, len = array.length; idx < len; idx++) {\n    if (!contains(results,
    array[idx])) {\n      results.push(array[idx]);\n    }\n  }\n\n  return results;\n}\n\n/**\n
    * returns next item.\n * @param {Array} array\n */\nfunction next(array, item)
    {\n  if (array && array.length && item) {\n    const idx = array.indexOf(item);\n    return
    idx === -1 ? null : array[idx + 1];\n  }\n  return null;\n}\n\n/**\n * returns
    prev item.\n * @param {Array} array\n */\nfunction prev(array, item) {\n  if (array
    && array.length && item) {\n    const idx = array.indexOf(item);\n    return idx
    === -1 ? null : array[idx - 1];\n  }\n  return null;\n}\n\n/**\n * @class core.list\n
    *\n * list utils\n *\n * @singleton\n * @alternateClassName list\n */\nexport
    default {\n  head,\n  last,\n  initial,\n  tail,\n  prev,\n  next,\n  find,\n  contains,\n  all,\n  sum,\n  from,\n  isEmpty,\n  clusterBy,\n  compact,\n  unique,\n};\n","import
    $ from ''jquery'';\nimport func from ''./func'';\nimport lists from ''./lists'';\nimport
    env from ''./env'';\n\nconst NBSP_CHAR = String.fromCharCode(160);\nconst ZERO_WIDTH_NBSP_CHAR
    = ''\\ufeff'';\n\n/**\n * @method isEditable\n *\n * returns whether node is `note-editable`
    or not.\n *\n * @param {Node} node\n * @return {Boolean}\n */\nfunction isEditable(node)
    {\n  return node && $(node).hasClass(''note-editable'');\n}\n\n/**\n * @method
    isControlSizing\n *\n * returns whether node is `note-control-sizing` or not.\n
    *\n * @param {Node} node\n * @return {Boolean}\n */\nfunction isControlSizing(node)
    {\n  return node && $(node).hasClass(''note-control-sizing'');\n}\n\n/**\n * @method
    makePredByNodeName\n *\n * returns predicate which judge whether nodeName is same\n
    *\n * @param {String} nodeName\n * @return {Function}\n */\nfunction makePredByNodeName(nodeName)
    {\n  nodeName = nodeName.toUpperCase();\n  return function(node) {\n    return
    node && node.nodeName.toUpperCase() === nodeName;\n  };\n}\n\n/**\n * @method
    isText\n *\n *\n *\n * @param {Node} node\n * @return {Boolean} true if node''s
    type is text(3)\n */\nfunction isText(node) {\n  return node && node.nodeType
    === 3;\n}\n\n/**\n * @method isElement\n *\n *\n *\n * @param {Node} node\n *
    @return {Boolean} true if node''s type is element(1)\n */\nfunction isElement(node)
    {\n  return node && node.nodeType === 1;\n}\n\n/**\n * ex) br, col, embed, hr,
    img, input, ...\n * @see http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\n
    */\nfunction isVoid(node) {\n  return node && /^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(node.nodeName.toUpperCase());\n}\n\nfunction
    isPara(node) {\n  if (isEditable(node)) {\n    return false;\n  }\n\n  // Chrome(v31.0),
    FF(v25.0.1) use DIV for paragraph\n  return node && /^DIV|^P|^LI|^H[1-7]/.test(node.nodeName.toUpperCase());\n}\n\nfunction
    isHeading(node) {\n  return node && /^H[1-7]/.test(node.nodeName.toUpperCase());\n}\n\nconst
    isPre = makePredByNodeName(''PRE'');\n\nconst isLi = makePredByNodeName(''LI'');\n\nfunction
    isPurePara(node) {\n  return isPara(node) && !isLi(node);\n}\n\nconst isTable
    = makePredByNodeName(''TABLE'');\n\nconst isData = makePredByNodeName(''DATA'');\n\nfunction
    isInline(node) {\n  return !isBodyContainer(node) &&\n         !isList(node) &&\n         !isHr(node)
    &&\n         !isPara(node) &&\n         !isTable(node) &&\n         !isBlockquote(node)
    &&\n         !isData(node);\n}\n\nfunction isList(node) {\n  return node && /^UL|^OL/.test(node.nodeName.toUpperCase());\n}\n\nconst
    isHr = makePredByNodeName(''HR'');\n\nfunction isCell(node) {\n  return node &&
    /^TD|^TH/.test(node.nodeName.toUpperCase());\n}\n\nconst isBlockquote = makePredByNodeName(''BLOCKQUOTE'');\n\nfunction
    isBodyContainer(node) {\n  return isCell(node) || isBlockquote(node) || isEditable(node);\n}\n\nconst
    isAnchor = makePredByNodeName(''A'');\n\nfunction isParaInline(node) {\n  return
    isInline(node) && !!ancestor(node, isPara);\n}\n\nfunction isBodyInline(node)
    {\n  return isInline(node) && !ancestor(node, isPara);\n}\n\nconst isBody = makePredByNodeName(''BODY'');\n\n/**\n
    * returns whether nodeB is closest sibling of nodeA\n *\n * @param {Node} nodeA\n
    * @param {Node} nodeB\n * @return {Boolean}\n */\nfunction isClosestSibling(nodeA,
    nodeB) {\n  return nodeA.nextSibling === nodeB ||\n         nodeA.previousSibling
    === nodeB;\n}\n\n/**\n * returns array of closest siblings with node\n *\n * @param
    {Node} node\n * @param {function} [pred] - predicate function\n * @return {Node[]}\n
    */\nfunction withClosestSiblings(node, pred) {\n  pred = pred || func.ok;\n\n  const
    siblings = [];\n  if (node.previousSibling && pred(node.previousSibling)) {\n    siblings.push(node.previousSibling);\n  }\n  siblings.push(node);\n  if
    (node.nextSibling && pred(node.nextSibling)) {\n    siblings.push(node.nextSibling);\n  }\n  return
    siblings;\n}\n\n/**\n * blank HTML for cursor position\n * - [workaround] old
    IE only works with &nbsp;\n * - [workaround] IE11 and other browser works with
    bogus br\n */\nconst blankHTML = env.isMSIE && env.browserVersion < 11 ? ''&nbsp;''
    : ''<br>'';\n\n/**\n * @method nodeLength\n *\n * returns #text''s text size or
    element''s childNodes size\n *\n * @param {Node} node\n */\nfunction nodeLength(node)
    {\n  if (isText(node)) {\n    return node.nodeValue.length;\n  }\n\n  if (node)
    {\n    return node.childNodes.length;\n  }\n\n  return 0;\n}\n\n/**\n * returns
    whether deepest child node is empty or not.\n *\n * @param {Node} node\n * @return
    {Boolean}\n */\nfunction deepestChildIsEmpty(node) {\n  do {\n    if (node.firstElementChild
    === null || node.firstElementChild.innerHTML === '''') break;\n  } while ((node
    = node.firstElementChild));\n\n  return isEmpty(node);\n}\n\n/**\n * returns whether
    node is empty or not.\n *\n * @param {Node} node\n * @return {Boolean}\n */\nfunction
    isEmpty(node) {\n  const len = nodeLength(node);\n\n  if (len === 0) {\n    return
    true;\n  } else if (!isText(node) && len === 1 && node.innerHTML === blankHTML)
    {\n    // ex) <p><br></p>, <span><br></span>\n    return true;\n  } else if (lists.all(node.childNodes,
    isText) && node.innerHTML === '''') {\n    // ex) <p></p>, <span></span>\n    return
    true;\n  }\n\n  return false;\n}\n\n/**\n * padding blankHTML if node is empty
    (for cursor position)\n */\nfunction paddingBlankHTML(node) {\n  if (!isVoid(node)
    && !nodeLength(node)) {\n    node.innerHTML = blankHTML;\n  }\n}\n\n/**\n * find
    nearest ancestor predicate hit\n *\n * @param {Node} node\n * @param {Function}
    pred - predicate function\n */\nfunction ancestor(node, pred) {\n  while (node)
    {\n    if (pred(node)) { return node; }\n    if (isEditable(node)) { break; }\n\n    node
    = node.parentNode;\n  }\n  return null;\n}\n\n/**\n * find nearest ancestor only
    single child blood line and predicate hit\n *\n * @param {Node} node\n * @param
    {Function} pred - predicate function\n */\nfunction singleChildAncestor(node,
    pred) {\n  node = node.parentNode;\n\n  while (node) {\n    if (nodeLength(node)
    !== 1) { break; }\n    if (pred(node)) { return node; }\n    if (isEditable(node))
    { break; }\n\n    node = node.parentNode;\n  }\n  return null;\n}\n\n/**\n * returns
    new array of ancestor nodes (until predicate hit).\n *\n * @param {Node} node\n
    * @param {Function} [optional] pred - predicate function\n */\nfunction listAncestor(node,
    pred) {\n  pred = pred || func.fail;\n\n  const ancestors = [];\n  ancestor(node,
    function(el) {\n    if (!isEditable(el)) {\n      ancestors.push(el);\n    }\n\n    return
    pred(el);\n  });\n  return ancestors;\n}\n\n/**\n * find farthest ancestor predicate
    hit\n */\nfunction lastAncestor(node, pred) {\n  const ancestors = listAncestor(node);\n  return
    lists.last(ancestors.filter(pred));\n}\n\n/**\n * returns common ancestor node
    between two nodes.\n *\n * @param {Node} nodeA\n * @param {Node} nodeB\n */\nfunction
    commonAncestor(nodeA, nodeB) {\n  const ancestors = listAncestor(nodeA);\n  for
    (let n = nodeB; n; n = n.parentNode) {\n    if (ancestors.indexOf(n) > -1) return
    n;\n  }\n  return null; // difference document area\n}\n\n/**\n * listing all
    previous siblings (until predicate hit).\n *\n * @param {Node} node\n * @param
    {Function} [optional] pred - predicate function\n */\nfunction listPrev(node,
    pred) {\n  pred = pred || func.fail;\n\n  const nodes = [];\n  while (node) {\n    if
    (pred(node)) { break; }\n    nodes.push(node);\n    node = node.previousSibling;\n  }\n  return
    nodes;\n}\n\n/**\n * listing next siblings (until predicate hit).\n *\n * @param
    {Node} node\n * @param {Function} [pred] - predicate function\n */\nfunction listNext(node,
    pred) {\n  pred = pred || func.fail;\n\n  const nodes = [];\n  while (node) {\n    if
    (pred(node)) { break; }\n    nodes.push(node);\n    node = node.nextSibling;\n  }\n  return
    nodes;\n}\n\n/**\n * listing descendant nodes\n *\n * @param {Node} node\n * @param
    {Function} [pred] - predicate function\n */\nfunction listDescendant(node, pred)
    {\n  const descendants = [];\n  pred = pred || func.ok;\n\n  // start DFS(depth
    first search) with node\n  (function fnWalk(current) {\n    if (node !== current
    && pred(current)) {\n      descendants.push(current);\n    }\n    for (let idx
    = 0, len = current.childNodes.length; idx < len; idx++) {\n      fnWalk(current.childNodes[idx]);\n    }\n  })(node);\n\n  return
    descendants;\n}\n\n/**\n * wrap node with new tag.\n *\n * @param {Node} node\n
    * @param {Node} tagName of wrapper\n * @return {Node} - wrapper\n */\nfunction
    wrap(node, wrapperName) {\n  const parent = node.parentNode;\n  const wrapper
    = $(''<'' + wrapperName + ''>'')[0];\n\n  parent.insertBefore(wrapper, node);\n  wrapper.appendChild(node);\n\n  return
    wrapper;\n}\n\n/**\n * insert node after preceding\n *\n * @param {Node} node\n
    * @param {Node} preceding - predicate function\n */\nfunction insertAfter(node,
    preceding) {\n  const next = preceding.nextSibling;\n  let parent = preceding.parentNode;\n  if
    (next) {\n    parent.insertBefore(node, next);\n  } else {\n    parent.appendChild(node);\n  }\n  return
    node;\n}\n\n/**\n * append elements.\n *\n * @param {Node} node\n * @param {Collection}
    aChild\n */\nfunction appendChildNodes(node, aChild) {\n  $.each(aChild, function(idx,
    child) {\n    node.appendChild(child);\n  });\n  return node;\n}\n\n/**\n * returns
    whether boundaryPoint is left edge or not.\n *\n * @param {BoundaryPoint} point\n
    * @return {Boolean}\n */\nfunction isLeftEdgePoint(point) {\n  return point.offset
    === 0;\n}\n\n/**\n * returns whether boundaryPoint is right edge or not.\n *\n
    * @param {BoundaryPoint} point\n * @return {Boolean}\n */\nfunction isRightEdgePoint(point)
    {\n  return point.offset === nodeLength(point.node);\n}\n\n/**\n * returns whether
    boundaryPoint is edge or not.\n *\n * @param {BoundaryPoint} point\n * @return
    {Boolean}\n */\nfunction isEdgePoint(point) {\n  return isLeftEdgePoint(point)
    || isRightEdgePoint(point);\n}\n\n/**\n * returns whether node is left edge of
    ancestor or not.\n *\n * @param {Node} node\n * @param {Node} ancestor\n * @return
    {Boolean}\n */\nfunction isLeftEdgeOf(node, ancestor) {\n  while (node && node
    !== ancestor) {\n    if (position(node) !== 0) {\n      return false;\n    }\n    node
    = node.parentNode;\n  }\n\n  return true;\n}\n\n/**\n * returns whether node is
    right edge of ancestor or not.\n *\n * @param {Node} node\n * @param {Node} ancestor\n
    * @return {Boolean}\n */\nfunction isRightEdgeOf(node, ancestor) {\n  if (!ancestor)
    {\n    return false;\n  }\n  while (node && node !== ancestor) {\n    if (position(node)
    !== nodeLength(node.parentNode) - 1) {\n      return false;\n    }\n    node =
    node.parentNode;\n  }\n\n  return true;\n}\n\n/**\n * returns whether point is
    left edge of ancestor or not.\n * @param {BoundaryPoint} point\n * @param {Node}
    ancestor\n * @return {Boolean}\n */\nfunction isLeftEdgePointOf(point, ancestor)
    {\n  return isLeftEdgePoint(point) && isLeftEdgeOf(point.node, ancestor);\n}\n\n/**\n
    * returns whether point is right edge of ancestor or not.\n * @param {BoundaryPoint}
    point\n * @param {Node} ancestor\n * @return {Boolean}\n */\nfunction isRightEdgePointOf(point,
    ancestor) {\n  return isRightEdgePoint(point) && isRightEdgeOf(point.node, ancestor);\n}\n\n/**\n
    * returns offset from parent.\n *\n * @param {Node} node\n */\nfunction position(node)
    {\n  let offset = 0;\n  while ((node = node.previousSibling)) {\n    offset +=
    1;\n  }\n  return offset;\n}\n\nfunction hasChildren(node) {\n  return !!(node
    && node.childNodes && node.childNodes.length);\n}\n\n/**\n * returns previous
    boundaryPoint\n *\n * @param {BoundaryPoint} point\n * @param {Boolean} isSkipInnerOffset\n
    * @return {BoundaryPoint}\n */\nfunction prevPoint(point, isSkipInnerOffset) {\n  let
    node;\n  let offset;\n\n  if (point.offset === 0) {\n    if (isEditable(point.node))
    {\n      return null;\n    }\n\n    node = point.node.parentNode;\n    offset
    = position(point.node);\n  } else if (hasChildren(point.node)) {\n    node = point.node.childNodes[point.offset
    - 1];\n    offset = nodeLength(node);\n  } else {\n    node = point.node;\n    offset
    = isSkipInnerOffset ? 0 : point.offset - 1;\n  }\n\n  return {\n    node: node,\n    offset:
    offset,\n  };\n}\n\n/**\n * returns next boundaryPoint\n *\n * @param {BoundaryPoint}
    point\n * @param {Boolean} isSkipInnerOffset\n * @return {BoundaryPoint}\n */\nfunction
    nextPoint(point, isSkipInnerOffset) {\n  let node, offset;\n\n  if (nodeLength(point.node)
    === point.offset) {\n    if (isEditable(point.node)) {\n      return null;\n    }\n\n    let
    nextTextNode = getNextTextNode(point.node);\n    if (nextTextNode) {\n      node
    = nextTextNode;\n      offset = 0;\n    } else {\n      node = point.node.parentNode;\n      offset
    = position(point.node) + 1;\n    }\n  } else if (hasChildren(point.node)) {\n    node
    = point.node.childNodes[point.offset];\n    offset = 0;\n  } else {\n    node
    = point.node;\n    offset = isSkipInnerOffset ? nodeLength(point.node) : point.offset
    + 1;\n  }\n\n  return {\n    node: node,\n    offset: offset,\n  };\n}\n\n/**\n
    * returns next boundaryPoint with empty node\n *\n * @param {BoundaryPoint} point\n
    * @param {Boolean} isSkipInnerOffset\n * @return {BoundaryPoint}\n */\nfunction
    nextPointWithEmptyNode(point, isSkipInnerOffset) {\n  let node, offset;\n\n  //
    if node is empty string node, return current node''s sibling.\n  if (isEmpty(point.node))
    {\n    node = point.node.nextSibling;\n    offset = 0;\n\n    return {\n      node:
    node,\n      offset: offset,\n    };\n  }\n\n  if (nodeLength(point.node) ===
    point.offset) {\n    if (isEditable(point.node)) {\n      return null;\n    }\n\n    let
    nextTextNode = getNextTextNode(point.node);\n    if (nextTextNode) {\n      node
    = nextTextNode;\n      offset = 0;\n    } else {\n      node = point.node.parentNode;\n      offset
    = position(point.node) + 1;\n    }\n\n    // if next node is editable, return
    current node''s sibling node.\n    if (isEditable(node)) {\n      node = point.node.nextSibling;\n      offset
    = 0;\n    }\n  } else if (hasChildren(point.node)) {\n    node = point.node.childNodes[point.offset];\n    offset
    = 0;\n    if (isEmpty(node)) {\n      return null;\n    }\n  } else {\n    node
    = point.node;\n    offset = isSkipInnerOffset ? nodeLength(point.node) : point.offset
    + 1;\n\n    if (isEmpty(node)) {\n      return null;\n    }\n  }\n\n  return {\n    node:
    node,\n    offset: offset,\n  };\n}\n\n/*\n* returns the next Text node index
    or 0 if not found.\n*/\nfunction getNextTextNode(actual) {\n  if (!actual.nextSibling)
    return undefined;\n  if (actual.parent !== actual.nextSibling.parent) return undefined;\n  if
    (isText(actual.nextSibling)) return actual.nextSibling;\n  return getNextTextNode(actual.nextSibling);\n}\n\n/**\n
    * returns whether pointA and pointB is same or not.\n *\n * @param {BoundaryPoint}
    pointA\n * @param {BoundaryPoint} pointB\n * @return {Boolean}\n */\nfunction
    isSamePoint(pointA, pointB) {\n  return pointA.node === pointB.node && pointA.offset
    === pointB.offset;\n}\n\n/**\n * returns whether point is visible (can set cursor)
    or not.\n *\n * @param {BoundaryPoint} point\n * @return {Boolean}\n */\nfunction
    isVisiblePoint(point) {\n  if (isText(point.node) || !hasChildren(point.node)
    || isEmpty(point.node)) {\n    return true;\n  }\n\n  const leftNode = point.node.childNodes[point.offset
    - 1];\n  const rightNode = point.node.childNodes[point.offset];\n  if ((!leftNode
    || isVoid(leftNode)) && (!rightNode || isVoid(rightNode))) {\n    return true;\n  }\n\n  return
    false;\n}\n\n/**\n * @method prevPointUtil\n *\n * @param {BoundaryPoint} point\n
    * @param {Function} pred\n * @return {BoundaryPoint}\n */\nfunction prevPointUntil(point,
    pred) {\n  while (point) {\n    if (pred(point)) {\n      return point;\n    }\n\n    point
    = prevPoint(point);\n  }\n\n  return null;\n}\n\n/**\n * @method nextPointUntil\n
    *\n * @param {BoundaryPoint} point\n * @param {Function} pred\n * @return {BoundaryPoint}\n
    */\nfunction nextPointUntil(point, pred) {\n  while (point) {\n    if (pred(point))
    {\n      return point;\n    }\n\n    point = nextPoint(point);\n  }\n\n  return
    null;\n}\n\n/**\n * returns whether point has character or not.\n *\n * @param
    {Point} point\n * @return {Boolean}\n */\nfunction isCharPoint(point) {\n  if
    (!isText(point.node)) {\n    return false;\n  }\n\n  const ch = point.node.nodeValue.charAt(point.offset
    - 1);\n  return ch && (ch !== '' '' && ch !== NBSP_CHAR);\n}\n\n/**\n * returns
    whether point has space or not.\n *\n * @param {Point} point\n * @return {Boolean}\n
    */\nfunction isSpacePoint(point) {\n  if (!isText(point.node)) {\n    return false;\n  }\n\n  const
    ch = point.node.nodeValue.charAt(point.offset - 1);\n  return ch === '' '' ||
    ch === NBSP_CHAR;\n}\n\n/**\n * @method walkPoint\n *\n * @param {BoundaryPoint}
    startPoint\n * @param {BoundaryPoint} endPoint\n * @param {Function} handler\n
    * @param {Boolean} isSkipInnerOffset\n */\nfunction walkPoint(startPoint, endPoint,
    handler, isSkipInnerOffset) {\n  let point = startPoint;\n\n  while (point) {\n    handler(point);\n\n    if
    (isSamePoint(point, endPoint)) {\n      break;\n    }\n\n    const isSkipOffset
    = isSkipInnerOffset &&\n                       startPoint.node !== point.node
    &&\n                       endPoint.node !== point.node;\n    point = nextPointWithEmptyNode(point,
    isSkipOffset);\n  }\n}\n\n/**\n * @method makeOffsetPath\n *\n * return offsetPath(array
    of offset) from ancestor\n *\n * @param {Node} ancestor - ancestor node\n * @param
    {Node} node\n */\nfunction makeOffsetPath(ancestor, node) {\n  const ancestors
    = listAncestor(node, func.eq(ancestor));\n  return ancestors.map(position).reverse();\n}\n\n/**\n
    * @method fromOffsetPath\n *\n * return element from offsetPath(array of offset)\n
    *\n * @param {Node} ancestor - ancestor node\n * @param {array} offsets - offsetPath\n
    */\nfunction fromOffsetPath(ancestor, offsets) {\n  let current = ancestor;\n  for
    (let i = 0, len = offsets.length; i < len; i++) {\n    if (current.childNodes.length
    <= offsets[i]) {\n      current = current.childNodes[current.childNodes.length
    - 1];\n    } else {\n      current = current.childNodes[offsets[i]];\n    }\n  }\n  return
    current;\n}\n\n/**\n * @method splitNode\n *\n * split element or #text\n *\n
    * @param {BoundaryPoint} point\n * @param {Object} [options]\n * @param {Boolean}
    [options.isSkipPaddingBlankHTML] - default: false\n * @param {Boolean} [options.isNotSplitEdgePoint]
    - default: false\n * @param {Boolean} [options.isDiscardEmptySplits] - default:
    false\n * @return {Node} right node of boundaryPoint\n */\nfunction splitNode(point,
    options) {\n  let isSkipPaddingBlankHTML = options && options.isSkipPaddingBlankHTML;\n  const
    isNotSplitEdgePoint = options && options.isNotSplitEdgePoint;\n  const isDiscardEmptySplits
    = options && options.isDiscardEmptySplits;\n\n  if (isDiscardEmptySplits) {\n    isSkipPaddingBlankHTML
    = true;\n  }\n\n  // edge case\n  if (isEdgePoint(point) && (isText(point.node)
    || isNotSplitEdgePoint)) {\n    if (isLeftEdgePoint(point)) {\n      return point.node;\n    }
    else if (isRightEdgePoint(point)) {\n      return point.node.nextSibling;\n    }\n  }\n\n  //
    split #text\n  if (isText(point.node)) {\n    return point.node.splitText(point.offset);\n  }
    else {\n    const childNode = point.node.childNodes[point.offset];\n    const
    clone = insertAfter(point.node.cloneNode(false), point.node);\n    appendChildNodes(clone,
    listNext(childNode));\n\n    if (!isSkipPaddingBlankHTML) {\n      paddingBlankHTML(point.node);\n      paddingBlankHTML(clone);\n    }\n\n    if
    (isDiscardEmptySplits) {\n      if (isEmpty(point.node)) {\n        remove(point.node);\n      }\n      if
    (isEmpty(clone)) {\n        remove(clone);\n        return point.node.nextSibling;\n      }\n    }\n\n    return
    clone;\n  }\n}\n\n/**\n * @method splitTree\n *\n * split tree by point\n *\n
    * @param {Node} root - split root\n * @param {BoundaryPoint} point\n * @param
    {Object} [options]\n * @param {Boolean} [options.isSkipPaddingBlankHTML] - default:
    false\n * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\n *
    @return {Node} right node of boundaryPoint\n */\nfunction splitTree(root, point,
    options) {\n  // ex) [#text, <span>, <p>]\n  const ancestors = listAncestor(point.node,
    func.eq(root));\n\n  if (!ancestors.length) {\n    return null;\n  } else if (ancestors.length
    === 1) {\n    return splitNode(point, options);\n  }\n\n  return ancestors.reduce(function(node,
    parent) {\n    if (node === point.node) {\n      node = splitNode(point, options);\n    }\n\n    return
    splitNode({\n      node: parent,\n      offset: node ? position(node) : nodeLength(parent),\n    },
    options);\n  });\n}\n\n/**\n * split point\n *\n * @param {Point} point\n * @param
    {Boolean} isInline\n * @return {Object}\n */\nfunction splitPoint(point, isInline)
    {\n  // find splitRoot, container\n  //  - inline: splitRoot is a child of paragraph\n  //  -
    block: splitRoot is a child of bodyContainer\n  const pred = isInline ? isPara
    : isBodyContainer;\n  const ancestors = listAncestor(point.node, pred);\n  const
    topAncestor = lists.last(ancestors) || point.node;\n\n  let splitRoot, container;\n  if
    (pred(topAncestor)) {\n    splitRoot = ancestors[ancestors.length - 2];\n    container
    = topAncestor;\n  } else {\n    splitRoot = topAncestor;\n    container = splitRoot.parentNode;\n  }\n\n  //
    if splitRoot is exists, split with splitTree\n  let pivot = splitRoot && splitTree(splitRoot,
    point, {\n    isSkipPaddingBlankHTML: isInline,\n    isNotSplitEdgePoint: isInline,\n  });\n\n  //
    if container is point.node, find pivot with point.offset\n  if (!pivot && container
    === point.node) {\n    pivot = point.node.childNodes[point.offset];\n  }\n\n  return
    {\n    rightNode: pivot,\n    container: container,\n  };\n}\n\nfunction create(nodeName)
    {\n  return document.createElement(nodeName);\n}\n\nfunction createText(text)
    {\n  return document.createTextNode(text);\n}\n\n/**\n * @method remove\n *\n
    * remove node, (isRemoveChild: remove child or not)\n *\n * @param {Node} node\n
    * @param {Boolean} isRemoveChild\n */\nfunction remove(node, isRemoveChild) {\n  if
    (!node || !node.parentNode) { return; }\n  if (node.removeNode) { return node.removeNode(isRemoveChild);
    }\n\n  const parent = node.parentNode;\n  if (!isRemoveChild) {\n    const nodes
    = [];\n    for (let i = 0, len = node.childNodes.length; i < len; i++) {\n      nodes.push(node.childNodes[i]);\n    }\n\n    for
    (let i = 0, len = nodes.length; i < len; i++) {\n      parent.insertBefore(nodes[i],
    node);\n    }\n  }\n\n  parent.removeChild(node);\n}\n\n/**\n * @method removeWhile\n
    *\n * @param {Node} node\n * @param {Function} pred\n */\nfunction removeWhile(node,
    pred) {\n  while (node) {\n    if (isEditable(node) || !pred(node)) {\n      break;\n    }\n\n    const
    parent = node.parentNode;\n    remove(node);\n    node = parent;\n  }\n}\n\n/**\n
    * @method replace\n *\n * replace node with provided nodeName\n *\n * @param {Node}
    node\n * @param {String} nodeName\n * @return {Node} - new node\n */\nfunction
    replace(node, nodeName) {\n  if (node.nodeName.toUpperCase() === nodeName.toUpperCase())
    {\n    return node;\n  }\n\n  const newNode = create(nodeName);\n\n  if (node.style.cssText)
    {\n    newNode.style.cssText = node.style.cssText;\n  }\n\n  appendChildNodes(newNode,
    lists.from(node.childNodes));\n  insertAfter(newNode, node);\n  remove(node);\n\n  return
    newNode;\n}\n\nconst isTextarea = makePredByNodeName(''TEXTAREA'');\n\n/**\n *
    @param {jQuery} $node\n * @param {Boolean} [stripLinebreaks] - default: false\n
    */\nfunction value($node, stripLinebreaks) {\n  const val = isTextarea($node[0])
    ? $node.val() : $node.html();\n  if (stripLinebreaks) {\n    return val.replace(/[\\n\\r]/g,
    '''');\n  }\n  return val;\n}\n\n/**\n * @method html\n *\n * get the HTML contents
    of node\n *\n * @param {jQuery} $node\n * @param {Boolean} [isNewlineOnBlock]\n
    */\nfunction html($node, isNewlineOnBlock) {\n  let markup = value($node);\n\n  if
    (isNewlineOnBlock) {\n    const regexTag = /<(\\/?)(\\b(?!!)[^>\\s]*)(.*?)(\\s*\\/?>)/g;\n    markup
    = markup.replace(regexTag, function(match, endSlash, name) {\n      name = name.toUpperCase();\n      const
    isEndOfInlineContainer = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(name) &&\n                                   !!endSlash;\n      const
    isBlockNode = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(name);\n\n      return
    match + ((isEndOfInlineContainer || isBlockNode) ? ''\\n'' : '''');\n    });\n    markup
    = markup.trim();\n  }\n\n  return markup;\n}\n\nfunction posFromPlaceholder(placeholder)
    {\n  const $placeholder = $(placeholder);\n  const pos = $placeholder.offset();\n  const
    height = $placeholder.outerHeight(true); // include margin\n\n  return {\n    left:
    pos.left,\n    top: pos.top + height,\n  };\n}\n\nfunction attachEvents($node,
    events) {\n  Object.keys(events).forEach(function(key) {\n    $node.on(key, events[key]);\n  });\n}\n\nfunction
    detachEvents($node, events) {\n  Object.keys(events).forEach(function(key) {\n    $node.off(key,
    events[key]);\n  });\n}\n\n/**\n * @method isCustomStyleTag\n *\n * assert if
    a node contains a \"note-styletag\" class,\n * which implies that''s a custom-made
    style tag node\n *\n * @param {Node} an HTML DOM node\n */\nfunction isCustomStyleTag(node)
    {\n  return node && !isText(node) && lists.contains(node.classList, ''note-styletag'');\n}\n\nexport
    default {\n  /** @property {String} NBSP_CHAR */\n  NBSP_CHAR,\n  /** @property
    {String} ZERO_WIDTH_NBSP_CHAR */\n  ZERO_WIDTH_NBSP_CHAR,\n  /** @property {String}
    blank */\n  blank: blankHTML,\n  /** @property {String} emptyPara */\n  emptyPara:
    `<p>${blankHTML}</p>`,\n  makePredByNodeName,\n  isEditable,\n  isControlSizing,\n  isText,\n  isElement,\n  isVoid,\n  isPara,\n  isPurePara,\n  isHeading,\n  isInline,\n  isBlock:
    func.not(isInline),\n  isBodyInline,\n  isBody,\n  isParaInline,\n  isPre,\n  isList,\n  isTable,\n  isData,\n  isCell,\n  isBlockquote,\n  isBodyContainer,\n  isAnchor,\n  isDiv:
    makePredByNodeName(''DIV''),\n  isLi,\n  isBR: makePredByNodeName(''BR''),\n  isSpan:
    makePredByNodeName(''SPAN''),\n  isB: makePredByNodeName(''B''),\n  isU: makePredByNodeName(''U''),\n  isS:
    makePredByNodeName(''S''),\n  isI: makePredByNodeName(''I''),\n  isImg: makePredByNodeName(''IMG''),\n  isTextarea,\n  deepestChildIsEmpty,\n  isEmpty,\n  isEmptyAnchor:
    func.and(isAnchor, isEmpty),\n  isClosestSibling,\n  withClosestSiblings,\n  nodeLength,\n  isLeftEdgePoint,\n  isRightEdgePoint,\n  isEdgePoint,\n  isLeftEdgeOf,\n  isRightEdgeOf,\n  isLeftEdgePointOf,\n  isRightEdgePointOf,\n  prevPoint,\n  nextPoint,\n  nextPointWithEmptyNode,\n  isSamePoint,\n  isVisiblePoint,\n  prevPointUntil,\n  nextPointUntil,\n  isCharPoint,\n  isSpacePoint,\n  walkPoint,\n  ancestor,\n  singleChildAncestor,\n  listAncestor,\n  lastAncestor,\n  listNext,\n  listPrev,\n  listDescendant,\n  commonAncestor,\n  wrap,\n  insertAfter,\n  appendChildNodes,\n  position,\n  hasChildren,\n  makeOffsetPath,\n  fromOffsetPath,\n  splitTree,\n  splitPoint,\n  create,\n  createText,\n  remove,\n  removeWhile,\n  replace,\n  html,\n  value,\n  posFromPlaceholder,\n  attachEvents,\n  detachEvents,\n  isCustomStyleTag,\n};\n","import
    $ from ''jquery'';\nimport func from ''./core/func'';\nimport lists from ''./core/lists'';\nimport
    dom from ''./core/dom'';\n\nexport default class Context {\n  /**\n   * @param
    {jQuery} $note\n   * @param {Object} options\n   */\n  constructor($note, options)
    {\n    this.$note = $note;\n\n    this.memos = {};\n    this.modules = {};\n    this.layoutInfo
    = {};\n    this.options = $.extend(true, {}, options);\n\n    // init ui with
    options\n    $.summernote.ui = $.summernote.ui_template(this.options);\n    this.ui
    = $.summernote.ui;\n\n    this.initialize();\n  }\n\n  /**\n   * create layout
    and initialize modules and other resources\n   */\n  initialize() {\n    this.layoutInfo
    = this.ui.createLayout(this.$note);\n    this._initialize();\n    this.$note.hide();\n    return
    this;\n  }\n\n  /**\n   * destroy modules and other resources and remove layout\n   */\n  destroy()
    {\n    this._destroy();\n    this.$note.removeData(''summernote'');\n    this.ui.removeLayout(this.$note,
    this.layoutInfo);\n  }\n\n  /**\n   * destory modules and other resources and
    initialize it again\n   */\n  reset() {\n    const disabled = this.isDisabled();\n    this.code(dom.emptyPara);\n    this._destroy();\n    this._initialize();\n\n    if
    (disabled) {\n      this.disable();\n    }\n  }\n\n  _initialize() {\n    // set
    own id\n    this.options.id = func.uniqueId($.now());\n    // set default container
    for tooltips, popovers, and dialogs\n    this.options.container = this.options.container
    || this.layoutInfo.editor;\n\n    // add optional buttons\n    const buttons =
    $.extend({}, this.options.buttons);\n    Object.keys(buttons).forEach((key) =>
    {\n      this.memo(''button.'' + key, buttons[key]);\n    });\n\n    const modules
    = $.extend({}, this.options.modules, $.summernote.plugins || {});\n\n    // add
    and initialize modules\n    Object.keys(modules).forEach((key) => {\n      this.module(key,
    modules[key], true);\n    });\n\n    Object.keys(this.modules).forEach((key) =>
    {\n      this.initializeModule(key);\n    });\n  }\n\n  _destroy() {\n    // destroy
    modules with reversed order\n    Object.keys(this.modules).reverse().forEach((key)
    => {\n      this.removeModule(key);\n    });\n\n    Object.keys(this.memos).forEach((key)
    => {\n      this.removeMemo(key);\n    });\n    // trigger custom onDestroy callback\n    this.triggerEvent(''destroy'',
    this);\n  }\n\n  code(html) {\n    const isActivated = this.invoke(''codeview.isActivated'');\n\n    if
    (html === undefined) {\n      this.invoke(''codeview.sync'');\n      return isActivated
    ? this.layoutInfo.codable.val() : this.layoutInfo.editable.html();\n    } else
    {\n      if (isActivated) {\n        this.invoke(''codeview.sync'', html);\n      }
    else {\n        this.layoutInfo.editable.html(html);\n      }\n      this.$note.val(html);\n      this.triggerEvent(''change'',
    html, this.layoutInfo.editable);\n    }\n  }\n\n  isDisabled() {\n    return this.layoutInfo.editable.attr(''contenteditable'')
    === ''false'';\n  }\n\n  enable() {\n    this.layoutInfo.editable.attr(''contenteditable'',
    true);\n    this.invoke(''toolbar.activate'', true);\n    this.triggerEvent(''disable'',
    false);\n    this.options.editing = true;\n  }\n\n  disable() {\n    // close
    codeview if codeview is opend\n    if (this.invoke(''codeview.isActivated''))
    {\n      this.invoke(''codeview.deactivate'');\n    }\n    this.layoutInfo.editable.attr(''contenteditable'',
    false);\n    this.options.editing = false;\n    this.invoke(''toolbar.deactivate'',
    true);\n\n    this.triggerEvent(''disable'', true);\n  }\n\n  triggerEvent() {\n    const
    namespace = lists.head(arguments);\n    const args = lists.tail(lists.from(arguments));\n\n    const
    callback = this.options.callbacks[func.namespaceToCamel(namespace, ''on'')];\n    if
    (callback) {\n      callback.apply(this.$note[0], args);\n    }\n    this.$note.trigger(''summernote.''
    + namespace, args);\n  }\n\n  initializeModule(key) {\n    const module = this.modules[key];\n    module.shouldInitialize
    = module.shouldInitialize || func.ok;\n    if (!module.shouldInitialize()) {\n      return;\n    }\n\n    //
    initialize module\n    if (module.initialize) {\n      module.initialize();\n    }\n\n    //
    attach events\n    if (module.events) {\n      dom.attachEvents(this.$note, module.events);\n    }\n  }\n\n  module(key,
    ModuleClass, withoutIntialize) {\n    if (arguments.length === 1) {\n      return
    this.modules[key];\n    }\n\n    this.modules[key] = new ModuleClass(this);\n\n    if
    (!withoutIntialize) {\n      this.initializeModule(key);\n    }\n  }\n\n  removeModule(key)
    {\n    const module = this.modules[key];\n    if (module.shouldInitialize()) {\n      if
    (module.events) {\n        dom.detachEvents(this.$note, module.events);\n      }\n\n      if
    (module.destroy) {\n        module.destroy();\n      }\n    }\n\n    delete this.modules[key];\n  }\n\n  memo(key,
    obj) {\n    if (arguments.length === 1) {\n      return this.memos[key];\n    }\n    this.memos[key]
    = obj;\n  }\n\n  removeMemo(key) {\n    if (this.memos[key] && this.memos[key].destroy)
    {\n      this.memos[key].destroy();\n    }\n\n    delete this.memos[key];\n  }\n\n  /**\n   *
    Some buttons need to change their visual style immediately once they get pressed\n   */\n  createInvokeHandlerAndUpdateState(namespace,
    value) {\n    return (event) => {\n      this.createInvokeHandler(namespace, value)(event);\n      this.invoke(''buttons.updateCurrentStyle'');\n    };\n  }\n\n  createInvokeHandler(namespace,
    value) {\n    return (event) => {\n      event.preventDefault();\n      const
    $target = $(event.target);\n      this.invoke(namespace, value || $target.closest(''[data-value]'').data(''value''),
    $target);\n    };\n  }\n\n  invoke() {\n    const namespace = lists.head(arguments);\n    const
    args = lists.tail(lists.from(arguments));\n\n    const splits = namespace.split(''.'');\n    const
    hasSeparator = splits.length > 1;\n    const moduleName = hasSeparator && lists.head(splits);\n    const
    methodName = hasSeparator ? lists.last(splits) : lists.head(splits);\n\n    const
    module = this.modules[moduleName || ''editor''];\n    if (!moduleName && this[methodName])
    {\n      return this[methodName].apply(this, args);\n    } else if (module &&
    module[methodName] && module.shouldInitialize()) {\n      return module[methodName].apply(module,
    args);\n    }\n  }\n}\n","import $ from ''jquery'';\nimport env from ''./env'';\nimport
    func from ''./func'';\nimport lists from ''./lists'';\nimport dom from ''./dom'';\n\n/**\n
    * return boundaryPoint from TextRange, inspired by Andy Na''s HuskyRange.js\n
    *\n * @param {TextRange} textRange\n * @param {Boolean} isStart\n * @return {BoundaryPoint}\n
    *\n * @see http://msdn.microsoft.com/en-us/library/ie/ms535872(v=vs.85).aspx\n
    */\nfunction textRangeToPoint(textRange, isStart) {\n  let container = textRange.parentElement();\n  let
    offset;\n\n  const tester = document.body.createTextRange();\n  let prevContainer;\n  const
    childNodes = lists.from(container.childNodes);\n  for (offset = 0; offset < childNodes.length;
    offset++) {\n    if (dom.isText(childNodes[offset])) {\n      continue;\n    }\n    tester.moveToElementText(childNodes[offset]);\n    if
    (tester.compareEndPoints(''StartToStart'', textRange) >= 0) {\n      break;\n    }\n    prevContainer
    = childNodes[offset];\n  }\n\n  if (offset !== 0 && dom.isText(childNodes[offset
    - 1])) {\n    const textRangeStart = document.body.createTextRange();\n    let
    curTextNode = null;\n    textRangeStart.moveToElementText(prevContainer || container);\n    textRangeStart.collapse(!prevContainer);\n    curTextNode
    = prevContainer ? prevContainer.nextSibling : container.firstChild;\n\n    const
    pointTester = textRange.duplicate();\n    pointTester.setEndPoint(''StartToStart'',
    textRangeStart);\n    let textCount = pointTester.text.replace(/[\\r\\n]/g, '''').length;\n\n    while
    (textCount > curTextNode.nodeValue.length && curTextNode.nextSibling) {\n      textCount
    -= curTextNode.nodeValue.length;\n      curTextNode = curTextNode.nextSibling;\n    }\n\n    //
    [workaround] enforce IE to re-reference curTextNode, hack\n    const dummy = curTextNode.nodeValue;
    // eslint-disable-line\n\n    if (isStart && curTextNode.nextSibling && dom.isText(curTextNode.nextSibling)
    &&\n      textCount === curTextNode.nodeValue.length) {\n      textCount -= curTextNode.nodeValue.length;\n      curTextNode
    = curTextNode.nextSibling;\n    }\n\n    container = curTextNode;\n    offset
    = textCount;\n  }\n\n  return {\n    cont: container,\n    offset: offset,\n  };\n}\n\n/**\n
    * return TextRange from boundary point (inspired by google closure-library)\n
    * @param {BoundaryPoint} point\n * @return {TextRange}\n */\nfunction pointToTextRange(point)
    {\n  const textRangeInfo = function(container, offset) {\n    let node, isCollapseToStart;\n\n    if
    (dom.isText(container)) {\n      const prevTextNodes = dom.listPrev(container,
    func.not(dom.isText));\n      const prevContainer = lists.last(prevTextNodes).previousSibling;\n      node
    = prevContainer || container.parentNode;\n      offset += lists.sum(lists.tail(prevTextNodes),
    dom.nodeLength);\n      isCollapseToStart = !prevContainer;\n    } else {\n      node
    = container.childNodes[offset] || container;\n      if (dom.isText(node)) {\n        return
    textRangeInfo(node, 0);\n      }\n\n      offset = 0;\n      isCollapseToStart
    = false;\n    }\n\n    return {\n      node: node,\n      collapseToStart: isCollapseToStart,\n      offset:
    offset,\n    };\n  };\n\n  const textRange = document.body.createTextRange();\n  const
    info = textRangeInfo(point.node, point.offset);\n\n  textRange.moveToElementText(info.node);\n  textRange.collapse(info.collapseToStart);\n  textRange.moveStart(''character'',
    info.offset);\n  return textRange;\n}\n\n/**\n   * Wrapped Range\n   *\n   * @constructor\n   *
    @param {Node} sc - start container\n   * @param {Number} so - start offset\n   *
    @param {Node} ec - end container\n   * @param {Number} eo - end offset\n   */\nclass
    WrappedRange {\n  constructor(sc, so, ec, eo) {\n    this.sc = sc;\n    this.so
    = so;\n    this.ec = ec;\n    this.eo = eo;\n\n    // isOnEditable: judge whether
    range is on editable or not\n    this.isOnEditable = this.makeIsOn(dom.isEditable);\n    //
    isOnList: judge whether range is on list node or not\n    this.isOnList = this.makeIsOn(dom.isList);\n    //
    isOnAnchor: judge whether range is on anchor node or not\n    this.isOnAnchor
    = this.makeIsOn(dom.isAnchor);\n    // isOnCell: judge whether range is on cell
    node or not\n    this.isOnCell = this.makeIsOn(dom.isCell);\n    // isOnData:
    judge whether range is on data node or not\n    this.isOnData = this.makeIsOn(dom.isData);\n  }\n\n  //
    nativeRange: get nativeRange from sc, so, ec, eo\n  nativeRange() {\n    if (env.isW3CRangeSupport)
    {\n      const w3cRange = document.createRange();\n      w3cRange.setStart(this.sc,
    this.so);\n      w3cRange.setEnd(this.ec, this.eo);\n\n      return w3cRange;\n    }
    else {\n      const textRange = pointToTextRange({\n        node: this.sc,\n        offset:
    this.so,\n      });\n\n      textRange.setEndPoint(''EndToEnd'', pointToTextRange({\n        node:
    this.ec,\n        offset: this.eo,\n      }));\n\n      return textRange;\n    }\n  }\n\n  getPoints()
    {\n    return {\n      sc: this.sc,\n      so: this.so,\n      ec: this.ec,\n      eo:
    this.eo,\n    };\n  }\n\n  getStartPoint() {\n    return {\n      node: this.sc,\n      offset:
    this.so,\n    };\n  }\n\n  getEndPoint() {\n    return {\n      node: this.ec,\n      offset:
    this.eo,\n    };\n  }\n\n  /**\n   * select update visible range\n   */\n  select()
    {\n    const nativeRng = this.nativeRange();\n    if (env.isW3CRangeSupport) {\n      const
    selection = document.getSelection();\n      if (selection.rangeCount > 0) {\n        selection.removeAllRanges();\n      }\n      selection.addRange(nativeRng);\n    }
    else {\n      nativeRng.select();\n    }\n\n    return this;\n  }\n\n  /**\n   *
    Moves the scrollbar to start container(sc) of current range\n   *\n   * @return
    {WrappedRange}\n   */\n  scrollIntoView(container) {\n    const height = $(container).height();\n    if
    (container.scrollTop + height < this.sc.offsetTop) {\n      container.scrollTop
    += Math.abs(container.scrollTop + height - this.sc.offsetTop);\n    }\n\n    return
    this;\n  }\n\n  /**\n   * @return {WrappedRange}\n   */\n  normalize() {\n    /**\n     *
    @param {BoundaryPoint} point\n     * @param {Boolean} isLeftToRight - true: prefer
    to choose right node\n     *                                - false: prefer to
    choose left node\n     * @return {BoundaryPoint}\n     */\n    const getVisiblePoint
    = function(point, isLeftToRight) {\n      if (!point) {\n        return point;\n      }\n\n      //
    Just use the given point [XXX:Adhoc]\n      //  - case 01. if the point is on
    the middle of the node\n      //  - case 02. if the point is on the right edge
    and prefer to choose left node\n      //  - case 03. if the point is on the left
    edge and prefer to choose right node\n      //  - case 04. if the point is on
    the right edge and prefer to choose right node but the node is void\n      //  -
    case 05. if the point is on the left edge and prefer to choose left node but the
    node is void\n      //  - case 06. if the point is on the block node and there
    is no children\n      if (dom.isVisiblePoint(point)) {\n        if (!dom.isEdgePoint(point)
    ||\n            (dom.isRightEdgePoint(point) && !isLeftToRight) ||\n            (dom.isLeftEdgePoint(point)
    && isLeftToRight) ||\n            (dom.isRightEdgePoint(point) && isLeftToRight
    && dom.isVoid(point.node.nextSibling)) ||\n            (dom.isLeftEdgePoint(point)
    && !isLeftToRight && dom.isVoid(point.node.previousSibling)) ||\n            (dom.isBlock(point.node)
    && dom.isEmpty(point.node))) {\n          return point;\n        }\n      }\n\n      //
    point on block''s edge\n      const block = dom.ancestor(point.node, dom.isBlock);\n      let
    hasRightNode = false;\n\n      if (!hasRightNode) {\n        const prevPoint =
    dom.prevPoint(point) || { node: null };\n        hasRightNode = (dom.isLeftEdgePointOf(point,
    block) || dom.isVoid(prevPoint.node)) && !isLeftToRight;\n      }\n\n      let
    hasLeftNode = false;\n      if (!hasLeftNode) {\n        const nextPoint = dom.nextPoint(point)
    || { node: null };\n        hasLeftNode = (dom.isRightEdgePointOf(point, block)
    || dom.isVoid(nextPoint.node)) && isLeftToRight;\n      }\n\n      if (hasRightNode
    || hasLeftNode) {\n        // returns point already on visible point\n        if
    (dom.isVisiblePoint(point)) {\n          return point;\n        }\n        //
    reverse direction\n        isLeftToRight = !isLeftToRight;\n      }\n\n      const
    nextPoint = isLeftToRight ? dom.nextPointUntil(dom.nextPoint(point), dom.isVisiblePoint)\n        :
    dom.prevPointUntil(dom.prevPoint(point), dom.isVisiblePoint);\n      return nextPoint
    || point;\n    };\n\n    const endPoint = getVisiblePoint(this.getEndPoint(),
    false);\n    const startPoint = this.isCollapsed() ? endPoint : getVisiblePoint(this.getStartPoint(),
    true);\n\n    return new WrappedRange(\n      startPoint.node,\n      startPoint.offset,\n      endPoint.node,\n      endPoint.offset\n    );\n  }\n\n  /**\n   *
    returns matched nodes on range\n   *\n   * @param {Function} [pred] - predicate
    function\n   * @param {Object} [options]\n   * @param {Boolean} [options.includeAncestor]\n   *
    @param {Boolean} [options.fullyContains]\n   * @return {Node[]}\n   */\n  nodes(pred,
    options) {\n    pred = pred || func.ok;\n\n    const includeAncestor = options
    && options.includeAncestor;\n    const fullyContains = options && options.fullyContains;\n\n    //
    TODO compare points and sort\n    const startPoint = this.getStartPoint();\n    const
    endPoint = this.getEndPoint();\n\n    const nodes = [];\n    const leftEdgeNodes
    = [];\n\n    dom.walkPoint(startPoint, endPoint, function(point) {\n      if (dom.isEditable(point.node))
    {\n        return;\n      }\n\n      let node;\n      if (fullyContains) {\n        if
    (dom.isLeftEdgePoint(point)) {\n          leftEdgeNodes.push(point.node);\n        }\n        if
    (dom.isRightEdgePoint(point) && lists.contains(leftEdgeNodes, point.node)) {\n          node
    = point.node;\n        }\n      } else if (includeAncestor) {\n        node =
    dom.ancestor(point.node, pred);\n      } else {\n        node = point.node;\n      }\n\n      if
    (node && pred(node)) {\n        nodes.push(node);\n      }\n    }, true);\n\n    return
    lists.unique(nodes);\n  }\n\n  /**\n   * returns commonAncestor of range\n   *
    @return {Element} - commonAncestor\n   */\n  commonAncestor() {\n    return dom.commonAncestor(this.sc,
    this.ec);\n  }\n\n  /**\n   * returns expanded range by pred\n   *\n   * @param
    {Function} pred - predicate function\n   * @return {WrappedRange}\n   */\n  expand(pred)
    {\n    const startAncestor = dom.ancestor(this.sc, pred);\n    const endAncestor
    = dom.ancestor(this.ec, pred);\n\n    if (!startAncestor && !endAncestor) {\n      return
    new WrappedRange(this.sc, this.so, this.ec, this.eo);\n    }\n\n    const boundaryPoints
    = this.getPoints();\n\n    if (startAncestor) {\n      boundaryPoints.sc = startAncestor;\n      boundaryPoints.so
    = 0;\n    }\n\n    if (endAncestor) {\n      boundaryPoints.ec = endAncestor;\n      boundaryPoints.eo
    = dom.nodeLength(endAncestor);\n    }\n\n    return new WrappedRange(\n      boundaryPoints.sc,\n      boundaryPoints.so,\n      boundaryPoints.ec,\n      boundaryPoints.eo\n    );\n  }\n\n  /**\n   *
    @param {Boolean} isCollapseToStart\n   * @return {WrappedRange}\n   */\n  collapse(isCollapseToStart)
    {\n    if (isCollapseToStart) {\n      return new WrappedRange(this.sc, this.so,
    this.sc, this.so);\n    } else {\n      return new WrappedRange(this.ec, this.eo,
    this.ec, this.eo);\n    }\n  }\n\n  /**\n   * splitText on range\n   */\n  splitText()
    {\n    const isSameContainer = this.sc === this.ec;\n    const boundaryPoints
    = this.getPoints();\n\n    if (dom.isText(this.ec) && !dom.isEdgePoint(this.getEndPoint()))
    {\n      this.ec.splitText(this.eo);\n    }\n\n    if (dom.isText(this.sc) &&
    !dom.isEdgePoint(this.getStartPoint())) {\n      boundaryPoints.sc = this.sc.splitText(this.so);\n      boundaryPoints.so
    = 0;\n\n      if (isSameContainer) {\n        boundaryPoints.ec = boundaryPoints.sc;\n        boundaryPoints.eo
    = this.eo - this.so;\n      }\n    }\n\n    return new WrappedRange(\n      boundaryPoints.sc,\n      boundaryPoints.so,\n      boundaryPoints.ec,\n      boundaryPoints.eo\n    );\n  }\n\n  /**\n   *
    delete contents on range\n   * @return {WrappedRange}\n   */\n  deleteContents()
    {\n    if (this.isCollapsed()) {\n      return this;\n    }\n\n    const rng =
    this.splitText();\n    const nodes = rng.nodes(null, {\n      fullyContains: true,\n    });\n\n    //
    find new cursor point\n    const point = dom.prevPointUntil(rng.getStartPoint(),
    function(point) {\n      return !lists.contains(nodes, point.node);\n    });\n\n    const
    emptyParents = [];\n    $.each(nodes, function(idx, node) {\n      // find empty
    parents\n      const parent = node.parentNode;\n      if (point.node !== parent
    && dom.nodeLength(parent) === 1) {\n        emptyParents.push(parent);\n      }\n      dom.remove(node,
    false);\n    });\n\n    // remove empty parents\n    $.each(emptyParents, function(idx,
    node) {\n      dom.remove(node, false);\n    });\n\n    return new WrappedRange(\n      point.node,\n      point.offset,\n      point.node,\n      point.offset\n    ).normalize();\n  }\n\n  /**\n   *
    makeIsOn: return isOn(pred) function\n   */\n  makeIsOn(pred) {\n    return function()
    {\n      const ancestor = dom.ancestor(this.sc, pred);\n      return !!ancestor
    && (ancestor === dom.ancestor(this.ec, pred));\n    };\n  }\n\n  /**\n   * @param
    {Function} pred\n   * @return {Boolean}\n   */\n  isLeftEdgeOf(pred) {\n    if
    (!dom.isLeftEdgePoint(this.getStartPoint())) {\n      return false;\n    }\n\n    const
    node = dom.ancestor(this.sc, pred);\n    return node && dom.isLeftEdgeOf(this.sc,
    node);\n  }\n\n  /**\n   * returns whether range was collapsed or not\n   */\n  isCollapsed()
    {\n    return this.sc === this.ec && this.so === this.eo;\n  }\n\n  /**\n   *
    wrap inline nodes which children of body with paragraph\n   *\n   * @return {WrappedRange}\n   */\n  wrapBodyInlineWithPara()
    {\n    if (dom.isBodyContainer(this.sc) && dom.isEmpty(this.sc)) {\n      this.sc.innerHTML
    = dom.emptyPara;\n      return new WrappedRange(this.sc.firstChild, 0, this.sc.firstChild,
    0);\n    }\n\n    /**\n     * [workaround] firefox often create range on not visible
    point. so normalize here.\n     *  - firefox: |<p>text</p>|\n     *  - chrome:
    <p>|text|</p>\n     */\n    const rng = this.normalize();\n    if (dom.isParaInline(this.sc)
    || dom.isPara(this.sc)) {\n      return rng;\n    }\n\n    // find inline top
    ancestor\n    let topAncestor;\n    if (dom.isInline(rng.sc)) {\n      const ancestors
    = dom.listAncestor(rng.sc, func.not(dom.isInline));\n      topAncestor = lists.last(ancestors);\n      if
    (!dom.isInline(topAncestor)) {\n        topAncestor = ancestors[ancestors.length
    - 2] || rng.sc.childNodes[rng.so];\n      }\n    } else {\n      topAncestor =
    rng.sc.childNodes[rng.so > 0 ? rng.so - 1 : 0];\n    }\n\n    if (topAncestor)
    {\n      // siblings not in paragraph\n      let inlineSiblings = dom.listPrev(topAncestor,
    dom.isParaInline).reverse();\n      inlineSiblings = inlineSiblings.concat(dom.listNext(topAncestor.nextSibling,
    dom.isParaInline));\n\n      // wrap with paragraph\n      if (inlineSiblings.length)
    {\n        const para = dom.wrap(lists.head(inlineSiblings), ''p'');\n        dom.appendChildNodes(para,
    lists.tail(inlineSiblings));\n      }\n    }\n\n    return this.normalize();\n  }\n\n  /**\n   *
    insert node at current cursor\n   *\n   * @param {Node} node\n   * @return {Node}\n   */\n  insertNode(node)
    {\n    let rng = this;\n\n    if (dom.isText(node) || dom.isInline(node)) {\n      rng
    = this.wrapBodyInlineWithPara().deleteContents();\n    }\n\n    const info = dom.splitPoint(rng.getStartPoint(),
    dom.isInline(node));\n    if (info.rightNode) {\n      info.rightNode.parentNode.insertBefore(node,
    info.rightNode);\n      if (dom.isEmpty(info.rightNode) && dom.isPara(node)) {\n        info.rightNode.parentNode.removeChild(info.rightNode);\n      }\n    }
    else {\n      info.container.appendChild(node);\n    }\n\n    return node;\n  }\n\n  /**\n   *
    insert html at current cursor\n   */\n  pasteHTML(markup) {\n    markup = $.trim(markup);\n\n    const
    contentsContainer = $(''<div></div>'').html(markup)[0];\n    let childNodes =
    lists.from(contentsContainer.childNodes);\n\n    // const rng = this.wrapBodyInlineWithPara().deleteContents();\n    const
    rng = this;\n    let reversed = false;\n\n    if (rng.so >= 0) {\n      childNodes
    = childNodes.reverse();\n      reversed = true;\n    }\n\n    childNodes = childNodes.map(function(childNode)
    {\n      return rng.insertNode(childNode);\n    });\n\n    if (reversed) {\n      childNodes
    = childNodes.reverse();\n    }\n    return childNodes;\n  }\n\n  /**\n   * returns
    text in range\n   *\n   * @return {String}\n   */\n  toString() {\n    const nativeRng
    = this.nativeRange();\n    return env.isW3CRangeSupport ? nativeRng.toString()
    : nativeRng.text;\n  }\n\n  /**\n   * returns range for word before cursor\n   *\n   *
    @param {Boolean} [findAfter] - find after cursor, default: false\n   * @return
    {WrappedRange}\n   */\n  getWordRange(findAfter) {\n    let endPoint = this.getEndPoint();\n\n    if
    (!dom.isCharPoint(endPoint)) {\n      return this;\n    }\n\n    const startPoint
    = dom.prevPointUntil(endPoint, function(point) {\n      return !dom.isCharPoint(point);\n    });\n\n    if
    (findAfter) {\n      endPoint = dom.nextPointUntil(endPoint, function(point) {\n        return
    !dom.isCharPoint(point);\n      });\n    }\n\n    return new WrappedRange(\n      startPoint.node,\n      startPoint.offset,\n      endPoint.node,\n      endPoint.offset\n    );\n  }\n\n  /**\n   *
    returns range for words before cursor\n   *\n   * @param {Boolean} [findAfter]
    - find after cursor, default: false\n   * @return {WrappedRange}\n   */\n  getWordsRange(findAfter)
    {\n    var endPoint = this.getEndPoint();\n\n    var isNotTextPoint = function(point)
    {\n      return !dom.isCharPoint(point) && !dom.isSpacePoint(point);\n    };\n\n    if
    (isNotTextPoint(endPoint)) {\n      return this;\n    }\n\n    var startPoint
    = dom.prevPointUntil(endPoint, isNotTextPoint);\n\n    if (findAfter) {\n      endPoint
    = dom.nextPointUntil(endPoint, isNotTextPoint);\n    }\n\n    return new WrappedRange(\n      startPoint.node,\n      startPoint.offset,\n      endPoint.node,\n      endPoint.offset\n    );\n  }\n\n  /**\n   *
    returns range for words before cursor that match with a Regex\n   *\n   * example:\n   *  range:
    ''hi @Peter Pan''\n   *  regex: ''/@[a-z ]+/i''\n   *  return range: ''@Peter
    Pan''\n   *\n   * @param {RegExp} [regex]\n   * @return {WrappedRange|null}\n   */\n  getWordsMatchRange(regex)
    {\n    var endPoint = this.getEndPoint();\n\n    var startPoint = dom.prevPointUntil(endPoint,
    function(point) {\n      if (!dom.isCharPoint(point) && !dom.isSpacePoint(point))
    {\n        return true;\n      }\n      var rng = new WrappedRange(\n        point.node,\n        point.offset,\n        endPoint.node,\n        endPoint.offset\n      );\n      var
    result = regex.exec(rng.toString());\n      return result && result.index ===
    0;\n    });\n\n    var rng = new WrappedRange(\n      startPoint.node,\n      startPoint.offset,\n      endPoint.node,\n      endPoint.offset\n    );\n\n    var
    text = rng.toString();\n    var result = regex.exec(text);\n\n    if (result &&
    result[0].length === text.length) {\n      return rng;\n    } else {\n      return
    null;\n    }\n  }\n\n  /**\n   * create offsetPath bookmark\n   *\n   * @param
    {Node} editable\n   */\n  bookmark(editable) {\n    return {\n      s: {\n        path:
    dom.makeOffsetPath(editable, this.sc),\n        offset: this.so,\n      },\n      e:
    {\n        path: dom.makeOffsetPath(editable, this.ec),\n        offset: this.eo,\n      },\n    };\n  }\n\n  /**\n   *
    create offsetPath bookmark base on paragraph\n   *\n   * @param {Node[]} paras\n   */\n  paraBookmark(paras)
    {\n    return {\n      s: {\n        path: lists.tail(dom.makeOffsetPath(lists.head(paras),
    this.sc)),\n        offset: this.so,\n      },\n      e: {\n        path: lists.tail(dom.makeOffsetPath(lists.last(paras),
    this.ec)),\n        offset: this.eo,\n      },\n    };\n  }\n\n  /**\n   * getClientRects\n   *
    @return {Rect[]}\n   */\n  getClientRects() {\n    const nativeRng = this.nativeRange();\n    return
    nativeRng.getClientRects();\n  }\n}\n\n/**\n * Data structure\n *  * BoundaryPoint:
    a point of dom tree\n *  * BoundaryPoints: two boundaryPoints corresponding to
    the start and the end of the Range\n *\n * See to http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Position\n
    */\nexport default {\n  /**\n   * create Range Object From arguments or Browser
    Selection\n   *\n   * @param {Node} sc - start container\n   * @param {Number}
    so - start offset\n   * @param {Node} ec - end container\n   * @param {Number}
    eo - end offset\n   * @return {WrappedRange}\n   */\n  create: function(sc, so,
    ec, eo) {\n    if (arguments.length === 4) {\n      return new WrappedRange(sc,
    so, ec, eo);\n    } else if (arguments.length === 2) { // collapsed\n      ec
    = sc;\n      eo = so;\n      return new WrappedRange(sc, so, ec, eo);\n    } else
    {\n      let wrappedRange = this.createFromSelection();\n\n      if (!wrappedRange
    && arguments.length === 1) {\n        let bodyElement = arguments[0];\n        if
    (dom.isEditable(bodyElement)) {\n          bodyElement = bodyElement.lastChild;\n        }\n        return
    this.createFromBodyElement(bodyElement, dom.emptyPara === arguments[0].innerHTML);\n      }\n      return
    wrappedRange;\n    }\n  },\n\n  createFromBodyElement: function(bodyElement, isCollapseToStart
    = false) {\n    var wrappedRange = this.createFromNode(bodyElement);\n    return
    wrappedRange.collapse(isCollapseToStart);\n  },\n\n  createFromSelection: function()
    {\n    let sc, so, ec, eo;\n    if (env.isW3CRangeSupport) {\n      const selection
    = document.getSelection();\n      if (!selection || selection.rangeCount === 0)
    {\n        return null;\n      } else if (dom.isBody(selection.anchorNode)) {\n        //
    Firefox: returns entire body as range on initialization.\n        // We won''t
    never need it.\n        return null;\n      }\n\n      const nativeRng = selection.getRangeAt(0);\n      sc
    = nativeRng.startContainer;\n      so = nativeRng.startOffset;\n      ec = nativeRng.endContainer;\n      eo
    = nativeRng.endOffset;\n    } else { // IE8: TextRange\n      const textRange
    = document.selection.createRange();\n      const textRangeEnd = textRange.duplicate();\n      textRangeEnd.collapse(false);\n      const
    textRangeStart = textRange;\n      textRangeStart.collapse(true);\n\n      let
    startPoint = textRangeToPoint(textRangeStart, true);\n      let endPoint = textRangeToPoint(textRangeEnd,
    false);\n\n      // same visible point case: range was collapsed.\n      if (dom.isText(startPoint.node)
    && dom.isLeftEdgePoint(startPoint) &&\n        dom.isTextNode(endPoint.node) &&
    dom.isRightEdgePoint(endPoint) &&\n        endPoint.node.nextSibling === startPoint.node)
    {\n        startPoint = endPoint;\n      }\n\n      sc = startPoint.cont;\n      so
    = startPoint.offset;\n      ec = endPoint.cont;\n      eo = endPoint.offset;\n    }\n\n    return
    new WrappedRange(sc, so, ec, eo);\n  },\n\n  /**\n   * @method\n   *\n   * create
    WrappedRange from node\n   *\n   * @param {Node} node\n   * @return {WrappedRange}\n   */\n  createFromNode:
    function(node) {\n    let sc = node;\n    let so = 0;\n    let ec = node;\n    let
    eo = dom.nodeLength(ec);\n\n    // browsers can''t target a picture or void node\n    if
    (dom.isVoid(sc)) {\n      so = dom.listPrev(sc).length - 1;\n      sc = sc.parentNode;\n    }\n    if
    (dom.isBR(ec)) {\n      eo = dom.listPrev(ec).length - 1;\n      ec = ec.parentNode;\n    }
    else if (dom.isVoid(ec)) {\n      eo = dom.listPrev(ec).length;\n      ec = ec.parentNode;\n    }\n\n    return
    this.create(sc, so, ec, eo);\n  },\n\n  /**\n   * create WrappedRange from node
    after position\n   *\n   * @param {Node} node\n   * @return {WrappedRange}\n   */\n  createFromNodeBefore:
    function(node) {\n    return this.createFromNode(node).collapse(true);\n  },\n\n  /**\n   *
    create WrappedRange from node after position\n   *\n   * @param {Node} node\n   *
    @return {WrappedRange}\n   */\n  createFromNodeAfter: function(node) {\n    return
    this.createFromNode(node).collapse();\n  },\n\n  /**\n   * @method\n   *\n   *
    create WrappedRange from bookmark\n   *\n   * @param {Node} editable\n   * @param
    {Object} bookmark\n   * @return {WrappedRange}\n   */\n  createFromBookmark: function(editable,
    bookmark) {\n    const sc = dom.fromOffsetPath(editable, bookmark.s.path);\n    const
    so = bookmark.s.offset;\n    const ec = dom.fromOffsetPath(editable, bookmark.e.path);\n    const
    eo = bookmark.e.offset;\n    return new WrappedRange(sc, so, ec, eo);\n  },\n\n  /**\n   *
    @method\n   *\n   * create WrappedRange from paraBookmark\n   *\n   * @param {Object}
    bookmark\n   * @param {Node[]} paras\n   * @return {WrappedRange}\n   */\n  createFromParaBookmark:
    function(bookmark, paras) {\n    const so = bookmark.s.offset;\n    const eo =
    bookmark.e.offset;\n    const sc = dom.fromOffsetPath(lists.head(paras), bookmark.s.path);\n    const
    ec = dom.fromOffsetPath(lists.last(paras), bookmark.e.path);\n\n    return new
    WrappedRange(sc, so, ec, eo);\n  },\n};\n","import $ from ''jquery'';\nimport
    env from ''./base/core/env'';\nimport lists from ''./base/core/lists'';\nimport
    Context from ''./base/Context'';\n\n$.fn.extend({\n  /**\n   * Summernote API\n   *\n   *
    @param {Object|String}\n   * @return {this}\n   */\n  summernote: function() {\n    const
    type = $.type(lists.head(arguments));\n    const isExternalAPICalled = type ===
    ''string'';\n    const hasInitOptions = type === ''object'';\n\n    const options
    = $.extend({}, $.summernote.options, hasInitOptions ? lists.head(arguments) :
    {});\n\n    // Update options\n    options.langInfo = $.extend(true, {}, $.summernote.lang[''en-US''],
    $.summernote.lang[options.lang]);\n    options.icons = $.extend(true, {}, $.summernote.options.icons,
    options.icons);\n    options.tooltip = options.tooltip === ''auto'' ? !env.isSupportTouch
    : options.tooltip;\n\n    this.each((idx, note) => {\n      const $note = $(note);\n      if
    (!$note.data(''summernote'')) {\n        const context = new Context($note, options);\n        $note.data(''summernote'',
    context);\n        $note.data(''summernote'').triggerEvent(''init'', context.layoutInfo);\n      }\n    });\n\n    const
    $note = this.first();\n    if ($note.length) {\n      const context = $note.data(''summernote'');\n      if
    (isExternalAPICalled) {\n        return context.invoke.apply(context, lists.from(arguments));\n      }
    else if (options.focus) {\n        context.invoke(''editor.focus'');\n      }\n    }\n\n    return
    this;\n  },\n});\n","import lists from ''./lists'';\nimport func from ''./func'';\n\nconst
    KEY_MAP = {\n  ''BACKSPACE'': 8,\n  ''TAB'': 9,\n  ''ENTER'': 13,\n  ''ESCAPE'':
    27,\n  ''SPACE'': 32,\n  ''DELETE'': 46,\n\n  // Arrow\n  ''LEFT'': 37,\n  ''UP'':
    38,\n  ''RIGHT'': 39,\n  ''DOWN'': 40,\n\n  // Number: 0-9\n  ''NUM0'': 48,\n  ''NUM1'':
    49,\n  ''NUM2'': 50,\n  ''NUM3'': 51,\n  ''NUM4'': 52,\n  ''NUM5'': 53,\n  ''NUM6'':
    54,\n  ''NUM7'': 55,\n  ''NUM8'': 56,\n\n  // Alphabet: a-z\n  ''B'': 66,\n  ''E'':
    69,\n  ''I'': 73,\n  ''J'': 74,\n  ''K'': 75,\n  ''L'': 76,\n  ''R'': 82,\n  ''S'':
    83,\n  ''U'': 85,\n  ''V'': 86,\n  ''Y'': 89,\n  ''Z'': 90,\n\n  ''SLASH'': 191,\n  ''LEFTBRACKET'':
    219,\n  ''BACKSLASH'': 220,\n  ''RIGHTBRACKET'': 221,\n\n  // Navigation\n  ''HOME'':
    36,\n  ''END'': 35,\n  ''PAGEUP'': 33,\n  ''PAGEDOWN'': 34,\n};\n\n/**\n * @class
    core.key\n *\n * Object for keycodes.\n *\n * @singleton\n * @alternateClassName
    key\n */\nexport default {\n  /**\n   * @method isEdit\n   *\n   * @param {Number}
    keyCode\n   * @return {Boolean}\n   */\n  isEdit: (keyCode) => {\n    return lists.contains([\n      KEY_MAP.BACKSPACE,\n      KEY_MAP.TAB,\n      KEY_MAP.ENTER,\n      KEY_MAP.SPACE,\n      KEY_MAP.DELETE,\n    ],
    keyCode);\n  },\n  /**\n   * @method isMove\n   *\n   * @param {Number} keyCode\n   *
    @return {Boolean}\n   */\n  isMove: (keyCode) => {\n    return lists.contains([\n      KEY_MAP.LEFT,\n      KEY_MAP.UP,\n      KEY_MAP.RIGHT,\n      KEY_MAP.DOWN,\n    ],
    keyCode);\n  },\n  /**\n   * @method isNavigation\n   *\n   * @param {Number}
    keyCode\n   * @return {Boolean}\n   */\n  isNavigation: (keyCode) => {\n    return
    lists.contains([\n      KEY_MAP.HOME,\n      KEY_MAP.END,\n      KEY_MAP.PAGEUP,\n      KEY_MAP.PAGEDOWN,\n    ],
    keyCode);\n  },\n  /**\n   * @property {Object} nameFromCode\n   * @property {String}
    nameFromCode.8 \"BACKSPACE\"\n   */\n  nameFromCode: func.invertObject(KEY_MAP),\n  code:
    KEY_MAP,\n};\n","import range from ''../core/range'';\n\nexport default class
    History {\n  constructor(context) {\n    this.stack = [];\n    this.stackOffset
    = -1;\n    this.context = context;\n    this.$editable = context.layoutInfo.editable;\n    this.editable
    = this.$editable[0];\n  }\n\n  makeSnapshot() {\n    const rng = range.create(this.editable);\n    const
    emptyBookmark = { s: { path: [], offset: 0 }, e: { path: [], offset: 0 } };\n\n    return
    {\n      contents: this.$editable.html(),\n      bookmark: ((rng && rng.isOnEditable())
    ? rng.bookmark(this.editable) : emptyBookmark),\n    };\n  }\n\n  applySnapshot(snapshot)
    {\n    if (snapshot.contents !== null) {\n      this.$editable.html(snapshot.contents);\n    }\n    if
    (snapshot.bookmark !== null) {\n      range.createFromBookmark(this.editable,
    snapshot.bookmark).select();\n    }\n  }\n\n  /**\n  * @method rewind\n  * Rewinds
    the history stack back to the first snapshot taken.\n  * Leaves the stack intact,
    so that \"Redo\" can still be used.\n  */\n  rewind() {\n    // Create snap shot
    if not yet recorded\n    if (this.$editable.html() !== this.stack[this.stackOffset].contents)
    {\n      this.recordUndo();\n    }\n\n    // Return to the first available snapshot.\n    this.stackOffset
    = 0;\n\n    // Apply that snapshot.\n    this.applySnapshot(this.stack[this.stackOffset]);\n  }\n\n  /**\n  *  @method
    commit\n  *  Resets history stack, but keeps current editor''s content.\n  */\n  commit()
    {\n    // Clear the stack.\n    this.stack = [];\n\n    // Restore stackOffset
    to its original value.\n    this.stackOffset = -1;\n\n    // Record our first
    snapshot (of nothing).\n    this.recordUndo();\n  }\n\n  /**\n  * @method reset\n  *
    Resets the history stack completely; reverting to an empty editor.\n  */\n  reset()
    {\n    // Clear the stack.\n    this.stack = [];\n\n    // Restore stackOffset
    to its original value.\n    this.stackOffset = -1;\n\n    // Clear the editable
    area.\n    this.$editable.html('''');\n\n    // Record our first snapshot (of
    nothing).\n    this.recordUndo();\n  }\n\n  /**\n   * undo\n   */\n  undo() {\n    //
    Create snap shot if not yet recorded\n    if (this.$editable.html() !== this.stack[this.stackOffset].contents)
    {\n      this.recordUndo();\n    }\n\n    if (this.stackOffset > 0) {\n      this.stackOffset--;\n      this.applySnapshot(this.stack[this.stackOffset]);\n    }\n  }\n\n  /**\n   *
    redo\n   */\n  redo() {\n    if (this.stack.length - 1 > this.stackOffset) {\n      this.stackOffset++;\n      this.applySnapshot(this.stack[this.stackOffset]);\n    }\n  }\n\n  /**\n   *
    recorded undo\n   */\n  recordUndo() {\n    this.stackOffset++;\n\n    // Wash
    out stack after stackOffset\n    if (this.stack.length > this.stackOffset) {\n      this.stack
    = this.stack.slice(0, this.stackOffset);\n    }\n\n    // Create new snapshot
    and push it to the end\n    this.stack.push(this.makeSnapshot());\n\n    // If
    the stack size reachs to the limit, then slice it\n    if (this.stack.length >
    this.context.options.historyLimit) {\n      this.stack.shift();\n      this.stackOffset
    -= 1;\n    }\n  }\n}\n","import $ from ''jquery'';\nimport env from ''../core/env'';\nimport
    func from ''../core/func'';\nimport lists from ''../core/lists'';\nimport dom
    from ''../core/dom'';\n\nexport default class Style {\n  /**\n   * @method jQueryCSS\n   *\n   *
    [workaround] for old jQuery\n   * passing an array of style properties to .css()\n   *
    will result in an object of property-value pairs.\n   * (compability with version
    < 1.9)\n   *\n   * @private\n   * @param  {jQuery} $obj\n   * @param  {Array}
    propertyNames - An array of one or more CSS properties.\n   * @return {Object}\n   */\n  jQueryCSS($obj,
    propertyNames) {\n    if (env.jqueryVersion < 1.9) {\n      const result = {};\n      $.each(propertyNames,
    (idx, propertyName) => {\n        result[propertyName] = $obj.css(propertyName);\n      });\n      return
    result;\n    }\n    return $obj.css(propertyNames);\n  }\n\n  /**\n   * returns
    style object from node\n   *\n   * @param {jQuery} $node\n   * @return {Object}\n   */\n  fromNode($node)
    {\n    const properties = [''font-family'', ''font-size'', ''text-align'', ''list-style-type'',
    ''line-height''];\n    const styleInfo = this.jQueryCSS($node, properties) ||
    {};\n\n    const fontSize = $node[0].style.fontSize || styleInfo[''font-size''];\n\n    styleInfo[''font-size'']
    = parseInt(fontSize, 10);\n    styleInfo[''font-size-unit''] = fontSize.match(/[a-z%]+$/);\n\n    return
    styleInfo;\n  }\n\n  /**\n   * paragraph level style\n   *\n   * @param {WrappedRange}
    rng\n   * @param {Object} styleInfo\n   */\n  stylePara(rng, styleInfo) {\n    $.each(rng.nodes(dom.isPara,
    {\n      includeAncestor: true,\n    }), (idx, para) => {\n      $(para).css(styleInfo);\n    });\n  }\n\n  /**\n   *
    insert and returns styleNodes on range.\n   *\n   * @param {WrappedRange} rng\n   *
    @param {Object} [options] - options for styleNodes\n   * @param {String} [options.nodeName]
    - default: `SPAN`\n   * @param {Boolean} [options.expandClosestSibling] - default:
    `false`\n   * @param {Boolean} [options.onlyPartialContains] - default: `false`\n   *
    @return {Node[]}\n   */\n  styleNodes(rng, options) {\n    rng = rng.splitText();\n\n    const
    nodeName = (options && options.nodeName) || ''SPAN'';\n    const expandClosestSibling
    = !!(options && options.expandClosestSibling);\n    const onlyPartialContains
    = !!(options && options.onlyPartialContains);\n\n    if (rng.isCollapsed()) {\n      return
    [rng.insertNode(dom.create(nodeName))];\n    }\n\n    let pred = dom.makePredByNodeName(nodeName);\n    const
    nodes = rng.nodes(dom.isText, {\n      fullyContains: true,\n    }).map((text)
    => {\n      return dom.singleChildAncestor(text, pred) || dom.wrap(text, nodeName);\n    });\n\n    if
    (expandClosestSibling) {\n      if (onlyPartialContains) {\n        const nodesInRange
    = rng.nodes();\n        // compose with partial contains predication\n        pred
    = func.and(pred, (node) => {\n          return lists.contains(nodesInRange, node);\n        });\n      }\n\n      return
    nodes.map((node) => {\n        const siblings = dom.withClosestSiblings(node,
    pred);\n        const head = lists.head(siblings);\n        const tails = lists.tail(siblings);\n        $.each(tails,
    (idx, elem) => {\n          dom.appendChildNodes(head, elem.childNodes);\n          dom.remove(elem);\n        });\n        return
    lists.head(siblings);\n      });\n    } else {\n      return nodes;\n    }\n  }\n\n  /**\n   *
    get current style on cursor\n   *\n   * @param {WrappedRange} rng\n   * @return
    {Object} - object contains style properties.\n   */\n  current(rng) {\n    const
    $cont = $(!dom.isElement(rng.sc) ? rng.sc.parentNode : rng.sc);\n    let styleInfo
    = this.fromNode($cont);\n\n    // document.queryCommandState for toggle state\n    //
    [workaround] prevent Firefox nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"\n    try
    {\n      styleInfo = $.extend(styleInfo, {\n        ''font-bold'': document.queryCommandState(''bold'')
    ? ''bold'' : ''normal'',\n        ''font-italic'': document.queryCommandState(''italic'')
    ? ''italic'' : ''normal'',\n        ''font-underline'': document.queryCommandState(''underline'')
    ? ''underline'' : ''normal'',\n        ''font-subscript'': document.queryCommandState(''subscript'')
    ? ''subscript'' : ''normal'',\n        ''font-superscript'': document.queryCommandState(''superscript'')
    ? ''superscript'' : ''normal'',\n        ''font-strikethrough'': document.queryCommandState(''strikethrough'')
    ? ''strikethrough'' : ''normal'',\n        ''font-family'': document.queryCommandValue(''fontname'')
    || styleInfo[''font-family''],\n      });\n    } catch (e) {\n      // eslint-disable-next-line\n    }\n\n    //
    list-style-type to list-style(unordered, ordered)\n    if (!rng.isOnList()) {\n      styleInfo[''list-style'']
    = ''none'';\n    } else {\n      const orderedTypes = [''circle'', ''disc'', ''disc-leading-zero'',
    ''square''];\n      const isUnordered = orderedTypes.indexOf(styleInfo[''list-style-type''])
    > -1;\n      styleInfo[''list-style''] = isUnordered ? ''unordered'' : ''ordered'';\n    }\n\n    const
    para = dom.ancestor(rng.sc, dom.isPara);\n    if (para && para.style[''line-height''])
    {\n      styleInfo[''line-height''] = para.style.lineHeight;\n    } else {\n      const
    lineHeight = parseInt(styleInfo[''line-height''], 10) / parseInt(styleInfo[''font-size''],
    10);\n      styleInfo[''line-height''] = lineHeight.toFixed(1);\n    }\n\n    styleInfo.anchor
    = rng.isOnAnchor() && dom.ancestor(rng.sc, dom.isAnchor);\n    styleInfo.ancestors
    = dom.listAncestor(rng.sc, dom.isEditable);\n    styleInfo.range = rng;\n\n    return
    styleInfo;\n  }\n}\n","import $ from ''jquery'';\nimport lists from ''../core/lists'';\nimport
    func from ''../core/func'';\nimport dom from ''../core/dom'';\nimport range from
    ''../core/range'';\n\nexport default class Bullet {\n  /**\n   * toggle ordered
    list\n   */\n  insertOrderedList(editable) {\n    this.toggleList(''OL'', editable);\n  }\n\n  /**\n   *
    toggle unordered list\n   */\n  insertUnorderedList(editable) {\n    this.toggleList(''UL'',
    editable);\n  }\n\n  /**\n   * indent\n   */\n  indent(editable) {\n    const
    rng = range.create(editable).wrapBodyInlineWithPara();\n\n    const paras = rng.nodes(dom.isPara,
    { includeAncestor: true });\n    const clustereds = lists.clusterBy(paras, func.peq2(''parentNode''));\n\n    $.each(clustereds,
    (idx, paras) => {\n      const head = lists.head(paras);\n      if (dom.isLi(head))
    {\n        const previousList = this.findList(head.previousSibling);\n        if
    (previousList) {\n          paras\n            .map(para => previousList.appendChild(para));\n        }
    else {\n          this.wrapList(paras, head.parentNode.nodeName);\n          paras\n            .map((para)
    => para.parentNode)\n            .map((para) => this.appendToPrevious(para));\n        }\n      }
    else {\n        $.each(paras, (idx, para) => {\n          $(para).css(''marginLeft'',
    (idx, val) => {\n            return (parseInt(val, 10) || 0) + 25;\n          });\n        });\n      }\n    });\n\n    rng.select();\n  }\n\n  /**\n   *
    outdent\n   */\n  outdent(editable) {\n    const rng = range.create(editable).wrapBodyInlineWithPara();\n\n    const
    paras = rng.nodes(dom.isPara, { includeAncestor: true });\n    const clustereds
    = lists.clusterBy(paras, func.peq2(''parentNode''));\n\n    $.each(clustereds,
    (idx, paras) => {\n      const head = lists.head(paras);\n      if (dom.isLi(head))
    {\n        this.releaseList([paras]);\n      } else {\n        $.each(paras, (idx,
    para) => {\n          $(para).css(''marginLeft'', (idx, val) => {\n            val
    = (parseInt(val, 10) || 0);\n            return val > 25 ? val - 25 : '''';\n          });\n        });\n      }\n    });\n\n    rng.select();\n  }\n\n  /**\n   *
    toggle list\n   *\n   * @param {String} listName - OL or UL\n   */\n  toggleList(listName,
    editable) {\n    const rng = range.create(editable).wrapBodyInlineWithPara();\n\n    let
    paras = rng.nodes(dom.isPara, { includeAncestor: true });\n    const bookmark
    = rng.paraBookmark(paras);\n    const clustereds = lists.clusterBy(paras, func.peq2(''parentNode''));\n\n    //
    paragraph to list\n    if (lists.find(paras, dom.isPurePara)) {\n      let wrappedParas
    = [];\n      $.each(clustereds, (idx, paras) => {\n        wrappedParas = wrappedParas.concat(this.wrapList(paras,
    listName));\n      });\n      paras = wrappedParas;\n    // list to paragraph
    or change list style\n    } else {\n      const diffLists = rng.nodes(dom.isList,
    {\n        includeAncestor: true,\n      }).filter((listNode) => {\n        return
    !$.nodeName(listNode, listName);\n      });\n\n      if (diffLists.length) {\n        $.each(diffLists,
    (idx, listNode) => {\n          dom.replace(listNode, listName);\n        });\n      }
    else {\n        paras = this.releaseList(clustereds, true);\n      }\n    }\n\n    range.createFromParaBookmark(bookmark,
    paras).select();\n  }\n\n  /**\n   * @param {Node[]} paras\n   * @param {String}
    listName\n   * @return {Node[]}\n   */\n  wrapList(paras, listName) {\n    const
    head = lists.head(paras);\n    const last = lists.last(paras);\n\n    const prevList
    = dom.isList(head.previousSibling) && head.previousSibling;\n    const nextList
    = dom.isList(last.nextSibling) && last.nextSibling;\n\n    const listNode = prevList
    || dom.insertAfter(dom.create(listName || ''UL''), last);\n\n    // P to LI\n    paras
    = paras.map((para) => {\n      return dom.isPurePara(para) ? dom.replace(para,
    ''LI'') : para;\n    });\n\n    // append to list(<ul>, <ol>)\n    dom.appendChildNodes(listNode,
    paras);\n\n    if (nextList) {\n      dom.appendChildNodes(listNode, lists.from(nextList.childNodes));\n      dom.remove(nextList);\n    }\n\n    return
    paras;\n  }\n\n  /**\n   * @method releaseList\n   *\n   * @param {Array[]} clustereds\n   *
    @param {Boolean} isEscapseToBody\n   * @return {Node[]}\n   */\n  releaseList(clustereds,
    isEscapseToBody) {\n    let releasedParas = [];\n\n    $.each(clustereds, (idx,
    paras) => {\n      const head = lists.head(paras);\n      const last = lists.last(paras);\n\n      const
    headList = isEscapseToBody ? dom.lastAncestor(head, dom.isList) : head.parentNode;\n      const
    parentItem = headList.parentNode;\n\n      if (headList.parentNode.nodeName ===
    ''LI'') {\n        paras.map(para => {\n          const newList = this.findNextSiblings(para);\n\n          if
    (parentItem.nextSibling) {\n            parentItem.parentNode.insertBefore(\n              para,\n              parentItem.nextSibling\n            );\n          }
    else {\n            parentItem.parentNode.appendChild(para);\n          }\n\n          if
    (newList.length) {\n            this.wrapList(newList, headList.nodeName);\n            para.appendChild(newList[0].parentNode);\n          }\n        });\n\n        if
    (headList.children.length === 0) {\n          parentItem.removeChild(headList);\n        }\n\n        if
    (parentItem.childNodes.length === 0) {\n          parentItem.parentNode.removeChild(parentItem);\n        }\n      }
    else {\n        const lastList = headList.childNodes.length > 1 ? dom.splitTree(headList,
    {\n          node: last.parentNode,\n          offset: dom.position(last) + 1,\n        },
    {\n          isSkipPaddingBlankHTML: true,\n        }) : null;\n\n        const
    middleList = dom.splitTree(headList, {\n          node: head.parentNode,\n          offset:
    dom.position(head),\n        }, {\n          isSkipPaddingBlankHTML: true,\n        });\n\n        paras
    = isEscapseToBody ? dom.listDescendant(middleList, dom.isLi)\n          : lists.from(middleList.childNodes).filter(dom.isLi);\n\n        //
    LI to P\n        if (isEscapseToBody || !dom.isList(headList.parentNode)) {\n          paras
    = paras.map((para) => {\n            return dom.replace(para, ''P'');\n          });\n        }\n\n        $.each(lists.from(paras).reverse(),
    (idx, para) => {\n          dom.insertAfter(para, headList);\n        });\n\n        //
    remove empty lists\n        const rootLists = lists.compact([headList, middleList,
    lastList]);\n        $.each(rootLists, (idx, rootList) => {\n          const listNodes
    = [rootList].concat(dom.listDescendant(rootList, dom.isList));\n          $.each(listNodes.reverse(),
    (idx, listNode) => {\n            if (!dom.nodeLength(listNode)) {\n              dom.remove(listNode,
    true);\n            }\n          });\n        });\n      }\n\n      releasedParas
    = releasedParas.concat(paras);\n    });\n\n    return releasedParas;\n  }\n\n  /**\n   *
    @method appendToPrevious\n   *\n   * Appends list to previous list item, if\n   *
    none exist it wraps the list in a new list item.\n   *\n   * @param {HTMLNode}
    ListItem\n   * @return {HTMLNode}\n   */\n  appendToPrevious(node) {\n    return
    node.previousSibling\n      ? dom.appendChildNodes(node.previousSibling, [node])\n      :
    this.wrapList([node], ''LI'');\n  }\n\n  /**\n   * @method findList\n   *\n   *
    Finds an existing list in list item\n   *\n   * @param {HTMLNode} ListItem\n   *
    @return {Array[]}\n   */\n  findList(node) {\n    return node\n      ? lists.find(node.children,
    child => [''OL'', ''UL''].indexOf(child.nodeName) > -1)\n      : null;\n  }\n\n  /**\n   *
    @method findNextSiblings\n   *\n   * Finds all list item siblings that follow
    it\n   *\n   * @param {HTMLNode} ListItem\n   * @return {HTMLNode}\n   */\n  findNextSiblings(node)
    {\n    const siblings = [];\n    while (node.nextSibling) {\n      siblings.push(node.nextSibling);\n      node
    = node.nextSibling;\n    }\n    return siblings;\n  }\n}\n","import $ from ''jquery'';\nimport
    dom from ''../core/dom'';\nimport range from ''../core/range'';\nimport Bullet
    from ''../editing/Bullet'';\n\n/**\n * @class editing.Typing\n *\n * Typing\n
    *\n */\nexport default class Typing {\n  constructor(context) {\n    // a Bullet
    instance to toggle lists off\n    this.bullet = new Bullet();\n    this.options
    = context.options;\n  }\n\n  /**\n   * insert tab\n   *\n   * @param {WrappedRange}
    rng\n   * @param {Number} tabsize\n   */\n  insertTab(rng, tabsize) {\n    const
    tab = dom.createText(new Array(tabsize + 1).join(dom.NBSP_CHAR));\n    rng = rng.deleteContents();\n    rng.insertNode(tab,
    true);\n\n    rng = range.create(tab, tabsize);\n    rng.select();\n  }\n\n  /**\n   *
    insert paragraph\n   *\n   * @param {jQuery} $editable\n   * @param {WrappedRange}
    rng Can be used in unit tests to \"mock\" the range\n   *\n   * blockquoteBreakingLevel\n   *   0
    - No break, the new paragraph remains inside the quote\n   *   1 - Break the first
    blockquote in the ancestors list\n   *   2 - Break all blockquotes, so that the
    new paragraph is not quoted (this is the default)\n   */\n  insertParagraph(editable,
    rng) {\n    rng = rng || range.create(editable);\n\n    // deleteContents on range.\n    rng
    = rng.deleteContents();\n\n    // Wrap range if it needs to be wrapped by paragraph\n    rng
    = rng.wrapBodyInlineWithPara();\n\n    // finding paragraph\n    const splitRoot
    = dom.ancestor(rng.sc, dom.isPara);\n\n    let nextPara;\n    // on paragraph:
    split paragraph\n    if (splitRoot) {\n      // if it is an empty line with li\n      if
    (dom.isLi(splitRoot) && (dom.isEmpty(splitRoot) || dom.deepestChildIsEmpty(splitRoot)))
    {\n        // toggle UL/OL and escape\n        this.bullet.toggleList(splitRoot.parentNode.nodeName);\n        return;\n      }
    else {\n        let blockquote = null;\n        if (this.options.blockquoteBreakingLevel
    === 1) {\n          blockquote = dom.ancestor(splitRoot, dom.isBlockquote);\n        }
    else if (this.options.blockquoteBreakingLevel === 2) {\n          blockquote =
    dom.lastAncestor(splitRoot, dom.isBlockquote);\n        }\n\n        if (blockquote)
    {\n          // We''re inside a blockquote and options ask us to break it\n          nextPara
    = $(dom.emptyPara)[0];\n          // If the split is right before a <br>, remove
    it so that there''s no \"empty line\"\n          // after the split in the new
    blockquote created\n          if (dom.isRightEdgePoint(rng.getStartPoint()) &&
    dom.isBR(rng.sc.nextSibling)) {\n            $(rng.sc.nextSibling).remove();\n          }\n          const
    split = dom.splitTree(blockquote, rng.getStartPoint(), { isDiscardEmptySplits:
    true });\n          if (split) {\n            split.parentNode.insertBefore(nextPara,
    split);\n          } else {\n            dom.insertAfter(nextPara, blockquote);
    // There''s no split if we were at the end of the blockquote\n          }\n        }
    else {\n          nextPara = dom.splitTree(splitRoot, rng.getStartPoint());\n\n          //
    not a blockquote, just insert the paragraph\n          let emptyAnchors = dom.listDescendant(splitRoot,
    dom.isEmptyAnchor);\n          emptyAnchors = emptyAnchors.concat(dom.listDescendant(nextPara,
    dom.isEmptyAnchor));\n\n          $.each(emptyAnchors, (idx, anchor) => {\n            dom.remove(anchor);\n          });\n\n          //
    replace empty heading, pre or custom-made styleTag with P tag\n          if ((dom.isHeading(nextPara)
    || dom.isPre(nextPara) || dom.isCustomStyleTag(nextPara)) && dom.isEmpty(nextPara))
    {\n            nextPara = dom.replace(nextPara, ''p'');\n          }\n        }\n      }\n    //
    no paragraph: insert empty paragraph\n    } else {\n      const next = rng.sc.childNodes[rng.so];\n      nextPara
    = $(dom.emptyPara)[0];\n      if (next) {\n        rng.sc.insertBefore(nextPara,
    next);\n      } else {\n        rng.sc.appendChild(nextPara);\n      }\n    }\n\n    range.create(nextPara,
    0).normalize().select().scrollIntoView(editable);\n  }\n}\n","import $ from ''jquery'';\nimport
    dom from ''../core/dom'';\nimport range from ''../core/range'';\nimport lists
    from ''../core/lists'';\n\n/**\n * @class Create a virtual table to create what
    actions to do in change.\n * @param {object} startPoint Cell selected to apply
    change.\n * @param {enum} where  Where change will be applied Row or Col. Use
    enum: TableResultAction.where\n * @param {enum} action Action to be applied. Use
    enum: TableResultAction.requestAction\n * @param {object} domTable Dom element
    of table to make changes.\n */\nconst TableResultAction = function(startPoint,
    where, action, domTable) {\n  const _startPoint = { ''colPos'': 0, ''rowPos'':
    0 };\n  const _virtualTable = [];\n  const _actionCellList = [];\n\n  /// ///////////////////////////////////////////\n  //
    Private functions\n  /// ///////////////////////////////////////////\n\n  /**\n   *
    Set the startPoint of action.\n   */\n  function setStartPoint() {\n    if (!startPoint
    || !startPoint.tagName || (startPoint.tagName.toLowerCase() !== ''td'' && startPoint.tagName.toLowerCase()
    !== ''th'')) {\n      // Impossible to identify start Cell point\n      return;\n    }\n    _startPoint.colPos
    = startPoint.cellIndex;\n    if (!startPoint.parentElement || !startPoint.parentElement.tagName
    || startPoint.parentElement.tagName.toLowerCase() !== ''tr'') {\n      // Impossible
    to identify start Row point\n      return;\n    }\n    _startPoint.rowPos = startPoint.parentElement.rowIndex;\n  }\n\n  /**\n   *
    Define virtual table position info object.\n   *\n   * @param {int} rowIndex Index
    position in line of virtual table.\n   * @param {int} cellIndex Index position
    in column of virtual table.\n   * @param {object} baseRow Row affected by this
    position.\n   * @param {object} baseCell Cell affected by this position.\n   *
    @param {bool} isSpan Inform if it is an span cell/row.\n   */\n  function setVirtualTablePosition(rowIndex,
    cellIndex, baseRow, baseCell, isRowSpan, isColSpan, isVirtualCell) {\n    const
    objPosition = {\n      ''baseRow'': baseRow,\n      ''baseCell'': baseCell,\n      ''isRowSpan'':
    isRowSpan,\n      ''isColSpan'': isColSpan,\n      ''isVirtual'': isVirtualCell,\n    };\n    if
    (!_virtualTable[rowIndex]) {\n      _virtualTable[rowIndex] = [];\n    }\n    _virtualTable[rowIndex][cellIndex]
    = objPosition;\n  }\n\n  /**\n   * Create action cell object.\n   *\n   * @param
    {object} virtualTableCellObj Object of specific position on virtual table.\n   *
    @param {enum} resultAction Action to be applied in that item.\n   */\n  function
    getActionCell(virtualTableCellObj, resultAction, virtualRowPosition, virtualColPosition)
    {\n    return {\n      ''baseCell'': virtualTableCellObj.baseCell,\n      ''action'':
    resultAction,\n      ''virtualTable'': {\n        ''rowIndex'': virtualRowPosition,\n        ''cellIndex'':
    virtualColPosition,\n      },\n    };\n  }\n\n  /**\n   * Recover free index of
    row to append Cell.\n   *\n   * @param {int} rowIndex Index of row to find free
    space.\n   * @param {int} cellIndex Index of cell to find free space in table.\n   */\n  function
    recoverCellIndex(rowIndex, cellIndex) {\n    if (!_virtualTable[rowIndex]) {\n      return
    cellIndex;\n    }\n    if (!_virtualTable[rowIndex][cellIndex]) {\n      return
    cellIndex;\n    }\n\n    let newCellIndex = cellIndex;\n    while (_virtualTable[rowIndex][newCellIndex])
    {\n      newCellIndex++;\n      if (!_virtualTable[rowIndex][newCellIndex]) {\n        return
    newCellIndex;\n      }\n    }\n  }\n\n  /**\n   * Recover info about row and cell
    and add information to virtual table.\n   *\n   * @param {object} row Row to recover
    information.\n   * @param {object} cell Cell to recover information.\n   */\n  function
    addCellInfoToVirtual(row, cell) {\n    const cellIndex = recoverCellIndex(row.rowIndex,
    cell.cellIndex);\n    const cellHasColspan = (cell.colSpan > 1);\n    const cellHasRowspan
    = (cell.rowSpan > 1);\n    const isThisSelectedCell = (row.rowIndex === _startPoint.rowPos
    && cell.cellIndex === _startPoint.colPos);\n    setVirtualTablePosition(row.rowIndex,
    cellIndex, row, cell, cellHasRowspan, cellHasColspan, false);\n\n    // Add span
    rows to virtual Table.\n    const rowspanNumber = cell.attributes.rowSpan ? parseInt(cell.attributes.rowSpan.value,
    10) : 0;\n    if (rowspanNumber > 1) {\n      for (let rp = 1; rp < rowspanNumber;
    rp++) {\n        const rowspanIndex = row.rowIndex + rp;\n        adjustStartPoint(rowspanIndex,
    cellIndex, cell, isThisSelectedCell);\n        setVirtualTablePosition(rowspanIndex,
    cellIndex, row, cell, true, cellHasColspan, true);\n      }\n    }\n\n    // Add
    span cols to virtual table.\n    const colspanNumber = cell.attributes.colSpan
    ? parseInt(cell.attributes.colSpan.value, 10) : 0;\n    if (colspanNumber > 1)
    {\n      for (let cp = 1; cp < colspanNumber; cp++) {\n        const cellspanIndex
    = recoverCellIndex(row.rowIndex, (cellIndex + cp));\n        adjustStartPoint(row.rowIndex,
    cellspanIndex, cell, isThisSelectedCell);\n        setVirtualTablePosition(row.rowIndex,
    cellspanIndex, row, cell, cellHasRowspan, true, true);\n      }\n    }\n  }\n\n  /**\n   *
    Process validation and adjust of start point if needed\n   *\n   * @param {int}
    rowIndex\n   * @param {int} cellIndex\n   * @param {object} cell\n   * @param
    {bool} isSelectedCell\n   */\n  function adjustStartPoint(rowIndex, cellIndex,
    cell, isSelectedCell) {\n    if (rowIndex === _startPoint.rowPos && _startPoint.colPos
    >= cell.cellIndex && cell.cellIndex <= cellIndex && !isSelectedCell) {\n      _startPoint.colPos++;\n    }\n  }\n\n  /**\n   *
    Create virtual table of cells with all cells, including span cells.\n   */\n  function
    createVirtualTable() {\n    const rows = domTable.rows;\n    for (let rowIndex
    = 0; rowIndex < rows.length; rowIndex++) {\n      const cells = rows[rowIndex].cells;\n      for
    (let cellIndex = 0; cellIndex < cells.length; cellIndex++) {\n        addCellInfoToVirtual(rows[rowIndex],
    cells[cellIndex]);\n      }\n    }\n  }\n\n  /**\n   * Get action to be applied
    on the cell.\n   *\n   * @param {object} cell virtual table cell to apply action\n   */\n  function
    getDeleteResultActionToCell(cell) {\n    switch (where) {\n      case TableResultAction.where.Column:\n        if
    (cell.isColSpan) {\n          return TableResultAction.resultAction.SubtractSpanCount;\n        }\n        break;\n      case
    TableResultAction.where.Row:\n        if (!cell.isVirtual && cell.isRowSpan) {\n          return
    TableResultAction.resultAction.AddCell;\n        } else if (cell.isRowSpan) {\n          return
    TableResultAction.resultAction.SubtractSpanCount;\n        }\n        break;\n    }\n    return
    TableResultAction.resultAction.RemoveCell;\n  }\n\n  /**\n   * Get action to be
    applied on the cell.\n   *\n   * @param {object} cell virtual table cell to apply
    action\n   */\n  function getAddResultActionToCell(cell) {\n    switch (where)
    {\n      case TableResultAction.where.Column:\n        if (cell.isColSpan) {\n          return
    TableResultAction.resultAction.SumSpanCount;\n        } else if (cell.isRowSpan
    && cell.isVirtual) {\n          return TableResultAction.resultAction.Ignore;\n        }\n        break;\n      case
    TableResultAction.where.Row:\n        if (cell.isRowSpan) {\n          return
    TableResultAction.resultAction.SumSpanCount;\n        } else if (cell.isColSpan
    && cell.isVirtual) {\n          return TableResultAction.resultAction.Ignore;\n        }\n        break;\n    }\n    return
    TableResultAction.resultAction.AddCell;\n  }\n\n  function init() {\n    setStartPoint();\n    createVirtualTable();\n  }\n\n  ///
    ///////////////////////////////////////////\n  // Public functions\n  /// ///////////////////////////////////////////\n\n  /**\n   *
    Recover array os what to do in table.\n   */\n  this.getActionList = function()
    {\n    const fixedRow = (where === TableResultAction.where.Row) ? _startPoint.rowPos
    : -1;\n    const fixedCol = (where === TableResultAction.where.Column) ? _startPoint.colPos
    : -1;\n\n    let actualPosition = 0;\n    let canContinue = true;\n    while (canContinue)
    {\n      const rowPosition = (fixedRow >= 0) ? fixedRow : actualPosition;\n      const
    colPosition = (fixedCol >= 0) ? fixedCol : actualPosition;\n      const row =
    _virtualTable[rowPosition];\n      if (!row) {\n        canContinue = false;\n        return
    _actionCellList;\n      }\n      const cell = row[colPosition];\n      if (!cell)
    {\n        canContinue = false;\n        return _actionCellList;\n      }\n\n      //
    Define action to be applied in this cell\n      let resultAction = TableResultAction.resultAction.Ignore;\n      switch
    (action) {\n        case TableResultAction.requestAction.Add:\n          resultAction
    = getAddResultActionToCell(cell);\n          break;\n        case TableResultAction.requestAction.Delete:\n          resultAction
    = getDeleteResultActionToCell(cell);\n          break;\n      }\n      _actionCellList.push(getActionCell(cell,
    resultAction, rowPosition, colPosition));\n      actualPosition++;\n    }\n\n    return
    _actionCellList;\n  };\n\n  init();\n};\n/**\n*\n* Where action occours enum.\n*/\nTableResultAction.where
    = { ''Row'': 0, ''Column'': 1 };\n/**\n*\n* Requested action to apply enum.\n*/\nTableResultAction.requestAction
    = { ''Add'': 0, ''Delete'': 1 };\n/**\n*\n* Result action to be executed enum.\n*/\nTableResultAction.resultAction
    = { ''Ignore'': 0, ''SubtractSpanCount'': 1, ''RemoveCell'': 2, ''AddCell'': 3,
    ''SumSpanCount'': 4 };\n\n/**\n *\n * @class editing.Table\n *\n * Table\n *\n
    */\nexport default class Table {\n  /**\n   * handle tab key\n   *\n   * @param
    {WrappedRange} rng\n   * @param {Boolean} isShift\n   */\n  tab(rng, isShift)
    {\n    const cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n    const
    table = dom.ancestor(cell, dom.isTable);\n    const cells = dom.listDescendant(table,
    dom.isCell);\n\n    const nextCell = lists[isShift ? ''prev'' : ''next''](cells,
    cell);\n    if (nextCell) {\n      range.create(nextCell, 0).select();\n    }\n  }\n\n  /**\n   *
    Add a new row\n   *\n   * @param {WrappedRange} rng\n   * @param {String} position
    (top/bottom)\n   * @return {Node}\n   */\n  addRow(rng, position) {\n    const
    cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n\n    const currentTr
    = $(cell).closest(''tr'');\n    const trAttributes = this.recoverAttributes(currentTr);\n    const
    html = $(''<tr'' + trAttributes + ''></tr>'');\n\n    const vTable = new TableResultAction(cell,
    TableResultAction.where.Row,\n      TableResultAction.requestAction.Add, $(currentTr).closest(''table'')[0]);\n    const
    actions = vTable.getActionList();\n\n    for (let idCell = 0; idCell < actions.length;
    idCell++) {\n      const currentCell = actions[idCell];\n      const tdAttributes
    = this.recoverAttributes(currentCell.baseCell);\n      switch (currentCell.action)
    {\n        case TableResultAction.resultAction.AddCell:\n          html.append(''<td''
    + tdAttributes + ''>'' + dom.blank + ''</td>'');\n          break;\n        case
    TableResultAction.resultAction.SumSpanCount:\n          {\n            if (position
    === ''top'') {\n              const baseCellTr = currentCell.baseCell.parent;\n              const
    isTopFromRowSpan = (!baseCellTr ? 0 : currentCell.baseCell.closest(''tr'').rowIndex)
    <= currentTr[0].rowIndex;\n              if (isTopFromRowSpan) {\n                const
    newTd = $(''<div></div>'').append($(''<td'' + tdAttributes + ''>'' + dom.blank
    + ''</td>'').removeAttr(''rowspan'')).html();\n                html.append(newTd);\n                break;\n              }\n            }\n            let
    rowspanNumber = parseInt(currentCell.baseCell.rowSpan, 10);\n            rowspanNumber++;\n            currentCell.baseCell.setAttribute(''rowSpan'',
    rowspanNumber);\n          }\n          break;\n      }\n    }\n\n    if (position
    === ''top'') {\n      currentTr.before(html);\n    } else {\n      const cellHasRowspan
    = (cell.rowSpan > 1);\n      if (cellHasRowspan) {\n        const lastTrIndex
    = currentTr[0].rowIndex + (cell.rowSpan - 2);\n        $($(currentTr).parent().find(''tr'')[lastTrIndex]).after($(html));\n        return;\n      }\n      currentTr.after(html);\n    }\n  }\n\n  /**\n   *
    Add a new col\n   *\n   * @param {WrappedRange} rng\n   * @param {String} position
    (left/right)\n   * @return {Node}\n   */\n  addCol(rng, position) {\n    const
    cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n    const row = $(cell).closest(''tr'');\n    const
    rowsGroup = $(row).siblings();\n    rowsGroup.push(row);\n\n    const vTable =
    new TableResultAction(cell, TableResultAction.where.Column,\n      TableResultAction.requestAction.Add,
    $(row).closest(''table'')[0]);\n    const actions = vTable.getActionList();\n\n    for
    (let actionIndex = 0; actionIndex < actions.length; actionIndex++) {\n      const
    currentCell = actions[actionIndex];\n      const tdAttributes = this.recoverAttributes(currentCell.baseCell);\n      switch
    (currentCell.action) {\n        case TableResultAction.resultAction.AddCell:\n          if
    (position === ''right'') {\n            $(currentCell.baseCell).after(''<td''
    + tdAttributes + ''>'' + dom.blank + ''</td>'');\n          } else {\n            $(currentCell.baseCell).before(''<td''
    + tdAttributes + ''>'' + dom.blank + ''</td>'');\n          }\n          break;\n        case
    TableResultAction.resultAction.SumSpanCount:\n          if (position === ''right'')
    {\n            let colspanNumber = parseInt(currentCell.baseCell.colSpan, 10);\n            colspanNumber++;\n            currentCell.baseCell.setAttribute(''colSpan'',
    colspanNumber);\n          } else {\n            $(currentCell.baseCell).before(''<td''
    + tdAttributes + ''>'' + dom.blank + ''</td>'');\n          }\n          break;\n      }\n    }\n  }\n\n  /*\n  *
    Copy attributes from element.\n  *\n  * @param {object} Element to recover attributes.\n  *
    @return {string} Copied string elements.\n  */\n  recoverAttributes(el) {\n    let
    resultStr = '''';\n\n    if (!el) {\n      return resultStr;\n    }\n\n    const
    attrList = el.attributes || [];\n\n    for (let i = 0; i < attrList.length; i++)
    {\n      if (attrList[i].name.toLowerCase() === ''id'') {\n        continue;\n      }\n\n      if
    (attrList[i].specified) {\n        resultStr += '' '' + attrList[i].name + ''=\\''''
    + attrList[i].value + ''\\'''';\n      }\n    }\n\n    return resultStr;\n  }\n\n  /**\n   *
    Delete current row\n   *\n   * @param {WrappedRange} rng\n   * @return {Node}\n   */\n  deleteRow(rng)
    {\n    const cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n    const
    row = $(cell).closest(''tr'');\n    const cellPos = row.children(''td, th'').index($(cell));\n    const
    rowPos = row[0].rowIndex;\n\n    const vTable = new TableResultAction(cell, TableResultAction.where.Row,\n      TableResultAction.requestAction.Delete,
    $(row).closest(''table'')[0]);\n    const actions = vTable.getActionList();\n\n    for
    (let actionIndex = 0; actionIndex < actions.length; actionIndex++) {\n      if
    (!actions[actionIndex]) {\n        continue;\n      }\n\n      const baseCell
    = actions[actionIndex].baseCell;\n      const virtualPosition = actions[actionIndex].virtualTable;\n      const
    hasRowspan = (baseCell.rowSpan && baseCell.rowSpan > 1);\n      let rowspanNumber
    = (hasRowspan) ? parseInt(baseCell.rowSpan, 10) : 0;\n      switch (actions[actionIndex].action)
    {\n        case TableResultAction.resultAction.Ignore:\n          continue;\n        case
    TableResultAction.resultAction.AddCell:\n          {\n            const nextRow
    = row.next(''tr'')[0];\n            if (!nextRow) { continue; }\n            const
    cloneRow = row[0].cells[cellPos];\n            if (hasRowspan) {\n              if
    (rowspanNumber > 2) {\n                rowspanNumber--;\n                nextRow.insertBefore(cloneRow,
    nextRow.cells[cellPos]);\n                nextRow.cells[cellPos].setAttribute(''rowSpan'',
    rowspanNumber);\n                nextRow.cells[cellPos].innerHTML = '''';\n              }
    else if (rowspanNumber === 2) {\n                nextRow.insertBefore(cloneRow,
    nextRow.cells[cellPos]);\n                nextRow.cells[cellPos].removeAttribute(''rowSpan'');\n                nextRow.cells[cellPos].innerHTML
    = '''';\n              }\n            }\n          }\n          continue;\n        case
    TableResultAction.resultAction.SubtractSpanCount:\n          if (hasRowspan) {\n            if
    (rowspanNumber > 2) {\n              rowspanNumber--;\n              baseCell.setAttribute(''rowSpan'',
    rowspanNumber);\n              if (virtualPosition.rowIndex !== rowPos && baseCell.cellIndex
    === cellPos) { baseCell.innerHTML = ''''; }\n            } else if (rowspanNumber
    === 2) {\n              baseCell.removeAttribute(''rowSpan'');\n              if
    (virtualPosition.rowIndex !== rowPos && baseCell.cellIndex === cellPos) { baseCell.innerHTML
    = ''''; }\n            }\n          }\n          continue;\n        case TableResultAction.resultAction.RemoveCell:\n          //
    Do not need remove cell because row will be deleted.\n          continue;\n      }\n    }\n    row.remove();\n  }\n\n  /**\n   *
    Delete current col\n   *\n   * @param {WrappedRange} rng\n   * @return {Node}\n   */\n  deleteCol(rng)
    {\n    const cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n    const
    row = $(cell).closest(''tr'');\n    const cellPos = row.children(''td, th'').index($(cell));\n\n    const
    vTable = new TableResultAction(cell, TableResultAction.where.Column,\n      TableResultAction.requestAction.Delete,
    $(row).closest(''table'')[0]);\n    const actions = vTable.getActionList();\n\n    for
    (let actionIndex = 0; actionIndex < actions.length; actionIndex++) {\n      if
    (!actions[actionIndex]) {\n        continue;\n      }\n      switch (actions[actionIndex].action)
    {\n        case TableResultAction.resultAction.Ignore:\n          continue;\n        case
    TableResultAction.resultAction.SubtractSpanCount:\n          {\n            const
    baseCell = actions[actionIndex].baseCell;\n            const hasColspan = (baseCell.colSpan
    && baseCell.colSpan > 1);\n            if (hasColspan) {\n              let colspanNumber
    = (baseCell.colSpan) ? parseInt(baseCell.colSpan, 10) : 0;\n              if (colspanNumber
    > 2) {\n                colspanNumber--;\n                baseCell.setAttribute(''colSpan'',
    colspanNumber);\n                if (baseCell.cellIndex === cellPos) { baseCell.innerHTML
    = ''''; }\n              } else if (colspanNumber === 2) {\n                baseCell.removeAttribute(''colSpan'');\n                if
    (baseCell.cellIndex === cellPos) { baseCell.innerHTML = ''''; }\n              }\n            }\n          }\n          continue;\n        case
    TableResultAction.resultAction.RemoveCell:\n          dom.remove(actions[actionIndex].baseCell,
    true);\n          continue;\n      }\n    }\n  }\n\n  /**\n   * create empty table
    element\n   *\n   * @param {Number} rowCount\n   * @param {Number} colCount\n   *
    @return {Node}\n   */\n  createTable(colCount, rowCount, options) {\n    const
    tds = [];\n    let tdHTML;\n    for (let idxCol = 0; idxCol < colCount; idxCol++)
    {\n      tds.push(''<td>'' + dom.blank + ''</td>'');\n    }\n    tdHTML = tds.join('''');\n\n    const
    trs = [];\n    let trHTML;\n    for (let idxRow = 0; idxRow < rowCount; idxRow++)
    {\n      trs.push(''<tr>'' + tdHTML + ''</tr>'');\n    }\n    trHTML = trs.join('''');\n    const
    $table = $(''<table>'' + trHTML + ''</table>'');\n    if (options && options.tableClassName)
    {\n      $table.addClass(options.tableClassName);\n    }\n\n    return $table[0];\n  }\n\n  /**\n   *
    Delete current table\n   *\n   * @param {WrappedRange} rng\n   * @return {Node}\n   */\n  deleteTable(rng)
    {\n    const cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n    $(cell).closest(''table'').remove();\n  }\n}\n","import
    $ from ''jquery'';\nimport env from ''../core/env'';\nimport key from ''../core/key'';\nimport
    func from ''../core/func'';\nimport lists from ''../core/lists'';\nimport dom
    from ''../core/dom'';\nimport range from ''../core/range'';\nimport { readFileAsDataURL,
    createImage } from ''../core/async'';\nimport History from ''../editing/History'';\nimport
    Style from ''../editing/Style'';\nimport Typing from ''../editing/Typing'';\nimport
    Table from ''../editing/Table'';\nimport Bullet from ''../editing/Bullet'';\n\nconst
    KEY_BOGUS = ''bogus'';\n\n/**\n * @class Editor\n */\nexport default class Editor
    {\n  constructor(context) {\n    this.context = context;\n\n    this.$note = context.layoutInfo.note;\n    this.$editor
    = context.layoutInfo.editor;\n    this.$editable = context.layoutInfo.editable;\n    this.options
    = context.options;\n    this.lang = this.options.langInfo;\n\n    this.editable
    = this.$editable[0];\n    this.lastRange = null;\n    this.snapshot = null;\n\n    this.style
    = new Style();\n    this.table = new Table();\n    this.typing = new Typing(context);\n    this.bullet
    = new Bullet();\n    this.history = new History(context);\n\n    this.context.memo(''help.escape'',
    this.lang.help.escape);\n    this.context.memo(''help.undo'', this.lang.help.undo);\n    this.context.memo(''help.redo'',
    this.lang.help.redo);\n    this.context.memo(''help.tab'', this.lang.help.tab);\n    this.context.memo(''help.untab'',
    this.lang.help.untab);\n    this.context.memo(''help.insertParagraph'', this.lang.help.insertParagraph);\n    this.context.memo(''help.insertOrderedList'',
    this.lang.help.insertOrderedList);\n    this.context.memo(''help.insertUnorderedList'',
    this.lang.help.insertUnorderedList);\n    this.context.memo(''help.indent'', this.lang.help.indent);\n    this.context.memo(''help.outdent'',
    this.lang.help.outdent);\n    this.context.memo(''help.formatPara'', this.lang.help.formatPara);\n    this.context.memo(''help.insertHorizontalRule'',
    this.lang.help.insertHorizontalRule);\n    this.context.memo(''help.fontName'',
    this.lang.help.fontName);\n\n    // native commands(with execCommand), generate
    function for execCommand\n    const commands = [\n      ''bold'', ''italic'',
    ''underline'', ''strikethrough'', ''superscript'', ''subscript'',\n      ''justifyLeft'',
    ''justifyCenter'', ''justifyRight'', ''justifyFull'',\n      ''formatBlock'',
    ''removeFormat'', ''backColor'',\n    ];\n\n    for (let idx = 0, len = commands.length;
    idx < len; idx++) {\n      this[commands[idx]] = ((sCmd) => {\n        return
    (value) => {\n          this.beforeCommand();\n          document.execCommand(sCmd,
    false, value);\n          this.afterCommand(true);\n        };\n      })(commands[idx]);\n      this.context.memo(''help.''
    + commands[idx], this.lang.help[commands[idx]]);\n    }\n\n    this.fontName =
    this.wrapCommand((value) => {\n      return this.fontStyling(''font-family'',
    env.validFontName(value));\n    });\n\n    this.fontSize = this.wrapCommand((value)
    => {\n      const unit = this.currentStyle()[''font-size-unit''];\n      return
    this.fontStyling(''font-size'', value + unit);\n    });\n\n    this.fontSizeUnit
    = this.wrapCommand((value) => {\n      const size = this.currentStyle()[''font-size''];\n      return
    this.fontStyling(''font-size'', size + value);\n    });\n\n    for (let idx =
    1; idx <= 6; idx++) {\n      this[''formatH'' + idx] = ((idx) => {\n        return
    () => {\n          this.formatBlock(''H'' + idx);\n        };\n      })(idx);\n      this.context.memo(''help.formatH''
    + idx, this.lang.help[''formatH'' + idx]);\n    }\n\n    this.insertParagraph
    = this.wrapCommand(() => {\n      this.typing.insertParagraph(this.editable);\n    });\n\n    this.insertOrderedList
    = this.wrapCommand(() => {\n      this.bullet.insertOrderedList(this.editable);\n    });\n\n    this.insertUnorderedList
    = this.wrapCommand(() => {\n      this.bullet.insertUnorderedList(this.editable);\n    });\n\n    this.indent
    = this.wrapCommand(() => {\n      this.bullet.indent(this.editable);\n    });\n\n    this.outdent
    = this.wrapCommand(() => {\n      this.bullet.outdent(this.editable);\n    });\n\n    /**\n     *
    insertNode\n     * insert node\n     * @param {Node} node\n     */\n    this.insertNode
    = this.wrapCommand((node) => {\n      if (this.isLimited($(node).text().length))
    {\n        return;\n      }\n      const rng = this.getLastRange();\n      rng.insertNode(node);\n      this.setLastRange(range.createFromNodeAfter(node).select());\n    });\n\n    /**\n     *
    insert text\n     * @param {String} text\n     */\n    this.insertText = this.wrapCommand((text)
    => {\n      if (this.isLimited(text.length)) {\n        return;\n      }\n      const
    rng = this.getLastRange();\n      const textNode = rng.insertNode(dom.createText(text));\n      this.setLastRange(range.create(textNode,
    dom.nodeLength(textNode)).select());\n    });\n\n    /**\n     * paste HTML\n     *
    @param {String} markup\n     */\n    this.pasteHTML = this.wrapCommand((markup)
    => {\n      if (this.isLimited(markup.length)) {\n        return;\n      }\n      markup
    = this.context.invoke(''codeview.purify'', markup);\n      const contents = this.getLastRange().pasteHTML(markup);\n      this.setLastRange(range.createFromNodeAfter(lists.last(contents)).select());\n    });\n\n    /**\n     *
    formatBlock\n     *\n     * @param {String} tagName\n     */\n    this.formatBlock
    = this.wrapCommand((tagName, $target) => {\n      const onApplyCustomStyle = this.options.callbacks.onApplyCustomStyle;\n      if
    (onApplyCustomStyle) {\n        onApplyCustomStyle.call(this, $target, this.context,
    this.onFormatBlock);\n      } else {\n        this.onFormatBlock(tagName, $target);\n      }\n    });\n\n    /**\n     *
    insert horizontal rule\n     */\n    this.insertHorizontalRule = this.wrapCommand(()
    => {\n      const hrNode = this.getLastRange().insertNode(dom.create(''HR''));\n      if
    (hrNode.nextSibling) {\n        this.setLastRange(range.create(hrNode.nextSibling,
    0).normalize().select());\n      }\n    });\n\n    /**\n     * lineHeight\n     *
    @param {String} value\n     */\n    this.lineHeight = this.wrapCommand((value)
    => {\n      this.style.stylePara(this.getLastRange(), {\n        lineHeight: value,\n      });\n    });\n\n    /**\n     *
    create link (command)\n     *\n     * @param {Object} linkInfo\n     */\n    this.createLink
    = this.wrapCommand((linkInfo) => {\n      let linkUrl = linkInfo.url;\n      const
    linkText = linkInfo.text;\n      const isNewWindow = linkInfo.isNewWindow;\n      const
    checkProtocol = linkInfo.checkProtocol;\n      let rng = linkInfo.range || this.getLastRange();\n      const
    additionalTextLength = linkText.length - rng.toString().length;\n      if (additionalTextLength
    > 0 && this.isLimited(additionalTextLength)) {\n        return;\n      }\n      const
    isTextChanged = rng.toString() !== linkText;\n\n      // handle spaced urls from
    input\n      if (typeof linkUrl === ''string'') {\n        linkUrl = linkUrl.trim();\n      }\n\n      if
    (this.options.onCreateLink) {\n        linkUrl = this.options.onCreateLink(linkUrl);\n      }
    else if (checkProtocol) {\n        // if url doesn''t have any protocol and not
    even a relative or a label, use http:// as default\n        linkUrl = /^([A-Za-z][A-Za-z0-9+-.]*\\:|#|\\/)/.test(linkUrl)\n          ?
    linkUrl : this.options.defaultProtocol + linkUrl;\n      }\n\n      let anchors
    = [];\n      if (isTextChanged) {\n        rng = rng.deleteContents();\n        const
    anchor = rng.insertNode($(''<A>'' + linkText + ''</A>'')[0]);\n        anchors.push(anchor);\n      }
    else {\n        anchors = this.style.styleNodes(rng, {\n          nodeName: ''A'',\n          expandClosestSibling:
    true,\n          onlyPartialContains: true,\n        });\n      }\n\n      $.each(anchors,
    (idx, anchor) => {\n        $(anchor).attr(''href'', linkUrl);\n        if (isNewWindow)
    {\n          $(anchor).attr(''target'', ''_blank'');\n        } else {\n          $(anchor).removeAttr(''target'');\n        }\n      });\n\n      this.setLastRange(\n        this.createRangeFromList(anchors).select()\n      );\n    });\n\n    /**\n     *
    setting color\n     *\n     * @param {Object} sObjColor  color code\n     * @param
    {String} sObjColor.foreColor foreground color\n     * @param {String} sObjColor.backColor
    background color\n     */\n    this.color = this.wrapCommand((colorInfo) => {\n      const
    foreColor = colorInfo.foreColor;\n      const backColor = colorInfo.backColor;\n\n      if
    (foreColor) { document.execCommand(''foreColor'', false, foreColor); }\n      if
    (backColor) { document.execCommand(''backColor'', false, backColor); }\n    });\n\n    /**\n     *
    Set foreground color\n     *\n     * @param {String} colorCode foreground color
    code\n     */\n    this.foreColor = this.wrapCommand((colorInfo) => {\n      document.execCommand(''foreColor'',
    false, colorInfo);\n    });\n\n    /**\n     * insert Table\n     *\n     * @param
    {String} dimension of table (ex : \"5x5\")\n     */\n    this.insertTable = this.wrapCommand((dim)
    => {\n      const dimension = dim.split(''x'');\n\n      const rng = this.getLastRange().deleteContents();\n      rng.insertNode(this.table.createTable(dimension[0],
    dimension[1], this.options));\n    });\n\n    /**\n     * remove media object
    and Figure Elements if media object is img with Figure.\n     */\n    this.removeMedia
    = this.wrapCommand(() => {\n      let $target = $(this.restoreTarget()).parent();\n      if
    ($target.closest(''figure'').length) {\n        $target.closest(''figure'').remove();\n      }
    else {\n        $target = $(this.restoreTarget()).detach();\n      }\n      this.context.triggerEvent(''media.delete'',
    $target, this.$editable);\n    });\n\n    /**\n     * float me\n     *\n     *
    @param {String} value\n     */\n    this.floatMe = this.wrapCommand((value) =>
    {\n      const $target = $(this.restoreTarget());\n      $target.toggleClass(''note-float-left'',
    value === ''left'');\n      $target.toggleClass(''note-float-right'', value ===
    ''right'');\n      $target.css(''float'', (value === ''none'' ? '''' : value));\n    });\n\n    /**\n     *
    resize overlay element\n     * @param {String} value\n     */\n    this.resize
    = this.wrapCommand((value) => {\n      const $target = $(this.restoreTarget());\n      value
    = parseFloat(value);\n      if (value === 0) {\n        $target.css(''width'',
    '''');\n      } else {\n        $target.css({\n          width: value * 100 +
    ''%'',\n          height: '''',\n        });\n      }\n    });\n  }\n\n  initialize()
    {\n    // bind custom events\n    this.$editable.on(''keydown'', (event) => {\n      if
    (event.keyCode === key.code.ENTER) {\n        this.context.triggerEvent(''enter'',
    event);\n      }\n      this.context.triggerEvent(''keydown'', event);\n\n      //
    keep a snapshot to limit text on input event\n      this.snapshot = this.history.makeSnapshot();\n      this.hasKeyShortCut
    = false;\n      if (!event.isDefaultPrevented()) {\n        if (this.options.shortcuts)
    {\n          this.hasKeyShortCut = this.handleKeyMap(event);\n        } else {\n          this.preventDefaultEditableShortCuts(event);\n        }\n      }\n      if
    (this.isLimited(1, event)) {\n        const lastRange = this.getLastRange();\n        if
    (lastRange.eo - lastRange.so === 0) {\n          return false;\n        }\n      }\n      this.setLastRange();\n\n      //
    record undo in the key event except keyMap.\n      if (this.options.recordEveryKeystroke)
    {\n        if (this.hasKeyShortCut === false) {\n          this.history.recordUndo();\n        }\n      }\n    }).on(''keyup'',
    (event) => {\n      this.setLastRange();\n      this.context.triggerEvent(''keyup'',
    event);\n    }).on(''focus'', (event) => {\n      this.setLastRange();\n      this.context.triggerEvent(''focus'',
    event);\n    }).on(''blur'', (event) => {\n      this.context.triggerEvent(''blur'',
    event);\n    }).on(''mousedown'', (event) => {\n      this.context.triggerEvent(''mousedown'',
    event);\n    }).on(''mouseup'', (event) => {\n      this.setLastRange();\n      this.history.recordUndo();\n      this.context.triggerEvent(''mouseup'',
    event);\n    }).on(''scroll'', (event) => {\n      this.context.triggerEvent(''scroll'',
    event);\n    }).on(''paste'', (event) => {\n      this.setLastRange();\n      this.context.triggerEvent(''paste'',
    event);\n    }).on(''input'', () => {\n      // To limit composition characters
    (e.g. Korean)\n      if (this.isLimited(0) && this.snapshot) {\n        this.history.applySnapshot(this.snapshot);\n      }\n    });\n\n    this.$editable.attr(''spellcheck'',
    this.options.spellCheck);\n\n    this.$editable.attr(''autocorrect'', this.options.spellCheck);\n\n    if
    (this.options.disableGrammar) {\n      this.$editable.attr(''data-gramm'', false);\n    }\n\n    //
    init content before set event\n    this.$editable.html(dom.html(this.$note) ||
    dom.emptyPara);\n\n    this.$editable.on(env.inputEventName, func.debounce(()
    => {\n      this.context.triggerEvent(''change'', this.$editable.html(), this.$editable);\n    },
    10));\n\n    this.$editable.on(''focusin'', (event) => {\n      this.context.triggerEvent(''focusin'',
    event);\n    }).on(''focusout'', (event) => {\n      this.context.triggerEvent(''focusout'',
    event);\n    });\n\n    if (this.options.airMode) {\n      if (this.options.overrideContextMenu)
    {\n        this.$editor.on(''contextmenu'', (event) => {\n          this.context.triggerEvent(''contextmenu'',
    event);\n          return false;\n        });\n      }\n    } else {\n      if
    (this.options.width) {\n        this.$editor.outerWidth(this.options.width);\n      }\n      if
    (this.options.height) {\n        this.$editable.outerHeight(this.options.height);\n      }\n      if
    (this.options.maxHeight) {\n        this.$editable.css(''max-height'', this.options.maxHeight);\n      }\n      if
    (this.options.minHeight) {\n        this.$editable.css(''min-height'', this.options.minHeight);\n      }\n    }\n\n    this.history.recordUndo();\n    this.setLastRange();\n  }\n\n  destroy()
    {\n    this.$editable.off();\n  }\n\n  handleKeyMap(event) {\n    const keyMap
    = this.options.keyMap[env.isMac ? ''mac'' : ''pc''];\n    const keys = [];\n\n    if
    (event.metaKey) { keys.push(''CMD''); }\n    if (event.ctrlKey && !event.altKey)
    { keys.push(''CTRL''); }\n    if (event.shiftKey) { keys.push(''SHIFT''); }\n\n    const
    keyName = key.nameFromCode[event.keyCode];\n    if (keyName) {\n      keys.push(keyName);\n    }\n\n    const
    eventName = keyMap[keys.join(''+'')];\n\n    if (keyName === ''TAB'' && !this.options.tabDisable)
    {\n      this.afterCommand();\n    } else if (eventName) {\n      if (this.context.invoke(eventName)
    !== false) {\n        event.preventDefault();\n        // if keyMap action was
    invoked\n        return true;\n      }\n    } else if (key.isEdit(event.keyCode))
    {\n      this.afterCommand();\n    }\n    return false;\n  }\n\n  preventDefaultEditableShortCuts(event)
    {\n    // B(Bold, 66) / I(Italic, 73) / U(Underline, 85)\n    if ((event.ctrlKey
    || event.metaKey) &&\n      lists.contains([66, 73, 85], event.keyCode)) {\n      event.preventDefault();\n    }\n  }\n\n  isLimited(pad,
    event) {\n    pad = pad || 0;\n\n    if (typeof event !== ''undefined'') {\n      if
    (key.isMove(event.keyCode) ||\n          key.isNavigation(event.keyCode) ||\n          (event.ctrlKey
    || event.metaKey) ||\n          lists.contains([key.code.BACKSPACE, key.code.DELETE],
    event.keyCode)) {\n        return false;\n      }\n    }\n\n    if (this.options.maxTextLength
    > 0) {\n      if ((this.$editable.text().length + pad) > this.options.maxTextLength)
    {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   *
    create range\n   * @return {WrappedRange}\n   */\n  createRange() {\n    this.focus();\n    this.setLastRange();\n    return
    this.getLastRange();\n  }\n\n  /**\n   * create a new range from the list of elements\n   *\n   *
    @param {list} dom element list\n   * @return {WrappedRange}\n   */\n  createRangeFromList(lst)
    {\n    const startRange = range.createFromNodeBefore(lists.head(lst));\n    const
    startPoint = startRange.getStartPoint();\n    const endRange = range.createFromNodeAfter(lists.last(lst));\n    const
    endPoint = endRange.getEndPoint();\n\n    return range.create(\n      startPoint.node,\n      startPoint.offset,\n      endPoint.node,\n      endPoint.offset\n    );\n  }\n\n  /**\n   *
    set the last range\n   *\n   * if given rng is exist, set rng as the last range\n   *
    or create a new range at the end of the document\n   *\n   * @param {WrappedRange}
    rng\n   */\n  setLastRange(rng) {\n    if (rng) {\n      this.lastRange = rng;\n    }
    else {\n      this.lastRange = range.create(this.editable);\n\n      if ($(this.lastRange.sc).closest(''.note-editable'').length
    === 0) {\n        this.lastRange = range.createFromBodyElement(this.editable);\n      }\n    }\n  }\n\n  /**\n   *
    get the last range\n   *\n   * if there is a saved last range, return it\n   *
    or create a new range and return it\n   *\n   * @return {WrappedRange}\n   */\n  getLastRange()
    {\n    if (!this.lastRange) {\n      this.setLastRange();\n    }\n    return this.lastRange;\n  }\n\n  /**\n   *
    saveRange\n   *\n   * save current range\n   *\n   * @param {Boolean} [thenCollapse=false]\n   */\n  saveRange(thenCollapse)
    {\n    if (thenCollapse) {\n      this.getLastRange().collapse().select();\n    }\n  }\n\n  /**\n   *
    restoreRange\n   *\n   * restore lately range\n   */\n  restoreRange() {\n    if
    (this.lastRange) {\n      this.lastRange.select();\n      this.focus();\n    }\n  }\n\n  saveTarget(node)
    {\n    this.$editable.data(''target'', node);\n  }\n\n  clearTarget() {\n    this.$editable.removeData(''target'');\n  }\n\n  restoreTarget()
    {\n    return this.$editable.data(''target'');\n  }\n\n  /**\n   * currentStyle\n   *\n   *
    current style\n   * @return {Object|Boolean} unfocus\n   */\n  currentStyle()
    {\n    let rng = range.create();\n    if (rng) {\n      rng = rng.normalize();\n    }\n    return
    rng ? this.style.current(rng) : this.style.fromNode(this.$editable);\n  }\n\n  /**\n   *
    style from node\n   *\n   * @param {jQuery} $node\n   * @return {Object}\n   */\n  styleFromNode($node)
    {\n    return this.style.fromNode($node);\n  }\n\n  /**\n   * undo\n   */\n  undo()
    {\n    this.context.triggerEvent(''before.command'', this.$editable.html());\n    this.history.undo();\n    this.context.triggerEvent(''change'',
    this.$editable.html(), this.$editable);\n  }\n\n  /*\n  * commit\n  */\n  commit()
    {\n    this.context.triggerEvent(''before.command'', this.$editable.html());\n    this.history.commit();\n    this.context.triggerEvent(''change'',
    this.$editable.html(), this.$editable);\n  }\n\n  /**\n   * redo\n   */\n  redo()
    {\n    this.context.triggerEvent(''before.command'', this.$editable.html());\n    this.history.redo();\n    this.context.triggerEvent(''change'',
    this.$editable.html(), this.$editable);\n  }\n\n  /**\n   * before command\n   */\n  beforeCommand()
    {\n    this.context.triggerEvent(''before.command'', this.$editable.html());\n\n    //
    Set styleWithCSS before run a command\n    document.execCommand(''styleWithCSS'',
    false, this.options.styleWithCSS);\n\n    // keep focus on editable before command
    execution\n    this.focus();\n  }\n\n  /**\n   * after command\n   * @param {Boolean}
    isPreventTrigger\n   */\n  afterCommand(isPreventTrigger) {\n    this.normalizeContent();\n    this.history.recordUndo();\n    if
    (!isPreventTrigger) {\n      this.context.triggerEvent(''change'', this.$editable.html(),
    this.$editable);\n    }\n  }\n\n  /**\n   * handle tab key\n   */\n  tab() {\n    const
    rng = this.getLastRange();\n    if (rng.isCollapsed() && rng.isOnCell()) {\n      this.table.tab(rng);\n    }
    else {\n      if (this.options.tabSize === 0) {\n        return false;\n      }\n\n      if
    (!this.isLimited(this.options.tabSize)) {\n        this.beforeCommand();\n        this.typing.insertTab(rng,
    this.options.tabSize);\n        this.afterCommand();\n      }\n    }\n  }\n\n  /**\n   *
    handle shift+tab key\n   */\n  untab() {\n    const rng = this.getLastRange();\n    if
    (rng.isCollapsed() && rng.isOnCell()) {\n      this.table.tab(rng, true);\n    }
    else {\n      if (this.options.tabSize === 0) {\n        return false;\n      }\n    }\n  }\n\n  /**\n   *
    run given function between beforeCommand and afterCommand\n   */\n  wrapCommand(fn)
    {\n    return function() {\n      this.beforeCommand();\n      fn.apply(this,
    arguments);\n      this.afterCommand();\n    };\n  }\n\n  /**\n   * insert image\n   *\n   *
    @param {String} src\n   * @param {String|Function} param\n   * @return {Promise}\n   */\n  insertImage(src,
    param) {\n    return createImage(src, param).then(($image) => {\n      this.beforeCommand();\n\n      if
    (typeof param === ''function'') {\n        param($image);\n      } else {\n        if
    (typeof param === ''string'') {\n          $image.attr(''data-filename'', param);\n        }\n        $image.css(''width'',
    Math.min(this.$editable.width(), $image.width()));\n      }\n\n      $image.show();\n      this.getLastRange().insertNode($image[0]);\n      this.setLastRange(range.createFromNodeAfter($image[0]).select());\n      this.afterCommand();\n    }).fail((e)
    => {\n      this.context.triggerEvent(''image.upload.error'', e);\n    });\n  }\n\n  /**\n   *
    insertImages\n   * @param {File[]} files\n   */\n  insertImagesAsDataURL(files)
    {\n    $.each(files, (idx, file) => {\n      const filename = file.name;\n      if
    (this.options.maximumImageFileSize && this.options.maximumImageFileSize < file.size)
    {\n        this.context.triggerEvent(''image.upload.error'', this.lang.image.maximumFileSizeError);\n      }
    else {\n        readFileAsDataURL(file).then((dataURL) => {\n          return
    this.insertImage(dataURL, filename);\n        }).fail(() => {\n          this.context.triggerEvent(''image.upload.error'');\n        });\n      }\n    });\n  }\n\n  /**\n   *
    insertImagesOrCallback\n   * @param {File[]} files\n   */\n  insertImagesOrCallback(files)
    {\n    const callbacks = this.options.callbacks;\n    // If onImageUpload set,\n    if
    (callbacks.onImageUpload) {\n      this.context.triggerEvent(''image.upload'',
    files);\n      // else insert Image as dataURL\n    } else {\n      this.insertImagesAsDataURL(files);\n    }\n  }\n\n  /**\n   *
    return selected plain text\n   * @return {String} text\n   */\n  getSelectedText()
    {\n    let rng = this.getLastRange();\n\n    // if range on anchor, expand range
    with anchor\n    if (rng.isOnAnchor()) {\n      rng = range.createFromNode(dom.ancestor(rng.sc,
    dom.isAnchor));\n    }\n\n    return rng.toString();\n  }\n\n  onFormatBlock(tagName,
    $target) {\n    // [workaround] for MSIE, IE need `<`\n    document.execCommand(''FormatBlock'',
    false, env.isMSIE ? ''<'' + tagName + ''>'' : tagName);\n\n    // support custom
    class\n    if ($target && $target.length) {\n      // find the exact element has
    given tagName\n      if ($target[0].tagName.toUpperCase() !== tagName.toUpperCase())
    {\n        $target = $target.find(tagName);\n      }\n\n      if ($target && $target.length)
    {\n        const className = $target[0].className || '''';\n        if (className)
    {\n          const currentRange = this.createRange();\n\n          const $parent
    = $([currentRange.sc, currentRange.ec]).closest(tagName);\n          $parent.addClass(className);\n        }\n      }\n    }\n  }\n\n  formatPara()
    {\n    this.formatBlock(''P'');\n  }\n\n  fontStyling(target, value) {\n    const
    rng = this.getLastRange();\n\n    if (rng !== '''') {\n      const spans = this.style.styleNodes(rng);\n      this.$editor.find(''.note-status-output'').html('''');\n      $(spans).css(target,
    value);\n\n      // [workaround] added styled bogus span for style\n      //  -
    also bogus character needed for cursor position\n      if (rng.isCollapsed())
    {\n        const firstSpan = lists.head(spans);\n        if (firstSpan && !dom.nodeLength(firstSpan))
    {\n          firstSpan.innerHTML = dom.ZERO_WIDTH_NBSP_CHAR;\n          range.createFromNode(firstSpan.firstChild).select();\n          this.setLastRange();\n          this.$editable.data(KEY_BOGUS,
    firstSpan);\n        }\n      } else {\n        this.setLastRange(\n          this.createRangeFromList(spans).select()\n        );\n      }\n    }
    else {\n      const noteStatusOutput = $.now();\n      this.$editor.find(''.note-status-output'').html(''<div
    id=\"note-status-output-'' + noteStatusOutput + ''\" class=\"alert alert-info\">''
    + this.lang.output.noSelection + ''</div>'');\n      setTimeout(function() { $(''#note-status-output-''
    + noteStatusOutput).remove(); }, 5000);\n    }\n  }\n\n  /**\n   * unlink\n   *\n   *
    @type command\n   */\n  unlink() {\n    let rng = this.getLastRange();\n    if
    (rng.isOnAnchor()) {\n      const anchor = dom.ancestor(rng.sc, dom.isAnchor);\n      rng
    = range.createFromNode(anchor);\n      rng.select();\n      this.setLastRange();\n\n      this.beforeCommand();\n      document.execCommand(''unlink'');\n      this.afterCommand();\n    }\n  }\n\n  /**\n   *
    returns link info\n   *\n   * @return {Object}\n   * @return {WrappedRange} return.range\n   *
    @return {String} return.text\n   * @return {Boolean} [return.isNewWindow=true]\n   *
    @return {String} [return.url=\"\"]\n   */\n  getLinkInfo() {\n    const rng =
    this.getLastRange().expand(dom.isAnchor);\n    // Get the first anchor on range(for
    edit).\n    const $anchor = $(lists.head(rng.nodes(dom.isAnchor)));\n    const
    linkInfo = {\n      range: rng,\n      text: rng.toString(),\n      url: $anchor.length
    ? $anchor.attr(''href'') : '''',\n    };\n\n    // When anchor exists,\n    if
    ($anchor.length) {\n      // Set isNewWindow by checking its target.\n      linkInfo.isNewWindow
    = $anchor.attr(''target'') === ''_blank'';\n    }\n\n    return linkInfo;\n  }\n\n  addRow(position)
    {\n    const rng = this.getLastRange(this.$editable);\n    if (rng.isCollapsed()
    && rng.isOnCell()) {\n      this.beforeCommand();\n      this.table.addRow(rng,
    position);\n      this.afterCommand();\n    }\n  }\n\n  addCol(position) {\n    const
    rng = this.getLastRange(this.$editable);\n    if (rng.isCollapsed() && rng.isOnCell())
    {\n      this.beforeCommand();\n      this.table.addCol(rng, position);\n      this.afterCommand();\n    }\n  }\n\n  deleteRow()
    {\n    const rng = this.getLastRange(this.$editable);\n    if (rng.isCollapsed()
    && rng.isOnCell()) {\n      this.beforeCommand();\n      this.table.deleteRow(rng);\n      this.afterCommand();\n    }\n  }\n\n  deleteCol()
    {\n    const rng = this.getLastRange(this.$editable);\n    if (rng.isCollapsed()
    && rng.isOnCell()) {\n      this.beforeCommand();\n      this.table.deleteCol(rng);\n      this.afterCommand();\n    }\n  }\n\n  deleteTable()
    {\n    const rng = this.getLastRange(this.$editable);\n    if (rng.isCollapsed()
    && rng.isOnCell()) {\n      this.beforeCommand();\n      this.table.deleteTable(rng);\n      this.afterCommand();\n    }\n  }\n\n  /**\n   *
    @param {Position} pos\n   * @param {jQuery} $target - target element\n   * @param
    {Boolean} [bKeepRatio] - keep ratio\n   */\n  resizeTo(pos, $target, bKeepRatio)
    {\n    let imageSize;\n    if (bKeepRatio) {\n      const newRatio = pos.y / pos.x;\n      const
    ratio = $target.data(''ratio'');\n      imageSize = {\n        width: ratio >
    newRatio ? pos.x : pos.y / ratio,\n        height: ratio > newRatio ? pos.x *
    ratio : pos.y,\n      };\n    } else {\n      imageSize = {\n        width: pos.x,\n        height:
    pos.y,\n      };\n    }\n\n    $target.css(imageSize);\n  }\n\n  /**\n   * returns
    whether editable area has focus or not.\n   */\n  hasFocus() {\n    return this.$editable.is('':focus'');\n  }\n\n  /**\n   *
    set focus\n   */\n  focus() {\n    // [workaround] Screen will move when page
    is scolled in IE.\n    //  - do focus when not focused\n    if (!this.hasFocus())
    {\n      this.$editable.focus();\n    }\n  }\n\n  /**\n   * returns whether contents
    is empty or not.\n   * @return {Boolean}\n   */\n  isEmpty() {\n    return dom.isEmpty(this.$editable[0])
    || dom.emptyPara === this.$editable.html();\n  }\n\n  /**\n   * Removes all contents
    and restores the editable instance to an _emptyPara_.\n   */\n  empty() {\n    this.context.invoke(''code'',
    dom.emptyPara);\n  }\n\n  /**\n   * normalize content\n   */\n  normalizeContent()
    {\n    this.$editable[0].normalize();\n  }\n}\n","import $ from ''jquery'';\n\n/**\n
    * @method readFileAsDataURL\n *\n * read contents of file as representing URL\n
    *\n * @param {File} file\n * @return {Promise} - then: dataUrl\n */\nexport function
    readFileAsDataURL(file) {\n  return $.Deferred((deferred) => {\n    $.extend(new
    FileReader(), {\n      onload: (e) => {\n        const dataURL = e.target.result;\n        deferred.resolve(dataURL);\n      },\n      onerror:
    (err) => {\n        deferred.reject(err);\n      },\n    }).readAsDataURL(file);\n  }).promise();\n}\n\n/**\n
    * @method createImage\n *\n * create `<image>` from url string\n *\n * @param
    {String} url\n * @return {Promise} - then: $image\n */\nexport function createImage(url)
    {\n  return $.Deferred((deferred) => {\n    const $img = $(''<img>'');\n\n    $img.one(''load'',
    () => {\n      $img.off(''error abort'');\n      deferred.resolve($img);\n    }).one(''error
    abort'', () => {\n      $img.off(''load'').detach();\n      deferred.reject($img);\n    }).css({\n      display:
    ''none'',\n    }).appendTo(document.body).attr(''src'', url);\n  }).promise();\n}\n","import
    lists from ''../core/lists'';\n\nexport default class Clipboard {\n  constructor(context)
    {\n    this.context = context;\n    this.$editable = context.layoutInfo.editable;\n  }\n\n  initialize()
    {\n    this.$editable.on(''paste'', this.pasteByEvent.bind(this));\n  }\n\n  /**\n   *
    paste by clipboard event\n   *\n   * @param {Event} event\n   */\n  pasteByEvent(event)
    {\n    const clipboardData = event.originalEvent.clipboardData;\n\n    if (clipboardData
    && clipboardData.items && clipboardData.items.length) {\n      const item = clipboardData.items.length
    > 1 ? clipboardData.items[1] : lists.head(clipboardData.items);\n      if (item.kind
    === ''file'' && item.type.indexOf(''image/'') !== -1) {\n        // paste img
    file\n        this.context.invoke(''editor.insertImagesOrCallback'', [item.getAsFile()]);\n        event.preventDefault();\n      }
    else if (item.kind === ''string'') {\n        // paste text with maxTextLength
    check\n        if (this.context.invoke(''editor.isLimited'', clipboardData.getData(''Text'').length))
    {\n          event.preventDefault();\n        }\n      }\n    } else if (window.clipboardData)
    {\n      // for IE\n      let text = window.clipboardData.getData(''text'');\n      if
    (this.context.invoke(''editor.isLimited'', text.length)) {\n        event.preventDefault();\n      }\n    }\n    //
    Call editor.afterCommand after proceeding default event handler\n    setTimeout(()
    => {\n      this.context.invoke(''editor.afterCommand'');\n    }, 10);\n  }\n}\n","import
    $ from ''jquery'';\n\nexport default class Dropzone {\n  constructor(context)
    {\n    this.context = context;\n    this.$eventListener = $(document);\n    this.$editor
    = context.layoutInfo.editor;\n    this.$editable = context.layoutInfo.editable;\n    this.options
    = context.options;\n    this.lang = this.options.langInfo;\n    this.documentEventHandlers
    = {};\n\n    this.$dropzone = $([\n      ''<div class=\"note-dropzone\">'',\n        ''<div
    class=\"note-dropzone-message\"></div>'',\n      ''</div>'',\n    ].join('''')).prependTo(this.$editor);\n  }\n\n  /**\n   *
    attach Drag and Drop Events\n   */\n  initialize() {\n    if (this.options.disableDragAndDrop)
    {\n      // prevent default drop event\n      this.documentEventHandlers.onDrop
    = (e) => {\n        e.preventDefault();\n      };\n      // do not consider outside
    of dropzone\n      this.$eventListener = this.$dropzone;\n      this.$eventListener.on(''drop'',
    this.documentEventHandlers.onDrop);\n    } else {\n      this.attachDragAndDropEvent();\n    }\n  }\n\n  /**\n   *
    attach Drag and Drop Events\n   */\n  attachDragAndDropEvent() {\n    let collection
    = $();\n    const $dropzoneMessage = this.$dropzone.find(''.note-dropzone-message'');\n\n    this.documentEventHandlers.onDragenter
    = (e) => {\n      const isCodeview = this.context.invoke(''codeview.isActivated'');\n      const
    hasEditorSize = this.$editor.width() > 0 && this.$editor.height() > 0;\n      if
    (!isCodeview && !collection.length && hasEditorSize) {\n        this.$editor.addClass(''dragover'');\n        this.$dropzone.width(this.$editor.width());\n        this.$dropzone.height(this.$editor.height());\n        $dropzoneMessage.text(this.lang.image.dragImageHere);\n      }\n      collection
    = collection.add(e.target);\n    };\n\n    this.documentEventHandlers.onDragleave
    = (e) => {\n      collection = collection.not(e.target);\n\n      // If nodeName
    is BODY, then just make it over (fix for IE)\n      if (!collection.length ||
    e.target.nodeName === ''BODY'') {\n        collection = $();\n        this.$editor.removeClass(''dragover'');\n      }\n    };\n\n    this.documentEventHandlers.onDrop
    = () => {\n      collection = $();\n      this.$editor.removeClass(''dragover'');\n    };\n\n    //
    show dropzone on dragenter when dragging a object to document\n    // -but only
    if the editor is visible, i.e. has a positive width and height\n    this.$eventListener.on(''dragenter'',
    this.documentEventHandlers.onDragenter)\n      .on(''dragleave'', this.documentEventHandlers.onDragleave)\n      .on(''drop'',
    this.documentEventHandlers.onDrop);\n\n    // change dropzone''s message on hover.\n    this.$dropzone.on(''dragenter'',
    () => {\n      this.$dropzone.addClass(''hover'');\n      $dropzoneMessage.text(this.lang.image.dropImage);\n    }).on(''dragleave'',
    () => {\n      this.$dropzone.removeClass(''hover'');\n      $dropzoneMessage.text(this.lang.image.dragImageHere);\n    });\n\n    //
    attach dropImage\n    this.$dropzone.on(''drop'', (event) => {\n      const dataTransfer
    = event.originalEvent.dataTransfer;\n\n      // stop the browser from opening
    the dropped content\n      event.preventDefault();\n\n      if (dataTransfer &&
    dataTransfer.files && dataTransfer.files.length) {\n        this.$editable.focus();\n        this.context.invoke(''editor.insertImagesOrCallback'',
    dataTransfer.files);\n      } else {\n        $.each(dataTransfer.types, (idx,
    type) => {\n          // skip moz-specific types\n          if (type.toLowerCase().indexOf(''_moz_'')
    > -1) {\n            return;\n          }\n          const content = dataTransfer.getData(type);\n\n          if
    (type.toLowerCase().indexOf(''text'') > -1) {\n            this.context.invoke(''editor.pasteHTML'',
    content);\n          } else {\n            $(content).each((idx, item) => {\n              this.context.invoke(''editor.insertNode'',
    item);\n            });\n          }\n        });\n      }\n    }).on(''dragover'',
    false); // prevent default dragover event\n  }\n\n  destroy() {\n    Object.keys(this.documentEventHandlers).forEach((key)
    => {\n      this.$eventListener.off(key.substr(2).toLowerCase(), this.documentEventHandlers[key]);\n    });\n    this.documentEventHandlers
    = {};\n  }\n}\n","import dom from ''../core/dom'';\nimport key from ''../core/key'';\n\n/**\n
    * @class Codeview\n */\nexport default class CodeView {\n  constructor(context)
    {\n    this.context = context;\n    this.$editor = context.layoutInfo.editor;\n    this.$editable
    = context.layoutInfo.editable;\n    this.$codable = context.layoutInfo.codable;\n    this.options
    = context.options;\n    this.CodeMirrorConstructor = window.CodeMirror;\n\n    if
    (this.options.codemirror.CodeMirrorConstructor) {\n      this.CodeMirrorConstructor
    = this.options.codemirror.CodeMirrorConstructor;\n    }\n  }\n\n  sync(html) {\n    const
    isCodeview = this.isActivated();\n    const CodeMirror = this.CodeMirrorConstructor;\n\n    if
    (isCodeview) {\n      if (html) {\n        if (CodeMirror) {\n          this.$codable.data(''cmEditor'').getDoc().setValue(html);\n        }
    else {\n          this.$codable.val(html);\n        }\n      } else {\n        if
    (CodeMirror) {\n          this.$codable.data(''cmEditor'').save();\n        }\n      }\n    }\n  }\n\n  initialize()
    {\n    this.$codable.on(''keyup'', (event) => {\n      if (event.keyCode === key.code.ESCAPE)
    {\n        this.deactivate();\n      }\n    });\n  }\n\n  /**\n   * @return {Boolean}\n   */\n  isActivated()
    {\n    return this.$editor.hasClass(''codeview'');\n  }\n\n  /**\n   * toggle
    codeview\n   */\n  toggle() {\n    if (this.isActivated()) {\n      this.deactivate();\n    }
    else {\n      this.activate();\n    }\n    this.context.triggerEvent(''codeview.toggled'');\n  }\n\n  /**\n   *
    purify input value\n   * @param value\n   * @returns {*}\n   */\n  purify(value)
    {\n    if (this.options.codeviewFilter) {\n      // filter code view regex\n      value
    = value.replace(this.options.codeviewFilterRegex, '''');\n      // allow specific
    iframe tag\n      if (this.options.codeviewIframeFilter) {\n        const whitelist
    = this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);\n        value
    = value.replace(/(<iframe.*?>.*?(?:<\\/iframe>)?)/gi, function(tag) {\n          //
    remove if src attribute is duplicated\n          if (/<.+src(?==?(''|\"|\\s)?)[\\s\\S]+src(?=(''|\"|\\s)?)[^>]*?>/i.test(tag))
    {\n            return '''';\n          }\n          for (const src of whitelist)
    {\n            // pass if src is trusted\n            if ((new RegExp(''src=\"(https?:)?\\/\\/''
    + src.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, ''\\\\$&'') + ''\\/(.+)\"'')).test(tag))
    {\n              return tag;\n            }\n          }\n          return '''';\n        });\n      }\n    }\n    return
    value;\n  }\n\n  /**\n   * activate code view\n   */\n  activate() {\n    const
    CodeMirror = this.CodeMirrorConstructor;\n    this.$codable.val(dom.html(this.$editable,
    this.options.prettifyHtml));\n    this.$codable.height(this.$editable.height());\n\n    this.context.invoke(''toolbar.updateCodeview'',
    true);\n    this.context.invoke(''airPopover.updateCodeview'', true);\n\n    this.$editor.addClass(''codeview'');\n    this.$codable.focus();\n\n    //
    activate CodeMirror as codable\n    if (CodeMirror) {\n      const cmEditor =
    CodeMirror.fromTextArea(this.$codable[0], this.options.codemirror);\n\n      //
    CodeMirror TernServer\n      if (this.options.codemirror.tern) {\n        const
    server = new CodeMirror.TernServer(this.options.codemirror.tern);\n        cmEditor.ternServer
    = server;\n        cmEditor.on(''cursorActivity'', (cm) => {\n          server.updateArgHints(cm);\n        });\n      }\n\n      cmEditor.on(''blur'',
    (event) => {\n        this.context.triggerEvent(''blur.codeview'', cmEditor.getValue(),
    event);\n      });\n      cmEditor.on(''change'', () => {\n        this.context.triggerEvent(''change.codeview'',
    cmEditor.getValue(), cmEditor);\n      });\n\n      // CodeMirror hasn''t Padding.\n      cmEditor.setSize(null,
    this.$editable.outerHeight());\n      this.$codable.data(''cmEditor'', cmEditor);\n    }
    else {\n      this.$codable.on(''blur'', (event) => {\n        this.context.triggerEvent(''blur.codeview'',
    this.$codable.val(), event);\n      });\n      this.$codable.on(''input'', ()
    => {\n        this.context.triggerEvent(''change.codeview'', this.$codable.val(),
    this.$codable);\n      });\n    }\n  }\n\n  /**\n   * deactivate code view\n   */\n  deactivate()
    {\n    const CodeMirror = this.CodeMirrorConstructor;\n    // deactivate CodeMirror
    as codable\n    if (CodeMirror) {\n      const cmEditor = this.$codable.data(''cmEditor'');\n      this.$codable.val(cmEditor.getValue());\n      cmEditor.toTextArea();\n    }\n\n    const
    value = this.purify(dom.value(this.$codable, this.options.prettifyHtml) || dom.emptyPara);\n    const
    isChange = this.$editable.html() !== value;\n\n    this.$editable.html(value);\n    this.$editable.height(this.options.height
    ? this.$codable.height() : ''auto'');\n    this.$editor.removeClass(''codeview'');\n\n    if
    (isChange) {\n      this.context.triggerEvent(''change'', this.$editable.html(),
    this.$editable);\n    }\n\n    this.$editable.focus();\n\n    this.context.invoke(''toolbar.updateCodeview'',
    false);\n    this.context.invoke(''airPopover.updateCodeview'', false);\n  }\n\n  destroy()
    {\n    if (this.isActivated()) {\n      this.deactivate();\n    }\n  }\n}\n","import
    $ from ''jquery'';\nconst EDITABLE_PADDING = 24;\n\nexport default class Statusbar
    {\n  constructor(context) {\n    this.$document = $(document);\n    this.$statusbar
    = context.layoutInfo.statusbar;\n    this.$editable = context.layoutInfo.editable;\n    this.options
    = context.options;\n  }\n\n  initialize() {\n    if (this.options.airMode || this.options.disableResizeEditor)
    {\n      this.destroy();\n      return;\n    }\n\n    this.$statusbar.on(''mousedown'',
    (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n\n      const
    editableTop = this.$editable.offset().top - this.$document.scrollTop();\n      const
    onMouseMove = (event) => {\n        let height = event.clientY - (editableTop
    + EDITABLE_PADDING);\n\n        height = (this.options.minheight > 0) ? Math.max(height,
    this.options.minheight) : height;\n        height = (this.options.maxHeight >
    0) ? Math.min(height, this.options.maxHeight) : height;\n\n        this.$editable.height(height);\n      };\n\n      this.$document.on(''mousemove'',
    onMouseMove).one(''mouseup'', () => {\n        this.$document.off(''mousemove'',
    onMouseMove);\n      });\n    });\n  }\n\n  destroy() {\n    this.$statusbar.off();\n    this.$statusbar.addClass(''locked'');\n  }\n}\n","import
    $ from ''jquery'';\n\nexport default class Fullscreen {\n  constructor(context)
    {\n    this.context = context;\n\n    this.$editor = context.layoutInfo.editor;\n    this.$toolbar
    = context.layoutInfo.toolbar;\n    this.$editable = context.layoutInfo.editable;\n    this.$codable
    = context.layoutInfo.codable;\n\n    this.$window = $(window);\n    this.$scrollbar
    = $(''html, body'');\n\n    this.onResize = () => {\n      this.resizeTo({\n        h:
    this.$window.height() - this.$toolbar.outerHeight(),\n      });\n    };\n  }\n\n  resizeTo(size)
    {\n    this.$editable.css(''height'', size.h);\n    this.$codable.css(''height'',
    size.h);\n    if (this.$codable.data(''cmeditor'')) {\n      this.$codable.data(''cmeditor'').setsize(null,
    size.h);\n    }\n  }\n\n  /**\n   * toggle fullscreen\n   */\n  toggle() {\n    this.$editor.toggleClass(''fullscreen'');\n    if
    (this.isFullscreen()) {\n      this.$editable.data(''orgHeight'', this.$editable.css(''height''));\n      this.$editable.data(''orgMaxHeight'',
    this.$editable.css(''maxHeight''));\n      this.$editable.css(''maxHeight'', '''');\n      this.$window.on(''resize'',
    this.onResize).trigger(''resize'');\n      this.$scrollbar.css(''overflow'', ''hidden'');\n    }
    else {\n      this.$window.off(''resize'', this.onResize);\n      this.resizeTo({
    h: this.$editable.data(''orgHeight'') });\n      this.$editable.css(''maxHeight'',
    this.$editable.css(''orgMaxHeight''));\n      this.$scrollbar.css(''overflow'',
    ''visible'');\n    }\n\n    this.context.invoke(''toolbar.updateFullscreen'',
    this.isFullscreen());\n  }\n\n  isFullscreen() {\n    return this.$editor.hasClass(''fullscreen'');\n  }\n}\n","import
    $ from ''jquery'';\nimport dom from ''../core/dom'';\n\nexport default class Handle
    {\n  constructor(context) {\n    this.context = context;\n    this.$document =
    $(document);\n    this.$editingArea = context.layoutInfo.editingArea;\n    this.options
    = context.options;\n    this.lang = this.options.langInfo;\n\n    this.events
    = {\n      ''summernote.mousedown'': (we, e) => {\n        if (this.update(e.target,
    e)) {\n          e.preventDefault();\n        }\n      },\n      ''summernote.keyup
    summernote.scroll summernote.change summernote.dialog.shown'': () => {\n        this.update();\n      },\n      ''summernote.disable
    summernote.blur'': () => {\n        this.hide();\n      },\n      ''summernote.codeview.toggled'':
    () => {\n        this.update();\n      },\n    };\n  }\n\n  initialize() {\n    this.$handle
    = $([\n      ''<div class=\"note-handle\">'',\n        ''<div class=\"note-control-selection\">'',\n          ''<div
    class=\"note-control-selection-bg\"></div>'',\n          ''<div class=\"note-control-holder
    note-control-nw\"></div>'',\n          ''<div class=\"note-control-holder note-control-ne\"></div>'',\n          ''<div
    class=\"note-control-holder note-control-sw\"></div>'',\n          ''<div class=\"'',\n            (this.options.disableResizeImage
    ? ''note-control-holder'' : ''note-control-sizing''),\n          '' note-control-se\"></div>'',\n          (this.options.disableResizeImage
    ? '''' : ''<div class=\"note-control-selection-info\"></div>''),\n        ''</div>'',\n      ''</div>'',\n    ].join('''')).prependTo(this.$editingArea);\n\n    this.$handle.on(''mousedown'',
    (event) => {\n      if (dom.isControlSizing(event.target)) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        const
    $target = this.$handle.find(''.note-control-selection'').data(''target'');\n        const
    posStart = $target.offset();\n        const scrollTop = this.$document.scrollTop();\n\n        const
    onMouseMove = (event) => {\n          this.context.invoke(''editor.resizeTo'',
    {\n            x: event.clientX - posStart.left,\n            y: event.clientY
    - (posStart.top - scrollTop),\n          }, $target, !event.shiftKey);\n\n          this.update($target[0],
    event);\n        };\n\n        this.$document\n          .on(''mousemove'', onMouseMove)\n          .one(''mouseup'',
    (e) => {\n            e.preventDefault();\n            this.$document.off(''mousemove'',
    onMouseMove);\n            this.context.invoke(''editor.afterCommand'');\n          });\n\n        if
    (!$target.data(''ratio'')) { // original ratio.\n          $target.data(''ratio'',
    $target.height() / $target.width());\n        }\n      }\n    });\n\n    // Listen
    for scrolling on the handle overlay.\n    this.$handle.on(''wheel'', (e) => {\n      e.preventDefault();\n      this.update();\n    });\n  }\n\n  destroy()
    {\n    this.$handle.remove();\n  }\n\n  update(target, event) {\n    if (this.context.isDisabled())
    {\n      return false;\n    }\n\n    const isImage = dom.isImg(target);\n    const
    $selection = this.$handle.find(''.note-control-selection'');\n\n    this.context.invoke(''imagePopover.update'',
    target, event);\n\n    if (isImage) {\n      const $image = $(target);\n      const
    position = $image.position();\n      const pos = {\n        left: position.left
    + parseInt($image.css(''marginLeft''), 10),\n        top: position.top + parseInt($image.css(''marginTop''),
    10),\n      };\n\n      // exclude margin\n      const imageSize = {\n        w:
    $image.outerWidth(false),\n        h: $image.outerHeight(false),\n      };\n\n      $selection.css({\n        display:
    ''block'',\n        left: pos.left,\n        top: pos.top,\n        width: imageSize.w,\n        height:
    imageSize.h,\n      }).data(''target'', $image); // save current image element.\n\n      const
    origImageObj = new Image();\n      origImageObj.src = $image.attr(''src'');\n\n      const
    sizingText = imageSize.w + ''x'' + imageSize.h + '' ('' + this.lang.image.original
    + '': '' + origImageObj.width + ''x'' + origImageObj.height + '')'';\n      $selection.find(''.note-control-selection-info'').text(sizingText);\n      this.context.invoke(''editor.saveTarget'',
    target);\n    } else {\n      this.hide();\n    }\n\n    return isImage;\n  }\n\n  /**\n   *
    hide\n   *\n   * @param {jQuery} $handle\n   */\n  hide() {\n    this.context.invoke(''editor.clearTarget'');\n    this.$handle.children().hide();\n  }\n}\n","import
    $ from ''jquery'';\nimport lists from ''../core/lists'';\nimport key from ''../core/key'';\n\nconst
    defaultScheme = ''http://'';\nconst linkPattern = /^([A-Za-z][A-Za-z0-9+-.]*\\:[\\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@)?(www\\.)?(.+)$/i;\n\nexport
    default class AutoLink {\n  constructor(context) {\n    this.context = context;\n    this.options
    = context.options;\n    this.events = {\n      ''summernote.keyup'': (we, e) =>
    {\n        if (!e.isDefaultPrevented()) {\n          this.handleKeyup(e);\n        }\n      },\n      ''summernote.keydown'':
    (we, e) => {\n        this.handleKeydown(e);\n      },\n    };\n  }\n\n  initialize()
    {\n    this.lastWordRange = null;\n  }\n\n  destroy() {\n    this.lastWordRange
    = null;\n  }\n\n  replace() {\n    if (!this.lastWordRange) {\n      return;\n    }\n\n    const
    keyword = this.lastWordRange.toString();\n    const match = keyword.match(linkPattern);\n\n    if
    (match && (match[1] || match[2])) {\n      const link = match[1] ? keyword : defaultScheme
    + keyword;\n      const urlText = this.options.showDomainOnlyForAutolink ?\n        keyword.replace(/^(?:https?:\\/\\/)?(?:tel?:?)?(?:mailto?:?)?(?:www\\.)?/i,
    '''').split(''/'')[0]\n        : keyword;\n      const node = $(''<a />'').html(urlText).attr(''href'',
    link)[0];\n      if (this.context.options.linkTargetBlank) {\n        $(node).attr(''target'',
    ''_blank'');\n      }\n\n      this.lastWordRange.insertNode(node);\n      this.lastWordRange
    = null;\n      this.context.invoke(''editor.focus'');\n    }\n  }\n\n  handleKeydown(e)
    {\n    if (lists.contains([key.code.ENTER, key.code.SPACE], e.keyCode)) {\n      const
    wordRange = this.context.invoke(''editor.createRange'').getWordRange();\n      this.lastWordRange
    = wordRange;\n    }\n  }\n\n  handleKeyup(e) {\n    if (lists.contains([key.code.ENTER,
    key.code.SPACE], e.keyCode)) {\n      this.replace();\n    }\n  }\n}\n","import
    dom from ''../core/dom'';\n\n/**\n * textarea auto sync.\n */\nexport default
    class AutoSync {\n  constructor(context) {\n    this.$note = context.layoutInfo.note;\n    this.events
    = {\n      ''summernote.change'': () => {\n        this.$note.val(context.invoke(''code''));\n      },\n    };\n  }\n\n  shouldInitialize()
    {\n    return dom.isTextarea(this.$note[0]);\n  }\n}\n","import lists from ''../core/lists'';\nimport
    dom from ''../core/dom'';\nimport key from ''../core/key'';\n\nexport default
    class AutoReplace {\n  constructor(context) {\n    this.context = context;\n    this.options
    = context.options.replace || {};\n\n    this.keys = [key.code.ENTER, key.code.SPACE,
    key.code.PERIOD, key.code.COMMA, key.code.SEMICOLON, key.code.SLASH];\n    this.previousKeydownCode
    = null;\n\n    this.events = {\n      ''summernote.keyup'': (we, e) => {\n        if
    (!e.isDefaultPrevented()) {\n          this.handleKeyup(e);\n        }\n      },\n      ''summernote.keydown'':
    (we, e) => {\n        this.handleKeydown(e);\n      },\n    };\n  }\n\n  shouldInitialize()
    {\n    return !!this.options.match;\n  }\n\n  initialize() {\n    this.lastWord
    = null;\n  }\n\n  destroy() {\n    this.lastWord = null;\n  }\n\n  replace() {\n    if
    (!this.lastWord) {\n      return;\n    }\n\n    const self = this;\n    const
    keyword = this.lastWord.toString();\n    this.options.match(keyword, function(match)
    {\n      if (match) {\n        let node = '''';\n\n        if (typeof match ===
    ''string'') {\n          node = dom.createText(match);\n        } else if (match
    instanceof jQuery) {\n          node = match[0];\n        } else if (match instanceof
    Node) {\n          node = match;\n        }\n\n        if (!node) return;\n        self.lastWord.insertNode(node);\n        self.lastWord
    = null;\n        self.context.invoke(''editor.focus'');\n      }\n    });\n  }\n\n  handleKeydown(e)
    {\n    // this forces it to remember the last whole word, even if multiple termination
    keys are pressed\n    // before the previous key is let go.\n    if (this.previousKeydownCode
    && lists.contains(this.keys, this.previousKeydownCode)) {\n      this.previousKeydownCode
    = e.keyCode;\n      return;\n    }\n\n    if (lists.contains(this.keys, e.keyCode))
    {\n      const wordRange = this.context.invoke(''editor.createRange'').getWordRange();\n      this.lastWord
    = wordRange;\n    }\n    this.previousKeydownCode = e.keyCode;\n  }\n\n  handleKeyup(e)
    {\n    if (lists.contains(this.keys, e.keyCode)) {\n      this.replace();\n    }\n  }\n}\n","import
    $ from ''jquery'';\nexport default class Placeholder {\n  constructor(context)
    {\n    this.context = context;\n\n    this.$editingArea = context.layoutInfo.editingArea;\n    this.options
    = context.options;\n\n    if (this.options.inheritPlaceholder === true) {\n      //
    get placeholder value from the original element\n      this.options.placeholder
    = this.context.$note.attr(''placeholder'') || this.options.placeholder;\n    }\n\n    this.events
    = {\n      ''summernote.init summernote.change'': () => {\n        this.update();\n      },\n      ''summernote.codeview.toggled'':
    () => {\n        this.update();\n      },\n    };\n  }\n\n  shouldInitialize()
    {\n    return !!this.options.placeholder;\n  }\n\n  initialize() {\n    this.$placeholder
    = $(''<div class=\"note-placeholder\">'');\n    this.$placeholder.on(''click'',
    () => {\n      this.context.invoke(''focus'');\n    }).html(this.options.placeholder).prependTo(this.$editingArea);\n\n    this.update();\n  }\n\n  destroy()
    {\n    this.$placeholder.remove();\n  }\n\n  update() {\n    const isShow = !this.context.invoke(''codeview.isActivated'')
    && this.context.invoke(''editor.isEmpty'');\n    this.$placeholder.toggle(isShow);\n  }\n}\n","import
    $ from ''jquery'';\nimport func from ''../core/func'';\nimport lists from ''../core/lists'';\nimport
    env from ''../core/env'';\n\nexport default class Buttons {\n  constructor(context)
    {\n    this.ui = $.summernote.ui;\n    this.context = context;\n    this.$toolbar
    = context.layoutInfo.toolbar;\n    this.options = context.options;\n    this.lang
    = this.options.langInfo;\n    this.invertedKeyMap = func.invertObject(\n      this.options.keyMap[env.isMac
    ? ''mac'' : ''pc'']\n    );\n  }\n\n  representShortcut(editorMethod) {\n    let
    shortcut = this.invertedKeyMap[editorMethod];\n    if (!this.options.shortcuts
    || !shortcut) {\n      return '''';\n    }\n\n    if (env.isMac) {\n      shortcut
    = shortcut.replace(''CMD'', ''⌘'').replace(''SHIFT'', ''⇧'');\n    }\n\n    shortcut
    = shortcut.replace(''BACKSLASH'', ''\\\\'')\n      .replace(''SLASH'', ''/'')\n      .replace(''LEFTBRACKET'',
    ''['')\n      .replace(''RIGHTBRACKET'', '']'');\n\n    return '' ('' + shortcut
    + '')'';\n  }\n\n  button(o) {\n    if (!this.options.tooltip && o.tooltip) {\n      delete
    o.tooltip;\n    }\n    o.container = this.options.container;\n    return this.ui.button(o);\n  }\n\n  initialize()
    {\n    this.addToolbarButtons();\n    this.addImagePopoverButtons();\n    this.addLinkPopoverButtons();\n    this.addTablePopoverButtons();\n    this.fontInstalledMap
    = {};\n  }\n\n  destroy() {\n    delete this.fontInstalledMap;\n  }\n\n  isFontInstalled(name)
    {\n    if (!Object.prototype.hasOwnProperty.call(this.fontInstalledMap, name))
    {\n      this.fontInstalledMap[name] = env.isFontInstalled(name) ||\n        lists.contains(this.options.fontNamesIgnoreCheck,
    name);\n    }\n    return this.fontInstalledMap[name];\n  }\n\n  isFontDeservedToAdd(name)
    {\n    name = name.toLowerCase();\n    return (name !== '''' && this.isFontInstalled(name)
    && env.genericFontFamilies.indexOf(name) === -1);\n  }\n\n  colorPalette(className,
    tooltip, backColor, foreColor) {\n    return this.ui.buttonGroup({\n      className:
    ''note-color '' + className,\n      children: [\n        this.button({\n          className:
    ''note-current-color-button'',\n          contents: this.ui.icon(this.options.icons.font
    + '' note-recent-color''),\n          tooltip: tooltip,\n          click: (e)
    => {\n            const $button = $(e.currentTarget);\n            if (backColor
    && foreColor) {\n              this.context.invoke(''editor.color'', {\n                backColor:
    $button.attr(''data-backColor''),\n                foreColor: $button.attr(''data-foreColor''),\n              });\n            }
    else if (backColor) {\n              this.context.invoke(''editor.color'', {\n                backColor:
    $button.attr(''data-backColor''),\n              });\n            } else if (foreColor)
    {\n              this.context.invoke(''editor.color'', {\n                foreColor:
    $button.attr(''data-foreColor''),\n              });\n            }\n          },\n          callback:
    ($button) => {\n            const $recentColor = $button.find(''.note-recent-color'');\n            if
    (backColor) {\n              $recentColor.css(''background-color'', this.options.colorButton.backColor);\n              $button.attr(''data-backColor'',
    this.options.colorButton.backColor);\n            }\n            if (foreColor)
    {\n              $recentColor.css(''color'', this.options.colorButton.foreColor);\n              $button.attr(''data-foreColor'',
    this.options.colorButton.foreColor);\n            } else {\n              $recentColor.css(''color'',
    ''transparent'');\n            }\n          },\n        }),\n        this.button({\n          className:
    ''dropdown-toggle'',\n          contents: this.ui.dropdownButtonContents('''',
    this.options),\n          tooltip: this.lang.color.more,\n          data: {\n            toggle:
    ''dropdown'',\n          },\n        }),\n        this.ui.dropdown({\n          items:
    (backColor ? [\n            ''<div class=\"note-palette\">'',\n              ''<div
    class=\"note-palette-title\">'' + this.lang.color.background + ''</div>'',\n              ''<div>'',\n                ''<button
    type=\"button\" class=\"note-color-reset btn btn-light btn-default\" data-event=\"backColor\"
    data-value=\"transparent\">'',\n                  this.lang.color.transparent,\n                ''</button>'',\n              ''</div>'',\n              ''<div
    class=\"note-holder\" data-event=\"backColor\"><!-- back colors --></div>'',\n              ''<div>'',\n                ''<button
    type=\"button\" class=\"note-color-select btn btn-light btn-default\" data-event=\"openPalette\"
    data-value=\"backColorPicker\">'',\n                  this.lang.color.cpSelect,\n                ''</button>'',\n                ''<input
    type=\"color\" id=\"backColorPicker\" class=\"note-btn note-color-select-btn\"
    value=\"'' + this.options.colorButton.backColor + ''\" data-event=\"backColorPalette\">'',\n              ''</div>'',\n              ''<div
    class=\"note-holder-custom\" id=\"backColorPalette\" data-event=\"backColor\"></div>'',\n            ''</div>'',\n          ].join('''')
    : '''') +\n          (foreColor ? [\n            ''<div class=\"note-palette\">'',\n              ''<div
    class=\"note-palette-title\">'' + this.lang.color.foreground + ''</div>'',\n              ''<div>'',\n                ''<button
    type=\"button\" class=\"note-color-reset btn btn-light btn-default\" data-event=\"removeFormat\"
    data-value=\"foreColor\">'',\n                  this.lang.color.resetToDefault,\n                ''</button>'',\n              ''</div>'',\n              ''<div
    class=\"note-holder\" data-event=\"foreColor\"><!-- fore colors --></div>'',\n              ''<div>'',\n                ''<button
    type=\"button\" class=\"note-color-select btn btn-light btn-default\" data-event=\"openPalette\"
    data-value=\"foreColorPicker\">'',\n                  this.lang.color.cpSelect,\n                ''</button>'',\n                ''<input
    type=\"color\" id=\"foreColorPicker\" class=\"note-btn note-color-select-btn\"
    value=\"'' + this.options.colorButton.foreColor + ''\" data-event=\"foreColorPalette\">'',\n              ''</div>'',
    // Fix missing Div, Commented to find easily if it''s wrong\n              ''<div
    class=\"note-holder-custom\" id=\"foreColorPalette\" data-event=\"foreColor\"></div>'',\n            ''</div>'',\n          ].join('''')
    : ''''),\n          callback: ($dropdown) => {\n            $dropdown.find(''.note-holder'').each((idx,
    item) => {\n              const $holder = $(item);\n              $holder.append(this.ui.palette({\n                colors:
    this.options.colors,\n                colorsName: this.options.colorsName,\n                eventName:
    $holder.data(''event''),\n                container: this.options.container,\n                tooltip:
    this.options.tooltip,\n              }).render());\n            });\n            /*
    TODO: do we have to record recent custom colors within cookies? */\n            var
    customColors = [\n              [''#FFFFFF'', ''#FFFFFF'', ''#FFFFFF'', ''#FFFFFF'',
    ''#FFFFFF'', ''#FFFFFF'', ''#FFFFFF'', ''#FFFFFF''],\n            ];\n            $dropdown.find(''.note-holder-custom'').each((idx,
    item) => {\n              const $holder = $(item);\n              $holder.append(this.ui.palette({\n                colors:
    customColors,\n                colorsName: customColors,\n                eventName:
    $holder.data(''event''),\n                container: this.options.container,\n                tooltip:
    this.options.tooltip,\n              }).render());\n            });\n            $dropdown.find(''input[type=color]'').each((idx,
    item) => {\n              $(item).change(function() {\n                const $chip
    = $dropdown.find(''#'' + $(this).data(''event'')).find(''.note-color-btn'').first();\n                const
    color = this.value.toUpperCase();\n                $chip.css(''background-color'',
    color)\n                  .attr(''aria-label'', color)\n                  .attr(''data-value'',
    color)\n                  .attr(''data-original-title'', color);\n                $chip.click();\n              });\n            });\n          },\n          click:
    (event) => {\n            event.stopPropagation();\n\n            const $parent
    = $(''.'' + className).find(''.note-dropdown-menu'');\n            const $button
    = $(event.target);\n            const eventName = $button.data(''event'');\n            const
    value = $button.attr(''data-value'');\n\n            if (eventName === ''openPalette'')
    {\n              const $picker = $parent.find(''#'' + value);\n              const
    $palette = $($parent.find(''#'' + $picker.data(''event'')).find(''.note-color-row'')[0]);\n\n              //
    Shift palette chips\n              const $chip = $palette.find(''.note-color-btn'').last().detach();\n\n              //
    Set chip attributes\n              const color = $picker.val();\n              $chip.css(''background-color'',
    color)\n                .attr(''aria-label'', color)\n                .attr(''data-value'',
    color)\n                .attr(''data-original-title'', color);\n              $palette.prepend($chip);\n              $picker.click();\n            }
    else {\n              if (lists.contains([''backColor'', ''foreColor''], eventName))
    {\n                const key = eventName === ''backColor'' ? ''background-color''
    : ''color'';\n                const $color = $button.closest(''.note-color'').find(''.note-recent-color'');\n                const
    $currentButton = $button.closest(''.note-color'').find(''.note-current-color-button'');\n\n                $color.css(key,
    value);\n                $currentButton.attr(''data-'' + eventName, value);\n              }\n              this.context.invoke(''editor.''
    + eventName, value);\n            }\n          },\n        }),\n      ],\n    }).render();\n  }\n\n  addToolbarButtons()
    {\n    this.context.memo(''button.style'', () => {\n      return this.ui.buttonGroup([\n        this.button({\n          className:
    ''dropdown-toggle'',\n          contents: this.ui.dropdownButtonContents(\n            this.ui.icon(this.options.icons.magic),
    this.options\n          ),\n          tooltip: this.lang.style.style,\n          data:
    {\n            toggle: ''dropdown'',\n          },\n        }),\n        this.ui.dropdown({\n          className:
    ''dropdown-style'',\n          items: this.options.styleTags,\n          title:
    this.lang.style.style,\n          template: (item) => {\n            // TBD: need
    to be simplified\n            if (typeof item === ''string'') {\n              item
    = {\n                tag: item,\n                title: (Object.prototype.hasOwnProperty.call(this.lang.style,
    item) ? this.lang.style[item] : item),\n              };\n            }\n\n            const
    tag = item.tag;\n            const title = item.title;\n            const style
    = item.style ? '' style=\"'' + item.style + ''\" '' : '''';\n            const
    className = item.className ? '' class=\"'' + item.className + ''\"'' : '''';\n\n            return
    ''<'' + tag + style + className + ''>'' + title + ''</'' + tag + ''>'';\n          },\n          click:
    this.context.createInvokeHandler(''editor.formatBlock''),\n        }),\n      ]).render();\n    });\n\n    for
    (let styleIdx = 0, styleLen = this.options.styleTags.length; styleIdx < styleLen;
    styleIdx++) {\n      const item = this.options.styleTags[styleIdx];\n\n      this.context.memo(''button.style.''
    + item, () => {\n        return this.button({\n          className: ''note-btn-style-''
    + item,\n          contents: ''<div data-value=\"'' + item + ''\">'' + item.toUpperCase()
    + ''</div>'',\n          tooltip: this.lang.style[item],\n          click: this.context.createInvokeHandler(''editor.formatBlock''),\n        }).render();\n      });\n    }\n\n    this.context.memo(''button.bold'',
    () => {\n      return this.button({\n        className: ''note-btn-bold'',\n        contents:
    this.ui.icon(this.options.icons.bold),\n        tooltip: this.lang.font.bold +
    this.representShortcut(''bold''),\n        click: this.context.createInvokeHandlerAndUpdateState(''editor.bold''),\n      }).render();\n    });\n\n    this.context.memo(''button.italic'',
    () => {\n      return this.button({\n        className: ''note-btn-italic'',\n        contents:
    this.ui.icon(this.options.icons.italic),\n        tooltip: this.lang.font.italic
    + this.representShortcut(''italic''),\n        click: this.context.createInvokeHandlerAndUpdateState(''editor.italic''),\n      }).render();\n    });\n\n    this.context.memo(''button.underline'',
    () => {\n      return this.button({\n        className: ''note-btn-underline'',\n        contents:
    this.ui.icon(this.options.icons.underline),\n        tooltip: this.lang.font.underline
    + this.representShortcut(''underline''),\n        click: this.context.createInvokeHandlerAndUpdateState(''editor.underline''),\n      }).render();\n    });\n\n    this.context.memo(''button.clear'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.eraser),\n        tooltip:
    this.lang.font.clear + this.representShortcut(''removeFormat''),\n        click:
    this.context.createInvokeHandler(''editor.removeFormat''),\n      }).render();\n    });\n\n    this.context.memo(''button.strikethrough'',
    () => {\n      return this.button({\n        className: ''note-btn-strikethrough'',\n        contents:
    this.ui.icon(this.options.icons.strikethrough),\n        tooltip: this.lang.font.strikethrough
    + this.representShortcut(''strikethrough''),\n        click: this.context.createInvokeHandlerAndUpdateState(''editor.strikethrough''),\n      }).render();\n    });\n\n    this.context.memo(''button.superscript'',
    () => {\n      return this.button({\n        className: ''note-btn-superscript'',\n        contents:
    this.ui.icon(this.options.icons.superscript),\n        tooltip: this.lang.font.superscript,\n        click:
    this.context.createInvokeHandlerAndUpdateState(''editor.superscript''),\n      }).render();\n    });\n\n    this.context.memo(''button.subscript'',
    () => {\n      return this.button({\n        className: ''note-btn-subscript'',\n        contents:
    this.ui.icon(this.options.icons.subscript),\n        tooltip: this.lang.font.subscript,\n        click:
    this.context.createInvokeHandlerAndUpdateState(''editor.subscript''),\n      }).render();\n    });\n\n    this.context.memo(''button.fontname'',
    () => {\n      const styleInfo = this.context.invoke(''editor.currentStyle'');\n\n      if
    (this.options.addDefaultFonts) {\n        // Add ''default'' fonts into the fontnames
    array if not exist\n        $.each(styleInfo[''font-family''].split('',''), (idx,
    fontname) => {\n          fontname = fontname.trim().replace(/[''\"]+/g, '''');\n          if
    (this.isFontDeservedToAdd(fontname)) {\n            if (this.options.fontNames.indexOf(fontname)
    === -1) {\n              this.options.fontNames.push(fontname);\n            }\n          }\n        });\n      }\n\n      return
    this.ui.buttonGroup([\n        this.button({\n          className: ''dropdown-toggle'',\n          contents:
    this.ui.dropdownButtonContents(\n            ''<span class=\"note-current-fontname\"></span>'',
    this.options\n          ),\n          tooltip: this.lang.font.name,\n          data:
    {\n            toggle: ''dropdown'',\n          },\n        }),\n        this.ui.dropdownCheck({\n          className:
    ''dropdown-fontname'',\n          checkClassName: this.options.icons.menuCheck,\n          items:
    this.options.fontNames.filter(this.isFontInstalled.bind(this)),\n          title:
    this.lang.font.name,\n          template: (item) => {\n            return ''<span
    style=\"font-family: '' + env.validFontName(item) + ''\">'' + item + ''</span>'';\n          },\n          click:
    this.context.createInvokeHandlerAndUpdateState(''editor.fontName''),\n        }),\n      ]).render();\n    });\n\n    this.context.memo(''button.fontsize'',
    () => {\n      return this.ui.buttonGroup([\n        this.button({\n          className:
    ''dropdown-toggle'',\n          contents: this.ui.dropdownButtonContents(''<span
    class=\"note-current-fontsize\"></span>'', this.options),\n          tooltip:
    this.lang.font.size,\n          data: {\n            toggle: ''dropdown'',\n          },\n        }),\n        this.ui.dropdownCheck({\n          className:
    ''dropdown-fontsize'',\n          checkClassName: this.options.icons.menuCheck,\n          items:
    this.options.fontSizes,\n          title: this.lang.font.size,\n          click:
    this.context.createInvokeHandlerAndUpdateState(''editor.fontSize''),\n        }),\n      ]).render();\n    });\n\n    this.context.memo(''button.fontsizeunit'',
    () => {\n      return this.ui.buttonGroup([\n        this.button({\n          className:
    ''dropdown-toggle'',\n          contents: this.ui.dropdownButtonContents(''<span
    class=\"note-current-fontsizeunit\"></span>'', this.options),\n          tooltip:
    this.lang.font.sizeunit,\n          data: {\n            toggle: ''dropdown'',\n          },\n        }),\n        this.ui.dropdownCheck({\n          className:
    ''dropdown-fontsizeunit'',\n          checkClassName: this.options.icons.menuCheck,\n          items:
    this.options.fontSizeUnits,\n          title: this.lang.font.sizeunit,\n          click:
    this.context.createInvokeHandlerAndUpdateState(''editor.fontSizeUnit''),\n        }),\n      ]).render();\n    });\n\n    this.context.memo(''button.color'',
    () => {\n      return this.colorPalette(''note-color-all'', this.lang.color.recent,
    true, true);\n    });\n\n    this.context.memo(''button.forecolor'', () => {\n      return
    this.colorPalette(''note-color-fore'', this.lang.color.foreground, false, true);\n    });\n\n    this.context.memo(''button.backcolor'',
    () => {\n      return this.colorPalette(''note-color-back'', this.lang.color.background,
    true, false);\n    });\n\n    this.context.memo(''button.ul'', () => {\n      return
    this.button({\n        contents: this.ui.icon(this.options.icons.unorderedlist),\n        tooltip:
    this.lang.lists.unordered + this.representShortcut(''insertUnorderedList''),\n        click:
    this.context.createInvokeHandler(''editor.insertUnorderedList''),\n      }).render();\n    });\n\n    this.context.memo(''button.ol'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.orderedlist),\n        tooltip:
    this.lang.lists.ordered + this.representShortcut(''insertOrderedList''),\n        click:
    this.context.createInvokeHandler(''editor.insertOrderedList''),\n      }).render();\n    });\n\n    const
    justifyLeft = this.button({\n      contents: this.ui.icon(this.options.icons.alignLeft),\n      tooltip:
    this.lang.paragraph.left + this.representShortcut(''justifyLeft''),\n      click:
    this.context.createInvokeHandler(''editor.justifyLeft''),\n    });\n\n    const
    justifyCenter = this.button({\n      contents: this.ui.icon(this.options.icons.alignCenter),\n      tooltip:
    this.lang.paragraph.center + this.representShortcut(''justifyCenter''),\n      click:
    this.context.createInvokeHandler(''editor.justifyCenter''),\n    });\n\n    const
    justifyRight = this.button({\n      contents: this.ui.icon(this.options.icons.alignRight),\n      tooltip:
    this.lang.paragraph.right + this.representShortcut(''justifyRight''),\n      click:
    this.context.createInvokeHandler(''editor.justifyRight''),\n    });\n\n    const
    justifyFull = this.button({\n      contents: this.ui.icon(this.options.icons.alignJustify),\n      tooltip:
    this.lang.paragraph.justify + this.representShortcut(''justifyFull''),\n      click:
    this.context.createInvokeHandler(''editor.justifyFull''),\n    });\n\n    const
    outdent = this.button({\n      contents: this.ui.icon(this.options.icons.outdent),\n      tooltip:
    this.lang.paragraph.outdent + this.representShortcut(''outdent''),\n      click:
    this.context.createInvokeHandler(''editor.outdent''),\n    });\n\n    const indent
    = this.button({\n      contents: this.ui.icon(this.options.icons.indent),\n      tooltip:
    this.lang.paragraph.indent + this.representShortcut(''indent''),\n      click:
    this.context.createInvokeHandler(''editor.indent''),\n    });\n\n    this.context.memo(''button.justifyLeft'',
    func.invoke(justifyLeft, ''render''));\n    this.context.memo(''button.justifyCenter'',
    func.invoke(justifyCenter, ''render''));\n    this.context.memo(''button.justifyRight'',
    func.invoke(justifyRight, ''render''));\n    this.context.memo(''button.justifyFull'',
    func.invoke(justifyFull, ''render''));\n    this.context.memo(''button.outdent'',
    func.invoke(outdent, ''render''));\n    this.context.memo(''button.indent'', func.invoke(indent,
    ''render''));\n\n    this.context.memo(''button.paragraph'', () => {\n      return
    this.ui.buttonGroup([\n        this.button({\n          className: ''dropdown-toggle'',\n          contents:
    this.ui.dropdownButtonContents(this.ui.icon(this.options.icons.alignLeft), this.options),\n          tooltip:
    this.lang.paragraph.paragraph,\n          data: {\n            toggle: ''dropdown'',\n          },\n        }),\n        this.ui.dropdown([\n          this.ui.buttonGroup({\n            className:
    ''note-align'',\n            children: [justifyLeft, justifyCenter, justifyRight,
    justifyFull],\n          }),\n          this.ui.buttonGroup({\n            className:
    ''note-list'',\n            children: [outdent, indent],\n          }),\n        ]),\n      ]).render();\n    });\n\n    this.context.memo(''button.height'',
    () => {\n      return this.ui.buttonGroup([\n        this.button({\n          className:
    ''dropdown-toggle'',\n          contents: this.ui.dropdownButtonContents(this.ui.icon(this.options.icons.textHeight),
    this.options),\n          tooltip: this.lang.font.height,\n          data: {\n            toggle:
    ''dropdown'',\n          },\n        }),\n        this.ui.dropdownCheck({\n          items:
    this.options.lineHeights,\n          checkClassName: this.options.icons.menuCheck,\n          className:
    ''dropdown-line-height'',\n          title: this.lang.font.height,\n          click:
    this.context.createInvokeHandler(''editor.lineHeight''),\n        }),\n      ]).render();\n    });\n\n    this.context.memo(''button.table'',
    () => {\n      return this.ui.buttonGroup([\n        this.button({\n          className:
    ''dropdown-toggle'',\n          contents: this.ui.dropdownButtonContents(this.ui.icon(this.options.icons.table),
    this.options),\n          tooltip: this.lang.table.table,\n          data: {\n            toggle:
    ''dropdown'',\n          },\n        }),\n        this.ui.dropdown({\n          title:
    this.lang.table.table,\n          className: ''note-table'',\n          items:
    [\n            ''<div class=\"note-dimension-picker\">'',\n              ''<div
    class=\"note-dimension-picker-mousecatcher\" data-event=\"insertTable\" data-value=\"1x1\"></div>'',\n              ''<div
    class=\"note-dimension-picker-highlighted\"></div>'',\n              ''<div class=\"note-dimension-picker-unhighlighted\"></div>'',\n            ''</div>'',\n            ''<div
    class=\"note-dimension-display\">1 x 1</div>'',\n          ].join(''''),\n        }),\n      ],
    {\n        callback: ($node) => {\n          const $catcher = $node.find(''.note-dimension-picker-mousecatcher'');\n          $catcher.css({\n            width:
    this.options.insertTableMaxSize.col + ''em'',\n            height: this.options.insertTableMaxSize.row
    + ''em'',\n          }).mousedown(this.context.createInvokeHandler(''editor.insertTable''))\n            .on(''mousemove'',
    this.tableMoveHandler.bind(this));\n        },\n      }).render();\n    });\n\n    this.context.memo(''button.link'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.link),\n        tooltip:
    this.lang.link.link + this.representShortcut(''linkDialog.show''),\n        click:
    this.context.createInvokeHandler(''linkDialog.show''),\n      }).render();\n    });\n\n    this.context.memo(''button.picture'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.picture),\n        tooltip:
    this.lang.image.image,\n        click: this.context.createInvokeHandler(''imageDialog.show''),\n      }).render();\n    });\n\n    this.context.memo(''button.video'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.video),\n        tooltip:
    this.lang.video.video,\n        click: this.context.createInvokeHandler(''videoDialog.show''),\n      }).render();\n    });\n\n    this.context.memo(''button.hr'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.minus),\n        tooltip:
    this.lang.hr.insert + this.representShortcut(''insertHorizontalRule''),\n        click:
    this.context.createInvokeHandler(''editor.insertHorizontalRule''),\n      }).render();\n    });\n\n    this.context.memo(''button.fullscreen'',
    () => {\n      return this.button({\n        className: ''btn-fullscreen note-codeview-keep'',\n        contents:
    this.ui.icon(this.options.icons.arrowsAlt),\n        tooltip: this.lang.options.fullscreen,\n        click:
    this.context.createInvokeHandler(''fullscreen.toggle''),\n      }).render();\n    });\n\n    this.context.memo(''button.codeview'',
    () => {\n      return this.button({\n        className: ''btn-codeview note-codeview-keep'',\n        contents:
    this.ui.icon(this.options.icons.code),\n        tooltip: this.lang.options.codeview,\n        click:
    this.context.createInvokeHandler(''codeview.toggle''),\n      }).render();\n    });\n\n    this.context.memo(''button.redo'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.redo),\n        tooltip:
    this.lang.history.redo + this.representShortcut(''redo''),\n        click: this.context.createInvokeHandler(''editor.redo''),\n      }).render();\n    });\n\n    this.context.memo(''button.undo'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.undo),\n        tooltip:
    this.lang.history.undo + this.representShortcut(''undo''),\n        click: this.context.createInvokeHandler(''editor.undo''),\n      }).render();\n    });\n\n    this.context.memo(''button.help'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.question),\n        tooltip:
    this.lang.options.help,\n        click: this.context.createInvokeHandler(''helpDialog.show''),\n      }).render();\n    });\n  }\n\n  /**\n   *
    image: [\n   *   [''imageResize'', [''resizeFull'', ''resizeHalf'', ''resizeQuarter'',
    ''resizeNone'']],\n   *   [''float'', [''floatLeft'', ''floatRight'', ''floatNone'']],\n   *   [''remove'',
    [''removeMedia'']],\n   * ],\n   */\n  addImagePopoverButtons() {\n    // Image
    Size Buttons\n    this.context.memo(''button.resizeFull'', () => {\n      return
    this.button({\n        contents: ''<span class=\"note-fontsize-10\">100%</span>'',\n        tooltip:
    this.lang.image.resizeFull,\n        click: this.context.createInvokeHandler(''editor.resize'',
    ''1''),\n      }).render();\n    });\n    this.context.memo(''button.resizeHalf'',
    () => {\n      return this.button({\n        contents: ''<span class=\"note-fontsize-10\">50%</span>'',\n        tooltip:
    this.lang.image.resizeHalf,\n        click: this.context.createInvokeHandler(''editor.resize'',
    ''0.5''),\n      }).render();\n    });\n    this.context.memo(''button.resizeQuarter'',
    () => {\n      return this.button({\n        contents: ''<span class=\"note-fontsize-10\">25%</span>'',\n        tooltip:
    this.lang.image.resizeQuarter,\n        click: this.context.createInvokeHandler(''editor.resize'',
    ''0.25''),\n      }).render();\n    });\n    this.context.memo(''button.resizeNone'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.rollback),\n        tooltip:
    this.lang.image.resizeNone,\n        click: this.context.createInvokeHandler(''editor.resize'',
    ''0''),\n      }).render();\n    });\n\n    // Float Buttons\n    this.context.memo(''button.floatLeft'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.floatLeft),\n        tooltip:
    this.lang.image.floatLeft,\n        click: this.context.createInvokeHandler(''editor.floatMe'',
    ''left''),\n      }).render();\n    });\n\n    this.context.memo(''button.floatRight'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.floatRight),\n        tooltip:
    this.lang.image.floatRight,\n        click: this.context.createInvokeHandler(''editor.floatMe'',
    ''right''),\n      }).render();\n    });\n\n    this.context.memo(''button.floatNone'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.rollback),\n        tooltip:
    this.lang.image.floatNone,\n        click: this.context.createInvokeHandler(''editor.floatMe'',
    ''none''),\n      }).render();\n    });\n\n    // Remove Buttons\n    this.context.memo(''button.removeMedia'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.trash),\n        tooltip:
    this.lang.image.remove,\n        click: this.context.createInvokeHandler(''editor.removeMedia''),\n      }).render();\n    });\n  }\n\n  addLinkPopoverButtons()
    {\n    this.context.memo(''button.linkDialogShow'', () => {\n      return this.button({\n        contents:
    this.ui.icon(this.options.icons.link),\n        tooltip: this.lang.link.edit,\n        click:
    this.context.createInvokeHandler(''linkDialog.show''),\n      }).render();\n    });\n\n    this.context.memo(''button.unlink'',
    () => {\n      return this.button({\n        contents: this.ui.icon(this.options.icons.unlink),\n        tooltip:
    this.lang.link.unlink,\n        click: this.context.createInvokeHandler(''editor.unlink''),\n      }).render();\n    });\n  }\n\n  /**\n   *
    table : [\n   *  [''add'', [''addRowDown'', ''addRowUp'', ''addColLeft'', ''addColRight'']],\n   *  [''delete'',
    [''deleteRow'', ''deleteCol'', ''deleteTable'']]\n   * ],\n   */\n  addTablePopoverButtons()
    {\n    this.context.memo(''button.addRowUp'', () => {\n      return this.button({\n        className:
    ''btn-md'',\n        contents: this.ui.icon(this.options.icons.rowAbove),\n        tooltip:
    this.lang.table.addRowAbove,\n        click: this.context.createInvokeHandler(''editor.addRow'',
    ''top''),\n      }).render();\n    });\n    this.context.memo(''button.addRowDown'',
    () => {\n      return this.button({\n        className: ''btn-md'',\n        contents:
    this.ui.icon(this.options.icons.rowBelow),\n        tooltip: this.lang.table.addRowBelow,\n        click:
    this.context.createInvokeHandler(''editor.addRow'', ''bottom''),\n      }).render();\n    });\n    this.context.memo(''button.addColLeft'',
    () => {\n      return this.button({\n        className: ''btn-md'',\n        contents:
    this.ui.icon(this.options.icons.colBefore),\n        tooltip: this.lang.table.addColLeft,\n        click:
    this.context.createInvokeHandler(''editor.addCol'', ''left''),\n      }).render();\n    });\n    this.context.memo(''button.addColRight'',
    () => {\n      return this.button({\n        className: ''btn-md'',\n        contents:
    this.ui.icon(this.options.icons.colAfter),\n        tooltip: this.lang.table.addColRight,\n        click:
    this.context.createInvokeHandler(''editor.addCol'', ''right''),\n      }).render();\n    });\n    this.context.memo(''button.deleteRow'',
    () => {\n      return this.button({\n        className: ''btn-md'',\n        contents:
    this.ui.icon(this.options.icons.rowRemove),\n        tooltip: this.lang.table.delRow,\n        click:
    this.context.createInvokeHandler(''editor.deleteRow''),\n      }).render();\n    });\n    this.context.memo(''button.deleteCol'',
    () => {\n      return this.button({\n        className: ''btn-md'',\n        contents:
    this.ui.icon(this.options.icons.colRemove),\n        tooltip: this.lang.table.delCol,\n        click:
    this.context.createInvokeHandler(''editor.deleteCol''),\n      }).render();\n    });\n    this.context.memo(''button.deleteTable'',
    () => {\n      return this.button({\n        className: ''btn-md'',\n        contents:
    this.ui.icon(this.options.icons.trash),\n        tooltip: this.lang.table.delTable,\n        click:
    this.context.createInvokeHandler(''editor.deleteTable''),\n      }).render();\n    });\n  }\n\n  build($container,
    groups) {\n    for (let groupIdx = 0, groupLen = groups.length; groupIdx < groupLen;
    groupIdx++) {\n      const group = groups[groupIdx];\n      const groupName =
    Array.isArray(group) ? group[0] : group;\n      const buttons = Array.isArray(group)
    ? ((group.length === 1) ? [group[0]] : group[1]) : [group];\n\n      const $group
    = this.ui.buttonGroup({\n        className: ''note-'' + groupName,\n      }).render();\n\n      for
    (let idx = 0, len = buttons.length; idx < len; idx++) {\n        const btn = this.context.memo(''button.''
    + buttons[idx]);\n        if (btn) {\n          $group.append(typeof btn === ''function''
    ? btn(this.context) : btn);\n        }\n      }\n      $group.appendTo($container);\n    }\n  }\n\n  /**\n   *
    @param {jQuery} [$container]\n   */\n  updateCurrentStyle($container) {\n    const
    $cont = $container || this.$toolbar;\n\n    const styleInfo = this.context.invoke(''editor.currentStyle'');\n    this.updateBtnStates($cont,
    {\n      ''.note-btn-bold'': () => {\n        return styleInfo[''font-bold'']
    === ''bold'';\n      },\n      ''.note-btn-italic'': () => {\n        return styleInfo[''font-italic'']
    === ''italic'';\n      },\n      ''.note-btn-underline'': () => {\n        return
    styleInfo[''font-underline''] === ''underline'';\n      },\n      ''.note-btn-subscript'':
    () => {\n        return styleInfo[''font-subscript''] === ''subscript'';\n      },\n      ''.note-btn-superscript'':
    () => {\n        return styleInfo[''font-superscript''] === ''superscript'';\n      },\n      ''.note-btn-strikethrough'':
    () => {\n        return styleInfo[''font-strikethrough''] === ''strikethrough'';\n      },\n    });\n\n    if
    (styleInfo[''font-family'']) {\n      const fontNames = styleInfo[''font-family''].split('','').map((name)
    => {\n        return name.replace(/[\\''\\\"]/g, '''')\n          .replace(/\\s+$/,
    '''')\n          .replace(/^\\s+/, '''');\n      });\n      const fontName = lists.find(fontNames,
    this.isFontInstalled.bind(this));\n\n      $cont.find(''.dropdown-fontname a'').each((idx,
    item) => {\n        const $item = $(item);\n        // always compare string to
    avoid creating another func.\n        const isChecked = ($item.data(''value'')
    + '''') === (fontName + '''');\n        $item.toggleClass(''checked'', isChecked);\n      });\n      $cont.find(''.note-current-fontname'').text(fontName).css(''font-family'',
    fontName);\n    }\n\n    if (styleInfo[''font-size'']) {\n      const fontSize
    = styleInfo[''font-size''];\n      $cont.find(''.dropdown-fontsize a'').each((idx,
    item) => {\n        const $item = $(item);\n        // always compare with string
    to avoid creating another func.\n        const isChecked = ($item.data(''value'')
    + '''') === (fontSize + '''');\n        $item.toggleClass(''checked'', isChecked);\n      });\n      $cont.find(''.note-current-fontsize'').text(fontSize);\n\n      const
    fontSizeUnit = styleInfo[''font-size-unit''];\n      $cont.find(''.dropdown-fontsizeunit
    a'').each((idx, item) => {\n        const $item = $(item);\n        const isChecked
    = ($item.data(''value'') + '''') === (fontSizeUnit + '''');\n        $item.toggleClass(''checked'',
    isChecked);\n      });\n      $cont.find(''.note-current-fontsizeunit'').text(fontSizeUnit);\n    }\n\n    if
    (styleInfo[''line-height'']) {\n      const lineHeight = styleInfo[''line-height''];\n      $cont.find(''.dropdown-line-height
    li a'').each((idx, item) => {\n        // always compare with string to avoid
    creating another func.\n        const isChecked = ($(item).data(''value'') + '''')
    === (lineHeight + '''');\n        this.className = isChecked ? ''checked'' : '''';\n      });\n    }\n  }\n\n  updateBtnStates($container,
    infos) {\n    $.each(infos, (selector, pred) => {\n      this.ui.toggleBtnActive($container.find(selector),
    pred());\n    });\n  }\n\n  tableMoveHandler(event) {\n    const PX_PER_EM = 18;\n    const
    $picker = $(event.target.parentNode); // target is mousecatcher\n    const $dimensionDisplay
    = $picker.next();\n    const $catcher = $picker.find(''.note-dimension-picker-mousecatcher'');\n    const
    $highlighted = $picker.find(''.note-dimension-picker-highlighted'');\n    const
    $unhighlighted = $picker.find(''.note-dimension-picker-unhighlighted'');\n\n    let
    posOffset;\n    // HTML5 with jQuery - e.offsetX is undefined in Firefox\n    if
    (event.offsetX === undefined) {\n      const posCatcher = $(event.target).offset();\n      posOffset
    = {\n        x: event.pageX - posCatcher.left,\n        y: event.pageY - posCatcher.top,\n      };\n    }
    else {\n      posOffset = {\n        x: event.offsetX,\n        y: event.offsetY,\n      };\n    }\n\n    const
    dim = {\n      c: Math.ceil(posOffset.x / PX_PER_EM) || 1,\n      r: Math.ceil(posOffset.y
    / PX_PER_EM) || 1,\n    };\n\n    $highlighted.css({ width: dim.c + ''em'', height:
    dim.r + ''em'' });\n    $catcher.data(''value'', dim.c + ''x'' + dim.r);\n\n    if
    (dim.c > 3 && dim.c < this.options.insertTableMaxSize.col) {\n      $unhighlighted.css({
    width: dim.c + 1 + ''em'' });\n    }\n\n    if (dim.r > 3 && dim.r < this.options.insertTableMaxSize.row)
    {\n      $unhighlighted.css({ height: dim.r + 1 + ''em'' });\n    }\n\n    $dimensionDisplay.html(dim.c
    + '' x '' + dim.r);\n  }\n}\n","import $ from ''jquery'';\nexport default class
    Toolbar {\n  constructor(context) {\n    this.context = context;\n\n    this.$window
    = $(window);\n    this.$document = $(document);\n\n    this.ui = $.summernote.ui;\n    this.$note
    = context.layoutInfo.note;\n    this.$editor = context.layoutInfo.editor;\n    this.$toolbar
    = context.layoutInfo.toolbar;\n    this.$editable = context.layoutInfo.editable;\n    this.$statusbar
    = context.layoutInfo.statusbar;\n    this.options = context.options;\n\n    this.isFollowing
    = false;\n    this.followScroll = this.followScroll.bind(this);\n  }\n\n  shouldInitialize()
    {\n    return !this.options.airMode;\n  }\n\n  initialize() {\n    this.options.toolbar
    = this.options.toolbar || [];\n\n    if (!this.options.toolbar.length) {\n      this.$toolbar.hide();\n    }
    else {\n      this.context.invoke(''buttons.build'', this.$toolbar, this.options.toolbar);\n    }\n\n    if
    (this.options.toolbarContainer) {\n      this.$toolbar.appendTo(this.options.toolbarContainer);\n    }\n\n    this.changeContainer(false);\n\n    this.$note.on(''summernote.keyup
    summernote.mouseup summernote.change'', () => {\n      this.context.invoke(''buttons.updateCurrentStyle'');\n    });\n\n    this.context.invoke(''buttons.updateCurrentStyle'');\n    if
    (this.options.followingToolbar) {\n      this.$window.on(''scroll resize'', this.followScroll);\n    }\n  }\n\n  destroy()
    {\n    this.$toolbar.children().remove();\n\n    if (this.options.followingToolbar)
    {\n      this.$window.off(''scroll resize'', this.followScroll);\n    }\n  }\n\n  followScroll()
    {\n    if (this.$editor.hasClass(''fullscreen'')) {\n      return false;\n    }\n\n    const
    editorHeight = this.$editor.outerHeight();\n    const editorWidth = this.$editor.width();\n    const
    toolbarHeight = this.$toolbar.height();\n    const statusbarHeight = this.$statusbar.height();\n\n    //
    check if the web app is currently using another static bar\n    let otherBarHeight
    = 0;\n    if (this.options.otherStaticBar) {\n      otherBarHeight = $(this.options.otherStaticBar).outerHeight();\n    }\n\n    const
    currentOffset = this.$document.scrollTop();\n    const editorOffsetTop = this.$editor.offset().top;\n    const
    editorOffsetBottom = editorOffsetTop + editorHeight;\n    const activateOffset
    = editorOffsetTop - otherBarHeight;\n    const deactivateOffsetBottom = editorOffsetBottom
    - otherBarHeight - toolbarHeight - statusbarHeight;\n\n    if (!this.isFollowing
    &&\n      (currentOffset > activateOffset) && (currentOffset < deactivateOffsetBottom
    - toolbarHeight)) {\n      this.isFollowing = true;\n      this.$editable.css({\n        marginTop:
    this.$toolbar.outerHeight(),\n      });\n      this.$toolbar.css({\n        position:
    ''fixed'',\n        top: otherBarHeight,\n        width: editorWidth,\n        zIndex:
    1000,\n      });\n    } else if (this.isFollowing &&\n      ((currentOffset <
    activateOffset) || (currentOffset > deactivateOffsetBottom))) {\n      this.isFollowing
    = false;\n      this.$toolbar.css({\n        position: ''relative'',\n        top:
    0,\n        width: ''100%'',\n        zIndex: ''auto'',\n      });\n      this.$editable.css({\n        marginTop:
    '''',\n      });\n    }\n  }\n\n  changeContainer(isFullscreen) {\n    if (isFullscreen)
    {\n      this.$toolbar.prependTo(this.$editor);\n    } else {\n      if (this.options.toolbarContainer)
    {\n        this.$toolbar.appendTo(this.options.toolbarContainer);\n      }\n    }\n    if
    (this.options.followingToolbar) {\n      this.followScroll();\n    }\n  }\n\n  updateFullscreen(isFullscreen)
    {\n    this.ui.toggleBtnActive(this.$toolbar.find(''.btn-fullscreen''), isFullscreen);\n\n    this.changeContainer(isFullscreen);\n  }\n\n  updateCodeview(isCodeview)
    {\n    this.ui.toggleBtnActive(this.$toolbar.find(''.btn-codeview''), isCodeview);\n    if
    (isCodeview) {\n      this.deactivate();\n    } else {\n      this.activate();\n    }\n  }\n\n  activate(isIncludeCodeview)
    {\n    let $btn = this.$toolbar.find(''button'');\n    if (!isIncludeCodeview)
    {\n      $btn = $btn.not(''.note-codeview-keep'');\n    }\n    this.ui.toggleBtn($btn,
    true);\n  }\n\n  deactivate(isIncludeCodeview) {\n    let $btn = this.$toolbar.find(''button'');\n    if
    (!isIncludeCodeview) {\n      $btn = $btn.not(''.note-codeview-keep'');\n    }\n    this.ui.toggleBtn($btn,
    false);\n  }\n}\n","import $ from ''jquery'';\nimport env from ''../core/env'';\nimport
    key from ''../core/key'';\nimport func from ''../core/func'';\n\nexport default
    class LinkDialog {\n  constructor(context) {\n    this.context = context;\n\n    this.ui
    = $.summernote.ui;\n    this.$body = $(document.body);\n    this.$editor = context.layoutInfo.editor;\n    this.options
    = context.options;\n    this.lang = this.options.langInfo;\n\n    context.memo(''help.linkDialog.show'',
    this.options.langInfo.help[''linkDialog.show'']);\n  }\n\n  initialize() {\n    const
    $container = this.options.dialogsInBody ? this.$body : this.options.container;\n    const
    body = [\n      ''<div class=\"form-group note-form-group\">'',\n        `<label
    for=\"note-dialog-link-txt-${this.options.id}\" class=\"note-form-label\">${this.lang.link.textToDisplay}</label>`,\n        `<input
    id=\"note-dialog-link-txt-${this.options.id}\" class=\"note-link-text form-control
    note-form-control note-input\" type=\"text\"/>`,\n      ''</div>'',\n      ''<div
    class=\"form-group note-form-group\">'',\n        `<label for=\"note-dialog-link-url-${this.options.id}\"
    class=\"note-form-label\">${this.lang.link.url}</label>`,\n        `<input id=\"note-dialog-link-url-${this.options.id}\"
    class=\"note-link-url form-control note-form-control note-input\" type=\"text\"
    value=\"http://\"/>`,\n      ''</div>'',\n      !this.options.disableLinkTarget\n        ?
    $(''<div/>'').append(this.ui.checkbox({\n          className: ''sn-checkbox-open-in-new-window'',\n          text:
    this.lang.link.openInNewWindow,\n          checked: true,\n        }).render()).html()\n        :
    '''',\n      $(''<div/>'').append(this.ui.checkbox({\n        className: ''sn-checkbox-use-protocol'',\n        text:
    this.lang.link.useProtocol,\n        checked: true,\n      }).render()).html(),\n    ].join('''');\n\n    const
    buttonClass = ''btn btn-primary note-btn note-btn-primary note-link-btn'';\n    const
    footer = `<input type=\"button\" href=\"#\" class=\"${buttonClass}\" value=\"${this.lang.link.insert}\"
    disabled>`;\n\n    this.$dialog = this.ui.dialog({\n      className: ''link-dialog'',\n      title:
    this.lang.link.insert,\n      fade: this.options.dialogsFade,\n      body: body,\n      footer:
    footer,\n    }).render().appendTo($container);\n  }\n\n  destroy() {\n    this.ui.hideDialog(this.$dialog);\n    this.$dialog.remove();\n  }\n\n  bindEnterKey($input,
    $btn) {\n    $input.on(''keypress'', (event) => {\n      if (event.keyCode ===
    key.code.ENTER) {\n        event.preventDefault();\n        $btn.trigger(''click'');\n      }\n    });\n  }\n\n  /**\n   *
    toggle update button\n   */\n  toggleLinkBtn($linkBtn, $linkText, $linkUrl) {\n    this.ui.toggleBtn($linkBtn,
    $linkText.val() && $linkUrl.val());\n  }\n\n  /**\n   * Show link dialog and set
    event handlers on dialog controls.\n   *\n   * @param {Object} linkInfo\n   *
    @return {Promise}\n   */\n  showLinkDialog(linkInfo) {\n    return $.Deferred((deferred)
    => {\n      const $linkText = this.$dialog.find(''.note-link-text'');\n      const
    $linkUrl = this.$dialog.find(''.note-link-url'');\n      const $linkBtn = this.$dialog.find(''.note-link-btn'');\n      const
    $openInNewWindow = this.$dialog\n        .find(''.sn-checkbox-open-in-new-window
    input[type=checkbox]'');\n      const $useProtocol = this.$dialog\n        .find(''.sn-checkbox-use-protocol
    input[type=checkbox]'');\n\n      this.ui.onDialogShown(this.$dialog, () => {\n        this.context.triggerEvent(''dialog.shown'');\n\n        //
    If no url was given and given text is valid URL then copy that into URL Field\n        if
    (!linkInfo.url && func.isValidUrl(linkInfo.text)) {\n          linkInfo.url =
    linkInfo.text;\n        }\n\n        $linkText.on(''input paste propertychange'',
    () => {\n          // If linktext was modified by input events,\n          //
    cloning text from linkUrl will be stopped.\n          linkInfo.text = $linkText.val();\n          this.toggleLinkBtn($linkBtn,
    $linkText, $linkUrl);\n        }).val(linkInfo.text);\n\n        $linkUrl.on(''input
    paste propertychange'', () => {\n          // Display same text on `Text to display`
    as default\n          // when linktext has no text\n          if (!linkInfo.text)
    {\n            $linkText.val($linkUrl.val());\n          }\n          this.toggleLinkBtn($linkBtn,
    $linkText, $linkUrl);\n        }).val(linkInfo.url);\n\n        if (!env.isSupportTouch)
    {\n          $linkUrl.trigger(''focus'');\n        }\n\n        this.toggleLinkBtn($linkBtn,
    $linkText, $linkUrl);\n        this.bindEnterKey($linkUrl, $linkBtn);\n        this.bindEnterKey($linkText,
    $linkBtn);\n\n        const isNewWindowChecked = linkInfo.isNewWindow !== undefined\n          ?
    linkInfo.isNewWindow : this.context.options.linkTargetBlank;\n\n        $openInNewWindow.prop(''checked'',
    isNewWindowChecked);\n\n        const useProtocolChecked = linkInfo.url\n          ?
    false : this.context.options.useProtocol;\n\n        $useProtocol.prop(''checked'',
    useProtocolChecked);\n\n        $linkBtn.one(''click'', (event) => {\n          event.preventDefault();\n\n          deferred.resolve({\n            range:
    linkInfo.range,\n            url: $linkUrl.val(),\n            text: $linkText.val(),\n            isNewWindow:
    $openInNewWindow.is('':checked''),\n            checkProtocol: $useProtocol.is('':checked''),\n          });\n          this.ui.hideDialog(this.$dialog);\n        });\n      });\n\n      this.ui.onDialogHidden(this.$dialog,
    () => {\n        // detach events\n        $linkText.off();\n        $linkUrl.off();\n        $linkBtn.off();\n\n        if
    (deferred.state() === ''pending'') {\n          deferred.reject();\n        }\n      });\n\n      this.ui.showDialog(this.$dialog);\n    }).promise();\n  }\n\n  /**\n   *
    @param {Object} layoutInfo\n   */\n  show() {\n    const linkInfo = this.context.invoke(''editor.getLinkInfo'');\n\n    this.context.invoke(''editor.saveRange'');\n    this.showLinkDialog(linkInfo).then((linkInfo)
    => {\n      this.context.invoke(''editor.restoreRange'');\n      this.context.invoke(''editor.createLink'',
    linkInfo);\n    }).fail(() => {\n      this.context.invoke(''editor.restoreRange'');\n    });\n  }\n}\n","import
    $ from ''jquery'';\nimport lists from ''../core/lists'';\nimport dom from ''../core/dom'';\n\nexport
    default class LinkPopover {\n  constructor(context) {\n    this.context = context;\n\n    this.ui
    = $.summernote.ui;\n    this.options = context.options;\n    this.events = {\n      ''summernote.keyup
    summernote.mouseup summernote.change summernote.scroll'': () => {\n        this.update();\n      },\n      ''summernote.disable
    summernote.dialog.shown summernote.blur'': () => {\n        this.hide();\n      },\n    };\n  }\n\n  shouldInitialize()
    {\n    return !lists.isEmpty(this.options.popover.link);\n  }\n\n  initialize()
    {\n    this.$popover = this.ui.popover({\n      className: ''note-link-popover'',\n      callback:
    ($node) => {\n        const $content = $node.find(''.popover-content,.note-popover-content'');\n        $content.prepend(''<span><a
    target=\"_blank\"></a>&nbsp;</span>'');\n      },\n    }).render().appendTo(this.options.container);\n    const
    $content = this.$popover.find(''.popover-content,.note-popover-content'');\n\n    this.context.invoke(''buttons.build'',
    $content, this.options.popover.link);\n\n    this.$popover.on(''mousedown'', (e)
    => { e.preventDefault(); });\n  }\n\n  destroy() {\n    this.$popover.remove();\n  }\n\n  update()
    {\n    // Prevent focusing on editable when invoke(''code'') is executed\n    if
    (!this.context.invoke(''editor.hasFocus'')) {\n      this.hide();\n      return;\n    }\n\n    const
    rng = this.context.invoke(''editor.getLastRange'');\n    if (rng.isCollapsed()
    && rng.isOnAnchor()) {\n      const anchor = dom.ancestor(rng.sc, dom.isAnchor);\n      const
    href = $(anchor).attr(''href'');\n      this.$popover.find(''a'').attr(''href'',
    href).text(href);\n\n      const pos = dom.posFromPlaceholder(anchor);\n      const
    containerOffset = $(this.options.container).offset();\n      pos.top -= containerOffset.top;\n      pos.left
    -= containerOffset.left;\n\n      this.$popover.css({\n        display: ''block'',\n        left:
    pos.left,\n        top: pos.top,\n      });\n    } else {\n      this.hide();\n    }\n  }\n\n  hide()
    {\n    this.$popover.hide();\n  }\n}\n","import $ from ''jquery'';\nimport env
    from ''../core/env'';\nimport key from ''../core/key'';\n\nexport default class
    ImageDialog {\n  constructor(context) {\n    this.context = context;\n    this.ui
    = $.summernote.ui;\n    this.$body = $(document.body);\n    this.$editor = context.layoutInfo.editor;\n    this.options
    = context.options;\n    this.lang = this.options.langInfo;\n  }\n\n  initialize()
    {\n    let imageLimitation = '''';\n    if (this.options.maximumImageFileSize)
    {\n      const unit = Math.floor(Math.log(this.options.maximumImageFileSize) /
    Math.log(1024));\n      const readableSize = (this.options.maximumImageFileSize
    / Math.pow(1024, unit)).toFixed(2) * 1 +\n                         '' '' + ''
    KMGTP''[unit] + ''B'';\n      imageLimitation = `<small>${this.lang.image.maximumFileSize
    + '' : '' + readableSize}</small>`;\n    }\n\n    const $container = this.options.dialogsInBody
    ? this.$body : this.options.container;\n    const body = [\n      ''<div class=\"form-group
    note-form-group note-group-select-from-files\">'',\n        ''<label for=\"note-dialog-image-file-''
    + this.options.id + ''\" class=\"note-form-label\">'' + this.lang.image.selectFromFiles
    + ''</label>'',\n        ''<input id=\"note-dialog-image-file-'' + this.options.id
    + ''\" class=\"note-image-input form-control-file note-form-control note-input\"
    '',\n        '' type=\"file\" name=\"files\" accept=\"image/*\" multiple=\"multiple\"/>'',\n        imageLimitation,\n      ''</div>'',\n      ''<div
    class=\"form-group note-group-image-url\">'',\n        ''<label for=\"note-dialog-image-url-''
    + this.options.id + ''\" class=\"note-form-label\">'' + this.lang.image.url +
    ''</label>'',\n        ''<input id=\"note-dialog-image-url-'' + this.options.id
    + ''\" class=\"note-image-url form-control note-form-control note-input\" type=\"text\"/>'',\n      ''</div>'',\n    ].join('''');\n    const
    buttonClass = ''btn btn-primary note-btn note-btn-primary note-image-btn'';\n    const
    footer = `<input type=\"button\" href=\"#\" class=\"${buttonClass}\" value=\"${this.lang.image.insert}\"
    disabled>`;\n\n    this.$dialog = this.ui.dialog({\n      title: this.lang.image.insert,\n      fade:
    this.options.dialogsFade,\n      body: body,\n      footer: footer,\n    }).render().appendTo($container);\n  }\n\n  destroy()
    {\n    this.ui.hideDialog(this.$dialog);\n    this.$dialog.remove();\n  }\n\n  bindEnterKey($input,
    $btn) {\n    $input.on(''keypress'', (event) => {\n      if (event.keyCode ===
    key.code.ENTER) {\n        event.preventDefault();\n        $btn.trigger(''click'');\n      }\n    });\n  }\n\n  show()
    {\n    this.context.invoke(''editor.saveRange'');\n    this.showImageDialog().then((data)
    => {\n      // [workaround] hide dialog before restore range for IE range focus\n      this.ui.hideDialog(this.$dialog);\n      this.context.invoke(''editor.restoreRange'');\n\n      if
    (typeof data === ''string'') { // image url\n        // If onImageLinkInsert set,\n        if
    (this.options.callbacks.onImageLinkInsert) {\n          this.context.triggerEvent(''image.link.insert'',
    data);\n        } else {\n          this.context.invoke(''editor.insertImage'',
    data);\n        }\n      } else { // array of files\n        this.context.invoke(''editor.insertImagesOrCallback'',
    data);\n      }\n    }).fail(() => {\n      this.context.invoke(''editor.restoreRange'');\n    });\n  }\n\n  /**\n   *
    show image dialog\n   *\n   * @param {jQuery} $dialog\n   * @return {Promise}\n   */\n  showImageDialog()
    {\n    return $.Deferred((deferred) => {\n      const $imageInput = this.$dialog.find(''.note-image-input'');\n      const
    $imageUrl = this.$dialog.find(''.note-image-url'');\n      const $imageBtn = this.$dialog.find(''.note-image-btn'');\n\n      this.ui.onDialogShown(this.$dialog,
    () => {\n        this.context.triggerEvent(''dialog.shown'');\n\n        // Cloning
    imageInput to clear element.\n        $imageInput.replaceWith($imageInput.clone().on(''change'',
    (event) => {\n          deferred.resolve(event.target.files || event.target.value);\n        }).val(''''));\n\n        $imageUrl.on(''input
    paste propertychange'', () => {\n          this.ui.toggleBtn($imageBtn, $imageUrl.val());\n        }).val('''');\n\n        if
    (!env.isSupportTouch) {\n          $imageUrl.trigger(''focus'');\n        }\n\n        $imageBtn.click((event)
    => {\n          event.preventDefault();\n          deferred.resolve($imageUrl.val());\n        });\n\n        this.bindEnterKey($imageUrl,
    $imageBtn);\n      });\n\n      this.ui.onDialogHidden(this.$dialog, () => {\n        $imageInput.off();\n        $imageUrl.off();\n        $imageBtn.off();\n\n        if
    (deferred.state() === ''pending'') {\n          deferred.reject();\n        }\n      });\n\n      this.ui.showDialog(this.$dialog);\n    });\n  }\n}\n","import
    $ from ''jquery'';\nimport lists from ''../core/lists'';\nimport dom from ''../core/dom'';\n\n/**\n
    * Image popover module\n *  mouse events that show/hide popover will be handled
    by Handle.js.\n *  Handle.js will receive the events and invoke ''imagePopover.update''.\n
    */\nexport default class ImagePopover {\n  constructor(context) {\n    this.context
    = context;\n    this.ui = $.summernote.ui;\n\n    this.editable = context.layoutInfo.editable[0];\n    this.options
    = context.options;\n\n    this.events = {\n      ''summernote.disable summernote.blur'':
    () => {\n        this.hide();\n      },\n    };\n  }\n\n  shouldInitialize() {\n    return
    !lists.isEmpty(this.options.popover.image);\n  }\n\n  initialize() {\n    this.$popover
    = this.ui.popover({\n      className: ''note-image-popover'',\n    }).render().appendTo(this.options.container);\n    const
    $content = this.$popover.find(''.popover-content,.note-popover-content'');\n    this.context.invoke(''buttons.build'',
    $content, this.options.popover.image);\n\n    this.$popover.on(''mousedown'',
    (e) => { e.preventDefault(); });\n  }\n\n  destroy() {\n    this.$popover.remove();\n  }\n\n  update(target,
    event) {\n    if (dom.isImg(target)) {\n      const position = $(target).offset();\n      const
    containerOffset = $(this.options.container).offset();\n      let pos = {};\n      if
    (this.options.popatmouse) {\n        pos.left = event.pageX - 20;\n        pos.top
    = event.pageY;\n      } else {\n        pos = position;\n      }\n      pos.top
    -= containerOffset.top;\n      pos.left -= containerOffset.left;\n\n      this.$popover.css({\n        display:
    ''block'',\n        left: pos.left,\n        top: pos.top,\n      });\n    } else
    {\n      this.hide();\n    }\n  }\n\n  hide() {\n    this.$popover.hide();\n  }\n}\n","import
    $ from ''jquery'';\nimport env from ''../core/env'';\nimport lists from ''../core/lists'';\nimport
    dom from ''../core/dom'';\n\nexport default class TablePopover {\n  constructor(context)
    {\n    this.context = context;\n\n    this.ui = $.summernote.ui;\n    this.options
    = context.options;\n    this.events = {\n      ''summernote.mousedown'': (we,
    e) => {\n        this.update(e.target);\n      },\n      ''summernote.keyup summernote.scroll
    summernote.change'': () => {\n        this.update();\n      },\n      ''summernote.disable
    summernote.blur'': () => {\n        this.hide();\n      },\n    };\n  }\n\n  shouldInitialize()
    {\n    return !lists.isEmpty(this.options.popover.table);\n  }\n\n  initialize()
    {\n    this.$popover = this.ui.popover({\n      className: ''note-table-popover'',\n    }).render().appendTo(this.options.container);\n    const
    $content = this.$popover.find(''.popover-content,.note-popover-content'');\n\n    this.context.invoke(''buttons.build'',
    $content, this.options.popover.table);\n\n    // [workaround] Disable Firefox''s
    default table editor\n    if (env.isFF) {\n      document.execCommand(''enableInlineTableEditing'',
    false, false);\n    }\n\n    this.$popover.on(''mousedown'', (e) => { e.preventDefault();
    });\n  }\n\n  destroy() {\n    this.$popover.remove();\n  }\n\n  update(target)
    {\n    if (this.context.isDisabled()) {\n      return false;\n    }\n\n    const
    isCell = dom.isCell(target);\n\n    if (isCell) {\n      const pos = dom.posFromPlaceholder(target);\n      const
    containerOffset = $(this.options.container).offset();\n      pos.top -= containerOffset.top;\n      pos.left
    -= containerOffset.left;\n\n      this.$popover.css({\n        display: ''block'',\n        left:
    pos.left,\n        top: pos.top,\n      });\n    } else {\n      this.hide();\n    }\n\n    return
    isCell;\n  }\n\n  hide() {\n    this.$popover.hide();\n  }\n}\n","import $ from
    ''jquery'';\nimport env from ''../core/env'';\nimport key from ''../core/key'';\n\nexport
    default class VideoDialog {\n  constructor(context) {\n    this.context = context;\n\n    this.ui
    = $.summernote.ui;\n    this.$body = $(document.body);\n    this.$editor = context.layoutInfo.editor;\n    this.options
    = context.options;\n    this.lang = this.options.langInfo;\n  }\n\n  initialize()
    {\n    const $container = this.options.dialogsInBody ? this.$body : this.options.container;\n    const
    body = [\n      ''<div class=\"form-group note-form-group row-fluid\">'',\n        `<label
    for=\"note-dialog-video-url-${this.options.id}\" class=\"note-form-label\">${this.lang.video.url}
    <small class=\"text-muted\">${this.lang.video.providers}</small></label>`,\n        `<input
    id=\"note-dialog-video-url-${this.options.id}\" class=\"note-video-url form-control
    note-form-control note-input\" type=\"text\"/>`,\n      ''</div>'',\n    ].join('''');\n    const
    buttonClass = ''btn btn-primary note-btn note-btn-primary note-video-btn'';\n    const
    footer = `<input type=\"button\" href=\"#\" class=\"${buttonClass}\" value=\"${this.lang.video.insert}\"
    disabled>`;\n\n    this.$dialog = this.ui.dialog({\n      title: this.lang.video.insert,\n      fade:
    this.options.dialogsFade,\n      body: body,\n      footer: footer,\n    }).render().appendTo($container);\n  }\n\n  destroy()
    {\n    this.ui.hideDialog(this.$dialog);\n    this.$dialog.remove();\n  }\n\n  bindEnterKey($input,
    $btn) {\n    $input.on(''keypress'', (event) => {\n      if (event.keyCode ===
    key.code.ENTER) {\n        event.preventDefault();\n        $btn.trigger(''click'');\n      }\n    });\n  }\n\n  createVideoNode(url)
    {\n    // video url patterns(youtube, instagram, vimeo, dailymotion, youku, mp4,
    ogg, webm)\n    const ytRegExp = /\\/\\/(?:(?:www|m)\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))([\\w|-]{11})(?:(?:[\\?&]t=)(\\S+))?$/;\n    const
    ytRegExpForStart = /^(?:(\\d+)h)?(?:(\\d+)m)?(?:(\\d+)s)?$/;\n    const ytMatch
    = url.match(ytRegExp);\n\n    const igRegExp = /(?:www\\.|\\/\\/)instagram\\.com\\/p\\/(.[a-zA-Z0-9_-]*)/;\n    const
    igMatch = url.match(igRegExp);\n\n    const vRegExp = /\\/\\/vine\\.co\\/v\\/([a-zA-Z0-9]+)/;\n    const
    vMatch = url.match(vRegExp);\n\n    const vimRegExp = /\\/\\/(player\\.)?vimeo\\.com\\/([a-z]*\\/)*(\\d+)[?]?.*/;\n    const
    vimMatch = url.match(vimRegExp);\n\n    const dmRegExp = /.+dailymotion.com\\/(video|hub)\\/([^_]+)[^#]*(#video=([^_&]+))?/;\n    const
    dmMatch = url.match(dmRegExp);\n\n    const youkuRegExp = /\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/;\n    const
    youkuMatch = url.match(youkuRegExp);\n\n    const qqRegExp = /\\/\\/v\\.qq\\.com.*?vid=(.+)/;\n    const
    qqMatch = url.match(qqRegExp);\n\n    const qqRegExp2 = /\\/\\/v\\.qq\\.com\\/x?\\/?(page|cover).*?\\/([^\\/]+)\\.html\\??.*/;\n    const
    qqMatch2 = url.match(qqRegExp2);\n\n    const mp4RegExp = /^.+.(mp4|m4v)$/;\n    const
    mp4Match = url.match(mp4RegExp);\n\n    const oggRegExp = /^.+.(ogg|ogv)$/;\n    const
    oggMatch = url.match(oggRegExp);\n\n    const webmRegExp = /^.+.(webm)$/;\n    const
    webmMatch = url.match(webmRegExp);\n\n    const fbRegExp = /(?:www\\.|\\/\\/)facebook\\.com\\/([^\\/]+)\\/videos\\/([0-9]+)/;\n    const
    fbMatch = url.match(fbRegExp);\n\n    let $video;\n    if (ytMatch && ytMatch[1].length
    === 11) {\n      const youtubeId = ytMatch[1];\n      var start = 0;\n      if
    (typeof ytMatch[2] !== ''undefined'') {\n        const ytMatchForStart = ytMatch[2].match(ytRegExpForStart);\n        if
    (ytMatchForStart) {\n          for (var n = [3600, 60, 1], i = 0, r = n.length;
    i < r; i++) {\n            start += (typeof ytMatchForStart[i + 1] !== ''undefined''
    ? n[i] * parseInt(ytMatchForStart[i + 1], 10) : 0);\n          }\n        }\n      }\n      $video
    = $(''<iframe>'')\n        .attr(''frameborder'', 0)\n        .attr(''src'', ''//www.youtube.com/embed/''
    + youtubeId + (start > 0 ? ''?start='' + start : ''''))\n        .attr(''width'',
    ''640'').attr(''height'', ''360'');\n    } else if (igMatch && igMatch[0].length)
    {\n      $video = $(''<iframe>'')\n        .attr(''frameborder'', 0)\n        .attr(''src'',
    ''https://instagram.com/p/'' + igMatch[1] + ''/embed/'')\n        .attr(''width'',
    ''612'').attr(''height'', ''710'')\n        .attr(''scrolling'', ''no'')\n        .attr(''allowtransparency'',
    ''true'');\n    } else if (vMatch && vMatch[0].length) {\n      $video = $(''<iframe>'')\n        .attr(''frameborder'',
    0)\n        .attr(''src'', vMatch[0] + ''/embed/simple'')\n        .attr(''width'',
    ''600'').attr(''height'', ''600'')\n        .attr(''class'', ''vine-embed'');\n    }
    else if (vimMatch && vimMatch[3].length) {\n      $video = $(''<iframe webkitallowfullscreen
    mozallowfullscreen allowfullscreen>'')\n        .attr(''frameborder'', 0)\n        .attr(''src'',
    ''//player.vimeo.com/video/'' + vimMatch[3])\n        .attr(''width'', ''640'').attr(''height'',
    ''360'');\n    } else if (dmMatch && dmMatch[2].length) {\n      $video = $(''<iframe>'')\n        .attr(''frameborder'',
    0)\n        .attr(''src'', ''//www.dailymotion.com/embed/video/'' + dmMatch[2])\n        .attr(''width'',
    ''640'').attr(''height'', ''360'');\n    } else if (youkuMatch && youkuMatch[1].length)
    {\n      $video = $(''<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>'')\n        .attr(''frameborder'',
    0)\n        .attr(''height'', ''498'')\n        .attr(''width'', ''510'')\n        .attr(''src'',
    ''//player.youku.com/embed/'' + youkuMatch[1]);\n    } else if ((qqMatch && qqMatch[1].length)
    || (qqMatch2 && qqMatch2[2].length)) {\n      const vid = ((qqMatch && qqMatch[1].length)
    ? qqMatch[1] : qqMatch2[2]);\n      $video = $(''<iframe webkitallowfullscreen
    mozallowfullscreen allowfullscreen>'')\n        .attr(''frameborder'', 0)\n        .attr(''height'',
    ''310'')\n        .attr(''width'', ''500'')\n        .attr(''src'', ''https://v.qq.com/txp/iframe/player.html?vid=''
    + vid + ''&amp;auto=0'');\n    } else if (mp4Match || oggMatch || webmMatch) {\n      $video
    = $(''<video controls>'')\n        .attr(''src'', url)\n        .attr(''width'',
    ''640'').attr(''height'', ''360'');\n    } else if (fbMatch && fbMatch[0].length)
    {\n      $video = $(''<iframe>'')\n        .attr(''frameborder'', 0)\n        .attr(''src'',
    ''https://www.facebook.com/plugins/video.php?href='' + encodeURIComponent(fbMatch[0])
    + ''&show_text=0&width=560'')\n        .attr(''width'', ''560'').attr(''height'',
    ''301'')\n        .attr(''scrolling'', ''no'')\n        .attr(''allowtransparency'',
    ''true'');\n    } else {\n      // this is not a known video link. Now what, Cat?
    Now what?\n      return false;\n    }\n\n    $video.addClass(''note-video-clip'');\n\n    return
    $video[0];\n  }\n\n  show() {\n    const text = this.context.invoke(''editor.getSelectedText'');\n    this.context.invoke(''editor.saveRange'');\n    this.showVideoDialog(text).then((url)
    => {\n      // [workaround] hide dialog before restore range for IE range focus\n      this.ui.hideDialog(this.$dialog);\n      this.context.invoke(''editor.restoreRange'');\n\n      //
    build node\n      const $node = this.createVideoNode(url);\n\n      if ($node)
    {\n        // insert video node\n        this.context.invoke(''editor.insertNode'',
    $node);\n      }\n    }).fail(() => {\n      this.context.invoke(''editor.restoreRange'');\n    });\n  }\n\n  /**\n   *
    show video dialog\n   *\n   * @param {jQuery} $dialog\n   * @return {Promise}\n   */\n  showVideoDialog(/*
    text */) {\n    return $.Deferred((deferred) => {\n      const $videoUrl = this.$dialog.find(''.note-video-url'');\n      const
    $videoBtn = this.$dialog.find(''.note-video-btn'');\n\n      this.ui.onDialogShown(this.$dialog,
    () => {\n        this.context.triggerEvent(''dialog.shown'');\n\n        $videoUrl.on(''input
    paste propertychange'', () => {\n          this.ui.toggleBtn($videoBtn, $videoUrl.val());\n        });\n\n        if
    (!env.isSupportTouch) {\n          $videoUrl.trigger(''focus'');\n        }\n\n        $videoBtn.click((event)
    => {\n          event.preventDefault();\n          deferred.resolve($videoUrl.val());\n        });\n\n        this.bindEnterKey($videoUrl,
    $videoBtn);\n      });\n\n      this.ui.onDialogHidden(this.$dialog, () => {\n        $videoUrl.off();\n        $videoBtn.off();\n\n        if
    (deferred.state() === ''pending'') {\n          deferred.reject();\n        }\n      });\n\n      this.ui.showDialog(this.$dialog);\n    });\n  }\n}\n","import
    $ from ''jquery'';\nimport env from ''../core/env'';\n\nexport default class HelpDialog
    {\n  constructor(context) {\n    this.context = context;\n\n    this.ui = $.summernote.ui;\n    this.$body
    = $(document.body);\n    this.$editor = context.layoutInfo.editor;\n    this.options
    = context.options;\n    this.lang = this.options.langInfo;\n  }\n\n  initialize()
    {\n    const $container = this.options.dialogsInBody ? this.$body : this.options.container;\n    const
    body = [\n      ''<p class=\"text-center\">'',\n        ''<a href=\"http://summernote.org/\"
    target=\"_blank\">Summernote @@VERSION@@</a> · '',\n        ''<a href=\"https://github.com/summernote/summernote\"
    target=\"_blank\">Project</a> · '',\n        ''<a href=\"https://github.com/summernote/summernote/issues\"
    target=\"_blank\">Issues</a>'',\n      ''</p>'',\n    ].join('''');\n\n    this.$dialog
    = this.ui.dialog({\n      title: this.lang.options.help,\n      fade: this.options.dialogsFade,\n      body:
    this.createShortcutList(),\n      footer: body,\n      callback: ($node) => {\n        $node.find(''.modal-body,.note-modal-body'').css({\n          ''max-height'':
    300,\n          ''overflow'': ''scroll'',\n        });\n      },\n    }).render().appendTo($container);\n  }\n\n  destroy()
    {\n    this.ui.hideDialog(this.$dialog);\n    this.$dialog.remove();\n  }\n\n  createShortcutList()
    {\n    const keyMap = this.options.keyMap[env.isMac ? ''mac'' : ''pc''];\n    return
    Object.keys(keyMap).map((key) => {\n      const command = keyMap[key];\n      const
    $row = $(''<div><div class=\"help-list-item\"></div></div>'');\n      $row.append($(''<label><kbd>''
    + key + ''</kdb></label>'').css({\n        ''width'': 180,\n        ''margin-right'':
    10,\n      })).append($(''<span/>'').html(this.context.memo(''help.'' + command)
    || command));\n      return $row.html();\n    }).join('''');\n  }\n\n  /**\n   *
    show help dialog\n   *\n   * @return {Promise}\n   */\n  showHelpDialog() {\n    return
    $.Deferred((deferred) => {\n      this.ui.onDialogShown(this.$dialog, () => {\n        this.context.triggerEvent(''dialog.shown'');\n        deferred.resolve();\n      });\n      this.ui.showDialog(this.$dialog);\n    }).promise();\n  }\n\n  show()
    {\n    this.context.invoke(''editor.saveRange'');\n    this.showHelpDialog().then(()
    => {\n      this.context.invoke(''editor.restoreRange'');\n    });\n  }\n}\n","import
    $ from ''jquery'';\nimport lists from ''../core/lists'';\n\nconst AIRMODE_POPOVER_X_OFFSET
    = -5;\nconst AIRMODE_POPOVER_Y_OFFSET = 5;\n\nexport default class AirPopover
    {\n  constructor(context) {\n    this.context = context;\n    this.ui = $.summernote.ui;\n    this.options
    = context.options;\n\n    this.hidable = true;\n    this.onContextmenu = false;\n    this.pageX
    = null;\n    this.pageY = null;\n\n    this.events = {\n      ''summernote.contextmenu'':
    (e) => {\n        if (this.options.editing) {\n          e.preventDefault();\n          e.stopPropagation();\n          this.onContextmenu
    = true;\n          this.update(true);\n        }\n      },\n      ''summernote.mousedown'':
    (we, e) => {\n        this.pageX = e.pageX;\n        this.pageY = e.pageY;\n      },\n      ''summernote.keyup
    summernote.mouseup summernote.scroll'': (we, e) => {\n        if (this.options.editing
    && !this.onContextmenu) {\n          this.pageX = e.pageX;\n          this.pageY
    = e.pageY;\n          this.update();\n        }\n        this.onContextmenu =
    false;\n      },\n      ''summernote.disable summernote.change summernote.dialog.shown
    summernote.blur'': () => {\n        this.hide();\n      },\n      ''summernote.focusout'':
    () => {\n        if (!this.$popover.is('':active,:focus'')) {\n          this.hide();\n        }\n      },\n    };\n  }\n\n  shouldInitialize()
    {\n    return this.options.airMode && !lists.isEmpty(this.options.popover.air);\n  }\n\n  initialize()
    {\n    this.$popover = this.ui.popover({\n      className: ''note-air-popover'',\n    }).render().appendTo(this.options.container);\n    const
    $content = this.$popover.find(''.popover-content'');\n\n    this.context.invoke(''buttons.build'',
    $content, this.options.popover.air);\n\n    // disable hiding this popover preemptively
    by ''summernote.blur'' event.\n    this.$popover.on(''mousedown'', () => { this.hidable
    = false; });\n    // (re-)enable hiding after ''summernote.blur'' has been handled
    (aka. ignored).\n    this.$popover.on(''mouseup'', () => { this.hidable = true;
    });\n  }\n\n  destroy() {\n    this.$popover.remove();\n  }\n\n  update(forcelyOpen)
    {\n    const styleInfo = this.context.invoke(''editor.currentStyle'');\n    if
    (styleInfo.range && (!styleInfo.range.isCollapsed() || forcelyOpen)) {\n      let
    rect = {\n        left: this.pageX,\n        top: this.pageY,\n      };\n\n      const
    containerOffset = $(this.options.container).offset();\n      rect.top -= containerOffset.top;\n      rect.left
    -= containerOffset.left;\n\n      this.$popover.css({\n        display: ''block'',\n        left:
    Math.max(rect.left, 0) + AIRMODE_POPOVER_X_OFFSET,\n        top: rect.top + AIRMODE_POPOVER_Y_OFFSET,\n      });\n      this.context.invoke(''buttons.updateCurrentStyle'',
    this.$popover);\n    } else {\n      this.hide();\n    }\n  }\n\n  updateCodeview(isCodeview)
    {\n    this.ui.toggleBtnActive(this.$popover.find(''.btn-codeview''), isCodeview);\n    if
    (isCodeview) {\n      this.hide();\n    } \n  }\n\n  hide() {\n    if (this.hidable)
    {\n      this.$popover.hide();\n    }\n  }\n}\n","import $ from ''jquery'';\nimport
    func from ''../core/func'';\nimport lists from ''../core/lists'';\nimport dom
    from ''../core/dom'';\nimport range from ''../core/range'';\nimport key from ''../core/key'';\n\nconst
    POPOVER_DIST = 5;\n\nexport default class HintPopover {\n  constructor(context)
    {\n    this.context = context;\n\n    this.ui = $.summernote.ui;\n    this.$editable
    = context.layoutInfo.editable;\n    this.options = context.options;\n    this.hint
    = this.options.hint || [];\n    this.direction = this.options.hintDirection ||
    ''bottom'';\n    this.hints = Array.isArray(this.hint) ? this.hint : [this.hint];\n\n    this.events
    = {\n      ''summernote.keyup'': (we, e) => {\n        if (!e.isDefaultPrevented())
    {\n          this.handleKeyup(e);\n        }\n      },\n      ''summernote.keydown'':
    (we, e) => {\n        this.handleKeydown(e);\n      },\n      ''summernote.disable
    summernote.dialog.shown summernote.blur'': () => {\n        this.hide();\n      },\n    };\n  }\n\n  shouldInitialize()
    {\n    return this.hints.length > 0;\n  }\n\n  initialize() {\n    this.lastWordRange
    = null;\n    this.matchingWord = null;\n    this.$popover = this.ui.popover({\n      className:
    ''note-hint-popover'',\n      hideArrow: true,\n      direction: '''',\n    }).render().appendTo(this.options.container);\n\n    this.$popover.hide();\n    this.$content
    = this.$popover.find(''.popover-content,.note-popover-content'');\n    this.$content.on(''click'',
    ''.note-hint-item'', (e) => {\n      this.$content.find(''.active'').removeClass(''active'');\n      $(e.currentTarget).addClass(''active'');\n      this.replace();\n    });\n\n    this.$popover.on(''mousedown'',
    (e) => { e.preventDefault(); });\n  }\n\n  destroy() {\n    this.$popover.remove();\n  }\n\n  selectItem($item)
    {\n    this.$content.find(''.active'').removeClass(''active'');\n    $item.addClass(''active'');\n\n    this.$content[0].scrollTop
    = $item[0].offsetTop - (this.$content.innerHeight() / 2);\n  }\n\n  moveDown()
    {\n    const $current = this.$content.find(''.note-hint-item.active'');\n    const
    $next = $current.next();\n\n    if ($next.length) {\n      this.selectItem($next);\n    }
    else {\n      let $nextGroup = $current.parent().next();\n\n      if (!$nextGroup.length)
    {\n        $nextGroup = this.$content.find(''.note-hint-group'').first();\n      }\n\n      this.selectItem($nextGroup.find(''.note-hint-item'').first());\n    }\n  }\n\n  moveUp()
    {\n    const $current = this.$content.find(''.note-hint-item.active'');\n    const
    $prev = $current.prev();\n\n    if ($prev.length) {\n      this.selectItem($prev);\n    }
    else {\n      let $prevGroup = $current.parent().prev();\n\n      if (!$prevGroup.length)
    {\n        $prevGroup = this.$content.find(''.note-hint-group'').last();\n      }\n\n      this.selectItem($prevGroup.find(''.note-hint-item'').last());\n    }\n  }\n\n  replace()
    {\n    const $item = this.$content.find(''.note-hint-item.active'');\n\n    if
    ($item.length) {\n      var node = this.nodeFromItem($item);\n      // If matchingWord
    length = 0 -> capture OK / open hint / but as mention capture \"\" (\\w*)\n      if
    (this.matchingWord !== null && this.matchingWord.length === 0) {\n        this.lastWordRange.so
    = this.lastWordRange.eo;\n      // Else si > 0 and normal case -> adjust range
    \"before\" for correct position of insertion\n      } else if (this.matchingWord
    !== null && this.matchingWord.length > 0 && !this.lastWordRange.isCollapsed())
    {\n        let rangeCompute = this.lastWordRange.eo - this.lastWordRange.so -
    this.matchingWord.length;\n        if (rangeCompute > 0) {\n          this.lastWordRange.so
    += rangeCompute;\n        }\n      }\n      this.lastWordRange.insertNode(node);\n\n      if
    (this.options.hintSelect === ''next'') {\n        var blank = document.createTextNode('''');\n        $(node).after(blank);\n        range.createFromNodeBefore(blank).select();\n      }
    else {\n        range.createFromNodeAfter(node).select();\n      }\n\n      this.lastWordRange
    = null;\n      this.hide();\n      this.context.invoke(''editor.focus'');\n    }\n  }\n\n  nodeFromItem($item)
    {\n    const hint = this.hints[$item.data(''index'')];\n    const item = $item.data(''item'');\n    let
    node = hint.content ? hint.content(item) : item;\n    if (typeof node === ''string'')
    {\n      node = dom.createText(node);\n    }\n    return node;\n  }\n\n  createItemTemplates(hintIdx,
    items) {\n    const hint = this.hints[hintIdx];\n    return items.map((item /*,
    idx */) => {\n      const $item = $(''<div class=\"note-hint-item\"/>'');\n      $item.append(hint.template
    ? hint.template(item) : item + '''');\n      $item.data({\n        ''index'':
    hintIdx,\n        ''item'': item,\n      });\n      return $item;\n    });\n  }\n\n  handleKeydown(e)
    {\n    if (!this.$popover.is('':visible'')) {\n      return;\n    }\n\n    if
    (e.keyCode === key.code.ENTER) {\n      e.preventDefault();\n      this.replace();\n    }
    else if (e.keyCode === key.code.UP) {\n      e.preventDefault();\n      this.moveUp();\n    }
    else if (e.keyCode === key.code.DOWN) {\n      e.preventDefault();\n      this.moveDown();\n    }\n  }\n\n  searchKeyword(index,
    keyword, callback) {\n    const hint = this.hints[index];\n    if (hint && hint.match.test(keyword)
    && hint.search) {\n      const matches = hint.match.exec(keyword);\n      this.matchingWord
    = matches[0];\n      hint.search(matches[1], callback);\n    } else {\n      callback();\n    }\n  }\n\n  createGroup(idx,
    keyword) {\n    const $group = $(''<div class=\"note-hint-group note-hint-group-''
    + idx + ''\"></div>'');\n    this.searchKeyword(idx, keyword, (items) => {\n      items
    = items || [];\n      if (items.length) {\n        $group.html(this.createItemTemplates(idx,
    items));\n        this.show();\n      }\n    });\n\n    return $group;\n  }\n\n  handleKeyup(e)
    {\n    if (!lists.contains([key.code.ENTER, key.code.UP, key.code.DOWN], e.keyCode))
    {\n      let range = this.context.invoke(''editor.getLastRange'');\n      let
    wordRange, keyword;\n      if (this.options.hintMode === ''words'') {\n        wordRange
    = range.getWordsRange(range);\n        keyword = wordRange.toString();\n\n        this.hints.forEach((hint)
    => {\n          if (hint.match.test(keyword)) {\n            wordRange = range.getWordsMatchRange(hint.match);\n            return
    false;\n          }\n        });\n\n        if (!wordRange) {\n          this.hide();\n          return;\n        }\n\n        keyword
    = wordRange.toString();\n      } else {\n        wordRange = range.getWordRange();\n        keyword
    = wordRange.toString();\n      }\n\n      if (this.hints.length && keyword) {\n        this.$content.empty();\n\n        const
    bnd = func.rect2bnd(lists.last(wordRange.getClientRects()));\n        const containerOffset
    = $(this.options.container).offset();\n        if (bnd) {\n          bnd.top -=
    containerOffset.top;\n          bnd.left -= containerOffset.left;\n\n          this.$popover.hide();\n          this.lastWordRange
    = wordRange;\n          this.hints.forEach((hint, idx) => {\n            if (hint.match.test(keyword))
    {\n              this.createGroup(idx, keyword).appendTo(this.$content);\n            }\n          });\n          //
    select first .note-hint-item\n          this.$content.find(''.note-hint-item:first'').addClass(''active'');\n\n          //
    set position for popover after group is created\n          if (this.direction
    === ''top'') {\n            this.$popover.css({\n              left: bnd.left,\n              top:
    bnd.top - this.$popover.outerHeight() - POPOVER_DIST,\n            });\n          }
    else {\n            this.$popover.css({\n              left: bnd.left,\n              top:
    bnd.top + bnd.height + POPOVER_DIST,\n            });\n          }\n        }\n      }
    else {\n        this.hide();\n      }\n    }\n  }\n\n  show() {\n    this.$popover.show();\n  }\n\n  hide()
    {\n    this.$popover.hide();\n  }\n}\n","import $ from ''jquery'';\nimport ''./summernote-en-US'';\nimport
    ''../summernote'';\nimport dom from ''./core/dom'';\nimport range from ''./core/range'';\nimport
    lists from ''./core/lists'';\nimport Editor from ''./module/Editor'';\nimport
    Clipboard from ''./module/Clipboard'';\nimport Dropzone from ''./module/Dropzone'';\nimport
    Codeview from ''./module/Codeview'';\nimport Statusbar from ''./module/Statusbar'';\nimport
    Fullscreen from ''./module/Fullscreen'';\nimport Handle from ''./module/Handle'';\nimport
    AutoLink from ''./module/AutoLink'';\nimport AutoSync from ''./module/AutoSync'';\nimport
    AutoReplace from ''./module/AutoReplace'';\nimport Placeholder from ''./module/Placeholder'';\nimport
    Buttons from ''./module/Buttons'';\nimport Toolbar from ''./module/Toolbar'';\nimport
    LinkDialog from ''./module/LinkDialog'';\nimport LinkPopover from ''./module/LinkPopover'';\nimport
    ImageDialog from ''./module/ImageDialog'';\nimport ImagePopover from ''./module/ImagePopover'';\nimport
    TablePopover from ''./module/TablePopover'';\nimport VideoDialog from ''./module/VideoDialog'';\nimport
    HelpDialog from ''./module/HelpDialog'';\nimport AirPopover from ''./module/AirPopover'';\nimport
    HintPopover from ''./module/HintPopover'';\n\n$.summernote = $.extend($.summernote,
    {\n  version: ''@@VERSION@@'',\n  plugins: {},\n\n  dom: dom,\n  range: range,\n  lists:
    lists,\n\n  options: {\n    langInfo: $.summernote.lang[''en-US''],\n    editing:
    true,\n    modules: {\n      ''editor'': Editor,\n      ''clipboard'': Clipboard,\n      ''dropzone'':
    Dropzone,\n      ''codeview'': Codeview,\n      ''statusbar'': Statusbar,\n      ''fullscreen'':
    Fullscreen,\n      ''handle'': Handle,\n      // FIXME: HintPopover must be front
    of autolink\n      //  - Script error about range when Enter key is pressed on
    hint popover\n      ''hintPopover'': HintPopover,\n      ''autoLink'': AutoLink,\n      ''autoSync'':
    AutoSync,\n      ''autoReplace'': AutoReplace,\n      ''placeholder'': Placeholder,\n      ''buttons'':
    Buttons,\n      ''toolbar'': Toolbar,\n      ''linkDialog'': LinkDialog,\n      ''linkPopover'':
    LinkPopover,\n      ''imageDialog'': ImageDialog,\n      ''imagePopover'': ImagePopover,\n      ''tablePopover'':
    TablePopover,\n      ''videoDialog'': VideoDialog,\n      ''helpDialog'': HelpDialog,\n      ''airPopover'':
    AirPopover,\n    },\n\n    buttons: {},\n\n    lang: ''en-US'',\n\n    followingToolbar:
    false,\n    toolbarPosition: ''top'',\n    otherStaticBar: '''',\n\n    // toolbar\n    codeviewKeepButton:
    false,\n    toolbar: [\n      [''style'', [''style'']],\n      [''font'', [''bold'',
    ''underline'', ''clear'']],\n      [''fontname'', [''fontname'']],\n      [''color'',
    [''color'']],\n      [''para'', [''ul'', ''ol'', ''paragraph'']],\n      [''table'',
    [''table'']],\n      [''insert'', [''link'', ''picture'', ''video'']],\n      [''view'',
    [''fullscreen'', ''codeview'', ''help'']],\n    ],\n\n    // popover\n    popatmouse:
    true,\n    popover: {\n      image: [\n        [''resize'', [''resizeFull'', ''resizeHalf'',
    ''resizeQuarter'', ''resizeNone'']],\n        [''float'', [''floatLeft'', ''floatRight'',
    ''floatNone'']],\n        [''remove'', [''removeMedia'']],\n      ],\n      link:
    [\n        [''link'', [''linkDialogShow'', ''unlink'']],\n      ],\n      table:
    [\n        [''add'', [''addRowDown'', ''addRowUp'', ''addColLeft'', ''addColRight'']],\n        [''delete'',
    [''deleteRow'', ''deleteCol'', ''deleteTable'']],\n      ],\n      air: [\n        [''color'',
    [''color'']],\n        [''font'', [''bold'', ''underline'', ''clear'']],\n        [''para'',
    [''ul'', ''paragraph'']],\n        [''table'', [''table'']],\n        [''insert'',
    [''link'', ''picture'']],\n        [''view'', [''fullscreen'', ''codeview'']],\n      ],\n    },\n\n    //
    air mode: inline editor\n    airMode: false,\n    overrideContextMenu: false,
    // TBD\n\n    width: null,\n    height: null,\n    linkTargetBlank: true,\n    useProtocol:
    true,\n    defaultProtocol: ''http://'',\n\n    focus: false,\n    tabDisabled:
    false,\n    tabSize: 4,\n    styleWithCSS: false,\n    shortcuts: true,\n    textareaAutoSync:
    true,\n    tooltip: ''auto'',\n    container: null,\n    maxTextLength: 0,\n    blockquoteBreakingLevel:
    2,\n    spellCheck: true,\n    disableGrammar: false,\n    placeholder: null,\n    inheritPlaceholder:
    false,\n    // TODO: need to be documented\n    recordEveryKeystroke: false,\n    historyLimit:
    200,\n\n    // TODO: need to be documented\n    showDomainOnlyForAutolink: false,\n\n    //
    TODO: need to be documented\n    hintMode: ''word'',\n    hintSelect: ''after'',\n    hintDirection:
    ''bottom'',\n\n    styleTags: [''p'', ''blockquote'', ''pre'', ''h1'', ''h2'',
    ''h3'', ''h4'', ''h5'', ''h6''],\n\n    fontNames: [\n      ''Arial'', ''Arial
    Black'', ''Comic Sans MS'', ''Courier New'',\n      ''Helvetica Neue'', ''Helvetica'',
    ''Impact'', ''Lucida Grande'',\n      ''Tahoma'', ''Times New Roman'', ''Verdana'',\n    ],\n    fontNamesIgnoreCheck:
    [],\n    addDefaultFonts: true,\n\n    fontSizes: [''8'', ''9'', ''10'', ''11'',
    ''12'', ''14'', ''18'', ''24'', ''36''],\n\n    fontSizeUnits: [''px'', ''pt''],\n\n    //
    pallete colors(n x n)\n    colors: [\n      [''#000000'', ''#424242'', ''#636363'',
    ''#9C9C94'', ''#CEC6CE'', ''#EFEFEF'', ''#F7F7F7'', ''#FFFFFF''],\n      [''#FF0000'',
    ''#FF9C00'', ''#FFFF00'', ''#00FF00'', ''#00FFFF'', ''#0000FF'', ''#9C00FF'',
    ''#FF00FF''],\n      [''#F7C6CE'', ''#FFE7CE'', ''#FFEFC6'', ''#D6EFD6'', ''#CEDEE7'',
    ''#CEE7F7'', ''#D6D6E7'', ''#E7D6DE''],\n      [''#E79C9C'', ''#FFC69C'', ''#FFE79C'',
    ''#B5D6A5'', ''#A5C6CE'', ''#9CC6EF'', ''#B5A5D6'', ''#D6A5BD''],\n      [''#E76363'',
    ''#F7AD6B'', ''#FFD663'', ''#94BD7B'', ''#73A5AD'', ''#6BADDE'', ''#8C7BC6'',
    ''#C67BA5''],\n      [''#CE0000'', ''#E79439'', ''#EFC631'', ''#6BA54A'', ''#4A7B8C'',
    ''#3984C6'', ''#634AA5'', ''#A54A7B''],\n      [''#9C0000'', ''#B56308'', ''#BD9400'',
    ''#397B21'', ''#104A5A'', ''#085294'', ''#311873'', ''#731842''],\n      [''#630000'',
    ''#7B3900'', ''#846300'', ''#295218'', ''#083139'', ''#003163'', ''#21104A'',
    ''#4A1031''],\n    ],\n\n    // http://chir.ag/projects/name-that-color/\n    colorsName:
    [\n      [''Black'', ''Tundora'', ''Dove Gray'', ''Star Dust'', ''Pale Slate'',
    ''Gallery'', ''Alabaster'', ''White''],\n      [''Red'', ''Orange Peel'', ''Yellow'',
    ''Green'', ''Cyan'', ''Blue'', ''Electric Violet'', ''Magenta''],\n      [''Azalea'',
    ''Karry'', ''Egg White'', ''Zanah'', ''Botticelli'', ''Tropical Blue'', ''Mischka'',
    ''Twilight''],\n      [''Tonys Pink'', ''Peach Orange'', ''Cream Brulee'', ''Sprout'',
    ''Casper'', ''Perano'', ''Cold Purple'', ''Careys Pink''],\n      [''Mandy'',
    ''Rajah'', ''Dandelion'', ''Olivine'', ''Gulf Stream'', ''Viking'', ''Blue Marguerite'',
    ''Puce''],\n      [''Guardsman Red'', ''Fire Bush'', ''Golden Dream'', ''Chelsea
    Cucumber'', ''Smalt Blue'', ''Boston Blue'', ''Butterfly Bush'', ''Cadillac''],\n      [''Sangria'',
    ''Mai Tai'', ''Buddha Gold'', ''Forest Green'', ''Eden'', ''Venice Blue'', ''Meteorite'',
    ''Claret''],\n      [''Rosewood'', ''Cinnamon'', ''Olive'', ''Parsley'', ''Tiber'',
    ''Midnight Blue'', ''Valentino'', ''Loulou''],\n    ],\n\n    colorButton: {\n      foreColor:
    ''#000000'',\n      backColor: ''#FFFF00'',\n    },\n\n    lineHeights: [''1.0'',
    ''1.2'', ''1.4'', ''1.5'', ''1.6'', ''1.8'', ''2.0'', ''3.0''],\n\n    tableClassName:
    ''table table-bordered'',\n\n    insertTableMaxSize: {\n      col: 10,\n      row:
    10,\n    },\n\n    // By default, dialogs are attached in container.\n    dialogsInBody:
    false,\n    dialogsFade: false,\n\n    maximumImageFileSize: null,\n\n    callbacks:
    {\n      onBeforeCommand: null,\n      onBlur: null,\n      onBlurCodeview: null,\n      onChange:
    null,\n      onChangeCodeview: null,\n      onDialogShown: null,\n      onEnter:
    null,\n      onFocus: null,\n      onImageLinkInsert: null,\n      onImageUpload:
    null,\n      onImageUploadError: null,\n      onInit: null,\n      onKeydown:
    null,\n      onKeyup: null,\n      onMousedown: null,\n      onMouseup: null,\n      onPaste:
    null,\n      onScroll: null,\n    },\n\n    codemirror: {\n      mode: ''text/html'',\n      htmlMode:
    true,\n      lineNumbers: true,\n    },\n\n    codeviewFilter: false,\n    codeviewFilterRegex:
    /<\\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,\n    codeviewIframeFilter:
    true,\n    codeviewIframeWhitelistSrc: [],\n    codeviewIframeWhitelistSrcBase:
    [\n      ''www.youtube.com'',\n      ''www.youtube-nocookie.com'',\n      ''www.facebook.com'',\n      ''vine.co'',\n      ''instagram.com'',\n      ''player.vimeo.com'',\n      ''www.dailymotion.com'',\n      ''player.youku.com'',\n      ''v.qq.com'',\n    ],\n\n    keyMap:
    {\n      pc: {\n        ''ESC'': ''escape'',\n        ''ENTER'': ''insertParagraph'',\n        ''CTRL+Z'':
    ''undo'',\n        ''CTRL+Y'': ''redo'',\n        ''TAB'': ''tab'',\n        ''SHIFT+TAB'':
    ''untab'',\n        ''CTRL+B'': ''bold'',\n        ''CTRL+I'': ''italic'',\n        ''CTRL+U'':
    ''underline'',\n        ''CTRL+SHIFT+S'': ''strikethrough'',\n        ''CTRL+BACKSLASH'':
    ''removeFormat'',\n        ''CTRL+SHIFT+L'': ''justifyLeft'',\n        ''CTRL+SHIFT+E'':
    ''justifyCenter'',\n        ''CTRL+SHIFT+R'': ''justifyRight'',\n        ''CTRL+SHIFT+J'':
    ''justifyFull'',\n        ''CTRL+SHIFT+NUM7'': ''insertUnorderedList'',\n        ''CTRL+SHIFT+NUM8'':
    ''insertOrderedList'',\n        ''CTRL+LEFTBRACKET'': ''outdent'',\n        ''CTRL+RIGHTBRACKET'':
    ''indent'',\n        ''CTRL+NUM0'': ''formatPara'',\n        ''CTRL+NUM1'': ''formatH1'',\n        ''CTRL+NUM2'':
    ''formatH2'',\n        ''CTRL+NUM3'': ''formatH3'',\n        ''CTRL+NUM4'': ''formatH4'',\n        ''CTRL+NUM5'':
    ''formatH5'',\n        ''CTRL+NUM6'': ''formatH6'',\n        ''CTRL+ENTER'': ''insertHorizontalRule'',\n        ''CTRL+K'':
    ''linkDialog.show'',\n      },\n\n      mac: {\n        ''ESC'': ''escape'',\n        ''ENTER'':
    ''insertParagraph'',\n        ''CMD+Z'': ''undo'',\n        ''CMD+SHIFT+Z'': ''redo'',\n        ''TAB'':
    ''tab'',\n        ''SHIFT+TAB'': ''untab'',\n        ''CMD+B'': ''bold'',\n        ''CMD+I'':
    ''italic'',\n        ''CMD+U'': ''underline'',\n        ''CMD+SHIFT+S'': ''strikethrough'',\n        ''CMD+BACKSLASH'':
    ''removeFormat'',\n        ''CMD+SHIFT+L'': ''justifyLeft'',\n        ''CMD+SHIFT+E'':
    ''justifyCenter'',\n        ''CMD+SHIFT+R'': ''justifyRight'',\n        ''CMD+SHIFT+J'':
    ''justifyFull'',\n        ''CMD+SHIFT+NUM7'': ''insertUnorderedList'',\n        ''CMD+SHIFT+NUM8'':
    ''insertOrderedList'',\n        ''CMD+LEFTBRACKET'': ''outdent'',\n        ''CMD+RIGHTBRACKET'':
    ''indent'',\n        ''CMD+NUM0'': ''formatPara'',\n        ''CMD+NUM1'': ''formatH1'',\n        ''CMD+NUM2'':
    ''formatH2'',\n        ''CMD+NUM3'': ''formatH3'',\n        ''CMD+NUM4'': ''formatH4'',\n        ''CMD+NUM5'':
    ''formatH5'',\n        ''CMD+NUM6'': ''formatH6'',\n        ''CMD+ENTER'': ''insertHorizontalRule'',\n        ''CMD+K'':
    ''linkDialog.show'',\n      },\n    },\n    icons: {\n      ''align'': ''note-icon-align'',\n      ''alignCenter'':
    ''note-icon-align-center'',\n      ''alignJustify'': ''note-icon-align-justify'',\n      ''alignLeft'':
    ''note-icon-align-left'',\n      ''alignRight'': ''note-icon-align-right'',\n      ''rowBelow'':
    ''note-icon-row-below'',\n      ''colBefore'': ''note-icon-col-before'',\n      ''colAfter'':
    ''note-icon-col-after'',\n      ''rowAbove'': ''note-icon-row-above'',\n      ''rowRemove'':
    ''note-icon-row-remove'',\n      ''colRemove'': ''note-icon-col-remove'',\n      ''indent'':
    ''note-icon-align-indent'',\n      ''outdent'': ''note-icon-align-outdent'',\n      ''arrowsAlt'':
    ''note-icon-arrows-alt'',\n      ''bold'': ''note-icon-bold'',\n      ''caret'':
    ''note-icon-caret'',\n      ''circle'': ''note-icon-circle'',\n      ''close'':
    ''note-icon-close'',\n      ''code'': ''note-icon-code'',\n      ''eraser'': ''note-icon-eraser'',\n      ''floatLeft'':
    ''note-icon-float-left'',\n      ''floatRight'': ''note-icon-float-right'',\n      ''font'':
    ''note-icon-font'',\n      ''frame'': ''note-icon-frame'',\n      ''italic'':
    ''note-icon-italic'',\n      ''link'': ''note-icon-link'',\n      ''unlink'':
    ''note-icon-chain-broken'',\n      ''magic'': ''note-icon-magic'',\n      ''menuCheck'':
    ''note-icon-menu-check'',\n      ''minus'': ''note-icon-minus'',\n      ''orderedlist'':
    ''note-icon-orderedlist'',\n      ''pencil'': ''note-icon-pencil'',\n      ''picture'':
    ''note-icon-picture'',\n      ''question'': ''note-icon-question'',\n      ''redo'':
    ''note-icon-redo'',\n      ''rollback'': ''note-icon-rollback'',\n      ''square'':
    ''note-icon-square'',\n      ''strikethrough'': ''note-icon-strikethrough'',\n      ''subscript'':
    ''note-icon-subscript'',\n      ''superscript'': ''note-icon-superscript'',\n      ''table'':
    ''note-icon-table'',\n      ''textHeight'': ''note-icon-text-height'',\n      ''trash'':
    ''note-icon-trash'',\n      ''underline'': ''note-icon-underline'',\n      ''undo'':
    ''note-icon-undo'',\n      ''unorderedlist'': ''note-icon-unorderedlist'',\n      ''video'':
    ''note-icon-video'',\n    },\n  },\n});\n","import $ from ''jquery'';\nimport
    renderer from ''../base/renderer'';\n\nconst editor = renderer.create(''<div class=\"note-editor
    note-frame panel panel-default\"/>'');\nconst toolbar = renderer.create(''<div
    class=\"panel-heading note-toolbar\" role=\"toolbar\"/>'');\nconst editingArea
    = renderer.create(''<div class=\"note-editing-area\"/>'');\nconst codable = renderer.create(''<textarea
    class=\"note-codable\" aria-multiline=\"true\"/>'');\nconst editable = renderer.create(''<div
    class=\"note-editable\" contentEditable=\"true\" role=\"textbox\" aria-multiline=\"true\"/>'');\nconst
    statusbar = renderer.create([\n  ''<output class=\"note-status-output\" role=\"status\"
    aria-live=\"polite\"></output>'',\n  ''<div class=\"note-statusbar\" role=\"status\">'',\n    ''<div
    class=\"note-resizebar\" aria-label=\"Resize\">'',\n      ''<div class=\"note-icon-bar\"></div>'',\n      ''<div
    class=\"note-icon-bar\"></div>'',\n      ''<div class=\"note-icon-bar\"></div>'',\n    ''</div>'',\n  ''</div>'',\n].join(''''));\n\nconst
    airEditor = renderer.create(''<div class=\"note-editor note-airframe\"/>'');\nconst
    airEditable = renderer.create([\n  ''<div class=\"note-editable\" contentEditable=\"true\"
    role=\"textbox\" aria-multiline=\"true\"></div>'',\n  ''<output class=\"note-status-output\"
    role=\"status\" aria-live=\"polite\"></output>'',\n].join(''''));\n\nconst buttonGroup
    = renderer.create(''<div class=\"note-btn-group btn-group\">'');\n\nconst dropdown
    = renderer.create(''<ul class=\"note-dropdown-menu dropdown-menu\">'', function($node,
    options) {\n  const markup = Array.isArray(options.items) ? options.items.map(function(item)
    {\n    const value = (typeof item === ''string'') ? item : (item.value || '''');\n    const
    content = options.template ? options.template(item) : item;\n    const option
    = (typeof item === ''object'') ? item.option : undefined;\n\n    const dataValue
    = ''data-value=\"'' + value + ''\"'';\n    const dataOption = (option !== undefined)
    ? '' data-option=\"'' + option + ''\"'' : '''';\n    return ''<li aria-label=\"''
    + value + ''\"><a href=\"#\" '' + (dataValue + dataOption) + ''>'' + content +
    ''</a></li>'';\n  }).join('''') : options.items;\n\n  $node.html(markup).attr({
    ''aria-label'': options.title });\n\n  if (options && options.codeviewKeepButton)
    {\n    $node.addClass(''note-codeview-keep'');\n  }\n});\n\nconst dropdownButtonContents
    = function(contents, options) {\n  return contents + '' '' + icon(options.icons.caret,
    ''span'');\n};\n\nconst dropdownCheck = renderer.create(''<ul class=\"note-dropdown-menu
    dropdown-menu note-check\">'', function($node, options) {\n  const markup = Array.isArray(options.items)
    ? options.items.map(function(item) {\n    const value = (typeof item === ''string'')
    ? item : (item.value || '''');\n    const content = options.template ? options.template(item)
    : item;\n    return ''<li aria-label=\"'' + item + ''\"><a href=\"#\" data-value=\"''
    + value + ''\">'' + icon(options.checkClassName) + '' '' + content + ''</a></li>'';\n  }).join('''')
    : options.items;\n  $node.html(markup).attr({ ''aria-label'': options.title });\n\n  if
    (options && options.codeviewKeepButton) {\n    $node.addClass(''note-codeview-keep'');\n  }\n});\n\nconst
    dialog = renderer.create(''<div class=\"modal note-modal\" aria-hidden=\"false\"
    tabindex=\"-1\" role=\"dialog\"/>'', function($node, options) {\n  if (options.fade)
    {\n    $node.addClass(''fade'');\n  }\n  $node.attr({\n    ''aria-label'': options.title,\n  });\n  $node.html([\n    ''<div
    class=\"modal-dialog\">'',\n      ''<div class=\"modal-content\">'',\n        (options.title
    ? ''<div class=\"modal-header\">'' +\n          ''<button type=\"button\" class=\"close\"
    data-dismiss=\"modal\" aria-label=\"Close\" aria-hidden=\"true\">&times;</button>''
    +\n          ''<h4 class=\"modal-title\">'' + options.title + ''</h4>'' +\n        ''</div>''
    : ''''),\n        ''<div class=\"modal-body\">'' + options.body + ''</div>'',\n        (options.footer
    ? ''<div class=\"modal-footer\">'' + options.footer + ''</div>'' : ''''),\n      ''</div>'',\n    ''</div>'',\n  ].join(''''));\n});\n\nconst
    popover = renderer.create([\n  ''<div class=\"note-popover popover in\">'',\n    ''<div
    class=\"arrow\"></div>'',\n    ''<div class=\"popover-content note-children-container\"></div>'',\n  ''</div>'',\n].join(''''),
    function($node, options) {\n  const direction = typeof options.direction !== ''undefined''
    ? options.direction : ''bottom'';\n\n  $node.addClass(direction);\n\n  if (options.hideArrow)
    {\n    $node.find(''.arrow'').hide();\n  }\n});\n\nconst checkbox = renderer.create(''<div
    class=\"checkbox\"></div>'', function($node, options) {\n  $node.html([\n    ''<label''
    + (options.id ? '' for=\"note-'' + options.id + ''\"'' : '''') + ''>'',\n      ''<input
    type=\"checkbox\"'' + (options.id ? '' id=\"note-'' + options.id + ''\"'' : ''''),\n        (options.checked
    ? '' checked'' : ''''),\n        '' aria-checked=\"'' + (options.checked ? ''true''
    : ''false'') + ''\"/>'',\n      (options.text ? options.text : ''''),\n    ''</label>'',\n  ].join(''''));\n});\n\nconst
    icon = function(iconClassName, tagName) {\n  tagName = tagName || ''i'';\n  return
    ''<'' + tagName + '' class=\"'' + iconClassName + ''\"></'' + tagName+''>'';\n};\n\nconst
    ui = function(editorOptions) {\n  return {\n    editor: editor,\n    toolbar:
    toolbar,\n    editingArea: editingArea,\n    codable: codable,\n    editable:
    editable,\n    statusbar: statusbar,\n    airEditor: airEditor,\n    airEditable:
    airEditable,\n    buttonGroup: buttonGroup,\n    dropdown: dropdown,\n    dropdownButtonContents:
    dropdownButtonContents,\n    dropdownCheck: dropdownCheck,\n    dialog: dialog,\n    popover:
    popover,\n    checkbox: checkbox,\n    icon: icon,\n    options: editorOptions,\n\n    palette:
    function($node, options) {\n      return renderer.create(''<div class=\"note-color-palette\"/>'',
    function($node, options) {\n        const contents = [];\n        for (let row
    = 0, rowSize = options.colors.length; row < rowSize; row++) {\n          const
    eventName = options.eventName;\n          const colors = options.colors[row];\n          const
    colorsName = options.colorsName[row];\n          const buttons = [];\n          for
    (let col = 0, colSize = colors.length; col < colSize; col++) {\n            const
    color = colors[col];\n            const colorName = colorsName[col];\n            buttons.push([\n              ''<button
    type=\"button\" class=\"note-color-btn\"'',\n              ''style=\"background-color:'',
    color, ''\" '',\n              ''data-event=\"'', eventName, ''\" '',\n              ''data-value=\"'',
    color, ''\" '',\n              ''title=\"'', colorName, ''\" '',\n              ''aria-label=\"'',
    colorName, ''\" '',\n              ''data-toggle=\"button\" tabindex=\"-1\"></button>'',\n            ].join(''''));\n          }\n          contents.push(''<div
    class=\"note-color-row\">'' + buttons.join('''') + ''</div>'');\n        }\n        $node.html(contents.join(''''));\n\n        if
    (options.tooltip) {\n          $node.find(''.note-color-btn'').tooltip({\n            container:
    options.container || editorOptions.container,\n            trigger: ''hover'',\n            placement:
    ''bottom'',\n          });\n        }\n      })($node, options);\n    },\n\n    button:
    function($node, options) {\n      return renderer.create(''<button type=\"button\"
    class=\"note-btn btn btn-default btn-sm\" tabindex=\"-1\">'', function($node,
    options) {\n        if (options && options.tooltip) {\n          $node.attr({\n            title:
    options.tooltip,\n            ''aria-label'': options.tooltip,\n          }).tooltip({\n            container:
    options.container || editorOptions.container,\n            trigger: ''hover'',\n            placement:
    ''bottom'',\n          }).on(''click'', (e) => {\n            $(e.currentTarget).tooltip(''hide'');\n          });\n        }\n        if
    (options && options.codeviewButton) {\n          $node.addClass(''note-codeview-keep'');\n        }\n      })($node,
    options);\n    },\n\n    toggleBtn: function($btn, isEnable) {\n      $btn.toggleClass(''disabled'',
    !isEnable);\n      $btn.attr(''disabled'', !isEnable);\n    },\n\n    toggleBtnActive:
    function($btn, isActive) {\n      $btn.toggleClass(''active'', isActive);\n    },\n\n    onDialogShown:
    function($dialog, handler) {\n      $dialog.one(''shown.bs.modal'', handler);\n    },\n\n    onDialogHidden:
    function($dialog, handler) {\n      $dialog.one(''hidden.bs.modal'', handler);\n    },\n\n    showDialog:
    function($dialog) {\n      $dialog.modal(''show'');\n    },\n\n    hideDialog:
    function($dialog) {\n      $dialog.modal(''hide'');\n    },\n\n    createLayout:
    function($note) {\n      const $editor = (editorOptions.airMode ? airEditor([\n        editingArea([\n          codable(),\n          airEditable(),\n        ]),\n      ])
    : (editorOptions.toolbarPosition === ''bottom''\n        ? editor([\n          editingArea([\n            codable(),\n            editable(),\n          ]),\n          toolbar(),\n          statusbar(),\n        ])\n        :
    editor([\n          toolbar(),\n          editingArea([\n            codable(),\n            editable(),\n          ]),\n          statusbar(),\n        ])\n      )).render();\n\n      $editor.insertAfter($note);\n\n      return
    {\n        note: $note,\n        editor: $editor,\n        toolbar: $editor.find(''.note-toolbar''),\n        editingArea:
    $editor.find(''.note-editing-area''),\n        editable: $editor.find(''.note-editable''),\n        codable:
    $editor.find(''.note-codable''),\n        statusbar: $editor.find(''.note-statusbar''),\n      };\n    },\n\n    removeLayout:
    function($note, layoutInfo) {\n      $note.html(layoutInfo.editable.html());\n      layoutInfo.editor.remove();\n      $note.show();\n    },\n  };\n};\n\nexport
    default ui;\n","import $ from ''jquery'';\nimport ui from ''./ui'';\nimport ''../base/settings.js'';\n\nimport
    ''../../styles/summernote-bs3.scss'';\n\n$.summernote = $.extend($.summernote,
    {\n  ui_template: ui,\n  interface: ''bs3'',\n});\n"],"sourceRoot":""}'
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: php-code-content-80
