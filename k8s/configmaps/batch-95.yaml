apiVersion: v1
data:
  uploads-admin-Public-Admin-plugins-datatables-bs4-css-dataTables.bootstrap4.css: |
    @charset "UTF-8";
    td.dt-control {
      background: url("https://www.datatables.net/examples/resources/details_open.png") no-repeat center center;
      cursor: pointer;
    }

    tr.dt-hasChild td.dt-control {
      background: url("https://www.datatables.net/examples/resources/details_close.png") no-repeat center center;
    }

    table.dataTable th.dt-left,
    table.dataTable td.dt-left {
      text-align: left;
    }
    table.dataTable th.dt-center,
    table.dataTable td.dt-center,
    table.dataTable td.dataTables_empty {
      text-align: center;
    }
    table.dataTable th.dt-right,
    table.dataTable td.dt-right {
      text-align: right;
    }
    table.dataTable th.dt-justify,
    table.dataTable td.dt-justify {
      text-align: justify;
    }
    table.dataTable th.dt-nowrap,
    table.dataTable td.dt-nowrap {
      white-space: nowrap;
    }
    table.dataTable thead th.dt-head-left,
    table.dataTable thead td.dt-head-left,
    table.dataTable tfoot th.dt-head-left,
    table.dataTable tfoot td.dt-head-left {
      text-align: left;
    }
    table.dataTable thead th.dt-head-center,
    table.dataTable thead td.dt-head-center,
    table.dataTable tfoot th.dt-head-center,
    table.dataTable tfoot td.dt-head-center {
      text-align: center;
    }
    table.dataTable thead th.dt-head-right,
    table.dataTable thead td.dt-head-right,
    table.dataTable tfoot th.dt-head-right,
    table.dataTable tfoot td.dt-head-right {
      text-align: right;
    }
    table.dataTable thead th.dt-head-justify,
    table.dataTable thead td.dt-head-justify,
    table.dataTable tfoot th.dt-head-justify,
    table.dataTable tfoot td.dt-head-justify {
      text-align: justify;
    }
    table.dataTable thead th.dt-head-nowrap,
    table.dataTable thead td.dt-head-nowrap,
    table.dataTable tfoot th.dt-head-nowrap,
    table.dataTable tfoot td.dt-head-nowrap {
      white-space: nowrap;
    }
    table.dataTable tbody th.dt-body-left,
    table.dataTable tbody td.dt-body-left {
      text-align: left;
    }
    table.dataTable tbody th.dt-body-center,
    table.dataTable tbody td.dt-body-center {
      text-align: center;
    }
    table.dataTable tbody th.dt-body-right,
    table.dataTable tbody td.dt-body-right {
      text-align: right;
    }
    table.dataTable tbody th.dt-body-justify,
    table.dataTable tbody td.dt-body-justify {
      text-align: justify;
    }
    table.dataTable tbody th.dt-body-nowrap,
    table.dataTable tbody td.dt-body-nowrap {
      white-space: nowrap;
    }

    table.dataTable {
      clear: both;
      margin-top: 6px !important;
      margin-bottom: 6px !important;
      max-width: none !important;
      border-collapse: separate !important;
      border-spacing: 0;
    }
    table.dataTable td,
    table.dataTable th {
      -webkit-box-sizing: content-box;
      box-sizing: content-box;
    }
    table.dataTable td.dataTables_empty,
    table.dataTable th.dataTables_empty {
      text-align: center;
    }
    table.dataTable.nowrap th,
    table.dataTable.nowrap td {
      white-space: nowrap;
    }

    div.dataTables_wrapper div.dataTables_length label {
      font-weight: normal;
      text-align: left;
      white-space: nowrap;
    }
    div.dataTables_wrapper div.dataTables_length select {
      width: auto;
      display: inline-block;
    }
    div.dataTables_wrapper div.dataTables_filter {
      text-align: right;
    }
    div.dataTables_wrapper div.dataTables_filter label {
      font-weight: normal;
      white-space: nowrap;
      text-align: left;
    }
    div.dataTables_wrapper div.dataTables_filter input {
      margin-left: 0.5em;
      display: inline-block;
      width: auto;
    }
    div.dataTables_wrapper div.dataTables_info {
      padding-top: 0.85em;
    }
    div.dataTables_wrapper div.dataTables_paginate {
      margin: 0;
      white-space: nowrap;
      text-align: right;
    }
    div.dataTables_wrapper div.dataTables_paginate ul.pagination {
      margin: 2px 0;
      white-space: nowrap;
      justify-content: flex-end;
    }
    div.dataTables_wrapper div.dataTables_processing {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 200px;
      margin-left: -100px;
      margin-top: -26px;
      text-align: center;
      padding: 1em 0;
    }

    table.dataTable > thead > tr > th:active,
    table.dataTable > thead > tr > td:active {
      outline: none;
    }
    table.dataTable > thead > tr > th:not(.sorting_disabled),
    table.dataTable > thead > tr > td:not(.sorting_disabled) {
      padding-right: 30px;
    }
    table.dataTable > thead .sorting,
    table.dataTable > thead .sorting_asc,
    table.dataTable > thead .sorting_desc,
    table.dataTable > thead .sorting_asc_disabled,
    table.dataTable > thead .sorting_desc_disabled {
      cursor: pointer;
      position: relative;
    }
    table.dataTable > thead .sorting:before, table.dataTable > thead .sorting:after,
    table.dataTable > thead .sorting_asc:before,
    table.dataTable > thead .sorting_asc:after,
    table.dataTable > thead .sorting_desc:before,
    table.dataTable > thead .sorting_desc:after,
    table.dataTable > thead .sorting_asc_disabled:before,
    table.dataTable > thead .sorting_asc_disabled:after,
    table.dataTable > thead .sorting_desc_disabled:before,
    table.dataTable > thead .sorting_desc_disabled:after {
      position: absolute;
      bottom: 0.9em;
      display: block;
      opacity: 0.3;
    }
    table.dataTable > thead .sorting:before,
    table.dataTable > thead .sorting_asc:before,
    table.dataTable > thead .sorting_desc:before,
    table.dataTable > thead .sorting_asc_disabled:before,
    table.dataTable > thead .sorting_desc_disabled:before {
      right: 1em;
      content: "↑";
    }
    table.dataTable > thead .sorting:after,
    table.dataTable > thead .sorting_asc:after,
    table.dataTable > thead .sorting_desc:after,
    table.dataTable > thead .sorting_asc_disabled:after,
    table.dataTable > thead .sorting_desc_disabled:after {
      right: 0.5em;
      content: "↓";
    }
    table.dataTable > thead .sorting_asc:before,
    table.dataTable > thead .sorting_desc:after {
      opacity: 1;
    }
    table.dataTable > thead .sorting_asc_disabled:before,
    table.dataTable > thead .sorting_desc_disabled:after {
      opacity: 0;
    }

    div.dataTables_scrollHead table.dataTable {
      margin-bottom: 0 !important;
    }

    div.dataTables_scrollBody > table {
      border-top: none;
      margin-top: 0 !important;
      margin-bottom: 0 !important;
    }
    div.dataTables_scrollBody > table > thead .sorting:before,
    div.dataTables_scrollBody > table > thead .sorting_asc:before,
    div.dataTables_scrollBody > table > thead .sorting_desc:before,
    div.dataTables_scrollBody > table > thead .sorting:after,
    div.dataTables_scrollBody > table > thead .sorting_asc:after,
    div.dataTables_scrollBody > table > thead .sorting_desc:after {
      display: none;
    }
    div.dataTables_scrollBody > table > tbody tr:first-child th,
    div.dataTables_scrollBody > table > tbody tr:first-child td {
      border-top: none;
    }

    div.dataTables_scrollFoot > .dataTables_scrollFootInner {
      box-sizing: content-box;
    }
    div.dataTables_scrollFoot > .dataTables_scrollFootInner > table {
      margin-top: 0 !important;
      border-top: none;
    }

    @media screen and (max-width: 767px) {
      div.dataTables_wrapper div.dataTables_length,
    div.dataTables_wrapper div.dataTables_filter,
    div.dataTables_wrapper div.dataTables_info,
    div.dataTables_wrapper div.dataTables_paginate {
        text-align: center;
      }
      div.dataTables_wrapper div.dataTables_paginate ul.pagination {
        justify-content: center !important;
      }
    }
    table.dataTable.table-sm > thead > tr > th:not(.sorting_disabled) {
      padding-right: 20px;
    }
    table.dataTable.table-sm .sorting:before,
    table.dataTable.table-sm .sorting_asc:before,
    table.dataTable.table-sm .sorting_desc:before {
      top: 5px;
      right: 0.85em;
    }
    table.dataTable.table-sm .sorting:after,
    table.dataTable.table-sm .sorting_asc:after,
    table.dataTable.table-sm .sorting_desc:after {
      top: 5px;
    }

    table.table-bordered.dataTable {
      border-right-width: 0;
    }
    table.table-bordered.dataTable th,
    table.table-bordered.dataTable td {
      border-left-width: 0;
    }
    table.table-bordered.dataTable th:last-child, table.table-bordered.dataTable th:last-child,
    table.table-bordered.dataTable td:last-child,
    table.table-bordered.dataTable td:last-child {
      border-right-width: 1px;
    }
    table.table-bordered.dataTable tbody th,
    table.table-bordered.dataTable tbody td {
      border-bottom-width: 0;
    }

    div.dataTables_scrollHead table.table-bordered {
      border-bottom-width: 0;
    }

    div.table-responsive > div.dataTables_wrapper > div.row {
      margin: 0;
    }
    div.table-responsive > div.dataTables_wrapper > div.row > div[class^=col-]:first-child {
      padding-left: 0;
    }
    div.table-responsive > div.dataTables_wrapper > div.row > div[class^=col-]:last-child {
      padding-right: 0;
    }
  uploads-admin-Public-Admin-plugins-datatables-bs4-css-dataTables.bootstrap4.min.css: |
    td.dt-control{background:url("https://www.datatables.net/examples/resources/details_open.png") no-repeat center center;cursor:pointer}tr.dt-hasChild td.dt-control{background:url("https://www.datatables.net/examples/resources/details_close.png") no-repeat center center}table.dataTable th.dt-left,table.dataTable td.dt-left{text-align:left}table.dataTable th.dt-center,table.dataTable td.dt-center,table.dataTable td.dataTables_empty{text-align:center}table.dataTable th.dt-right,table.dataTable td.dt-right{text-align:right}table.dataTable th.dt-justify,table.dataTable td.dt-justify{text-align:justify}table.dataTable th.dt-nowrap,table.dataTable td.dt-nowrap{white-space:nowrap}table.dataTable thead th.dt-head-left,table.dataTable thead td.dt-head-left,table.dataTable tfoot th.dt-head-left,table.dataTable tfoot td.dt-head-left{text-align:left}table.dataTable thead th.dt-head-center,table.dataTable thead td.dt-head-center,table.dataTable tfoot th.dt-head-center,table.dataTable tfoot td.dt-head-center{text-align:center}table.dataTable thead th.dt-head-right,table.dataTable thead td.dt-head-right,table.dataTable tfoot th.dt-head-right,table.dataTable tfoot td.dt-head-right{text-align:right}table.dataTable thead th.dt-head-justify,table.dataTable thead td.dt-head-justify,table.dataTable tfoot th.dt-head-justify,table.dataTable tfoot td.dt-head-justify{text-align:justify}table.dataTable thead th.dt-head-nowrap,table.dataTable thead td.dt-head-nowrap,table.dataTable tfoot th.dt-head-nowrap,table.dataTable tfoot td.dt-head-nowrap{white-space:nowrap}table.dataTable tbody th.dt-body-left,table.dataTable tbody td.dt-body-left{text-align:left}table.dataTable tbody th.dt-body-center,table.dataTable tbody td.dt-body-center{text-align:center}table.dataTable tbody th.dt-body-right,table.dataTable tbody td.dt-body-right{text-align:right}table.dataTable tbody th.dt-body-justify,table.dataTable tbody td.dt-body-justify{text-align:justify}table.dataTable tbody th.dt-body-nowrap,table.dataTable tbody td.dt-body-nowrap{white-space:nowrap}table.dataTable{clear:both;margin-top:6px !important;margin-bottom:6px !important;max-width:none !important;border-collapse:separate !important;border-spacing:0}table.dataTable td,table.dataTable th{-webkit-box-sizing:content-box;box-sizing:content-box}table.dataTable td.dataTables_empty,table.dataTable th.dataTables_empty{text-align:center}table.dataTable.nowrap th,table.dataTable.nowrap td{white-space:nowrap}div.dataTables_wrapper div.dataTables_length label{font-weight:normal;text-align:left;white-space:nowrap}div.dataTables_wrapper div.dataTables_length select{width:auto;display:inline-block}div.dataTables_wrapper div.dataTables_filter{text-align:right}div.dataTables_wrapper div.dataTables_filter label{font-weight:normal;white-space:nowrap;text-align:left}div.dataTables_wrapper div.dataTables_filter input{margin-left:.5em;display:inline-block;width:auto}div.dataTables_wrapper div.dataTables_info{padding-top:.85em}div.dataTables_wrapper div.dataTables_paginate{margin:0;white-space:nowrap;text-align:right}div.dataTables_wrapper div.dataTables_paginate ul.pagination{margin:2px 0;white-space:nowrap;justify-content:flex-end}div.dataTables_wrapper div.dataTables_processing{position:absolute;top:50%;left:50%;width:200px;margin-left:-100px;margin-top:-26px;text-align:center;padding:1em 0}table.dataTable>thead>tr>th:active,table.dataTable>thead>tr>td:active{outline:none}table.dataTable>thead>tr>th:not(.sorting_disabled),table.dataTable>thead>tr>td:not(.sorting_disabled){padding-right:30px}table.dataTable>thead .sorting,table.dataTable>thead .sorting_asc,table.dataTable>thead .sorting_desc,table.dataTable>thead .sorting_asc_disabled,table.dataTable>thead .sorting_desc_disabled{cursor:pointer;position:relative}table.dataTable>thead .sorting:before,table.dataTable>thead .sorting:after,table.dataTable>thead .sorting_asc:before,table.dataTable>thead .sorting_asc:after,table.dataTable>thead .sorting_desc:before,table.dataTable>thead .sorting_desc:after,table.dataTable>thead .sorting_asc_disabled:before,table.dataTable>thead .sorting_asc_disabled:after,table.dataTable>thead .sorting_desc_disabled:before,table.dataTable>thead .sorting_desc_disabled:after{position:absolute;bottom:.9em;display:block;opacity:.3}table.dataTable>thead .sorting:before,table.dataTable>thead .sorting_asc:before,table.dataTable>thead .sorting_desc:before,table.dataTable>thead .sorting_asc_disabled:before,table.dataTable>thead .sorting_desc_disabled:before{right:1em;content:"↑"}table.dataTable>thead .sorting:after,table.dataTable>thead .sorting_asc:after,table.dataTable>thead .sorting_desc:after,table.dataTable>thead .sorting_asc_disabled:after,table.dataTable>thead .sorting_desc_disabled:after{right:.5em;content:"↓"}table.dataTable>thead .sorting_asc:before,table.dataTable>thead .sorting_desc:after{opacity:1}table.dataTable>thead .sorting_asc_disabled:before,table.dataTable>thead .sorting_desc_disabled:after{opacity:0}div.dataTables_scrollHead table.dataTable{margin-bottom:0 !important}div.dataTables_scrollBody>table{border-top:none;margin-top:0 !important;margin-bottom:0 !important}div.dataTables_scrollBody>table>thead .sorting:before,div.dataTables_scrollBody>table>thead .sorting_asc:before,div.dataTables_scrollBody>table>thead .sorting_desc:before,div.dataTables_scrollBody>table>thead .sorting:after,div.dataTables_scrollBody>table>thead .sorting_asc:after,div.dataTables_scrollBody>table>thead .sorting_desc:after{display:none}div.dataTables_scrollBody>table>tbody tr:first-child th,div.dataTables_scrollBody>table>tbody tr:first-child td{border-top:none}div.dataTables_scrollFoot>.dataTables_scrollFootInner{box-sizing:content-box}div.dataTables_scrollFoot>.dataTables_scrollFootInner>table{margin-top:0 !important;border-top:none}@media screen and (max-width: 767px){div.dataTables_wrapper div.dataTables_length,div.dataTables_wrapper div.dataTables_filter,div.dataTables_wrapper div.dataTables_info,div.dataTables_wrapper div.dataTables_paginate{text-align:center}div.dataTables_wrapper div.dataTables_paginate ul.pagination{justify-content:center !important}}table.dataTable.table-sm>thead>tr>th:not(.sorting_disabled){padding-right:20px}table.dataTable.table-sm .sorting:before,table.dataTable.table-sm .sorting_asc:before,table.dataTable.table-sm .sorting_desc:before{top:5px;right:.85em}table.dataTable.table-sm .sorting:after,table.dataTable.table-sm .sorting_asc:after,table.dataTable.table-sm .sorting_desc:after{top:5px}table.table-bordered.dataTable{border-right-width:0}table.table-bordered.dataTable th,table.table-bordered.dataTable td{border-left-width:0}table.table-bordered.dataTable th:last-child,table.table-bordered.dataTable th:last-child,table.table-bordered.dataTable td:last-child,table.table-bordered.dataTable td:last-child{border-right-width:1px}table.table-bordered.dataTable tbody th,table.table-bordered.dataTable tbody td{border-bottom-width:0}div.dataTables_scrollHead table.table-bordered{border-bottom-width:0}div.table-responsive>div.dataTables_wrapper>div.row{margin:0}div.table-responsive>div.dataTables_wrapper>div.row>div[class^=col-]:first-child{padding-left:0}div.table-responsive>div.dataTables_wrapper>div.row>div[class^=col-]:last-child{padding-right:0}
  uploads-admin-Public-Admin-plugins-datatables-bs4-js-dataTables.bootstrap4.js: "/*!
    DataTables Bootstrap 4 integration\n * ©2011-2017 SpryMedia Ltd - datatables.net/license\n
    */\n\n/**\n * DataTables integration for Bootstrap 4. This requires Bootstrap
    4 and\n * DataTables 1.10 or newer.\n *\n * This file sets the defaults and adds
    options to DataTables to style its\n * controls using Bootstrap. See http://datatables.net/manual/styling/bootstrap\n
    * for further information.\n */\n(function( factory ){\n\tif ( typeof define ===
    'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( ['jquery', 'datatables.net'],
    function ( $ ) {\n\t\t\treturn factory( $, window, document );\n\t\t} );\n\t}\n\telse
    if ( typeof exports === 'object' ) {\n\t\t// CommonJS\n\t\tmodule.exports = function
    (root, $) {\n\t\t\tif ( ! root ) {\n\t\t\t\troot = window;\n\t\t\t}\n\n\t\t\tif
    ( ! $ || ! $.fn.dataTable ) {\n\t\t\t\t// Require DataTables, which attaches to
    jQuery, including\n\t\t\t\t// jQuery if needed and have a $ property so we can
    access the\n\t\t\t\t// jQuery object that is used\n\t\t\t\t$ = require('datatables.net')(root,
    $).$;\n\t\t\t}\n\n\t\t\treturn factory( $, root, root.document );\n\t\t};\n\t}\n\telse
    {\n\t\t// Browser\n\t\tfactory( jQuery, window, document );\n\t}\n}(function(
    $, window, document, undefined ) {\n'use strict';\nvar DataTable = $.fn.dataTable;\n\n\n/*
    Set the defaults for DataTables initialisation */\n$.extend( true, DataTable.defaults,
    {\n\tdom:\n\t\t\"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>>\" +\n\t\t\"<'row'<'col-sm-12'tr>>\"
    +\n\t\t\"<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>\",\n\trenderer:
    'bootstrap'\n} );\n\n\n/* Default class modification */\n$.extend( DataTable.ext.classes,
    {\n\tsWrapper:      \"dataTables_wrapper dt-bootstrap4\",\n\tsFilterInput:  \"form-control
    form-control-sm\",\n\tsLengthSelect: \"custom-select custom-select-sm form-control
    form-control-sm\",\n\tsProcessing:   \"dataTables_processing card\",\n\tsPageButton:
    \  \"paginate_button page-item\"\n} );\n\n\n/* Bootstrap paging button renderer
    */\nDataTable.ext.renderer.pageButton.bootstrap = function ( settings, host, idx,
    buttons, page, pages ) {\n\tvar api     = new DataTable.Api( settings );\n\tvar
    classes = settings.oClasses;\n\tvar lang    = settings.oLanguage.oPaginate;\n\tvar
    aria = settings.oLanguage.oAria.paginate || {};\n\tvar btnDisplay, btnClass, counter=0;\n\n\tvar
    attach = function( container, buttons ) {\n\t\tvar i, ien, node, button;\n\t\tvar
    clickHandler = function ( e ) {\n\t\t\te.preventDefault();\n\t\t\tif ( !$(e.currentTarget).hasClass('disabled')
    && api.page() != e.data.action ) {\n\t\t\t\tapi.page( e.data.action ).draw( 'page'
    );\n\t\t\t}\n\t\t};\n\n\t\tfor ( i=0, ien=buttons.length ; i<ien ; i++ ) {\n\t\t\tbutton
    = buttons[i];\n\n\t\t\tif ( Array.isArray( button ) ) {\n\t\t\t\tattach( container,
    button );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbtnDisplay = '';\n\t\t\t\tbtnClass =
    '';\n\n\t\t\t\tswitch ( button ) {\n\t\t\t\t\tcase 'ellipsis':\n\t\t\t\t\t\tbtnDisplay
    = '&#x2026;';\n\t\t\t\t\t\tbtnClass = 'disabled';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase
    'first':\n\t\t\t\t\t\tbtnDisplay = lang.sFirst;\n\t\t\t\t\t\tbtnClass = button
    + (page > 0 ?\n\t\t\t\t\t\t\t'' : ' disabled');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase
    'previous':\n\t\t\t\t\t\tbtnDisplay = lang.sPrevious;\n\t\t\t\t\t\tbtnClass =
    button + (page > 0 ?\n\t\t\t\t\t\t\t'' : ' disabled');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase
    'next':\n\t\t\t\t\t\tbtnDisplay = lang.sNext;\n\t\t\t\t\t\tbtnClass = button +
    (page < pages-1 ?\n\t\t\t\t\t\t\t'' : ' disabled');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase
    'last':\n\t\t\t\t\t\tbtnDisplay = lang.sLast;\n\t\t\t\t\t\tbtnClass = button +
    (page < pages-1 ?\n\t\t\t\t\t\t\t'' : ' disabled');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbtnDisplay
    = button + 1;\n\t\t\t\t\t\tbtnClass = page === button ?\n\t\t\t\t\t\t\t'active'
    : '';\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif ( btnDisplay ) {\n\t\t\t\t\tnode
    = $('<li>', {\n\t\t\t\t\t\t\t'class': classes.sPageButton+' '+btnClass,\n\t\t\t\t\t\t\t'id':
    idx === 0 && typeof button === 'string' ?\n\t\t\t\t\t\t\t\tsettings.sTableId +'_'+
    button :\n\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.append( $('<a>',
    {\n\t\t\t\t\t\t\t\t'href': '#',\n\t\t\t\t\t\t\t\t'aria-controls': settings.sTableId,\n\t\t\t\t\t\t\t\t'aria-label':
    aria[ button ],\n\t\t\t\t\t\t\t\t'data-dt-idx': counter,\n\t\t\t\t\t\t\t\t'tabindex':
    settings.iTabIndex,\n\t\t\t\t\t\t\t\t'class': 'page-link'\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t.html(
    btnDisplay )\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.appendTo( container );\n\n\t\t\t\t\tsettings.oApi._fnBindAction(\n\t\t\t\t\t\tnode,
    {action: button}, clickHandler\n\t\t\t\t\t);\n\n\t\t\t\t\tcounter++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t//
    IE9 throws an 'unknown error' if document.activeElement is used\n\t// inside an
    iframe or frame. \n\tvar activeEl;\n\n\ttry {\n\t\t// Because this approach is
    destroying and recreating the paging\n\t\t// elements, focus is lost on the select
    button which is bad for\n\t\t// accessibility. So we want to restore focus once
    the draw has\n\t\t// completed\n\t\tactiveEl = $(host).find(document.activeElement).data('dt-idx');\n\t}\n\tcatch
    (e) {}\n\n\tattach(\n\t\t$(host).empty().html('<ul class=\"pagination\"/>').children('ul'),\n\t\tbuttons\n\t);\n\n\tif
    ( activeEl !== undefined ) {\n\t\t$(host).find( '[data-dt-idx='+activeEl+']' ).trigger('focus');\n\t}\n};\n\n\nreturn
    DataTable;\n}));\n"
  uploads-admin-Public-Admin-plugins-datatables-bs4-js-dataTables.bootstrap4.min.js: |
    /*!
     DataTables Bootstrap 4 integration
     ©2011-2017 SpryMedia Ltd - datatables.net/license
    */
    var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var e=a.length,d=0;d<e;d++){var f=a[d];if(b.call(c,f,d,a))return{i:d,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
    $jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
    $jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};
    $jscomp.polyfill=function(a,b,c,e){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,e):$jscomp.polyfillUnisolated(a,b,c,e))};$jscomp.polyfillUnisolated=function(a,b,c,e){c=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var d=a[e];if(!(d in c))return;c=c[d]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
    $jscomp.polyfillIsolated=function(a,b,c,e){var d=a.split(".");a=1===d.length;e=d[0];e=!a&&e in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<d.length-1;f++){var l=d[f];if(!(l in e))return;e=e[l]}d=d[d.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?e[d]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,d,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[d]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(d):$jscomp.POLYFILL_PREFIX+d,d=
    $jscomp.propertyToPolyfillSymbol[d],$jscomp.defineProperty(e,d,{configurable:!0,writable:!0,value:b})))};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");
    (function(a){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(b){return a(b,window,document)}):"object"===typeof exports?module.exports=function(b,c){b||(b=window);c&&c.fn.dataTable||(c=require("datatables.net")(b,c).$);return a(c,b,b.document)}:a(jQuery,window,document)})(function(a,b,c,e){var d=a.fn.dataTable;a.extend(!0,d.defaults,{dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",
    renderer:"bootstrap"});a.extend(d.ext.classes,{sWrapper:"dataTables_wrapper dt-bootstrap4",sFilterInput:"form-control form-control-sm",sLengthSelect:"custom-select custom-select-sm form-control form-control-sm",sProcessing:"dataTables_processing card",sPageButton:"paginate_button page-item"});d.ext.renderer.pageButton.bootstrap=function(f,l,A,B,m,t){var u=new d.Api(f),C=f.oClasses,n=f.oLanguage.oPaginate,D=f.oLanguage.oAria.paginate||{},h,k,v=0,y=function(q,w){var x,E=function(p){p.preventDefault();
    a(p.currentTarget).hasClass("disabled")||u.page()==p.data.action||u.page(p.data.action).draw("page")};var r=0;for(x=w.length;r<x;r++){var g=w[r];if(Array.isArray(g))y(q,g);else{k=h="";switch(g){case "ellipsis":h="&#x2026;";k="disabled";break;case "first":h=n.sFirst;k=g+(0<m?"":" disabled");break;case "previous":h=n.sPrevious;k=g+(0<m?"":" disabled");break;case "next":h=n.sNext;k=g+(m<t-1?"":" disabled");break;case "last":h=n.sLast;k=g+(m<t-1?"":" disabled");break;default:h=g+1,k=m===g?"active":""}if(h){var F=
    a("<li>",{"class":C.sPageButton+" "+k,id:0===A&&"string"===typeof g?f.sTableId+"_"+g:null}).append(a("<a>",{href:"#","aria-controls":f.sTableId,"aria-label":D[g],"data-dt-idx":v,tabindex:f.iTabIndex,"class":"page-link"}).html(h)).appendTo(q);f.oApi._fnBindAction(F,{action:g},E);v++}}}};try{var z=a(l).find(c.activeElement).data("dt-idx")}catch(q){}y(a(l).empty().html('<ul class="pagination"/>').children("ul"),B);z!==e&&a(l).find("[data-dt-idx="+z+"]").trigger("focus")};return d});
  uploads-admin-Public-Admin-plugins-filterizr-filterizr.min.js: |-
    !function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){var r,i;
    /*!
     * imagesLoaded v4.1.4
     * JavaScript is all like "You images are done yet or what?"
     * MIT License
     */
    /*!
     * imagesLoaded v4.1.4
     * JavaScript is all like "You images are done yet or what?"
     * MIT License
     */
    !function(o,s){"use strict";r=[n(2)],void 0===(i=function(t){return function(t,e){var n=t.jQuery,r=t.console;function i(t,e){for(var n in e)t[n]=e[n];return t}var o=Array.prototype.slice;function s(t,e,a){if(!(this instanceof s))return new s(t,e,a);var u=t;"string"==typeof t&&(u=document.querySelectorAll(t)),u?(this.elements=function(t){if(Array.isArray(t))return t;if("object"==typeof t&&"number"==typeof t.length)return o.call(t);return[t]}(u),this.options=i({},this.options),"function"==typeof e?a=e:i(this.options,e),a&&this.on("always",a),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):r.error("Bad element for imagesLoaded "+(u||t))}s.prototype=Object.create(e.prototype),s.prototype.options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&a[e]){for(var n=t.querySelectorAll("img"),r=0;r<n.length;r++){var i=n[r];this.addImage(i)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(r=0;r<o.length;r++){var s=o[r];this.addElementBackgroundImages(s)}}}};var a={1:!0,9:!0,11:!0};function u(t){this.img=t}function c(t,e){this.url=t,this.element=e,this.img=new Image}return s.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,r=n.exec(e.backgroundImage);null!==r;){var i=r&&r[2];i&&this.addBackground(i,t),r=n.exec(e.backgroundImage)}},s.prototype.addImage=function(t){var e=new u(t);this.images.push(e)},s.prototype.addBackground=function(t,e){var n=new c(t,e);this.images.push(n)},s.prototype.check=function(){var t=this;function e(e,n,r){setTimeout(function(){t.progress(e,n,r)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(t){t.once("progress",e),t.check()}):this.complete()},s.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&r&&r.log("progress: "+n,t,e)},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},u.prototype=Object.create(e.prototype),u.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},u.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},u.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},u.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},u.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},u.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},u.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype=Object.create(u.prototype),c.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},c.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},s.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((n=e).fn.imagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(n(this))})},s.makeJQueryPlugin(),s}(o,t)}.apply(e,r))||(t.exports=i)}("undefined"!=typeof window?window:this)},function(t,e){function n(t,e,n,r){var i,o=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),s=e.get(o);return void 0===s&&(s=t.call(this,r),e.set(o,s)),s}function r(t,e,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=e.get(i);return void 0===o&&(o=t.apply(this,r),e.set(i,o)),o}function i(t,e,n,r,i){return n.bind(e,t,r,i)}function o(t,e){return i(t,this,1===t.length?n:r,e.cache.create(),e.serializer)}function s(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(t){return t in this.cache},a.prototype.get=function(t){return this.cache[t]},a.prototype.set=function(t,e){this.cache[t]=e};var u={create:function(){return new a}};t.exports=function(t,e){var n=e&&e.cache?e.cache:u,r=e&&e.serializer?e.serializer:s;return(e&&e.strategy?e.strategy:o)(t,{cache:n,serializer:r})},t.exports.strategies={variadic:function(t,e){return i(t,this,r,e.cache.create(),e.serializer)},monadic:function(t,e){return i(t,this,n,e.cache.create(),e.serializer)}}},function(t,e,n){var r,i;"undefined"!=typeof window&&window,void 0===(i="function"==typeof(r=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},r=n[t]=n[t]||[];return-1==r.indexOf(e)&&r.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=n.indexOf(e);return-1!=r&&n.splice(r,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var r=this._onceEvents&&this._onceEvents[t],i=0;i<n.length;i++){var o=n[i];r&&r[o]&&(this.off(t,o),delete r[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){"use strict";n.r(e);var r={IDLE:"IDLE",FILTERING:"FILTERING",SORTING:"SORTING",SHUFFLING:"SHUFFLING"},i={SAME_SIZE:"sameSize",SAME_HEIGHT:"sameHeight",SAME_WIDTH:"sameWidth",PACKED:"packed",HORIZONTAL:"horizontal",VERTICAL:"vertical"},o=/(^linear$)|(^ease-in-out$)|(^ease-in$)|(^ease-out$)|(^ease$)|(^step-start$)|(^step-end$)|(^steps\(\d\s*,\s*(end|start)\))$|(^cubic-bezier\((\d*\.*\d+)\s*,\s*(\d*\.*\d+)\s*,\s*(\d*\.*\d+)\s*,\s*(\d*\.*\d+)\))$/,s=function(t,e,n,r,i){if(void 0!==e){var o=new Error('Filterizr: expected type of option "'+t+'" to be "'+n+'", but its type is: "'+typeof e+'"'),s=!1,a=!1,u=n.includes("array");if((typeof e).match(n)?s=!0:!s&&u&&(a=Array.isArray(e)),!s&&!u)throw o;if(!s&&u&&!a)throw o;var c=function(t){return t?" For further help read here: "+t:""};if(Array.isArray(r)){var l=!1;if(r.forEach(function(t){t===e&&(l=!0)}),!l)throw new Error('Filterizr: allowed values for option "'+t+'" are: '+r.map(function(t){return'"'+t+'"'}).join(", ")+'. Value received: "'+e+'".'+c(i))}else if("string"==typeof e&&r instanceof RegExp){if(!e.match(r))throw new Error('Filterizr: invalid value "'+e+'" for option "'+t+'" received.'+c(i))}}},a=function(t,e,n){var r;return function(){var i=this,o=arguments;clearTimeout(r),r=window.setTimeout(function(){r=null,n||t.apply(i,o)},e),n&&!r&&t.apply(i,o)}},u=function(t,e){return t.length===e.length&&t.reduce(function(t,n,r){var i=n.getSortAttribute("index"),o=e[r].getSortAttribute("index");return t&&i===o},!0)};var c=function(t){return"string"==typeof t?document.querySelector(t):t};function l(t){return t&&"object"==typeof t&&!Array.isArray(t)}function f(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(!r.length)return t;var o=r.shift();if(l(t)&&l(o))for(var s in o)l(o[s])?(t[s]||Object.assign(t,((e={})[s]={},e)),f(t[s],o[s])):Object.assign(t,((n={})[s]=o[s],n));return f.apply(void 0,[t].concat(r))}var h=function(){};function p(t,e){Object.entries(e).forEach(function(e){var n=e[0],r=e[1];t.style[n]=r})}var d=function(t){for(var e=t.slice(0),n=[];0!==e.length;){var r=Math.floor(e.length*Math.random());n.push(e[r]),e.splice(r,1)}return n},y=function(){function t(t){this.receiver=t,this.eventDictionary={}}return t.prototype.on=function(t,e){var n=this.receiver,r=n instanceof NodeList;!!this.eventDictionary[t]&&delete this.eventDictionary[t],r&&n.length?(this.eventDictionary[t]=e,Array.from(n).forEach(function(n){n.addEventListener(t,e)})):!r&&n&&(this.eventDictionary[t]=e,n.addEventListener(t,e))},t.prototype.off=function(t){var e=this.receiver,n=this.eventDictionary[t],r=e instanceof NodeList;r&&e.length?Array.from(e).forEach(function(e){e.removeEventListener(t,n)}):!r&&e&&e.removeEventListener(t,n),delete this.eventDictionary[t]},t.prototype.destroy=function(){var t=this,e=this.receiver,n=e instanceof NodeList;n&&e.length?Array.from(e).forEach(function(e){return t.removeAllEvents(e)}):!n&&e&&this.removeAllEvents(e)},t.prototype.removeAllEvents=function(t){var e=this;Object.keys(this.eventDictionary).forEach(function(n){t.removeEventListener(n,e.eventDictionary[n]),delete e.eventDictionary[n]})},t}(),v={animationDuration:.5,callbacks:{onInit:h,onFilteringStart:h,onFilteringEnd:h,onShufflingStart:h,onShufflingEnd:h,onSortingStart:h,onSortingEnd:h},controlsSelector:"",delay:0,delayMode:"progressive",easing:"ease-out",filter:"all",filterOutCss:{opacity:0,transform:"scale(0.5)"},filterInCss:{opacity:1,transform:"scale(1)"},gridItemsSelector:".filtr-item",gutterPixels:0,layout:i.SAME_SIZE,multifilterLogicalOperator:"or",searchTerm:"",setupControls:!0,spinner:{enabled:!1,fillColor:"#2184D0",styles:{height:"75px",margin:"0 auto",width:"75px","z-index":2}}},g=function(){function t(t){this.filter=t}return t.prototype.get=function(){return this.filter},t.prototype.set=function(t){this.filter=t},t.prototype.toggle=function(t){this.filter=this.toggleFilter(this.filter,t)},t.prototype.toggleFilter=function(t,e){if("all"===t)return e;if(Array.isArray(t)){if(t.includes(e)){var n=t.filter(function(t){return t!==e});return 1===n.length?n[0]:n}return t.concat([e])}return t===e?"all":[t,e]},t}(),m=function(){return(m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},b=function(){function t(t){var e=f({},v,this.validate(t));this.options=this.convertToFilterizrOptions(e)}return Object.defineProperty(t.prototype,"isSpinnerEnabled",{get:function(){return this.options.spinner.enabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areControlsEnabled",{get:function(){return this.options.setupControls},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlsSelector",{get:function(){return this.options.controlsSelector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this.options.filter.get()},set:function(t){this.options.filter.set(t)},enumerable:!0,configurable:!0}),t.prototype.toggleFilter=function(t){this.options.filter.toggle(t)},Object.defineProperty(t.prototype,"searchTerm",{get:function(){return this.options.searchTerm},set:function(t){this.options.searchTerm=t},enumerable:!0,configurable:!0}),t.prototype.get=function(){return this.options},t.prototype.getRaw=function(){return this.convertToOptions(this.options)},t.prototype.set=function(t){var e=f({},this.convertToOptions(this.options),this.validate(t));this.options=this.convertToFilterizrOptions(e)},t.prototype.convertToFilterizrOptions=function(t){return m({},t,{filter:new g(t.filter)})},t.prototype.convertToOptions=function(t){return m({},t,{filter:t.filter.get()})},t.prototype.validate=function(t){return s("animationDuration",t.animationDuration,"number"),s("callbacks",t.callbacks,"object"),s("controlsSelector",t.controlsSelector,"string"),s("delay",t.delay,"number"),s("easing",t.easing,"string",o,"https://www.w3schools.com/cssref/css3_pr_transition-timing-function.asp"),s("delayMode",t.delayMode,"string",["progressive","alternate"]),s("filter",t.filter,"string|number|array"),s("filterOutCss",t.filterOutCss,"object"),s("filterInCss",t.filterOutCss,"object"),s("gridItemsSelector",t.gridItemsSelector,"string"),s("gutterPixels",t.gutterPixels,"number"),s("layout",t.layout,"string",Object.values(i)),s("multifilterLogicalOperator",t.multifilterLogicalOperator,"string",["and","or"]),s("searchTerm",t.searchTerm,"string"),s("setupControls",t.setupControls,"boolean"),t},t}(),w=function(){function t(t,e){void 0===e&&(e=""),this.filterizr=t,this.selector=e,this.filterControls=new y(document.querySelectorAll(e+"[data-filter]")),this.multiFilterControls=new y(document.querySelectorAll(e+"[data-multifilter]")),this.shuffleControls=new y(document.querySelectorAll(e+"[data-shuffle]")),this.searchControls=new y(document.querySelectorAll(e+"[data-search]")),this.sortAscControls=new y(document.querySelectorAll(e+"[data-sortAsc]")),this.sortDescControls=new y(document.querySelectorAll(e+"[data-sortDesc]")),this.initialize()}return t.prototype.destroy=function(){this.filterControls.destroy(),this.multiFilterControls.destroy(),this.shuffleControls.destroy(),this.searchControls.destroy(),this.sortAscControls.destroy(),this.sortDescControls.destroy()},t.prototype.initialize=function(){var t=this.filterizr,e=this.selector;this.filterControls.on("click",function(e){var n=e.currentTarget.getAttribute("data-filter");t.filter(n)}),this.multiFilterControls.on("click",function(e){var n=e.target.getAttribute("data-multifilter");t.toggleFilter(n)}),this.shuffleControls.on("click",t.shuffle.bind(t)),this.searchControls.on("keyup",a(function(e){var n=e.target.value;t.search(n)},250,!1)),this.sortAscControls.on("click",function(){var n=document.querySelector(e+"[data-sortOrder]").value;t.sort(n,"asc")}),this.sortDescControls.on("click",function(){var n=document.querySelector(e+"[data-sortOrder]").value;t.sort(n,"desc")})},t}(),E=function(){function t(t,e){this.node=t,this.options=e,this.eventReceiver=new y(this.node)}return Object.defineProperty(t.prototype,"dimensions",{get:function(){return{width:this.node.clientWidth,height:this.node.clientHeight}},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.styles.destroy()},t.prototype.trigger=function(t){var e=new Event(t);this.node.dispatchEvent(e)},t}();function I(t,e){var n=e.get(),r=n.delay;return"progressive"===n.delayMode?r*t:t%2==0?r:0}var S,O=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},x=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},_=function(){function t(){}return t.animate=function(e,n){return O(this,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return[4,t.process({node:e,targetStyles:n,eventReceiver:new y(e)})];case 1:return r.sent(),[2]}})})},t.process=function(t){return O(this,void 0,void 0,function(){return x(this,function(e){return[2,new Promise(function(e){t.eventReceiver.on("transitionend",function(){t.eventReceiver.destroy(),e()}),setTimeout(function(){p(t.node,t.targetStyles)},10)})]})})},t}().animate,k=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},C=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},A=function(){function t(t,e){this.node=t,this.options=e}return t.prototype.destroy=function(){this.node.removeAttribute("style")},t.prototype.animate=function(t){return k(this,void 0,void 0,function(){return C(this,function(e){return _(this.node,t),[2]})})},t.prototype.set=function(t){p(this.node,t)},t.prototype.remove=function(t){this.node.style.removeProperty(t)},t}(),T=(S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),j=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},P=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},F=n(0),L=function(t){function e(e,n,r){var i=t.call(this,e,r)||this;return i._index=n,i}return T(e,t),e.prototype.initialize=function(){var t;this.set((t=this.options,Object.assign({},t.get().filterOutCss,{"-webkit-backface-visibility":"hidden",perspective:"1000px","-webkit-perspective":"1000px","-webkit-transform-style":"preserve-3d",position:"absolute"})))},e.prototype.setFilteredStyles=function(t,e){this.set(function(t,e){return Object.assign({},e,{transform:(e.transform||"")+" translate3d("+t.left+"px, "+t.top+"px, 0)"})}(t,e))},e.prototype.updateTransitionStyle=function(){var t,e,n;this.set((t=this._index,e=this.options,{transition:"all "+(n=e.get()).animationDuration+"s "+n.easing+" "+I(t,e)+"ms, width 1ms"}))},e.prototype.updateWidth=function(){var t=this.options.get().gutterPixels,e=this.node.parentElement.clientWidth,n=this.node.clientWidth,r=n-t*(1/Math.floor(e/n)+1)+"px";this.set({width:r})},e.prototype.enableTransitions=function(){return j(this,void 0,void 0,function(){var t=this;return P(this,function(e){return[2,new Promise(function(e){!!t.node.querySelectorAll("img").length?F(t.node,function(){setTimeout(function(){t.updateTransitionStyle(),e()},10)}):setTimeout(function(){t.updateTransitionStyle(),e()},10)})]})})},e.prototype.disableTransitions=function(){this.remove("transition")},e.prototype.setZIndex=function(t){this.set({"z-index":t})},e.prototype.removeZIndex=function(){this.remove("z-index")},e.prototype.removeWidth=function(){this.remove("width")},e.prototype.setHidden=function(){this.set({display:"none"})},e.prototype.setVisible=function(){this.remove("display")},e}(A),z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(){return(D=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},N=function(t){function e(e,n,r){var i=t.call(this,e,r)||this;return i.filteredOut=!1,i.lastPosition={left:0,top:0},i.sortData=D({},function(t){for(var e={category:"",sort:""},n=0,r=t.attributes,i=r.length;n<i;n++){var o=r[n],s=o.nodeName,a=o.nodeValue;s.includes("data")&&(e[s.slice(5,s.length)]=a)}return delete e.category,delete e.sort,e}(e),{index:n,sortData:e.getAttribute("data-sort")}),i.styledNode=new L(e,n,r),i.styles.initialize(),i.bindEvents(),i}return z(e,t),Object.defineProperty(e.prototype,"styles",{get:function(){return this.styledNode},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unbindEvents()},e.prototype.filterIn=function(t){var e=this.options.get().filterInCss;this.styles.setFilteredStyles(t,e),this.lastPosition=t,this.filteredOut=!1},e.prototype.filterOut=function(){var t=this.options.get().filterOutCss;this.styles.setFilteredStyles(this.lastPosition,t),this.filteredOut=!0},e.prototype.contentsMatchSearch=function(t){return this.node.textContent.toLowerCase().includes(t)},e.prototype.getCategories=function(){return this.node.getAttribute("data-category").split(/\s*,\s*/g)},e.prototype.getSortAttribute=function(t){return this.sortData[t]},e.prototype.bindEvents=function(){var t=this;this.eventReceiver.on("transitionend",function(){t.filteredOut?(t.node.classList.add("filteredOut"),t.styles.setZIndex(-1e3),t.styles.setHidden()):(t.node.classList.remove("filteredOut"),t.styles.removeZIndex())})},e.prototype.unbindEvents=function(){this.eventReceiver.off("transitionend")},e}(E),M=function(){},R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},W=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},q=function(t){function e(e){var n=t.call(this)||this;return n._filterItems=e.map(function(t){return t.styles}),n}return R(e,t),e.prototype.resetDisplay=function(){this._filterItems.forEach(function(t){return t.setVisible()})},e.prototype.removeWidth=function(){this._filterItems.forEach(function(t){return t.removeWidth()})},e.prototype.updateWidth=function(){this._filterItems.forEach(function(t){return t.updateWidth()})},e.prototype.updateTransitionStyle=function(){this._filterItems.forEach(function(t){return t.updateTransitionStyle()})},e.prototype.disableTransitions=function(){this._filterItems.forEach(function(t){return t.disableTransitions()})},e.prototype.enableTransitions=function(){return H(this,void 0,void 0,function(){var t=this;return W(this,function(e){return this._filterItems.forEach(function(e){return H(t,void 0,void 0,function(){return W(this,function(t){switch(t.label){case 0:return[4,e.enableTransitions()];case 1:return[2,t.sent()]}})})}),[2]})})},e.prototype.updateWidthWithTransitionsDisabled=function(){this.disableTransitions(),this.removeWidth(),this.updateWidth(),this.enableTransitions()},e}(M),G=function(){function t(t,e){this.filterItems=t,this.styledFilterItems=new q(t),this.options=e}return Object.defineProperty(t.prototype,"styles",{get:function(){return this.styledFilterItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.filterItems.length},enumerable:!0,configurable:!0}),t.prototype.getItem=function(t){return this.filterItems[t]},t.prototype.destroy=function(){this.filterItems.forEach(function(t){return t.destroy()})},t.prototype.push=function(t){return this.filterItems.push(t)},t.prototype.remove=function(t){this.filterItems=this.filterItems.filter(function(e){return e.node!==t})},t.prototype.getFiltered=function(t){var e=this,n=this.options.searchTerm,r=this.search(this.filterItems,n);return"all"===t?r:r.filter(function(n){return e.shouldBeFiltered(n.getCategories(),t)})},t.prototype.getFilteredOut=function(t){var e=this,n=this.options.searchTerm;return this.filterItems.filter(function(r){var i=r.getCategories(),o=e.shouldBeFiltered(i,t),s=r.contentsMatchSearch(n);return!o||!s})},t.prototype.sort=function(t,e){void 0===t&&(t="index"),void 0===e&&(e="asc");var n,r,i=(n=this.filterItems,r=function(e){return e.getSortAttribute(t)},n.slice(0).sort(function(t){return function(e,n){var r=t(e),i=t(n);return r<i?-1:r>i?1:0}}(r))),o="asc"===e?i:i.reverse();this.filterItems=o},t.prototype.shuffle=function(){var t=this,e=this.getFiltered(this.options.filter);if(e.length>1){var n=this.getFiltered(this.options.filter).map(function(e){return t.filterItems.indexOf(e)}).slice(),r=void 0;do{r=d(e)}while(u(e,r));(r=d(e)).forEach(function(e,r){var i,o=n[r];t.filterItems=Object.assign([],t.filterItems,((i={})[o]=e,i))})}},t.prototype.search=function(t,e){return e?t.filter(function(t){return t.contentsMatchSearch(e)}):t},t.prototype.shouldBeFiltered=function(t,e){var n,r,i=this.options.getRaw().multifilterLogicalOperator;return Array.isArray(e)?"or"===i?!!(n=t,r=e,Array.prototype.filter.call(n,function(t){return r.includes(t)})).length:function(t,e){return t.reduce(function(t,n){return t&&e.includes(n)},!0)}(e,t):t.includes(e)},t}(),B=function(){return(B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Z=function(t){return{padding:t.get().gutterPixels+"px"}},$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $(e,t),e.prototype.initialize=function(){var t;this.set((t=this.options,B({},Z(t),{position:"relative",width:"100%",display:"flex",flexWrap:"wrap"})))},e.prototype.updatePaddings=function(){this.set(Z(this.options))},e.prototype.setHeight=function(t){this.set({height:t+"px"})},e}(A),V=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(t){function e(e,n){var i=this;if(!e)throw new Error("Filterizr: could not initialize container, check the selector or node you passed to the constructor exists.");return(i=t.call(this,e,n)||this).styledNode=new Q(e,n),i._filterizrState=r.IDLE,i.styles.initialize(),i.filterItems=i.makeFilterItems(i.options),i.bindEvents(),i}return V(e,t),Object.defineProperty(e.prototype,"styles",{get:function(){return this.styledNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterizrState",{set:function(t){this._filterizrState=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unbindEvents(),this.filterItems.destroy()},e.prototype.makeFilterItems=function(t){var e=Array.from(this.node.querySelectorAll(t.get().gridItemsSelector)).map(function(e,n){return new N(e,n,t)}),n=new G(e,t);if(!n.length)throw new Error("Filterizr: cannot initialize empty container. Make sure the gridItemsSelector option corresponds to the selector of your grid's items");return n.styles.updateWidth(),n},e.prototype.insertItem=function(t){var e=t.cloneNode(!0);e.removeAttribute("style"),this.node.appendChild(e);var n=new N(e,this.filterItems.length,this.options);n.styles.enableTransitions(),n.styles.updateWidth(),this.filterItems.push(n)},e.prototype.removeItem=function(t){this.filterItems.remove(t),this.node.removeChild(t)},e.prototype.setHeight=function(t){this.dimensions.height=t,this.styles.setHeight(t)},e.prototype.bindEvents=function(){var t=this,e=this.options.get(),n=e.animationDuration,i=e.callbacks,o=e.delay,s=e.delayMode,u=e.gridItemsSelector,c="progressive"===s?o*this.filterItems.length:o;this.eventReceiver.on("transitionend",a(function(e){if(Array.from(e.target.classList).reduce(function(t,e){return t||u.includes(e)},!1)){switch(t._filterizrState){case r.FILTERING:t.trigger("filteringEnd");break;case r.SORTING:t.trigger("sortingEnd");break;case r.SHUFFLING:t.trigger("shufflingEnd")}t.filterizrState=r.IDLE}},100*n+c,!1)),this.eventReceiver.on("init",i.onInit),this.eventReceiver.on("filteringStart",i.onFilteringStart),this.eventReceiver.on("filteringEnd",i.onFilteringEnd),this.eventReceiver.on("shufflingStart",i.onShufflingStart),this.eventReceiver.on("shufflingEnd",i.onShufflingEnd),this.eventReceiver.on("sortingStart",i.onSortingStart),this.eventReceiver.on("sortingEnd",i.onSortingEnd)},e.prototype.unbindEvents=function(){this.eventReceiver.off("transitionend"),this.eventReceiver.off("init"),this.eventReceiver.off("filteringStart"),this.eventReceiver.off("filteringEnd"),this.eventReceiver.off("shufflingStart"),this.eventReceiver.off("shufflingEnd"),this.eventReceiver.off("sortingStart"),this.eventReceiver.off("sortingEnd")},e}(E);var U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(){return(K=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},X=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},Y=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),e.prototype.initialize=function(){var t=this.options.get().spinner.styles;this.set(K({},t,{opacity:1,transition:"all ease-out 500ms"}))},e.prototype.fadeOut=function(){return X(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return[4,this.animate({opacity:0})];case 1:return t.sent(),[2]}})})},e}(A),et=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},nt=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},rt=function(){function t(t,e){var n,r,i;this.filterContainer=t,this.node=(n=e.get().spinner,r='<?xml version="1.0" encoding="UTF-8"?><svg stroke="'+n.fillColor+'" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>',(i=document.createElement("img")).classList.add("Filterizr__spinner"),i.src="data:image/svg+xml;base64,"+window.btoa(r),i.alt="Spinner",i),this.styledNode=new tt(this.node,e),this.initialize()}return Object.defineProperty(t.prototype,"styles",{get:function(){return this.styledNode},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){return et(this,void 0,void 0,function(){return nt(this,function(t){switch(t.label){case 0:return[4,this.styles.fadeOut()];case 1:return t.sent(),this.filterContainer.node.removeChild(this.node),[2]}})})},t.prototype.initialize=function(){this.styles.initialize(),this.filterContainer.node.appendChild(this.node)},t}(),it=n(1),ot=n.n(it);function st(t,e){return t.reduce(function(t,n){return t+n.width+e},0)}function at(t,e){return t.length?t.reduce(function(t,n){return t+n.height+e},0):0}var ut=function(){return(ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ct=function(){function t(t){this.init(t)}return t.prototype.init=function(t){this.root={x:0,y:0,w:t}},t.prototype.fit=function(t){var e,n,r,i=t.length,o=i>0?t[0].h:0;for(this.root.h=o,e=0;e<i;e++)r=t[e],(n=this.findNode(this.root,r.w,r.h))?r.fit=this.splitNode(n,r.w,r.h):r.fit=this.growDown(r.w,r.h)},t.prototype.findNode=function(t,e,n){return t.used?this.findNode(t.right,e,n)||this.findNode(t.down,e,n):e<=t.w&&n<=t.h?t:null},t.prototype.splitNode=function(t,e,n){return t.used=!0,t.down={x:t.x,y:t.y+n,w:t.w,h:t.h-n},t.right={x:t.x+e,y:t.y,w:t.w-e,h:n},t},t.prototype.growDown=function(t,e){var n;return this.root={used:!0,x:0,y:0,w:this.root.w,h:this.root.h+e,down:{x:0,y:this.root.h,w:this.root.w,h:e},right:this.root},(n=this.findNode(this.root,t,e))?this.splitNode(n,t,e):null},t}(),lt=ot()(function(t,e,n){var r=n.gutterPixels,o=n.layout;if(!e.length)return{containerHeight:0,itemsPositions:[]};switch(o){case i.HORIZONTAL:return function(t,e){return{containerHeight:Math.max.apply(Math,t.map(function(t){return t.height}))+2*e,itemsPositions:t.map(function(n,r){return{left:st(t.slice(0,r),e),top:0}})}}(e,r);case i.VERTICAL:return function(t,e){return{containerHeight:at(t,e)+e,itemsPositions:t.map(function(n,r){return{left:0,top:at(t.slice(0,r),e)}})}}(e,r);case i.SAME_HEIGHT:return function(t,e,n){var r=e.map(function(t,r){var i=t.width;return e.slice(0,r).reduce(function(t,e){return t+e.width+2*n},0)+i+n}),i=r.reduce(function(e,n,r){var i,o=Object.keys(e).length;return ut({},e,n>t*o&&((i={})[o]=r,i))},{0:0}),o=e.map(function(o,s){var a=o.height,u=Math.floor(r[s]/t);return{left:e.slice(i[u],s).reduce(function(t,e){return t+e.width+n},0),top:(a+n)*u}});return{containerHeight:Object.keys(i).length*(e[0].height+n)+n,itemsPositions:o}}(t,e,r);case i.SAME_WIDTH:return function(t,e,n){var r=Math.floor(t/(e[0].width+n)),i=e.map(function(t,i){var o=t.width,s=Math.floor(i/r);return{left:(i-r*s)*(o+n),top:e.slice(0,i).filter(function(t,e){return(i-e)%r==0}).reduce(function(t,e){return t+e.height+n},0)}}),o=e.reduce(function(t,e,i){var o=e.height,s=Math.floor(i/r);return t[i-r*s]+=o+n,t},Array.apply(null,Array(r)).map(Number.prototype.valueOf,0));return{containerHeight:Math.max.apply(Math,o)+n,itemsPositions:i}}(t,e,r);case i.PACKED:return function(t,e,n){var r=new ct(t),i=e.map(function(t){var e=t.width,r=t.height;return{w:e+n,h:r+n}});r.fit(i);var o=i.map(function(t){var e=t.fit;return{left:e.x,top:e.y}});return{containerHeight:r.root.h+n,itemsPositions:o}}(t,e,r);case i.SAME_SIZE:default:return function(t,e,n){var r=Math.floor(t/(e[0].width+n)),i=e.map(function(t,e){var i=t.width,o=t.height,s=Math.floor(e/r);return{left:(e-r*s)*(i+n),top:s*(o+n)}});return{containerHeight:Math.ceil(e.length/r)*(e[0].height+n)+n,itemsPositions:i}}(t,e,r)}});function ft(t){if(!t)throw new Error("Filterizr as a jQuery plugin, requires jQuery to work. If you would prefer to use the vanilla JS version, please use the correct bundle file.");t.fn.filterizr=function(){var e="."+t.trim(this.get(0).className).replace(/\s+/g,"."),n=arguments;if(!this._fltr&&0===n.length||1===n.length&&"object"==typeof n[0]){var r=n.length>0?n[0]:v;this._fltr=new yt(e,r)}else if(n.length>=1&&"string"==typeof n[0]){var i=n[0],o=Array.prototype.slice.call(n,1),s=this._fltr;switch(i){case"filter":return s.filter.apply(s,o),this;case"insertItem":return s.insertItem.apply(s,o),this;case"removeItem":return s.removeItem.apply(s,o),this;case"toggleFilter":return s.toggleFilter.apply(s,o),this;case"sort":return s.sort.apply(s,o),this;case"shuffle":return s.shuffle.apply(s,o),this;case"search":return s.search.apply(s,o),this;case"setOptions":return s.setOptions.apply(s,o),this;case"destroy":return s.destroy.apply(s,o),delete this._fltr,this;default:throw new Error("Filterizr: "+i+" is not part of the Filterizr API. Please refer to the docs for more information.")}}return this}}var ht=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},pt=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},dt=n(0),yt=function(){function t(t,e){void 0===t&&(t=".filtr-container"),void 0===e&&(e={}),this.options=new b(e);var n=this.options,r=n.areControlsEnabled,i=n.controlsSelector,o=n.isSpinnerEnabled;this.windowEventReceiver=new y(window),this.filterContainer=new J(c(t),this.options),this.imagesHaveLoaded=!this.filterContainer.node.querySelectorAll("img").length,r&&(this.filterControls=new w(this,i)),o&&(this.spinner=new rt(this.filterContainer,this.options)),this.initialize()}return Object.defineProperty(t.prototype,"filterItems",{get:function(){return this.filterContainer.filterItems},enumerable:!0,configurable:!0}),t.prototype.filter=function(t){var e=this.filterContainer;e.trigger("filteringStart"),e.filterizrState=r.FILTERING,t=Array.isArray(t)?t.map(function(t){return t.toString()}):t.toString(),this.options.filter=t,this.render()},t.prototype.destroy=function(){var t=this.windowEventReceiver,e=this.filterControls;this.filterContainer.destroy(),t.destroy(),this.options.areControlsEnabled&&e&&e.destroy()},t.prototype.insertItem=function(t){return ht(this,void 0,void 0,function(){return pt(this,function(e){switch(e.label){case 0:return this.filterContainer.insertItem(t),[4,this.waitForImagesToLoad()];case 1:return e.sent(),this.render(),[2]}})})},t.prototype.removeItem=function(t){this.filterContainer.removeItem(t),this.render()},t.prototype.sort=function(t,e){void 0===t&&(t="index"),void 0===e&&(e="asc");var n=this.filterContainer,i=this.filterItems;n.trigger("sortingStart"),n.filterizrState=r.SORTING,i.sort(t,e),this.render()},t.prototype.search=function(t){void 0===t&&(t=this.options.get().searchTerm),this.options.searchTerm=t.toLowerCase(),this.render()},t.prototype.shuffle=function(){var t=this.filterContainer,e=this.filterItems;t.trigger("shufflingStart"),t.filterizrState=r.SHUFFLING,e.shuffle(),this.render()},t.prototype.setOptions=function(t){var e=this.filterContainer,n=this.filterItems,r="animationDuration"in t||"delay"in t||"delayMode"in t;(t.callbacks||r)&&e.unbindEvents(),this.options.set(t),(t.easing||r)&&n.styles.updateTransitionStyle(),(t.callbacks||r)&&e.bindEvents(),"searchTerm"in t&&this.search(t.searchTerm),("filter"in t||"multifilterLomultifilterLogicalOperator"in t)&&this.filter(this.options.filter),"gutterPixels"in t&&(this.filterContainer.styles.updatePaddings(),this.filterItems.styles.updateWidthWithTransitionsDisabled(),this.render())},t.prototype.toggleFilter=function(t){this.options.toggleFilter(t),this.filter(this.options.filter)},t.prototype.render=function(){var t=this.filterContainer,e=this.filterItems,n=this.options,r=e.getFiltered(n.filter);e.styles.resetDisplay(),e.getFilteredOut(n.filter).forEach(function(t){t.filterOut()});var i=lt(t.dimensions.width,r.map(function(t){return t.dimensions}),this.options.get()),o=i.containerHeight,s=i.itemsPositions;t.setHeight(o),r.forEach(function(t,e){t.filterIn(s[e])})},t.prototype.initialize=function(){return ht(this,void 0,void 0,function(){var t,e,n,r;return pt(this,function(i){switch(i.label){case 0:return e=(t=this).filterContainer,n=t.filterItems,r=t.spinner,this.bindEvents(),[4,this.waitForImagesToLoad()];case 1:return i.sent(),this.options.isSpinnerEnabled?[4,r.destroy()]:[3,3];case 2:i.sent(),i.label=3;case 3:return this.render(),[4,n.styles.enableTransitions()];case 4:return i.sent(),e.trigger("init"),[2]}})})},t.prototype.bindEvents=function(){var t=this,e=this.filterItems;this.windowEventReceiver.on("resize",a(function(){e.styles.updateWidthWithTransitionsDisabled(),t.render()},50,!1))},t.prototype.waitForImagesToLoad=function(){return ht(this,void 0,void 0,function(){var t,e,n,r=this;return pt(this,function(i){return e=(t=this).imagesHaveLoaded,n=t.filterContainer,e?[2,Promise.resolve()]:[2,new Promise(function(t){dt(n.node,function(){r.imagesHaveLoaded=!0,t()})})]})})},t.FilterContainer=J,t.FilterItem=N,t.defaultOptions=v,t.installAsJQueryPlugin=ft,t}();n.d(e,"default",function(){return yt})}]).default});
  uploads-admin-Public-Admin-plugins-filterizr-jquery.filterizr.min.js: |-
    var Filterizr=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";var r={IDLE:"IDLE",FILTERING:"FILTERING",SORTING:"SORTING",SHUFFLING:"SHUFFLING"},i={SAME_SIZE:"sameSize",SAME_HEIGHT:"sameHeight",SAME_WIDTH:"sameWidth",PACKED:"packed",HORIZONTAL:"horizontal",VERTICAL:"vertical"},o=/(^linear$)|(^ease-in-out$)|(^ease-in$)|(^ease-out$)|(^ease$)|(^step-start$)|(^step-end$)|(^steps\(\d\s*,\s*(end|start)\))$|(^cubic-bezier\((\d*\.*\d+)\s*,\s*(\d*\.*\d+)\s*,\s*(\d*\.*\d+)\s*,\s*(\d*\.*\d+)\))$/,s=function(t,e,n,r,i){if(void 0!==e){var o=new Error('Filterizr: expected type of option "'+t+'" to be "'+n+'", but its type is: "'+typeof e+'"'),s=!1,a=!1,u=n.includes("array");if((typeof e).match(n)?s=!0:!s&&u&&(a=Array.isArray(e)),!s&&!u)throw o;if(!s&&u&&!a)throw o;var c=function(t){return t?" For further help read here: "+t:""};if(Array.isArray(r)){var l=!1;if(r.forEach(function(t){t===e&&(l=!0)}),!l)throw new Error('Filterizr: allowed values for option "'+t+'" are: '+r.map(function(t){return'"'+t+'"'}).join(", ")+'. Value received: "'+e+'".'+c(i))}else if("string"==typeof e&&r instanceof RegExp){if(!e.match(r))throw new Error('Filterizr: invalid value "'+e+'" for option "'+t+'" received.'+c(i))}}},a=function(t,e,n){var r;return function(){var i=this,o=arguments;clearTimeout(r),r=window.setTimeout(function(){r=null,n||t.apply(i,o)},e),n&&!r&&t.apply(i,o)}},u=function(t,e){return t.length===e.length&&t.reduce(function(t,n,r){var i=n.getSortAttribute("index"),o=e[r].getSortAttribute("index");return t&&i===o},!0)};var c=function(t){return"string"==typeof t?document.querySelector(t):t};function l(t){return t&&"object"==typeof t&&!Array.isArray(t)}function f(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(!r.length)return t;var o=r.shift();if(l(t)&&l(o))for(var s in o)l(o[s])?(t[s]||Object.assign(t,((e={})[s]={},e)),f(t[s],o[s])):Object.assign(t,((n={})[s]=o[s],n));return f.apply(void 0,[t].concat(r))}var h=function(){};function p(t,e){Object.entries(e).forEach(function(e){var n=e[0],r=e[1];t.style[n]=r})}var d=function(t){for(var e=t.slice(0),n=[];0!==e.length;){var r=Math.floor(e.length*Math.random());n.push(e[r]),e.splice(r,1)}return n},y=function(){function t(t){this.receiver=t,this.eventDictionary={}}return t.prototype.on=function(t,e){var n=this.receiver,r=n instanceof NodeList;!!this.eventDictionary[t]&&delete this.eventDictionary[t],r&&n.length?(this.eventDictionary[t]=e,Array.from(n).forEach(function(n){n.addEventListener(t,e)})):!r&&n&&(this.eventDictionary[t]=e,n.addEventListener(t,e))},t.prototype.off=function(t){var e=this.receiver,n=this.eventDictionary[t],r=e instanceof NodeList;r&&e.length?Array.from(e).forEach(function(e){e.removeEventListener(t,n)}):!r&&e&&e.removeEventListener(t,n),delete this.eventDictionary[t]},t.prototype.destroy=function(){var t=this,e=this.receiver,n=e instanceof NodeList;n&&e.length?Array.from(e).forEach(function(e){return t.removeAllEvents(e)}):!n&&e&&this.removeAllEvents(e)},t.prototype.removeAllEvents=function(t){var e=this;Object.keys(this.eventDictionary).forEach(function(n){t.removeEventListener(n,e.eventDictionary[n]),delete e.eventDictionary[n]})},t}(),v={animationDuration:.5,callbacks:{onInit:h,onFilteringStart:h,onFilteringEnd:h,onShufflingStart:h,onShufflingEnd:h,onSortingStart:h,onSortingEnd:h},controlsSelector:"",delay:0,delayMode:"progressive",easing:"ease-out",filter:"all",filterOutCss:{opacity:0,transform:"scale(0.5)"},filterInCss:{opacity:1,transform:"scale(1)"},gridItemsSelector:".filtr-item",gutterPixels:0,layout:i.SAME_SIZE,multifilterLogicalOperator:"or",searchTerm:"",setupControls:!0,spinner:{enabled:!1,fillColor:"#2184D0",styles:{height:"75px",margin:"0 auto",width:"75px","z-index":2}}},g=function(){function t(t){this.filter=t}return t.prototype.get=function(){return this.filter},t.prototype.set=function(t){this.filter=t},t.prototype.toggle=function(t){this.filter=this.toggleFilter(this.filter,t)},t.prototype.toggleFilter=function(t,e){if("all"===t)return e;if(Array.isArray(t)){if(t.includes(e)){var n=t.filter(function(t){return t!==e});return 1===n.length?n[0]:n}return t.concat([e])}return t===e?"all":[t,e]},t}(),m=function(){return(m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},b=function(){function t(t){var e=f({},v,this.validate(t));this.options=this.convertToFilterizrOptions(e)}return Object.defineProperty(t.prototype,"isSpinnerEnabled",{get:function(){return this.options.spinner.enabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areControlsEnabled",{get:function(){return this.options.setupControls},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlsSelector",{get:function(){return this.options.controlsSelector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this.options.filter.get()},set:function(t){this.options.filter.set(t)},enumerable:!0,configurable:!0}),t.prototype.toggleFilter=function(t){this.options.filter.toggle(t)},Object.defineProperty(t.prototype,"searchTerm",{get:function(){return this.options.searchTerm},set:function(t){this.options.searchTerm=t},enumerable:!0,configurable:!0}),t.prototype.get=function(){return this.options},t.prototype.getRaw=function(){return this.convertToOptions(this.options)},t.prototype.set=function(t){var e=f({},this.convertToOptions(this.options),this.validate(t));this.options=this.convertToFilterizrOptions(e)},t.prototype.convertToFilterizrOptions=function(t){return m({},t,{filter:new g(t.filter)})},t.prototype.convertToOptions=function(t){return m({},t,{filter:t.filter.get()})},t.prototype.validate=function(t){return s("animationDuration",t.animationDuration,"number"),s("callbacks",t.callbacks,"object"),s("controlsSelector",t.controlsSelector,"string"),s("delay",t.delay,"number"),s("easing",t.easing,"string",o,"https://www.w3schools.com/cssref/css3_pr_transition-timing-function.asp"),s("delayMode",t.delayMode,"string",["progressive","alternate"]),s("filter",t.filter,"string|number|array"),s("filterOutCss",t.filterOutCss,"object"),s("filterInCss",t.filterOutCss,"object"),s("gridItemsSelector",t.gridItemsSelector,"string"),s("gutterPixels",t.gutterPixels,"number"),s("layout",t.layout,"string",Object.values(i)),s("multifilterLogicalOperator",t.multifilterLogicalOperator,"string",["and","or"]),s("searchTerm",t.searchTerm,"string"),s("setupControls",t.setupControls,"boolean"),t},t}(),w=function(){function t(t,e){void 0===e&&(e=""),this.filterizr=t,this.selector=e,this.filterControls=new y(document.querySelectorAll(e+"[data-filter]")),this.multiFilterControls=new y(document.querySelectorAll(e+"[data-multifilter]")),this.shuffleControls=new y(document.querySelectorAll(e+"[data-shuffle]")),this.searchControls=new y(document.querySelectorAll(e+"[data-search]")),this.sortAscControls=new y(document.querySelectorAll(e+"[data-sortAsc]")),this.sortDescControls=new y(document.querySelectorAll(e+"[data-sortDesc]")),this.initialize()}return t.prototype.destroy=function(){this.filterControls.destroy(),this.multiFilterControls.destroy(),this.shuffleControls.destroy(),this.searchControls.destroy(),this.sortAscControls.destroy(),this.sortDescControls.destroy()},t.prototype.initialize=function(){var t=this.filterizr,e=this.selector;this.filterControls.on("click",function(e){var n=e.currentTarget.getAttribute("data-filter");t.filter(n)}),this.multiFilterControls.on("click",function(e){var n=e.target.getAttribute("data-multifilter");t.toggleFilter(n)}),this.shuffleControls.on("click",t.shuffle.bind(t)),this.searchControls.on("keyup",a(function(e){var n=e.target.value;t.search(n)},250,!1)),this.sortAscControls.on("click",function(){var n=document.querySelector(e+"[data-sortOrder]").value;t.sort(n,"asc")}),this.sortDescControls.on("click",function(){var n=document.querySelector(e+"[data-sortOrder]").value;t.sort(n,"desc")})},t}(),E=function(){function t(t,e){this.node=t,this.options=e,this.eventReceiver=new y(this.node)}return Object.defineProperty(t.prototype,"dimensions",{get:function(){return{width:this.node.clientWidth,height:this.node.clientHeight}},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.styles.destroy()},t.prototype.trigger=function(t){var e=new Event(t);this.node.dispatchEvent(e)},t}();function I(t,e){var n=e.get(),r=n.delay;return"progressive"===n.delayMode?r*t:t%2==0?r:0}var S,O=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},x=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},_=function(){function t(){}return t.animate=function(e,n){return O(this,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return[4,t.process({node:e,targetStyles:n,eventReceiver:new y(e)})];case 1:return r.sent(),[2]}})})},t.process=function(t){return O(this,void 0,void 0,function(){return x(this,function(e){return[2,new Promise(function(e){t.eventReceiver.on("transitionend",function(){t.eventReceiver.destroy(),e()}),setTimeout(function(){p(t.node,t.targetStyles)},10)})]})})},t}().animate,k=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},C=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},A=function(){function t(t,e){this.node=t,this.options=e}return t.prototype.destroy=function(){this.node.removeAttribute("style")},t.prototype.animate=function(t){return k(this,void 0,void 0,function(){return C(this,function(e){return _(this.node,t),[2]})})},t.prototype.set=function(t){p(this.node,t)},t.prototype.remove=function(t){this.node.style.removeProperty(t)},t}(),T=(S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),j=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},P=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},F=n(1),L=function(t){function e(e,n,r){var i=t.call(this,e,r)||this;return i._index=n,i}return T(e,t),e.prototype.initialize=function(){var t;this.set((t=this.options,Object.assign({},t.get().filterOutCss,{"-webkit-backface-visibility":"hidden",perspective:"1000px","-webkit-perspective":"1000px","-webkit-transform-style":"preserve-3d",position:"absolute"})))},e.prototype.setFilteredStyles=function(t,e){this.set(function(t,e){return Object.assign({},e,{transform:(e.transform||"")+" translate3d("+t.left+"px, "+t.top+"px, 0)"})}(t,e))},e.prototype.updateTransitionStyle=function(){var t,e,n;this.set((t=this._index,e=this.options,{transition:"all "+(n=e.get()).animationDuration+"s "+n.easing+" "+I(t,e)+"ms, width 1ms"}))},e.prototype.updateWidth=function(){var t=this.options.get().gutterPixels,e=this.node.parentElement.clientWidth,n=this.node.clientWidth,r=n-t*(1/Math.floor(e/n)+1)+"px";this.set({width:r})},e.prototype.enableTransitions=function(){return j(this,void 0,void 0,function(){var t=this;return P(this,function(e){return[2,new Promise(function(e){!!t.node.querySelectorAll("img").length?F(t.node,function(){setTimeout(function(){t.updateTransitionStyle(),e()},10)}):setTimeout(function(){t.updateTransitionStyle(),e()},10)})]})})},e.prototype.disableTransitions=function(){this.remove("transition")},e.prototype.setZIndex=function(t){this.set({"z-index":t})},e.prototype.removeZIndex=function(){this.remove("z-index")},e.prototype.removeWidth=function(){this.remove("width")},e.prototype.setHidden=function(){this.set({display:"none"})},e.prototype.setVisible=function(){this.remove("display")},e}(A),z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(){return(D=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},N=function(t){function e(e,n,r){var i=t.call(this,e,r)||this;return i.filteredOut=!1,i.lastPosition={left:0,top:0},i.sortData=D({},function(t){for(var e={category:"",sort:""},n=0,r=t.attributes,i=r.length;n<i;n++){var o=r[n],s=o.nodeName,a=o.nodeValue;s.includes("data")&&(e[s.slice(5,s.length)]=a)}return delete e.category,delete e.sort,e}(e),{index:n,sortData:e.getAttribute("data-sort")}),i.styledNode=new L(e,n,r),i.styles.initialize(),i.bindEvents(),i}return z(e,t),Object.defineProperty(e.prototype,"styles",{get:function(){return this.styledNode},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unbindEvents()},e.prototype.filterIn=function(t){var e=this.options.get().filterInCss;this.styles.setFilteredStyles(t,e),this.lastPosition=t,this.filteredOut=!1},e.prototype.filterOut=function(){var t=this.options.get().filterOutCss;this.styles.setFilteredStyles(this.lastPosition,t),this.filteredOut=!0},e.prototype.contentsMatchSearch=function(t){return this.node.textContent.toLowerCase().includes(t)},e.prototype.getCategories=function(){return this.node.getAttribute("data-category").split(/\s*,\s*/g)},e.prototype.getSortAttribute=function(t){return this.sortData[t]},e.prototype.bindEvents=function(){var t=this;this.eventReceiver.on("transitionend",function(){t.filteredOut?(t.node.classList.add("filteredOut"),t.styles.setZIndex(-1e3),t.styles.setHidden()):(t.node.classList.remove("filteredOut"),t.styles.removeZIndex())})},e.prototype.unbindEvents=function(){this.eventReceiver.off("transitionend")},e}(E),M=function(){},R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},W=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},q=function(t){function e(e){var n=t.call(this)||this;return n._filterItems=e.map(function(t){return t.styles}),n}return R(e,t),e.prototype.resetDisplay=function(){this._filterItems.forEach(function(t){return t.setVisible()})},e.prototype.removeWidth=function(){this._filterItems.forEach(function(t){return t.removeWidth()})},e.prototype.updateWidth=function(){this._filterItems.forEach(function(t){return t.updateWidth()})},e.prototype.updateTransitionStyle=function(){this._filterItems.forEach(function(t){return t.updateTransitionStyle()})},e.prototype.disableTransitions=function(){this._filterItems.forEach(function(t){return t.disableTransitions()})},e.prototype.enableTransitions=function(){return H(this,void 0,void 0,function(){var t=this;return W(this,function(e){return this._filterItems.forEach(function(e){return H(t,void 0,void 0,function(){return W(this,function(t){switch(t.label){case 0:return[4,e.enableTransitions()];case 1:return[2,t.sent()]}})})}),[2]})})},e.prototype.updateWidthWithTransitionsDisabled=function(){this.disableTransitions(),this.removeWidth(),this.updateWidth(),this.enableTransitions()},e}(M),G=function(){function t(t,e){this.filterItems=t,this.styledFilterItems=new q(t),this.options=e}return Object.defineProperty(t.prototype,"styles",{get:function(){return this.styledFilterItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.filterItems.length},enumerable:!0,configurable:!0}),t.prototype.getItem=function(t){return this.filterItems[t]},t.prototype.destroy=function(){this.filterItems.forEach(function(t){return t.destroy()})},t.prototype.push=function(t){return this.filterItems.push(t)},t.prototype.remove=function(t){this.filterItems=this.filterItems.filter(function(e){return e.node!==t})},t.prototype.getFiltered=function(t){var e=this,n=this.options.searchTerm,r=this.search(this.filterItems,n);return"all"===t?r:r.filter(function(n){return e.shouldBeFiltered(n.getCategories(),t)})},t.prototype.getFilteredOut=function(t){var e=this,n=this.options.searchTerm;return this.filterItems.filter(function(r){var i=r.getCategories(),o=e.shouldBeFiltered(i,t),s=r.contentsMatchSearch(n);return!o||!s})},t.prototype.sort=function(t,e){void 0===t&&(t="index"),void 0===e&&(e="asc");var n,r,i=(n=this.filterItems,r=function(e){return e.getSortAttribute(t)},n.slice(0).sort(function(t){return function(e,n){var r=t(e),i=t(n);return r<i?-1:r>i?1:0}}(r))),o="asc"===e?i:i.reverse();this.filterItems=o},t.prototype.shuffle=function(){var t=this,e=this.getFiltered(this.options.filter);if(e.length>1){var n=this.getFiltered(this.options.filter).map(function(e){return t.filterItems.indexOf(e)}).slice(),r=void 0;do{r=d(e)}while(u(e,r));(r=d(e)).forEach(function(e,r){var i,o=n[r];t.filterItems=Object.assign([],t.filterItems,((i={})[o]=e,i))})}},t.prototype.search=function(t,e){return e?t.filter(function(t){return t.contentsMatchSearch(e)}):t},t.prototype.shouldBeFiltered=function(t,e){var n,r,i=this.options.getRaw().multifilterLogicalOperator;return Array.isArray(e)?"or"===i?!!(n=t,r=e,Array.prototype.filter.call(n,function(t){return r.includes(t)})).length:function(t,e){return t.reduce(function(t,n){return t&&e.includes(n)},!0)}(e,t):t.includes(e)},t}(),B=function(){return(B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Q=function(t){return{padding:t.get().gutterPixels+"px"}},Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.initialize=function(){var t;this.set((t=this.options,B({},Q(t),{position:"relative",width:"100%",display:"flex",flexWrap:"wrap"})))},e.prototype.updatePaddings=function(){this.set(Q(this.options))},e.prototype.setHeight=function(t){this.set({height:t+"px"})},e}(A),J=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(t){function e(e,n){var i=this;if(!e)throw new Error("Filterizr: could not initialize container, check the selector or node you passed to the constructor exists.");return(i=t.call(this,e,n)||this).styledNode=new $(e,n),i._filterizrState=r.IDLE,i.styles.initialize(),i.filterItems=i.makeFilterItems(i.options),i.bindEvents(),i}return J(e,t),Object.defineProperty(e.prototype,"styles",{get:function(){return this.styledNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterizrState",{set:function(t){this._filterizrState=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unbindEvents(),this.filterItems.destroy()},e.prototype.makeFilterItems=function(t){var e=Array.from(this.node.querySelectorAll(t.get().gridItemsSelector)).map(function(e,n){return new N(e,n,t)}),n=new G(e,t);if(!n.length)throw new Error("Filterizr: cannot initialize empty container. Make sure the gridItemsSelector option corresponds to the selector of your grid's items");return n.styles.updateWidth(),n},e.prototype.insertItem=function(t){var e=t.cloneNode(!0);e.removeAttribute("style"),this.node.appendChild(e);var n=new N(e,this.filterItems.length,this.options);n.styles.enableTransitions(),n.styles.updateWidth(),this.filterItems.push(n)},e.prototype.removeItem=function(t){this.filterItems.remove(t),this.node.removeChild(t)},e.prototype.setHeight=function(t){this.dimensions.height=t,this.styles.setHeight(t)},e.prototype.bindEvents=function(){var t=this,e=this.options.get(),n=e.animationDuration,i=e.callbacks,o=e.delay,s=e.delayMode,u=e.gridItemsSelector,c="progressive"===s?o*this.filterItems.length:o;this.eventReceiver.on("transitionend",a(function(e){if(Array.from(e.target.classList).reduce(function(t,e){return t||u.includes(e)},!1)){switch(t._filterizrState){case r.FILTERING:t.trigger("filteringEnd");break;case r.SORTING:t.trigger("sortingEnd");break;case r.SHUFFLING:t.trigger("shufflingEnd")}t.filterizrState=r.IDLE}},100*n+c,!1)),this.eventReceiver.on("init",i.onInit),this.eventReceiver.on("filteringStart",i.onFilteringStart),this.eventReceiver.on("filteringEnd",i.onFilteringEnd),this.eventReceiver.on("shufflingStart",i.onShufflingStart),this.eventReceiver.on("shufflingEnd",i.onShufflingEnd),this.eventReceiver.on("sortingStart",i.onSortingStart),this.eventReceiver.on("sortingEnd",i.onSortingEnd)},e.prototype.unbindEvents=function(){this.eventReceiver.off("transitionend"),this.eventReceiver.off("init"),this.eventReceiver.off("filteringStart"),this.eventReceiver.off("filteringEnd"),this.eventReceiver.off("shufflingStart"),this.eventReceiver.off("shufflingEnd"),this.eventReceiver.off("sortingStart"),this.eventReceiver.off("sortingEnd")},e}(E);var U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(){return(K=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},X=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},Y=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),e.prototype.initialize=function(){var t=this.options.get().spinner.styles;this.set(K({},t,{opacity:1,transition:"all ease-out 500ms"}))},e.prototype.fadeOut=function(){return X(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return[4,this.animate({opacity:0})];case 1:return t.sent(),[2]}})})},e}(A),et=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},nt=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},rt=function(){function t(t,e){var n,r,i;this.filterContainer=t,this.node=(n=e.get().spinner,r='<?xml version="1.0" encoding="UTF-8"?><svg stroke="'+n.fillColor+'" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>',(i=document.createElement("img")).classList.add("Filterizr__spinner"),i.src="data:image/svg+xml;base64,"+window.btoa(r),i.alt="Spinner",i),this.styledNode=new tt(this.node,e),this.initialize()}return Object.defineProperty(t.prototype,"styles",{get:function(){return this.styledNode},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){return et(this,void 0,void 0,function(){return nt(this,function(t){switch(t.label){case 0:return[4,this.styles.fadeOut()];case 1:return t.sent(),this.filterContainer.node.removeChild(this.node),[2]}})})},t.prototype.initialize=function(){this.styles.initialize(),this.filterContainer.node.appendChild(this.node)},t}(),it=n(2),ot=n.n(it);function st(t,e){return t.reduce(function(t,n){return t+n.width+e},0)}function at(t,e){return t.length?t.reduce(function(t,n){return t+n.height+e},0):0}var ut=function(){return(ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ct=function(){function t(t){this.init(t)}return t.prototype.init=function(t){this.root={x:0,y:0,w:t}},t.prototype.fit=function(t){var e,n,r,i=t.length,o=i>0?t[0].h:0;for(this.root.h=o,e=0;e<i;e++)r=t[e],(n=this.findNode(this.root,r.w,r.h))?r.fit=this.splitNode(n,r.w,r.h):r.fit=this.growDown(r.w,r.h)},t.prototype.findNode=function(t,e,n){return t.used?this.findNode(t.right,e,n)||this.findNode(t.down,e,n):e<=t.w&&n<=t.h?t:null},t.prototype.splitNode=function(t,e,n){return t.used=!0,t.down={x:t.x,y:t.y+n,w:t.w,h:t.h-n},t.right={x:t.x+e,y:t.y,w:t.w-e,h:n},t},t.prototype.growDown=function(t,e){var n;return this.root={used:!0,x:0,y:0,w:this.root.w,h:this.root.h+e,down:{x:0,y:this.root.h,w:this.root.w,h:e},right:this.root},(n=this.findNode(this.root,t,e))?this.splitNode(n,t,e):null},t}(),lt=ot()(function(t,e,n){var r=n.gutterPixels,o=n.layout;if(!e.length)return{containerHeight:0,itemsPositions:[]};switch(o){case i.HORIZONTAL:return function(t,e){return{containerHeight:Math.max.apply(Math,t.map(function(t){return t.height}))+2*e,itemsPositions:t.map(function(n,r){return{left:st(t.slice(0,r),e),top:0}})}}(e,r);case i.VERTICAL:return function(t,e){return{containerHeight:at(t,e)+e,itemsPositions:t.map(function(n,r){return{left:0,top:at(t.slice(0,r),e)}})}}(e,r);case i.SAME_HEIGHT:return function(t,e,n){var r=e.map(function(t,r){var i=t.width;return e.slice(0,r).reduce(function(t,e){return t+e.width+2*n},0)+i+n}),i=r.reduce(function(e,n,r){var i,o=Object.keys(e).length;return ut({},e,n>t*o&&((i={})[o]=r,i))},{0:0}),o=e.map(function(o,s){var a=o.height,u=Math.floor(r[s]/t);return{left:e.slice(i[u],s).reduce(function(t,e){return t+e.width+n},0),top:(a+n)*u}});return{containerHeight:Object.keys(i).length*(e[0].height+n)+n,itemsPositions:o}}(t,e,r);case i.SAME_WIDTH:return function(t,e,n){var r=Math.floor(t/(e[0].width+n)),i=e.map(function(t,i){var o=t.width,s=Math.floor(i/r);return{left:(i-r*s)*(o+n),top:e.slice(0,i).filter(function(t,e){return(i-e)%r==0}).reduce(function(t,e){return t+e.height+n},0)}}),o=e.reduce(function(t,e,i){var o=e.height,s=Math.floor(i/r);return t[i-r*s]+=o+n,t},Array.apply(null,Array(r)).map(Number.prototype.valueOf,0));return{containerHeight:Math.max.apply(Math,o)+n,itemsPositions:i}}(t,e,r);case i.PACKED:return function(t,e,n){var r=new ct(t),i=e.map(function(t){var e=t.width,r=t.height;return{w:e+n,h:r+n}});r.fit(i);var o=i.map(function(t){var e=t.fit;return{left:e.x,top:e.y}});return{containerHeight:r.root.h+n,itemsPositions:o}}(t,e,r);case i.SAME_SIZE:default:return function(t,e,n){var r=Math.floor(t/(e[0].width+n)),i=e.map(function(t,e){var i=t.width,o=t.height,s=Math.floor(e/r);return{left:(e-r*s)*(i+n),top:s*(o+n)}});return{containerHeight:Math.ceil(e.length/r)*(e[0].height+n)+n,itemsPositions:i}}(t,e,r)}});function ft(t){if(!t)throw new Error("Filterizr as a jQuery plugin, requires jQuery to work. If you would prefer to use the vanilla JS version, please use the correct bundle file.");t.fn.filterizr=function(){var e="."+t.trim(this.get(0).className).replace(/\s+/g,"."),n=arguments;if(!this._fltr&&0===n.length||1===n.length&&"object"==typeof n[0]){var r=n.length>0?n[0]:v;this._fltr=new yt(e,r)}else if(n.length>=1&&"string"==typeof n[0]){var i=n[0],o=Array.prototype.slice.call(n,1),s=this._fltr;switch(i){case"filter":return s.filter.apply(s,o),this;case"insertItem":return s.insertItem.apply(s,o),this;case"removeItem":return s.removeItem.apply(s,o),this;case"toggleFilter":return s.toggleFilter.apply(s,o),this;case"sort":return s.sort.apply(s,o),this;case"shuffle":return s.shuffle.apply(s,o),this;case"search":return s.search.apply(s,o),this;case"setOptions":return s.setOptions.apply(s,o),this;case"destroy":return s.destroy.apply(s,o),delete this._fltr,this;default:throw new Error("Filterizr: "+i+" is not part of the Filterizr API. Please refer to the docs for more information.")}}return this}}var ht=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},pt=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},dt=n(1),yt=function(){function t(t,e){void 0===t&&(t=".filtr-container"),void 0===e&&(e={}),this.options=new b(e);var n=this.options,r=n.areControlsEnabled,i=n.controlsSelector,o=n.isSpinnerEnabled;this.windowEventReceiver=new y(window),this.filterContainer=new V(c(t),this.options),this.imagesHaveLoaded=!this.filterContainer.node.querySelectorAll("img").length,r&&(this.filterControls=new w(this,i)),o&&(this.spinner=new rt(this.filterContainer,this.options)),this.initialize()}return Object.defineProperty(t.prototype,"filterItems",{get:function(){return this.filterContainer.filterItems},enumerable:!0,configurable:!0}),t.prototype.filter=function(t){var e=this.filterContainer;e.trigger("filteringStart"),e.filterizrState=r.FILTERING,t=Array.isArray(t)?t.map(function(t){return t.toString()}):t.toString(),this.options.filter=t,this.render()},t.prototype.destroy=function(){var t=this.windowEventReceiver,e=this.filterControls;this.filterContainer.destroy(),t.destroy(),this.options.areControlsEnabled&&e&&e.destroy()},t.prototype.insertItem=function(t){return ht(this,void 0,void 0,function(){return pt(this,function(e){switch(e.label){case 0:return this.filterContainer.insertItem(t),[4,this.waitForImagesToLoad()];case 1:return e.sent(),this.render(),[2]}})})},t.prototype.removeItem=function(t){this.filterContainer.removeItem(t),this.render()},t.prototype.sort=function(t,e){void 0===t&&(t="index"),void 0===e&&(e="asc");var n=this.filterContainer,i=this.filterItems;n.trigger("sortingStart"),n.filterizrState=r.SORTING,i.sort(t,e),this.render()},t.prototype.search=function(t){void 0===t&&(t=this.options.get().searchTerm),this.options.searchTerm=t.toLowerCase(),this.render()},t.prototype.shuffle=function(){var t=this.filterContainer,e=this.filterItems;t.trigger("shufflingStart"),t.filterizrState=r.SHUFFLING,e.shuffle(),this.render()},t.prototype.setOptions=function(t){var e=this.filterContainer,n=this.filterItems,r="animationDuration"in t||"delay"in t||"delayMode"in t;(t.callbacks||r)&&e.unbindEvents(),this.options.set(t),(t.easing||r)&&n.styles.updateTransitionStyle(),(t.callbacks||r)&&e.bindEvents(),"searchTerm"in t&&this.search(t.searchTerm),("filter"in t||"multifilterLomultifilterLogicalOperator"in t)&&this.filter(this.options.filter),"gutterPixels"in t&&(this.filterContainer.styles.updatePaddings(),this.filterItems.styles.updateWidthWithTransitionsDisabled(),this.render())},t.prototype.toggleFilter=function(t){this.options.toggleFilter(t),this.filter(this.options.filter)},t.prototype.render=function(){var t=this.filterContainer,e=this.filterItems,n=this.options,r=e.getFiltered(n.filter);e.styles.resetDisplay(),e.getFilteredOut(n.filter).forEach(function(t){t.filterOut()});var i=lt(t.dimensions.width,r.map(function(t){return t.dimensions}),this.options.get()),o=i.containerHeight,s=i.itemsPositions;t.setHeight(o),r.forEach(function(t,e){t.filterIn(s[e])})},t.prototype.initialize=function(){return ht(this,void 0,void 0,function(){var t,e,n,r;return pt(this,function(i){switch(i.label){case 0:return e=(t=this).filterContainer,n=t.filterItems,r=t.spinner,this.bindEvents(),[4,this.waitForImagesToLoad()];case 1:return i.sent(),this.options.isSpinnerEnabled?[4,r.destroy()]:[3,3];case 2:i.sent(),i.label=3;case 3:return this.render(),[4,n.styles.enableTransitions()];case 4:return i.sent(),e.trigger("init"),[2]}})})},t.prototype.bindEvents=function(){var t=this,e=this.filterItems;this.windowEventReceiver.on("resize",a(function(){e.styles.updateWidthWithTransitionsDisabled(),t.render()},50,!1))},t.prototype.waitForImagesToLoad=function(){return ht(this,void 0,void 0,function(){var t,e,n,r=this;return pt(this,function(i){return e=(t=this).imagesHaveLoaded,n=t.filterContainer,e?[2,Promise.resolve()]:[2,new Promise(function(t){dt(n.node,function(){r.imagesHaveLoaded=!0,t()})})]})})},t.FilterContainer=V,t.FilterItem=N,t.defaultOptions=v,t.installAsJQueryPlugin=ft,t}();n.d(e,"a",function(){return yt})},function(t,e,n){var r,i;
    /*!
     * imagesLoaded v4.1.4
     * JavaScript is all like "You images are done yet or what?"
     * MIT License
     */
    /*!
     * imagesLoaded v4.1.4
     * JavaScript is all like "You images are done yet or what?"
     * MIT License
     */
    !function(o,s){"use strict";r=[n(3)],void 0===(i=function(t){return function(t,e){var n=t.jQuery,r=t.console;function i(t,e){for(var n in e)t[n]=e[n];return t}var o=Array.prototype.slice;function s(t,e,a){if(!(this instanceof s))return new s(t,e,a);var u=t;"string"==typeof t&&(u=document.querySelectorAll(t)),u?(this.elements=function(t){if(Array.isArray(t))return t;if("object"==typeof t&&"number"==typeof t.length)return o.call(t);return[t]}(u),this.options=i({},this.options),"function"==typeof e?a=e:i(this.options,e),a&&this.on("always",a),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):r.error("Bad element for imagesLoaded "+(u||t))}s.prototype=Object.create(e.prototype),s.prototype.options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&a[e]){for(var n=t.querySelectorAll("img"),r=0;r<n.length;r++){var i=n[r];this.addImage(i)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(r=0;r<o.length;r++){var s=o[r];this.addElementBackgroundImages(s)}}}};var a={1:!0,9:!0,11:!0};function u(t){this.img=t}function c(t,e){this.url=t,this.element=e,this.img=new Image}return s.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,r=n.exec(e.backgroundImage);null!==r;){var i=r&&r[2];i&&this.addBackground(i,t),r=n.exec(e.backgroundImage)}},s.prototype.addImage=function(t){var e=new u(t);this.images.push(e)},s.prototype.addBackground=function(t,e){var n=new c(t,e);this.images.push(n)},s.prototype.check=function(){var t=this;function e(e,n,r){setTimeout(function(){t.progress(e,n,r)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(t){t.once("progress",e),t.check()}):this.complete()},s.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&r&&r.log("progress: "+n,t,e)},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},u.prototype=Object.create(e.prototype),u.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},u.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},u.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},u.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},u.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},u.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},u.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype=Object.create(u.prototype),c.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},c.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},s.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((n=e).fn.imagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(n(this))})},s.makeJQueryPlugin(),s}(o,t)}.apply(e,r))||(t.exports=i)}("undefined"!=typeof window?window:this)},function(t,e){function n(t,e,n,r){var i,o=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),s=e.get(o);return void 0===s&&(s=t.call(this,r),e.set(o,s)),s}function r(t,e,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=e.get(i);return void 0===o&&(o=t.apply(this,r),e.set(i,o)),o}function i(t,e,n,r,i){return n.bind(e,t,r,i)}function o(t,e){return i(t,this,1===t.length?n:r,e.cache.create(),e.serializer)}function s(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(t){return t in this.cache},a.prototype.get=function(t){return this.cache[t]},a.prototype.set=function(t,e){this.cache[t]=e};var u={create:function(){return new a}};t.exports=function(t,e){var n=e&&e.cache?e.cache:u,r=e&&e.serializer?e.serializer:s;return(e&&e.strategy?e.strategy:o)(t,{cache:n,serializer:r})},t.exports.strategies={variadic:function(t,e){return i(t,this,r,e.cache.create(),e.serializer)},monadic:function(t,e){return i(t,this,n,e.cache.create(),e.serializer)}}},function(t,e,n){var r,i;"undefined"!=typeof window&&window,void 0===(i="function"==typeof(r=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},r=n[t]=n[t]||[];return-1==r.indexOf(e)&&r.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=n.indexOf(e);return-1!=r&&n.splice(r,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var r=this._onceEvents&&this._onceEvents[t],i=0;i<n.length;i++){var o=n[i];r&&r[o]&&(this.off(t,o),delete r[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){"use strict";n.r(e);var r,i=n(0);
    /**
     * Filterizr is a JavaScript library that sorts, shuffles and applies stunning filters over
     * responsive galleries using CSS3 transitions and custom CSS effects.
     *
     * @author Yiotis Kaltsikis
     * @see {@link http://yiotis.net/filterizr}
     * @license MIT
     */
    /**
     * Filterizr is a JavaScript library that sorts, shuffles and applies stunning filters over
     * responsive galleries using CSS3 transitions and custom CSS effects.
     *
     * @author Yiotis Kaltsikis
     * @see {@link http://yiotis.net/filterizr}
     * @license MIT
     */
    r=window.jQuery,i.a.installAsJQueryPlugin(r),e.default=i.a}]).default;
  uploads-admin-Public-Admin-plugins-filterizr-vanilla.filterizr.min.js: |-
    var Filterizr=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";var r={IDLE:"IDLE",FILTERING:"FILTERING",SORTING:"SORTING",SHUFFLING:"SHUFFLING"},i={SAME_SIZE:"sameSize",SAME_HEIGHT:"sameHeight",SAME_WIDTH:"sameWidth",PACKED:"packed",HORIZONTAL:"horizontal",VERTICAL:"vertical"},o=/(^linear$)|(^ease-in-out$)|(^ease-in$)|(^ease-out$)|(^ease$)|(^step-start$)|(^step-end$)|(^steps\(\d\s*,\s*(end|start)\))$|(^cubic-bezier\((\d*\.*\d+)\s*,\s*(\d*\.*\d+)\s*,\s*(\d*\.*\d+)\s*,\s*(\d*\.*\d+)\))$/,s=function(t,e,n,r,i){if(void 0!==e){var o=new Error('Filterizr: expected type of option "'+t+'" to be "'+n+'", but its type is: "'+typeof e+'"'),s=!1,a=!1,u=n.includes("array");if((typeof e).match(n)?s=!0:!s&&u&&(a=Array.isArray(e)),!s&&!u)throw o;if(!s&&u&&!a)throw o;var c=function(t){return t?" For further help read here: "+t:""};if(Array.isArray(r)){var l=!1;if(r.forEach(function(t){t===e&&(l=!0)}),!l)throw new Error('Filterizr: allowed values for option "'+t+'" are: '+r.map(function(t){return'"'+t+'"'}).join(", ")+'. Value received: "'+e+'".'+c(i))}else if("string"==typeof e&&r instanceof RegExp){if(!e.match(r))throw new Error('Filterizr: invalid value "'+e+'" for option "'+t+'" received.'+c(i))}}},a=function(t,e,n){var r;return function(){var i=this,o=arguments;clearTimeout(r),r=window.setTimeout(function(){r=null,n||t.apply(i,o)},e),n&&!r&&t.apply(i,o)}},u=function(t,e){return t.length===e.length&&t.reduce(function(t,n,r){var i=n.getSortAttribute("index"),o=e[r].getSortAttribute("index");return t&&i===o},!0)};var c=function(t){return"string"==typeof t?document.querySelector(t):t};function l(t){return t&&"object"==typeof t&&!Array.isArray(t)}function f(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(!r.length)return t;var o=r.shift();if(l(t)&&l(o))for(var s in o)l(o[s])?(t[s]||Object.assign(t,((e={})[s]={},e)),f(t[s],o[s])):Object.assign(t,((n={})[s]=o[s],n));return f.apply(void 0,[t].concat(r))}var h=function(){};function p(t,e){Object.entries(e).forEach(function(e){var n=e[0],r=e[1];t.style[n]=r})}var d=function(t){for(var e=t.slice(0),n=[];0!==e.length;){var r=Math.floor(e.length*Math.random());n.push(e[r]),e.splice(r,1)}return n},y=function(){function t(t){this.receiver=t,this.eventDictionary={}}return t.prototype.on=function(t,e){var n=this.receiver,r=n instanceof NodeList;!!this.eventDictionary[t]&&delete this.eventDictionary[t],r&&n.length?(this.eventDictionary[t]=e,Array.from(n).forEach(function(n){n.addEventListener(t,e)})):!r&&n&&(this.eventDictionary[t]=e,n.addEventListener(t,e))},t.prototype.off=function(t){var e=this.receiver,n=this.eventDictionary[t],r=e instanceof NodeList;r&&e.length?Array.from(e).forEach(function(e){e.removeEventListener(t,n)}):!r&&e&&e.removeEventListener(t,n),delete this.eventDictionary[t]},t.prototype.destroy=function(){var t=this,e=this.receiver,n=e instanceof NodeList;n&&e.length?Array.from(e).forEach(function(e){return t.removeAllEvents(e)}):!n&&e&&this.removeAllEvents(e)},t.prototype.removeAllEvents=function(t){var e=this;Object.keys(this.eventDictionary).forEach(function(n){t.removeEventListener(n,e.eventDictionary[n]),delete e.eventDictionary[n]})},t}(),v={animationDuration:.5,callbacks:{onInit:h,onFilteringStart:h,onFilteringEnd:h,onShufflingStart:h,onShufflingEnd:h,onSortingStart:h,onSortingEnd:h},controlsSelector:"",delay:0,delayMode:"progressive",easing:"ease-out",filter:"all",filterOutCss:{opacity:0,transform:"scale(0.5)"},filterInCss:{opacity:1,transform:"scale(1)"},gridItemsSelector:".filtr-item",gutterPixels:0,layout:i.SAME_SIZE,multifilterLogicalOperator:"or",searchTerm:"",setupControls:!0,spinner:{enabled:!1,fillColor:"#2184D0",styles:{height:"75px",margin:"0 auto",width:"75px","z-index":2}}},g=function(){function t(t){this.filter=t}return t.prototype.get=function(){return this.filter},t.prototype.set=function(t){this.filter=t},t.prototype.toggle=function(t){this.filter=this.toggleFilter(this.filter,t)},t.prototype.toggleFilter=function(t,e){if("all"===t)return e;if(Array.isArray(t)){if(t.includes(e)){var n=t.filter(function(t){return t!==e});return 1===n.length?n[0]:n}return t.concat([e])}return t===e?"all":[t,e]},t}(),m=function(){return(m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},b=function(){function t(t){var e=f({},v,this.validate(t));this.options=this.convertToFilterizrOptions(e)}return Object.defineProperty(t.prototype,"isSpinnerEnabled",{get:function(){return this.options.spinner.enabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areControlsEnabled",{get:function(){return this.options.setupControls},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlsSelector",{get:function(){return this.options.controlsSelector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this.options.filter.get()},set:function(t){this.options.filter.set(t)},enumerable:!0,configurable:!0}),t.prototype.toggleFilter=function(t){this.options.filter.toggle(t)},Object.defineProperty(t.prototype,"searchTerm",{get:function(){return this.options.searchTerm},set:function(t){this.options.searchTerm=t},enumerable:!0,configurable:!0}),t.prototype.get=function(){return this.options},t.prototype.getRaw=function(){return this.convertToOptions(this.options)},t.prototype.set=function(t){var e=f({},this.convertToOptions(this.options),this.validate(t));this.options=this.convertToFilterizrOptions(e)},t.prototype.convertToFilterizrOptions=function(t){return m({},t,{filter:new g(t.filter)})},t.prototype.convertToOptions=function(t){return m({},t,{filter:t.filter.get()})},t.prototype.validate=function(t){return s("animationDuration",t.animationDuration,"number"),s("callbacks",t.callbacks,"object"),s("controlsSelector",t.controlsSelector,"string"),s("delay",t.delay,"number"),s("easing",t.easing,"string",o,"https://www.w3schools.com/cssref/css3_pr_transition-timing-function.asp"),s("delayMode",t.delayMode,"string",["progressive","alternate"]),s("filter",t.filter,"string|number|array"),s("filterOutCss",t.filterOutCss,"object"),s("filterInCss",t.filterOutCss,"object"),s("gridItemsSelector",t.gridItemsSelector,"string"),s("gutterPixels",t.gutterPixels,"number"),s("layout",t.layout,"string",Object.values(i)),s("multifilterLogicalOperator",t.multifilterLogicalOperator,"string",["and","or"]),s("searchTerm",t.searchTerm,"string"),s("setupControls",t.setupControls,"boolean"),t},t}(),w=function(){function t(t,e){void 0===e&&(e=""),this.filterizr=t,this.selector=e,this.filterControls=new y(document.querySelectorAll(e+"[data-filter]")),this.multiFilterControls=new y(document.querySelectorAll(e+"[data-multifilter]")),this.shuffleControls=new y(document.querySelectorAll(e+"[data-shuffle]")),this.searchControls=new y(document.querySelectorAll(e+"[data-search]")),this.sortAscControls=new y(document.querySelectorAll(e+"[data-sortAsc]")),this.sortDescControls=new y(document.querySelectorAll(e+"[data-sortDesc]")),this.initialize()}return t.prototype.destroy=function(){this.filterControls.destroy(),this.multiFilterControls.destroy(),this.shuffleControls.destroy(),this.searchControls.destroy(),this.sortAscControls.destroy(),this.sortDescControls.destroy()},t.prototype.initialize=function(){var t=this.filterizr,e=this.selector;this.filterControls.on("click",function(e){var n=e.currentTarget.getAttribute("data-filter");t.filter(n)}),this.multiFilterControls.on("click",function(e){var n=e.target.getAttribute("data-multifilter");t.toggleFilter(n)}),this.shuffleControls.on("click",t.shuffle.bind(t)),this.searchControls.on("keyup",a(function(e){var n=e.target.value;t.search(n)},250,!1)),this.sortAscControls.on("click",function(){var n=document.querySelector(e+"[data-sortOrder]").value;t.sort(n,"asc")}),this.sortDescControls.on("click",function(){var n=document.querySelector(e+"[data-sortOrder]").value;t.sort(n,"desc")})},t}(),E=function(){function t(t,e){this.node=t,this.options=e,this.eventReceiver=new y(this.node)}return Object.defineProperty(t.prototype,"dimensions",{get:function(){return{width:this.node.clientWidth,height:this.node.clientHeight}},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.styles.destroy()},t.prototype.trigger=function(t){var e=new Event(t);this.node.dispatchEvent(e)},t}();function I(t,e){var n=e.get(),r=n.delay;return"progressive"===n.delayMode?r*t:t%2==0?r:0}var S,O=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},x=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},_=function(){function t(){}return t.animate=function(e,n){return O(this,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return[4,t.process({node:e,targetStyles:n,eventReceiver:new y(e)})];case 1:return r.sent(),[2]}})})},t.process=function(t){return O(this,void 0,void 0,function(){return x(this,function(e){return[2,new Promise(function(e){t.eventReceiver.on("transitionend",function(){t.eventReceiver.destroy(),e()}),setTimeout(function(){p(t.node,t.targetStyles)},10)})]})})},t}().animate,k=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},C=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},A=function(){function t(t,e){this.node=t,this.options=e}return t.prototype.destroy=function(){this.node.removeAttribute("style")},t.prototype.animate=function(t){return k(this,void 0,void 0,function(){return C(this,function(e){return _(this.node,t),[2]})})},t.prototype.set=function(t){p(this.node,t)},t.prototype.remove=function(t){this.node.style.removeProperty(t)},t}(),T=(S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),j=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},P=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},F=n(1),L=function(t){function e(e,n,r){var i=t.call(this,e,r)||this;return i._index=n,i}return T(e,t),e.prototype.initialize=function(){var t;this.set((t=this.options,Object.assign({},t.get().filterOutCss,{"-webkit-backface-visibility":"hidden",perspective:"1000px","-webkit-perspective":"1000px","-webkit-transform-style":"preserve-3d",position:"absolute"})))},e.prototype.setFilteredStyles=function(t,e){this.set(function(t,e){return Object.assign({},e,{transform:(e.transform||"")+" translate3d("+t.left+"px, "+t.top+"px, 0)"})}(t,e))},e.prototype.updateTransitionStyle=function(){var t,e,n;this.set((t=this._index,e=this.options,{transition:"all "+(n=e.get()).animationDuration+"s "+n.easing+" "+I(t,e)+"ms, width 1ms"}))},e.prototype.updateWidth=function(){var t=this.options.get().gutterPixels,e=this.node.parentElement.clientWidth,n=this.node.clientWidth,r=n-t*(1/Math.floor(e/n)+1)+"px";this.set({width:r})},e.prototype.enableTransitions=function(){return j(this,void 0,void 0,function(){var t=this;return P(this,function(e){return[2,new Promise(function(e){!!t.node.querySelectorAll("img").length?F(t.node,function(){setTimeout(function(){t.updateTransitionStyle(),e()},10)}):setTimeout(function(){t.updateTransitionStyle(),e()},10)})]})})},e.prototype.disableTransitions=function(){this.remove("transition")},e.prototype.setZIndex=function(t){this.set({"z-index":t})},e.prototype.removeZIndex=function(){this.remove("z-index")},e.prototype.removeWidth=function(){this.remove("width")},e.prototype.setHidden=function(){this.set({display:"none"})},e.prototype.setVisible=function(){this.remove("display")},e}(A),z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(){return(D=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},N=function(t){function e(e,n,r){var i=t.call(this,e,r)||this;return i.filteredOut=!1,i.lastPosition={left:0,top:0},i.sortData=D({},function(t){for(var e={category:"",sort:""},n=0,r=t.attributes,i=r.length;n<i;n++){var o=r[n],s=o.nodeName,a=o.nodeValue;s.includes("data")&&(e[s.slice(5,s.length)]=a)}return delete e.category,delete e.sort,e}(e),{index:n,sortData:e.getAttribute("data-sort")}),i.styledNode=new L(e,n,r),i.styles.initialize(),i.bindEvents(),i}return z(e,t),Object.defineProperty(e.prototype,"styles",{get:function(){return this.styledNode},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unbindEvents()},e.prototype.filterIn=function(t){var e=this.options.get().filterInCss;this.styles.setFilteredStyles(t,e),this.lastPosition=t,this.filteredOut=!1},e.prototype.filterOut=function(){var t=this.options.get().filterOutCss;this.styles.setFilteredStyles(this.lastPosition,t),this.filteredOut=!0},e.prototype.contentsMatchSearch=function(t){return this.node.textContent.toLowerCase().includes(t)},e.prototype.getCategories=function(){return this.node.getAttribute("data-category").split(/\s*,\s*/g)},e.prototype.getSortAttribute=function(t){return this.sortData[t]},e.prototype.bindEvents=function(){var t=this;this.eventReceiver.on("transitionend",function(){t.filteredOut?(t.node.classList.add("filteredOut"),t.styles.setZIndex(-1e3),t.styles.setHidden()):(t.node.classList.remove("filteredOut"),t.styles.removeZIndex())})},e.prototype.unbindEvents=function(){this.eventReceiver.off("transitionend")},e}(E),M=function(){},R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},W=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},q=function(t){function e(e){var n=t.call(this)||this;return n._filterItems=e.map(function(t){return t.styles}),n}return R(e,t),e.prototype.resetDisplay=function(){this._filterItems.forEach(function(t){return t.setVisible()})},e.prototype.removeWidth=function(){this._filterItems.forEach(function(t){return t.removeWidth()})},e.prototype.updateWidth=function(){this._filterItems.forEach(function(t){return t.updateWidth()})},e.prototype.updateTransitionStyle=function(){this._filterItems.forEach(function(t){return t.updateTransitionStyle()})},e.prototype.disableTransitions=function(){this._filterItems.forEach(function(t){return t.disableTransitions()})},e.prototype.enableTransitions=function(){return H(this,void 0,void 0,function(){var t=this;return W(this,function(e){return this._filterItems.forEach(function(e){return H(t,void 0,void 0,function(){return W(this,function(t){switch(t.label){case 0:return[4,e.enableTransitions()];case 1:return[2,t.sent()]}})})}),[2]})})},e.prototype.updateWidthWithTransitionsDisabled=function(){this.disableTransitions(),this.removeWidth(),this.updateWidth(),this.enableTransitions()},e}(M),G=function(){function t(t,e){this.filterItems=t,this.styledFilterItems=new q(t),this.options=e}return Object.defineProperty(t.prototype,"styles",{get:function(){return this.styledFilterItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.filterItems.length},enumerable:!0,configurable:!0}),t.prototype.getItem=function(t){return this.filterItems[t]},t.prototype.destroy=function(){this.filterItems.forEach(function(t){return t.destroy()})},t.prototype.push=function(t){return this.filterItems.push(t)},t.prototype.remove=function(t){this.filterItems=this.filterItems.filter(function(e){return e.node!==t})},t.prototype.getFiltered=function(t){var e=this,n=this.options.searchTerm,r=this.search(this.filterItems,n);return"all"===t?r:r.filter(function(n){return e.shouldBeFiltered(n.getCategories(),t)})},t.prototype.getFilteredOut=function(t){var e=this,n=this.options.searchTerm;return this.filterItems.filter(function(r){var i=r.getCategories(),o=e.shouldBeFiltered(i,t),s=r.contentsMatchSearch(n);return!o||!s})},t.prototype.sort=function(t,e){void 0===t&&(t="index"),void 0===e&&(e="asc");var n,r,i=(n=this.filterItems,r=function(e){return e.getSortAttribute(t)},n.slice(0).sort(function(t){return function(e,n){var r=t(e),i=t(n);return r<i?-1:r>i?1:0}}(r))),o="asc"===e?i:i.reverse();this.filterItems=o},t.prototype.shuffle=function(){var t=this,e=this.getFiltered(this.options.filter);if(e.length>1){var n=this.getFiltered(this.options.filter).map(function(e){return t.filterItems.indexOf(e)}).slice(),r=void 0;do{r=d(e)}while(u(e,r));(r=d(e)).forEach(function(e,r){var i,o=n[r];t.filterItems=Object.assign([],t.filterItems,((i={})[o]=e,i))})}},t.prototype.search=function(t,e){return e?t.filter(function(t){return t.contentsMatchSearch(e)}):t},t.prototype.shouldBeFiltered=function(t,e){var n,r,i=this.options.getRaw().multifilterLogicalOperator;return Array.isArray(e)?"or"===i?!!(n=t,r=e,Array.prototype.filter.call(n,function(t){return r.includes(t)})).length:function(t,e){return t.reduce(function(t,n){return t&&e.includes(n)},!0)}(e,t):t.includes(e)},t}(),B=function(){return(B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Z=function(t){return{padding:t.get().gutterPixels+"px"}},$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $(e,t),e.prototype.initialize=function(){var t;this.set((t=this.options,B({},Z(t),{position:"relative",width:"100%",display:"flex",flexWrap:"wrap"})))},e.prototype.updatePaddings=function(){this.set(Z(this.options))},e.prototype.setHeight=function(t){this.set({height:t+"px"})},e}(A),V=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(t){function e(e,n){var i=this;if(!e)throw new Error("Filterizr: could not initialize container, check the selector or node you passed to the constructor exists.");return(i=t.call(this,e,n)||this).styledNode=new Q(e,n),i._filterizrState=r.IDLE,i.styles.initialize(),i.filterItems=i.makeFilterItems(i.options),i.bindEvents(),i}return V(e,t),Object.defineProperty(e.prototype,"styles",{get:function(){return this.styledNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterizrState",{set:function(t){this._filterizrState=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unbindEvents(),this.filterItems.destroy()},e.prototype.makeFilterItems=function(t){var e=Array.from(this.node.querySelectorAll(t.get().gridItemsSelector)).map(function(e,n){return new N(e,n,t)}),n=new G(e,t);if(!n.length)throw new Error("Filterizr: cannot initialize empty container. Make sure the gridItemsSelector option corresponds to the selector of your grid's items");return n.styles.updateWidth(),n},e.prototype.insertItem=function(t){var e=t.cloneNode(!0);e.removeAttribute("style"),this.node.appendChild(e);var n=new N(e,this.filterItems.length,this.options);n.styles.enableTransitions(),n.styles.updateWidth(),this.filterItems.push(n)},e.prototype.removeItem=function(t){this.filterItems.remove(t),this.node.removeChild(t)},e.prototype.setHeight=function(t){this.dimensions.height=t,this.styles.setHeight(t)},e.prototype.bindEvents=function(){var t=this,e=this.options.get(),n=e.animationDuration,i=e.callbacks,o=e.delay,s=e.delayMode,u=e.gridItemsSelector,c="progressive"===s?o*this.filterItems.length:o;this.eventReceiver.on("transitionend",a(function(e){if(Array.from(e.target.classList).reduce(function(t,e){return t||u.includes(e)},!1)){switch(t._filterizrState){case r.FILTERING:t.trigger("filteringEnd");break;case r.SORTING:t.trigger("sortingEnd");break;case r.SHUFFLING:t.trigger("shufflingEnd")}t.filterizrState=r.IDLE}},100*n+c,!1)),this.eventReceiver.on("init",i.onInit),this.eventReceiver.on("filteringStart",i.onFilteringStart),this.eventReceiver.on("filteringEnd",i.onFilteringEnd),this.eventReceiver.on("shufflingStart",i.onShufflingStart),this.eventReceiver.on("shufflingEnd",i.onShufflingEnd),this.eventReceiver.on("sortingStart",i.onSortingStart),this.eventReceiver.on("sortingEnd",i.onSortingEnd)},e.prototype.unbindEvents=function(){this.eventReceiver.off("transitionend"),this.eventReceiver.off("init"),this.eventReceiver.off("filteringStart"),this.eventReceiver.off("filteringEnd"),this.eventReceiver.off("shufflingStart"),this.eventReceiver.off("shufflingEnd"),this.eventReceiver.off("sortingStart"),this.eventReceiver.off("sortingEnd")},e}(E);var U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(){return(K=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},X=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},Y=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),e.prototype.initialize=function(){var t=this.options.get().spinner.styles;this.set(K({},t,{opacity:1,transition:"all ease-out 500ms"}))},e.prototype.fadeOut=function(){return X(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return[4,this.animate({opacity:0})];case 1:return t.sent(),[2]}})})},e}(A),et=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},nt=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},rt=function(){function t(t,e){var n,r,i;this.filterContainer=t,this.node=(n=e.get().spinner,r='<?xml version="1.0" encoding="UTF-8"?><svg stroke="'+n.fillColor+'" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>',(i=document.createElement("img")).classList.add("Filterizr__spinner"),i.src="data:image/svg+xml;base64,"+window.btoa(r),i.alt="Spinner",i),this.styledNode=new tt(this.node,e),this.initialize()}return Object.defineProperty(t.prototype,"styles",{get:function(){return this.styledNode},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){return et(this,void 0,void 0,function(){return nt(this,function(t){switch(t.label){case 0:return[4,this.styles.fadeOut()];case 1:return t.sent(),this.filterContainer.node.removeChild(this.node),[2]}})})},t.prototype.initialize=function(){this.styles.initialize(),this.filterContainer.node.appendChild(this.node)},t}(),it=n(2),ot=n.n(it);function st(t,e){return t.reduce(function(t,n){return t+n.width+e},0)}function at(t,e){return t.length?t.reduce(function(t,n){return t+n.height+e},0):0}var ut=function(){return(ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ct=function(){function t(t){this.init(t)}return t.prototype.init=function(t){this.root={x:0,y:0,w:t}},t.prototype.fit=function(t){var e,n,r,i=t.length,o=i>0?t[0].h:0;for(this.root.h=o,e=0;e<i;e++)r=t[e],(n=this.findNode(this.root,r.w,r.h))?r.fit=this.splitNode(n,r.w,r.h):r.fit=this.growDown(r.w,r.h)},t.prototype.findNode=function(t,e,n){return t.used?this.findNode(t.right,e,n)||this.findNode(t.down,e,n):e<=t.w&&n<=t.h?t:null},t.prototype.splitNode=function(t,e,n){return t.used=!0,t.down={x:t.x,y:t.y+n,w:t.w,h:t.h-n},t.right={x:t.x+e,y:t.y,w:t.w-e,h:n},t},t.prototype.growDown=function(t,e){var n;return this.root={used:!0,x:0,y:0,w:this.root.w,h:this.root.h+e,down:{x:0,y:this.root.h,w:this.root.w,h:e},right:this.root},(n=this.findNode(this.root,t,e))?this.splitNode(n,t,e):null},t}(),lt=ot()(function(t,e,n){var r=n.gutterPixels,o=n.layout;if(!e.length)return{containerHeight:0,itemsPositions:[]};switch(o){case i.HORIZONTAL:return function(t,e){return{containerHeight:Math.max.apply(Math,t.map(function(t){return t.height}))+2*e,itemsPositions:t.map(function(n,r){return{left:st(t.slice(0,r),e),top:0}})}}(e,r);case i.VERTICAL:return function(t,e){return{containerHeight:at(t,e)+e,itemsPositions:t.map(function(n,r){return{left:0,top:at(t.slice(0,r),e)}})}}(e,r);case i.SAME_HEIGHT:return function(t,e,n){var r=e.map(function(t,r){var i=t.width;return e.slice(0,r).reduce(function(t,e){return t+e.width+2*n},0)+i+n}),i=r.reduce(function(e,n,r){var i,o=Object.keys(e).length;return ut({},e,n>t*o&&((i={})[o]=r,i))},{0:0}),o=e.map(function(o,s){var a=o.height,u=Math.floor(r[s]/t);return{left:e.slice(i[u],s).reduce(function(t,e){return t+e.width+n},0),top:(a+n)*u}});return{containerHeight:Object.keys(i).length*(e[0].height+n)+n,itemsPositions:o}}(t,e,r);case i.SAME_WIDTH:return function(t,e,n){var r=Math.floor(t/(e[0].width+n)),i=e.map(function(t,i){var o=t.width,s=Math.floor(i/r);return{left:(i-r*s)*(o+n),top:e.slice(0,i).filter(function(t,e){return(i-e)%r==0}).reduce(function(t,e){return t+e.height+n},0)}}),o=e.reduce(function(t,e,i){var o=e.height,s=Math.floor(i/r);return t[i-r*s]+=o+n,t},Array.apply(null,Array(r)).map(Number.prototype.valueOf,0));return{containerHeight:Math.max.apply(Math,o)+n,itemsPositions:i}}(t,e,r);case i.PACKED:return function(t,e,n){var r=new ct(t),i=e.map(function(t){var e=t.width,r=t.height;return{w:e+n,h:r+n}});r.fit(i);var o=i.map(function(t){var e=t.fit;return{left:e.x,top:e.y}});return{containerHeight:r.root.h+n,itemsPositions:o}}(t,e,r);case i.SAME_SIZE:default:return function(t,e,n){var r=Math.floor(t/(e[0].width+n)),i=e.map(function(t,e){var i=t.width,o=t.height,s=Math.floor(e/r);return{left:(e-r*s)*(i+n),top:s*(o+n)}});return{containerHeight:Math.ceil(e.length/r)*(e[0].height+n)+n,itemsPositions:i}}(t,e,r)}});function ft(t){if(!t)throw new Error("Filterizr as a jQuery plugin, requires jQuery to work. If you would prefer to use the vanilla JS version, please use the correct bundle file.");t.fn.filterizr=function(){var e="."+t.trim(this.get(0).className).replace(/\s+/g,"."),n=arguments;if(!this._fltr&&0===n.length||1===n.length&&"object"==typeof n[0]){var r=n.length>0?n[0]:v;this._fltr=new yt(e,r)}else if(n.length>=1&&"string"==typeof n[0]){var i=n[0],o=Array.prototype.slice.call(n,1),s=this._fltr;switch(i){case"filter":return s.filter.apply(s,o),this;case"insertItem":return s.insertItem.apply(s,o),this;case"removeItem":return s.removeItem.apply(s,o),this;case"toggleFilter":return s.toggleFilter.apply(s,o),this;case"sort":return s.sort.apply(s,o),this;case"shuffle":return s.shuffle.apply(s,o),this;case"search":return s.search.apply(s,o),this;case"setOptions":return s.setOptions.apply(s,o),this;case"destroy":return s.destroy.apply(s,o),delete this._fltr,this;default:throw new Error("Filterizr: "+i+" is not part of the Filterizr API. Please refer to the docs for more information.")}}return this}}var ht=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},pt=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},dt=n(1),yt=function(){function t(t,e){void 0===t&&(t=".filtr-container"),void 0===e&&(e={}),this.options=new b(e);var n=this.options,r=n.areControlsEnabled,i=n.controlsSelector,o=n.isSpinnerEnabled;this.windowEventReceiver=new y(window),this.filterContainer=new J(c(t),this.options),this.imagesHaveLoaded=!this.filterContainer.node.querySelectorAll("img").length,r&&(this.filterControls=new w(this,i)),o&&(this.spinner=new rt(this.filterContainer,this.options)),this.initialize()}return Object.defineProperty(t.prototype,"filterItems",{get:function(){return this.filterContainer.filterItems},enumerable:!0,configurable:!0}),t.prototype.filter=function(t){var e=this.filterContainer;e.trigger("filteringStart"),e.filterizrState=r.FILTERING,t=Array.isArray(t)?t.map(function(t){return t.toString()}):t.toString(),this.options.filter=t,this.render()},t.prototype.destroy=function(){var t=this.windowEventReceiver,e=this.filterControls;this.filterContainer.destroy(),t.destroy(),this.options.areControlsEnabled&&e&&e.destroy()},t.prototype.insertItem=function(t){return ht(this,void 0,void 0,function(){return pt(this,function(e){switch(e.label){case 0:return this.filterContainer.insertItem(t),[4,this.waitForImagesToLoad()];case 1:return e.sent(),this.render(),[2]}})})},t.prototype.removeItem=function(t){this.filterContainer.removeItem(t),this.render()},t.prototype.sort=function(t,e){void 0===t&&(t="index"),void 0===e&&(e="asc");var n=this.filterContainer,i=this.filterItems;n.trigger("sortingStart"),n.filterizrState=r.SORTING,i.sort(t,e),this.render()},t.prototype.search=function(t){void 0===t&&(t=this.options.get().searchTerm),this.options.searchTerm=t.toLowerCase(),this.render()},t.prototype.shuffle=function(){var t=this.filterContainer,e=this.filterItems;t.trigger("shufflingStart"),t.filterizrState=r.SHUFFLING,e.shuffle(),this.render()},t.prototype.setOptions=function(t){var e=this.filterContainer,n=this.filterItems,r="animationDuration"in t||"delay"in t||"delayMode"in t;(t.callbacks||r)&&e.unbindEvents(),this.options.set(t),(t.easing||r)&&n.styles.updateTransitionStyle(),(t.callbacks||r)&&e.bindEvents(),"searchTerm"in t&&this.search(t.searchTerm),("filter"in t||"multifilterLomultifilterLogicalOperator"in t)&&this.filter(this.options.filter),"gutterPixels"in t&&(this.filterContainer.styles.updatePaddings(),this.filterItems.styles.updateWidthWithTransitionsDisabled(),this.render())},t.prototype.toggleFilter=function(t){this.options.toggleFilter(t),this.filter(this.options.filter)},t.prototype.render=function(){var t=this.filterContainer,e=this.filterItems,n=this.options,r=e.getFiltered(n.filter);e.styles.resetDisplay(),e.getFilteredOut(n.filter).forEach(function(t){t.filterOut()});var i=lt(t.dimensions.width,r.map(function(t){return t.dimensions}),this.options.get()),o=i.containerHeight,s=i.itemsPositions;t.setHeight(o),r.forEach(function(t,e){t.filterIn(s[e])})},t.prototype.initialize=function(){return ht(this,void 0,void 0,function(){var t,e,n,r;return pt(this,function(i){switch(i.label){case 0:return e=(t=this).filterContainer,n=t.filterItems,r=t.spinner,this.bindEvents(),[4,this.waitForImagesToLoad()];case 1:return i.sent(),this.options.isSpinnerEnabled?[4,r.destroy()]:[3,3];case 2:i.sent(),i.label=3;case 3:return this.render(),[4,n.styles.enableTransitions()];case 4:return i.sent(),e.trigger("init"),[2]}})})},t.prototype.bindEvents=function(){var t=this,e=this.filterItems;this.windowEventReceiver.on("resize",a(function(){e.styles.updateWidthWithTransitionsDisabled(),t.render()},50,!1))},t.prototype.waitForImagesToLoad=function(){return ht(this,void 0,void 0,function(){var t,e,n,r=this;return pt(this,function(i){return e=(t=this).imagesHaveLoaded,n=t.filterContainer,e?[2,Promise.resolve()]:[2,new Promise(function(t){dt(n.node,function(){r.imagesHaveLoaded=!0,t()})})]})})},t.FilterContainer=J,t.FilterItem=N,t.defaultOptions=v,t.installAsJQueryPlugin=ft,t}();n.d(e,"a",function(){return yt})},function(t,e,n){var r,i;
    /*!
     * imagesLoaded v4.1.4
     * JavaScript is all like "You images are done yet or what?"
     * MIT License
     */
    /*!
     * imagesLoaded v4.1.4
     * JavaScript is all like "You images are done yet or what?"
     * MIT License
     */
    !function(o,s){"use strict";r=[n(3)],void 0===(i=function(t){return function(t,e){var n=t.jQuery,r=t.console;function i(t,e){for(var n in e)t[n]=e[n];return t}var o=Array.prototype.slice;function s(t,e,a){if(!(this instanceof s))return new s(t,e,a);var u=t;"string"==typeof t&&(u=document.querySelectorAll(t)),u?(this.elements=function(t){if(Array.isArray(t))return t;if("object"==typeof t&&"number"==typeof t.length)return o.call(t);return[t]}(u),this.options=i({},this.options),"function"==typeof e?a=e:i(this.options,e),a&&this.on("always",a),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):r.error("Bad element for imagesLoaded "+(u||t))}s.prototype=Object.create(e.prototype),s.prototype.options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&a[e]){for(var n=t.querySelectorAll("img"),r=0;r<n.length;r++){var i=n[r];this.addImage(i)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(r=0;r<o.length;r++){var s=o[r];this.addElementBackgroundImages(s)}}}};var a={1:!0,9:!0,11:!0};function u(t){this.img=t}function c(t,e){this.url=t,this.element=e,this.img=new Image}return s.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,r=n.exec(e.backgroundImage);null!==r;){var i=r&&r[2];i&&this.addBackground(i,t),r=n.exec(e.backgroundImage)}},s.prototype.addImage=function(t){var e=new u(t);this.images.push(e)},s.prototype.addBackground=function(t,e){var n=new c(t,e);this.images.push(n)},s.prototype.check=function(){var t=this;function e(e,n,r){setTimeout(function(){t.progress(e,n,r)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(t){t.once("progress",e),t.check()}):this.complete()},s.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&r&&r.log("progress: "+n,t,e)},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},u.prototype=Object.create(e.prototype),u.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},u.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},u.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},u.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},u.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},u.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},u.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype=Object.create(u.prototype),c.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},c.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},s.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((n=e).fn.imagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(n(this))})},s.makeJQueryPlugin(),s}(o,t)}.apply(e,r))||(t.exports=i)}("undefined"!=typeof window?window:this)},function(t,e){function n(t,e,n,r){var i,o=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),s=e.get(o);return void 0===s&&(s=t.call(this,r),e.set(o,s)),s}function r(t,e,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=e.get(i);return void 0===o&&(o=t.apply(this,r),e.set(i,o)),o}function i(t,e,n,r,i){return n.bind(e,t,r,i)}function o(t,e){return i(t,this,1===t.length?n:r,e.cache.create(),e.serializer)}function s(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(t){return t in this.cache},a.prototype.get=function(t){return this.cache[t]},a.prototype.set=function(t,e){this.cache[t]=e};var u={create:function(){return new a}};t.exports=function(t,e){var n=e&&e.cache?e.cache:u,r=e&&e.serializer?e.serializer:s;return(e&&e.strategy?e.strategy:o)(t,{cache:n,serializer:r})},t.exports.strategies={variadic:function(t,e){return i(t,this,r,e.cache.create(),e.serializer)},monadic:function(t,e){return i(t,this,n,e.cache.create(),e.serializer)}}},function(t,e,n){var r,i;"undefined"!=typeof window&&window,void 0===(i="function"==typeof(r=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},r=n[t]=n[t]||[];return-1==r.indexOf(e)&&r.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=n.indexOf(e);return-1!=r&&n.splice(r,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var r=this._onceEvents&&this._onceEvents[t],i=0;i<n.length;i++){var o=n[i];r&&r[o]&&(this.off(t,o),delete r[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?r.call(e,n,e,t):r)||(t.exports=i)},,function(t,e,n){"use strict";n.r(e);var r=n(0);n.d(e,"default",function(){return r.a})}]).default;
  uploads-admin-Public-Admin-plugins-fullcalendar-locales-all.js: "[].push.apply(FullCalendar.globalLocales,
    function () {\n  'use strict';\n\n  var l0 = {\n    code: 'af',\n    week: {\n
    \     dow: 1, // Maandag is die eerste dag van die week.\n      doy: 4, // Die
    week wat die 4de Januarie bevat is die eerste week van die jaar.\n    },\n    buttonText:
    {\n      prev: 'Vorige',\n      next: 'Volgende',\n      today: 'Vandag',\n      year:
    'Jaar',\n      month: 'Maand',\n      week: 'Week',\n      day: 'Dag',\n      list:
    'Agenda',\n    },\n    allDayText: 'Heeldag',\n    moreLinkText: 'Addisionele',\n
    \   noEventsText: 'Daar is geen gebeurtenisse nie',\n  };\n\n  var l1 = {\n    code:
    'ar-dz',\n    week: {\n      dow: 0, // Sunday is the first day of the week.\n
    \     doy: 4, // The week that contains Jan 1st is the first week of the year.\n
    \   },\n    direction: 'rtl',\n    buttonText: {\n      prev: 'السابق',\n      next:
    'التالي',\n      today: 'اليوم',\n      month: 'شهر',\n      week: 'أسبوع',\n
    \     day: 'يوم',\n      list: 'أجندة',\n    },\n    weekText: 'أسبوع',\n    allDayText:
    'اليوم كله',\n    moreLinkText: 'أخرى',\n    noEventsText: 'أي أحداث لعرض',\n
    \ };\n\n  var l2 = {\n    code: 'ar-kw',\n    week: {\n      dow: 0, // Sunday
    is the first day of the week.\n      doy: 12, // The week that contains Jan 1st
    is the first week of the year.\n    },\n    direction: 'rtl',\n    buttonText:
    {\n      prev: 'السابق',\n      next: 'التالي',\n      today: 'اليوم',\n      month:
    'شهر',\n      week: 'أسبوع',\n      day: 'يوم',\n      list: 'أجندة',\n    },\n
    \   weekText: 'أسبوع',\n    allDayText: 'اليوم كله',\n    moreLinkText: 'أخرى',\n
    \   noEventsText: 'أي أحداث لعرض',\n  };\n\n  var l3 = {\n    code: 'ar-ly',\n
    \   week: {\n      dow: 6, // Saturday is the first day of the week.\n      doy:
    12, // The week that contains Jan 1st is the first week of the year.\n    },\n
    \   direction: 'rtl',\n    buttonText: {\n      prev: 'السابق',\n      next: 'التالي',\n
    \     today: 'اليوم',\n      month: 'شهر',\n      week: 'أسبوع',\n      day: 'يوم',\n
    \     list: 'أجندة',\n    },\n    weekText: 'أسبوع',\n    allDayText: 'اليوم كله',\n
    \   moreLinkText: 'أخرى',\n    noEventsText: 'أي أحداث لعرض',\n  };\n\n  var l4
    = {\n    code: 'ar-ma',\n    week: {\n      dow: 6, // Saturday is the first day
    of the week.\n      doy: 12, // The week that contains Jan 1st is the first week
    of the year.\n    },\n    direction: 'rtl',\n    buttonText: {\n      prev: 'السابق',\n
    \     next: 'التالي',\n      today: 'اليوم',\n      month: 'شهر',\n      week:
    'أسبوع',\n      day: 'يوم',\n      list: 'أجندة',\n    },\n    weekText: 'أسبوع',\n
    \   allDayText: 'اليوم كله',\n    moreLinkText: 'أخرى',\n    noEventsText: 'أي
    أحداث لعرض',\n  };\n\n  var l5 = {\n    code: 'ar-sa',\n    week: {\n      dow:
    0, // Sunday is the first day of the week.\n      doy: 6, // The week that contains
    Jan 1st is the first week of the year.\n    },\n    direction: 'rtl',\n    buttonText:
    {\n      prev: 'السابق',\n      next: 'التالي',\n      today: 'اليوم',\n      month:
    'شهر',\n      week: 'أسبوع',\n      day: 'يوم',\n      list: 'أجندة',\n    },\n
    \   weekText: 'أسبوع',\n    allDayText: 'اليوم كله',\n    moreLinkText: 'أخرى',\n
    \   noEventsText: 'أي أحداث لعرض',\n  };\n\n  var l6 = {\n    code: 'ar-tn',\n
    \   week: {\n      dow: 1, // Monday is the first day of the week.\n      doy:
    4, // The week that contains Jan 4th is the first week of the year.\n    },\n
    \   direction: 'rtl',\n    buttonText: {\n      prev: 'السابق',\n      next: 'التالي',\n
    \     today: 'اليوم',\n      month: 'شهر',\n      week: 'أسبوع',\n      day: 'يوم',\n
    \     list: 'أجندة',\n    },\n    weekText: 'أسبوع',\n    allDayText: 'اليوم كله',\n
    \   moreLinkText: 'أخرى',\n    noEventsText: 'أي أحداث لعرض',\n  };\n\n  var l7
    = {\n    code: 'ar',\n    week: {\n      dow: 6, // Saturday is the first day
    of the week.\n      doy: 12, // The week that contains Jan 1st is the first week
    of the year.\n    },\n    direction: 'rtl',\n    buttonText: {\n      prev: 'السابق',\n
    \     next: 'التالي',\n      today: 'اليوم',\n      month: 'شهر',\n      week:
    'أسبوع',\n      day: 'يوم',\n      list: 'أجندة',\n    },\n    weekText: 'أسبوع',\n
    \   allDayText: 'اليوم كله',\n    moreLinkText: 'أخرى',\n    noEventsText: 'أي
    أحداث لعرض',\n  };\n\n  var l8 = {\n    code: 'az',\n    week: {\n      dow: 1,
    // Monday is the first day of the week.\n      doy: 4, // The week that contains
    Jan 4th is the first week of the year.\n    },\n    buttonText: {\n      prev:
    'Əvvəl',\n      next: 'Sonra',\n      today: 'Bu Gün',\n      month: 'Ay',\n      week:
    'Həftə',\n      day: 'Gün',\n      list: 'Gündəm',\n    },\n    weekText: 'Həftə',\n
    \   allDayText: 'Bütün Gün',\n    moreLinkText: function(n) {\n      return '+
    daha çox ' + n\n    },\n    noEventsText: 'Göstərmək üçün hadisə yoxdur',\n  };\n\n
    \ var l9 = {\n    code: 'bg',\n    week: {\n      dow: 1, // Monday is the first
    day of the week.\n      doy: 7, // The week that contains Jan 1st is the first
    week of the year.\n    },\n    buttonText: {\n      prev: 'назад',\n      next:
    'напред',\n      today: 'днес',\n      month: 'Месец',\n      week: 'Седмица',\n
    \     day: 'Ден',\n      list: 'График',\n    },\n    allDayText: 'Цял ден',\n
    \   moreLinkText: function(n) {\n      return '+още ' + n\n    },\n    noEventsText:
    'Няма събития за показване',\n  };\n\n  var l10 = {\n    code: 'bn',\n    week:
    {\n      dow: 0, // Sunday is the first day of the week.\n      doy: 6, // The
    week that contains Jan 1st is the first week of the year.\n    },\n    buttonText:
    {\n      prev: 'পেছনে',\n      next: 'সামনে',\n      today: 'আজ',\n      month:
    'মাস',\n      week: 'সপ্তাহ',\n      day: 'দিন',\n      list: 'তালিকা',\n    },\n
    \   weekText: 'সপ্তাহ',\n    allDayText: 'সারাদিন',\n    moreLinkText: function(n)
    {\n      return '+অন্যান্য ' + n\n    },\n    noEventsText: 'কোনো ইভেন্ট নেই',\n
    \ };\n\n  var l11 = {\n    code: 'bs',\n    week: {\n      dow: 1, // Monday is
    the first day of the week.\n      doy: 7, // The week that contains Jan 1st is
    the first week of the year.\n    },\n    buttonText: {\n      prev: 'Prošli',\n
    \     next: 'Sljedeći',\n      today: 'Danas',\n      month: 'Mjesec',\n      week:
    'Sedmica',\n      day: 'Dan',\n      list: 'Raspored',\n    },\n    weekText:
    'Sed',\n    allDayText: 'Cijeli dan',\n    moreLinkText: function(n) {\n      return
    '+ još ' + n\n    },\n    noEventsText: 'Nema događaja za prikazivanje',\n  };\n\n
    \ var l12 = {\n    code: 'ca',\n    week: {\n      dow: 1, // Monday is the first
    day of the week.\n      doy: 4, // The week that contains Jan 4th is the first
    week of the year.\n    },\n    buttonText: {\n      prev: 'Anterior',\n      next:
    'Següent',\n      today: 'Avui',\n      month: 'Mes',\n      week: 'Setmana',\n
    \     day: 'Dia',\n      list: 'Agenda',\n    },\n    weekText: 'Set',\n    allDayText:
    'Tot el dia',\n    moreLinkText: 'més',\n    noEventsText: 'No hi ha esdeveniments
    per mostrar',\n  };\n\n  var l13 = {\n    code: 'cs',\n    week: {\n      dow:
    1, // Monday is the first day of the week.\n      doy: 4, // The week that contains
    Jan 4th is the first week of the year.\n    },\n    buttonText: {\n      prev:
    'Dříve',\n      next: 'Později',\n      today: 'Nyní',\n      month: 'Měsíc',\n
    \     week: 'Týden',\n      day: 'Den',\n      list: 'Agenda',\n    },\n    weekText:
    'Týd',\n    allDayText: 'Celý den',\n    moreLinkText: function(n) {\n      return
    '+další: ' + n\n    },\n    noEventsText: 'Žádné akce k zobrazení',\n  };\n\n
    \ var l14 = {\n    code: 'cy',\n    week: {\n      dow: 1, // Monday is the first
    day of the week.\n      doy: 4, // The week that contains Jan 4th is the first
    week of the year.\n    },\n    buttonText: {\n      prev: 'Blaenorol',\n      next:
    'Nesaf',\n      today: 'Heddiw',\n      year: 'Blwyddyn',\n      month: 'Mis',\n
    \     week: 'Wythnos',\n      day: 'Dydd',\n      list: 'Rhestr',\n    },\n    weekText:
    'Wythnos',\n    allDayText: 'Trwy\\'r dydd',\n    moreLinkText: 'Mwy',\n    noEventsText:
    'Dim digwyddiadau',\n  };\n\n  var l15 = {\n    code: 'da',\n    week: {\n      dow:
    1, // Monday is the first day of the week.\n      doy: 4, // The week that contains
    Jan 4th is the first week of the year.\n    },\n    buttonText: {\n      prev:
    'Forrige',\n      next: 'Næste',\n      today: 'I dag',\n      month: 'Måned',\n
    \     week: 'Uge',\n      day: 'Dag',\n      list: 'Agenda',\n    },\n    weekText:
    'Uge',\n    allDayText: 'Hele dagen',\n    moreLinkText: 'flere',\n    noEventsText:
    'Ingen arrangementer at vise',\n  };\n\n  var l16 = {\n    code: 'de-at',\n    week:
    {\n      dow: 1, // Monday is the first day of the week.\n      doy: 4, // The
    week that contains Jan 4th is the first week of the year.\n    },\n    buttonText:
    {\n      prev: 'Zurück',\n      next: 'Vor',\n      today: 'Heute',\n      year:
    'Jahr',\n      month: 'Monat',\n      week: 'Woche',\n      day: 'Tag',\n      list:
    'Terminübersicht',\n    },\n    weekText: 'KW',\n    allDayText: 'Ganztägig',\n
    \   moreLinkText: function(n) {\n      return '+ weitere ' + n\n    },\n    noEventsText:
    'Keine Ereignisse anzuzeigen',\n  };\n\n  var l17 = {\n    code: 'de',\n    week:
    {\n      dow: 1, // Monday is the first day of the week.\n      doy: 4, // The
    week that contains Jan 4th is the first week of the year.\n    },\n    buttonText:
    {\n      prev: 'Zurück',\n      next: 'Vor',\n      today: 'Heute',\n      year:
    'Jahr',\n      month: 'Monat',\n      week: 'Woche',\n      day: 'Tag',\n      list:
    'Terminübersicht',\n    },\n    weekText: 'KW',\n    allDayText: 'Ganztägig',\n
    \   moreLinkText: function(n) {\n      return '+ weitere ' + n\n    },\n    noEventsText:
    'Keine Ereignisse anzuzeigen',\n  };\n\n  var l18 = {\n    code: 'el',\n    week:
    {\n      dow: 1, // Monday is the first day of the week.\n      doy: 4, // The
    week that contains Jan 4st is the first week of the year.\n    },\n    buttonText:
    {\n      prev: 'Προηγούμενος',\n      next: 'Επόμενος',\n      today: 'Σήμερα',\n
    \     month: 'Μήνας',\n      week: 'Εβδομάδα',\n      day: 'Ημέρα',\n      list:
    'Ατζέντα',\n    },\n    weekText: 'Εβδ',\n    allDayText: 'Ολοήμερο',\n    moreLinkText:
    'περισσότερα',\n    noEventsText: 'Δεν υπάρχουν γεγονότα προς εμφάνιση',\n  };\n\n
    \ var l19 = {\n    code: 'en-au',\n    week: {\n      dow: 1, // Monday is the
    first day of the week.\n      doy: 4, // The week that contains Jan 4th is the
    first week of the year.\n    },\n  };\n\n  var l20 = {\n    code: 'en-gb',\n    week:
    {\n      dow: 1, // Monday is the first day of the week.\n      doy: 4, // The
    week that contains Jan 4th is the first week of the year.\n    },\n  };\n\n  var
    l21 = {\n    code: 'en-nz',\n    week: {\n      dow: 1, // Monday is the first
    day of the week.\n      doy: 4, // The week that contains Jan 4th is the first
    week of the year.\n    },\n  };\n\n  var l22 = {\n    code: 'eo',\n    week: {\n
    \     dow: 1, // Monday is the first day of the week.\n      doy: 4, // The week
    that contains Jan 4th is the first week of the year.\n    },\n    buttonText:
    {\n      prev: 'Antaŭa',\n      next: 'Sekva',\n      today: 'Hodiaŭ',\n      month:
    'Monato',\n      week: 'Semajno',\n      day: 'Tago',\n      list: 'Tagordo',\n
    \   },\n    weekText: 'Sm',\n    allDayText: 'Tuta tago',\n    moreLinkText: 'pli',\n
    \   noEventsText: 'Neniuj eventoj por montri',\n  };\n\n  var l23 = {\n    code:
    'es',\n    week: {\n      dow: 0, // Sunday is the first day of the week.\n      doy:
    6, // The week that contains Jan 1st is the first week of the year.\n    },\n
    \   buttonText: {\n      prev: 'Ant',\n      next: 'Sig',\n      today: 'Hoy',\n
    \     month: 'Mes',\n      week: 'Semana',\n      day: 'Día',\n      list: 'Agenda',\n
    \   },\n    weekText: 'Sm',\n    allDayText: 'Todo el día',\n    moreLinkText:
    'más',\n    noEventsText: 'No hay eventos para mostrar',\n  };\n\n  var l24 =
    {\n    code: 'es',\n    week: {\n      dow: 1, // Monday is the first day of the
    week.\n      doy: 4, // The week that contains Jan 4th is the first week of the
    year.\n    },\n    buttonText: {\n      prev: 'Ant',\n      next: 'Sig',\n      today:
    'Hoy',\n      month: 'Mes',\n      week: 'Semana',\n      day: 'Día',\n      list:
    'Agenda',\n    },\n    weekText: 'Sm',\n    allDayText: 'Todo el día',\n    moreLinkText:
    'más',\n    noEventsText: 'No hay eventos para mostrar',\n  };\n\n  var l25 =
    {\n    code: 'et',\n    week: {\n      dow: 1, // Monday is the first day of the
    week.\n      doy: 4, // The week that contains Jan 4th is the first week of the
    year.\n    },\n    buttonText: {\n      prev: 'Eelnev',\n      next: 'Järgnev',\n
    \     today: 'Täna',\n      month: 'Kuu',\n      week: 'Nädal',\n      day: 'Päev',\n
    \     list: 'Päevakord',\n    },\n    weekText: 'näd',\n    allDayText: 'Kogu
    päev',\n    moreLinkText: function(n) {\n      return '+ veel ' + n\n    },\n
    \   noEventsText: 'Kuvamiseks puuduvad sündmused',\n  };\n\n  var l26 = {\n    code:
    'eu',\n    week: {\n      dow: 1, // Monday is the first day of the week.\n      doy:
    7, // The week that contains Jan 1st is the first week of the year.\n    },\n
    \   buttonText: {\n      prev: 'Aur',\n      next: 'Hur',\n      today: 'Gaur',\n
    \     month: 'Hilabetea',\n      week: 'Astea',\n      day: 'Eguna',\n      list:
    'Agenda',\n    },\n    weekText: 'As',\n    allDayText: 'Egun osoa',\n    moreLinkText:
    'gehiago',\n    noEventsText: 'Ez dago ekitaldirik erakusteko',\n  };\n\n  var
    l27 = {\n    code: 'fa',\n    week: {\n      dow: 6, // Saturday is the first
    day of the week.\n      doy: 12, // The week that contains Jan 1st is the first
    week of the year.\n    },\n    direction: 'rtl',\n    buttonText: {\n      prev:
    'قبلی',\n      next: 'بعدی',\n      today: 'امروز',\n      month: 'ماه',\n      week:
    'هفته',\n      day: 'روز',\n      list: 'برنامه',\n    },\n    weekText: 'هف',\n
    \   allDayText: 'تمام روز',\n    moreLinkText: function(n) {\n      return 'بیش
    از ' + n\n    },\n    noEventsText: 'هیچ رویدادی به نمایش',\n  };\n\n  var l28
    = {\n    code: 'fi',\n    week: {\n      dow: 1, // Monday is the first day of
    the week.\n      doy: 4, // The week that contains Jan 4th is the first week of
    the year.\n    },\n    buttonText: {\n      prev: 'Edellinen',\n      next: 'Seuraava',\n
    \     today: 'Tänään',\n      month: 'Kuukausi',\n      week: 'Viikko',\n      day:
    'Päivä',\n      list: 'Tapahtumat',\n    },\n    weekText: 'Vk',\n    allDayText:
    'Koko päivä',\n    moreLinkText: 'lisää',\n    noEventsText: 'Ei näytettäviä tapahtumia',\n
    \ };\n\n  var l29 = {\n    code: 'fr',\n    buttonText: {\n      prev: 'Précédent',\n
    \     next: 'Suivant',\n      today: \"Aujourd'hui\",\n      year: 'Année',\n
    \     month: 'Mois',\n      week: 'Semaine',\n      day: 'Jour',\n      list:
    'Mon planning',\n    },\n    weekText: 'Sem.',\n    allDayText: 'Toute la journée',\n
    \   moreLinkText: 'en plus',\n    noEventsText: 'Aucun événement à afficher',\n
    \ };\n\n  var l30 = {\n    code: 'fr-ch',\n    week: {\n      dow: 1, // Monday
    is the first day of the week.\n      doy: 4, // The week that contains Jan 4th
    is the first week of the year.\n    },\n    buttonText: {\n      prev: 'Précédent',\n
    \     next: 'Suivant',\n      today: 'Courant',\n      year: 'Année',\n      month:
    'Mois',\n      week: 'Semaine',\n      day: 'Jour',\n      list: 'Mon planning',\n
    \   },\n    weekText: 'Sm',\n    allDayText: 'Toute la journée',\n    moreLinkText:
    'en plus',\n    noEventsText: 'Aucun événement à afficher',\n  };\n\n  var l31
    = {\n    code: 'fr',\n    week: {\n      dow: 1, // Monday is the first day of
    the week.\n      doy: 4, // The week that contains Jan 4th is the first week of
    the year.\n    },\n    buttonText: {\n      prev: 'Précédent',\n      next: 'Suivant',\n
    \     today: \"Aujourd'hui\",\n      year: 'Année',\n      month: 'Mois',\n      week:
    'Semaine',\n      day: 'Jour',\n      list: 'Planning',\n    },\n    weekText:
    'Sem.',\n    allDayText: 'Toute la journée',\n    moreLinkText: 'en plus',\n    noEventsText:
    'Aucun événement à afficher',\n  };\n\n  var l32 = {\n    code: 'gl',\n    week:
    {\n      dow: 1, // Monday is the first day of the week.\n      doy: 4, // The
    week that contains Jan 4th is the first week of the year.\n    },\n    buttonText:
    {\n      prev: 'Ant',\n      next: 'Seg',\n      today: 'Hoxe',\n      month:
    'Mes',\n      week: 'Semana',\n      day: 'Día',\n      list: 'Axenda',\n    },\n
    \   weekText: 'Sm',\n    allDayText: 'Todo o día',\n    moreLinkText: 'máis',\n
    \   noEventsText: 'Non hai eventos para amosar',\n  };\n\n  var l33 = {\n    code:
    'he',\n    direction: 'rtl',\n    buttonText: {\n      prev: 'הקודם',\n      next:
    'הבא',\n      today: 'היום',\n      month: 'חודש',\n      week: 'שבוע',\n      day:
    'יום',\n      list: 'סדר יום',\n    },\n    allDayText: 'כל היום',\n    moreLinkText:
    'אחר',\n    noEventsText: 'אין אירועים להצגה',\n    weekText: 'שבוע',\n  };\n\n
    \ var l34 = {\n    code: 'hi',\n    week: {\n      dow: 0, // Sunday is the first
    day of the week.\n      doy: 6, // The week that contains Jan 1st is the first
    week of the year.\n    },\n    buttonText: {\n      prev: 'पिछला',\n      next:
    'अगला',\n      today: 'आज',\n      month: 'महीना',\n      week: 'सप्ताह',\n      day:
    'दिन',\n      list: 'कार्यसूची',\n    },\n    weekText: 'हफ्ता',\n    allDayText:
    'सभी दिन',\n    moreLinkText: function(n) {\n      return '+अधिक ' + n\n    },\n
    \   noEventsText: 'कोई घटनाओं को प्रदर्शित करने के लिए',\n  };\n\n  var l35 =
    {\n    code: 'hr',\n    week: {\n      dow: 1, // Monday is the first day of the
    week.\n      doy: 7, // The week that contains Jan 1st is the first week of the
    year.\n    },\n    buttonText: {\n      prev: 'Prijašnji',\n      next: 'Sljedeći',\n
    \     today: 'Danas',\n      month: 'Mjesec',\n      week: 'Tjedan',\n      day:
    'Dan',\n      list: 'Raspored',\n    },\n    weekText: 'Tje',\n    allDayText:
    'Cijeli dan',\n    moreLinkText: function(n) {\n      return '+ još ' + n\n    },\n
    \   noEventsText: 'Nema događaja za prikaz',\n  };\n\n  var l36 = {\n    code:
    'hu',\n    week: {\n      dow: 1, // Monday is the first day of the week.\n      doy:
    4, // The week that contains Jan 4th is the first week of the year.\n    },\n
    \   buttonText: {\n      prev: 'vissza',\n      next: 'előre',\n      today: 'ma',\n
    \     month: 'Hónap',\n      week: 'Hét',\n      day: 'Nap',\n      list: 'Lista',\n
    \   },\n    weekText: 'Hét',\n    allDayText: 'Egész nap',\n    moreLinkText:
    'további',\n    noEventsText: 'Nincs megjeleníthető esemény',\n  };\n\n  var l37
    = {\n    code: 'hy-am',\n    week: {\n      dow: 1, // Monday is the first day
    of the week.\n      doy: 4, // The week that contains Jan 4th is the first week
    of the year.\n    },\n    buttonText: {\n      prev: 'Նախորդ',\n      next: 'Հաջորդ',\n
    \     today: 'Այսօր',\n      month: 'Ամիս',\n      week: 'Շաբաթ',\n      day:
    'Օր',\n      list: 'Օրվա ցուցակ',\n    },\n    weekText: 'Շաբ',\n    allDayText:
    'Ամբողջ օր',\n    moreLinkText: function(n) {\n      return '+ ևս ' + n\n    },\n
    \   noEventsText: 'Բացակայում է իրադարձությունը ցուցադրելու',\n  };\n\n  var l38
    = {\n    code: 'id',\n    week: {\n      dow: 1, // Monday is the first day of
    the week.\n      doy: 7, // The week that contains Jan 1st is the first week of
    the year.\n    },\n    buttonText: {\n      prev: 'mundur',\n      next: 'maju',\n
    \     today: 'hari ini',\n      month: 'Bulan',\n      week: 'Minggu',\n      day:
    'Hari',\n      list: 'Agenda',\n    },\n    weekText: 'Mg',\n    allDayText: 'Sehari
    penuh',\n    moreLinkText: 'lebih',\n    noEventsText: 'Tidak ada acara untuk
    ditampilkan',\n  };\n\n  var l39 = {\n    code: 'is',\n    week: {\n      dow:
    1, // Monday is the first day of the week.\n      doy: 4, // The week that contains
    Jan 4th is the first week of the year.\n    },\n    buttonText: {\n      prev:
    'Fyrri',\n      next: 'Næsti',\n      today: 'Í dag',\n      month: 'Mánuður',\n
    \     week: 'Vika',\n      day: 'Dagur',\n      list: 'Dagskrá',\n    },\n    weekText:
    'Vika',\n    allDayText: 'Allan daginn',\n    moreLinkText: 'meira',\n    noEventsText:
    'Engir viðburðir til að sýna',\n  };\n\n  var l40 = {\n    code: 'it',\n    week:
    {\n      dow: 1, // Monday is the first day of the week.\n      doy: 4, // The
    week that contains Jan 4th is the first week of the year.\n    },\n    buttonText:
    {\n      prev: 'Prec',\n      next: 'Succ',\n      today: 'Oggi',\n      month:
    'Mese',\n      week: 'Settimana',\n      day: 'Giorno',\n      list: 'Agenda',\n
    \   },\n    weekText: 'Sm',\n    allDayText: 'Tutto il giorno',\n    moreLinkText:
    function(n) {\n      return '+altri ' + n\n    },\n    noEventsText: 'Non ci sono
    eventi da visualizzare',\n  };\n\n  var l41 = {\n    code: 'ja',\n    buttonText:
    {\n      prev: '前',\n      next: '次',\n      today: '今日',\n      month: '月',\n
    \     week: '週',\n      day: '日',\n      list: '予定リスト',\n    },\n    weekText:
    '週',\n    allDayText: '終日',\n    moreLinkText: function(n) {\n      return '他
    ' + n + ' 件'\n    },\n    noEventsText: '表示する予定はありません',\n  };\n\n  var l42 = {\n
    \   code: 'ka',\n    week: {\n      dow: 1,\n      doy: 7,\n    },\n    buttonText:
    {\n      prev: 'წინა',\n      next: 'შემდეგი',\n      today: 'დღეს',\n      month:
    'თვე',\n      week: 'კვირა',\n      day: 'დღე',\n      list: 'დღის წესრიგი',\n
    \   },\n    weekText: 'კვ',\n    allDayText: 'მთელი დღე',\n    moreLinkText: function(n)
    {\n      return '+ კიდევ ' + n\n    },\n    noEventsText: 'ღონისძიებები არ არის',\n
    \ };\n\n  var l43 = {\n    code: 'kk',\n    week: {\n      dow: 1, // Monday is
    the first day of the week.\n      doy: 7, // The week that contains Jan 1st is
    the first week of the year.\n    },\n    buttonText: {\n      prev: 'Алдыңғы',\n
    \     next: 'Келесі',\n      today: 'Бүгін',\n      month: 'Ай',\n      week:
    'Апта',\n      day: 'Күн',\n      list: 'Күн тәртібі',\n    },\n    weekText:
    'Не',\n    allDayText: 'Күні бойы',\n    moreLinkText: function(n) {\n      return
    '+ тағы ' + n\n    },\n    noEventsText: 'Көрсету үшін оқиғалар жоқ',\n  };\n\n
    \ var l44 = {\n    code: 'km',\n    week: {\n      dow: 1, // Monday is the first
    day of the week.\n      doy: 4, // The week that contains Jan 4th is the first
    week of the year.\n    },\n    buttonText: {\n      prev: 'មុន',\n      next:
    'បន្ទាប់',\n      today: 'ថ្ងៃនេះ',\n      year: 'ឆ្នាំ',\n      month: 'ខែ',\n
    \     week: 'សប្តាហ៍',\n      day: 'ថ្ងៃ',\n      list: 'បញ្ជី',\n    },\n    weekText:
    'សប្តាហ៍',\n    allDayText: 'ពេញមួយថ្ងៃ',\n    moreLinkText: 'ច្រើនទៀត',\n    noEventsText:
    'គ្មានព្រឹត្តិការណ៍ត្រូវបង្ហាញ',\n  };\n\n  var l45 = {\n    code: 'ko',\n    buttonText:
    {\n      prev: '이전달',\n      next: '다음달',\n      today: '오늘',\n      month: '월',\n
    \     week: '주',\n      day: '일',\n      list: '일정목록',\n    },\n    weekText:
    '주',\n    allDayText: '종일',\n    moreLinkText: '개',\n    noEventsText: '일정이 없습니다',\n
    \ };\n\n  var l46 = {\n    code: 'ku',\n    week: {\n      dow: 6, // Saturday
    is the first day of the week.\n      doy: 12, // The week that contains Jan 1st
    is the first week of the year.\n    },\n    direction: 'rtl',\n    buttonText:
    {\n      prev: 'پێشتر',\n      next: 'دواتر',\n      today: 'ئەمڕو',\n      month:
    'مانگ',\n      week: 'هەفتە',\n      day: 'ڕۆژ',\n      list: 'بەرنامە',\n    },\n
    \   weekText: 'هەفتە',\n    allDayText: 'هەموو ڕۆژەکە',\n    moreLinkText: 'زیاتر',\n
    \   noEventsText: 'هیچ ڕووداوێك نیە',\n  };\n\n  var l47 = {\n    code: 'lb',\n
    \   week: {\n      dow: 1, // Monday is the first day of the week.\n      doy:
    4, // The week that contains Jan 4th is the first week of the year.\n    },\n
    \   buttonText: {\n      prev: 'Zréck',\n      next: 'Weider',\n      today: 'Haut',\n
    \     month: 'Mount',\n      week: 'Woch',\n      day: 'Dag',\n      list: 'Terminiwwersiicht',\n
    \   },\n    weekText: 'W',\n    allDayText: 'Ganzen Dag',\n    moreLinkText: 'méi',\n
    \   noEventsText: 'Nee Evenementer ze affichéieren',\n  };\n\n  var l48 = {\n
    \   code: 'lt',\n    week: {\n      dow: 1, // Monday is the first day of the
    week.\n      doy: 4, // The week that contains Jan 4th is the first week of the
    year.\n    },\n    buttonText: {\n      prev: 'Atgal',\n      next: 'Pirmyn',\n
    \     today: 'Šiandien',\n      month: 'Mėnuo',\n      week: 'Savaitė',\n      day:
    'Diena',\n      list: 'Darbotvarkė',\n    },\n    weekText: 'SAV',\n    allDayText:
    'Visą dieną',\n    moreLinkText: 'daugiau',\n    noEventsText: 'Nėra įvykių rodyti',\n
    \ };\n\n  var l49 = {\n    code: 'lv',\n    week: {\n      dow: 1, // Monday is
    the first day of the week.\n      doy: 4, // The week that contains Jan 4th is
    the first week of the year.\n    },\n    buttonText: {\n      prev: 'Iepr.',\n
    \     next: 'Nāk.',\n      today: 'Šodien',\n      month: 'Mēnesis',\n      week:
    'Nedēļa',\n      day: 'Diena',\n      list: 'Dienas kārtība',\n    },\n    weekText:
    'Ned.',\n    allDayText: 'Visu dienu',\n    moreLinkText: function(n) {\n      return
    '+vēl ' + n\n    },\n    noEventsText: 'Nav notikumu',\n  };\n\n  var l50 = {\n
    \   code: 'mk',\n    buttonText: {\n      prev: 'претходно',\n      next: 'следно',\n
    \     today: 'Денес',\n      month: 'Месец',\n      week: 'Недела',\n      day:
    'Ден',\n      list: 'График',\n    },\n    weekText: 'Сед',\n    allDayText: 'Цел
    ден',\n    moreLinkText: function(n) {\n      return '+повеќе ' + n\n    },\n
    \   noEventsText: 'Нема настани за прикажување',\n  };\n\n  var l51 = {\n    code:
    'ms',\n    week: {\n      dow: 1, // Monday is the first day of the week.\n      doy:
    7, // The week that contains Jan 1st is the first week of the year.\n    },\n
    \   buttonText: {\n      prev: 'Sebelum',\n      next: 'Selepas',\n      today:
    'hari ini',\n      month: 'Bulan',\n      week: 'Minggu',\n      day: 'Hari',\n
    \     list: 'Agenda',\n    },\n    weekText: 'Mg',\n    allDayText: 'Sepanjang
    hari',\n    moreLinkText: function(n) {\n      return 'masih ada ' + n + ' acara'\n
    \   },\n    noEventsText: 'Tiada peristiwa untuk dipaparkan',\n  };\n\n  var l52
    = {\n    code: 'nb',\n    week: {\n      dow: 1, // Monday is the first day of
    the week.\n      doy: 4, // The week that contains Jan 4th is the first week of
    the year.\n    },\n    buttonText: {\n      prev: 'Forrige',\n      next: 'Neste',\n
    \     today: 'I dag',\n      month: 'Måned',\n      week: 'Uke',\n      day: 'Dag',\n
    \     list: 'Agenda',\n    },\n    weekText: 'Uke',\n    allDayText: 'Hele dagen',\n
    \   moreLinkText: 'til',\n    noEventsText: 'Ingen hendelser å vise',\n  };\n\n
    \ var l53 = {\n    code: 'ne', // code for nepal\n    week: {\n      dow: 7, //
    Sunday is the first day of the week.\n      doy: 1, // The week that contains
    Jan 1st is the first week of the year.\n    },\n    buttonText: {\n      prev:
    'अघिल्लो',\n      next: 'अर्को',\n      today: 'आज',\n      month: 'महिना',\n
    \     week: 'हप्ता',\n      day: 'दिन',\n      list: 'सूची',\n    },\n    weekText:
    'हप्ता',\n    allDayText: 'दिनभरि',\n    moreLinkText: 'थप लिंक',\n    noEventsText:
    'देखाउनको लागि कुनै घटनाहरू छैनन्',\n  };\n\n  var l54 = {\n    code: 'nl',\n
    \   week: {\n      dow: 1, // Monday is the first day of the week.\n      doy:
    4, // The week that contains Jan 4th is the first week of the year.\n    },\n
    \   buttonText: {\n      prev: 'Vorige',\n      next: 'Volgende',\n      today:
    'Vandaag',\n      year: 'Jaar',\n      month: 'Maand',\n      week: 'Week',\n
    \     day: 'Dag',\n      list: 'Agenda',\n    },\n    allDayText: 'Hele dag',\n
    \   moreLinkText: 'extra',\n    noEventsText: 'Geen evenementen om te laten zien',\n
    \ };\n\n  var l55 = {\n    code: 'nn',\n    week: {\n      dow: 1, // Monday is
    the first day of the week.\n      doy: 4, // The week that contains Jan 4th is
    the first week of the year.\n    },\n    buttonText: {\n      prev: 'Førre',\n
    \     next: 'Neste',\n      today: 'I dag',\n      month: 'Månad',\n      week:
    'Veke',\n      day: 'Dag',\n      list: 'Agenda',\n    },\n    weekText: 'Veke',\n
    \   allDayText: 'Heile dagen',\n    moreLinkText: 'til',\n    noEventsText: 'Ingen
    hendelser å vise',\n  };\n\n  var l56 = {\n    code: 'pl',\n    week: {\n      dow:
    1, // Monday is the first day of the week.\n      doy: 4, // The week that contains
    Jan 4th is the first week of the year.\n    },\n    buttonText: {\n      prev:
    'Poprzedni',\n      next: 'Następny',\n      today: 'Dziś',\n      month: 'Miesiąc',\n
    \     week: 'Tydzień',\n      day: 'Dzień',\n      list: 'Plan dnia',\n    },\n
    \   weekText: 'Tydz',\n    allDayText: 'Cały dzień',\n    moreLinkText: 'więcej',\n
    \   noEventsText: 'Brak wydarzeń do wyświetlenia',\n  };\n\n  var l57 = {\n    code:
    'pt-br',\n    buttonText: {\n      prev: 'Anterior',\n      next: 'Próximo',\n
    \     today: 'Hoje',\n      month: 'Mês',\n      week: 'Semana',\n      day: 'Dia',\n
    \     list: 'Lista',\n    },\n    weekText: 'Sm',\n    allDayText: 'dia inteiro',\n
    \   moreLinkText: function(n) {\n      return 'mais +' + n\n    },\n    noEventsText:
    'Não há eventos para mostrar',\n  };\n\n  var l58 = {\n    code: 'pt',\n    week:
    {\n      dow: 1, // Monday is the first day of the week.\n      doy: 4, // The
    week that contains Jan 4th is the first week of the year.\n    },\n    buttonText:
    {\n      prev: 'Anterior',\n      next: 'Seguinte',\n      today: 'Hoje',\n      month:
    'Mês',\n      week: 'Semana',\n      day: 'Dia',\n      list: 'Agenda',\n    },\n
    \   weekText: 'Sem',\n    allDayText: 'Todo o dia',\n    moreLinkText: 'mais',\n
    \   noEventsText: 'Não há eventos para mostrar',\n  };\n\n  var l59 = {\n    code:
    'ro',\n    week: {\n      dow: 1, // Monday is the first day of the week.\n      doy:
    7, // The week that contains Jan 1st is the first week of the year.\n    },\n
    \   buttonText: {\n      prev: 'precedentă',\n      next: 'următoare',\n      today:
    'Azi',\n      month: 'Lună',\n      week: 'Săptămână',\n      day: 'Zi',\n      list:
    'Agendă',\n    },\n    weekText: 'Săpt',\n    allDayText: 'Toată ziua',\n    moreLinkText:
    function(n) {\n      return '+alte ' + n\n    },\n    noEventsText: 'Nu există
    evenimente de afișat',\n  };\n\n  var l60 = {\n    code: 'ru',\n    week: {\n
    \     dow: 1, // Monday is the first day of the week.\n      doy: 4, // The week
    that contains Jan 4th is the first week of the year.\n    },\n    buttonText:
    {\n      prev: 'Пред',\n      next: 'След',\n      today: 'Сегодня',\n      month:
    'Месяц',\n      week: 'Неделя',\n      day: 'День',\n      list: 'Повестка дня',\n
    \   },\n    weekText: 'Нед',\n    allDayText: 'Весь день',\n    moreLinkText:
    function(n) {\n      return '+ ещё ' + n\n    },\n    noEventsText: 'Нет событий
    для отображения',\n  };\n\n  var l61 = {\n    code: 'sk',\n    week: {\n      dow:
    1, // Monday is the first day of the week.\n      doy: 4, // The week that contains
    Jan 4th is the first week of the year.\n    },\n    buttonText: {\n      prev:
    'Predchádzajúci',\n      next: 'Nasledujúci',\n      today: 'Dnes',\n      month:
    'Mesiac',\n      week: 'Týždeň',\n      day: 'Deň',\n      list: 'Rozvrh',\n    },\n
    \   weekText: 'Ty',\n    allDayText: 'Celý deň',\n    moreLinkText: function(n)
    {\n      return '+ďalšie: ' + n\n    },\n    noEventsText: 'Žiadne akcie na zobrazenie',\n
    \ };\n\n  var l62 = {\n    code: 'sl',\n    week: {\n      dow: 1, // Monday is
    the first day of the week.\n      doy: 7, // The week that contains Jan 1st is
    the first week of the year.\n    },\n    buttonText: {\n      prev: 'Prejšnji',\n
    \     next: 'Naslednji',\n      today: 'Trenutni',\n      month: 'Mesec',\n      week:
    'Teden',\n      day: 'Dan',\n      list: 'Dnevni red',\n    },\n    weekText:
    'Teden',\n    allDayText: 'Ves dan',\n    moreLinkText: 'več',\n    noEventsText:
    'Ni dogodkov za prikaz',\n  };\n\n  var l63 = {\n    code: 'sm',\n    buttonText:
    {\n      prev: 'Talu ai',\n      next: 'Mulimuli atu',\n      today: 'Aso nei',\n
    \     month: 'Masina',\n      week: 'Vaiaso',\n      day: 'Aso',\n      list:
    'Faasologa',\n    },\n    weekText: 'Vaiaso',\n    allDayText: 'Aso atoa',\n    moreLinkText:
    'sili atu',\n    noEventsText: 'Leai ni mea na tutupu',\n  };\n\n  var l64 = {\n
    \   code: 'sq',\n    week: {\n      dow: 1, // Monday is the first day of the
    week.\n      doy: 4, // The week that contains Jan 4th is the first week of the
    year.\n    },\n    buttonText: {\n      prev: 'mbrapa',\n      next: 'Përpara',\n
    \     today: 'sot',\n      month: 'Muaj',\n      week: 'Javë',\n      day: 'Ditë',\n
    \     list: 'Listë',\n    },\n    weekText: 'Ja',\n    allDayText: 'Gjithë ditën',\n
    \   moreLinkText: function(n) {\n      return '+më tepër ' + n\n    },\n    noEventsText:
    'Nuk ka evente për të shfaqur',\n  };\n\n  var l65 = {\n    code: 'sr-cyrl',\n
    \   week: {\n      dow: 1, // Monday is the first day of the week.\n      doy:
    7, // The week that contains Jan 1st is the first week of the year.\n    },\n
    \   buttonText: {\n      prev: 'Претходна',\n      next: 'следећи',\n      today:
    'Данас',\n      month: 'Месец',\n      week: 'Недеља',\n      day: 'Дан',\n      list:
    'Планер',\n    },\n    weekText: 'Сед',\n    allDayText: 'Цео дан',\n    moreLinkText:
    function(n) {\n      return '+ још ' + n\n    },\n    noEventsText: 'Нема догађаја
    за приказ',\n  };\n\n  var l66 = {\n    code: 'sr',\n    week: {\n      dow: 1,
    // Monday is the first day of the week.\n      doy: 7, // The week that contains
    Jan 1st is the first week of the year.\n    },\n    buttonText: {\n      prev:
    'Prethodna',\n      next: 'Sledeći',\n      today: 'Danas',\n      month: 'Mеsеc',\n
    \     week: 'Nеdеlja',\n      day: 'Dan',\n      list: 'Planеr',\n    },\n    weekText:
    'Sed',\n    allDayText: 'Cеo dan',\n    moreLinkText: function(n) {\n      return
    '+ još ' + n\n    },\n    noEventsText: 'Nеma događaja za prikaz',\n  };\n\n  var
    l67 = {\n    code: 'sv',\n    week: {\n      dow: 1, // Monday is the first day
    of the week.\n      doy: 4, // The week that contains Jan 4th is the first week
    of the year.\n    },\n    buttonText: {\n      prev: 'Förra',\n      next: 'Nästa',\n
    \     today: 'Idag',\n      month: 'Månad',\n      week: 'Vecka',\n      day:
    'Dag',\n      list: 'Program',\n    },\n    weekText: 'v.',\n    allDayText: 'Heldag',\n
    \   moreLinkText: 'till',\n    noEventsText: 'Inga händelser att visa',\n  };\n\n
    \ var l68 = {\n    code: 'ta-in',\n    week: {\n      dow: 1, // Monday is the
    first day of the week.\n      doy: 4, // The week that contains Jan 4th is the
    first week of the year.\n    },\n    buttonText: {\n      prev: 'முந்தைய',\n      next:
    'அடுத்தது',\n      today: 'இன்று',\n      month: 'மாதம்',\n      week: 'வாரம்',\n
    \     day: 'நாள்',\n      list: 'தினசரி அட்டவணை',\n    },\n    weekText: 'வாரம்',\n
    \   allDayText: 'நாள் முழுவதும்',\n    moreLinkText: function(n) {\n      return
    '+ மேலும் ' + n\n    },\n    noEventsText: 'காண்பிக்க நிகழ்வுகள் இல்லை',\n  };\n\n
    \ var l69 = {\n    code: 'th',\n    week: {\n      dow: 1, // Monday is the first
    day of the week.\n      doy: 4, // The week that contains Jan 4th is the first
    week of the year.\n    },\n    buttonText: {\n      prev: 'ก่อนหน้า',\n      next:
    'ถัดไป',\n      prevYear: 'ปีก่อนหน้า',\n      nextYear: 'ปีถัดไป',\n      year:
    'ปี',\n      today: 'วันนี้',\n      month: 'เดือน',\n      week: 'สัปดาห์',\n
    \     day: 'วัน',\n      list: 'กำหนดการ',\n    },\n    weekText: 'สัปดาห์',\n
    \   allDayText: 'ตลอดวัน',\n    moreLinkText: 'เพิ่มเติม',\n    noEventsText:
    'ไม่มีกิจกรรมที่จะแสดง',\n  };\n\n  var l70 = {\n    code: 'tr',\n    week: {\n
    \     dow: 1, // Monday is the first day of the week.\n      doy: 7, // The week
    that contains Jan 1st is the first week of the year.\n    },\n    buttonText:
    {\n      prev: 'geri',\n      next: 'ileri',\n      today: 'bugün',\n      month:
    'Ay',\n      week: 'Hafta',\n      day: 'Gün',\n      list: 'Ajanda',\n    },\n
    \   weekText: 'Hf',\n    allDayText: 'Tüm gün',\n    moreLinkText: 'daha fazla',\n
    \   noEventsText: 'Gösterilecek etkinlik yok',\n  };\n\n  var l71 = {\n    code:
    'ug',\n    buttonText: {\n      month: 'ئاي',\n      week: 'ھەپتە',\n      day:
    'كۈن',\n      list: 'كۈنتەرتىپ',\n    },\n    allDayText: 'پۈتۈن كۈن',\n  };\n\n
    \ var l72 = {\n    code: 'uk',\n    week: {\n      dow: 1, // Monday is the first
    day of the week.\n      doy: 7, // The week that contains Jan 1st is the first
    week of the year.\n    },\n    buttonText: {\n      prev: 'Попередній',\n      next:
    'далі',\n      today: 'Сьогодні',\n      month: 'Місяць',\n      week: 'Тиждень',\n
    \     day: 'День',\n      list: 'Порядок денний',\n    },\n    weekText: 'Тиж',\n
    \   allDayText: 'Увесь день',\n    moreLinkText: function(n) {\n      return '+ще
    ' + n + '...'\n    },\n    noEventsText: 'Немає подій для відображення',\n  };\n\n
    \ var l73 = {\n    code: 'uz',\n    buttonText: {\n      month: 'Oy',\n      week:
    'Xafta',\n      day: 'Kun',\n      list: 'Kun tartibi',\n    },\n    allDayText:
    \"Kun bo'yi\",\n    moreLinkText: function(n) {\n      return '+ yana ' + n\n
    \   },\n    noEventsText: \"Ko'rsatish uchun voqealar yo'q\",\n  };\n\n  var l74
    = {\n    code: 'vi',\n    week: {\n      dow: 1, // Monday is the first day of
    the week.\n      doy: 4, // The week that contains Jan 4th is the first week of
    the year.\n    },\n    buttonText: {\n      prev: 'Trước',\n      next: 'Tiếp',\n
    \     today: 'Hôm nay',\n      month: 'Tháng',\n      week: 'Tuần',\n      day:
    'Ngày',\n      list: 'Lịch biểu',\n    },\n    weekText: 'Tu',\n    allDayText:
    'Cả ngày',\n    moreLinkText: function(n) {\n      return '+ thêm ' + n\n    },\n
    \   noEventsText: 'Không có sự kiện để hiển thị',\n  };\n\n  var l75 = {\n    code:
    'zh-cn',\n    week: {\n      // GB/T 7408-1994《数据元和交换格式·信息交换·日期和时间表示法》与ISO 8601:1988等效\n
    \     dow: 1, // Monday is the first day of the week.\n      doy: 4, // The week
    that contains Jan 4th is the first week of the year.\n    },\n    buttonText:
    {\n      prev: '上月',\n      next: '下月',\n      today: '今天',\n      month: '月',\n
    \     week: '周',\n      day: '日',\n      list: '日程',\n    },\n    weekText: '周',\n
    \   allDayText: '全天',\n    moreLinkText: function(n) {\n      return '另外 ' + n
    + ' 个'\n    },\n    noEventsText: '没有事件显示',\n  };\n\n  var l76 = {\n    code:
    'zh-tw',\n    buttonText: {\n      prev: '上月',\n      next: '下月',\n      today:
    '今天',\n      month: '月',\n      week: '週',\n      day: '天',\n      list: '活動列表',\n
    \   },\n    weekText: '周',\n    allDayText: '整天',\n    moreLinkText: '顯示更多',\n
    \   noEventsText: '没有任何活動',\n  };\n\n  /* eslint max-len: off */\n\n  var localesAll
    = [\n    l0, l1, l2, l3, l4, l5, l6, l7, l8, l9, l10, l11, l12, l13, l14, l15,
    l16, l17, l18, l19, l20, l21, l22, l23, l24, l25, l26, l27, l28, l29, l30, l31,
    l32, l33, l34, l35, l36, l37, l38, l39, l40, l41, l42, l43, l44, l45, l46, l47,
    l48, l49, l50, l51, l52, l53, l54, l55, l56, l57, l58, l59, l60, l61, l62, l63,
    l64, l65, l66, l67, l68, l69, l70, l71, l72, l73, l74, l75, l76, \n  ];\n\n  return
    localesAll;\n\n}());\n"
  uploads-admin-Public-Admin-plugins-fullcalendar-locales-el.js: |
    FullCalendar.globalLocales.push(function () {
      'use strict';

      var el = {
        code: 'el',
        week: {
          dow: 1, // Monday is the first day of the week.
          doy: 4, // The week that contains Jan 4st is the first week of the year.
        },
        buttonText: {
          prev: 'Προηγούμενος',
          next: 'Επόμενος',
          today: 'Σήμερα',
          month: 'Μήνας',
          week: 'Εβδομάδα',
          day: 'Ημέρα',
          list: 'Ατζέντα',
        },
        weekText: 'Εβδ',
        allDayText: 'Ολοήμερο',
        moreLinkText: 'περισσότερα',
        noEventsText: 'Δεν υπάρχουν γεγονότα προς εμφάνιση',
      };

      return el;

    }());
  uploads-admin-Public-Admin-plugins-fullcalendar-locales-eo.js: |
    FullCalendar.globalLocales.push(function () {
      'use strict';

      var eo = {
        code: 'eo',
        week: {
          dow: 1, // Monday is the first day of the week.
          doy: 4, // The week that contains Jan 4th is the first week of the year.
        },
        buttonText: {
          prev: 'Antaŭa',
          next: 'Sekva',
          today: 'Hodiaŭ',
          month: 'Monato',
          week: 'Semajno',
          day: 'Tago',
          list: 'Tagordo',
        },
        weekText: 'Sm',
        allDayText: 'Tuta tago',
        moreLinkText: 'pli',
        noEventsText: 'Neniuj eventoj por montri',
      };

      return eo;

    }());
  uploads-admin-Public-Admin-plugins-fullcalendar-locales-es-us.js: |
    FullCalendar.globalLocales.push(function () {
      'use strict';

      var esUs = {
        code: 'es',
        week: {
          dow: 0, // Sunday is the first day of the week.
          doy: 6, // The week that contains Jan 1st is the first week of the year.
        },
        buttonText: {
          prev: 'Ant',
          next: 'Sig',
          today: 'Hoy',
          month: 'Mes',
          week: 'Semana',
          day: 'Día',
          list: 'Agenda',
        },
        weekText: 'Sm',
        allDayText: 'Todo el día',
        moreLinkText: 'más',
        noEventsText: 'No hay eventos para mostrar',
      };

      return esUs;

    }());
  uploads-admin-Public-Admin-plugins-fullcalendar-locales-es.js: |
    FullCalendar.globalLocales.push(function () {
      'use strict';

      var es = {
        code: 'es',
        week: {
          dow: 1, // Monday is the first day of the week.
          doy: 4, // The week that contains Jan 4th is the first week of the year.
        },
        buttonText: {
          prev: 'Ant',
          next: 'Sig',
          today: 'Hoy',
          month: 'Mes',
          week: 'Semana',
          day: 'Día',
          list: 'Agenda',
        },
        weekText: 'Sm',
        allDayText: 'Todo el día',
        moreLinkText: 'más',
        noEventsText: 'No hay eventos para mostrar',
      };

      return es;

    }());
  uploads-admin-Public-Admin-plugins-fullcalendar-locales-fr-ch.js: |
    FullCalendar.globalLocales.push(function () {
      'use strict';

      var frCh = {
        code: 'fr-ch',
        week: {
          dow: 1, // Monday is the first day of the week.
          doy: 4, // The week that contains Jan 4th is the first week of the year.
        },
        buttonText: {
          prev: 'Précédent',
          next: 'Suivant',
          today: 'Courant',
          year: 'Année',
          month: 'Mois',
          week: 'Semaine',
          day: 'Jour',
          list: 'Mon planning',
        },
        weekText: 'Sm',
        allDayText: 'Toute la journée',
        moreLinkText: 'en plus',
        noEventsText: 'Aucun événement à afficher',
      };

      return frCh;

    }());
  uploads-admin-Public-Admin-plugins-fullcalendar-locales-hu.js: |
    FullCalendar.globalLocales.push(function () {
      'use strict';

      var hu = {
        code: 'hu',
        week: {
          dow: 1, // Monday is the first day of the week.
          doy: 4, // The week that contains Jan 4th is the first week of the year.
        },
        buttonText: {
          prev: 'vissza',
          next: 'előre',
          today: 'ma',
          month: 'Hónap',
          week: 'Hét',
          day: 'Nap',
          list: 'Lista',
        },
        weekText: 'Hét',
        allDayText: 'Egész nap',
        moreLinkText: 'további',
        noEventsText: 'Nincs megjeleníthető esemény',
      };

      return hu;

    }());
  uploads-admin-Public-Admin-plugins-fullcalendar-locales-mk.js: |
    FullCalendar.globalLocales.push(function () {
      'use strict';

      var mk = {
        code: 'mk',
        buttonText: {
          prev: 'претходно',
          next: 'следно',
          today: 'Денес',
          month: 'Месец',
          week: 'Недела',
          day: 'Ден',
          list: 'График',
        },
        weekText: 'Сед',
        allDayText: 'Цел ден',
        moreLinkText: function(n) {
          return '+повеќе ' + n
        },
        noEventsText: 'Нема настани за прикажување',
      };

      return mk;

    }());
  uploads-admin-Public-Admin-plugins-fullcalendar-locales-nn.js: |
    FullCalendar.globalLocales.push(function () {
      'use strict';

      var nn = {
        code: 'nn',
        week: {
          dow: 1, // Monday is the first day of the week.
          doy: 4, // The week that contains Jan 4th is the first week of the year.
        },
        buttonText: {
          prev: 'Førre',
          next: 'Neste',
          today: 'I dag',
          month: 'Månad',
          week: 'Veke',
          day: 'Dag',
          list: 'Agenda',
        },
        weekText: 'Veke',
        allDayText: 'Heile dagen',
        moreLinkText: 'til',
        noEventsText: 'Ingen hendelser å vise',
      };

      return nn;

    }());
  uploads-admin-Public-Admin-plugins-fullcalendar-locales-pl.js: |
    FullCalendar.globalLocales.push(function () {
      'use strict';

      var pl = {
        code: 'pl',
        week: {
          dow: 1, // Monday is the first day of the week.
          doy: 4, // The week that contains Jan 4th is the first week of the year.
        },
        buttonText: {
          prev: 'Poprzedni',
          next: 'Następny',
          today: 'Dziś',
          month: 'Miesiąc',
          week: 'Tydzień',
          day: 'Dzień',
          list: 'Plan dnia',
        },
        weekText: 'Tydz',
        allDayText: 'Cały dzień',
        moreLinkText: 'więcej',
        noEventsText: 'Brak wydarzeń do wyświetlenia',
      };

      return pl;

    }());
  uploads-admin-Public-Admin-plugins-fullcalendar-locales-ro.js: |
    FullCalendar.globalLocales.push(function () {
      'use strict';

      var ro = {
        code: 'ro',
        week: {
          dow: 1, // Monday is the first day of the week.
          doy: 7, // The week that contains Jan 1st is the first week of the year.
        },
        buttonText: {
          prev: 'precedentă',
          next: 'următoare',
          today: 'Azi',
          month: 'Lună',
          week: 'Săptămână',
          day: 'Zi',
          list: 'Agendă',
        },
        weekText: 'Săpt',
        allDayText: 'Toată ziua',
        moreLinkText: function(n) {
          return '+alte ' + n
        },
        noEventsText: 'Nu există evenimente de afișat',
      };

      return ro;

    }());
  uploads-admin-Public-Admin-plugins-fullcalendar-locales-sr-cyrl.js: |
    FullCalendar.globalLocales.push(function () {
      'use strict';

      var srCyrl = {
        code: 'sr-cyrl',
        week: {
          dow: 1, // Monday is the first day of the week.
          doy: 7, // The week that contains Jan 1st is the first week of the year.
        },
        buttonText: {
          prev: 'Претходна',
          next: 'следећи',
          today: 'Данас',
          month: 'Месец',
          week: 'Недеља',
          day: 'Дан',
          list: 'Планер',
        },
        weekText: 'Сед',
        allDayText: 'Цео дан',
        moreLinkText: function(n) {
          return '+ још ' + n
        },
        noEventsText: 'Нема догађаја за приказ',
      };

      return srCyrl;

    }());
  uploads-admin-Public-Admin-plugins-fullcalendar-locales-ta-in.js: |
    FullCalendar.globalLocales.push(function () {
      'use strict';

      var taIn = {
        code: 'ta-in',
        week: {
          dow: 1, // Monday is the first day of the week.
          doy: 4, // The week that contains Jan 4th is the first week of the year.
        },
        buttonText: {
          prev: 'முந்தைய',
          next: 'அடுத்தது',
          today: 'இன்று',
          month: 'மாதம்',
          week: 'வாரம்',
          day: 'நாள்',
          list: 'தினசரி அட்டவணை',
        },
        weekText: 'வாரம்',
        allDayText: 'நாள் முழுவதும்',
        moreLinkText: function(n) {
          return '+ மேலும் ' + n
        },
        noEventsText: 'காண்பிக்க நிகழ்வுகள் இல்லை',
      };

      return taIn;

    }());
  uploads-admin-Public-Admin-plugins-fullcalendar-locales-zh-tw.js: |
    FullCalendar.globalLocales.push(function () {
      'use strict';

      var zhTw = {
        code: 'zh-tw',
        buttonText: {
          prev: '上月',
          next: '下月',
          today: '今天',
          month: '月',
          week: '週',
          day: '天',
          list: '活動列表',
        },
        weekText: '周',
        allDayText: '整天',
        moreLinkText: '顯示更多',
        noEventsText: '没有任何活動',
      };

      return zhTw;

    }());
  uploads-admin-Public-Admin-plugins-fullcalendar-main.js: "/*!\nFullCalendar v5.9.0\nDocs
    & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nvar FullCalendar
    = (function (exports) {\n    'use strict';\n\n    /*! *****************************************************************************\r\n
    \   Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify,
    and/or distribute this software for any\r\n    purpose with or without fee is
    hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS
    ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES
    OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE
    FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
    WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION
    OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN
    CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    *****************************************************************************
    */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d,
    b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__:
    [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function
    (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p]
    = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function
    __extends(d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n
    \           throw new TypeError(\"Class extends value \" + String(b) + \" is not
    a constructor or null\");\r\n        extendStatics(d, b);\r\n        function
    __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b)
    : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function()
    {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for
    (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n
    \               for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
    t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return
    __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __spreadArray(to,
    from, pack) {\r\n        if (pack || arguments.length === 2) for (var i = 0, l
    = from.length, ar; i < l; i++) {\r\n            if (ar || !(i in from)) {\r\n
    \               if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n                ar[i]
    = from[i];\r\n            }\r\n        }\r\n        return to.concat(ar || from);\r\n
    \   }\n\n    var n,u,i$1,t,o,r$1={},f$1=[],e$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function
    c$1(n,l){for(var u in l)n[u]=l[u];return n}function s(n){var l=n.parentNode;l&&l.removeChild(n);}function
    a$1(n,l,u){var i,t,o,r=arguments,f={};for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),\"function\"==typeof
    n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return
    v$1(n,f,i,t,null)}function v$1(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void
    0,__c:null,__h:null,constructor:void 0,__v:null==o?++n.__v:o};return null!=n.vnode&&n.vnode(r),r}function
    h(){return {current:null}}function y(n){return n.children}function p(n,l){this.props=n,this.context=l;}function
    d(n,l){if(null==l)return n.__?d(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return
    u.__e;return \"function\"==typeof n.type?d(n):null}function _(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return
    _(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!b$1.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i$1)(b$1);}function
    b$1(){for(var n;b$1.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var
    l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=c$1({},t)).__v=t.__v+1,I$1(r,t,i,l.__n,void
    0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?d(t):o,t.__h),T$1(u,t),t.__e!=o&&_(t)));});}function
    m(n,l,u,i,t,o,e,c,s,a){var h,p,_,k,b,m,w,A=i&&i.__k||f$1,P=A.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof
    k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v$1(null,k,null,null,k):Array.isArray(k)?v$1(y,{children:k},null,null,null):k.__b>0?v$1(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(_=A[h])||_&&k.key==_.key&&k.type===_.type)A[h]=void
    0;else for(p=0;p<P;p++){if((_=A[p])&&k.key==_.key&&k.type===_.type){A[p]=void
    0;break}_=null;}I$1(n,k,_=_||r$1,t,o,e,c,s,a),b=k.__e,(p=k.ref)&&_.ref!=p&&(w||(w=[]),_.ref&&w.push(_.ref,null,k),w.push(p,k.__c||b,k)),null!=b?(null==m&&(m=b),\"function\"==typeof
    k.type&&null!=k.__k&&k.__k===_.__k?k.__d=s=g$1(k,s,n):s=x$1(n,k,_,A,b,s),a||\"option\"!==u.type?\"function\"==typeof
    u.type&&(u.__d=s):n.value=\"\"):s&&_.__e==s&&s.parentNode!=n&&(s=d(_));}for(u.__e=m,h=P;h--;)null!=A[h]&&(\"function\"==typeof
    u.type&&null!=A[h].__e&&A[h].__e==u.__d&&(u.__d=d(i,h+1)),L$1(A[h],A[h]));if(w)for(h=0;h<w.length;h++)z(w[h],w[++h],w[++h]);}function
    g$1(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l=\"function\"==typeof
    t.type?g$1(t,l,u):x$1(u,t,t,n.__k,t.__e,l));return l}function w$1(n,l){return
    l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){w$1(n,l);}):l.push(n)),l}function
    x$1(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else
    {for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o;}return
    void 0!==r?r:t.nextSibling}function A$1(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o
    in l||C$1(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C$1(n,o,l[o],u[o],i);}function
    P$1(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof
    u||e$1.test(l)?u:u+\"px\";}function C$1(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof
    u)n.style.cssText=u;else {if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l
    in i)u&&l in u||P$1(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P$1(n.style,l,u[l]);}else
    if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in
    n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?H$1:$$1,o):n.removeEventListener(l,o?H$1:$$1,o);else
    if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else
    if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l
    in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l));}}function
    $$1(l){this.l[l.type+!1](n.event?n.event(l):l);}function H$1(l){this.l[l.type+!0](n.event?n.event(l):l);}function
    I$1(l,u,i,t,o,r,f,e,s){var a,v,h,d,_,k,b,g,w,x,A,P=u.type;if(void 0!==u.constructor)return
    null;null!=i.__h&&(s=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof
    P){if(g=u.props,w=(a=P.contextType)&&t[a.__c],x=a?w?w.props.value:a.__:t,i.__c?b=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in
    P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new p(g,x),v.constructor=P,v.render=M$1),w&&w.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=c$1({},v.__s)),c$1(v.__s,P.getDerivedStateFromProps(g,v.__s))),d=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else
    {if(null==P.getDerivedStateFromProps&&g!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u);}),v.__h.length&&f.push(v);break
    n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(d,_,k);});}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=c$1(c$1({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(d,_)),A=null!=a&&a.type===y&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,s),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),b&&(v.__E=v.__=null),v.__e=!1;}else
    null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=j$2(i.__e,u,i,t,o,r,f,s);(a=n.diffed)&&a(u);}catch(l){u.__v=null,(s||null!=r)&&(u.__e=e,u.__h=!!s,r[r.indexOf(e)]=null),n.__e(l,u,i);}}function
    T$1(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u);});}catch(l){n.__e(l,u.__v);}});}function
    j$2(n,l,u,i,t,o,e,c){var a,v,h,y,p=u.props,d=l.props,_=l.type,k=0;if(\"svg\"===_&&(t=!0),null!=o)for(;k<o.length;k++)if((a=o[k])&&(a===n||(_?a.localName==_:3==a.nodeType))){n=a,o[k]=null;break}if(null==n){if(null===_)return
    document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",_):document.createElement(_,d.is&&d),o=null,c=!1;}if(null===_)p===d||c&&n.data===d||(n.data=d);else
    {if(o=o&&f$1.slice.call(n.childNodes),v=(p=u.props||r$1).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||\"\"));}if(A$1(n,d,p,t,c),h)l.__k=[];else
    if(k=l.props.children,m(n,Array.isArray(k)?k:[k],l,u,i,t&&\"foreignObject\"!==_,o,e,n.firstChild,c),null!=o)for(k=o.length;k--;)null!=o[k]&&s(o[k]);c||(\"value\"in
    d&&void 0!==(k=d.value)&&(k!==n.value||\"progress\"===_&&!k)&&C$1(n,\"value\",k,p.value,!1),\"checked\"in
    d&&void 0!==(k=d.checked)&&k!==n.checked&&C$1(n,\"checked\",k,p.checked,!1));}return
    n}function z(l,u,i){try{\"function\"==typeof l?l(u):l.current=u;}catch(l){n.__e(l,i);}}function
    L$1(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||z(t,null,u)),i||\"function\"==typeof
    l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount();}catch(l){n.__e(l,u);}t.base=t.__P=null;}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L$1(t[r],u,i);null!=o&&s(o);}function
    M$1(n,l,u){return this.constructor(n,u)}function N(l,u,i){var t,o,e;n.__&&n.__(l,u),o=(t=\"function\"==typeof
    i)?null:i&&i.__k||u.__k,e=[],I$1(u,l=(!t&&i||u).__k=a$1(y,null,[l]),o||r$1,r$1,void
    0!==u.ownerSVGElement,!t&&i?[i]:o?null:u.firstChild?f$1.slice.call(u.childNodes):null,e,!t&&i?i:o?o.__e:u.firstChild,t),T$1(e,l);}function
    q(n,l){var u={__c:l=\"__cC\"+o++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var
    u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return
    i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k);},this.sub=function(n){u.push(n);var
    l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n);};}),n.children}};return
    u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return
    u.__E=u}catch(l){n=l;}throw n},__v:0},p.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c$1({},this.state),\"function\"==typeof
    n&&(n=n(c$1({},u),this.props)),n&&c$1(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this));},p.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this));},p.prototype.render=y,u=[],i$1=\"function\"==typeof
    Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b$1.__r=0,o=0;\n\n
    \   var r,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function x(){i.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j$1),t.__H.__h=[];}catch(u){t.__H.__h=[],n.__e(u,t.__v);}}),i=[];}n.__b=function(n){c&&c(n);},n.__r=function(n){f&&f(n);var
    r=(n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j$1),r.__h=[]);},n.diffed=function(t){e&&e(t);var
    o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var
    t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n);},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u));})(x));},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return
    !n.__||j$1(n)});}catch(r){u.some(function(n){n.__h&&(n.__h=[]);}),u=[],n.__e(r,t.__v);}}),a&&a(t,u);},n.unmount=function(t){v&&v(t);var
    u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(g);}catch(t){n.__e(t,u.__v);}};var b=\"function\"==typeof
    requestAnimationFrame;function g(n){\"function\"==typeof n.__c&&n.__c();}function
    j$1(n){n.__c=n.__();}\n\n    function C(n,t){for(var e in t)n[e]=t[e];return n}function
    S(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return !0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return
    !0;return !1}function E(n){this.props=n;}(E.prototype=new p).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return
    S(this.props,n)||S(this.state,t)};var w=n.__b;n.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n);};var
    A=n.__e;n.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return
    null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t);A(n,t,e);};var O=n.unmount;function
    L(){this.__u=0,this.t=null,this.__b=null;}function U(n){var t=n.__.__c;return
    t&&t.__e&&t.__e(n)}function F(){this.u=null,this.o=null;}n.unmount=function(n){var
    t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n);},(L.prototype=new
    p).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l());};e.__R=i;var
    l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function
    n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O);}var
    t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate();}},f=!0===t.__h;r.__u++||f||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i);},L.prototype.componentWillUnmount=function(){this.t=[];},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var
    e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function
    n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof
    n.__c&&n.__c();}),t.__c.__H=null),null!=(t=C({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return
    n(t,e,r)})),t}(this.__b,e,r.__O=r.__P);}this.__b=null;}var u=t.__e&&a$1(y,null,n.fallback);return
    u&&(u.__h=null),[a$1(y,null,t.__e?null:n.children),u]};var M=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2];}};function
    T(n){return this.getChildContext=function(){return n.context},n.children}function
    j(n){var t=this,e=n.i;t.componentWillUnmount=function(){N(null,t.l),t.l=null,t.i=null;},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n);},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n);},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n);}}),N(a$1(T,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount();}function
    I(n,t){return a$1(j,{__v:n,i:t})}(F.prototype=new p).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return
    r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),M(t,n,r)):u();};e?e(o):o();}},F.prototype.render=function(n){this.u=null,this.o=new
    Map;var t=w$1(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var
    e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},F.prototype.componentDidUpdate=F.prototype.componentDidMount=function(){var
    n=this;this.o.forEach(function(t,e){M(n,e,t);});};var W=\"undefined\"!=typeof
    Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=function(n){return
    (\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};p.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(p.prototype,n,{configurable:!0,get:function(){return
    this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t});}});});var
    H=n.event;function Z(){}function Y(){return this.cancelBubble}function $(){return
    this.defaultPrevented}n.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=$,n.nativeEvent=n};var
    G={configurable:!0,get:function(){return this.class}},J=n.vnode;n.vnode=function(n){var
    t=n.type,e=n.props,r=e;if(\"string\"==typeof t){for(var u in r={},e){var o=e[u];\"value\"===u&&\"defaultValue\"in
    e&&null==o||(\"defaultValue\"===u&&\"value\"in e&&null==e.value?u=\"value\":\"download\"===u&&!0===o?o=\"\":/ondoubleclick/i.test(u)?u=\"ondblclick\":/^onchange(textarea|input)/i.test(u+t)&&!V(e.type)?u=\"oninput\":/^on(Ani|Tra|Tou|BeforeInp)/.test(u)?u=u.toLowerCase():P.test(u)?u=u.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===o&&(o=void
    0),r[u]=o);}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=w$1(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value);})),\"select\"==t&&null!=r.defaultValue&&(r.value=w$1(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value;})),n.props=r;}t&&e.class!=e.className&&(G.enumerable=\"className\"in
    e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",G)),n.$$typeof=W,J&&J(n);};var
    K=n.__r;n.__r=function(n){K&&K(n);};\"object\"==typeof performance&&\"function\"==typeof
    performance.now?performance.now.bind(performance):function(){return Date.now()};\n\n
    \   var globalObj = typeof globalThis !== 'undefined' ? globalThis : window; //
    // TODO: streamline when killing IE11 support\n    if (globalObj.FullCalendarVDom)
    {\n        console.warn('FullCalendar VDOM already loaded');\n    }\n    else
    {\n        globalObj.FullCalendarVDom = {\n            Component: p,\n            createElement:
    a$1,\n            render: N,\n            createRef: h,\n            Fragment:
    y,\n            createContext: createContext$1,\n            createPortal: I,\n
    \           flushToDom: flushToDom$1,\n            unmountComponentAtNode: unmountComponentAtNode$1,\n
    \       };\n    }\n    // HACKS...\n    // TODO: lock version\n    // TODO: link
    gh issues\n    function flushToDom$1() {\n        var oldDebounceRendering = n.debounceRendering;
    // orig\n        var callbackQ = [];\n        function execCallbackSync(callback)
    {\n            callbackQ.push(callback);\n        }\n        n.debounceRendering
    = execCallbackSync;\n        N(a$1(FakeComponent, {}), document.createElement('div'));\n
    \       while (callbackQ.length) {\n            callbackQ.shift()();\n        }\n
    \       n.debounceRendering = oldDebounceRendering;\n    }\n    var FakeComponent
    = /** @class */ (function (_super) {\n        __extends(FakeComponent, _super);\n
    \       function FakeComponent() {\n            return _super !== null && _super.apply(this,
    arguments) || this;\n        }\n        FakeComponent.prototype.render = function
    () { return a$1('div', {}); };\n        FakeComponent.prototype.componentDidMount
    = function () { this.setState({}); };\n        return FakeComponent;\n    }(p));\n
    \   function createContext$1(defaultValue) {\n        var ContextType = q(defaultValue);\n
    \       var origProvider = ContextType.Provider;\n        ContextType.Provider
    = function () {\n            var _this = this;\n            var isNew = !this.getChildContext;\n
    \           var children = origProvider.apply(this, arguments); // eslint-disable-line
    prefer-rest-params\n            if (isNew) {\n                var subs_1 = [];\n
    \               this.shouldComponentUpdate = function (_props) {\n                    if
    (_this.props.value !== _props.value) {\n                        subs_1.forEach(function
    (c) {\n                            c.context = _props.value;\n                            c.forceUpdate();\n
    \                       });\n                    }\n                };\n                this.sub
    = function (c) {\n                    subs_1.push(c);\n                    var
    old = c.componentWillUnmount;\n                    c.componentWillUnmount = function
    () {\n                        subs_1.splice(subs_1.indexOf(c), 1);\n                        old
    && old.call(c);\n                    };\n                };\n            }\n            return
    children;\n        };\n        return ContextType;\n    }\n    function unmountComponentAtNode$1(node)
    {\n        N(null, node);\n    }\n\n    // no public types yet. when there are,
    export from:\n    // import {} from './api-type-deps'\n    var EventSourceApi
    = /** @class */ (function () {\n        function EventSourceApi(context, internalEventSource)
    {\n            this.context = context;\n            this.internalEventSource =
    internalEventSource;\n        }\n        EventSourceApi.prototype.remove = function
    () {\n            this.context.dispatch({\n                type: 'REMOVE_EVENT_SOURCE',\n
    \               sourceId: this.internalEventSource.sourceId,\n            });\n
    \       };\n        EventSourceApi.prototype.refetch = function () {\n            this.context.dispatch({\n
    \               type: 'FETCH_EVENT_SOURCES',\n                sourceIds: [this.internalEventSource.sourceId],\n
    \               isRefetch: true,\n            });\n        };\n        Object.defineProperty(EventSourceApi.prototype,
    \"id\", {\n            get: function () {\n                return this.internalEventSource.publicId;\n
    \           },\n            enumerable: false,\n            configurable: true\n
    \       });\n        Object.defineProperty(EventSourceApi.prototype, \"url\",
    {\n            get: function () {\n                return this.internalEventSource.meta.url;\n
    \           },\n            enumerable: false,\n            configurable: true\n
    \       });\n        Object.defineProperty(EventSourceApi.prototype, \"format\",
    {\n            get: function () {\n                return this.internalEventSource.meta.format;
    // TODO: bad. not guaranteed\n            },\n            enumerable: false,\n
    \           configurable: true\n        });\n        return EventSourceApi;\n
    \   }());\n\n    function removeElement(el) {\n        if (el.parentNode) {\n
    \           el.parentNode.removeChild(el);\n        }\n    }\n    // Querying\n
    \   // ----------------------------------------------------------------------------------------------------------------\n
    \   function elementClosest(el, selector) {\n        if (el.closest) {\n            return
    el.closest(selector);\n            // really bad fallback for IE\n            //
    from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n        }\n
    \       if (!document.documentElement.contains(el)) {\n            return null;\n
    \       }\n        do {\n            if (elementMatches(el, selector)) {\n                return
    el;\n            }\n            el = (el.parentElement || el.parentNode);\n        }
    while (el !== null && el.nodeType === 1);\n        return null;\n    }\n    function
    elementMatches(el, selector) {\n        var method = el.matches || el.matchesSelector
    || el.msMatchesSelector;\n        return method.call(el, selector);\n    }\n    //
    accepts multiple subject els\n    // returns a real array. good for methods like
    forEach\n    // TODO: accept the document\n    function findElements(container,
    selector) {\n        var containers = container instanceof HTMLElement ? [container]
    : container;\n        var allMatches = [];\n        for (var i = 0; i < containers.length;
    i += 1) {\n            var matches = containers[i].querySelectorAll(selector);\n
    \           for (var j = 0; j < matches.length; j += 1) {\n                allMatches.push(matches[j]);\n
    \           }\n        }\n        return allMatches;\n    }\n    // accepts multiple
    subject els\n    // only queries direct child elements // TODO: rename to findDirectChildren!\n
    \   function findDirectChildren(parent, selector) {\n        var parents = parent
    instanceof HTMLElement ? [parent] : parent;\n        var allMatches = [];\n        for
    (var i = 0; i < parents.length; i += 1) {\n            var childNodes = parents[i].children;
    // only ever elements\n            for (var j = 0; j < childNodes.length; j +=
    1) {\n                var childNode = childNodes[j];\n                if (!selector
    || elementMatches(childNode, selector)) {\n                    allMatches.push(childNode);\n
    \               }\n            }\n        }\n        return allMatches;\n    }\n
    \   // Style\n    // ----------------------------------------------------------------------------------------------------------------\n
    \   var PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\n    function
    applyStyle(el, props) {\n        for (var propName in props) {\n            applyStyleProp(el,
    propName, props[propName]);\n        }\n    }\n    function applyStyleProp(el,
    name, val) {\n        if (val == null) {\n            el.style[name] = '';\n        }\n
    \       else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n            el.style[name]
    = val + \"px\";\n        }\n        else {\n            el.style[name] = val;\n
    \       }\n    }\n    // Event Handling\n    // ----------------------------------------------------------------------------------------------------------------\n
    \   // if intercepting bubbled events at the document/window/body level,\n    //
    and want to see originating element (the 'target'), use this util instead\n    //
    of `ev.target` because it goes within web-component boundaries.\n    function
    getEventTargetViaRoot(ev) {\n        var _a, _b;\n        return (_b = (_a = ev.composedPath)
    === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0
    ? _b : ev.target;\n    }\n    // Shadow DOM consuderations\n    // ----------------------------------------------------------------------------------------------------------------\n
    \   function getElRoot(el) {\n        return el.getRootNode ? el.getRootNode()
    : document;\n    }\n\n    // Stops a mouse/touch event from doing it's native
    browser action\n    function preventDefault(ev) {\n        ev.preventDefault();\n
    \   }\n    // Event Delegation\n    // ----------------------------------------------------------------------------------------------------------------\n
    \   function buildDelegationHandler(selector, handler) {\n        return function
    (ev) {\n            var matchedChild = elementClosest(ev.target, selector);\n
    \           if (matchedChild) {\n                handler.call(matchedChild, ev,
    matchedChild);\n            }\n        };\n    }\n    function listenBySelector(container,
    eventType, selector, handler) {\n        var attachedHandler = buildDelegationHandler(selector,
    handler);\n        container.addEventListener(eventType, attachedHandler);\n        return
    function () {\n            container.removeEventListener(eventType, attachedHandler);\n
    \       };\n    }\n    function listenToHoverBySelector(container, selector, onMouseEnter,
    onMouseLeave) {\n        var currentMatchedChild;\n        return listenBySelector(container,
    'mouseover', selector, function (mouseOverEv, matchedChild) {\n            if
    (matchedChild !== currentMatchedChild) {\n                currentMatchedChild
    = matchedChild;\n                onMouseEnter(mouseOverEv, matchedChild);\n                var
    realOnMouseLeave_1 = function (mouseLeaveEv) {\n                    currentMatchedChild
    = null;\n                    onMouseLeave(mouseLeaveEv, matchedChild);\n                    matchedChild.removeEventListener('mouseleave',
    realOnMouseLeave_1);\n                };\n                // listen to the next
    mouseleave, and then unattach\n                matchedChild.addEventListener('mouseleave',
    realOnMouseLeave_1);\n            }\n        });\n    }\n    // Animation\n    //
    ----------------------------------------------------------------------------------------------------------------\n
    \   var transitionEventNames = [\n        'webkitTransitionEnd',\n        'otransitionend',\n
    \       'oTransitionEnd',\n        'msTransitionEnd',\n        'transitionend',\n
    \   ];\n    // triggered only when the next single subsequent transition finishes\n
    \   function whenTransitionDone(el, callback) {\n        var realCallback = function
    (ev) {\n            callback(ev);\n            transitionEventNames.forEach(function
    (eventName) {\n                el.removeEventListener(eventName, realCallback);\n
    \           });\n        };\n        transitionEventNames.forEach(function (eventName)
    {\n            el.addEventListener(eventName, realCallback); // cross-browser
    way to determine when the transition finishes\n        });\n    }\n\n    var guidNumber
    = 0;\n    function guid() {\n        guidNumber += 1;\n        return String(guidNumber);\n
    \   }\n    /* FullCalendar-specific DOM Utilities\n    ----------------------------------------------------------------------------------------------------------------------*/\n
    \   // Make the mouse cursor express that an event is not allowed in the current
    area\n    function disableCursor() {\n        document.body.classList.add('fc-not-allowed');\n
    \   }\n    // Returns the mouse cursor to its original look\n    function enableCursor()
    {\n        document.body.classList.remove('fc-not-allowed');\n    }\n    /* Selection\n
    \   ----------------------------------------------------------------------------------------------------------------------*/\n
    \   function preventSelection(el) {\n        el.classList.add('fc-unselectable');\n
    \       el.addEventListener('selectstart', preventDefault);\n    }\n    function
    allowSelection(el) {\n        el.classList.remove('fc-unselectable');\n        el.removeEventListener('selectstart',
    preventDefault);\n    }\n    /* Context Menu\n    ----------------------------------------------------------------------------------------------------------------------*/\n
    \   function preventContextMenu(el) {\n        el.addEventListener('contextmenu',
    preventDefault);\n    }\n    function allowContextMenu(el) {\n        el.removeEventListener('contextmenu',
    preventDefault);\n    }\n    function parseFieldSpecs(input) {\n        var specs
    = [];\n        var tokens = [];\n        var i;\n        var token;\n        if
    (typeof input === 'string') {\n            tokens = input.split(/\\s*,\\s*/);\n
    \       }\n        else if (typeof input === 'function') {\n            tokens
    = [input];\n        }\n        else if (Array.isArray(input)) {\n            tokens
    = input;\n        }\n        for (i = 0; i < tokens.length; i += 1) {\n            token
    = tokens[i];\n            if (typeof token === 'string') {\n                specs.push(token.charAt(0)
    === '-' ?\n                    { field: token.substring(1), order: -1 } :\n                    {
    field: token, order: 1 });\n            }\n            else if (typeof token ===
    'function') {\n                specs.push({ func: token });\n            }\n        }\n
    \       return specs;\n    }\n    function compareByFieldSpecs(obj0, obj1, fieldSpecs)
    {\n        var i;\n        var cmp;\n        for (i = 0; i < fieldSpecs.length;
    i += 1) {\n            cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n
    \           if (cmp) {\n                return cmp;\n            }\n        }\n
    \       return 0;\n    }\n    function compareByFieldSpec(obj0, obj1, fieldSpec)
    {\n        if (fieldSpec.func) {\n            return fieldSpec.func(obj0, obj1);\n
    \       }\n        return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n
    \           * (fieldSpec.order || 1);\n    }\n    function flexibleCompare(a,
    b) {\n        if (!a && !b) {\n            return 0;\n        }\n        if (b
    == null) {\n            return -1;\n        }\n        if (a == null) {\n            return
    1;\n        }\n        if (typeof a === 'string' || typeof b === 'string') {\n
    \           return String(a).localeCompare(String(b));\n        }\n        return
    a - b;\n    }\n    /* String Utilities\n    ----------------------------------------------------------------------------------------------------------------------*/\n
    \   function padStart(val, len) {\n        var s = String(val);\n        return
    '000'.substr(0, len - s.length) + s;\n    }\n    /* Number Utilities\n    ----------------------------------------------------------------------------------------------------------------------*/\n
    \   function compareNumbers(a, b) {\n        return a - b;\n    }\n    function
    isInt(n) {\n        return n % 1 === 0;\n    }\n    /* FC-specific DOM dimension
    stuff\n    ----------------------------------------------------------------------------------------------------------------------*/\n
    \   function computeSmallestCellWidth(cellEl) {\n        var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n
    \       var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n
    \       if (!allWidthEl) {\n            throw new Error('needs fc-scrollgrid-shrink-frame
    className'); // TODO: use const\n        }\n        if (!contentWidthEl) {\n            throw
    new Error('needs fc-scrollgrid-shrink-cushion className');\n        }\n        return
    cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width
    + // the cell padding+border\n            contentWidthEl.getBoundingClientRect().width;\n
    \   }\n\n    var DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n
    \   // Adding\n    function addWeeks(m, n) {\n        var a = dateToUtcArray(m);\n
    \       a[2] += n * 7;\n        return arrayToUtcDate(a);\n    }\n    function
    addDays(m, n) {\n        var a = dateToUtcArray(m);\n        a[2] += n;\n        return
    arrayToUtcDate(a);\n    }\n    function addMs(m, n) {\n        var a = dateToUtcArray(m);\n
    \       a[6] += n;\n        return arrayToUtcDate(a);\n    }\n    // Diffing (all
    return floats)\n    // TODO: why not use ranges?\n    function diffWeeks(m0, m1)
    {\n        return diffDays(m0, m1) / 7;\n    }\n    function diffDays(m0, m1)
    {\n        return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n    }\n
    \   function diffHours(m0, m1) {\n        return (m1.valueOf() - m0.valueOf())
    / (1000 * 60 * 60);\n    }\n    function diffMinutes(m0, m1) {\n        return
    (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n    }\n    function diffSeconds(m0,
    m1) {\n        return (m1.valueOf() - m0.valueOf()) / 1000;\n    }\n    function
    diffDayAndTime(m0, m1) {\n        var m0day = startOfDay(m0);\n        var m1day
    = startOfDay(m1);\n        return {\n            years: 0,\n            months:
    0,\n            days: Math.round(diffDays(m0day, m1day)),\n            milliseconds:
    (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n        };\n
    \   }\n    // Diffing Whole Units\n    function diffWholeWeeks(m0, m1) {\n        var
    d = diffWholeDays(m0, m1);\n        if (d !== null && d % 7 === 0) {\n            return
    d / 7;\n        }\n        return null;\n    }\n    function diffWholeDays(m0,
    m1) {\n        if (timeAsMs(m0) === timeAsMs(m1)) {\n            return Math.round(diffDays(m0,
    m1));\n        }\n        return null;\n    }\n    // Start-Of\n    function startOfDay(m)
    {\n        return arrayToUtcDate([\n            m.getUTCFullYear(),\n            m.getUTCMonth(),\n
    \           m.getUTCDate(),\n        ]);\n    }\n    function startOfHour(m) {\n
    \       return arrayToUtcDate([\n            m.getUTCFullYear(),\n            m.getUTCMonth(),\n
    \           m.getUTCDate(),\n            m.getUTCHours(),\n        ]);\n    }\n
    \   function startOfMinute(m) {\n        return arrayToUtcDate([\n            m.getUTCFullYear(),\n
    \           m.getUTCMonth(),\n            m.getUTCDate(),\n            m.getUTCHours(),\n
    \           m.getUTCMinutes(),\n        ]);\n    }\n    function startOfSecond(m)
    {\n        return arrayToUtcDate([\n            m.getUTCFullYear(),\n            m.getUTCMonth(),\n
    \           m.getUTCDate(),\n            m.getUTCHours(),\n            m.getUTCMinutes(),\n
    \           m.getUTCSeconds(),\n        ]);\n    }\n    // Week Computation\n
    \   function weekOfYear(marker, dow, doy) {\n        var y = marker.getUTCFullYear();\n
    \       var w = weekOfGivenYear(marker, y, dow, doy);\n        if (w < 1) {\n
    \           return weekOfGivenYear(marker, y - 1, dow, doy);\n        }\n        var
    nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n        if (nextW >= 1) {\n
    \           return Math.min(w, nextW);\n        }\n        return w;\n    }\n
    \   function weekOfGivenYear(marker, year, dow, doy) {\n        var firstWeekStart
    = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n        var
    dayStart = startOfDay(marker);\n        var days = Math.round(diffDays(firstWeekStart,
    dayStart));\n        return Math.floor(days / 7) + 1; // zero-indexed\n    }\n
    \   // start-of-first-week - start-of-year\n    function firstWeekOffset(year,
    dow, doy) {\n        // first-week day -- which january is always in the first
    week (4 for iso, 1 for other)\n        var fwd = 7 + dow - doy;\n        // first-week
    day local weekday -- which local weekday is fwd\n        var fwdlw = (7 + arrayToUtcDate([year,
    0, fwd]).getUTCDay() - dow) % 7;\n        return -fwdlw + fwd - 1;\n    }\n    //
    Array Conversion\n    function dateToLocalArray(date) {\n        return [\n            date.getFullYear(),\n
    \           date.getMonth(),\n            date.getDate(),\n            date.getHours(),\n
    \           date.getMinutes(),\n            date.getSeconds(),\n            date.getMilliseconds(),\n
    \       ];\n    }\n    function arrayToLocalDate(a) {\n        return new Date(a[0],
    a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n        a[3] || 0, a[4] ||
    0, a[5] || 0);\n    }\n    function dateToUtcArray(date) {\n        return [\n
    \           date.getUTCFullYear(),\n            date.getUTCMonth(),\n            date.getUTCDate(),\n
    \           date.getUTCHours(),\n            date.getUTCMinutes(),\n            date.getUTCSeconds(),\n
    \           date.getUTCMilliseconds(),\n        ];\n    }\n    function arrayToUtcDate(a)
    {\n        // according to web standards (and Safari), a month index is required.\n
    \       // massage if only given a year.\n        if (a.length === 1) {\n            a
    = a.concat([0]);\n        }\n        return new Date(Date.UTC.apply(Date, a));\n
    \   }\n    // Other Utils\n    function isValidDate(m) {\n        return !isNaN(m.valueOf());\n
    \   }\n    function timeAsMs(m) {\n        return m.getUTCHours() * 1000 * 60
    * 60 +\n            m.getUTCMinutes() * 1000 * 60 +\n            m.getUTCSeconds()
    * 1000 +\n            m.getUTCMilliseconds();\n    }\n\n    function createEventInstance(defId,
    range, forcedStartTzo, forcedEndTzo) {\n        return {\n            instanceId:
    guid(),\n            defId: defId,\n            range: range,\n            forcedStartTzo:
    forcedStartTzo == null ? null : forcedStartTzo,\n            forcedEndTzo: forcedEndTzo
    == null ? null : forcedEndTzo,\n        };\n    }\n\n    var hasOwnProperty =
    Object.prototype.hasOwnProperty;\n    // Merges an array of objects into a single
    object.\n    // The second argument allows for an array of property names who's
    object values will be merged together.\n    function mergeProps(propObjs, complexPropsMap)
    {\n        var dest = {};\n        if (complexPropsMap) {\n            for (var
    name_1 in complexPropsMap) {\n                var complexObjs = [];\n                //
    collect the trailing object values, stopping when a non-object is discovered\n
    \               for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                    var
    val = propObjs[i][name_1];\n                    if (typeof val === 'object' &&
    val) { // non-null object\n                        complexObjs.unshift(val);\n
    \                   }\n                    else if (val !== undefined) {\n                        dest[name_1]
    = val; // if there were no objects, this value will be used\n                        break;\n
    \                   }\n                }\n                // if the trailing values
    were objects, use the merged value\n                if (complexObjs.length) {\n
    \                   dest[name_1] = mergeProps(complexObjs);\n                }\n
    \           }\n        }\n        // copy values into the destination, going from
    last to first\n        for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n            var
    props = propObjs[i];\n            for (var name_2 in props) {\n                if
    (!(name_2 in dest)) { // if already assigned by previous props or complex props,
    don't reassign\n                    dest[name_2] = props[name_2];\n                }\n
    \           }\n        }\n        return dest;\n    }\n    function filterHash(hash,
    func) {\n        var filtered = {};\n        for (var key in hash) {\n            if
    (func(hash[key], key)) {\n                filtered[key] = hash[key];\n            }\n
    \       }\n        return filtered;\n    }\n    function mapHash(hash, func) {\n
    \       var newHash = {};\n        for (var key in hash) {\n            newHash[key]
    = func(hash[key], key);\n        }\n        return newHash;\n    }\n    function
    arrayToHash(a) {\n        var hash = {};\n        for (var _i = 0, a_1 = a; _i
    < a_1.length; _i++) {\n            var item = a_1[_i];\n            hash[item]
    = true;\n        }\n        return hash;\n    }\n    function buildHashFromArray(a,
    func) {\n        var hash = {};\n        for (var i = 0; i < a.length; i += 1)
    {\n            var tuple = func(a[i], i);\n            hash[tuple[0]] = tuple[1];\n
    \       }\n        return hash;\n    }\n    function hashValuesToArray(obj) {\n
    \       var a = [];\n        for (var key in obj) {\n            a.push(obj[key]);\n
    \       }\n        return a;\n    }\n    function isPropsEqual(obj0, obj1) {\n
    \       if (obj0 === obj1) {\n            return true;\n        }\n        for
    (var key in obj0) {\n            if (hasOwnProperty.call(obj0, key)) {\n                if
    (!(key in obj1)) {\n                    return false;\n                }\n            }\n
    \       }\n        for (var key in obj1) {\n            if (hasOwnProperty.call(obj1,
    key)) {\n                if (obj0[key] !== obj1[key]) {\n                    return
    false;\n                }\n            }\n        }\n        return true;\n    }\n
    \   function getUnequalProps(obj0, obj1) {\n        var keys = [];\n        for
    (var key in obj0) {\n            if (hasOwnProperty.call(obj0, key)) {\n                if
    (!(key in obj1)) {\n                    keys.push(key);\n                }\n            }\n
    \       }\n        for (var key in obj1) {\n            if (hasOwnProperty.call(obj1,
    key)) {\n                if (obj0[key] !== obj1[key]) {\n                    keys.push(key);\n
    \               }\n            }\n        }\n        return keys;\n    }\n    function
    compareObjs(oldProps, newProps, equalityFuncs) {\n        if (equalityFuncs ===
    void 0) { equalityFuncs = {}; }\n        if (oldProps === newProps) {\n            return
    true;\n        }\n        for (var key in newProps) {\n            if (key in
    oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key]))
    ;\n            else {\n                return false;\n            }\n        }\n
    \       // check for props that were omitted in the new\n        for (var key
    in oldProps) {\n            if (!(key in newProps)) {\n                return
    false;\n            }\n        }\n        return true;\n    }\n    /*\n    assumed
    \"true\" equality for handler names like \"onReceiveSomething\"\n    */\n    function
    isObjValsEqual(val0, val1, comparator) {\n        if (val0 === val1 || comparator
    === true) {\n            return true;\n        }\n        if (comparator) {\n
    \           return comparator(val0, val1);\n        }\n        return false;\n
    \   }\n    function collectFromHash(hash, startIndex, endIndex, step) {\n        if
    (startIndex === void 0) { startIndex = 0; }\n        if (step === void 0) { step
    = 1; }\n        var res = [];\n        if (endIndex == null) {\n            endIndex
    = Object.keys(hash).length;\n        }\n        for (var i = startIndex; i < endIndex;
    i += step) {\n            var val = hash[i];\n            if (val !== undefined)
    { // will disregard undefined for sparse arrays\n                res.push(val);\n
    \           }\n        }\n        return res;\n    }\n\n    function parseRecurring(refined,
    defaultAllDay, dateEnv, recurringTypes) {\n        for (var i = 0; i < recurringTypes.length;
    i += 1) {\n            var parsed = recurringTypes[i].parse(refined, dateEnv);\n
    \           if (parsed) {\n                var allDay = refined.allDay;\n                if
    (allDay == null) {\n                    allDay = defaultAllDay;\n                    if
    (allDay == null) {\n                        allDay = parsed.allDayGuess;\n                        if
    (allDay == null) {\n                            allDay = false;\n                        }\n
    \                   }\n                }\n                return {\n                    allDay:
    allDay,\n                    duration: parsed.duration,\n                    typeData:
    parsed.typeData,\n                    typeId: i,\n                };\n            }\n
    \       }\n        return null;\n    }\n    function expandRecurring(eventStore,
    framingRange, context) {\n        var dateEnv = context.dateEnv, pluginHooks =
    context.pluginHooks, options = context.options;\n        var defs = eventStore.defs,
    instances = eventStore.instances;\n        // remove existing recurring instances\n
    \       // TODO: bad. always expand events as a second step\n        instances
    = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef;
    });\n        for (var defId in defs) {\n            var def = defs[defId];\n            if
    (def.recurringDef) {\n                var duration = def.recurringDef.duration;\n
    \               if (!duration) {\n                    duration = def.allDay ?\n
    \                       options.defaultAllDayEventDuration :\n                        options.defaultTimedEventDuration;\n
    \               }\n                var starts = expandRecurringRanges(def, duration,
    framingRange, dateEnv, pluginHooks.recurringTypes);\n                for (var
    _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                    var
    start = starts_1[_i];\n                    var instance = createEventInstance(defId,
    {\n                        start: start,\n                        end: dateEnv.add(start,
    duration),\n                    });\n                    instances[instance.instanceId]
    = instance;\n                }\n            }\n        }\n        return { defs:
    defs, instances: instances };\n    }\n    /*\n    Event MUST have a recurringDef\n
    \   */\n    function expandRecurringRanges(eventDef, duration, framingRange, dateEnv,
    recurringTypes) {\n        var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n
    \       var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n            start:
    dateEnv.subtract(framingRange.start, duration),\n            end: framingRange.end,\n
    \       }, dateEnv);\n        // the recurrence plugins don't guarantee that all-day
    events are start-of-day, so we have to\n        if (eventDef.allDay) {\n            markers
    = markers.map(startOfDay);\n        }\n        return markers;\n    }\n\n    var
    INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\n    var PARSE_RE
    = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n    //
    Parsing and Creation\n    function createDuration(input, unit) {\n        var
    _a;\n        if (typeof input === 'string') {\n            return parseString(input);\n
    \       }\n        if (typeof input === 'object' && input) { // non-null object\n
    \           return parseObject(input);\n        }\n        if (typeof input ===
    'number') {\n            return parseObject((_a = {}, _a[unit || 'milliseconds']
    = input, _a));\n        }\n        return null;\n    }\n    function parseString(s)
    {\n        var m = PARSE_RE.exec(s);\n        if (m) {\n            var sign =
    m[1] ? -1 : 1;\n            return {\n                years: 0,\n                months:
    0,\n                days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n                milliseconds:
    sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                    (m[4]
    ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                    (m[5]
    ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                    (m[6] ? parseInt(m[6],
    10) : 0) // ms\n                ),\n            };\n        }\n        return
    null;\n    }\n    function parseObject(obj) {\n        var duration = {\n            years:
    obj.years || obj.year || 0,\n            months: obj.months || obj.month || 0,\n
    \           days: obj.days || obj.day || 0,\n            milliseconds: (obj.hours
    || obj.hour || 0) * 60 * 60 * 1000 + // hours\n                (obj.minutes ||
    obj.minute || 0) * 60 * 1000 + // minutes\n                (obj.seconds || obj.second
    || 0) * 1000 + // seconds\n                (obj.milliseconds || obj.millisecond
    || obj.ms || 0), // ms\n        };\n        var weeks = obj.weeks || obj.week;\n
    \       if (weeks) {\n            duration.days += weeks * 7;\n            duration.specifiedWeeks
    = true;\n        }\n        return duration;\n    }\n    // Equality\n    function
    durationsEqual(d0, d1) {\n        return d0.years === d1.years &&\n            d0.months
    === d1.months &&\n            d0.days === d1.days &&\n            d0.milliseconds
    === d1.milliseconds;\n    }\n    function asCleanDays(dur) {\n        if (!dur.years
    && !dur.months && !dur.milliseconds) {\n            return dur.days;\n        }\n
    \       return 0;\n    }\n    // Simple Math\n    function addDurations(d0, d1)
    {\n        return {\n            years: d0.years + d1.years,\n            months:
    d0.months + d1.months,\n            days: d0.days + d1.days,\n            milliseconds:
    d0.milliseconds + d1.milliseconds,\n        };\n    }\n    function subtractDurations(d1,
    d0) {\n        return {\n            years: d1.years - d0.years,\n            months:
    d1.months - d0.months,\n            days: d1.days - d0.days,\n            milliseconds:
    d1.milliseconds - d0.milliseconds,\n        };\n    }\n    function multiplyDuration(d,
    n) {\n        return {\n            years: d.years * n,\n            months: d.months
    * n,\n            days: d.days * n,\n            milliseconds: d.milliseconds
    * n,\n        };\n    }\n    // Conversions\n    // \"Rough\" because they are
    based on average-case Gregorian months/years\n    function asRoughYears(dur) {\n
    \       return asRoughDays(dur) / 365;\n    }\n    function asRoughMonths(dur)
    {\n        return asRoughDays(dur) / 30;\n    }\n    function asRoughDays(dur)
    {\n        return asRoughMs(dur) / 864e5;\n    }\n    function asRoughMinutes(dur)
    {\n        return asRoughMs(dur) / (1000 * 60);\n    }\n    function asRoughSeconds(dur)
    {\n        return asRoughMs(dur) / 1000;\n    }\n    function asRoughMs(dur) {\n
    \       return dur.years * (365 * 864e5) +\n            dur.months * (30 * 864e5)
    +\n            dur.days * 864e5 +\n            dur.milliseconds;\n    }\n    //
    Advanced Math\n    function wholeDivideDurations(numerator, denominator) {\n        var
    res = null;\n        for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n            var
    unit = INTERNAL_UNITS[i];\n            if (denominator[unit]) {\n                var
    localRes = numerator[unit] / denominator[unit];\n                if (!isInt(localRes)
    || (res !== null && res !== localRes)) {\n                    return null;\n                }\n
    \               res = localRes;\n            }\n            else if (numerator[unit])
    {\n                // needs to divide by something but can't!\n                return
    null;\n            }\n        }\n        return res;\n    }\n    function greatestDurationDenominator(dur)
    {\n        var ms = dur.milliseconds;\n        if (ms) {\n            if (ms %
    1000 !== 0) {\n                return { unit: 'millisecond', value: ms };\n            }\n
    \           if (ms % (1000 * 60) !== 0) {\n                return { unit: 'second',
    value: ms / 1000 };\n            }\n            if (ms % (1000 * 60 * 60) !==
    0) {\n                return { unit: 'minute', value: ms / (1000 * 60) };\n            }\n
    \           if (ms) {\n                return { unit: 'hour', value: ms / (1000
    * 60 * 60) };\n            }\n        }\n        if (dur.days) {\n            if
    (dur.specifiedWeeks && dur.days % 7 === 0) {\n                return { unit: 'week',
    value: dur.days / 7 };\n            }\n            return { unit: 'day', value:
    dur.days };\n        }\n        if (dur.months) {\n            return { unit:
    'month', value: dur.months };\n        }\n        if (dur.years) {\n            return
    { unit: 'year', value: dur.years };\n        }\n        return { unit: 'millisecond',
    value: 0 };\n    }\n\n    // timeZoneOffset is in minutes\n    function buildIsoString(marker,
    timeZoneOffset, stripZeroTime) {\n        if (stripZeroTime === void 0) { stripZeroTime
    = false; }\n        var s = marker.toISOString();\n        s = s.replace('.000',
    '');\n        if (stripZeroTime) {\n            s = s.replace('T00:00:00Z', '');\n
    \       }\n        if (s.length > 10) { // time part wasn't stripped, can add
    timezone info\n            if (timeZoneOffset == null) {\n                s =
    s.replace('Z', '');\n            }\n            else if (timeZoneOffset !== 0)
    {\n                s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n
    \           }\n            // otherwise, its UTC-0 and we want to keep the Z\n
    \       }\n        return s;\n    }\n    // formats the date, but with no time
    part\n    // TODO: somehow merge with buildIsoString and stripZeroTime\n    //
    TODO: rename. omit \"string\"\n    function formatDayString(marker) {\n        return
    marker.toISOString().replace(/T.*$/, '');\n    }\n    // TODO: use Date::toISOString
    and use everything after the T?\n    function formatIsoTimeString(marker) {\n
    \       return padStart(marker.getUTCHours(), 2) + ':' +\n            padStart(marker.getUTCMinutes(),
    2) + ':' +\n            padStart(marker.getUTCSeconds(), 2);\n    }\n    function
    formatTimeZoneOffset(minutes, doIso) {\n        if (doIso === void 0) { doIso
    = false; }\n        var sign = minutes < 0 ? '-' : '+';\n        var abs = Math.abs(minutes);\n
    \       var hours = Math.floor(abs / 60);\n        var mins = Math.round(abs %
    60);\n        if (doIso) {\n            return sign + padStart(hours, 2) + \":\"
    + padStart(mins, 2);\n        }\n        return \"GMT\" + sign + hours + (mins
    ? \":\" + padStart(mins, 2) : '');\n    }\n\n    // TODO: new util arrayify?\n
    \   function removeExact(array, exactVal) {\n        var removeCnt = 0;\n        var
    i = 0;\n        while (i < array.length) {\n            if (array[i] === exactVal)
    {\n                array.splice(i, 1);\n                removeCnt += 1;\n            }\n
    \           else {\n                i += 1;\n            }\n        }\n        return
    removeCnt;\n    }\n    function isArraysEqual(a0, a1, equalityFunc) {\n        if
    (a0 === a1) {\n            return true;\n        }\n        var len = a0.length;\n
    \       var i;\n        if (len !== a1.length) { // not array? or not same length?\n
    \           return false;\n        }\n        for (i = 0; i < len; i += 1) {\n
    \           if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i]))
    {\n                return false;\n            }\n        }\n        return true;\n
    \   }\n\n    function memoize(workerFunc, resEquality, teardownFunc) {\n        var
    currentArgs;\n        var currentRes;\n        return function () {\n            var
    newArgs = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                newArgs[_i]
    = arguments[_i];\n            }\n            if (!currentArgs) {\n                currentRes
    = workerFunc.apply(this, newArgs);\n            }\n            else if (!isArraysEqual(currentArgs,
    newArgs)) {\n                if (teardownFunc) {\n                    teardownFunc(currentRes);\n
    \               }\n                var res = workerFunc.apply(this, newArgs);\n
    \               if (!resEquality || !resEquality(res, currentRes)) {\n                    currentRes
    = res;\n                }\n            }\n            currentArgs = newArgs;\n
    \           return currentRes;\n        };\n    }\n    function memoizeObjArg(workerFunc,
    resEquality, teardownFunc) {\n        var _this = this;\n        var currentArg;\n
    \       var currentRes;\n        return function (newArg) {\n            if (!currentArg)
    {\n                currentRes = workerFunc.call(_this, newArg);\n            }\n
    \           else if (!isPropsEqual(currentArg, newArg)) {\n                if
    (teardownFunc) {\n                    teardownFunc(currentRes);\n                }\n
    \               var res = workerFunc.call(_this, newArg);\n                if
    (!resEquality || !resEquality(res, currentRes)) {\n                    currentRes
    = res;\n                }\n            }\n            currentArg = newArg;\n            return
    currentRes;\n        };\n    }\n    function memoizeArraylike(// used at all?\n
    \   workerFunc, resEquality, teardownFunc) {\n        var _this = this;\n        var
    currentArgSets = [];\n        var currentResults = [];\n        return function
    (newArgSets) {\n            var currentLen = currentArgSets.length;\n            var
    newLen = newArgSets.length;\n            var i = 0;\n            for (; i < currentLen;
    i += 1) {\n                if (!newArgSets[i]) { // one of the old sets no longer
    exists\n                    if (teardownFunc) {\n                        teardownFunc(currentResults[i]);\n
    \                   }\n                }\n                else if (!isArraysEqual(currentArgSets[i],
    newArgSets[i])) {\n                    if (teardownFunc) {\n                        teardownFunc(currentResults[i]);\n
    \                   }\n                    var res = workerFunc.apply(_this, newArgSets[i]);\n
    \                   if (!resEquality || !resEquality(res, currentResults[i]))
    {\n                        currentResults[i] = res;\n                    }\n                }\n
    \           }\n            for (; i < newLen; i += 1) {\n                currentResults[i]
    = workerFunc.apply(_this, newArgSets[i]);\n            }\n            currentArgSets
    = newArgSets;\n            currentResults.splice(newLen); // remove excess\n            return
    currentResults;\n        };\n    }\n    function memoizeHashlike(// used?\n    workerFunc,
    resEquality, teardownFunc) {\n        var _this = this;\n        var currentArgHash
    = {};\n        var currentResHash = {};\n        return function (newArgHash)
    {\n            var newResHash = {};\n            for (var key in newArgHash) {\n
    \               if (!currentResHash[key]) {\n                    newResHash[key]
    = workerFunc.apply(_this, newArgHash[key]);\n                }\n                else
    if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                    if
    (teardownFunc) {\n                        teardownFunc(currentResHash[key]);\n
    \                   }\n                    var res = workerFunc.apply(_this, newArgHash[key]);\n
    \                   newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n
    \                       ? currentResHash[key]\n                        : res;\n
    \               }\n                else {\n                    newResHash[key]
    = currentResHash[key];\n                }\n            }\n            currentArgHash
    = newArgHash;\n            currentResHash = newResHash;\n            return newResHash;\n
    \       };\n    }\n\n    var EXTENDED_SETTINGS_AND_SEVERITIES = {\n        week:
    3,\n        separator: 0,\n        omitZeroMinute: 0,\n        meridiem: 0,\n
    \       omitCommas: 0,\n    };\n    var STANDARD_DATE_PROP_SEVERITIES = {\n        timeZoneName:
    7,\n        era: 6,\n        year: 5,\n        month: 4,\n        day: 2,\n        weekday:
    2,\n        hour: 1,\n        minute: 1,\n        second: 1,\n    };\n    var
    MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\n    var COMMA_RE
    = /,/g; // we need re for globalness\n    var MULTI_SPACE_RE = /\\s+/g;\n    var
    LTR_RE = /\\u200e/g; // control character\n    var UTC_RE = /UTC|GMT/;\n    var
    NativeFormatter = /** @class */ (function () {\n        function NativeFormatter(formatSettings)
    {\n            var standardDateProps = {};\n            var extendedSettings =
    {};\n            var severity = 0;\n            for (var name_1 in formatSettings)
    {\n                if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                    extendedSettings[name_1]
    = formatSettings[name_1];\n                    severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1],
    severity);\n                }\n                else {\n                    standardDateProps[name_1]
    = formatSettings[name_1];\n                    if (name_1 in STANDARD_DATE_PROP_SEVERITIES)
    { // TODO: what about hour12? no severity\n                        severity =
    Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                    }\n
    \               }\n            }\n            this.standardDateProps = standardDateProps;\n
    \           this.extendedSettings = extendedSettings;\n            this.severity
    = severity;\n            this.buildFormattingFunc = memoize(buildFormattingFunc);\n
    \       }\n        NativeFormatter.prototype.format = function (date, context)
    {\n            return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings,
    context)(date);\n        };\n        NativeFormatter.prototype.formatRange = function
    (start, end, context, betterDefaultSeparator) {\n            var _a = this, standardDateProps
    = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n            var
    diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n
    \           if (!diffSeverity) {\n                return this.format(start, context);\n
    \           }\n            var biggestUnitForPartial = diffSeverity;\n            if
    (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger
    scale than time\n                (standardDateProps.year === 'numeric' || standardDateProps.year
    === '2-digit') &&\n                (standardDateProps.month === 'numeric' || standardDateProps.month
    === '2-digit') &&\n                (standardDateProps.day === 'numeric' || standardDateProps.day
    === '2-digit')) {\n                biggestUnitForPartial = 1; // make it look
    like the dates are only different in terms of time\n            }\n            var
    full0 = this.format(start, context);\n            var full1 = this.format(end,
    context);\n            if (full0 === full1) {\n                return full0;\n
    \           }\n            var partialDateProps = computePartialFormattingOptions(standardDateProps,
    biggestUnitForPartial);\n            var partialFormattingFunc = buildFormattingFunc(partialDateProps,
    extendedSettings, context);\n            var partial0 = partialFormattingFunc(start);\n
    \           var partial1 = partialFormattingFunc(end);\n            var insertion
    = findCommonInsertion(full0, partial0, full1, partial1);\n            var separator
    = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator
    || '';\n            if (insertion) {\n                return insertion.before
    + partial0 + separator + partial1 + insertion.after;\n            }\n            return
    full0 + separator + full1;\n        };\n        NativeFormatter.prototype.getLargestUnit
    = function () {\n            switch (this.severity) {\n                case 7:\n
    \               case 6:\n                case 5:\n                    return 'year';\n
    \               case 4:\n                    return 'month';\n                case
    3:\n                    return 'week';\n                case 2:\n                    return
    'day';\n                default:\n                    return 'time'; // really?\n
    \           }\n        };\n        return NativeFormatter;\n    }());\n    function
    buildFormattingFunc(standardDateProps, extendedSettings, context) {\n        var
    standardDatePropCnt = Object.keys(standardDateProps).length;\n        if (standardDatePropCnt
    === 1 && standardDateProps.timeZoneName === 'short') {\n            return function
    (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n        }\n        if
    (standardDatePropCnt === 0 && extendedSettings.week) {\n            return function
    (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText,
    context.locale, extendedSettings.week)); };\n        }\n        return buildNativeFormattingFunc(standardDateProps,
    extendedSettings, context);\n    }\n    function buildNativeFormattingFunc(standardDateProps,
    extendedSettings, context) {\n        standardDateProps = __assign({}, standardDateProps);
    // copy\n        extendedSettings = __assign({}, extendedSettings); // copy\n
    \       sanitizeSettings(standardDateProps, extendedSettings);\n        standardDateProps.timeZone
    = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n        var
    normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n
    \       var zeroFormat; // needed?\n        if (extendedSettings.omitZeroMinute)
    {\n            var zeroProps = __assign({}, standardDateProps);\n            delete
    zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n
    \           zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n
    \       }\n        return function (date) {\n            var marker = date.marker;\n
    \           var format;\n            if (zeroFormat && !marker.getUTCMinutes())
    {\n                format = zeroFormat;\n            }\n            else {\n                format
    = normalFormat;\n            }\n            var s = format.format(marker);\n            return
    postProcess(s, date, standardDateProps, extendedSettings, context);\n        };\n
    \   }\n    function sanitizeSettings(standardDateProps, extendedSettings) {\n
    \       // deal with a browser inconsistency where formatting the timezone\n        //
    requires that the hour/minute be present.\n        if (standardDateProps.timeZoneName)
    {\n            if (!standardDateProps.hour) {\n                standardDateProps.hour
    = '2-digit';\n            }\n            if (!standardDateProps.minute) {\n                standardDateProps.minute
    = '2-digit';\n            }\n        }\n        // only support short timezone
    names\n        if (standardDateProps.timeZoneName === 'long') {\n            standardDateProps.timeZoneName
    = 'short';\n        }\n        // if requesting to display seconds, MUST display
    minutes\n        if (extendedSettings.omitZeroMinute && (standardDateProps.second
    || standardDateProps.millisecond)) {\n            delete extendedSettings.omitZeroMinute;\n
    \       }\n    }\n    function postProcess(s, date, standardDateProps, extendedSettings,
    context) {\n        s = s.replace(LTR_RE, ''); // remove left-to-right control
    chars. do first. good for other regexes\n        if (standardDateProps.timeZoneName
    === 'short') {\n            s = injectTzoStr(s, (context.timeZone === 'UTC' ||
    date.timeZoneOffset == null) ?\n                'UTC' : // important to normalize
    for IE, which does \"GMT\"\n                formatTimeZoneOffset(date.timeZoneOffset));\n
    \       }\n        if (extendedSettings.omitCommas) {\n            s = s.replace(COMMA_RE,
    '').trim();\n        }\n        if (extendedSettings.omitZeroMinute) {\n            s
    = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n        }\n
    \       // ^ do anything that might create adjacent spaces before this point,\n
    \       // because MERIDIEM_RE likes to eat up loading spaces\n        if (extendedSettings.meridiem
    === false) {\n            s = s.replace(MERIDIEM_RE, '').trim();\n        }\n
    \       else if (extendedSettings.meridiem === 'narrow') { // a/p\n            s
    = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n
    \       }\n        else if (extendedSettings.meridiem === 'short') { // am/pm\n
    \           s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase()
    + \"m\"; });\n        }\n        else if (extendedSettings.meridiem === 'lowercase')
    { // other meridiem transformers already converted to lowercase\n            s
    = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n
    \       }\n        s = s.replace(MULTI_SPACE_RE, ' ');\n        s = s.trim();\n
    \       return s;\n    }\n    function injectTzoStr(s, tzoStr) {\n        var
    replaced = false;\n        s = s.replace(UTC_RE, function () {\n            replaced
    = true;\n            return tzoStr;\n        });\n        // IE11 doesn't include
    UTC/GMT in the original string, so append to end\n        if (!replaced) {\n            s
    += \" \" + tzoStr;\n        }\n        return s;\n    }\n    function formatWeekNumber(num,
    weekText, locale, display) {\n        var parts = [];\n        if (display ===
    'narrow') {\n            parts.push(weekText);\n        }\n        else if (display
    === 'short') {\n            parts.push(weekText, ' ');\n        }\n        //
    otherwise, considered 'numeric'\n        parts.push(locale.simpleNumberFormat.format(num));\n
    \       if (locale.options.direction === 'rtl') { // TODO: use control characters
    instead?\n            parts.reverse();\n        }\n        return parts.join('');\n
    \   }\n    // Range Formatting Utils\n    // 0 = exactly the same\n    // 1 =
    different by time\n    // and bigger\n    function computeMarkerDiffSeverity(d0,
    d1, ca) {\n        if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n            return
    5;\n        }\n        if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n
    \           return 4;\n        }\n        if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1))
    {\n            return 2;\n        }\n        if (timeAsMs(d0) !== timeAsMs(d1))
    {\n            return 1;\n        }\n        return 0;\n    }\n    function computePartialFormattingOptions(options,
    biggestUnit) {\n        var partialOptions = {};\n        for (var name_2 in options)
    {\n            if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date
    part prop (like timeZone)\n                STANDARD_DATE_PROP_SEVERITIES[name_2]
    <= biggestUnit) {\n                partialOptions[name_2] = options[name_2];\n
    \           }\n        }\n        return partialOptions;\n    }\n    function
    findCommonInsertion(full0, partial0, full1, partial1) {\n        var i0 = 0;\n
    \       while (i0 < full0.length) {\n            var found0 = full0.indexOf(partial0,
    i0);\n            if (found0 === -1) {\n                break;\n            }\n
    \           var before0 = full0.substr(0, found0);\n            i0 = found0 +
    partial0.length;\n            var after0 = full0.substr(i0);\n            var
    i1 = 0;\n            while (i1 < full1.length) {\n                var found1 =
    full1.indexOf(partial1, i1);\n                if (found1 === -1) {\n                    break;\n
    \               }\n                var before1 = full1.substr(0, found1);\n                i1
    = found1 + partial1.length;\n                var after1 = full1.substr(i1);\n
    \               if (before0 === before1 && after0 === after1) {\n                    return
    {\n                        before: before0,\n                        after: after0,\n
    \                   };\n                }\n            }\n        }\n        return
    null;\n    }\n\n    function expandZonedMarker(dateInfo, calendarSystem) {\n        var
    a = calendarSystem.markerToArray(dateInfo.marker);\n        return {\n            marker:
    dateInfo.marker,\n            timeZoneOffset: dateInfo.timeZoneOffset,\n            array:
    a,\n            year: a[0],\n            month: a[1],\n            day: a[2],\n
    \           hour: a[3],\n            minute: a[4],\n            second: a[5],\n
    \           millisecond: a[6],\n        };\n    }\n\n    function createVerboseFormattingArg(start,
    end, context, betterDefaultSeparator) {\n        var startInfo = expandZonedMarker(start,
    context.calendarSystem);\n        var endInfo = end ? expandZonedMarker(end, context.calendarSystem)
    : null;\n        return {\n            date: startInfo,\n            start: startInfo,\n
    \           end: endInfo,\n            timeZone: context.timeZone,\n            localeCodes:
    context.locale.codes,\n            defaultSeparator: betterDefaultSeparator ||
    context.defaultSeparator,\n        };\n    }\n\n    /*\n    TODO: fix the terminology
    of \"formatter\" vs \"formatting func\"\n    */\n    /*\n    At the time of instantiation,
    this object does not know which cmd-formatting system it will use.\n    It receives
    this at the time of formatting, as a setting.\n    */\n    var CmdFormatter =
    /** @class */ (function () {\n        function CmdFormatter(cmdStr) {\n            this.cmdStr
    = cmdStr;\n        }\n        CmdFormatter.prototype.format = function (date,
    context, betterDefaultSeparator) {\n            return context.cmdFormatter(this.cmdStr,
    createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n        };\n
    \       CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator)
    {\n            return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start,
    end, context, betterDefaultSeparator));\n        };\n        return CmdFormatter;\n
    \   }());\n\n    var FuncFormatter = /** @class */ (function () {\n        function
    FuncFormatter(func) {\n            this.func = func;\n        }\n        FuncFormatter.prototype.format
    = function (date, context, betterDefaultSeparator) {\n            return this.func(createVerboseFormattingArg(date,
    null, context, betterDefaultSeparator));\n        };\n        FuncFormatter.prototype.formatRange
    = function (start, end, context, betterDefaultSeparator) {\n            return
    this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n
    \       };\n        return FuncFormatter;\n    }());\n\n    function createFormatter(input)
    {\n        if (typeof input === 'object' && input) { // non-null object\n            return
    new NativeFormatter(input);\n        }\n        if (typeof input === 'string')
    {\n            return new CmdFormatter(input);\n        }\n        if (typeof
    input === 'function') {\n            return new FuncFormatter(input);\n        }\n
    \       return null;\n    }\n\n    // base options\n    // ------------\n    var
    BASE_OPTION_REFINERS = {\n        navLinkDayClick: identity,\n        navLinkWeekClick:
    identity,\n        duration: createDuration,\n        bootstrapFontAwesome: identity,\n
    \       buttonIcons: identity,\n        customButtons: identity,\n        defaultAllDayEventDuration:
    createDuration,\n        defaultTimedEventDuration: createDuration,\n        nextDayThreshold:
    createDuration,\n        scrollTime: createDuration,\n        scrollTimeReset:
    Boolean,\n        slotMinTime: createDuration,\n        slotMaxTime: createDuration,\n
    \       dayPopoverFormat: createFormatter,\n        slotDuration: createDuration,\n
    \       snapDuration: createDuration,\n        headerToolbar: identity,\n        footerToolbar:
    identity,\n        defaultRangeSeparator: String,\n        titleRangeSeparator:
    String,\n        forceEventDuration: Boolean,\n        dayHeaders: Boolean,\n
    \       dayHeaderFormat: createFormatter,\n        dayHeaderClassNames: identity,\n
    \       dayHeaderContent: identity,\n        dayHeaderDidMount: identity,\n        dayHeaderWillUnmount:
    identity,\n        dayCellClassNames: identity,\n        dayCellContent: identity,\n
    \       dayCellDidMount: identity,\n        dayCellWillUnmount: identity,\n        initialView:
    String,\n        aspectRatio: Number,\n        weekends: Boolean,\n        weekNumberCalculation:
    identity,\n        weekNumbers: Boolean,\n        weekNumberClassNames: identity,\n
    \       weekNumberContent: identity,\n        weekNumberDidMount: identity,\n
    \       weekNumberWillUnmount: identity,\n        editable: Boolean,\n        viewClassNames:
    identity,\n        viewDidMount: identity,\n        viewWillUnmount: identity,\n
    \       nowIndicator: Boolean,\n        nowIndicatorClassNames: identity,\n        nowIndicatorContent:
    identity,\n        nowIndicatorDidMount: identity,\n        nowIndicatorWillUnmount:
    identity,\n        showNonCurrentDates: Boolean,\n        lazyFetching: Boolean,\n
    \       startParam: String,\n        endParam: String,\n        timeZoneParam:
    String,\n        timeZone: String,\n        locales: identity,\n        locale:
    identity,\n        themeSystem: String,\n        dragRevertDuration: Number,\n
    \       dragScroll: Boolean,\n        allDayMaintainDuration: Boolean,\n        unselectAuto:
    Boolean,\n        dropAccept: identity,\n        eventOrder: parseFieldSpecs,\n
    \       eventOrderStrict: Boolean,\n        handleWindowResize: Boolean,\n        windowResizeDelay:
    Number,\n        longPressDelay: Number,\n        eventDragMinDistance: Number,\n
    \       expandRows: Boolean,\n        height: identity,\n        contentHeight:
    identity,\n        direction: String,\n        weekNumberFormat: createFormatter,\n
    \       eventResizableFromStart: Boolean,\n        displayEventTime: Boolean,\n
    \       displayEventEnd: Boolean,\n        weekText: String,\n        progressiveEventRendering:
    Boolean,\n        businessHours: identity,\n        initialDate: identity,\n        now:
    identity,\n        eventDataTransform: identity,\n        stickyHeaderDates: identity,\n
    \       stickyFooterScrollbar: identity,\n        viewHeight: identity,\n        defaultAllDay:
    Boolean,\n        eventSourceFailure: identity,\n        eventSourceSuccess: identity,\n
    \       eventDisplay: String,\n        eventStartEditable: Boolean,\n        eventDurationEditable:
    Boolean,\n        eventOverlap: identity,\n        eventConstraint: identity,\n
    \       eventAllow: identity,\n        eventBackgroundColor: String,\n        eventBorderColor:
    String,\n        eventTextColor: String,\n        eventColor: String,\n        eventClassNames:
    identity,\n        eventContent: identity,\n        eventDidMount: identity,\n
    \       eventWillUnmount: identity,\n        selectConstraint: identity,\n        selectOverlap:
    identity,\n        selectAllow: identity,\n        droppable: Boolean,\n        unselectCancel:
    String,\n        slotLabelFormat: identity,\n        slotLaneClassNames: identity,\n
    \       slotLaneContent: identity,\n        slotLaneDidMount: identity,\n        slotLaneWillUnmount:
    identity,\n        slotLabelClassNames: identity,\n        slotLabelContent: identity,\n
    \       slotLabelDidMount: identity,\n        slotLabelWillUnmount: identity,\n
    \       dayMaxEvents: identity,\n        dayMaxEventRows: identity,\n        dayMinWidth:
    Number,\n        slotLabelInterval: createDuration,\n        allDayText: String,\n
    \       allDayClassNames: identity,\n        allDayContent: identity,\n        allDayDidMount:
    identity,\n        allDayWillUnmount: identity,\n        slotMinWidth: Number,\n
    \       navLinks: Boolean,\n        eventTimeFormat: createFormatter,\n        rerenderDelay:
    Number,\n        moreLinkText: identity,\n        selectMinDistance: Number,\n
    \       selectable: Boolean,\n        selectLongPressDelay: Number,\n        eventLongPressDelay:
    Number,\n        selectMirror: Boolean,\n        eventMaxStack: Number,\n        eventMinHeight:
    Number,\n        eventMinWidth: Number,\n        eventShortHeight: Number,\n        slotEventOverlap:
    Boolean,\n        plugins: identity,\n        firstDay: Number,\n        dayCount:
    Number,\n        dateAlignment: String,\n        dateIncrement: createDuration,\n
    \       hiddenDays: identity,\n        monthMode: Boolean,\n        fixedWeekCount:
    Boolean,\n        validRange: identity,\n        visibleRange: identity,\n        titleFormat:
    identity,\n        // only used by list-view, but languages define the value,
    so we need it in base options\n        noEventsText: String,\n        moreLinkClick:
    identity,\n        moreLinkClassNames: identity,\n        moreLinkContent: identity,\n
    \       moreLinkDidMount: identity,\n        moreLinkWillUnmount: identity,\n
    \   };\n    // do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to
    give real results.\n    // raw values.\n    var BASE_OPTION_DEFAULTS = {\n        eventDisplay:
    'auto',\n        defaultRangeSeparator: ' - ',\n        titleRangeSeparator: '
    \\u2013 ',\n        defaultTimedEventDuration: '01:00:00',\n        defaultAllDayEventDuration:
    { day: 1 },\n        forceEventDuration: false,\n        nextDayThreshold: '00:00:00',\n
    \       dayHeaders: true,\n        initialView: '',\n        aspectRatio: 1.35,\n
    \       headerToolbar: {\n            start: 'title',\n            center: '',\n
    \           end: 'today prev,next',\n        },\n        weekends: true,\n        weekNumbers:
    false,\n        weekNumberCalculation: 'local',\n        editable: false,\n        nowIndicator:
    false,\n        scrollTime: '06:00:00',\n        scrollTimeReset: true,\n        slotMinTime:
    '00:00:00',\n        slotMaxTime: '24:00:00',\n        showNonCurrentDates: true,\n
    \       lazyFetching: true,\n        startParam: 'start',\n        endParam: 'end',\n
    \       timeZoneParam: 'timeZone',\n        timeZone: 'local',\n        locales:
    [],\n        locale: '',\n        themeSystem: 'standard',\n        dragRevertDuration:
    500,\n        dragScroll: true,\n        allDayMaintainDuration: false,\n        unselectAuto:
    true,\n        dropAccept: '*',\n        eventOrder: 'start,-duration,allDay,title',\n
    \       dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n
    \       handleWindowResize: true,\n        windowResizeDelay: 100,\n        longPressDelay:
    1000,\n        eventDragMinDistance: 5,\n        expandRows: false,\n        navLinks:
    false,\n        selectable: false,\n        eventMinHeight: 15,\n        eventMinWidth:
    30,\n        eventShortHeight: 30,\n    };\n    // calendar listeners\n    //
    ------------------\n    var CALENDAR_LISTENER_REFINERS = {\n        datesSet:
    identity,\n        eventsSet: identity,\n        eventAdd: identity,\n        eventChange:
    identity,\n        eventRemove: identity,\n        windowResize: identity,\n        eventClick:
    identity,\n        eventMouseEnter: identity,\n        eventMouseLeave: identity,\n
    \       select: identity,\n        unselect: identity,\n        loading: identity,\n
    \       // internal\n        _unmount: identity,\n        _beforeprint: identity,\n
    \       _afterprint: identity,\n        _noEventDrop: identity,\n        _noEventResize:
    identity,\n        _resize: identity,\n        _scrollRequest: identity,\n    };\n
    \   // calendar-specific options\n    // -------------------------\n    var CALENDAR_OPTION_REFINERS
    = {\n        buttonText: identity,\n        views: identity,\n        plugins:
    identity,\n        initialEvents: identity,\n        events: identity,\n        eventSources:
    identity,\n    };\n    var COMPLEX_OPTION_COMPARATORS = {\n        headerToolbar:
    isBoolComplexEqual,\n        footerToolbar: isBoolComplexEqual,\n        buttonText:
    isBoolComplexEqual,\n        buttonIcons: isBoolComplexEqual,\n    };\n    function
    isBoolComplexEqual(a, b) {\n        if (typeof a === 'object' && typeof b ===
    'object' && a && b) { // both non-null objects\n            return isPropsEqual(a,
    b);\n        }\n        return a === b;\n    }\n    // view-specific options\n
    \   // ---------------------\n    var VIEW_OPTION_REFINERS = {\n        type:
    String,\n        component: identity,\n        buttonText: String,\n        buttonTextKey:
    String,\n        dateProfileGeneratorClass: identity,\n        usesMinMaxTime:
    Boolean,\n        classNames: identity,\n        content: identity,\n        didMount:
    identity,\n        willUnmount: identity,\n    };\n    // util funcs\n    // ----------------------------------------------------------------------------------------------------\n
    \   function mergeRawOptions(optionSets) {\n        return mergeProps(optionSets,
    COMPLEX_OPTION_COMPARATORS);\n    }\n    function refineProps(input, refiners)
    {\n        var refined = {};\n        var extra = {};\n        for (var propName
    in refiners) {\n            if (propName in input) {\n                refined[propName]
    = refiners[propName](input[propName]);\n            }\n        }\n        for
    (var propName in input) {\n            if (!(propName in refiners)) {\n                extra[propName]
    = input[propName];\n            }\n        }\n        return { refined: refined,
    extra: extra };\n    }\n    function identity(raw) {\n        return raw;\n    }\n\n
    \   function parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n
    \       var eventStore = createEmptyEventStore();\n        var eventRefiners =
    buildEventRefiners(context);\n        for (var _i = 0, rawEvents_1 = rawEvents;
    _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n
    \           var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange,
    eventRefiners);\n            if (tuple) {\n                eventTupleToStore(tuple,
    eventStore);\n            }\n        }\n        return eventStore;\n    }\n    function
    eventTupleToStore(tuple, eventStore) {\n        if (eventStore === void 0) { eventStore
    = createEmptyEventStore(); }\n        eventStore.defs[tuple.def.defId] = tuple.def;\n
    \       if (tuple.instance) {\n            eventStore.instances[tuple.instance.instanceId]
    = tuple.instance;\n        }\n        return eventStore;\n    }\n    // retrieves
    events that have the same groupId as the instance specified by `instanceId`\n
    \   // or they are the same as the instance.\n    // why might instanceId not
    be in the store? an event from another calendar?\n    function getRelevantEvents(eventStore,
    instanceId) {\n        var instance = eventStore.instances[instanceId];\n        if
    (instance) {\n            var def_1 = eventStore.defs[instance.defId];\n            //
    get events/instances with same group\n            var newStore = filterEventStoreDefs(eventStore,
    function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n            //
    add the original\n            // TODO: wish we could use eventTupleToStore or
    something like it\n            newStore.defs[def_1.defId] = def_1;\n            newStore.instances[instance.instanceId]
    = instance;\n            return newStore;\n        }\n        return createEmptyEventStore();\n
    \   }\n    function isEventDefsGrouped(def0, def1) {\n        return Boolean(def0.groupId
    && def0.groupId === def1.groupId);\n    }\n    function createEmptyEventStore()
    {\n        return { defs: {}, instances: {} };\n    }\n    function mergeEventStores(store0,
    store1) {\n        return {\n            defs: __assign(__assign({}, store0.defs),
    store1.defs),\n            instances: __assign(__assign({}, store0.instances),
    store1.instances),\n        };\n    }\n    function filterEventStoreDefs(eventStore,
    filterFunc) {\n        var defs = filterHash(eventStore.defs, filterFunc);\n        var
    instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId]
    // still exists?\n        ); });\n        return { defs: defs, instances: instances
    };\n    }\n    function excludeSubEventStore(master, sub) {\n        var defs
    = master.defs, instances = master.instances;\n        var filteredDefs = {};\n
    \       var filteredInstances = {};\n        for (var defId in defs) {\n            if
    (!sub.defs[defId]) { // not explicitly excluded\n                filteredDefs[defId]
    = defs[defId];\n            }\n        }\n        for (var instanceId in instances)
    {\n            if (!sub.instances[instanceId] && // not explicitly excluded\n
    \               filteredDefs[instances[instanceId].defId] // def wasn't filtered
    away\n            ) {\n                filteredInstances[instanceId] = instances[instanceId];\n
    \           }\n        }\n        return {\n            defs: filteredDefs,\n
    \           instances: filteredInstances,\n        };\n    }\n\n    function normalizeConstraint(input,
    context) {\n        if (Array.isArray(input)) {\n            return parseEvents(input,
    null, context, true); // allowOpenRange=true\n        }\n        if (typeof input
    === 'object' && input) { // non-null object\n            return parseEvents([input],
    null, context, true); // allowOpenRange=true\n        }\n        if (input !=
    null) {\n            return String(input);\n        }\n        return null;\n
    \   }\n\n    function parseClassNames(raw) {\n        if (Array.isArray(raw))
    {\n            return raw;\n        }\n        if (typeof raw === 'string') {\n
    \           return raw.split(/\\s+/);\n        }\n        return [];\n    }\n\n
    \   // TODO: better called \"EventSettings\" or \"EventConfig\"\n    // TODO:
    move this file into structs\n    // TODO: separate constraint/overlap/allow, because
    selection uses only that, not other props\n    var EVENT_UI_REFINERS = {\n        display:
    String,\n        editable: Boolean,\n        startEditable: Boolean,\n        durationEditable:
    Boolean,\n        constraint: identity,\n        overlap: identity,\n        allow:
    identity,\n        className: parseClassNames,\n        classNames: parseClassNames,\n
    \       color: String,\n        backgroundColor: String,\n        borderColor:
    String,\n        textColor: String,\n    };\n    var EMPTY_EVENT_UI = {\n        display:
    null,\n        startEditable: null,\n        durationEditable: null,\n        constraints:
    [],\n        overlap: null,\n        allows: [],\n        backgroundColor: '',\n
    \       borderColor: '',\n        textColor: '',\n        classNames: [],\n    };\n
    \   function createEventUi(refined, context) {\n        var constraint = normalizeConstraint(refined.constraint,
    context);\n        return {\n            display: refined.display || null,\n            startEditable:
    refined.startEditable != null ? refined.startEditable : refined.editable,\n            durationEditable:
    refined.durationEditable != null ? refined.durationEditable : refined.editable,\n
    \           constraints: constraint != null ? [constraint] : [],\n            overlap:
    refined.overlap != null ? refined.overlap : null,\n            allows: refined.allow
    != null ? [refined.allow] : [],\n            backgroundColor: refined.backgroundColor
    || refined.color || '',\n            borderColor: refined.borderColor || refined.color
    || '',\n            textColor: refined.textColor || '',\n            classNames:
    (refined.className || []).concat(refined.classNames || []), // join singular and
    plural\n        };\n    }\n    // TODO: prevent against problems with <2 args!\n
    \   function combineEventUis(uis) {\n        return uis.reduce(combineTwoEventUis,
    EMPTY_EVENT_UI);\n    }\n    function combineTwoEventUis(item0, item1) {\n        return
    {\n            display: item1.display != null ? item1.display : item0.display,\n
    \           startEditable: item1.startEditable != null ? item1.startEditable :
    item0.startEditable,\n            durationEditable: item1.durationEditable !=
    null ? item1.durationEditable : item0.durationEditable,\n            constraints:
    item0.constraints.concat(item1.constraints),\n            overlap: typeof item1.overlap
    === 'boolean' ? item1.overlap : item0.overlap,\n            allows: item0.allows.concat(item1.allows),\n
    \           backgroundColor: item1.backgroundColor || item0.backgroundColor,\n
    \           borderColor: item1.borderColor || item0.borderColor,\n            textColor:
    item1.textColor || item0.textColor,\n            classNames: item0.classNames.concat(item1.classNames),\n
    \       };\n    }\n\n    var EVENT_NON_DATE_REFINERS = {\n        id: String,\n
    \       groupId: String,\n        title: String,\n        url: String,\n    };\n
    \   var EVENT_DATE_REFINERS = {\n        start: identity,\n        end: identity,\n
    \       date: identity,\n        allDay: Boolean,\n    };\n    var EVENT_REFINERS
    = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS),
    { extendedProps: identity });\n    function parseEvent(raw, eventSource, context,
    allowOpenRange, refiners) {\n        if (refiners === void 0) { refiners = buildEventRefiners(context);
    }\n        var _a = refineEventDef(raw, context, refiners), refined = _a.refined,
    extra = _a.extra;\n        var defaultAllDay = computeIsDefaultAllDay(eventSource,
    context);\n        var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv,
    context.pluginHooks.recurringTypes);\n        if (recurringRes) {\n            var
    def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay,
    Boolean(recurringRes.duration), context);\n            def.recurringDef = {\n
    \               typeId: recurringRes.typeId,\n                typeData: recurringRes.typeData,\n
    \               duration: recurringRes.duration,\n            };\n            return
    { def: def, instance: null };\n        }\n        var singleRes = parseSingle(refined,
    defaultAllDay, context, allowOpenRange);\n        if (singleRes) {\n            var
    def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay,
    singleRes.hasEnd, context);\n            var instance = createEventInstance(def.defId,
    singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n            return
    { def: def, instance: instance };\n        }\n        return null;\n    }\n    function
    refineEventDef(raw, context, refiners) {\n        if (refiners === void 0) { refiners
    = buildEventRefiners(context); }\n        return refineProps(raw, refiners);\n
    \   }\n    function buildEventRefiners(context) {\n        return __assign(__assign(__assign({},
    EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n    }\n
    \   /*\n    Will NOT populate extendedProps with the leftover properties.\n    Will
    NOT populate date-related props.\n    */\n    function parseEventDef(refined,
    extra, sourceId, allDay, hasEnd, context) {\n        var def = {\n            title:
    refined.title || '',\n            groupId: refined.groupId || '',\n            publicId:
    refined.id || '',\n            url: refined.url || '',\n            recurringDef:
    null,\n            defId: guid(),\n            sourceId: sourceId,\n            allDay:
    allDay,\n            hasEnd: hasEnd,\n            ui: createEventUi(refined, context),\n
    \           extendedProps: __assign(__assign({}, (refined.extendedProps || {})),
    extra),\n        };\n        for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders;
    _i < _a.length; _i++) {\n            var memberAdder = _a[_i];\n            __assign(def,
    memberAdder(refined));\n        }\n        // help out EventApi from having user
    modify props\n        Object.freeze(def.ui.classNames);\n        Object.freeze(def.extendedProps);\n
    \       return def;\n    }\n    function parseSingle(refined, defaultAllDay, context,
    allowOpenRange) {\n        var allDay = refined.allDay;\n        var startMeta;\n
    \       var startMarker = null;\n        var hasEnd = false;\n        var endMeta;\n
    \       var endMarker = null;\n        var startInput = refined.start != null
    ? refined.start : refined.date;\n        startMeta = context.dateEnv.createMarkerMeta(startInput);\n
    \       if (startMeta) {\n            startMarker = startMeta.marker;\n        }\n
    \       else if (!allowOpenRange) {\n            return null;\n        }\n        if
    (refined.end != null) {\n            endMeta = context.dateEnv.createMarkerMeta(refined.end);\n
    \       }\n        if (allDay == null) {\n            if (defaultAllDay != null)
    {\n                allDay = defaultAllDay;\n            }\n            else {\n
    \               // fall back to the date props LAST\n                allDay =
    (!startMeta || startMeta.isTimeUnspecified) &&\n                    (!endMeta
    || endMeta.isTimeUnspecified);\n            }\n        }\n        if (allDay &&
    startMarker) {\n            startMarker = startOfDay(startMarker);\n        }\n
    \       if (endMeta) {\n            endMarker = endMeta.marker;\n            if
    (allDay) {\n                endMarker = startOfDay(endMarker);\n            }\n
    \           if (startMarker && endMarker <= startMarker) {\n                endMarker
    = null;\n            }\n        }\n        if (endMarker) {\n            hasEnd
    = true;\n        }\n        else if (!allowOpenRange) {\n            hasEnd =
    context.options.forceEventDuration || false;\n            endMarker = context.dateEnv.add(startMarker,
    allDay ?\n                context.options.defaultAllDayEventDuration :\n                context.options.defaultTimedEventDuration);\n
    \       }\n        return {\n            allDay: allDay,\n            hasEnd:
    hasEnd,\n            range: { start: startMarker, end: endMarker },\n            forcedStartTzo:
    startMeta ? startMeta.forcedTzo : null,\n            forcedEndTzo: endMeta ? endMeta.forcedTzo
    : null,\n        };\n    }\n    function computeIsDefaultAllDay(eventSource, context)
    {\n        var res = null;\n        if (eventSource) {\n            res = eventSource.defaultAllDay;\n
    \       }\n        if (res == null) {\n            res = context.options.defaultAllDay;\n
    \       }\n        return res;\n    }\n\n    /* Date stuff that doesn't belong
    in datelib core\n    ----------------------------------------------------------------------------------------------------------------------*/\n
    \   // given a timed range, computes an all-day range that has the same exact
    duration,\n    // but whose start time is aligned with the start of the day.\n
    \   function computeAlignedDayRange(timedRange) {\n        var dayCnt = Math.floor(diffDays(timedRange.start,
    timedRange.end)) || 1;\n        var start = startOfDay(timedRange.start);\n        var
    end = addDays(start, dayCnt);\n        return { start: start, end: end };\n    }\n
    \   // given a timed range, computes an all-day range based on how for the end
    date bleeds into the next day\n    // TODO: give nextDayThreshold a default arg\n
    \   function computeVisibleDayRange(timedRange, nextDayThreshold) {\n        if
    (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n        var
    startDay = null;\n        var endDay = null;\n        if (timedRange.end) {\n
    \           endDay = startOfDay(timedRange.end);\n            var endTimeMS =
    timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n
    \           // If the end time is actually inclusively part of the next day and
    is equal to or\n            // beyond the next day threshold, adjust the end to
    be the exclusive end of `endDay`.\n            // Otherwise, leaving it as inclusive
    will cause it to exclude `endDay`.\n            if (endTimeMS && endTimeMS >=
    asRoughMs(nextDayThreshold)) {\n                endDay = addDays(endDay, 1);\n
    \           }\n        }\n        if (timedRange.start) {\n            startDay
    = startOfDay(timedRange.start); // the beginning of the day the range starts\n
    \           // If end is within `startDay` but not past nextDayThreshold, assign
    the default duration of one day.\n            if (endDay && endDay <= startDay)
    {\n                endDay = addDays(startDay, 1);\n            }\n        }\n
    \       return { start: startDay, end: endDay };\n    }\n    // spans from one
    day into another?\n    function isMultiDayRange(range) {\n        var visibleRange
    = computeVisibleDayRange(range);\n        return diffDays(visibleRange.start,
    visibleRange.end) > 1;\n    }\n    function diffDates(date0, date1, dateEnv, largeUnit)
    {\n        if (largeUnit === 'year') {\n            return createDuration(dateEnv.diffWholeYears(date0,
    date1), 'year');\n        }\n        if (largeUnit === 'month') {\n            return
    createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n        }\n        return
    diffDayAndTime(date0, date1); // returns a duration\n    }\n\n    function parseRange(input,
    dateEnv) {\n        var start = null;\n        var end = null;\n        if (input.start)
    {\n            start = dateEnv.createMarker(input.start);\n        }\n        if
    (input.end) {\n            end = dateEnv.createMarker(input.end);\n        }\n
    \       if (!start && !end) {\n            return null;\n        }\n        if
    (start && end && end < start) {\n            return null;\n        }\n        return
    { start: start, end: end };\n    }\n    // SIDE-EFFECT: will mutate ranges.\n
    \   // Will return a new array result.\n    function invertRanges(ranges, constraintRange)
    {\n        var invertedRanges = [];\n        var start = constraintRange.start;
    // the end of the previous range. the start of the new range\n        var i;\n
    \       var dateRange;\n        // ranges need to be in order. required for our
    date-walking algorithm\n        ranges.sort(compareRanges);\n        for (i =
    0; i < ranges.length; i += 1) {\n            dateRange = ranges[i];\n            //
    add the span of time before the event (if there is any)\n            if (dateRange.start
    > start) { // compare millisecond time (skip any ambig logic)\n                invertedRanges.push({
    start: start, end: dateRange.start });\n            }\n            if (dateRange.end
    > start) {\n                start = dateRange.end;\n            }\n        }\n
    \       // add the span of time after the last event (if there is any)\n        if
    (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n
    \           invertedRanges.push({ start: start, end: constraintRange.end });\n
    \       }\n        return invertedRanges;\n    }\n    function compareRanges(range0,
    range1) {\n        return range0.start.valueOf() - range1.start.valueOf(); //
    earlier ranges go first\n    }\n    function intersectRanges(range0, range1) {\n
    \       var start = range0.start, end = range0.end;\n        var newRange = null;\n
    \       if (range1.start !== null) {\n            if (start === null) {\n                start
    = range1.start;\n            }\n            else {\n                start = new
    Date(Math.max(start.valueOf(), range1.start.valueOf()));\n            }\n        }\n
    \       if (range1.end != null) {\n            if (end === null) {\n                end
    = range1.end;\n            }\n            else {\n                end = new Date(Math.min(end.valueOf(),
    range1.end.valueOf()));\n            }\n        }\n        if (start === null
    || end === null || start < end) {\n            newRange = { start: start, end:
    end };\n        }\n        return newRange;\n    }\n    function rangesEqual(range0,
    range1) {\n        return (range0.start === null ? null : range0.start.valueOf())
    === (range1.start === null ? null : range1.start.valueOf()) &&\n            (range0.end
    === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n
    \   }\n    function rangesIntersect(range0, range1) {\n        return (range0.end
    === null || range1.start === null || range0.end > range1.start) &&\n            (range0.start
    === null || range1.end === null || range0.start < range1.end);\n    }\n    function
    rangeContainsRange(outerRange, innerRange) {\n        return (outerRange.start
    === null || (innerRange.start !== null && innerRange.start >= outerRange.start))
    &&\n            (outerRange.end === null || (innerRange.end !== null && innerRange.end
    <= outerRange.end));\n    }\n    function rangeContainsMarker(range, date) {\n
    \       return (range.start === null || date >= range.start) &&\n            (range.end
    === null || date < range.end);\n    }\n    // If the given date is not within
    the given range, move it inside.\n    // (If it's past the end, make it one millisecond
    before the end).\n    function constrainMarkerToRange(date, range) {\n        if
    (range.start != null && date < range.start) {\n            return range.start;\n
    \       }\n        if (range.end != null && date >= range.end) {\n            return
    new Date(range.end.valueOf() - 1);\n        }\n        return date;\n    }\n\n
    \   /*\n    Specifying nextDayThreshold signals that all-day ranges should be
    sliced.\n    */\n    function sliceEventStore(eventStore, eventUiBases, framingRange,
    nextDayThreshold) {\n        var inverseBgByGroupId = {};\n        var inverseBgByDefId
    = {};\n        var defByGroupId = {};\n        var bgRanges = [];\n        var
    fgRanges = [];\n        var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n
    \       for (var defId in eventStore.defs) {\n            var def = eventStore.defs[defId];\n
    \           var ui = eventUis[def.defId];\n            if (ui.display === 'inverse-background')
    {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId]
    = [];\n                    if (!defByGroupId[def.groupId]) {\n                        defByGroupId[def.groupId]
    = def;\n                    }\n                }\n                else {\n                    inverseBgByDefId[defId]
    = [];\n                }\n            }\n        }\n        for (var instanceId
    in eventStore.instances) {\n            var instance = eventStore.instances[instanceId];\n
    \           var def = eventStore.defs[instance.defId];\n            var ui = eventUis[def.defId];\n
    \           var origRange = instance.range;\n            var normalRange = (!def.allDay
    && nextDayThreshold) ?\n                computeVisibleDayRange(origRange, nextDayThreshold)
    :\n                origRange;\n            var slicedRange = intersectRanges(normalRange,
    framingRange);\n            if (slicedRange) {\n                if (ui.display
    === 'inverse-background') {\n                    if (def.groupId) {\n                        inverseBgByGroupId[def.groupId].push(slicedRange);\n
    \                   }\n                    else {\n                        inverseBgByDefId[instance.defId].push(slicedRange);\n
    \                   }\n                }\n                else if (ui.display
    !== 'none') {\n                    (ui.display === 'background' ? bgRanges : fgRanges).push({\n
    \                       def: def,\n                        ui: ui,\n                        instance:
    instance,\n                        range: slicedRange,\n                        isStart:
    normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n
    \                       isEnd: normalRange.end && normalRange.end.valueOf() ===
    slicedRange.end.valueOf(),\n                    });\n                }\n            }\n
    \       }\n        for (var groupId in inverseBgByGroupId) { // BY GROUP\n            var
    ranges = inverseBgByGroupId[groupId];\n            var invertedRanges = invertRanges(ranges,
    framingRange);\n            for (var _i = 0, invertedRanges_1 = invertedRanges;
    _i < invertedRanges_1.length; _i++) {\n                var invertedRange = invertedRanges_1[_i];\n
    \               var def = defByGroupId[groupId];\n                var ui = eventUis[def.defId];\n
    \               bgRanges.push({\n                    def: def,\n                    ui:
    ui,\n                    instance: null,\n                    range: invertedRange,\n
    \                   isStart: false,\n                    isEnd: false,\n                });\n
    \           }\n        }\n        for (var defId in inverseBgByDefId) {\n            var
    ranges = inverseBgByDefId[defId];\n            var invertedRanges = invertRanges(ranges,
    framingRange);\n            for (var _a = 0, invertedRanges_2 = invertedRanges;
    _a < invertedRanges_2.length; _a++) {\n                var invertedRange = invertedRanges_2[_a];\n
    \               bgRanges.push({\n                    def: eventStore.defs[defId],\n
    \                   ui: eventUis[defId],\n                    instance: null,\n
    \                   range: invertedRange,\n                    isStart: false,\n
    \                   isEnd: false,\n                });\n            }\n        }\n
    \       return { bg: bgRanges, fg: fgRanges };\n    }\n    function hasBgRendering(def)
    {\n        return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n
    \   }\n    function setElSeg(el, seg) {\n        el.fcSeg = seg;\n    }\n    function
    getElSeg(el) {\n        return el.fcSeg ||\n            el.parentNode.fcSeg ||
    // for the harness\n            null;\n    }\n    // event ui computation\n    function
    compileEventUis(eventDefs, eventUiBases) {\n        return mapHash(eventDefs,
    function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n    }\n
    \   function compileEventUi(eventDef, eventUiBases) {\n        var uis = [];\n
    \       if (eventUiBases['']) {\n            uis.push(eventUiBases['']);\n        }\n
    \       if (eventUiBases[eventDef.defId]) {\n            uis.push(eventUiBases[eventDef.defId]);\n
    \       }\n        uis.push(eventDef.ui);\n        return combineEventUis(uis);\n
    \   }\n    function sortEventSegs(segs, eventOrderSpecs) {\n        var objs =
    segs.map(buildSegCompareObj);\n        objs.sort(function (obj0, obj1) { return
    compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n        return objs.map(function
    (c) { return c._seg; });\n    }\n    // returns a object with all primitive props
    that can be compared\n    function buildSegCompareObj(seg) {\n        var eventRange
    = seg.eventRange;\n        var eventDef = eventRange.def;\n        var range =
    eventRange.instance ? eventRange.instance.range : eventRange.range;\n        var
    start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range
    events\n        var end = range.end ? range.end.valueOf() : 0; // \"\n        return
    __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId,
    start: start,\n            end: end, duration: end - start, allDay: Number(eventDef.allDay),
    _seg: seg });\n    }\n    function computeSegDraggable(seg, context) {\n        var
    pluginHooks = context.pluginHooks;\n        var transformers = pluginHooks.isDraggableTransformers;\n
    \       var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n        var val =
    ui.startEditable;\n        for (var _i = 0, transformers_1 = transformers; _i
    < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n
    \           val = transformer(val, def, ui, context);\n        }\n        return
    val;\n    }\n    function computeSegStartResizable(seg, context) {\n        return
    seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n
    \   }\n    function computeSegEndResizable(seg, context) {\n        return seg.isEnd
    && seg.eventRange.ui.durationEditable;\n    }\n    function buildSegTimeText(seg,
    timeFormat, context, defaultDisplayEventTime, // defaults to true\n    defaultDisplayEventEnd,
    // defaults to true\n    startOverride, endOverride) {\n        var dateEnv =
    context.dateEnv, options = context.options;\n        var displayEventTime = options.displayEventTime,
    displayEventEnd = options.displayEventEnd;\n        var eventDef = seg.eventRange.def;\n
    \       var eventInstance = seg.eventRange.instance;\n        if (displayEventTime
    == null) {\n            displayEventTime = defaultDisplayEventTime !== false;\n
    \       }\n        if (displayEventEnd == null) {\n            displayEventEnd
    = defaultDisplayEventEnd !== false;\n        }\n        var wholeEventStart =
    eventInstance.range.start;\n        var wholeEventEnd = eventInstance.range.end;\n
    \       var segStart = startOverride || seg.start || seg.eventRange.range.start;\n
    \       var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n        var
    isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n
    \       var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd,
    -1)).valueOf();\n        if (displayEventTime && !eventDef.allDay && (isStartDay
    || isEndDay)) {\n            segStart = isStartDay ? wholeEventStart : segStart;\n
    \           segEnd = isEndDay ? wholeEventEnd : segEnd;\n            if (displayEventEnd
    && eventDef.hasEnd) {\n                return dateEnv.formatRange(segStart, segEnd,
    timeFormat, {\n                    forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n
    \                   forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n
    \               });\n            }\n            return dateEnv.format(segStart,
    timeFormat, {\n                forcedTzo: startOverride ? null : eventInstance.forcedStartTzo,
    // nooooo, same\n            });\n        }\n        return '';\n    }\n    function
    getSegMeta(seg, todayRange, nowDate) {\n        var segRange = seg.eventRange.range;\n
    \       return {\n            isPast: segRange.end < (nowDate || todayRange.start),\n
    \           isFuture: segRange.start >= (nowDate || todayRange.end),\n            isToday:
    todayRange && rangeContainsMarker(todayRange, segRange.start),\n        };\n    }\n
    \   function getEventClassNames(props) {\n        var classNames = ['fc-event'];\n
    \       if (props.isMirror) {\n            classNames.push('fc-event-mirror');\n
    \       }\n        if (props.isDraggable) {\n            classNames.push('fc-event-draggable');\n
    \       }\n        if (props.isStartResizable || props.isEndResizable) {\n            classNames.push('fc-event-resizable');\n
    \       }\n        if (props.isDragging) {\n            classNames.push('fc-event-dragging');\n
    \       }\n        if (props.isResizing) {\n            classNames.push('fc-event-resizing');\n
    \       }\n        if (props.isSelected) {\n            classNames.push('fc-event-selected');\n
    \       }\n        if (props.isStart) {\n            classNames.push('fc-event-start');\n
    \       }\n        if (props.isEnd) {\n            classNames.push('fc-event-end');\n
    \       }\n        if (props.isPast) {\n            classNames.push('fc-event-past');\n
    \       }\n        if (props.isToday) {\n            classNames.push('fc-event-today');\n
    \       }\n        if (props.isFuture) {\n            classNames.push('fc-event-future');\n
    \       }\n        return classNames;\n    }\n    function buildEventRangeKey(eventRange)
    {\n        return eventRange.instance\n            ? eventRange.instance.instanceId\n
    \           : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n
    \       // inverse-background events don't have specific instances. TODO: better
    solution\n    }\n\n    var STANDARD_PROPS = {\n        start: identity,\n        end:
    identity,\n        allDay: Boolean,\n    };\n    function parseDateSpan(raw, dateEnv,
    defaultDuration) {\n        var span = parseOpenDateSpan(raw, dateEnv);\n        var
    range = span.range;\n        if (!range.start) {\n            return null;\n        }\n
    \       if (!range.end) {\n            if (defaultDuration == null) {\n                return
    null;\n            }\n            range.end = dateEnv.add(range.start, defaultDuration);\n
    \       }\n        return span;\n    }\n    /*\n    TODO: somehow combine with
    parseRange?\n    Will return null if the start/end props were present but parsed
    invalidly.\n    */\n    function parseOpenDateSpan(raw, dateEnv) {\n        var
    _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n
    \       var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start)
    : null;\n        var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end)
    : null;\n        var allDay = standardProps.allDay;\n        if (allDay == null)
    {\n            allDay = (startMeta && startMeta.isTimeUnspecified) &&\n                (!endMeta
    || endMeta.isTimeUnspecified);\n        }\n        return __assign({ range: {\n
    \               start: startMeta ? startMeta.marker : null,\n                end:
    endMeta ? endMeta.marker : null,\n            }, allDay: allDay }, extra);\n    }\n
    \   function isDateSpansEqual(span0, span1) {\n        return rangesEqual(span0.range,
    span1.range) &&\n            span0.allDay === span1.allDay &&\n            isSpanPropsEqual(span0,
    span1);\n    }\n    // the NON-DATE-RELATED props\n    function isSpanPropsEqual(span0,
    span1) {\n        for (var propName in span1) {\n            if (propName !==
    'range' && propName !== 'allDay') {\n                if (span0[propName] !== span1[propName])
    {\n                    return false;\n                }\n            }\n        }\n
    \       // are there any props that span0 has that span1 DOESN'T have?\n        //
    both have range/allDay, so no need to special-case.\n        for (var propName
    in span0) {\n            if (!(propName in span1)) {\n                return false;\n
    \           }\n        }\n        return true;\n    }\n    function buildDateSpanApi(span,
    dateEnv) {\n        return __assign(__assign({}, buildRangeApi(span.range, dateEnv,
    span.allDay)), { allDay: span.allDay });\n    }\n    function buildRangeApiWithTimeZone(range,
    dateEnv, omitTime) {\n        return __assign(__assign({}, buildRangeApi(range,
    dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n    }\n    function buildRangeApi(range,
    dateEnv, omitTime) {\n        return {\n            start: dateEnv.toDate(range.start),\n
    \           end: dateEnv.toDate(range.end),\n            startStr: dateEnv.formatIso(range.start,
    { omitTime: omitTime }),\n            endStr: dateEnv.formatIso(range.end, { omitTime:
    omitTime }),\n        };\n    }\n    function fabricateEventRange(dateSpan, eventUiBases,
    context) {\n        var res = refineEventDef({ editable: false }, context);\n
    \       var def = parseEventDef(res.refined, res.extra, '', // sourceId\n        dateSpan.allDay,
    true, // hasEnd\n        context);\n        return {\n            def: def,\n
    \           ui: compileEventUi(def, eventUiBases),\n            instance: createEventInstance(def.defId,
    dateSpan.range),\n            range: dateSpan.range,\n            isStart: true,\n
    \           isEnd: true,\n        };\n    }\n\n    function triggerDateSelect(selection,
    pev, context) {\n        context.emitter.trigger('select', __assign(__assign({},
    buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent
    : null, view: context.viewApi || context.calendarApi.view }));\n    }\n    function
    triggerDateUnselect(pev, context) {\n        context.emitter.trigger('unselect',
    {\n            jsEvent: pev ? pev.origEvent : null,\n            view: context.viewApi
    || context.calendarApi.view,\n        });\n    }\n    function buildDateSpanApiWithContext(dateSpan,
    context) {\n        var props = {};\n        for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms;
    _i < _a.length; _i++) {\n            var transform = _a[_i];\n            __assign(props,
    transform(dateSpan, context));\n        }\n        __assign(props, buildDateSpanApi(dateSpan,
    context.dateEnv));\n        return props;\n    }\n    // Given an event's allDay
    status and start date, return what its fallback end date should be.\n    // TODO:
    rename to computeDefaultEventEnd\n    function getDefaultEventEnd(allDay, marker,
    context) {\n        var dateEnv = context.dateEnv, options = context.options;\n
    \       var end = marker;\n        if (allDay) {\n            end = startOfDay(end);\n
    \           end = dateEnv.add(end, options.defaultAllDayEventDuration);\n        }\n
    \       else {\n            end = dateEnv.add(end, options.defaultTimedEventDuration);\n
    \       }\n        return end;\n    }\n\n    // applies the mutation to ALL defs/instances
    within the event store\n    function applyMutationToEventStore(eventStore, eventConfigBase,
    mutation, context) {\n        var eventConfigs = compileEventUis(eventStore.defs,
    eventConfigBase);\n        var dest = createEmptyEventStore();\n        for (var
    defId in eventStore.defs) {\n            var def = eventStore.defs[defId];\n            dest.defs[defId]
    = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n        }\n
    \       for (var instanceId in eventStore.instances) {\n            var instance
    = eventStore.instances[instanceId];\n            var def = dest.defs[instance.defId];
    // important to grab the newly modified def\n            dest.instances[instanceId]
    = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation,
    context);\n        }\n        return dest;\n    }\n    function applyMutationToEventDef(eventDef,
    eventConfig, mutation, context) {\n        var standardProps = mutation.standardProps
    || {};\n        // if hasEnd has not been specified, guess a good value based
    on deltas.\n        // if duration will change, there's no way the default duration
    will persist,\n        // and thus, we need to mark the event as having a real
    end\n        if (standardProps.hasEnd == null &&\n            eventConfig.durationEditable
    &&\n            (mutation.startDelta || mutation.endDelta)) {\n            standardProps.hasEnd
    = true; // TODO: is this mutation okay?\n        }\n        var copy = __assign(__assign(__assign({},
    eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui)
    });\n        if (mutation.extendedProps) {\n            copy.extendedProps = __assign(__assign({},
    copy.extendedProps), mutation.extendedProps);\n        }\n        for (var _i
    = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++)
    {\n            var applier = _a[_i];\n            applier(copy, mutation, context);\n
    \       }\n        if (!copy.hasEnd && context.options.forceEventDuration) {\n
    \           copy.hasEnd = true;\n        }\n        return copy;\n    }\n    function
    applyMutationToEventInstance(eventInstance, eventDef, // must first be modified
    by applyMutationToEventDef\n    eventConfig, mutation, context) {\n        var
    dateEnv = context.dateEnv;\n        var forceAllDay = mutation.standardProps &&
    mutation.standardProps.allDay === true;\n        var clearEnd = mutation.standardProps
    && mutation.standardProps.hasEnd === false;\n        var copy = __assign({}, eventInstance);\n
    \       if (forceAllDay) {\n            copy.range = computeAlignedDayRange(copy.range);\n
    \       }\n        if (mutation.datesDelta && eventConfig.startEditable) {\n            copy.range
    = {\n                start: dateEnv.add(copy.range.start, mutation.datesDelta),\n
    \               end: dateEnv.add(copy.range.end, mutation.datesDelta),\n            };\n
    \       }\n        if (mutation.startDelta && eventConfig.durationEditable) {\n
    \           copy.range = {\n                start: dateEnv.add(copy.range.start,
    mutation.startDelta),\n                end: copy.range.end,\n            };\n
    \       }\n        if (mutation.endDelta && eventConfig.durationEditable) {\n
    \           copy.range = {\n                start: copy.range.start,\n                end:
    dateEnv.add(copy.range.end, mutation.endDelta),\n            };\n        }\n        if
    (clearEnd) {\n            copy.range = {\n                start: copy.range.start,\n
    \               end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n
    \           };\n        }\n        // in case event was all-day but the supplied
    deltas were not\n        // better util for this?\n        if (eventDef.allDay)
    {\n            copy.range = {\n                start: startOfDay(copy.range.start),\n
    \               end: startOfDay(copy.range.end),\n            };\n        }\n
    \       // handle invalid durations\n        if (copy.range.end < copy.range.start)
    {\n            copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start,
    context);\n        }\n        return copy;\n    }\n\n    // no public types yet.
    when there are, export from:\n    // import {} from './api-type-deps'\n    var
    ViewApi = /** @class */ (function () {\n        function ViewApi(type, getCurrentData,
    dateEnv) {\n            this.type = type;\n            this.getCurrentData = getCurrentData;\n
    \           this.dateEnv = dateEnv;\n        }\n        Object.defineProperty(ViewApi.prototype,
    \"calendar\", {\n            get: function () {\n                return this.getCurrentData().calendarApi;\n
    \           },\n            enumerable: false,\n            configurable: true\n
    \       });\n        Object.defineProperty(ViewApi.prototype, \"title\", {\n            get:
    function () {\n                return this.getCurrentData().viewTitle;\n            },\n
    \           enumerable: false,\n            configurable: true\n        });\n
    \       Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n            get:
    function () {\n                return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n
    \           },\n            enumerable: false,\n            configurable: true\n
    \       });\n        Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n
    \           get: function () {\n                return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n
    \           },\n            enumerable: false,\n            configurable: true\n
    \       });\n        Object.defineProperty(ViewApi.prototype, \"currentStart\",
    {\n            get: function () {\n                return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n
    \           },\n            enumerable: false,\n            configurable: true\n
    \       });\n        Object.defineProperty(ViewApi.prototype, \"currentEnd\",
    {\n            get: function () {\n                return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n
    \           },\n            enumerable: false,\n            configurable: true\n
    \       });\n        ViewApi.prototype.getOption = function (name) {\n            return
    this.getCurrentData().options[name]; // are the view-specific options\n        };\n
    \       return ViewApi;\n    }());\n\n    var EVENT_SOURCE_REFINERS$1 = {\n        id:
    String,\n        defaultAllDay: Boolean,\n        url: String,\n        format:
    String,\n        events: identity,\n        eventDataTransform: identity,\n        //
    for any network-related sources\n        success: identity,\n        failure:
    identity,\n    };\n    function parseEventSource(raw, context, refiners) {\n        if
    (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n        var
    rawObj;\n        if (typeof raw === 'string') {\n            rawObj = { url: raw
    };\n        }\n        else if (typeof raw === 'function' || Array.isArray(raw))
    {\n            rawObj = { events: raw };\n        }\n        else if (typeof raw
    === 'object' && raw) { // not null\n            rawObj = raw;\n        }\n        if
    (rawObj) {\n            var _a = refineProps(rawObj, refiners), refined = _a.refined,
    extra = _a.extra;\n            var metaRes = buildEventSourceMeta(refined, context);\n
    \           if (metaRes) {\n                return {\n                    _raw:
    raw,\n                    isFetching: false,\n                    latestFetchId:
    '',\n                    fetchRange: null,\n                    defaultAllDay:
    refined.defaultAllDay,\n                    eventDataTransform: refined.eventDataTransform,\n
    \                   success: refined.success,\n                    failure: refined.failure,\n
    \                   publicId: refined.id || '',\n                    sourceId:
    guid(),\n                    sourceDefId: metaRes.sourceDefId,\n                    meta:
    metaRes.meta,\n                    ui: createEventUi(refined, context),\n                    extendedProps:
    extra,\n                };\n            }\n        }\n        return null;\n    }\n
    \   function buildEventSourceRefiners(context) {\n        return __assign(__assign(__assign({},
    EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS$1), context.pluginHooks.eventSourceRefiners);\n
    \   }\n    function buildEventSourceMeta(raw, context) {\n        var defs = context.pluginHooks.eventSourceDefs;\n
    \       for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins
    take precedence\n            var def = defs[i];\n            var meta = def.parseMeta(raw);\n
    \           if (meta) {\n                return { sourceDefId: i, meta: meta };\n
    \           }\n        }\n        return null;\n    }\n\n    function reduceCurrentDate(currentDate,
    action) {\n        switch (action.type) {\n            case 'CHANGE_DATE':\n                return
    action.dateMarker;\n            default:\n                return currentDate;\n
    \       }\n    }\n    function getInitialDate(options, dateEnv) {\n        var
    initialDateInput = options.initialDate;\n        // compute the initial ambig-timezone
    date\n        if (initialDateInput != null) {\n            return dateEnv.createMarker(initialDateInput);\n
    \       }\n        return getNow(options.now, dateEnv); // getNow already returns
    unzoned\n    }\n    function getNow(nowInput, dateEnv) {\n        if (typeof nowInput
    === 'function') {\n            nowInput = nowInput();\n        }\n        if (nowInput
    == null) {\n            return dateEnv.createNowMarker();\n        }\n        return
    dateEnv.createMarker(nowInput);\n    }\n\n    var CalendarApi = /** @class */
    (function () {\n        function CalendarApi() {\n        }\n        CalendarApi.prototype.getCurrentData
    = function () {\n            return this.currentDataManager.getCurrentData();\n
    \       };\n        CalendarApi.prototype.dispatch = function (action) {\n            return
    this.currentDataManager.dispatch(action);\n        };\n        Object.defineProperty(CalendarApi.prototype,
    \"view\", {\n            get: function () { return this.getCurrentData().viewApi;
    } // for public API\n            ,\n            enumerable: false,\n            configurable:
    true\n        });\n        CalendarApi.prototype.batchRendering = function (callback)
    {\n            callback();\n        };\n        CalendarApi.prototype.updateSize
    = function () {\n            this.trigger('_resize', true);\n        };\n        //
    Options\n        // -----------------------------------------------------------------------------------------------------------------\n
    \       CalendarApi.prototype.setOption = function (name, val) {\n            this.dispatch({\n
    \               type: 'SET_OPTION',\n                optionName: name,\n                rawOptionValue:
    val,\n            });\n        };\n        CalendarApi.prototype.getOption = function
    (name) {\n            return this.currentDataManager.currentCalendarOptionsInput[name];\n
    \       };\n        CalendarApi.prototype.getAvailableLocaleCodes = function ()
    {\n            return Object.keys(this.getCurrentData().availableRawLocales);\n
    \       };\n        // Trigger\n        // -----------------------------------------------------------------------------------------------------------------\n
    \       CalendarApi.prototype.on = function (handlerName, handler) {\n            var
    currentDataManager = this.currentDataManager;\n            if (currentDataManager.currentCalendarOptionsRefiners[handlerName])
    {\n                currentDataManager.emitter.on(handlerName, handler);\n            }\n
    \           else {\n                console.warn(\"Unknown listener name '\" +
    handlerName + \"'\");\n            }\n        };\n        CalendarApi.prototype.off
    = function (handlerName, handler) {\n            this.currentDataManager.emitter.off(handlerName,
    handler);\n        };\n        // not meant for public use\n        CalendarApi.prototype.trigger
    = function (handlerName) {\n            var _a;\n            var args = [];\n
    \           for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i
    - 1] = arguments[_i];\n            }\n            (_a = this.currentDataManager.emitter).trigger.apply(_a,
    __spreadArray([handlerName], args));\n        };\n        // View\n        //
    -----------------------------------------------------------------------------------------------------------------\n
    \       CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n
    \           var _this = this;\n            this.batchRendering(function () {\n
    \               _this.unselect();\n                if (dateOrRange) {\n                    if
    (dateOrRange.start && dateOrRange.end) { // a range\n                        _this.dispatch({\n
    \                           type: 'CHANGE_VIEW_TYPE',\n                            viewType:
    viewType,\n                        });\n                        _this.dispatch({\n
    \                           type: 'SET_OPTION',\n                            optionName:
    'visibleRange',\n                            rawOptionValue: dateOrRange,\n                        });\n
    \                   }\n                    else {\n                        var
    dateEnv = _this.getCurrentData().dateEnv;\n                        _this.dispatch({\n
    \                           type: 'CHANGE_VIEW_TYPE',\n                            viewType:
    viewType,\n                            dateMarker: dateEnv.createMarker(dateOrRange),\n
    \                       });\n                    }\n                }\n                else
    {\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n
    \                       viewType: viewType,\n                    });\n                }\n
    \           });\n        };\n        // Forces navigation to a view for the given
    date.\n        // `viewType` can be a specific view name or a generic one like
    \"week\" or \"day\".\n        // needs to change\n        CalendarApi.prototype.zoomTo
    = function (dateMarker, viewType) {\n            var state = this.getCurrentData();\n
    \           var spec;\n            viewType = viewType || 'day'; // day is default
    zoom\n            spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n
    \           this.unselect();\n            if (spec) {\n                this.dispatch({\n
    \                   type: 'CHANGE_VIEW_TYPE',\n                    viewType: spec.type,\n
    \                   dateMarker: dateMarker,\n                });\n            }\n
    \           else {\n                this.dispatch({\n                    type:
    'CHANGE_DATE',\n                    dateMarker: dateMarker,\n                });\n
    \           }\n        };\n        // Given a duration singular unit, like \"week\"
    or \"day\", finds a matching view spec.\n        // Preference is given to views
    that have corresponding buttons.\n        CalendarApi.prototype.getUnitViewSpec
    = function (unit) {\n            var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs,
    toolbarConfig = _a.toolbarConfig;\n            var viewTypes = [].concat(toolbarConfig.viewsWithButtons);\n
    \           var i;\n            var spec;\n            for (var viewType in viewSpecs)
    {\n                viewTypes.push(viewType);\n            }\n            for (i
    = 0; i < viewTypes.length; i += 1) {\n                spec = viewSpecs[viewTypes[i]];\n
    \               if (spec) {\n                    if (spec.singleUnit === unit)
    {\n                        return spec;\n                    }\n                }\n
    \           }\n            return null;\n        };\n        // Current Date\n
    \       // -----------------------------------------------------------------------------------------------------------------\n
    \       CalendarApi.prototype.prev = function () {\n            this.unselect();\n
    \           this.dispatch({ type: 'PREV' });\n        };\n        CalendarApi.prototype.next
    = function () {\n            this.unselect();\n            this.dispatch({ type:
    'NEXT' });\n        };\n        CalendarApi.prototype.prevYear = function () {\n
    \           var state = this.getCurrentData();\n            this.unselect();\n
    \           this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker:
    state.dateEnv.addYears(state.currentDate, -1),\n            });\n        };\n
    \       CalendarApi.prototype.nextYear = function () {\n            var state
    = this.getCurrentData();\n            this.unselect();\n            this.dispatch({\n
    \               type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.addYears(state.currentDate,
    1),\n            });\n        };\n        CalendarApi.prototype.today = function
    () {\n            var state = this.getCurrentData();\n            this.unselect();\n
    \           this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker:
    getNow(state.calendarOptions.now, state.dateEnv),\n            });\n        };\n
    \       CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n            var
    state = this.getCurrentData();\n            this.unselect();\n            this.dispatch({\n
    \               type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.createMarker(zonedDateInput),\n
    \           });\n        };\n        CalendarApi.prototype.incrementDate = function
    (deltaInput) {\n            var state = this.getCurrentData();\n            var
    delta = createDuration(deltaInput);\n            if (delta) { // else, warn about
    invalid input?\n                this.unselect();\n                this.dispatch({\n
    \                   type: 'CHANGE_DATE',\n                    dateMarker: state.dateEnv.add(state.currentDate,
    delta),\n                });\n            }\n        };\n        // for external
    API\n        CalendarApi.prototype.getDate = function () {\n            var state
    = this.getCurrentData();\n            return state.dateEnv.toDate(state.currentDate);\n
    \       };\n        // Date Formatting Utils\n        // -----------------------------------------------------------------------------------------------------------------\n
    \       CalendarApi.prototype.formatDate = function (d, formatter) {\n            var
    dateEnv = this.getCurrentData().dateEnv;\n            return dateEnv.format(dateEnv.createMarker(d),
    createFormatter(formatter));\n        };\n        // `settings` is for formatter
    AND isEndExclusive\n        CalendarApi.prototype.formatRange = function (d0,
    d1, settings) {\n            var dateEnv = this.getCurrentData().dateEnv;\n            return
    dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings),
    settings);\n        };\n        CalendarApi.prototype.formatIso = function (d,
    omitTime) {\n            var dateEnv = this.getCurrentData().dateEnv;\n            return
    dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n        };\n
    \       // Date Selection / Event Selection / DayClick\n        // -----------------------------------------------------------------------------------------------------------------\n
    \       // this public method receives start/end dates in any format, with any
    timezone\n        // NOTE: args were changed from v3\n        CalendarApi.prototype.select
    = function (dateOrObj, endDate) {\n            var selectionInput;\n            if
    (endDate == null) {\n                if (dateOrObj.start != null) {\n                    selectionInput
    = dateOrObj;\n                }\n                else {\n                    selectionInput
    = {\n                        start: dateOrObj,\n                        end: null,\n
    \                   };\n                }\n            }\n            else {\n
    \               selectionInput = {\n                    start: dateOrObj,\n                    end:
    endDate,\n                };\n            }\n            var state = this.getCurrentData();\n
    \           var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({
    days: 1 }));\n            if (selection) { // throw parse error otherwise?\n                this.dispatch({
    type: 'SELECT_DATES', selection: selection });\n                triggerDateSelect(selection,
    null, state);\n            }\n        };\n        // public method\n        CalendarApi.prototype.unselect
    = function (pev) {\n            var state = this.getCurrentData();\n            if
    (state.dateSelection) {\n                this.dispatch({ type: 'UNSELECT_DATES'
    });\n                triggerDateUnselect(pev, state);\n            }\n        };\n
    \       // Public Events API\n        // -----------------------------------------------------------------------------------------------------------------\n
    \       CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n
    \           if (eventInput instanceof EventApi) {\n                var def = eventInput._def;\n
    \               var instance = eventInput._instance;\n                var currentData
    = this.getCurrentData();\n                // not already present? don't want to
    add an old snapshot\n                if (!currentData.eventStore.defs[def.defId])
    {\n                    this.dispatch({\n                        type: 'ADD_EVENTS',\n
    \                       eventStore: eventTupleToStore({ def: def, instance: instance
    }), // TODO: better util for two args?\n                    });\n                    this.triggerEventAdd(eventInput);\n
    \               }\n                return eventInput;\n            }\n            var
    state = this.getCurrentData();\n            var eventSource;\n            if (sourceInput
    instanceof EventSourceApi) {\n                eventSource = sourceInput.internalEventSource;\n
    \           }\n            else if (typeof sourceInput === 'boolean') {\n                if
    (sourceInput) { // true. part of the first event source\n                    eventSource
    = hashValuesToArray(state.eventSources)[0];\n                }\n            }\n
    \           else if (sourceInput != null) { // an ID. accepts a number too\n                var
    sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n
    \               if (!sourceApi) {\n                    console.warn(\"Could not
    find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n
    \                   return null;\n                }\n                eventSource
    = sourceApi.internalEventSource;\n            }\n            var tuple = parseEvent(eventInput,
    eventSource, state, false);\n            if (tuple) {\n                var newEventApi
    = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n
    \               this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore:
    eventTupleToStore(tuple),\n                });\n                this.triggerEventAdd(newEventApi);\n
    \               return newEventApi;\n            }\n            return null;\n
    \       };\n        CalendarApi.prototype.triggerEventAdd = function (eventApi)
    {\n            var _this = this;\n            var emitter = this.getCurrentData().emitter;\n
    \           emitter.trigger('eventAdd', {\n                event: eventApi,\n
    \               relatedEvents: [],\n                revert: function () {\n                    _this.dispatch({\n
    \                       type: 'REMOVE_EVENTS',\n                        eventStore:
    eventApiToStore(eventApi),\n                    });\n                },\n            });\n
    \       };\n        // TODO: optimize\n        CalendarApi.prototype.getEventById
    = function (id) {\n            var state = this.getCurrentData();\n            var
    _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n            id
    = String(id);\n            for (var defId in defs) {\n                var def
    = defs[defId];\n                if (def.publicId === id) {\n                    if
    (def.recurringDef) {\n                        return new EventApi(state, def,
    null);\n                    }\n                    for (var instanceId in instances)
    {\n                        var instance = instances[instanceId];\n                        if
    (instance.defId === def.defId) {\n                            return new EventApi(state,
    def, instance);\n                        }\n                    }\n                }\n
    \           }\n            return null;\n        };\n        CalendarApi.prototype.getEvents
    = function () {\n            var currentData = this.getCurrentData();\n            return
    buildEventApis(currentData.eventStore, currentData);\n        };\n        CalendarApi.prototype.removeAllEvents
    = function () {\n            this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n        };\n
    \       // Public Event Sources API\n        // -----------------------------------------------------------------------------------------------------------------\n
    \       CalendarApi.prototype.getEventSources = function () {\n            var
    state = this.getCurrentData();\n            var sourceHash = state.eventSources;\n
    \           var sourceApis = [];\n            for (var internalId in sourceHash)
    {\n                sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n
    \           }\n            return sourceApis;\n        };\n        CalendarApi.prototype.getEventSourceById
    = function (id) {\n            var state = this.getCurrentData();\n            var
    sourceHash = state.eventSources;\n            id = String(id);\n            for
    (var sourceId in sourceHash) {\n                if (sourceHash[sourceId].publicId
    === id) {\n                    return new EventSourceApi(state, sourceHash[sourceId]);\n
    \               }\n            }\n            return null;\n        };\n        CalendarApi.prototype.addEventSource
    = function (sourceInput) {\n            var state = this.getCurrentData();\n            if
    (sourceInput instanceof EventSourceApi) {\n                // not already present?
    don't want to add an old snapshot\n                if (!state.eventSources[sourceInput.internalEventSource.sourceId])
    {\n                    this.dispatch({\n                        type: 'ADD_EVENT_SOURCES',\n
    \                       sources: [sourceInput.internalEventSource],\n                    });\n
    \               }\n                return sourceInput;\n            }\n            var
    eventSource = parseEventSource(sourceInput, state);\n            if (eventSource)
    { // TODO: error otherwise?\n                this.dispatch({ type: 'ADD_EVENT_SOURCES',
    sources: [eventSource] });\n                return new EventSourceApi(state, eventSource);\n
    \           }\n            return null;\n        };\n        CalendarApi.prototype.removeAllEventSources
    = function () {\n            this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES'
    });\n        };\n        CalendarApi.prototype.refetchEvents = function () {\n
    \           this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n
    \       };\n        // Scroll\n        // -----------------------------------------------------------------------------------------------------------------\n
    \       CalendarApi.prototype.scrollToTime = function (timeInput) {\n            var
    time = createDuration(timeInput);\n            if (time) {\n                this.trigger('_scrollRequest',
    { time: time });\n            }\n        };\n        return CalendarApi;\n    }());\n\n
    \   var EventApi = /** @class */ (function () {\n        // instance will be null
    if expressing a recurring event that has no current instances,\n        // OR
    if trying to validate an incoming external event that has no dates assigned\n
    \       function EventApi(context, def, instance) {\n            this._context
    = context;\n            this._def = def;\n            this._instance = instance
    || null;\n        }\n        /*\n        TODO: make event struct more responsible
    for this\n        */\n        EventApi.prototype.setProp = function (name, val)
    {\n            var _a, _b;\n            if (name in EVENT_DATE_REFINERS) {\n                console.warn('Could
    not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n
    \               // TODO: make proper aliasing system?\n            }\n            else
    if (name === 'id') {\n                val = EVENT_NON_DATE_REFINERS[name](val);\n
    \               this.mutate({\n                    standardProps: { publicId:
    val }, // hardcoded internal name\n                });\n            }\n            else
    if (name in EVENT_NON_DATE_REFINERS) {\n                val = EVENT_NON_DATE_REFINERS[name](val);\n
    \               this.mutate({\n                    standardProps: (_a = {}, _a[name]
    = val, _a),\n                });\n            }\n            else if (name in
    EVENT_UI_REFINERS) {\n                var ui = EVENT_UI_REFINERS[name](val);\n
    \               if (name === 'color') {\n                    ui = { backgroundColor:
    val, borderColor: val };\n                }\n                else if (name ===
    'editable') {\n                    ui = { startEditable: val, durationEditable:
    val };\n                }\n                else {\n                    ui = (_b
    = {}, _b[name] = val, _b);\n                }\n                this.mutate({\n
    \                   standardProps: { ui: ui },\n                });\n            }\n
    \           else {\n                console.warn(\"Could not set prop '\" + name
    + \"'. Use setExtendedProp instead.\");\n            }\n        };\n        EventApi.prototype.setExtendedProp
    = function (name, val) {\n            var _a;\n            this.mutate({\n                extendedProps:
    (_a = {}, _a[name] = val, _a),\n            });\n        };\n        EventApi.prototype.setStart
    = function (startInput, options) {\n            if (options === void 0) { options
    = {}; }\n            var dateEnv = this._context.dateEnv;\n            var start
    = dateEnv.createMarker(startInput);\n            if (start && this._instance)
    { // TODO: warning if parsed bad\n                var instanceRange = this._instance.range;\n
    \               var startDelta = diffDates(instanceRange.start, start, dateEnv,
    options.granularity); // what if parsed bad!?\n                if (options.maintainDuration)
    {\n                    this.mutate({ datesDelta: startDelta });\n                }\n
    \               else {\n                    this.mutate({ startDelta: startDelta
    });\n                }\n            }\n        };\n        EventApi.prototype.setEnd
    = function (endInput, options) {\n            if (options === void 0) { options
    = {}; }\n            var dateEnv = this._context.dateEnv;\n            var end;\n
    \           if (endInput != null) {\n                end = dateEnv.createMarker(endInput);\n
    \               if (!end) {\n                    return; // TODO: warning if parsed
    bad\n                }\n            }\n            if (this._instance) {\n                if
    (end) {\n                    var endDelta = diffDates(this._instance.range.end,
    end, dateEnv, options.granularity);\n                    this.mutate({ endDelta:
    endDelta });\n                }\n                else {\n                    this.mutate({
    standardProps: { hasEnd: false } });\n                }\n            }\n        };\n
    \       EventApi.prototype.setDates = function (startInput, endInput, options)
    {\n            if (options === void 0) { options = {}; }\n            var dateEnv
    = this._context.dateEnv;\n            var standardProps = { allDay: options.allDay
    };\n            var start = dateEnv.createMarker(startInput);\n            var
    end;\n            if (!start) {\n                return; // TODO: warning if parsed
    bad\n            }\n            if (endInput != null) {\n                end =
    dateEnv.createMarker(endInput);\n                if (!end) { // TODO: warning
    if parsed bad\n                    return;\n                }\n            }\n
    \           if (this._instance) {\n                var instanceRange = this._instance.range;\n
    \               // when computing the diff for an event being converted to all-day,\n
    \               // compute diff off of the all-day values the way event-mutation
    does.\n                if (options.allDay === true) {\n                    instanceRange
    = computeAlignedDayRange(instanceRange);\n                }\n                var
    startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n
    \               if (end) {\n                    var endDelta = diffDates(instanceRange.end,
    end, dateEnv, options.granularity);\n                    if (durationsEqual(startDelta,
    endDelta)) {\n                        this.mutate({ datesDelta: startDelta, standardProps:
    standardProps });\n                    }\n                    else {\n                        this.mutate({
    startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n
    \                   }\n                }\n                else { // means \"clear
    the end\"\n                    standardProps.hasEnd = false;\n                    this.mutate({
    datesDelta: startDelta, standardProps: standardProps });\n                }\n
    \           }\n        };\n        EventApi.prototype.moveStart = function (deltaInput)
    {\n            var delta = createDuration(deltaInput);\n            if (delta)
    { // TODO: warning if parsed bad\n                this.mutate({ startDelta: delta
    });\n            }\n        };\n        EventApi.prototype.moveEnd = function
    (deltaInput) {\n            var delta = createDuration(deltaInput);\n            if
    (delta) { // TODO: warning if parsed bad\n                this.mutate({ endDelta:
    delta });\n            }\n        };\n        EventApi.prototype.moveDates = function
    (deltaInput) {\n            var delta = createDuration(deltaInput);\n            if
    (delta) { // TODO: warning if parsed bad\n                this.mutate({ datesDelta:
    delta });\n            }\n        };\n        EventApi.prototype.setAllDay = function
    (allDay, options) {\n            if (options === void 0) { options = {}; }\n            var
    standardProps = { allDay: allDay };\n            var maintainDuration = options.maintainDuration;\n
    \           if (maintainDuration == null) {\n                maintainDuration
    = this._context.options.allDayMaintainDuration;\n            }\n            if
    (this._def.allDay !== allDay) {\n                standardProps.hasEnd = maintainDuration;\n
    \           }\n            this.mutate({ standardProps: standardProps });\n        };\n
    \       EventApi.prototype.formatRange = function (formatInput) {\n            var
    dateEnv = this._context.dateEnv;\n            var instance = this._instance;\n
    \           var formatter = createFormatter(formatInput);\n            if (this._def.hasEnd)
    {\n                return dateEnv.formatRange(instance.range.start, instance.range.end,
    formatter, {\n                    forcedStartTzo: instance.forcedStartTzo,\n                    forcedEndTzo:
    instance.forcedEndTzo,\n                });\n            }\n            return
    dateEnv.format(instance.range.start, formatter, {\n                forcedTzo:
    instance.forcedStartTzo,\n            });\n        };\n        EventApi.prototype.mutate
    = function (mutation) {\n            var instance = this._instance;\n            if
    (instance) {\n                var def = this._def;\n                var context_1
    = this._context;\n                var eventStore_1 = context_1.getCurrentData().eventStore;\n
    \               var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n
    \               var eventConfigBase = {\n                    '': {\n                        display:
    '',\n                        startEditable: true,\n                        durationEditable:
    true,\n                        constraints: [],\n                        overlap:
    null,\n                        allows: [],\n                        backgroundColor:
    '',\n                        borderColor: '',\n                        textColor:
    '',\n                        classNames: [],\n                    },\n                };\n
    \               relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase,
    mutation, context_1);\n                var oldEvent = new EventApi(context_1,
    def, instance); // snapshot\n                this._def = relevantEvents.defs[def.defId];\n
    \               this._instance = relevantEvents.instances[instance.instanceId];\n
    \               context_1.dispatch({\n                    type: 'MERGE_EVENTS',\n
    \                   eventStore: relevantEvents,\n                });\n                context_1.emitter.trigger('eventChange',
    {\n                    oldEvent: oldEvent,\n                    event: this,\n
    \                   relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n
    \                   revert: function () {\n                        context_1.dispatch({\n
    \                           type: 'RESET_EVENTS',\n                            eventStore:
    eventStore_1,\n                        });\n                    },\n                });\n
    \           }\n        };\n        EventApi.prototype.remove = function () {\n
    \           var context = this._context;\n            var asStore = eventApiToStore(this);\n
    \           context.dispatch({\n                type: 'REMOVE_EVENTS',\n                eventStore:
    asStore,\n            });\n            context.emitter.trigger('eventRemove',
    {\n                event: this,\n                relatedEvents: [],\n                revert:
    function () {\n                    context.dispatch({\n                        type:
    'MERGE_EVENTS',\n                        eventStore: asStore,\n                    });\n
    \               },\n            });\n        };\n        Object.defineProperty(EventApi.prototype,
    \"source\", {\n            get: function () {\n                var sourceId =
    this._def.sourceId;\n                if (sourceId) {\n                    return
    new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n
    \               }\n                return null;\n            },\n            enumerable:
    false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype,
    \"start\", {\n            get: function () {\n                return this._instance
    ?\n                    this._context.dateEnv.toDate(this._instance.range.start)
    :\n                    null;\n            },\n            enumerable: false,\n
    \           configurable: true\n        });\n        Object.defineProperty(EventApi.prototype,
    \"end\", {\n            get: function () {\n                return (this._instance
    && this._def.hasEnd) ?\n                    this._context.dateEnv.toDate(this._instance.range.end)
    :\n                    null;\n            },\n            enumerable: false,\n
    \           configurable: true\n        });\n        Object.defineProperty(EventApi.prototype,
    \"startStr\", {\n            get: function () {\n                var instance
    = this._instance;\n                if (instance) {\n                    return
    this._context.dateEnv.formatIso(instance.range.start, {\n                        omitTime:
    this._def.allDay,\n                        forcedTzo: instance.forcedStartTzo,\n
    \                   });\n                }\n                return '';\n            },\n
    \           enumerable: false,\n            configurable: true\n        });\n
    \       Object.defineProperty(EventApi.prototype, \"endStr\", {\n            get:
    function () {\n                var instance = this._instance;\n                if
    (instance && this._def.hasEnd) {\n                    return this._context.dateEnv.formatIso(instance.range.end,
    {\n                        omitTime: this._def.allDay,\n                        forcedTzo:
    instance.forcedEndTzo,\n                    });\n                }\n                return
    '';\n            },\n            enumerable: false,\n            configurable:
    true\n        });\n        Object.defineProperty(EventApi.prototype, \"id\", {\n
    \           // computable props that all access the def\n            // TODO:
    find a TypeScript-compatible way to do this at scale\n            get: function
    () { return this._def.publicId; },\n            enumerable: false,\n            configurable:
    true\n        });\n        Object.defineProperty(EventApi.prototype, \"groupId\",
    {\n            get: function () { return this._def.groupId; },\n            enumerable:
    false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype,
    \"allDay\", {\n            get: function () { return this._def.allDay; },\n            enumerable:
    false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype,
    \"title\", {\n            get: function () { return this._def.title; },\n            enumerable:
    false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype,
    \"url\", {\n            get: function () { return this._def.url; },\n            enumerable:
    false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype,
    \"display\", {\n            get: function () { return this._def.ui.display ||
    'auto'; } // bad. just normalize the type earlier\n            ,\n            enumerable:
    false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype,
    \"startEditable\", {\n            get: function () { return this._def.ui.startEditable;
    },\n            enumerable: false,\n            configurable: true\n        });\n
    \       Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n            get:
    function () { return this._def.ui.durationEditable; },\n            enumerable:
    false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype,
    \"constraint\", {\n            get: function () { return this._def.ui.constraints[0]
    || null; },\n            enumerable: false,\n            configurable: true\n
    \       });\n        Object.defineProperty(EventApi.prototype, \"overlap\", {\n
    \           get: function () { return this._def.ui.overlap; },\n            enumerable:
    false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype,
    \"allow\", {\n            get: function () { return this._def.ui.allows[0] ||
    null; },\n            enumerable: false,\n            configurable: true\n        });\n
    \       Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n            get:
    function () { return this._def.ui.backgroundColor; },\n            enumerable:
    false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype,
    \"borderColor\", {\n            get: function () { return this._def.ui.borderColor;
    },\n            enumerable: false,\n            configurable: true\n        });\n
    \       Object.defineProperty(EventApi.prototype, \"textColor\", {\n            get:
    function () { return this._def.ui.textColor; },\n            enumerable: false,\n
    \           configurable: true\n        });\n        Object.defineProperty(EventApi.prototype,
    \"classNames\", {\n            // NOTE: user can't modify these because Object.freeze
    was called in event-def parsing\n            get: function () { return this._def.ui.classNames;
    },\n            enumerable: false,\n            configurable: true\n        });\n
    \       Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n            get:
    function () { return this._def.extendedProps; },\n            enumerable: false,\n
    \           configurable: true\n        });\n        EventApi.prototype.toPlainObject
    = function (settings) {\n            if (settings === void 0) { settings = {};
    }\n            var def = this._def;\n            var ui = def.ui;\n            var
    _a = this, startStr = _a.startStr, endStr = _a.endStr;\n            var res =
    {};\n            if (def.title) {\n                res.title = def.title;\n            }\n
    \           if (startStr) {\n                res.start = startStr;\n            }\n
    \           if (endStr) {\n                res.end = endStr;\n            }\n
    \           if (def.publicId) {\n                res.id = def.publicId;\n            }\n
    \           if (def.groupId) {\n                res.groupId = def.groupId;\n            }\n
    \           if (def.url) {\n                res.url = def.url;\n            }\n
    \           if (ui.display && ui.display !== 'auto') {\n                res.display
    = ui.display;\n            }\n            // TODO: what about recurring-event
    properties???\n            // TODO: include startEditable/durationEditable/constraint/overlap/allow\n
    \           if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor
    === ui.borderColor) {\n                res.color = ui.backgroundColor;\n            }\n
    \           else {\n                if (ui.backgroundColor) {\n                    res.backgroundColor
    = ui.backgroundColor;\n                }\n                if (ui.borderColor)
    {\n                    res.borderColor = ui.borderColor;\n                }\n
    \           }\n            if (ui.textColor) {\n                res.textColor
    = ui.textColor;\n            }\n            if (ui.classNames.length) {\n                res.classNames
    = ui.classNames;\n            }\n            if (Object.keys(def.extendedProps).length)
    {\n                if (settings.collapseExtendedProps) {\n                    __assign(res,
    def.extendedProps);\n                }\n                else {\n                    res.extendedProps
    = def.extendedProps;\n                }\n            }\n            return res;\n
    \       };\n        EventApi.prototype.toJSON = function () {\n            return
    this.toPlainObject();\n        };\n        return EventApi;\n    }());\n    function
    eventApiToStore(eventApi) {\n        var _a, _b;\n        var def = eventApi._def;\n
    \       var instance = eventApi._instance;\n        return {\n            defs:
    (_a = {}, _a[def.defId] = def, _a),\n            instances: instance\n                ?
    (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n        };\n    }\n    function
    buildEventApis(eventStore, context, excludeInstance) {\n        var defs = eventStore.defs,
    instances = eventStore.instances;\n        var eventApis = [];\n        var excludeInstanceId
    = excludeInstance ? excludeInstance.instanceId : '';\n        for (var id in instances)
    {\n            var instance = instances[id];\n            var def = defs[instance.defId];\n
    \           if (instance.instanceId !== excludeInstanceId) {\n                eventApis.push(new
    EventApi(context, def, instance));\n            }\n        }\n        return eventApis;\n
    \   }\n\n    var calendarSystemClassMap = {};\n    function registerCalendarSystem(name,
    theClass) {\n        calendarSystemClassMap[name] = theClass;\n    }\n    function
    createCalendarSystem(name) {\n        return new calendarSystemClassMap[name]();\n
    \   }\n    var GregorianCalendarSystem = /** @class */ (function () {\n        function
    GregorianCalendarSystem() {\n        }\n        GregorianCalendarSystem.prototype.getMarkerYear
    = function (d) {\n            return d.getUTCFullYear();\n        };\n        GregorianCalendarSystem.prototype.getMarkerMonth
    = function (d) {\n            return d.getUTCMonth();\n        };\n        GregorianCalendarSystem.prototype.getMarkerDay
    = function (d) {\n            return d.getUTCDate();\n        };\n        GregorianCalendarSystem.prototype.arrayToMarker
    = function (arr) {\n            return arrayToUtcDate(arr);\n        };\n        GregorianCalendarSystem.prototype.markerToArray
    = function (marker) {\n            return dateToUtcArray(marker);\n        };\n
    \       return GregorianCalendarSystem;\n    }());\n    registerCalendarSystem('gregory',
    GregorianCalendarSystem);\n\n    var ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T
    ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\n
    \   function parse(str) {\n        var m = ISO_RE.exec(str);\n        if (m) {\n
    \           var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) -
    1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] ||
    0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n            if (isValidDate(marker))
    {\n                var timeZoneOffset = null;\n                if (m[13]) {\n
    \                   timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16]
    || 0) * 60 +\n                        Number(m[18] || 0));\n                }\n
    \               return {\n                    marker: marker,\n                    isTimeUnspecified:
    !m[6],\n                    timeZoneOffset: timeZoneOffset,\n                };\n
    \           }\n        }\n        return null;\n    }\n\n    var DateEnv = /**
    @class */ (function () {\n        function DateEnv(settings) {\n            var
    timeZone = this.timeZone = settings.timeZone;\n            var isNamedTimeZone
    = timeZone !== 'local' && timeZone !== 'UTC';\n            if (settings.namedTimeZoneImpl
    && isNamedTimeZone) {\n                this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n
    \           }\n            this.canComputeOffset = Boolean(!isNamedTimeZone ||
    this.namedTimeZoneImpl);\n            this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n
    \           this.locale = settings.locale;\n            this.weekDow = settings.locale.week.dow;\n
    \           this.weekDoy = settings.locale.week.doy;\n            if (settings.weekNumberCalculation
    === 'ISO') {\n                this.weekDow = 1;\n                this.weekDoy
    = 4;\n            }\n            if (typeof settings.firstDay === 'number') {\n
    \               this.weekDow = settings.firstDay;\n            }\n            if
    (typeof settings.weekNumberCalculation === 'function') {\n                this.weekNumberFunc
    = settings.weekNumberCalculation;\n            }\n            this.weekText =
    settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n
    \           this.cmdFormatter = settings.cmdFormatter;\n            this.defaultSeparator
    = settings.defaultSeparator;\n        }\n        // Creating / Parsing\n        DateEnv.prototype.createMarker
    = function (input) {\n            var meta = this.createMarkerMeta(input);\n            if
    (meta === null) {\n                return null;\n            }\n            return
    meta.marker;\n        };\n        DateEnv.prototype.createNowMarker = function
    () {\n            if (this.canComputeOffset) {\n                return this.timestampToMarker(new
    Date().valueOf());\n            }\n            // if we can't compute the current
    date val for a timezone,\n            // better to give the current local date
    vals than UTC\n            return arrayToUtcDate(dateToLocalArray(new Date()));\n
    \       };\n        DateEnv.prototype.createMarkerMeta = function (input) {\n
    \           if (typeof input === 'string') {\n                return this.parse(input);\n
    \           }\n            var marker = null;\n            if (typeof input ===
    'number') {\n                marker = this.timestampToMarker(input);\n            }\n
    \           else if (input instanceof Date) {\n                input = input.valueOf();\n
    \               if (!isNaN(input)) {\n                    marker = this.timestampToMarker(input);\n
    \               }\n            }\n            else if (Array.isArray(input)) {\n
    \               marker = arrayToUtcDate(input);\n            }\n            if
    (marker === null || !isValidDate(marker)) {\n                return null;\n            }\n
    \           return { marker: marker, isTimeUnspecified: false, forcedTzo: null
    };\n        };\n        DateEnv.prototype.parse = function (s) {\n            var
    parts = parse(s);\n            if (parts === null) {\n                return null;\n
    \           }\n            var marker = parts.marker;\n            var forcedTzo
    = null;\n            if (parts.timeZoneOffset !== null) {\n                if
    (this.canComputeOffset) {\n                    marker = this.timestampToMarker(marker.valueOf()
    - parts.timeZoneOffset * 60 * 1000);\n                }\n                else
    {\n                    forcedTzo = parts.timeZoneOffset;\n                }\n
    \           }\n            return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified,
    forcedTzo: forcedTzo };\n        };\n        // Accessors\n        DateEnv.prototype.getYear
    = function (marker) {\n            return this.calendarSystem.getMarkerYear(marker);\n
    \       };\n        DateEnv.prototype.getMonth = function (marker) {\n            return
    this.calendarSystem.getMarkerMonth(marker);\n        };\n        // Adding / Subtracting\n
    \       DateEnv.prototype.add = function (marker, dur) {\n            var a =
    this.calendarSystem.markerToArray(marker);\n            a[0] += dur.years;\n            a[1]
    += dur.months;\n            a[2] += dur.days;\n            a[6] += dur.milliseconds;\n
    \           return this.calendarSystem.arrayToMarker(a);\n        };\n        DateEnv.prototype.subtract
    = function (marker, dur) {\n            var a = this.calendarSystem.markerToArray(marker);\n
    \           a[0] -= dur.years;\n            a[1] -= dur.months;\n            a[2]
    -= dur.days;\n            a[6] -= dur.milliseconds;\n            return this.calendarSystem.arrayToMarker(a);\n
    \       };\n        DateEnv.prototype.addYears = function (marker, n) {\n            var
    a = this.calendarSystem.markerToArray(marker);\n            a[0] += n;\n            return
    this.calendarSystem.arrayToMarker(a);\n        };\n        DateEnv.prototype.addMonths
    = function (marker, n) {\n            var a = this.calendarSystem.markerToArray(marker);\n
    \           a[1] += n;\n            return this.calendarSystem.arrayToMarker(a);\n
    \       };\n        // Diffing Whole Units\n        DateEnv.prototype.diffWholeYears
    = function (m0, m1) {\n            var calendarSystem = this.calendarSystem;\n
    \           if (timeAsMs(m0) === timeAsMs(m1) &&\n                calendarSystem.getMarkerDay(m0)
    === calendarSystem.getMarkerDay(m1) &&\n                calendarSystem.getMarkerMonth(m0)
    === calendarSystem.getMarkerMonth(m1)) {\n                return calendarSystem.getMarkerYear(m1)
    - calendarSystem.getMarkerYear(m0);\n            }\n            return null;\n
    \       };\n        DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n
    \           var calendarSystem = this.calendarSystem;\n            if (timeAsMs(m0)
    === timeAsMs(m1) &&\n                calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1))
    {\n                return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0))
    +\n                    (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0))
    * 12;\n            }\n            return null;\n        };\n        // Range /
    Duration\n        DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n
    \           var n = this.diffWholeYears(m0, m1);\n            if (n !== null)
    {\n                return { unit: 'year', value: n };\n            }\n            n
    = this.diffWholeMonths(m0, m1);\n            if (n !== null) {\n                return
    { unit: 'month', value: n };\n            }\n            n = diffWholeWeeks(m0,
    m1);\n            if (n !== null) {\n                return { unit: 'week', value:
    n };\n            }\n            n = diffWholeDays(m0, m1);\n            if (n
    !== null) {\n                return { unit: 'day', value: n };\n            }\n
    \           n = diffHours(m0, m1);\n            if (isInt(n)) {\n                return
    { unit: 'hour', value: n };\n            }\n            n = diffMinutes(m0, m1);\n
    \           if (isInt(n)) {\n                return { unit: 'minute', value: n
    };\n            }\n            n = diffSeconds(m0, m1);\n            if (isInt(n))
    {\n                return { unit: 'second', value: n };\n            }\n            return
    { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n        };\n        DateEnv.prototype.countDurationsBetween
    = function (m0, m1, d) {\n            // TODO: can use greatestWholeUnit\n            var
    diff;\n            if (d.years) {\n                diff = this.diffWholeYears(m0,
    m1);\n                if (diff !== null) {\n                    return diff /
    asRoughYears(d);\n                }\n            }\n            if (d.months)
    {\n                diff = this.diffWholeMonths(m0, m1);\n                if (diff
    !== null) {\n                    return diff / asRoughMonths(d);\n                }\n
    \           }\n            if (d.days) {\n                diff = diffWholeDays(m0,
    m1);\n                if (diff !== null) {\n                    return diff /
    asRoughDays(d);\n                }\n            }\n            return (m1.valueOf()
    - m0.valueOf()) / asRoughMs(d);\n        };\n        // Start-Of\n        // these
    DON'T return zoned-dates. only UTC start-of dates\n        DateEnv.prototype.startOf
    = function (m, unit) {\n            if (unit === 'year') {\n                return
    this.startOfYear(m);\n            }\n            if (unit === 'month') {\n                return
    this.startOfMonth(m);\n            }\n            if (unit === 'week') {\n                return
    this.startOfWeek(m);\n            }\n            if (unit === 'day') {\n                return
    startOfDay(m);\n            }\n            if (unit === 'hour') {\n                return
    startOfHour(m);\n            }\n            if (unit === 'minute') {\n                return
    startOfMinute(m);\n            }\n            if (unit === 'second') {\n                return
    startOfSecond(m);\n            }\n            return null;\n        };\n        DateEnv.prototype.startOfYear
    = function (m) {\n            return this.calendarSystem.arrayToMarker([\n                this.calendarSystem.getMarkerYear(m),\n
    \           ]);\n        };\n        DateEnv.prototype.startOfMonth = function
    (m) {\n            return this.calendarSystem.arrayToMarker([\n                this.calendarSystem.getMarkerYear(m),\n
    \               this.calendarSystem.getMarkerMonth(m),\n            ]);\n        };\n
    \       DateEnv.prototype.startOfWeek = function (m) {\n            return this.calendarSystem.arrayToMarker([\n
    \               this.calendarSystem.getMarkerYear(m),\n                this.calendarSystem.getMarkerMonth(m),\n
    \               m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n            ]);\n
    \       };\n        // Week Number\n        DateEnv.prototype.computeWeekNumber
    = function (marker) {\n            if (this.weekNumberFunc) {\n                return
    this.weekNumberFunc(this.toDate(marker));\n            }\n            return weekOfYear(marker,
    this.weekDow, this.weekDoy);\n        };\n        // TODO: choke on timeZoneName:
    long\n        DateEnv.prototype.format = function (marker, formatter, dateOptions)
    {\n            if (dateOptions === void 0) { dateOptions = {}; }\n            return
    formatter.format({\n                marker: marker,\n                timeZoneOffset:
    dateOptions.forcedTzo != null ?\n                    dateOptions.forcedTzo :\n
    \                   this.offsetForMarker(marker),\n            }, this);\n        };\n
    \       DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions)
    {\n            if (dateOptions === void 0) { dateOptions = {}; }\n            if
    (dateOptions.isEndExclusive) {\n                end = addMs(end, -1);\n            }\n
    \           return formatter.formatRange({\n                marker: start,\n                timeZoneOffset:
    dateOptions.forcedStartTzo != null ?\n                    dateOptions.forcedStartTzo
    :\n                    this.offsetForMarker(start),\n            }, {\n                marker:
    end,\n                timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                    dateOptions.forcedEndTzo
    :\n                    this.offsetForMarker(end),\n            }, this, dateOptions.defaultSeparator);\n
    \       };\n        /*\n        DUMB: the omitTime arg is dumb. if we omit the
    time, we want to omit the timezone offset. and if we do that,\n        might as
    well use buildIsoString or some other util directly\n        */\n        DateEnv.prototype.formatIso
    = function (marker, extraOptions) {\n            if (extraOptions === void 0)
    { extraOptions = {}; }\n            var timeZoneOffset = null;\n            if
    (!extraOptions.omitTimeZoneOffset) {\n                if (extraOptions.forcedTzo
    != null) {\n                    timeZoneOffset = extraOptions.forcedTzo;\n                }\n
    \               else {\n                    timeZoneOffset = this.offsetForMarker(marker);\n
    \               }\n            }\n            return buildIsoString(marker, timeZoneOffset,
    extraOptions.omitTime);\n        };\n        // TimeZone\n        DateEnv.prototype.timestampToMarker
    = function (ms) {\n            if (this.timeZone === 'local') {\n                return
    arrayToUtcDate(dateToLocalArray(new Date(ms)));\n            }\n            if
    (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n                return
    new Date(ms);\n            }\n            return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n
    \       };\n        DateEnv.prototype.offsetForMarker = function (m) {\n            if
    (this.timeZone === 'local') {\n                return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset();
    // convert \"inverse\" offset to \"normal\" offset\n            }\n            if
    (this.timeZone === 'UTC') {\n                return 0;\n            }\n            if
    (this.namedTimeZoneImpl) {\n                return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n
    \           }\n            return null;\n        };\n        // Conversion\n        DateEnv.prototype.toDate
    = function (m, forcedTzo) {\n            if (this.timeZone === 'local') {\n                return
    arrayToLocalDate(dateToUtcArray(m));\n            }\n            if (this.timeZone
    === 'UTC') {\n                return new Date(m.valueOf()); // make sure it's
    a copy\n            }\n            if (!this.namedTimeZoneImpl) {\n                return
    new Date(m.valueOf() - (forcedTzo || 0));\n            }\n            return new
    Date(m.valueOf() -\n                this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m))
    * 1000 * 60);\n        };\n        return DateEnv;\n    }());\n\n    var globalLocales
    = [];\n\n    var RAW_EN_LOCALE = {\n        code: 'en',\n        week: {\n            dow:
    0,\n            doy: 4, // 4 days need to be within the year to be considered
    the first week\n        },\n        direction: 'ltr',\n        buttonText: {\n
    \           prev: 'prev',\n            next: 'next',\n            prevYear: 'prev
    year',\n            nextYear: 'next year',\n            year: 'year',\n            today:
    'today',\n            month: 'month',\n            week: 'week',\n            day:
    'day',\n            list: 'list',\n        },\n        weekText: 'W',\n        allDayText:
    'all-day',\n        moreLinkText: 'more',\n        noEventsText: 'No events to
    display',\n    };\n    function organizeRawLocales(explicitRawLocales) {\n        var
    defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n
    \       var allRawLocales = globalLocales.concat(explicitRawLocales);\n        var
    rawLocaleMap = {\n            en: RAW_EN_LOCALE, // necessary?\n        };\n        for
    (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++)
    {\n            var rawLocale = allRawLocales_1[_i];\n            rawLocaleMap[rawLocale.code]
    = rawLocale;\n        }\n        return {\n            map: rawLocaleMap,\n            defaultCode:
    defaultCode,\n        };\n    }\n    function buildLocale(inputSingular, available)
    {\n        if (typeof inputSingular === 'object' && !Array.isArray(inputSingular))
    {\n            return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n
    \       }\n        return queryLocale(inputSingular, available);\n    }\n    function
    queryLocale(codeArg, available) {\n        var codes = [].concat(codeArg || []);
    // will convert to array\n        var raw = queryRawLocale(codes, available) ||
    RAW_EN_LOCALE;\n        return parseLocale(codeArg, codes, raw);\n    }\n    function
    queryRawLocale(codes, available) {\n        for (var i = 0; i < codes.length;
    i += 1) {\n            var parts = codes[i].toLocaleLowerCase().split('-');\n
    \           for (var j = parts.length; j > 0; j -= 1) {\n                var simpleId
    = parts.slice(0, j).join('-');\n                if (available[simpleId]) {\n                    return
    available[simpleId];\n                }\n            }\n        }\n        return
    null;\n    }\n    function parseLocale(codeArg, codes, raw) {\n        var merged
    = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n        delete merged.code;
    // don't want this part of the options\n        var week = merged.week;\n        delete
    merged.week;\n        return {\n            codeArg: codeArg,\n            codes:
    codes,\n            week: week,\n            simpleNumberFormat: new Intl.NumberFormat(codeArg),\n
    \           options: merged,\n        };\n    }\n\n    function formatDate(dateInput,
    options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv
    = buildDateEnv$1(options);\n        var formatter = createFormatter(options);\n
    \       var dateMeta = dateEnv.createMarkerMeta(dateInput);\n        if (!dateMeta)
    { // TODO: warning?\n            return '';\n        }\n        return dateEnv.format(dateMeta.marker,
    formatter, {\n            forcedTzo: dateMeta.forcedTzo,\n        });\n    }\n
    \   function formatRange(startInput, endInput, options) {\n        var dateEnv
    = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass
    in if non-null object\n        var formatter = createFormatter(options);\n        var
    startMeta = dateEnv.createMarkerMeta(startInput);\n        var endMeta = dateEnv.createMarkerMeta(endInput);\n
    \       if (!startMeta || !endMeta) { // TODO: warning?\n            return '';\n
    \       }\n        return dateEnv.formatRange(startMeta.marker, endMeta.marker,
    formatter, {\n            forcedStartTzo: startMeta.forcedTzo,\n            forcedEndTzo:
    endMeta.forcedTzo,\n            isEndExclusive: options.isEndExclusive,\n            defaultSeparator:
    BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n        });\n    }\n    // TODO:
    more DRY and optimized\n    function buildDateEnv$1(settings) {\n        var locale
    = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't
    hardcode 'en' everywhere\n        return new DateEnv(__assign(__assign({ timeZone:
    BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale:
    locale }));\n    }\n\n    var DEF_DEFAULTS = {\n        startTime: '09:00',\n
    \       endTime: '17:00',\n        daysOfWeek: [1, 2, 3, 4, 5],\n        display:
    'inverse-background',\n        classNames: 'fc-non-business',\n        groupId:
    '_businessHours', // so multiple defs get grouped\n    };\n    /*\n    TODO: pass
    around as EventDefHash!!!\n    */\n    function parseBusinessHours(input, context)
    {\n        return parseEvents(refineInputs(input), null, context);\n    }\n    function
    refineInputs(input) {\n        var rawDefs;\n        if (input === true) {\n            rawDefs
    = [{}]; // will get DEF_DEFAULTS verbatim\n        }\n        else if (Array.isArray(input))
    {\n            // if specifying an array, every sub-definition NEEDS a day-of-week\n
    \           rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek;
    });\n        }\n        else if (typeof input === 'object' && input) { // non-null
    object\n            rawDefs = [input];\n        }\n        else { // is probably
    false\n            rawDefs = [];\n        }\n        rawDefs = rawDefs.map(function
    (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n        return
    rawDefs;\n    }\n\n    function pointInsideRect(point, rect) {\n        return
    point.left >= rect.left &&\n            point.left < rect.right &&\n            point.top
    >= rect.top &&\n            point.top < rect.bottom;\n    }\n    // Returns a
    new rectangle that is the intersection of the two rectangles. If they don't intersect,
    returns false\n    function intersectRects(rect1, rect2) {\n        var res =
    {\n            left: Math.max(rect1.left, rect2.left),\n            right: Math.min(rect1.right,
    rect2.right),\n            top: Math.max(rect1.top, rect2.top),\n            bottom:
    Math.min(rect1.bottom, rect2.bottom),\n        };\n        if (res.left < res.right
    && res.top < res.bottom) {\n            return res;\n        }\n        return
    false;\n    }\n    function translateRect(rect, deltaX, deltaY) {\n        return
    {\n            left: rect.left + deltaX,\n            right: rect.right + deltaX,\n
    \           top: rect.top + deltaY,\n            bottom: rect.bottom + deltaY,\n
    \       };\n    }\n    // Returns a new point that will have been moved to reside
    within the given rectangle\n    function constrainPoint(point, rect) {\n        return
    {\n            left: Math.min(Math.max(point.left, rect.left), rect.right),\n
    \           top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n        };\n
    \   }\n    // Returns a point that is the center of the given rectangle\n    function
    getRectCenter(rect) {\n        return {\n            left: (rect.left + rect.right)
    / 2,\n            top: (rect.top + rect.bottom) / 2,\n        };\n    }\n    //
    Subtracts point2's coordinates from point1's coordinates, returning a delta\n
    \   function diffPoints(point1, point2) {\n        return {\n            left:
    point1.left - point2.left,\n            top: point1.top - point2.top,\n        };\n
    \   }\n\n    var canVGrowWithinCell;\n    function getCanVGrowWithinCell() {\n
    \       if (canVGrowWithinCell == null) {\n            canVGrowWithinCell = computeCanVGrowWithinCell();\n
    \       }\n        return canVGrowWithinCell;\n    }\n    function computeCanVGrowWithinCell()
    {\n        // for SSR, because this function is call immediately at top-level\n
    \       // TODO: just make this logic execute top-level, immediately, instead
    of doing lazily\n        if (typeof document === 'undefined') {\n            return
    true;\n        }\n        var el = document.createElement('div');\n        el.style.position
    = 'absolute';\n        el.style.top = '0px';\n        el.style.left = '0px';\n
    \       el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n        el.querySelector('table').style.height
    = '100px';\n        el.querySelector('div').style.height = '100%';\n        document.body.appendChild(el);\n
    \       var div = el.querySelector('div');\n        var possible = div.offsetHeight
    > 0;\n        document.body.removeChild(el);\n        return possible;\n    }\n\n
    \   var EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO:
    keep elsewhere\n    var Splitter = /** @class */ (function () {\n        function
    Splitter() {\n            this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n
    \           this.splitDateSelection = memoize(this._splitDateSpan);\n            this.splitEventStore
    = memoize(this._splitEventStore);\n            this.splitIndividualUi = memoize(this._splitIndividualUi);\n
    \           this.splitEventDrag = memoize(this._splitInteraction);\n            this.splitEventResize
    = memoize(this._splitInteraction);\n            this.eventUiBuilders = {}; //
    TODO: typescript protection\n        }\n        Splitter.prototype.splitProps
    = function (props) {\n            var _this = this;\n            var keyInfos
    = this.getKeyInfo(props);\n            var defKeys = this.getKeysForEventDefs(props.eventStore);\n
    \           var dateSelections = this.splitDateSelection(props.dateSelection);\n
    \           var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys);
    // the individual *bases*\n            var eventStores = this.splitEventStore(props.eventStore,
    defKeys);\n            var eventDrags = this.splitEventDrag(props.eventDrag);\n
    \           var eventResizes = this.splitEventResize(props.eventResize);\n            var
    splitProps = {};\n            this.eventUiBuilders = mapHash(keyInfos, function
    (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey);
    });\n            for (var key in keyInfos) {\n                var keyInfo = keyInfos[key];\n
    \               var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n                var
    buildEventUi = this.eventUiBuilders[key];\n                splitProps[key] = {\n
    \                   businessHours: keyInfo.businessHours || props.businessHours,\n
    \                   dateSelection: dateSelections[key] || null,\n                    eventStore:
    eventStore,\n                    eventUiBases: buildEventUi(props.eventUiBases[''],
    keyInfo.ui, individualUi[key]),\n                    eventSelection: eventStore.instances[props.eventSelection]
    ? props.eventSelection : '',\n                    eventDrag: eventDrags[key] ||
    null,\n                    eventResize: eventResizes[key] || null,\n                };\n
    \           }\n            return splitProps;\n        };\n        Splitter.prototype._splitDateSpan
    = function (dateSpan) {\n            var dateSpans = {};\n            if (dateSpan)
    {\n                var keys = this.getKeysForDateSpan(dateSpan);\n                for
    (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                    var
    key = keys_1[_i];\n                    dateSpans[key] = dateSpan;\n                }\n
    \           }\n            return dateSpans;\n        };\n        Splitter.prototype._getKeysForEventDefs
    = function (eventStore) {\n            var _this = this;\n            return mapHash(eventStore.defs,
    function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n        };\n
    \       Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n
    \           var defs = eventStore.defs, instances = eventStore.instances;\n            var
    splitStores = {};\n            for (var defId in defs) {\n                for
    (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var
    key = _a[_i];\n                    if (!splitStores[key]) {\n                        splitStores[key]
    = createEmptyEventStore();\n                    }\n                    splitStores[key].defs[defId]
    = defs[defId];\n                }\n            }\n            for (var instanceId
    in instances) {\n                var instance = instances[instanceId];\n                for
    (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                    var
    key = _c[_b];\n                    if (splitStores[key]) { // must have already
    been created\n                        splitStores[key].instances[instanceId] =
    instance;\n                    }\n                }\n            }\n            return
    splitStores;\n        };\n        Splitter.prototype._splitIndividualUi = function
    (eventUiBases, defKeys) {\n            var splitHashes = {};\n            for
    (var defId in eventUiBases) {\n                if (defId) { // not the '' key\n
    \                   for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++)
    {\n                        var key = _a[_i];\n                        if (!splitHashes[key])
    {\n                            splitHashes[key] = {};\n                        }\n
    \                       splitHashes[key][defId] = eventUiBases[defId];\n                    }\n
    \               }\n            }\n            return splitHashes;\n        };\n
    \       Splitter.prototype._splitInteraction = function (interaction) {\n            var
    splitStates = {};\n            if (interaction) {\n                var affectedStores_1
    = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n
    \               // can't rely on defKeys because event data is mutated\n                var
    mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n                var
    mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n
    \               var populate = function (key) {\n                    if (!splitStates[key])
    {\n                        splitStates[key] = {\n                            affectedEvents:
    affectedStores_1[key] || EMPTY_EVENT_STORE,\n                            mutatedEvents:
    mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                            isEvent:
    interaction.isEvent,\n                        };\n                    }\n                };\n
    \               for (var key in affectedStores_1) {\n                    populate(key);\n
    \               }\n                for (var key in mutatedStores_1) {\n                    populate(key);\n
    \               }\n            }\n            return splitStates;\n        };\n
    \       return Splitter;\n    }());\n    function buildEventUiForKey(allUi, eventUiForKey,
    individualUi) {\n        var baseParts = [];\n        if (allUi) {\n            baseParts.push(allUi);\n
    \       }\n        if (eventUiForKey) {\n            baseParts.push(eventUiForKey);\n
    \       }\n        var stuff = {\n            '': combineEventUis(baseParts),\n
    \       };\n        if (individualUi) {\n            __assign(stuff, individualUi);\n
    \       }\n        return stuff;\n    }\n\n    function getDateMeta(date, todayRange,
    nowDate, dateProfile) {\n        return {\n            dow: date.getUTCDay(),\n
    \           isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange,
    date)),\n            isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange,
    date)),\n            isToday: Boolean(todayRange && rangeContainsMarker(todayRange,
    date)),\n            isPast: Boolean(nowDate ? (date < nowDate) : todayRange ?
    (date < todayRange.start) : false),\n            isFuture: Boolean(nowDate ? (date
    > nowDate) : todayRange ? (date >= todayRange.end) : false),\n        };\n    }\n
    \   function getDayClassNames(meta, theme) {\n        var classNames = [\n            'fc-day',\n
    \           \"fc-day-\" + DAY_IDS[meta.dow],\n        ];\n        if (meta.isDisabled)
    {\n            classNames.push('fc-day-disabled');\n        }\n        else {\n
    \           if (meta.isToday) {\n                classNames.push('fc-day-today');\n
    \               classNames.push(theme.getClass('today'));\n            }\n            if
    (meta.isPast) {\n                classNames.push('fc-day-past');\n            }\n
    \           if (meta.isFuture) {\n                classNames.push('fc-day-future');\n
    \           }\n            if (meta.isOther) {\n                classNames.push('fc-day-other');\n
    \           }\n        }\n        return classNames;\n    }\n    function getSlotClassNames(meta,
    theme) {\n        var classNames = [\n            'fc-slot',\n            \"fc-slot-\"
    + DAY_IDS[meta.dow],\n        ];\n        if (meta.isDisabled) {\n            classNames.push('fc-slot-disabled');\n
    \       }\n        else {\n            if (meta.isToday) {\n                classNames.push('fc-slot-today');\n
    \               classNames.push(theme.getClass('today'));\n            }\n            if
    (meta.isPast) {\n                classNames.push('fc-slot-past');\n            }\n
    \           if (meta.isFuture) {\n                classNames.push('fc-slot-future');\n
    \           }\n        }\n        return classNames;\n    }\n\n    function buildNavLinkData(date,
    type) {\n        if (type === void 0) { type = 'day'; }\n        return JSON.stringify({\n
    \           date: formatDayString(date),\n            type: type,\n        });\n
    \   }\n\n    var _isRtlScrollbarOnLeft = null;\n    function getIsRtlScrollbarOnLeft()
    {\n        if (_isRtlScrollbarOnLeft === null) {\n            _isRtlScrollbarOnLeft
    = computeIsRtlScrollbarOnLeft();\n        }\n        return _isRtlScrollbarOnLeft;\n
    \   }\n    function computeIsRtlScrollbarOnLeft() {\n        var outerEl = document.createElement('div');\n
    \       applyStyle(outerEl, {\n            position: 'absolute',\n            top:
    -1000,\n            left: 0,\n            border: 0,\n            padding: 0,\n
    \           overflow: 'scroll',\n            direction: 'rtl',\n        });\n
    \       outerEl.innerHTML = '<div></div>';\n        document.body.appendChild(outerEl);\n
    \       var innerEl = outerEl.firstChild;\n        var res = innerEl.getBoundingClientRect().left
    > outerEl.getBoundingClientRect().left;\n        removeElement(outerEl);\n        return
    res;\n    }\n\n    var _scrollbarWidths;\n    function getScrollbarWidths() {\n
    \       if (!_scrollbarWidths) {\n            _scrollbarWidths = computeScrollbarWidths();\n
    \       }\n        return _scrollbarWidths;\n    }\n    function computeScrollbarWidths()
    {\n        var el = document.createElement('div');\n        el.style.overflow
    = 'scroll';\n        el.style.position = 'absolute';\n        el.style.top = '-9999px';\n
    \       el.style.left = '-9999px';\n        document.body.appendChild(el);\n        var
    res = computeScrollbarWidthsForEl(el);\n        document.body.removeChild(el);\n
    \       return res;\n    }\n    // WARNING: will include border\n    function
    computeScrollbarWidthsForEl(el) {\n        return {\n            x: el.offsetHeight
    - el.clientHeight,\n            y: el.offsetWidth - el.clientWidth,\n        };\n
    \   }\n\n    function computeEdges(el, getPadding) {\n        if (getPadding ===
    void 0) { getPadding = false; }\n        var computedStyle = window.getComputedStyle(el);\n
    \       var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n        var
    borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n        var
    borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n        var borderBottom
    = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n        var badScrollbarWidths
    = computeScrollbarWidthsForEl(el); // includes border!\n        var scrollbarLeftRight
    = badScrollbarWidths.y - borderLeft - borderRight;\n        var scrollbarBottom
    = badScrollbarWidths.x - borderTop - borderBottom;\n        var res = {\n            borderLeft:
    borderLeft,\n            borderRight: borderRight,\n            borderTop: borderTop,\n
    \           borderBottom: borderBottom,\n            scrollbarBottom: scrollbarBottom,\n
    \           scrollbarLeft: 0,\n            scrollbarRight: 0,\n        };\n        if
    (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar
    on the left side?\n            res.scrollbarLeft = scrollbarLeftRight;\n        }\n
    \       else {\n            res.scrollbarRight = scrollbarLeftRight;\n        }\n
    \       if (getPadding) {\n            res.paddingLeft = parseInt(computedStyle.paddingLeft,
    10) || 0;\n            res.paddingRight = parseInt(computedStyle.paddingRight,
    10) || 0;\n            res.paddingTop = parseInt(computedStyle.paddingTop, 10)
    || 0;\n            res.paddingBottom = parseInt(computedStyle.paddingBottom, 10)
    || 0;\n        }\n        return res;\n    }\n    function computeInnerRect(el,
    goWithinPadding, doFromWindowViewport) {\n        if (goWithinPadding === void
    0) { goWithinPadding = false; }\n        var outerRect = doFromWindowViewport
    ? el.getBoundingClientRect() : computeRect(el);\n        var edges = computeEdges(el,
    goWithinPadding);\n        var res = {\n            left: outerRect.left + edges.borderLeft
    + edges.scrollbarLeft,\n            right: outerRect.right - edges.borderRight
    - edges.scrollbarRight,\n            top: outerRect.top + edges.borderTop,\n            bottom:
    outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n        };\n        if
    (goWithinPadding) {\n            res.left += edges.paddingLeft;\n            res.right
    -= edges.paddingRight;\n            res.top += edges.paddingTop;\n            res.bottom
    -= edges.paddingBottom;\n        }\n        return res;\n    }\n    function computeRect(el)
    {\n        var rect = el.getBoundingClientRect();\n        return {\n            left:
    rect.left + window.pageXOffset,\n            top: rect.top + window.pageYOffset,\n
    \           right: rect.right + window.pageXOffset,\n            bottom: rect.bottom
    + window.pageYOffset,\n        };\n    }\n    function computeClippedClientRect(el)
    {\n        var clippingParents = getClippingParents(el);\n        var rect = el.getBoundingClientRect();\n
    \       for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length;
    _i++) {\n            var clippingParent = clippingParents_1[_i];\n            var
    intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n
    \           if (intersection) {\n                rect = intersection;\n            }\n
    \           else {\n                return null;\n            }\n        }\n        return
    rect;\n    }\n    function computeHeightAndMargins(el) {\n        return el.getBoundingClientRect().height
    + computeVMargins(el);\n    }\n    function computeVMargins(el) {\n        var
    computed = window.getComputedStyle(el);\n        return parseInt(computed.marginTop,
    10) +\n            parseInt(computed.marginBottom, 10);\n    }\n    // does not
    return window\n    function getClippingParents(el) {\n        var parents = [];\n
    \       while (el instanceof HTMLElement) { // will stop when gets to document
    or null\n            var computedStyle = window.getComputedStyle(el);\n            if
    (computedStyle.position === 'fixed') {\n                break;\n            }\n
    \           if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY
    + computedStyle.overflowX)) {\n                parents.push(el);\n            }\n
    \           el = el.parentNode;\n        }\n        return parents;\n    }\n\n
    \   // given a function that resolves a result asynchronously.\n    // the function
    can either call passed-in success and failure callbacks,\n    // or it can return
    a promise.\n    // if you need to pass additional params to func, bind them first.\n
    \   function unpromisify(func, success, failure) {\n        // guard against success/failure
    callbacks being called more than once\n        // and guard against a promise
    AND callback being used together.\n        var isResolved = false;\n        var
    wrappedSuccess = function () {\n            if (!isResolved) {\n                isResolved
    = true;\n                success.apply(this, arguments); // eslint-disable-line
    prefer-rest-params\n            }\n        };\n        var wrappedFailure = function
    () {\n            if (!isResolved) {\n                isResolved = true;\n                if
    (failure) {\n                    failure.apply(this, arguments); // eslint-disable-line
    prefer-rest-params\n                }\n            }\n        };\n        var
    res = func(wrappedSuccess, wrappedFailure);\n        if (res && typeof res.then
    === 'function') {\n            res.then(wrappedSuccess, wrappedFailure);\n        }\n
    \   }\n\n    var Emitter = /** @class */ (function () {\n        function Emitter()
    {\n            this.handlers = {};\n            this.thisContext = null;\n        }\n
    \       Emitter.prototype.setThisContext = function (thisContext) {\n            this.thisContext
    = thisContext;\n        };\n        Emitter.prototype.setOptions = function (options)
    {\n            this.options = options;\n        };\n        Emitter.prototype.on
    = function (type, handler) {\n            addToHash(this.handlers, type, handler);\n
    \       };\n        Emitter.prototype.off = function (type, handler) {\n            removeFromHash(this.handlers,
    type, handler);\n        };\n        Emitter.prototype.trigger = function (type)
    {\n            var args = [];\n            for (var _i = 1; _i < arguments.length;
    _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            var
    attachedHandlers = this.handlers[type] || [];\n            var optionHandler =
    this.options && this.options[type];\n            var handlers = [].concat(optionHandler
    || [], attachedHandlers);\n            for (var _a = 0, handlers_1 = handlers;
    _a < handlers_1.length; _a++) {\n                var handler = handlers_1[_a];\n
    \               handler.apply(this.thisContext, args);\n            }\n        };\n
    \       Emitter.prototype.hasHandlers = function (type) {\n            return
    (this.handlers[type] && this.handlers[type].length) ||\n                (this.options
    && this.options[type]);\n        };\n        return Emitter;\n    }());\n    function
    addToHash(hash, type, handler) {\n        (hash[type] || (hash[type] = []))\n
    \           .push(handler);\n    }\n    function removeFromHash(hash, type, handler)
    {\n        if (handler) {\n            if (hash[type]) {\n                hash[type]
    = hash[type].filter(function (func) { return func !== handler; });\n            }\n
    \       }\n        else {\n            delete hash[type]; // remove all handler
    funcs for this type\n        }\n    }\n\n    /*\n    Records offset information
    for a set of elements, relative to an origin element.\n    Can record the left/right
    OR the top/bottom OR both.\n    Provides methods for querying the cache by position.\n
    \   */\n    var PositionCache = /** @class */ (function () {\n        function
    PositionCache(originEl, els, isHorizontal, isVertical) {\n            this.els
    = els;\n            var originClientRect = this.originClientRect = originEl.getBoundingClientRect();
    // relative to viewport top-left\n            if (isHorizontal) {\n                this.buildElHorizontals(originClientRect.left);\n
    \           }\n            if (isVertical) {\n                this.buildElVerticals(originClientRect.top);\n
    \           }\n        }\n        // Populates the left/right internal coordinate
    arrays\n        PositionCache.prototype.buildElHorizontals = function (originClientLeft)
    {\n            var lefts = [];\n            var rights = [];\n            for
    (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n                var el =
    _a[_i];\n                var rect = el.getBoundingClientRect();\n                lefts.push(rect.left
    - originClientLeft);\n                rights.push(rect.right - originClientLeft);\n
    \           }\n            this.lefts = lefts;\n            this.rights = rights;\n
    \       };\n        // Populates the top/bottom internal coordinate arrays\n        PositionCache.prototype.buildElVerticals
    = function (originClientTop) {\n            var tops = [];\n            var bottoms
    = [];\n            for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n                var
    el = _a[_i];\n                var rect = el.getBoundingClientRect();\n                tops.push(rect.top
    - originClientTop);\n                bottoms.push(rect.bottom - originClientTop);\n
    \           }\n            this.tops = tops;\n            this.bottoms = bottoms;\n
    \       };\n        // Given a left offset (from document left), returns the index
    of the el that it horizontally intersects.\n        // If no intersection is made,
    returns undefined.\n        PositionCache.prototype.leftToIndex = function (leftPosition)
    {\n            var _a = this, lefts = _a.lefts, rights = _a.rights;\n            var
    len = lefts.length;\n            var i;\n            for (i = 0; i < len; i +=
    1) {\n                if (leftPosition >= lefts[i] && leftPosition < rights[i])
    {\n                    return i;\n                }\n            }\n            return
    undefined; // TODO: better\n        };\n        // Given a top offset (from document
    top), returns the index of the el that it vertically intersects.\n        // If
    no intersection is made, returns undefined.\n        PositionCache.prototype.topToIndex
    = function (topPosition) {\n            var _a = this, tops = _a.tops, bottoms
    = _a.bottoms;\n            var len = tops.length;\n            var i;\n            for
    (i = 0; i < len; i += 1) {\n                if (topPosition >= tops[i] && topPosition
    < bottoms[i]) {\n                    return i;\n                }\n            }\n
    \           return undefined; // TODO: better\n        };\n        // Gets the
    width of the element at the given index\n        PositionCache.prototype.getWidth
    = function (leftIndex) {\n            return this.rights[leftIndex] - this.lefts[leftIndex];\n
    \       };\n        // Gets the height of the element at the given index\n        PositionCache.prototype.getHeight
    = function (topIndex) {\n            return this.bottoms[topIndex] - this.tops[topIndex];\n
    \       };\n        return PositionCache;\n    }());\n\n    /* eslint max-classes-per-file:
    \"off\" */\n    /*\n    An object for getting/setting scroll-related information
    for an element.\n    Internally, this is done very differently for window versus
    DOM element,\n    so this object serves as a common interface.\n    */\n    var
    ScrollController = /** @class */ (function () {\n        function ScrollController()
    {\n        }\n        ScrollController.prototype.getMaxScrollTop = function ()
    {\n            return this.getScrollHeight() - this.getClientHeight();\n        };\n
    \       ScrollController.prototype.getMaxScrollLeft = function () {\n            return
    this.getScrollWidth() - this.getClientWidth();\n        };\n        ScrollController.prototype.canScrollVertically
    = function () {\n            return this.getMaxScrollTop() > 0;\n        };\n
    \       ScrollController.prototype.canScrollHorizontally = function () {\n            return
    this.getMaxScrollLeft() > 0;\n        };\n        ScrollController.prototype.canScrollUp
    = function () {\n            return this.getScrollTop() > 0;\n        };\n        ScrollController.prototype.canScrollDown
    = function () {\n            return this.getScrollTop() < this.getMaxScrollTop();\n
    \       };\n        ScrollController.prototype.canScrollLeft = function () {\n
    \           return this.getScrollLeft() > 0;\n        };\n        ScrollController.prototype.canScrollRight
    = function () {\n            return this.getScrollLeft() < this.getMaxScrollLeft();\n
    \       };\n        return ScrollController;\n    }());\n    var ElementScrollController
    = /** @class */ (function (_super) {\n        __extends(ElementScrollController,
    _super);\n        function ElementScrollController(el) {\n            var _this
    = _super.call(this) || this;\n            _this.el = el;\n            return _this;\n
    \       }\n        ElementScrollController.prototype.getScrollTop = function ()
    {\n            return this.el.scrollTop;\n        };\n        ElementScrollController.prototype.getScrollLeft
    = function () {\n            return this.el.scrollLeft;\n        };\n        ElementScrollController.prototype.setScrollTop
    = function (top) {\n            this.el.scrollTop = top;\n        };\n        ElementScrollController.prototype.setScrollLeft
    = function (left) {\n            this.el.scrollLeft = left;\n        };\n        ElementScrollController.prototype.getScrollWidth
    = function () {\n            return this.el.scrollWidth;\n        };\n        ElementScrollController.prototype.getScrollHeight
    = function () {\n            return this.el.scrollHeight;\n        };\n        ElementScrollController.prototype.getClientHeight
    = function () {\n            return this.el.clientHeight;\n        };\n        ElementScrollController.prototype.getClientWidth
    = function () {\n            return this.el.clientWidth;\n        };\n        return
    ElementScrollController;\n    }(ScrollController));\n    var WindowScrollController
    = /** @class */ (function (_super) {\n        __extends(WindowScrollController,
    _super);\n        function WindowScrollController() {\n            return _super
    !== null && _super.apply(this, arguments) || this;\n        }\n        WindowScrollController.prototype.getScrollTop
    = function () {\n            return window.pageYOffset;\n        };\n        WindowScrollController.prototype.getScrollLeft
    = function () {\n            return window.pageXOffset;\n        };\n        WindowScrollController.prototype.setScrollTop
    = function (n) {\n            window.scroll(window.pageXOffset, n);\n        };\n
    \       WindowScrollController.prototype.setScrollLeft = function (n) {\n            window.scroll(n,
    window.pageYOffset);\n        };\n        WindowScrollController.prototype.getScrollWidth
    = function () {\n            return document.documentElement.scrollWidth;\n        };\n
    \       WindowScrollController.prototype.getScrollHeight = function () {\n            return
    document.documentElement.scrollHeight;\n        };\n        WindowScrollController.prototype.getClientHeight
    = function () {\n            return document.documentElement.clientHeight;\n        };\n
    \       WindowScrollController.prototype.getClientWidth = function () {\n            return
    document.documentElement.clientWidth;\n        };\n        return WindowScrollController;\n
    \   }(ScrollController));\n\n    var Theme = /** @class */ (function () {\n        function
    Theme(calendarOptions) {\n            if (this.iconOverrideOption) {\n                this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n
    \           }\n        }\n        Theme.prototype.setIconOverride = function (iconOverrideHash)
    {\n            var iconClassesCopy;\n            var buttonName;\n            if
    (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n
    \               iconClassesCopy = __assign({}, this.iconClasses);\n                for
    (buttonName in iconOverrideHash) {\n                    iconClassesCopy[buttonName]
    = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n                }\n
    \               this.iconClasses = iconClassesCopy;\n            }\n            else
    if (iconOverrideHash === false) {\n                this.iconClasses = {};\n            }\n
    \       };\n        Theme.prototype.applyIconOverridePrefix = function (className)
    {\n            var prefix = this.iconOverridePrefix;\n            if (prefix &&
    className.indexOf(prefix) !== 0) { // if not already present\n                className
    = prefix + className;\n            }\n            return className;\n        };\n
    \       Theme.prototype.getClass = function (key) {\n            return this.classes[key]
    || '';\n        };\n        Theme.prototype.getIconClass = function (buttonName,
    isRtl) {\n            var className;\n            if (isRtl && this.rtlIconClasses)
    {\n                className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n
    \           }\n            else {\n                className = this.iconClasses[buttonName];\n
    \           }\n            if (className) {\n                return this.baseIconClass
    + \" \" + className;\n            }\n            return '';\n        };\n        Theme.prototype.getCustomButtonIconClass
    = function (customButtonProps) {\n            var className;\n            if (this.iconOverrideCustomButtonOption)
    {\n                className = customButtonProps[this.iconOverrideCustomButtonOption];\n
    \               if (className) {\n                    return this.baseIconClass
    + \" \" + this.applyIconOverridePrefix(className);\n                }\n            }\n
    \           return '';\n        };\n        return Theme;\n    }());\n    Theme.prototype.classes
    = {};\n    Theme.prototype.iconClasses = {};\n    Theme.prototype.baseIconClass
    = '';\n    Theme.prototype.iconOverridePrefix = '';\n\n    /// <reference types=\"@fullcalendar/core-preact\"
    />\n    if (typeof FullCalendarVDom === 'undefined') {\n        throw new Error('Please
    import the top-level fullcalendar lib before attempting to import a plugin.');\n
    \   }\n    var Component = FullCalendarVDom.Component;\n    var createElement
    = FullCalendarVDom.createElement;\n    var render = FullCalendarVDom.render;\n
    \   var createRef = FullCalendarVDom.createRef;\n    var Fragment = FullCalendarVDom.Fragment;\n
    \   var createContext = FullCalendarVDom.createContext;\n    var createPortal
    = FullCalendarVDom.createPortal;\n    var flushToDom = FullCalendarVDom.flushToDom;\n
    \   var unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n    /*
    eslint-enable */\n\n    var ScrollResponder = /** @class */ (function () {\n        function
    ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n            var
    _this = this;\n            this.execFunc = execFunc;\n            this.emitter
    = emitter;\n            this.scrollTime = scrollTime;\n            this.scrollTimeReset
    = scrollTimeReset;\n            this.handleScrollRequest = function (request)
    {\n                _this.queuedRequest = __assign({}, _this.queuedRequest || {},
    request);\n                _this.drain();\n            };\n            emitter.on('_scrollRequest',
    this.handleScrollRequest);\n            this.fireInitialScroll();\n        }\n
    \       ScrollResponder.prototype.detach = function () {\n            this.emitter.off('_scrollRequest',
    this.handleScrollRequest);\n        };\n        ScrollResponder.prototype.update
    = function (isDatesNew) {\n            if (isDatesNew && this.scrollTimeReset)
    {\n                this.fireInitialScroll(); // will drain\n            }\n            else
    {\n                this.drain();\n            }\n        };\n        ScrollResponder.prototype.fireInitialScroll
    = function () {\n            this.handleScrollRequest({\n                time:
    this.scrollTime,\n            });\n        };\n        ScrollResponder.prototype.drain
    = function () {\n            if (this.queuedRequest && this.execFunc(this.queuedRequest))
    {\n                this.queuedRequest = null;\n            }\n        };\n        return
    ScrollResponder;\n    }());\n\n    var ViewContextType = createContext({}); //
    for Components\n    function buildViewContext(viewSpec, viewApi, viewOptions,
    dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter,
    calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n
    \       return {\n            dateEnv: dateEnv,\n            options: viewOptions,\n
    \           pluginHooks: pluginHooks,\n            emitter: emitter,\n            dispatch:
    dispatch,\n            getCurrentData: getCurrentData,\n            calendarApi:
    calendarApi,\n            viewSpec: viewSpec,\n            viewApi: viewApi,\n
    \           dateProfileGenerator: dateProfileGenerator,\n            theme: theme,\n
    \           isRtl: viewOptions.direction === 'rtl',\n            addResizeHandler:
    function (handler) {\n                emitter.on('_resize', handler);\n            },\n
    \           removeResizeHandler: function (handler) {\n                emitter.off('_resize',
    handler);\n            },\n            createScrollResponder: function (execFunc)
    {\n                return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime),
    viewOptions.scrollTimeReset);\n            },\n            registerInteractiveComponent:
    registerInteractiveComponent,\n            unregisterInteractiveComponent: unregisterInteractiveComponent,\n
    \       };\n    }\n\n    /* eslint max-classes-per-file: off */\n    var PureComponent
    = /** @class */ (function (_super) {\n        __extends(PureComponent, _super);\n
    \       function PureComponent() {\n            return _super !== null && _super.apply(this,
    arguments) || this;\n        }\n        PureComponent.prototype.shouldComponentUpdate
    = function (nextProps, nextState) {\n            if (this.debug) {\n                //
    eslint-disable-next-line no-console\n                console.log(getUnequalProps(nextProps,
    this.props), getUnequalProps(nextState, this.state));\n            }\n            return
    !compareObjs(this.props, nextProps, this.propEquality) ||\n                !compareObjs(this.state,
    nextState, this.stateEquality);\n        };\n        PureComponent.addPropsEquality
    = addPropsEquality;\n        PureComponent.addStateEquality = addStateEquality;\n
    \       PureComponent.contextType = ViewContextType;\n        return PureComponent;\n
    \   }(Component));\n    PureComponent.prototype.propEquality = {};\n    PureComponent.prototype.stateEquality
    = {};\n    var BaseComponent = /** @class */ (function (_super) {\n        __extends(BaseComponent,
    _super);\n        function BaseComponent() {\n            return _super !== null
    && _super.apply(this, arguments) || this;\n        }\n        BaseComponent.contextType
    = ViewContextType;\n        return BaseComponent;\n    }(PureComponent));\n    function
    addPropsEquality(propEquality) {\n        var hash = Object.create(this.prototype.propEquality);\n
    \       __assign(hash, propEquality);\n        this.prototype.propEquality = hash;\n
    \   }\n    function addStateEquality(stateEquality) {\n        var hash = Object.create(this.prototype.stateEquality);\n
    \       __assign(hash, stateEquality);\n        this.prototype.stateEquality =
    hash;\n    }\n    // use other one\n    function setRef(ref, current) {\n        if
    (typeof ref === 'function') {\n            ref(current);\n        }\n        else
    if (ref) {\n            // see https://github.com/facebook/react/issues/13029\n
    \           ref.current = current;\n        }\n    }\n\n    /*\n    an INTERACTABLE
    date component\n\n    PURPOSES:\n    - hook up to fg, fill, and mirror renderers\n
    \   - interface for dragging and hits\n    */\n    var DateComponent = /** @class
    */ (function (_super) {\n        __extends(DateComponent, _super);\n        function
    DateComponent() {\n            var _this = _super !== null && _super.apply(this,
    arguments) || this;\n            _this.uid = guid();\n            return _this;\n
    \       }\n        // Hit System\n        // -----------------------------------------------------------------------------------------------------------------\n
    \       DateComponent.prototype.prepareHits = function () {\n        };\n        DateComponent.prototype.queryHit
    = function (positionLeft, positionTop, elWidth, elHeight) {\n            return
    null; // this should be abstract\n        };\n        // Pointer Interaction Utils\n
    \       // -----------------------------------------------------------------------------------------------------------------\n
    \       DateComponent.prototype.isValidSegDownEl = function (el) {\n            return
    !this.props.eventDrag && // HACK\n                !this.props.eventResize && //
    HACK\n                !elementClosest(el, '.fc-event-mirror');\n        };\n        DateComponent.prototype.isValidDateDownEl
    = function (el) {\n            return !elementClosest(el, '.fc-event:not(.fc-bg-event)')
    &&\n                !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n
    \               !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n
    \               !elementClosest(el, '.fc-popover'); // hack\n        };\n        return
    DateComponent;\n    }(BaseComponent));\n\n    // TODO: easier way to add new hooks?
    need to update a million things\n    function createPlugin(input) {\n        return
    {\n            id: guid(),\n            deps: input.deps || [],\n            reducers:
    input.reducers || [],\n            isLoadingFuncs: input.isLoadingFuncs || [],\n
    \           contextInit: [].concat(input.contextInit || []),\n            eventRefiners:
    input.eventRefiners || {},\n            eventDefMemberAdders: input.eventDefMemberAdders
    || [],\n            eventSourceRefiners: input.eventSourceRefiners || {},\n            isDraggableTransformers:
    input.isDraggableTransformers || [],\n            eventDragMutationMassagers:
    input.eventDragMutationMassagers || [],\n            eventDefMutationAppliers:
    input.eventDefMutationAppliers || [],\n            dateSelectionTransformers:
    input.dateSelectionTransformers || [],\n            datePointTransforms: input.datePointTransforms
    || [],\n            dateSpanTransforms: input.dateSpanTransforms || [],\n            views:
    input.views || {},\n            viewPropsTransformers: input.viewPropsTransformers
    || [],\n            isPropsValid: input.isPropsValid || null,\n            externalDefTransforms:
    input.externalDefTransforms || [],\n            viewContainerAppends: input.viewContainerAppends
    || [],\n            eventDropTransformers: input.eventDropTransformers || [],\n
    \           componentInteractions: input.componentInteractions || [],\n            calendarInteractions:
    input.calendarInteractions || [],\n            themeClasses: input.themeClasses
    || {},\n            eventSourceDefs: input.eventSourceDefs || [],\n            cmdFormatter:
    input.cmdFormatter,\n            recurringTypes: input.recurringTypes || [],\n
    \           namedTimeZonedImpl: input.namedTimeZonedImpl,\n            initialView:
    input.initialView || '',\n            elementDraggingImpl: input.elementDraggingImpl,\n
    \           optionChangeHandlers: input.optionChangeHandlers || {},\n            scrollGridImpl:
    input.scrollGridImpl || null,\n            contentTypeHandlers: input.contentTypeHandlers
    || {},\n            listenerRefiners: input.listenerRefiners || {},\n            optionRefiners:
    input.optionRefiners || {},\n            propSetHandlers: input.propSetHandlers
    || {},\n        };\n    }\n    function buildPluginHooks(pluginDefs, globalDefs)
    {\n        var isAdded = {};\n        var hooks = {\n            reducers: [],\n
    \           isLoadingFuncs: [],\n            contextInit: [],\n            eventRefiners:
    {},\n            eventDefMemberAdders: [],\n            eventSourceRefiners: {},\n
    \           isDraggableTransformers: [],\n            eventDragMutationMassagers:
    [],\n            eventDefMutationAppliers: [],\n            dateSelectionTransformers:
    [],\n            datePointTransforms: [],\n            dateSpanTransforms: [],\n
    \           views: {},\n            viewPropsTransformers: [],\n            isPropsValid:
    null,\n            externalDefTransforms: [],\n            viewContainerAppends:
    [],\n            eventDropTransformers: [],\n            componentInteractions:
    [],\n            calendarInteractions: [],\n            themeClasses: {},\n            eventSourceDefs:
    [],\n            cmdFormatter: null,\n            recurringTypes: [],\n            namedTimeZonedImpl:
    null,\n            initialView: '',\n            elementDraggingImpl: null,\n
    \           optionChangeHandlers: {},\n            scrollGridImpl: null,\n            contentTypeHandlers:
    {},\n            listenerRefiners: {},\n            optionRefiners: {},\n            propSetHandlers:
    {},\n        };\n        function addDefs(defs) {\n            for (var _i = 0,
    defs_1 = defs; _i < defs_1.length; _i++) {\n                var def = defs_1[_i];\n
    \               if (!isAdded[def.id]) {\n                    isAdded[def.id] =
    true;\n                    addDefs(def.deps);\n                    hooks = combineHooks(hooks,
    def);\n                }\n            }\n        }\n        if (pluginDefs) {\n
    \           addDefs(pluginDefs);\n        }\n        addDefs(globalDefs);\n        return
    hooks;\n    }\n    function buildBuildPluginHooks() {\n        var currentOverrideDefs
    = [];\n        var currentGlobalDefs = [];\n        var currentHooks;\n        return
    function (overrideDefs, globalDefs) {\n            if (!currentHooks || !isArraysEqual(overrideDefs,
    currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n                currentHooks
    = buildPluginHooks(overrideDefs, globalDefs);\n            }\n            currentOverrideDefs
    = overrideDefs;\n            currentGlobalDefs = globalDefs;\n            return
    currentHooks;\n        };\n    }\n    function combineHooks(hooks0, hooks1) {\n
    \       return {\n            reducers: hooks0.reducers.concat(hooks1.reducers),\n
    \           isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n
    \           contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n            eventRefiners:
    __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n            eventDefMemberAdders:
    hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n            eventSourceRefiners:
    __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n
    \           isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n
    \           eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n
    \           eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n
    \           dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n
    \           datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n
    \           dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n
    \           views: __assign(__assign({}, hooks0.views), hooks1.views),\n            viewPropsTransformers:
    hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n            isPropsValid:
    hooks1.isPropsValid || hooks0.isPropsValid,\n            externalDefTransforms:
    hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n            viewContainerAppends:
    hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n            eventDropTransformers:
    hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n            calendarInteractions:
    hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n            componentInteractions:
    hooks0.componentInteractions.concat(hooks1.componentInteractions),\n            themeClasses:
    __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n            eventSourceDefs:
    hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n            cmdFormatter:
    hooks1.cmdFormatter || hooks0.cmdFormatter,\n            recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n
    \           namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n
    \           initialView: hooks0.initialView || hooks1.initialView,\n            elementDraggingImpl:
    hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n            optionChangeHandlers:
    __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n
    \           scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n
    \           contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers),
    hooks1.contentTypeHandlers),\n            listenerRefiners: __assign(__assign({},
    hooks0.listenerRefiners), hooks1.listenerRefiners),\n            optionRefiners:
    __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n            propSetHandlers:
    __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n        };\n
    \   }\n\n    var StandardTheme = /** @class */ (function (_super) {\n        __extends(StandardTheme,
    _super);\n        function StandardTheme() {\n            return _super !== null
    && _super.apply(this, arguments) || this;\n        }\n        return StandardTheme;\n
    \   }(Theme));\n    StandardTheme.prototype.classes = {\n        root: 'fc-theme-standard',\n
    \       tableCellShaded: 'fc-cell-shaded',\n        buttonGroup: 'fc-button-group',\n
    \       button: 'fc-button fc-button-primary',\n        buttonActive: 'fc-button-active',\n
    \   };\n    StandardTheme.prototype.baseIconClass = 'fc-icon';\n    StandardTheme.prototype.iconClasses
    = {\n        close: 'fc-icon-x',\n        prev: 'fc-icon-chevron-left',\n        next:
    'fc-icon-chevron-right',\n        prevYear: 'fc-icon-chevrons-left',\n        nextYear:
    'fc-icon-chevrons-right',\n    };\n    StandardTheme.prototype.rtlIconClasses
    = {\n        prev: 'fc-icon-chevron-right',\n        next: 'fc-icon-chevron-left',\n
    \       prevYear: 'fc-icon-chevrons-right',\n        nextYear: 'fc-icon-chevrons-left',\n
    \   };\n    StandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO:
    make TS-friendly\n    StandardTheme.prototype.iconOverrideCustomButtonOption =
    'icon';\n    StandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\n    function
    compileViewDefs(defaultConfigs, overrideConfigs) {\n        var hash = {};\n        var
    viewType;\n        for (viewType in defaultConfigs) {\n            ensureViewDef(viewType,
    hash, defaultConfigs, overrideConfigs);\n        }\n        for (viewType in overrideConfigs)
    {\n            ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n
    \       }\n        return hash;\n    }\n    function ensureViewDef(viewType, hash,
    defaultConfigs, overrideConfigs) {\n        if (hash[viewType]) {\n            return
    hash[viewType];\n        }\n        var viewDef = buildViewDef(viewType, hash,
    defaultConfigs, overrideConfigs);\n        if (viewDef) {\n            hash[viewType]
    = viewDef;\n        }\n        return viewDef;\n    }\n    function buildViewDef(viewType,
    hash, defaultConfigs, overrideConfigs) {\n        var defaultConfig = defaultConfigs[viewType];\n
    \       var overrideConfig = overrideConfigs[viewType];\n        var queryProp
    = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ?
    defaultConfig[name] :\n            ((overrideConfig && overrideConfig[name] !==
    null) ? overrideConfig[name] : null)); };\n        var theComponent = queryProp('component');\n
    \       var superType = queryProp('superType');\n        var superDef = null;\n
    \       if (superType) {\n            if (superType === viewType) {\n                throw
    new Error('Can\\'t have a custom view type that references itself');\n            }\n
    \           superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n
    \       }\n        if (!theComponent && superDef) {\n            theComponent
    = superDef.component;\n        }\n        if (!theComponent) {\n            return
    null; // don't throw a warning, might be settings for a single-unit view\n        }\n
    \       return {\n            type: viewType,\n            component: theComponent,\n
    \           defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})),
    (defaultConfig ? defaultConfig.rawOptions : {})),\n            overrides: __assign(__assign({},
    (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions
    : {})),\n        };\n    }\n\n    /* eslint max-classes-per-file: off */\n    //
    NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise,
    will default to any???\n    var RenderHook = /** @class */ (function (_super)
    {\n        __extends(RenderHook, _super);\n        function RenderHook() {\n            var
    _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.rootElRef
    = createRef();\n            _this.handleRootEl = function (el) {\n                setRef(_this.rootElRef,
    el);\n                if (_this.props.elRef) {\n                    setRef(_this.props.elRef,
    el);\n                }\n            };\n            return _this;\n        }\n
    \       RenderHook.prototype.render = function () {\n            var _this = this;\n
    \           var props = this.props;\n            var hookProps = props.hookProps;\n
    \           return (createElement(MountHook, { hookProps: hookProps, didMount:
    props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function
    (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content:
    props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef
    }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames,
    hookProps), innerElRef, innerContent); })); }));\n        };\n        return RenderHook;\n
    \   }(BaseComponent));\n    // TODO: rename to be about function, not default.
    use in above type\n    // for forcing rerender of components that use the ContentHook\n
    \   var CustomContentRenderContext = createContext(0);\n    function ContentHook(props)
    {\n        return (createElement(CustomContentRenderContext.Consumer, null, function
    (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId
    }, props))); }));\n    }\n    var ContentHookInner = /** @class */ (function (_super)
    {\n        __extends(ContentHookInner, _super);\n        function ContentHookInner()
    {\n            var _this = _super !== null && _super.apply(this, arguments) ||
    this;\n            _this.innerElRef = createRef();\n            return _this;\n
    \       }\n        ContentHookInner.prototype.render = function () {\n            return
    this.props.children(this.innerElRef, this.renderInnerContent());\n        };\n
    \       ContentHookInner.prototype.componentDidMount = function () {\n            this.updateCustomContent();\n
    \       };\n        ContentHookInner.prototype.componentDidUpdate = function ()
    {\n            this.updateCustomContent();\n        };\n        ContentHookInner.prototype.componentWillUnmount
    = function () {\n            if (this.customContentInfo && this.customContentInfo.destroy)
    {\n                this.customContentInfo.destroy();\n            }\n        };\n
    \       ContentHookInner.prototype.renderInnerContent = function () {\n            var
    customContentInfo = this.customContentInfo; // only populated if using non-[p]react
    node(s)\n            var innerContent = this.getInnerContent();\n            var
    meta = this.getContentMeta(innerContent);\n            // initial run, or content-type
    changing? (from vue -> react for example)\n            if (!customContentInfo
    || customContentInfo.contentKey !== meta.contentKey) {\n                // clearing
    old value\n                if (customContentInfo) {\n                    if (customContentInfo.destroy)
    {\n                        customContentInfo.destroy();\n                    }\n
    \                   customContentInfo = this.customContentInfo = null;\n                }\n
    \               // assigning new value\n                if (meta.contentKey) {\n
    \                   customContentInfo = this.customContentInfo = __assign({ contentKey:
    meta.contentKey, contentVal: innerContent[meta.contentKey] }, meta.buildLifecycleFuncs());\n
    \               }\n                // updating\n            }\n            else
    if (customContentInfo) {\n                customContentInfo.contentVal = innerContent[meta.contentKey];\n
    \           }\n            return customContentInfo\n                ? [] // signal
    that something was specified\n                : innerContent; // assume a [p]react
    vdom node. use it\n        };\n        ContentHookInner.prototype.getInnerContent
    = function () {\n            var props = this.props;\n            var innerContent
    = normalizeContent(props.content, props.hookProps);\n            if (innerContent
    === undefined) { // use the default\n                innerContent = normalizeContent(props.defaultContent,
    props.hookProps);\n            }\n            return innerContent == null ? null
    : innerContent; // convert undefined to null (better for React)\n        };\n
    \       ContentHookInner.prototype.getContentMeta = function (innerContent) {\n
    \           var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n
    \           var contentKey = '';\n            var buildLifecycleFuncs = null;\n
    \           if (innerContent) { // allowed to be null, for convenience to caller\n
    \               for (var searchKey in contentTypeHandlers) {\n                    if
    (innerContent[searchKey] !== undefined) {\n                        contentKey
    = searchKey;\n                        buildLifecycleFuncs = contentTypeHandlers[searchKey];\n
    \                       break;\n                    }\n                }\n            }\n
    \           return { contentKey: contentKey, buildLifecycleFuncs: buildLifecycleFuncs
    };\n        };\n        ContentHookInner.prototype.updateCustomContent = function
    () {\n            if (this.customContentInfo) { // for non-[p]react\n                this.customContentInfo.render(this.innerElRef.current
    || this.props.backupElRef.current, // the element to render into\n                this.customContentInfo.contentVal);\n
    \           }\n        };\n        return ContentHookInner;\n    }(BaseComponent));\n
    \   var MountHook = /** @class */ (function (_super) {\n        __extends(MountHook,
    _super);\n        function MountHook() {\n            var _this = _super !== null
    && _super.apply(this, arguments) || this;\n            _this.handleRootEl = function
    (rootEl) {\n                _this.rootEl = rootEl;\n                if (_this.props.elRef)
    {\n                    setRef(_this.props.elRef, rootEl);\n                }\n
    \           };\n            return _this;\n        }\n        MountHook.prototype.render
    = function () {\n            return this.props.children(this.handleRootEl);\n
    \       };\n        MountHook.prototype.componentDidMount = function () {\n            var
    callback = this.props.didMount;\n            if (callback) {\n                callback(__assign(__assign({},
    this.props.hookProps), { el: this.rootEl }));\n            }\n        };\n        MountHook.prototype.componentWillUnmount
    = function () {\n            var callback = this.props.willUnmount;\n            if
    (callback) {\n                callback(__assign(__assign({}, this.props.hookProps),
    { el: this.rootEl }));\n            }\n        };\n        return MountHook;\n
    \   }(BaseComponent));\n    function buildClassNameNormalizer() {\n        var
    currentGenerator;\n        var currentHookProps;\n        var currentClassNames
    = [];\n        return function (generator, hookProps) {\n            if (!currentHookProps
    || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator)
    {\n                currentGenerator = generator;\n                currentHookProps
    = hookProps;\n                currentClassNames = normalizeClassNames(generator,
    hookProps);\n            }\n            return currentClassNames;\n        };\n
    \   }\n    function normalizeClassNames(classNames, hookProps) {\n        if (typeof
    classNames === 'function') {\n            classNames = classNames(hookProps);\n
    \       }\n        return parseClassNames(classNames);\n    }\n    function normalizeContent(input,
    hookProps) {\n        if (typeof input === 'function') {\n            return input(hookProps,
    createElement); // give the function the vdom-creation func\n        }\n        return
    input;\n    }\n\n    var ViewRoot = /** @class */ (function (_super) {\n        __extends(ViewRoot,
    _super);\n        function ViewRoot() {\n            var _this = _super !== null
    && _super.apply(this, arguments) || this;\n            _this.normalizeClassNames
    = buildClassNameNormalizer();\n            return _this;\n        }\n        ViewRoot.prototype.render
    = function () {\n            var _a = this, props = _a.props, context = _a.context;\n
    \           var options = context.options;\n            var hookProps = { view:
    context.viewApi };\n            var customClassNames = this.normalizeClassNames(options.viewClassNames,
    hookProps);\n            return (createElement(MountHook, { hookProps: hookProps,
    didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef
    }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type
    + \"-view\", 'fc-view'].concat(customClassNames)); }));\n        };\n        return
    ViewRoot;\n    }(BaseComponent));\n\n    function parseViewConfigs(inputs) {\n
    \       return mapHash(inputs, parseViewConfig);\n    }\n    function parseViewConfig(input)
    {\n        var rawOptions = typeof input === 'function' ?\n            { component:
    input } :\n            input;\n        var component = rawOptions.component;\n
    \       if (rawOptions.content) {\n            component = createViewHookComponent(rawOptions);\n
    \           // TODO: remove content/classNames/didMount/etc from options?\n        }\n
    \       return {\n            superType: rawOptions.type,\n            component:
    component,\n            rawOptions: rawOptions,\n        };\n    }\n    function
    createViewHookComponent(options) {\n        return function (viewProps) { return
    (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot,
    { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n            var
    hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold
    });\n            return (createElement(RenderHook, { hookProps: hookProps, classNames:
    options.classNames, content: options.content, didMount: options.didMount, willUnmount:
    options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames,
    innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join('
    '), ref: rootElRef }, innerContent)); }));\n        })); })); };\n    }\n\n    function
    buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults)
    {\n        var defaultConfigs = parseViewConfigs(defaultInputs);\n        var
    overrideConfigs = parseViewConfigs(optionOverrides.views);\n        var viewDefs
    = compileViewDefs(defaultConfigs, overrideConfigs);\n        return mapHash(viewDefs,
    function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides,
    dynamicOptionOverrides, localeDefaults); });\n    }\n    function buildViewSpec(viewDef,
    overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n
    \       var durationInput = viewDef.overrides.duration ||\n            viewDef.defaults.duration
    ||\n            dynamicOptionOverrides.duration ||\n            optionOverrides.duration;\n
    \       var duration = null;\n        var durationUnit = '';\n        var singleUnit
    = '';\n        var singleUnitOverrides = {};\n        if (durationInput) {\n            duration
    = createDurationCached(durationInput);\n            if (duration) { // valid?\n
    \               var denom = greatestDurationDenominator(duration);\n                durationUnit
    = denom.unit;\n                if (denom.value === 1) {\n                    singleUnit
    = durationUnit;\n                    singleUnitOverrides = overrideConfigs[durationUnit]
    ? overrideConfigs[durationUnit].rawOptions : {};\n                }\n            }\n
    \       }\n        var queryButtonText = function (optionsSubset) {\n            var
    buttonTextMap = optionsSubset.buttonText || {};\n            var buttonTextKey
    = viewDef.defaults.buttonTextKey;\n            if (buttonTextKey != null && buttonTextMap[buttonTextKey]
    != null) {\n                return buttonTextMap[buttonTextKey];\n            }\n
    \           if (buttonTextMap[viewDef.type] != null) {\n                return
    buttonTextMap[viewDef.type];\n            }\n            if (buttonTextMap[singleUnit]
    != null) {\n                return buttonTextMap[singleUnit];\n            }\n
    \           return null;\n        };\n        return {\n            type: viewDef.type,\n
    \           component: viewDef.component,\n            duration: duration,\n            durationUnit:
    durationUnit,\n            singleUnit: singleUnit,\n            optionDefaults:
    viewDef.defaults,\n            optionOverrides: __assign(__assign({}, singleUnitOverrides),
    viewDef.overrides),\n            buttonTextOverride: queryButtonText(dynamicOptionOverrides)
    ||\n                queryButtonText(optionOverrides) || // constructor-specified
    buttonText lookup hash takes precedence\n                viewDef.overrides.buttonText,\n
    \           buttonTextDefault: queryButtonText(localeDefaults) ||\n                viewDef.defaults.buttonText
    ||\n                queryButtonText(BASE_OPTION_DEFAULTS) ||\n                viewDef.type,
    // fall back to given view name\n        };\n    }\n    // hack to get memoization
    working\n    var durationInputMap = {};\n    function createDurationCached(durationInput)
    {\n        var json = JSON.stringify(durationInput);\n        var res = durationInputMap[json];\n
    \       if (res === undefined) {\n            res = createDuration(durationInput);\n
    \           durationInputMap[json] = res;\n        }\n        return res;\n    }\n\n
    \   var DateProfileGenerator = /** @class */ (function () {\n        function
    DateProfileGenerator(props) {\n            this.props = props;\n            this.nowDate
    = getNow(props.nowInput, props.dateEnv);\n            this.initHiddenDays();\n
    \       }\n        /* Date Range Computation\n        ------------------------------------------------------------------------------------------------------------------*/\n
    \       // Builds a structure with info about what the dates/ranges will be for
    the \"prev\" view.\n        DateProfileGenerator.prototype.buildPrev = function
    (currentDateProfile, currentDate, forceToValid) {\n            var dateEnv = this.props.dateEnv;\n
    \           var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit),
    // important for start-of-month\n            currentDateProfile.dateIncrement);\n
    \           return this.build(prevDate, -1, forceToValid);\n        };\n        //
    Builds a structure with info about what the dates/ranges will be for the \"next\"
    view.\n        DateProfileGenerator.prototype.buildNext = function (currentDateProfile,
    currentDate, forceToValid) {\n            var dateEnv = this.props.dateEnv;\n
    \           var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit),
    // important for start-of-month\n            currentDateProfile.dateIncrement);\n
    \           return this.build(nextDate, 1, forceToValid);\n        };\n        //
    Builds a structure holding dates/ranges for rendering around the given date.\n
    \       // Optional direction param indicates whether the date is being incremented/decremented\n
    \       // from its previous value. decremented = -1, incremented = 1 (default).\n
    \       DateProfileGenerator.prototype.build = function (currentDate, direction,
    forceToValid) {\n            if (forceToValid === void 0) { forceToValid = true;
    }\n            var props = this.props;\n            var validRange;\n            var
    currentInfo;\n            var isRangeAllDay;\n            var renderRange;\n            var
    activeRange;\n            var isValid;\n            validRange = this.buildValidRange();\n
    \           validRange = this.trimHiddenDays(validRange);\n            if (forceToValid)
    {\n                currentDate = constrainMarkerToRange(currentDate, validRange);\n
    \           }\n            currentInfo = this.buildCurrentRangeInfo(currentDate,
    direction);\n            isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n
    \           renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range),
    currentInfo.unit, isRangeAllDay);\n            renderRange = this.trimHiddenDays(renderRange);\n
    \           activeRange = renderRange;\n            if (!props.showNonCurrentDates)
    {\n                activeRange = intersectRanges(activeRange, currentInfo.range);\n
    \           }\n            activeRange = this.adjustActiveRange(activeRange);\n
    \           activeRange = intersectRanges(activeRange, validRange); // might return
    null\n            // it's invalid if the originally requested date is not contained,\n
    \           // or if the range is completely outside of the valid range.\n            isValid
    = rangesIntersect(currentInfo.range, validRange);\n            return {\n                //
    constraint for where prev/next operations can go and where events can be dragged/resized
    to.\n                // an object with optional start and end properties.\n                validRange:
    validRange,\n                // range the view is formally responsible for.\n
    \               // for example, a month view might have 1st-31st, excluding padded
    dates\n                currentRange: currentInfo.range,\n                // name
    of largest unit being displayed, like \"month\" or \"week\"\n                currentRangeUnit:
    currentInfo.unit,\n                isRangeAllDay: isRangeAllDay,\n                //
    dates that display events and accept drag-n-drop\n                // will be `null`
    if no dates accept events\n                activeRange: activeRange,\n                //
    date range with a rendered skeleton\n                // includes not-active days
    that need some sort of DOM\n                renderRange: renderRange,\n                //
    Duration object that denotes the first visible time of any given day\n                slotMinTime:
    props.slotMinTime,\n                // Duration object that denotes the exclusive
    visible end time of any given day\n                slotMaxTime: props.slotMaxTime,\n
    \               isValid: isValid,\n                // how far the current date
    will move for a prev/next operation\n                dateIncrement: this.buildDateIncrement(currentInfo.duration),\n
    \               // pass a fallback (might be null) ^\n            };\n        };\n
    \       // Builds an object with optional start/end properties.\n        // Indicates
    the minimum/maximum dates to display.\n        // not responsible for trimming
    hidden days.\n        DateProfileGenerator.prototype.buildValidRange = function
    () {\n            var input = this.props.validRangeInput;\n            var simpleInput
    = typeof input === 'function'\n                ? input.call(this.props.calendarApi,
    this.nowDate)\n                : input;\n            return this.refineRange(simpleInput)
    ||\n                { start: null, end: null }; // completely open-ended\n        };\n
    \       // Builds a structure with info about the \"current\" range, the range
    that is\n        // highlighted as being the current month for example.\n        //
    See build() for a description of `direction`.\n        // Guaranteed to have `range`
    and `unit` properties. `duration` is optional.\n        DateProfileGenerator.prototype.buildCurrentRangeInfo
    = function (date, direction) {\n            var props = this.props;\n            var
    duration = null;\n            var unit = null;\n            var range = null;\n
    \           var dayCount;\n            if (props.duration) {\n                duration
    = props.duration;\n                unit = props.durationUnit;\n                range
    = this.buildRangeFromDuration(date, direction, duration, unit);\n            }\n
    \           else if ((dayCount = this.props.dayCount)) {\n                unit
    = 'day';\n                range = this.buildRangeFromDayCount(date, direction,
    dayCount);\n            }\n            else if ((range = this.buildCustomVisibleRange(date)))
    {\n                unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n
    \           }\n            else {\n                duration = this.getFallbackDuration();\n
    \               unit = greatestDurationDenominator(duration).unit;\n                range
    = this.buildRangeFromDuration(date, direction, duration, unit);\n            }\n
    \           return { duration: duration, unit: unit, range: range };\n        };\n
    \       DateProfileGenerator.prototype.getFallbackDuration = function () {\n            return
    createDuration({ day: 1 });\n        };\n        // Returns a new activeRange
    to have time values (un-ambiguate)\n        // slotMinTime or slotMaxTime causes
    the range to expand.\n        DateProfileGenerator.prototype.adjustActiveRange
    = function (range) {\n            var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime
    = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n
    \           var start = range.start, end = range.end;\n            if (usesMinMaxTime)
    {\n                // expand active range if slotMinTime is negative (why not
    when positive?)\n                if (asRoughDays(slotMinTime) < 0) {\n                    start
    = startOfDay(start); // necessary?\n                    start = dateEnv.add(start,
    slotMinTime);\n                }\n                // expand active range if slotMaxTime
    is beyond one day (why not when negative?)\n                if (asRoughDays(slotMaxTime)
    > 1) {\n                    end = startOfDay(end); // necessary?\n                    end
    = addDays(end, -1);\n                    end = dateEnv.add(end, slotMaxTime);\n
    \               }\n            }\n            return { start: start, end: end
    };\n        };\n        // Builds the \"current\" range when it is specified as
    an explicit duration.\n        // `unit` is the already-computed greatestDurationDenominator
    unit of duration.\n        DateProfileGenerator.prototype.buildRangeFromDuration
    = function (date, direction, duration, unit) {\n            var _a = this.props,
    dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n            var start;\n
    \           var end;\n            var res;\n            // compute what the alignment
    should be\n            if (!dateAlignment) {\n                var dateIncrement
    = this.props.dateIncrement;\n                if (dateIncrement) {\n                    //
    use the smaller of the two units\n                    if (asRoughMs(dateIncrement)
    < asRoughMs(duration)) {\n                        dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n
    \                   }\n                    else {\n                        dateAlignment
    = unit;\n                    }\n                }\n                else {\n                    dateAlignment
    = unit;\n                }\n            }\n            // if the view displays
    a single day or smaller\n            if (asRoughDays(duration) <= 1) {\n                if
    (this.isHiddenDay(start)) {\n                    start = this.skipHiddenDays(start,
    direction);\n                    start = startOfDay(start);\n                }\n
    \           }\n            function computeRes() {\n                start = dateEnv.startOf(date,
    dateAlignment);\n                end = dateEnv.add(start, duration);\n                res
    = { start: start, end: end };\n            }\n            computeRes();\n            //
    if range is completely enveloped by hidden days, go past the hidden days\n            if
    (!this.trimHiddenDays(res)) {\n                date = this.skipHiddenDays(date,
    direction);\n                computeRes();\n            }\n            return
    res;\n        };\n        // Builds the \"current\" range when a dayCount is specified.\n
    \       DateProfileGenerator.prototype.buildRangeFromDayCount = function (date,
    direction, dayCount) {\n            var _a = this.props, dateEnv = _a.dateEnv,
    dateAlignment = _a.dateAlignment;\n            var runningCount = 0;\n            var
    start = date;\n            var end;\n            if (dateAlignment) {\n                start
    = dateEnv.startOf(start, dateAlignment);\n            }\n            start = startOfDay(start);\n
    \           start = this.skipHiddenDays(start, direction);\n            end =
    start;\n            do {\n                end = addDays(end, 1);\n                if
    (!this.isHiddenDay(end)) {\n                    runningCount += 1;\n                }\n
    \           } while (runningCount < dayCount);\n            return { start: start,
    end: end };\n        };\n        // Builds a normalized range object for the \"visible\"
    range,\n        // which is a way to define the currentRange and activeRange at
    the same time.\n        DateProfileGenerator.prototype.buildCustomVisibleRange
    = function (date) {\n            var props = this.props;\n            var input
    = props.visibleRangeInput;\n            var simpleInput = typeof input === 'function'\n
    \               ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n
    \               : input;\n            var range = this.refineRange(simpleInput);\n
    \           if (range && (range.start == null || range.end == null)) {\n                return
    null;\n            }\n            return range;\n        };\n        // Computes
    the range that will represent the element/cells for *rendering*,\n        // but
    which may have voided days/times.\n        // not responsible for trimming hidden
    days.\n        DateProfileGenerator.prototype.buildRenderRange = function (currentRange,
    currentRangeUnit, isRangeAllDay) {\n            return currentRange;\n        };\n
    \       // Compute the duration value that should be added/substracted to the
    current date\n        // when a prev/next operation happens.\n        DateProfileGenerator.prototype.buildDateIncrement
    = function (fallback) {\n            var dateIncrement = this.props.dateIncrement;\n
    \           var customAlignment;\n            if (dateIncrement) {\n                return
    dateIncrement;\n            }\n            if ((customAlignment = this.props.dateAlignment))
    {\n                return createDuration(1, customAlignment);\n            }\n
    \           if (fallback) {\n                return fallback;\n            }\n
    \           return createDuration({ days: 1 });\n        };\n        DateProfileGenerator.prototype.refineRange
    = function (rangeInput) {\n            if (rangeInput) {\n                var
    range = parseRange(rangeInput, this.props.dateEnv);\n                if (range)
    {\n                    range = computeVisibleDayRange(range);\n                }\n
    \               return range;\n            }\n            return null;\n        };\n
    \       /* Hidden Days\n        ------------------------------------------------------------------------------------------------------------------*/\n
    \       // Initializes internal variables related to calculating hidden days-of-week\n
    \       DateProfileGenerator.prototype.initHiddenDays = function () {\n            var
    hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that
    are hidden\n            var isHiddenDayHash = []; // is the day-of-week hidden?
    (hash with day-of-week-index -> bool)\n            var dayCnt = 0;\n            var
    i;\n            if (this.props.weekends === false) {\n                hiddenDays.push(0,
    6); // 0=sunday, 6=saturday\n            }\n            for (i = 0; i < 7; i +=
    1) {\n                if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1))
    {\n                    dayCnt += 1;\n                }\n            }\n            if
    (!dayCnt) {\n                throw new Error('invalid hiddenDays'); // all days
    were hidden? bad.\n            }\n            this.isHiddenDayHash = isHiddenDayHash;\n
    \       };\n        // Remove days from the beginning and end of the range that
    are computed as hidden.\n        // If the whole range is trimmed off, returns
    null\n        DateProfileGenerator.prototype.trimHiddenDays = function (range)
    {\n            var start = range.start, end = range.end;\n            if (start)
    {\n                start = this.skipHiddenDays(start);\n            }\n            if
    (end) {\n                end = this.skipHiddenDays(end, -1, true);\n            }\n
    \           if (start == null || end == null || start < end) {\n                return
    { start: start, end: end };\n            }\n            return null;\n        };\n
    \       // Is the current day hidden?\n        // `day` is a day-of-week index
    (0-6), or a Date (used for UTC)\n        DateProfileGenerator.prototype.isHiddenDay
    = function (day) {\n            if (day instanceof Date) {\n                day
    = day.getUTCDay();\n            }\n            return this.isHiddenDayHash[day];\n
    \       };\n        // Incrementing the current day until it is no longer a hidden
    day, returning a copy.\n        // DOES NOT CONSIDER validRange!\n        // If
    the initial value of `date` is not a hidden day, don't do anything.\n        //
    Pass `isExclusive` as `true` if you are dealing with an end date.\n        //
    `inc` defaults to `1` (increment one day forward each time)\n        DateProfileGenerator.prototype.skipHiddenDays
    = function (date, inc, isExclusive) {\n            if (inc === void 0) { inc =
    1; }\n            if (isExclusive === void 0) { isExclusive = false; }\n            while
    (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n
    \               date = addDays(date, inc);\n            }\n            return
    date;\n        };\n        return DateProfileGenerator;\n    }());\n\n    function
    reduceViewType(viewType, action) {\n        switch (action.type) {\n            case
    'CHANGE_VIEW_TYPE':\n                viewType = action.viewType;\n        }\n
    \       return viewType;\n    }\n\n    function reduceDynamicOptionOverrides(dynamicOptionOverrides,
    action) {\n        var _a;\n        switch (action.type) {\n            case 'SET_OPTION':\n
    \               return __assign(__assign({}, dynamicOptionOverrides), (_a = {},
    _a[action.optionName] = action.rawOptionValue, _a));\n            default:\n                return
    dynamicOptionOverrides;\n        }\n    }\n\n    function reduceDateProfile(currentDateProfile,
    action, currentDate, dateProfileGenerator) {\n        var dp;\n        switch
    (action.type) {\n            case 'CHANGE_VIEW_TYPE':\n                return
    dateProfileGenerator.build(action.dateMarker || currentDate);\n            case
    'CHANGE_DATE':\n                return dateProfileGenerator.build(action.dateMarker);\n
    \           case 'PREV':\n                dp = dateProfileGenerator.buildPrev(currentDateProfile,
    currentDate);\n                if (dp.isValid) {\n                    return dp;\n
    \               }\n                break;\n            case 'NEXT':\n                dp
    = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n                if
    (dp.isValid) {\n                    return dp;\n                }\n                break;\n
    \       }\n        return currentDateProfile;\n    }\n\n    function initEventSources(calendarOptions,
    dateProfile, context) {\n        var activeRange = dateProfile ? dateProfile.activeRange
    : null;\n        return addSources({}, parseInitialSources(calendarOptions, context),
    activeRange, context);\n    }\n    function reduceEventSources(eventSources, action,
    dateProfile, context) {\n        var activeRange = dateProfile ? dateProfile.activeRange
    : null; // need this check?\n        switch (action.type) {\n            case
    'ADD_EVENT_SOURCES': // already parsed\n                return addSources(eventSources,
    action.sources, activeRange, context);\n            case 'REMOVE_EVENT_SOURCE':\n
    \               return removeSource(eventSources, action.sourceId);\n            case
    'PREV': // TODO: how do we track all actions that affect dateProfile :(\n            case
    'NEXT':\n            case 'CHANGE_DATE':\n            case 'CHANGE_VIEW_TYPE':\n
    \               if (dateProfile) {\n                    return fetchDirtySources(eventSources,
    activeRange, context);\n                }\n                return eventSources;\n
    \           case 'FETCH_EVENT_SOURCES':\n                return fetchSourcesByIds(eventSources,
    action.sourceIds ? // why no type?\n                    arrayToHash(action.sourceIds)
    :\n                    excludeStaticSources(eventSources, context), activeRange,
    action.isRefetch || false, context);\n            case 'RECEIVE_EVENTS':\n            case
    'RECEIVE_EVENT_ERROR':\n                return receiveResponse(eventSources, action.sourceId,
    action.fetchId, action.fetchRange);\n            case 'REMOVE_ALL_EVENT_SOURCES':\n
    \               return {};\n            default:\n                return eventSources;\n
    \       }\n    }\n    function reduceEventSourcesNewTimeZone(eventSources, dateProfile,
    context) {\n        var activeRange = dateProfile ? dateProfile.activeRange :
    null; // need this check?\n        return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources,
    context), activeRange, true, context);\n    }\n    function computeEventSourcesLoading(eventSources)
    {\n        for (var sourceId in eventSources) {\n            if (eventSources[sourceId].isFetching)
    {\n                return true;\n            }\n        }\n        return false;\n
    \   }\n    function addSources(eventSourceHash, sources, fetchRange, context)
    {\n        var hash = {};\n        for (var _i = 0, sources_1 = sources; _i <
    sources_1.length; _i++) {\n            var source = sources_1[_i];\n            hash[source.sourceId]
    = source;\n        }\n        if (fetchRange) {\n            hash = fetchDirtySources(hash,
    fetchRange, context);\n        }\n        return __assign(__assign({}, eventSourceHash),
    hash);\n    }\n    function removeSource(eventSourceHash, sourceId) {\n        return
    filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId
    !== sourceId; });\n    }\n    function fetchDirtySources(sourceHash, fetchRange,
    context) {\n        return fetchSourcesByIds(sourceHash, filterHash(sourceHash,
    function (eventSource) { return isSourceDirty(eventSource, fetchRange, context);
    }), fetchRange, false, context);\n    }\n    function isSourceDirty(eventSource,
    fetchRange, context) {\n        if (!doesSourceNeedRange(eventSource, context))
    {\n            return !eventSource.latestFetchId;\n        }\n        return !context.options.lazyFetching
    ||\n            !eventSource.fetchRange ||\n            eventSource.isFetching
    || // always cancel outdated in-progress fetches\n            fetchRange.start
    < eventSource.fetchRange.start ||\n            fetchRange.end > eventSource.fetchRange.end;\n
    \   }\n    function fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch,
    context) {\n        var nextSources = {};\n        for (var sourceId in prevSources)
    {\n            var source = prevSources[sourceId];\n            if (sourceIdHash[sourceId])
    {\n                nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch,
    context);\n            }\n            else {\n                nextSources[sourceId]
    = source;\n            }\n        }\n        return nextSources;\n    }\n    function
    fetchSource(eventSource, fetchRange, isRefetch, context) {\n        var options
    = context.options, calendarApi = context.calendarApi;\n        var sourceDef =
    context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n        var fetchId
    = guid();\n        sourceDef.fetch({\n            eventSource: eventSource,\n
    \           range: fetchRange,\n            isRefetch: isRefetch,\n            context:
    context,\n        }, function (res) {\n            var rawEvents = res.rawEvents;\n
    \           if (options.eventSourceSuccess) {\n                rawEvents = options.eventSourceSuccess.call(calendarApi,
    rawEvents, res.xhr) || rawEvents;\n            }\n            if (eventSource.success)
    {\n                rawEvents = eventSource.success.call(calendarApi, rawEvents,
    res.xhr) || rawEvents;\n            }\n            context.dispatch({\n                type:
    'RECEIVE_EVENTS',\n                sourceId: eventSource.sourceId,\n                fetchId:
    fetchId,\n                fetchRange: fetchRange,\n                rawEvents:
    rawEvents,\n            });\n        }, function (error) {\n            console.warn(error.message,
    error);\n            if (options.eventSourceFailure) {\n                options.eventSourceFailure.call(calendarApi,
    error);\n            }\n            if (eventSource.failure) {\n                eventSource.failure(error);\n
    \           }\n            context.dispatch({\n                type: 'RECEIVE_EVENT_ERROR',\n
    \               sourceId: eventSource.sourceId,\n                fetchId: fetchId,\n
    \               fetchRange: fetchRange,\n                error: error,\n            });\n
    \       });\n        return __assign(__assign({}, eventSource), { isFetching:
    true, latestFetchId: fetchId });\n    }\n    function receiveResponse(sourceHash,
    sourceId, fetchId, fetchRange) {\n        var _a;\n        var eventSource = sourceHash[sourceId];\n
    \       if (eventSource && // not already removed\n            fetchId === eventSource.latestFetchId)
    {\n            return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId]
    = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange
    }), _a));\n        }\n        return sourceHash;\n    }\n    function excludeStaticSources(eventSources,
    context) {\n        return filterHash(eventSources, function (eventSource) { return
    doesSourceNeedRange(eventSource, context); });\n    }\n    function parseInitialSources(rawOptions,
    context) {\n        var refiners = buildEventSourceRefiners(context);\n        var
    rawSources = [].concat(rawOptions.eventSources || []);\n        var sources =
    []; // parsed\n        if (rawOptions.initialEvents) {\n            rawSources.unshift(rawOptions.initialEvents);\n
    \       }\n        if (rawOptions.events) {\n            rawSources.unshift(rawOptions.events);\n
    \       }\n        for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length;
    _i++) {\n            var rawSource = rawSources_1[_i];\n            var source
    = parseEventSource(rawSource, context, refiners);\n            if (source) {\n
    \               sources.push(source);\n            }\n        }\n        return
    sources;\n    }\n    function doesSourceNeedRange(eventSource, context) {\n        var
    defs = context.pluginHooks.eventSourceDefs;\n        return !defs[eventSource.sourceDefId].ignoreRange;\n
    \   }\n\n    function reduceEventStore(eventStore, action, eventSources, dateProfile,
    context) {\n        switch (action.type) {\n            case 'RECEIVE_EVENTS':
    // raw\n                return receiveRawEvents(eventStore, eventSources[action.sourceId],
    action.fetchId, action.fetchRange, action.rawEvents, context);\n            case
    'ADD_EVENTS': // already parsed, but not expanded\n                return addEvent(eventStore,
    action.eventStore, // new ones\n                dateProfile ? dateProfile.activeRange
    : null, context);\n            case 'RESET_EVENTS':\n                return action.eventStore;\n
    \           case 'MERGE_EVENTS': // already parsed and expanded\n                return
    mergeEventStores(eventStore, action.eventStore);\n            case 'PREV': //
    TODO: how do we track all actions that affect dateProfile :(\n            case
    'NEXT':\n            case 'CHANGE_DATE':\n            case 'CHANGE_VIEW_TYPE':\n
    \               if (dateProfile) {\n                    return expandRecurring(eventStore,
    dateProfile.activeRange, context);\n                }\n                return
    eventStore;\n            case 'REMOVE_EVENTS':\n                return excludeSubEventStore(eventStore,
    action.eventStore);\n            case 'REMOVE_EVENT_SOURCE':\n                return
    excludeEventsBySourceId(eventStore, action.sourceId);\n            case 'REMOVE_ALL_EVENT_SOURCES':\n
    \               return filterEventStoreDefs(eventStore, function (eventDef) {
    return (!eventDef.sourceId // only keep events with no source id\n                );
    });\n            case 'REMOVE_ALL_EVENTS':\n                return createEmptyEventStore();\n
    \           default:\n                return eventStore;\n        }\n    }\n    function
    receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context)
    {\n        if (eventSource && // not already removed\n            fetchId ===
    eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n
    \       ) {\n            var subset = parseEvents(transformRawEvents(rawEvents,
    eventSource, context), eventSource, context);\n            if (fetchRange) {\n
    \               subset = expandRecurring(subset, fetchRange, context);\n            }\n
    \           return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId),
    subset);\n        }\n        return eventStore;\n    }\n    function transformRawEvents(rawEvents,
    eventSource, context) {\n        var calEachTransform = context.options.eventDataTransform;\n
    \       var sourceEachTransform = eventSource ? eventSource.eventDataTransform
    : null;\n        if (sourceEachTransform) {\n            rawEvents = transformEachRawEvent(rawEvents,
    sourceEachTransform);\n        }\n        if (calEachTransform) {\n            rawEvents
    = transformEachRawEvent(rawEvents, calEachTransform);\n        }\n        return
    rawEvents;\n    }\n    function transformEachRawEvent(rawEvents, func) {\n        var
    refinedEvents;\n        if (!func) {\n            refinedEvents = rawEvents;\n
    \       }\n        else {\n            refinedEvents = [];\n            for (var
    _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n                var
    rawEvent = rawEvents_1[_i];\n                var refinedEvent = func(rawEvent);\n
    \               if (refinedEvent) {\n                    refinedEvents.push(refinedEvent);\n
    \               }\n                else if (refinedEvent == null) {\n                    refinedEvents.push(rawEvent);\n
    \               } // if a different falsy value, do nothing\n            }\n        }\n
    \       return refinedEvents;\n    }\n    function addEvent(eventStore, subset,
    expandRange, context) {\n        if (expandRange) {\n            subset = expandRecurring(subset,
    expandRange, context);\n        }\n        return mergeEventStores(eventStore,
    subset);\n    }\n    function rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv)
    {\n        var defs = eventStore.defs;\n        var instances = mapHash(eventStore.instances,
    function (instance) {\n            var def = defs[instance.defId];\n            if
    (def.allDay || def.recurringDef) {\n                return instance; // isn't
    dependent on timezone\n            }\n            return __assign(__assign({},
    instance), { range: {\n                    start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start,
    instance.forcedStartTzo)),\n                    end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end,
    instance.forcedEndTzo)),\n                }, forcedStartTzo: newDateEnv.canComputeOffset
    ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ?
    null : instance.forcedEndTzo });\n        });\n        return { defs: defs, instances:
    instances };\n    }\n    function excludeEventsBySourceId(eventStore, sourceId)
    {\n        return filterEventStoreDefs(eventStore, function (eventDef) { return
    eventDef.sourceId !== sourceId; });\n    }\n    // QUESTION: why not just return
    instances? do a general object-property-exclusion util\n    function excludeInstances(eventStore,
    removals) {\n        return {\n            defs: eventStore.defs,\n            instances:
    filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId];
    }),\n        };\n    }\n\n    function reduceDateSelection(currentSelection, action)
    {\n        switch (action.type) {\n            case 'UNSELECT_DATES':\n                return
    null;\n            case 'SELECT_DATES':\n                return action.selection;\n
    \           default:\n                return currentSelection;\n        }\n    }\n\n
    \   function reduceSelectedEvent(currentInstanceId, action) {\n        switch
    (action.type) {\n            case 'UNSELECT_EVENT':\n                return '';\n
    \           case 'SELECT_EVENT':\n                return action.eventInstanceId;\n
    \           default:\n                return currentInstanceId;\n        }\n    }\n\n
    \   function reduceEventDrag(currentDrag, action) {\n        var newDrag;\n        switch
    (action.type) {\n            case 'UNSET_EVENT_DRAG':\n                return
    null;\n            case 'SET_EVENT_DRAG':\n                newDrag = action.state;\n
    \               return {\n                    affectedEvents: newDrag.affectedEvents,\n
    \                   mutatedEvents: newDrag.mutatedEvents,\n                    isEvent:
    newDrag.isEvent,\n                };\n            default:\n                return
    currentDrag;\n        }\n    }\n\n    function reduceEventResize(currentResize,
    action) {\n        var newResize;\n        switch (action.type) {\n            case
    'UNSET_EVENT_RESIZE':\n                return null;\n            case 'SET_EVENT_RESIZE':\n
    \               newResize = action.state;\n                return {\n                    affectedEvents:
    newResize.affectedEvents,\n                    mutatedEvents: newResize.mutatedEvents,\n
    \                   isEvent: newResize.isEvent,\n                };\n            default:\n
    \               return currentResize;\n        }\n    }\n\n    function parseToolbars(calendarOptions,
    calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n        var viewsWithButtons
    = [];\n        var headerToolbar = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar,
    calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons)
    : null;\n        var footerToolbar = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar,
    calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons)
    : null;\n        return { headerToolbar: headerToolbar, footerToolbar: footerToolbar,
    viewsWithButtons: viewsWithButtons };\n    }\n    function parseToolbar(sectionStrHash,
    calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons)
    {\n        return mapHash(sectionStrHash, function (sectionStr) { return parseSection(sectionStr,
    calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons);
    });\n    }\n    /*\n    BAD: querying icons and text here. should be done at render
    time\n    */\n    function parseSection(sectionStr, calendarOptions, calendarOptionOverrides,
    theme, viewSpecs, calendarApi, viewsWithButtons) {\n        var isRtl = calendarOptions.direction
    === 'rtl';\n        var calendarCustomButtons = calendarOptions.customButtons
    || {};\n        var calendarButtonTextOverrides = calendarOptionOverrides.buttonText
    || {};\n        var calendarButtonText = calendarOptions.buttonText || {};\n        var
    sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n        return sectionSubstrs.map(function
    (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName)
    {\n            if (buttonName === 'title') {\n                return { buttonName:
    buttonName };\n            }\n            var customButtonProps;\n            var
    viewSpec;\n            var buttonClick;\n            var buttonIcon; // only one
    of these will be set\n            var buttonText; // \"\n            if ((customButtonProps
    = calendarCustomButtons[buttonName])) {\n                buttonClick = function
    (ev) {\n                    if (customButtonProps.click) {\n                        customButtonProps.click.call(ev.target,
    ev, ev.target); // TODO: use Calendar this context?\n                    }\n                };\n
    \               (buttonIcon = theme.getCustomButtonIconClass(customButtonProps))
    ||\n                    (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n
    \                   (buttonText = customButtonProps.text);\n            }\n            else
    if ((viewSpec = viewSpecs[buttonName])) {\n                viewsWithButtons.push(buttonName);\n
    \               buttonClick = function () {\n                    calendarApi.changeView(buttonName);\n
    \               };\n                (buttonText = viewSpec.buttonTextOverride)
    ||\n                    (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n
    \                   (buttonText = viewSpec.buttonTextDefault);\n            }\n
    \           else if (calendarApi[buttonName]) { // a calendarApi method\n                buttonClick
    = function () {\n                    calendarApi[buttonName]();\n                };\n
    \               (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                    (buttonIcon
    = theme.getIconClass(buttonName, isRtl)) ||\n                    (buttonText =
    calendarButtonText[buttonName]);\n                //            ^ everything else
    is considered default\n            }\n            return { buttonName: buttonName,
    buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText };\n
    \       })); });\n    }\n\n    var eventSourceDef$3 = {\n        ignoreRange:
    true,\n        parseMeta: function (refined) {\n            if (Array.isArray(refined.events))
    {\n                return refined.events;\n            }\n            return null;\n
    \       },\n        fetch: function (arg, success) {\n            success({\n
    \               rawEvents: arg.eventSource.meta,\n            });\n        },\n
    \   };\n    var arrayEventSourcePlugin = createPlugin({\n        eventSourceDefs:
    [eventSourceDef$3],\n    });\n\n    var eventSourceDef$2 = {\n        parseMeta:
    function (refined) {\n            if (typeof refined.events === 'function') {\n
    \               return refined.events;\n            }\n            return null;\n
    \       },\n        fetch: function (arg, success, failure) {\n            var
    dateEnv = arg.context.dateEnv;\n            var func = arg.eventSource.meta;\n
    \           unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)),
    function (rawEvents) {\n                success({ rawEvents: rawEvents }); //
    needs an object response\n            }, failure);\n        },\n    };\n    var
    funcEventSourcePlugin = createPlugin({\n        eventSourceDefs: [eventSourceDef$2],\n
    \   });\n\n    function requestJson(method, url, params, successCallback, failureCallback)
    {\n        method = method.toUpperCase();\n        var body = null;\n        if
    (method === 'GET') {\n            url = injectQueryStringParams(url, params);\n
    \       }\n        else {\n            body = encodeParams(params);\n        }\n
    \       var xhr = new XMLHttpRequest();\n        xhr.open(method, url, true);\n
    \       if (method !== 'GET') {\n            xhr.setRequestHeader('Content-Type',
    'application/x-www-form-urlencoded');\n        }\n        xhr.onload = function
    () {\n            if (xhr.status >= 200 && xhr.status < 400) {\n                var
    parsed = false;\n                var res = void 0;\n                try {\n                    res
    = JSON.parse(xhr.responseText);\n                    parsed = true;\n                }\n
    \               catch (err) {\n                    // will handle parsed=false\n
    \               }\n                if (parsed) {\n                    successCallback(res,
    xhr);\n                }\n                else {\n                    failureCallback('Failure
    parsing JSON', xhr);\n                }\n            }\n            else {\n                failureCallback('Request
    failed', xhr);\n            }\n        };\n        xhr.onerror = function () {\n
    \           failureCallback('Request failed', xhr);\n        };\n        xhr.send(body);\n
    \   }\n    function injectQueryStringParams(url, params) {\n        return url
    +\n            (url.indexOf('?') === -1 ? '?' : '&') +\n            encodeParams(params);\n
    \   }\n    function encodeParams(params) {\n        var parts = [];\n        for
    (var key in params) {\n            parts.push(encodeURIComponent(key) + \"=\"
    + encodeURIComponent(params[key]));\n        }\n        return parts.join('&');\n
    \   }\n\n    var JSON_FEED_EVENT_SOURCE_REFINERS = {\n        method: String,\n
    \       extraParams: identity,\n        startParam: String,\n        endParam:
    String,\n        timeZoneParam: String,\n    };\n\n    var eventSourceDef$1 =
    {\n        parseMeta: function (refined) {\n            if (refined.url && (refined.format
    === 'json' || !refined.format)) {\n                return {\n                    url:
    refined.url,\n                    format: 'json',\n                    method:
    (refined.method || 'GET').toUpperCase(),\n                    extraParams: refined.extraParams,\n
    \                   startParam: refined.startParam,\n                    endParam:
    refined.endParam,\n                    timeZoneParam: refined.timeZoneParam,\n
    \               };\n            }\n            return null;\n        },\n        fetch:
    function (arg, success, failure) {\n            var meta = arg.eventSource.meta;\n
    \           var requestParams = buildRequestParams$1(meta, arg.range, arg.context);\n
    \           requestJson(meta.method, meta.url, requestParams, function (rawEvents,
    xhr) {\n                success({ rawEvents: rawEvents, xhr: xhr });\n            },
    function (errorMessage, xhr) {\n                failure({ message: errorMessage,
    xhr: xhr });\n            });\n        },\n    };\n    var jsonFeedEventSourcePlugin
    = createPlugin({\n        eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n
    \       eventSourceDefs: [eventSourceDef$1],\n    });\n    function buildRequestParams$1(meta,
    range, context) {\n        var dateEnv = context.dateEnv, options = context.options;\n
    \       var startParam;\n        var endParam;\n        var timeZoneParam;\n        var
    customRequestParams;\n        var params = {};\n        startParam = meta.startParam;\n
    \       if (startParam == null) {\n            startParam = options.startParam;\n
    \       }\n        endParam = meta.endParam;\n        if (endParam == null) {\n
    \           endParam = options.endParam;\n        }\n        timeZoneParam = meta.timeZoneParam;\n
    \       if (timeZoneParam == null) {\n            timeZoneParam = options.timeZoneParam;\n
    \       }\n        // retrieve any outbound GET/POST data from the options\n        if
    (typeof meta.extraParams === 'function') {\n            // supplied as a function
    that returns a key/value object\n            customRequestParams = meta.extraParams();\n
    \       }\n        else {\n            // probably supplied as a straight key/value
    object\n            customRequestParams = meta.extraParams || {};\n        }\n
    \       __assign(params, customRequestParams);\n        params[startParam] = dateEnv.formatIso(range.start);\n
    \       params[endParam] = dateEnv.formatIso(range.end);\n        if (dateEnv.timeZone
    !== 'local') {\n            params[timeZoneParam] = dateEnv.timeZone;\n        }\n
    \       return params;\n    }\n\n    var SIMPLE_RECURRING_REFINERS = {\n        daysOfWeek:
    identity,\n        startTime: createDuration,\n        endTime: createDuration,\n
    \       duration: createDuration,\n        startRecur: identity,\n        endRecur:
    identity,\n    };\n\n    var recurring = {\n        parse: function (refined,
    dateEnv) {\n            if (refined.daysOfWeek || refined.startTime || refined.endTime
    || refined.startRecur || refined.endRecur) {\n                var recurringData
    = {\n                    daysOfWeek: refined.daysOfWeek || null,\n                    startTime:
    refined.startTime || null,\n                    endTime: refined.endTime || null,\n
    \                   startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur)
    : null,\n                    endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur)
    : null,\n                };\n                var duration = void 0;\n                if
    (refined.duration) {\n                    duration = refined.duration;\n                }\n
    \               if (!duration && refined.startTime && refined.endTime) {\n                    duration
    = subtractDurations(refined.endTime, refined.startTime);\n                }\n
    \               return {\n                    allDayGuess: Boolean(!refined.startTime
    && !refined.endTime),\n                    duration: duration,\n                    typeData:
    recurringData, // doesn't need endTime anymore but oh well\n                };\n
    \           }\n            return null;\n        },\n        expand: function
    (typeData, framingRange, dateEnv) {\n            var clippedFramingRange = intersectRanges(framingRange,
    { start: typeData.startRecur, end: typeData.endRecur });\n            if (clippedFramingRange)
    {\n                return expandRanges(typeData.daysOfWeek, typeData.startTime,
    clippedFramingRange, dateEnv);\n            }\n            return [];\n        },\n
    \   };\n    var simpleRecurringEventsPlugin = createPlugin({\n        recurringTypes:
    [recurring],\n        eventRefiners: SIMPLE_RECURRING_REFINERS,\n    });\n    function
    expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n        var dowHash
    = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n        var dayMarker = startOfDay(framingRange.start);\n
    \       var endMarker = framingRange.end;\n        var instanceStarts = [];\n
    \       while (dayMarker < endMarker) {\n            var instanceStart \n            //
    if everyday, or this particular day-of-week\n            = void 0;\n            //
    if everyday, or this particular day-of-week\n            if (!dowHash || dowHash[dayMarker.getUTCDay()])
    {\n                if (startTime) {\n                    instanceStart = dateEnv.add(dayMarker,
    startTime);\n                }\n                else {\n                    instanceStart
    = dayMarker;\n                }\n                instanceStarts.push(instanceStart);\n
    \           }\n            dayMarker = addDays(dayMarker, 1);\n        }\n        return
    instanceStarts;\n    }\n\n    var changeHandlerPlugin = createPlugin({\n        optionChangeHandlers:
    {\n            events: function (events, context) {\n                handleEventSources([events],
    context);\n            },\n            eventSources: handleEventSources,\n        },\n
    \   });\n    /*\n    BUG: if `event` was supplied, all previously-given `eventSources`
    will be wiped out\n    */\n    function handleEventSources(inputs, context) {\n
    \       var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n
    \       var newInputs = [];\n        for (var _i = 0, inputs_1 = inputs; _i <
    inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            var
    inputFound = false;\n            for (var i = 0; i < unfoundSources.length; i
    += 1) {\n                if (unfoundSources[i]._raw === input) {\n                    unfoundSources.splice(i,
    1); // delete\n                    inputFound = true;\n                    break;\n
    \               }\n            }\n            if (!inputFound) {\n                newInputs.push(input);\n
    \           }\n        }\n        for (var _a = 0, unfoundSources_1 = unfoundSources;
    _a < unfoundSources_1.length; _a++) {\n            var unfoundSource = unfoundSources_1[_a];\n
    \           context.dispatch({\n                type: 'REMOVE_EVENT_SOURCE',\n
    \               sourceId: unfoundSource.sourceId,\n            });\n        }\n
    \       for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++)
    {\n            var newInput = newInputs_1[_b];\n            context.calendarApi.addEventSource(newInput);\n
    \       }\n    }\n\n    function handleDateProfile(dateProfile, context) {\n        context.emitter.trigger('datesSet',
    __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)),
    { view: context.viewApi }));\n    }\n\n    function handleEventStore(eventStore,
    context) {\n        var emitter = context.emitter;\n        if (emitter.hasHandlers('eventsSet'))
    {\n            emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n
    \       }\n    }\n\n    /*\n    this array is exposed on the root namespace so
    that UMD plugins can add to it.\n    see the rollup-bundles script.\n    */\n
    \   var globalPlugins = [\n        arrayEventSourcePlugin,\n        funcEventSourcePlugin,\n
    \       jsonFeedEventSourcePlugin,\n        simpleRecurringEventsPlugin,\n        changeHandlerPlugin,\n
    \       createPlugin({\n            isLoadingFuncs: [\n                function
    (state) { return computeEventSourcesLoading(state.eventSources); },\n            ],\n
    \           contentTypeHandlers: {\n                html: function () { return
    ({ render: injectHtml }); },\n                domNodes: function () { return ({
    render: injectDomNodes }); },\n            },\n            propSetHandlers: {\n
    \               dateProfile: handleDateProfile,\n                eventStore: handleEventStore,\n
    \           },\n        }),\n    ];\n    function injectHtml(el, html) {\n        el.innerHTML
    = html;\n    }\n    function injectDomNodes(el, domNodes) {\n        var oldNodes
    = Array.prototype.slice.call(el.childNodes); // TODO: use array util\n        var
    newNodes = Array.prototype.slice.call(domNodes); // TODO: use array util\n        if
    (!isArraysEqual(oldNodes, newNodes)) {\n            for (var _i = 0, newNodes_1
    = newNodes; _i < newNodes_1.length; _i++) {\n                var newNode = newNodes_1[_i];\n
    \               el.appendChild(newNode);\n            }\n            oldNodes.forEach(removeElement);\n
    \       }\n    }\n\n    var DelayedRunner = /** @class */ (function () {\n        function
    DelayedRunner(drainedOption) {\n            this.drainedOption = drainedOption;\n
    \           this.isRunning = false;\n            this.isDirty = false;\n            this.pauseDepths
    = {};\n            this.timeoutId = 0;\n        }\n        DelayedRunner.prototype.request
    = function (delay) {\n            this.isDirty = true;\n            if (!this.isPaused())
    {\n                this.clearTimeout();\n                if (delay == null) {\n
    \                   this.tryDrain();\n                }\n                else
    {\n                    this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look
    at debounce\n                    this.tryDrain.bind(this), delay);\n                }\n
    \           }\n        };\n        DelayedRunner.prototype.pause = function (scope)
    {\n            if (scope === void 0) { scope = ''; }\n            var pauseDepths
    = this.pauseDepths;\n            pauseDepths[scope] = (pauseDepths[scope] || 0)
    + 1;\n            this.clearTimeout();\n        };\n        DelayedRunner.prototype.resume
    = function (scope, force) {\n            if (scope === void 0) { scope = ''; }\n
    \           var pauseDepths = this.pauseDepths;\n            if (scope in pauseDepths)
    {\n                if (force) {\n                    delete pauseDepths[scope];\n
    \               }\n                else {\n                    pauseDepths[scope]
    -= 1;\n                    var depth = pauseDepths[scope];\n                    if
    (depth <= 0) {\n                        delete pauseDepths[scope];\n                    }\n
    \               }\n                this.tryDrain();\n            }\n        };\n
    \       DelayedRunner.prototype.isPaused = function () {\n            return Object.keys(this.pauseDepths).length;\n
    \       };\n        DelayedRunner.prototype.tryDrain = function () {\n            if
    (!this.isRunning && !this.isPaused()) {\n                this.isRunning = true;\n
    \               while (this.isDirty) {\n                    this.isDirty = false;\n
    \                   this.drained(); // might set isDirty to true again\n                }\n
    \               this.isRunning = false;\n            }\n        };\n        DelayedRunner.prototype.clear
    = function () {\n            this.clearTimeout();\n            this.isDirty =
    false;\n            this.pauseDepths = {};\n        };\n        DelayedRunner.prototype.clearTimeout
    = function () {\n            if (this.timeoutId) {\n                clearTimeout(this.timeoutId);\n
    \               this.timeoutId = 0;\n            }\n        };\n        DelayedRunner.prototype.drained
    = function () {\n            if (this.drainedOption) {\n                this.drainedOption();\n
    \           }\n        };\n        return DelayedRunner;\n    }());\n\n    var
    TaskRunner = /** @class */ (function () {\n        function TaskRunner(runTaskOption,
    drainedOption) {\n            this.runTaskOption = runTaskOption;\n            this.drainedOption
    = drainedOption;\n            this.queue = [];\n            this.delayedRunner
    = new DelayedRunner(this.drain.bind(this));\n        }\n        TaskRunner.prototype.request
    = function (task, delay) {\n            this.queue.push(task);\n            this.delayedRunner.request(delay);\n
    \       };\n        TaskRunner.prototype.pause = function (scope) {\n            this.delayedRunner.pause(scope);\n
    \       };\n        TaskRunner.prototype.resume = function (scope, force) {\n
    \           this.delayedRunner.resume(scope, force);\n        };\n        TaskRunner.prototype.drain
    = function () {\n            var queue = this.queue;\n            while (queue.length)
    {\n                var completedTasks = [];\n                var task = void 0;\n
    \               while ((task = queue.shift())) {\n                    this.runTask(task);\n
    \                   completedTasks.push(task);\n                }\n                this.drained(completedTasks);\n
    \           } // keep going, in case new tasks were added in the drained handler\n
    \       };\n        TaskRunner.prototype.runTask = function (task) {\n            if
    (this.runTaskOption) {\n                this.runTaskOption(task);\n            }\n
    \       };\n        TaskRunner.prototype.drained = function (completedTasks) {\n
    \           if (this.drainedOption) {\n                this.drainedOption(completedTasks);\n
    \           }\n        };\n        return TaskRunner;\n    }());\n\n    // Computes
    what the title at the top of the calendarApi should be for this view\n    function
    buildTitle(dateProfile, viewOptions, dateEnv) {\n        var range;\n        //
    for views that span a large unit of time, show the proper interval, ignoring stray
    days before and after\n        if (/^(year|month)$/.test(dateProfile.currentRangeUnit))
    {\n            range = dateProfile.currentRange;\n        }\n        else { //
    for day units or smaller, use the actual day range\n            range = dateProfile.activeRange;\n
    \       }\n        return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat
    || buildTitleFormat(dateProfile)), {\n            isEndExclusive: dateProfile.isRangeAllDay,\n
    \           defaultSeparator: viewOptions.titleRangeSeparator,\n        });\n
    \   }\n    // Generates the format string that should be used to generate the
    title for the current date range.\n    // Attempts to compute the most appropriate
    format if not explicitly specified with `titleFormat`.\n    function buildTitleFormat(dateProfile)
    {\n        var currentRangeUnit = dateProfile.currentRangeUnit;\n        if (currentRangeUnit
    === 'year') {\n            return { year: 'numeric' };\n        }\n        if
    (currentRangeUnit === 'month') {\n            return { year: 'numeric', month:
    'long' }; // like \"September 2014\"\n        }\n        var days = diffWholeDays(dateProfile.currentRange.start,
    dateProfile.currentRange.end);\n        if (days !== null && days > 1) {\n            //
    multi-day range. shorter, like \"Sep 9 - 10 2014\"\n            return { year:
    'numeric', month: 'short', day: 'numeric' };\n        }\n        // one day. longer,
    like \"September 9 2014\"\n        return { year: 'numeric', month: 'long', day:
    'numeric' };\n    }\n\n    // in future refactor, do the redux-style function(state=initial)
    for initial-state\n    // also, whatever is happening in constructor, have it
    happen in action queue too\n    var CalendarDataManager = /** @class */ (function
    () {\n        function CalendarDataManager(props) {\n            var _this = this;\n
    \           this.computeOptionsData = memoize(this._computeOptionsData);\n            this.computeCurrentViewData
    = memoize(this._computeCurrentViewData);\n            this.organizeRawLocales
    = memoize(organizeRawLocales);\n            this.buildLocale = memoize(buildLocale);\n
    \           this.buildPluginHooks = buildBuildPluginHooks();\n            this.buildDateEnv
    = memoize(buildDateEnv);\n            this.buildTheme = memoize(buildTheme);\n
    \           this.parseToolbars = memoize(parseToolbars);\n            this.buildViewSpecs
    = memoize(buildViewSpecs);\n            this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n
    \           this.buildViewApi = memoize(buildViewApi);\n            this.buildViewUiProps
    = memoizeObjArg(buildViewUiProps);\n            this.buildEventUiBySource = memoize(buildEventUiBySource,
    isPropsEqual);\n            this.buildEventUiBases = memoize(buildEventUiBases);\n
    \           this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n
    \           this.buildTitle = memoize(buildTitle);\n            this.emitter =
    new Emitter();\n            this.actionRunner = new TaskRunner(this._handleAction.bind(this),
    this.updateData.bind(this));\n            this.currentCalendarOptionsInput = {};\n
    \           this.currentCalendarOptionsRefined = {};\n            this.currentViewOptionsInput
    = {};\n            this.currentViewOptionsRefined = {};\n            this.currentCalendarOptionsRefiners
    = {};\n            this.getCurrentData = function () { return _this.data; };\n
    \           this.dispatch = function (action) {\n                _this.actionRunner.request(action);
    // protects against recursive calls to _handleAction\n            };\n            this.props
    = props;\n            this.actionRunner.pause();\n            var dynamicOptionOverrides
    = {};\n            var optionsData = this.computeOptionsData(props.optionOverrides,
    dynamicOptionOverrides, props.calendarApi);\n            var currentViewType =
    optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n
    \           var currentViewData = this.computeCurrentViewData(currentViewType,
    optionsData, props.optionOverrides, dynamicOptionOverrides);\n            // wire
    things up\n            // TODO: not DRY\n            props.calendarApi.currentDataManager
    = this;\n            this.emitter.setThisContext(props.calendarApi);\n            this.emitter.setOptions(currentViewData.options);\n
    \           var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n
    \           var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n
    \           if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n
    \               currentDate = dateProfile.currentRange.start;\n            }\n
    \           var calendarContext = {\n                dateEnv: optionsData.dateEnv,\n
    \               options: optionsData.calendarOptions,\n                pluginHooks:
    optionsData.pluginHooks,\n                calendarApi: props.calendarApi,\n                dispatch:
    this.dispatch,\n                emitter: this.emitter,\n                getCurrentData:
    this.getCurrentData,\n            };\n            // needs to be after setThisContext\n
    \           for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length;
    _i++) {\n                var callback = _a[_i];\n                callback(calendarContext);\n
    \           }\n            // NOT DRY\n            var eventSources = initEventSources(optionsData.calendarOptions,
    dateProfile, calendarContext);\n            var initialState = {\n                dynamicOptionOverrides:
    dynamicOptionOverrides,\n                currentViewType: currentViewType,\n                currentDate:
    currentDate,\n                dateProfile: dateProfile,\n                businessHours:
    this.parseContextBusinessHours(calendarContext),\n                eventSources:
    eventSources,\n                eventUiBases: {},\n                eventStore:
    createEmptyEventStore(),\n                renderableEventStore: createEmptyEventStore(),\n
    \               dateSelection: null,\n                eventSelection: '',\n                eventDrag:
    null,\n                eventResize: null,\n                selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n
    \           };\n            var contextAndState = __assign(__assign({}, calendarContext),
    initialState);\n            for (var _b = 0, _c = optionsData.pluginHooks.reducers;
    _b < _c.length; _b++) {\n                var reducer = _c[_b];\n                __assign(initialState,
    reducer(null, null, contextAndState));\n            }\n            if (computeIsLoading(initialState,
    calendarContext)) {\n                this.emitter.trigger('loading', true); //
    NOT DRY\n            }\n            this.state = initialState;\n            this.updateData();\n
    \           this.actionRunner.resume();\n        }\n        CalendarDataManager.prototype.resetOptions
    = function (optionOverrides, append) {\n            var props = this.props;\n
    \           props.optionOverrides = append\n                ? __assign(__assign({},
    props.optionOverrides), optionOverrides) : optionOverrides;\n            this.actionRunner.request({\n
    \               type: 'NOTHING',\n            });\n        };\n        CalendarDataManager.prototype._handleAction
    = function (action) {\n            var _a = this, props = _a.props, state = _a.state,
    emitter = _a.emitter;\n            var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides,
    action);\n            var optionsData = this.computeOptionsData(props.optionOverrides,
    dynamicOptionOverrides, props.calendarApi);\n            var currentViewType =
    reduceViewType(state.currentViewType, action);\n            var currentViewData
    = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides,
    dynamicOptionOverrides);\n            // wire things up\n            // TODO:
    not DRY\n            props.calendarApi.currentDataManager = this;\n            emitter.setThisContext(props.calendarApi);\n
    \           emitter.setOptions(currentViewData.options);\n            var calendarContext
    = {\n                dateEnv: optionsData.dateEnv,\n                options: optionsData.calendarOptions,\n
    \               pluginHooks: optionsData.pluginHooks,\n                calendarApi:
    props.calendarApi,\n                dispatch: this.dispatch,\n                emitter:
    emitter,\n                getCurrentData: this.getCurrentData,\n            };\n
    \           var currentDate = state.currentDate, dateProfile = state.dateProfile;\n
    \           if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator)
    { // hack\n                dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n
    \           }\n            currentDate = reduceCurrentDate(currentDate, action);\n
    \           dateProfile = reduceDateProfile(dateProfile, action, currentDate,
    currentViewData.dateProfileGenerator);\n            if (action.type === 'PREV'
    || // TODO: move this logic into DateProfileGenerator\n                action.type
    === 'NEXT' || // \"\n                !rangeContainsMarker(dateProfile.currentRange,
    currentDate)) {\n                currentDate = dateProfile.currentRange.start;\n
    \           }\n            var eventSources = reduceEventSources(state.eventSources,
    action, dateProfile, calendarContext);\n            var eventStore = reduceEventStore(state.eventStore,
    action, eventSources, dateProfile, calendarContext);\n            var isEventsLoading
    = computeEventSourcesLoading(eventSources); // BAD. also called in this func in
    computeIsLoading\n            var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering)
    ?\n                (state.renderableEventStore || eventStore) : // try from previous
    state\n                eventStore;\n            var _b = this.buildViewUiProps(calendarContext),
    eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig;
    // will memoize obj\n            var eventUiBySource = this.buildEventUiBySource(eventSources);\n
    \           var eventUiBases = this.buildEventUiBases(renderableEventStore.defs,
    eventUiSingleBase, eventUiBySource);\n            var newState = {\n                dynamicOptionOverrides:
    dynamicOptionOverrides,\n                currentViewType: currentViewType,\n                currentDate:
    currentDate,\n                dateProfile: dateProfile,\n                eventSources:
    eventSources,\n                eventStore: eventStore,\n                renderableEventStore:
    renderableEventStore,\n                selectionConfig: selectionConfig,\n                eventUiBases:
    eventUiBases,\n                businessHours: this.parseContextBusinessHours(calendarContext),\n
    \               dateSelection: reduceDateSelection(state.dateSelection, action),\n
    \               eventSelection: reduceSelectedEvent(state.eventSelection, action),\n
    \               eventDrag: reduceEventDrag(state.eventDrag, action),\n                eventResize:
    reduceEventResize(state.eventResize, action),\n            };\n            var
    contextAndState = __assign(__assign({}, calendarContext), newState);\n            for
    (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n
    \               var reducer = _c[_i];\n                __assign(newState, reducer(state,
    action, contextAndState)); // give the OLD state, for old value\n            }\n
    \           var wasLoading = computeIsLoading(state, calendarContext);\n            var
    isLoading = computeIsLoading(newState, calendarContext);\n            // TODO:
    use propSetHandlers in plugin system\n            if (!wasLoading && isLoading)
    {\n                emitter.trigger('loading', true);\n            }\n            else
    if (wasLoading && !isLoading) {\n                emitter.trigger('loading', false);\n
    \           }\n            this.state = newState;\n            if (props.onAction)
    {\n                props.onAction(action);\n            }\n        };\n        CalendarDataManager.prototype.updateData
    = function () {\n            var _a = this, props = _a.props, state = _a.state;\n
    \           var oldData = this.data;\n            var optionsData = this.computeOptionsData(props.optionOverrides,
    state.dynamicOptionOverrides, props.calendarApi);\n            var currentViewData
    = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides,
    state.dynamicOptionOverrides);\n            var data = this.data = __assign(__assign(__assign({
    viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv),
    calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter,
    getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n
    \           var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n
    \           var oldCalendarOptions = oldData && oldData.calendarOptions;\n            var
    newCalendarOptions = optionsData.calendarOptions;\n            if (oldCalendarOptions
    && oldCalendarOptions !== newCalendarOptions) {\n                if (oldCalendarOptions.timeZone
    !== newCalendarOptions.timeZone) {\n                    // hack\n                    state.eventSources
    = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile,
    data);\n                    state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore,
    oldData.dateEnv, data.dateEnv);\n                }\n                for (var optionName
    in changeHandlers) {\n                    if (oldCalendarOptions[optionName] !==
    newCalendarOptions[optionName]) {\n                        changeHandlers[optionName](newCalendarOptions[optionName],
    data);\n                    }\n                }\n            }\n            if
    (props.onData) {\n                props.onData(data);\n            }\n        };\n
    \       CalendarDataManager.prototype._computeOptionsData = function (optionOverrides,
    dynamicOptionOverrides, calendarApi) {\n            // TODO: blacklist options
    that are handled by optionChangeHandlers\n            var _a = this.processRawCalendarOptions(optionOverrides,
    dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks,
    localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData,
    extra = _a.extra;\n            warnUnknownOptions(extra);\n            var dateEnv
    = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation,
    refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData,
    refinedOptions.defaultRangeSeparator);\n            var viewSpecs = this.buildViewSpecs(pluginHooks.views,
    optionOverrides, dynamicOptionOverrides, localeDefaults);\n            var theme
    = this.buildTheme(refinedOptions, pluginHooks);\n            var toolbarConfig
    = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n
    \           return {\n                calendarOptions: refinedOptions,\n                pluginHooks:
    pluginHooks,\n                dateEnv: dateEnv,\n                viewSpecs: viewSpecs,\n
    \               theme: theme,\n                toolbarConfig: toolbarConfig,\n
    \               localeDefaults: localeDefaults,\n                availableRawLocales:
    availableLocaleData.map,\n            };\n        };\n        // always called
    from behind a memoizer\n        CalendarDataManager.prototype.processRawCalendarOptions
    = function (optionOverrides, dynamicOptionOverrides) {\n            var _a = mergeRawOptions([\n
    \               BASE_OPTION_DEFAULTS,\n                optionOverrides,\n                dynamicOptionOverrides,\n
    \           ]), locales = _a.locales, locale = _a.locale;\n            var availableLocaleData
    = this.organizeRawLocales(locales);\n            var availableRawLocales = availableLocaleData.map;\n
    \           var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode,
    availableRawLocales).options;\n            var pluginHooks = this.buildPluginHooks(optionOverrides.plugins
    || [], globalPlugins);\n            var refiners = this.currentCalendarOptionsRefiners
    = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS),
    CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n
    \           var extra = {};\n            var raw = mergeRawOptions([\n                BASE_OPTION_DEFAULTS,\n
    \               localeDefaults,\n                optionOverrides,\n                dynamicOptionOverrides,\n
    \           ]);\n            var refined = {};\n            var currentRaw = this.currentCalendarOptionsInput;\n
    \           var currentRefined = this.currentCalendarOptionsRefined;\n            var
    anyChanges = false;\n            for (var optionName in raw) {\n                if
    (optionName !== 'plugins') { // because plugins is special-cased\n                    if
    (raw[optionName] === currentRaw[optionName] ||\n                        (COMPLEX_OPTION_COMPARATORS[optionName]
    &&\n                            (optionName in currentRaw) &&\n                            COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName],
    raw[optionName]))) {\n                        refined[optionName] = currentRefined[optionName];\n
    \                   }\n                    else if (refiners[optionName]) {\n
    \                       refined[optionName] = refiners[optionName](raw[optionName]);\n
    \                       anyChanges = true;\n                    }\n                    else
    {\n                        extra[optionName] = currentRaw[optionName];\n                    }\n
    \               }\n            }\n            if (anyChanges) {\n                this.currentCalendarOptionsInput
    = raw;\n                this.currentCalendarOptionsRefined = refined;\n            }\n
    \           return {\n                rawOptions: this.currentCalendarOptionsInput,\n
    \               refinedOptions: this.currentCalendarOptionsRefined,\n                pluginHooks:
    pluginHooks,\n                availableLocaleData: availableLocaleData,\n                localeDefaults:
    localeDefaults,\n                extra: extra,\n            };\n        };\n        CalendarDataManager.prototype._computeCurrentViewData
    = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n
    \           var viewSpec = optionsData.viewSpecs[viewType];\n            if (!viewSpec)
    {\n                throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not
    available. Please make sure you've loaded all neccessary plugins\");\n            }\n
    \           var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks,
    optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions
    = _a.refinedOptions, extra = _a.extra;\n            warnUnknownOptions(extra);\n
    \           var dateProfileGenerator = this.buildDateProfileGenerator({\n                dateProfileGeneratorClass:
    viewSpec.optionDefaults.dateProfileGeneratorClass,\n                duration:
    viewSpec.duration,\n                durationUnit: viewSpec.durationUnit,\n                usesMinMaxTime:
    viewSpec.optionDefaults.usesMinMaxTime,\n                dateEnv: optionsData.dateEnv,\n
    \               calendarApi: this.props.calendarApi,\n                slotMinTime:
    refinedOptions.slotMinTime,\n                slotMaxTime: refinedOptions.slotMaxTime,\n
    \               showNonCurrentDates: refinedOptions.showNonCurrentDates,\n                dayCount:
    refinedOptions.dayCount,\n                dateAlignment: refinedOptions.dateAlignment,\n
    \               dateIncrement: refinedOptions.dateIncrement,\n                hiddenDays:
    refinedOptions.hiddenDays,\n                weekends: refinedOptions.weekends,\n
    \               nowInput: refinedOptions.now,\n                validRangeInput:
    refinedOptions.validRange,\n                visibleRangeInput: refinedOptions.visibleRange,\n
    \               monthMode: refinedOptions.monthMode,\n                fixedWeekCount:
    refinedOptions.fixedWeekCount,\n            });\n            var viewApi = this.buildViewApi(viewType,
    this.getCurrentData, optionsData.dateEnv);\n            return { viewSpec: viewSpec,
    options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi:
    viewApi };\n        };\n        CalendarDataManager.prototype.processRawViewOptions
    = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides)
    {\n            var raw = mergeRawOptions([\n                BASE_OPTION_DEFAULTS,\n
    \               viewSpec.optionDefaults,\n                localeDefaults,\n                optionOverrides,\n
    \               viewSpec.optionOverrides,\n                dynamicOptionOverrides,\n
    \           ]);\n            var refiners = __assign(__assign(__assign(__assign(__assign(__assign({},
    BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS),
    VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n
    \           var refined = {};\n            var currentRaw = this.currentViewOptionsInput;\n
    \           var currentRefined = this.currentViewOptionsRefined;\n            var
    anyChanges = false;\n            var extra = {};\n            for (var optionName
    in raw) {\n                if (raw[optionName] === currentRaw[optionName]) {\n
    \                   refined[optionName] = currentRefined[optionName];\n                }\n
    \               else {\n                    if (raw[optionName] === this.currentCalendarOptionsInput[optionName])
    {\n                        if (optionName in this.currentCalendarOptionsRefined)
    { // might be an \"extra\" prop\n                            refined[optionName]
    = this.currentCalendarOptionsRefined[optionName];\n                        }\n
    \                   }\n                    else if (refiners[optionName]) {\n
    \                       refined[optionName] = refiners[optionName](raw[optionName]);\n
    \                   }\n                    else {\n                        extra[optionName]
    = raw[optionName];\n                    }\n                    anyChanges = true;\n
    \               }\n            }\n            if (anyChanges) {\n                this.currentViewOptionsInput
    = raw;\n                this.currentViewOptionsRefined = refined;\n            }\n
    \           return {\n                rawOptions: this.currentViewOptionsInput,\n
    \               refinedOptions: this.currentViewOptionsRefined,\n                extra:
    extra,\n            };\n        };\n        return CalendarDataManager;\n    }());\n
    \   function buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay,
    weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n        var locale
    = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n
    \       return new DateEnv({\n            calendarSystem: 'gregory',\n            timeZone:
    timeZone,\n            namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n            locale:
    locale,\n            weekNumberCalculation: weekNumberCalculation,\n            firstDay:
    firstDay,\n            weekText: weekText,\n            cmdFormatter: pluginHooks.cmdFormatter,\n
    \           defaultSeparator: defaultSeparator,\n        });\n    }\n    function
    buildTheme(options, pluginHooks) {\n        var ThemeClass = pluginHooks.themeClasses[options.themeSystem]
    || StandardTheme;\n        return new ThemeClass(options);\n    }\n    function
    buildDateProfileGenerator(props) {\n        var DateProfileGeneratorClass = props.dateProfileGeneratorClass
    || DateProfileGenerator;\n        return new DateProfileGeneratorClass(props);\n
    \   }\n    function buildViewApi(type, getCurrentData, dateEnv) {\n        return
    new ViewApi(type, getCurrentData, dateEnv);\n    }\n    function buildEventUiBySource(eventSources)
    {\n        return mapHash(eventSources, function (eventSource) { return eventSource.ui;
    });\n    }\n    function buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource)
    {\n        var eventUiBases = { '': eventUiSingleBase };\n        for (var defId
    in eventDefs) {\n            var def = eventDefs[defId];\n            if (def.sourceId
    && eventUiBySource[def.sourceId]) {\n                eventUiBases[defId] = eventUiBySource[def.sourceId];\n
    \           }\n        }\n        return eventUiBases;\n    }\n    function buildViewUiProps(calendarContext)
    {\n        var options = calendarContext.options;\n        return {\n            eventUiSingleBase:
    createEventUi({\n                display: options.eventDisplay,\n                editable:
    options.editable,\n                startEditable: options.eventStartEditable,\n
    \               durationEditable: options.eventDurationEditable,\n                constraint:
    options.eventConstraint,\n                overlap: typeof options.eventOverlap
    === 'boolean' ? options.eventOverlap : undefined,\n                allow: options.eventAllow,\n
    \               backgroundColor: options.eventBackgroundColor,\n                borderColor:
    options.eventBorderColor,\n                textColor: options.eventTextColor,\n
    \               color: options.eventColor,\n                // classNames: options.eventClassNames
    // render hook will handle this\n            }, calendarContext),\n            selectionConfig:
    createEventUi({\n                constraint: options.selectConstraint,\n                overlap:
    typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n
    \               allow: options.selectAllow,\n            }, calendarContext),\n
    \       };\n    }\n    function computeIsLoading(state, context) {\n        for
    (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n
    \           var isLoadingFunc = _a[_i];\n            if (isLoadingFunc(state))
    {\n                return true;\n            }\n        }\n        return false;\n
    \   }\n    function parseContextBusinessHours(calendarContext) {\n        return
    parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n
    \   }\n    function warnUnknownOptions(options, viewName) {\n        for (var
    optionName in options) {\n            console.warn(\"Unknown option '\" + optionName
    + \"'\" +\n                (viewName ? \" for view '\" + viewName + \"'\" : ''));\n
    \       }\n    }\n\n    // TODO: move this to react plugin?\n    var CalendarDataProvider
    = /** @class */ (function (_super) {\n        __extends(CalendarDataProvider,
    _super);\n        function CalendarDataProvider(props) {\n            var _this
    = _super.call(this, props) || this;\n            _this.handleData = function (data)
    {\n                if (!_this.dataManager) { // still within initial run, before
    assignment in constructor\n                    // eslint-disable-next-line react/no-direct-mutation-state\n
    \                   _this.state = data; // can't use setState yet\n                }\n
    \               else {\n                    _this.setState(data);\n                }\n
    \           };\n            _this.dataManager = new CalendarDataManager({\n                optionOverrides:
    props.optionOverrides,\n                calendarApi: props.calendarApi,\n                onData:
    _this.handleData,\n            });\n            return _this;\n        }\n        CalendarDataProvider.prototype.render
    = function () {\n            return this.props.children(this.state);\n        };\n
    \       CalendarDataProvider.prototype.componentDidUpdate = function (prevProps)
    {\n            var newOptionOverrides = this.props.optionOverrides;\n            if
    (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n
    \               this.dataManager.resetOptions(newOptionOverrides);\n            }\n
    \       };\n        return CalendarDataProvider;\n    }(Component));\n\n    //
    HELPERS\n    /*\n    if nextDayThreshold is specified, slicing is done in an all-day
    fashion.\n    you can get nextDayThreshold from context.nextDayThreshold\n    */\n
    \   function sliceEvents(props, allDay) {\n        return sliceEventStore(props.eventStore,
    props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold
    : null).fg;\n    }\n\n    var NamedTimeZoneImpl = /** @class */ (function () {\n
    \       function NamedTimeZoneImpl(timeZoneName) {\n            this.timeZoneName
    = timeZoneName;\n        }\n        return NamedTimeZoneImpl;\n    }());\n\n    var
    SegHierarchy = /** @class */ (function () {\n        function SegHierarchy() {\n
    \           // settings\n            this.strictOrder = false;\n            this.allowReslicing
    = false;\n            this.maxCoord = -1; // -1 means no max\n            this.maxStackCnt
    = -1; // -1 means no max\n            this.levelCoords = []; // ordered\n            this.entriesByLevel
    = []; // parallel with levelCoords\n            this.stackCnts = {}; // TODO:
    use better technique!?\n        }\n        SegHierarchy.prototype.addSegs = function
    (inputs) {\n            var hiddenEntries = [];\n            for (var _i = 0,
    inputs_1 = inputs; _i < inputs_1.length; _i++) {\n                var input =
    inputs_1[_i];\n                this.insertEntry(input, hiddenEntries);\n            }\n
    \           return hiddenEntries;\n        };\n        SegHierarchy.prototype.insertEntry
    = function (entry, hiddenEntries) {\n            var insertion = this.findInsertion(entry);\n
    \           if (this.isInsertionValid(insertion, entry)) {\n                this.insertEntryAt(entry,
    insertion);\n                return 1;\n            }\n            return this.handleInvalidInsertion(insertion,
    entry, hiddenEntries);\n        };\n        SegHierarchy.prototype.isInsertionValid
    = function (insertion, entry) {\n            return (this.maxCoord === -1 || insertion.levelCoord
    + entry.thickness <= this.maxCoord) &&\n                (this.maxStackCnt ===
    -1 || insertion.stackCnt < this.maxStackCnt);\n        };\n        // returns
    number of new entries inserted\n        SegHierarchy.prototype.handleInvalidInsertion
    = function (insertion, entry, hiddenEntries) {\n            if (this.allowReslicing
    && insertion.touchingEntry) {\n                return this.splitEntry(entry, insertion.touchingEntry,
    hiddenEntries);\n            }\n            hiddenEntries.push(entry);\n            return
    0;\n        };\n        SegHierarchy.prototype.splitEntry = function (entry, barrier,
    hiddenEntries) {\n            var partCnt = 0;\n            var splitHiddenEntries
    = [];\n            var entrySpan = entry.span;\n            var barrierSpan =
    barrier.span;\n            if (entrySpan.start < barrierSpan.start) {\n                partCnt
    += this.insertEntry({\n                    index: entry.index,\n                    thickness:
    entry.thickness,\n                    span: { start: entrySpan.start, end: barrierSpan.start
    },\n                }, splitHiddenEntries);\n            }\n            if (entrySpan.end
    > barrierSpan.end) {\n                partCnt += this.insertEntry({\n                    index:
    entry.index,\n                    thickness: entry.thickness,\n                    span:
    { start: barrierSpan.end, end: entrySpan.end },\n                }, splitHiddenEntries);\n
    \           }\n            if (partCnt) {\n                hiddenEntries.push.apply(hiddenEntries,
    __spreadArray([{\n                        index: entry.index,\n                        thickness:
    entry.thickness,\n                        span: intersectSpans(barrierSpan, entrySpan),
    // guaranteed to intersect\n                    }], splitHiddenEntries));\n                return
    partCnt;\n            }\n            hiddenEntries.push(entry);\n            return
    0;\n        };\n        SegHierarchy.prototype.insertEntryAt = function (entry,
    insertion) {\n            var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords
    = _a.levelCoords;\n            if (insertion.lateral === -1) {\n                //
    create a new level\n                insertAt(levelCoords, insertion.level, insertion.levelCoord);\n
    \               insertAt(entriesByLevel, insertion.level, [entry]);\n            }\n
    \           else {\n                // insert into existing level\n                insertAt(entriesByLevel[insertion.level],
    insertion.lateral, entry);\n            }\n            this.stackCnts[buildEntryKey(entry)]
    = insertion.stackCnt;\n        };\n        SegHierarchy.prototype.findInsertion
    = function (newEntry) {\n            var _a = this, levelCoords = _a.levelCoords,
    entriesByLevel = _a.entriesByLevel, strictOrder = _a.strictOrder, stackCnts =
    _a.stackCnts;\n            var levelCnt = levelCoords.length;\n            var
    candidateCoord = 0;\n            var touchingLevel = -1;\n            var touchingLateral
    = -1;\n            var touchingEntry = null;\n            var stackCnt = 0;\n
    \           for (var trackingLevel = 0; trackingLevel < levelCnt; trackingLevel
    += 1) {\n                var trackingCoord = levelCoords[trackingLevel];\n                //
    if the current level is past the placed entry, we have found a good empty space
    and can stop.\n                // if strictOrder, keep finding more lateral intersections.\n
    \               if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness)
    {\n                    break;\n                }\n                var trackingEntries
    = entriesByLevel[trackingLevel];\n                var trackingEntry = void 0;\n
    \               var searchRes = binarySearch(trackingEntries, newEntry.span.start,
    getEntrySpanEnd); // find first entry after newEntry's end\n                var
    lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide),
    go to next one\n                while ( // loop through entries that horizontally
    intersect\n                (trackingEntry = trackingEntries[lateralIndex]) &&
    // but not past the whole entry list\n                    trackingEntry.span.start
    < newEntry.span.end // and not entirely past newEntry\n                ) {\n                    var
    trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                    //
    intersects into the top of the candidate?\n                    if (trackingEntryBottom
    > candidateCoord) {\n                        candidateCoord = trackingEntryBottom;\n
    \                       touchingEntry = trackingEntry;\n                        touchingLevel
    = trackingLevel;\n                        touchingLateral = lateralIndex;\n                    }\n
    \                   // butts up against top of candidate? (will happen if just
    intersected as well)\n                    if (trackingEntryBottom === candidateCoord)
    {\n                        // accumulate the highest possible stackCnt of the
    trackingEntries that butt up\n                        stackCnt = Math.max(stackCnt,
    stackCnts[buildEntryKey(trackingEntry)] + 1);\n                    }\n                    lateralIndex
    += 1;\n                }\n            }\n            // the destination level
    will be after touchingEntry's level. find it\n            var destLevel = 0;\n
    \           if (touchingEntry) {\n                destLevel = touchingLevel +
    1;\n                while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord)
    {\n                    destLevel += 1;\n                }\n            }\n            //
    if adding to an existing level, find where to insert\n            var destLateral
    = -1;\n            if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord)
    {\n                destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end,
    getEntrySpanEnd)[0];\n            }\n            return {\n                touchingLevel:
    touchingLevel,\n                touchingLateral: touchingLateral,\n                touchingEntry:
    touchingEntry,\n                stackCnt: stackCnt,\n                levelCoord:
    candidateCoord,\n                level: destLevel,\n                lateral: destLateral,\n
    \           };\n        };\n        // sorted by levelCoord (lowest to highest)\n
    \       SegHierarchy.prototype.toRects = function () {\n            var _a = this,
    entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n            var
    levelCnt = entriesByLevel.length;\n            var rects = [];\n            for
    (var level = 0; level < levelCnt; level += 1) {\n                var entries =
    entriesByLevel[level];\n                var levelCoord = levelCoords[level];\n
    \               for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++)
    {\n                    var entry = entries_1[_i];\n                    rects.push(__assign(__assign({},
    entry), { levelCoord: levelCoord }));\n                }\n            }\n            return
    rects;\n        };\n        return SegHierarchy;\n    }());\n    function getEntrySpanEnd(entry)
    {\n        return entry.span.end;\n    }\n    function buildEntryKey(entry) {\n
    \       return entry.index + ':' + entry.span.start;\n    }\n    // returns groups
    with entries sorted by input order\n    function groupIntersectingEntries(entries)
    {\n        var merges = [];\n        for (var _i = 0, entries_2 = entries; _i
    < entries_2.length; _i++) {\n            var entry = entries_2[_i];\n            var
    filteredMerges = [];\n            var hungryMerge = {\n                span: entry.span,\n
    \               entries: [entry],\n            };\n            for (var _a = 0,
    merges_1 = merges; _a < merges_1.length; _a++) {\n                var merge =
    merges_1[_a];\n                if (intersectSpans(merge.span, hungryMerge.span))
    {\n                    hungryMerge = {\n                        entries: merge.entries.concat(hungryMerge.entries),\n
    \                       span: joinSpans(merge.span, hungryMerge.span),\n                    };\n
    \               }\n                else {\n                    filteredMerges.push(merge);\n
    \               }\n            }\n            filteredMerges.push(hungryMerge);\n
    \           merges = filteredMerges;\n        }\n        return merges;\n    }\n
    \   function joinSpans(span0, span1) {\n        return {\n            start: Math.min(span0.start,
    span1.start),\n            end: Math.max(span0.end, span1.end),\n        };\n
    \   }\n    function intersectSpans(span0, span1) {\n        var start = Math.max(span0.start,
    span1.start);\n        var end = Math.min(span0.end, span1.end);\n        if (start
    < end) {\n            return { start: start, end: end };\n        }\n        return
    null;\n    }\n    // general util\n    // ---------------------------------------------------------------------------------------------------------------------\n
    \   function insertAt(arr, index, item) {\n        arr.splice(index, 0, item);\n
    \   }\n    function binarySearch(a, searchVal, getItemVal) {\n        var startIndex
    = 0;\n        var endIndex = a.length; // exclusive\n        if (!endIndex ||
    searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n            return
    [0, 0];\n        }\n        if (searchVal > getItemVal(a[endIndex - 1])) { //
    after last item\n            return [endIndex, 0];\n        }\n        while (startIndex
    < endIndex) {\n            var middleIndex = Math.floor(startIndex + (endIndex
    - startIndex) / 2);\n            var middleVal = getItemVal(a[middleIndex]);\n
    \           if (searchVal < middleVal) {\n                endIndex = middleIndex;\n
    \           }\n            else if (searchVal > middleVal) {\n                startIndex
    = middleIndex + 1;\n            }\n            else { // equal!\n                return
    [middleIndex, 1];\n            }\n        }\n        return [startIndex, 0];\n
    \   }\n\n    var Interaction = /** @class */ (function () {\n        function
    Interaction(settings) {\n            this.component = settings.component;\n            this.isHitComboAllowed
    = settings.isHitComboAllowed || null;\n        }\n        Interaction.prototype.destroy
    = function () {\n        };\n        return Interaction;\n    }());\n    function
    parseInteractionSettings(component, input) {\n        return {\n            component:
    component,\n            el: input.el,\n            useEventCenter: input.useEventCenter
    != null ? input.useEventCenter : true,\n            isHitComboAllowed: input.isHitComboAllowed
    || null,\n        };\n    }\n    function interactionSettingsToStore(settings)
    {\n        var _a;\n        return _a = {},\n            _a[settings.component.uid]
    = settings,\n            _a;\n    }\n    // global state\n    var interactionSettingsStore
    = {};\n\n    /*\n    An abstraction for a dragging interaction originating on
    an event.\n    Does higher-level things than PointerDragger, such as possibly:\n
    \   - a \"mirror\" that moves with the pointer\n    - a minimum number of pixels
    or other criteria for a true drag to begin\n\n    subclasses must emit:\n    -
    pointerdown\n    - dragstart\n    - dragmove\n    - pointerup\n    - dragend\n
    \   */\n    var ElementDragging = /** @class */ (function () {\n        function
    ElementDragging(el, selector) {\n            this.emitter = new Emitter();\n        }\n
    \       ElementDragging.prototype.destroy = function () {\n        };\n        ElementDragging.prototype.setMirrorIsVisible
    = function (bool) {\n            // optional if subclass doesn't want to support
    a mirror\n        };\n        ElementDragging.prototype.setMirrorNeedsRevert =
    function (bool) {\n            // optional if subclass doesn't want to support
    a mirror\n        };\n        ElementDragging.prototype.setAutoScrollEnabled =
    function (bool) {\n            // optional\n        };\n        return ElementDragging;\n
    \   }());\n\n    // TODO: get rid of this in favor of options system,\n    //
    tho it's really easy to access this globally rather than pass thru options.\n
    \   var config = {};\n\n    /*\n    Information about what will happen when an
    external element is dragged-and-dropped\n    onto a calendar. Contains information
    for creating an event.\n    */\n    var DRAG_META_REFINERS = {\n        startTime:
    createDuration,\n        duration: createDuration,\n        create: Boolean,\n
    \       sourceId: String,\n    };\n    function parseDragMeta(raw) {\n        var
    _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n
    \       return {\n            startTime: refined.startTime || null,\n            duration:
    refined.duration || null,\n            create: refined.create != null ? refined.create
    : true,\n            sourceId: refined.sourceId,\n            leftoverProps: extra,\n
    \       };\n    }\n\n    var ToolbarSection = /** @class */ (function (_super)
    {\n        __extends(ToolbarSection, _super);\n        function ToolbarSection()
    {\n            return _super !== null && _super.apply(this, arguments) || this;\n
    \       }\n        ToolbarSection.prototype.render = function () {\n            var
    _this = this;\n            var children = this.props.widgetGroups.map(function
    (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n            return
    createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk'
    }], children));\n        };\n        ToolbarSection.prototype.renderWidgetGroup
    = function (widgetGroup) {\n            var props = this.props;\n            var
    theme = this.context.theme;\n            var children = [];\n            var isOnlyButtons
    = true;\n            for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length;
    _i++) {\n                var widget = widgetGroup_1[_i];\n                var
    buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText =
    widget.buttonText, buttonIcon = widget.buttonIcon;\n                if (buttonName
    === 'title') {\n                    isOnlyButtons = false;\n                    children.push(createElement(\"h2\",
    { className: \"fc-toolbar-title\" }, props.title));\n                }\n                else
    {\n                    var ariaAttrs = buttonIcon ? { 'aria-label': buttonName
    } : {};\n                    var buttonClasses = [\"fc-\" + buttonName + \"-button\",
    theme.getClass('button')];\n                    if (buttonName === props.activeButton)
    {\n                        buttonClasses.push(theme.getClass('buttonActive'));\n
    \                   }\n                    var isDisabled = (!props.isTodayEnabled
    && buttonName === 'today') ||\n                        (!props.isPrevEnabled &&
    buttonName === 'prev') ||\n                        (!props.isNextEnabled && buttonName
    === 'next');\n                    children.push(createElement(\"button\", __assign({
    disabled: isDisabled, className: buttonClasses.join(' '), onClick: buttonClick,
    type: \"button\" }, ariaAttrs), buttonText || (buttonIcon ? createElement(\"span\",
    { className: buttonIcon }) : '')));\n                }\n            }\n            if
    (children.length > 1) {\n                var groupClassName = (isOnlyButtons &&
    theme.getClass('buttonGroup')) || '';\n                return createElement.apply(void
    0, __spreadArray(['div', { className: groupClassName }], children));\n            }\n
    \           return children[0];\n        };\n        return ToolbarSection;\n
    \   }(BaseComponent));\n\n    var Toolbar = /** @class */ (function (_super) {\n
    \       __extends(Toolbar, _super);\n        function Toolbar() {\n            return
    _super !== null && _super.apply(this, arguments) || this;\n        }\n        Toolbar.prototype.render
    = function () {\n            var _a = this.props, model = _a.model, extraClassName
    = _a.extraClassName;\n            var forceLtr = false;\n            var startContent;\n
    \           var endContent;\n            var centerContent = model.center;\n            if
    (model.left) {\n                forceLtr = true;\n                startContent
    = model.left;\n            }\n            else {\n                startContent
    = model.start;\n            }\n            if (model.right) {\n                forceLtr
    = true;\n                endContent = model.right;\n            }\n            else
    {\n                endContent = model.end;\n            }\n            var classNames
    = [\n                extraClassName || '',\n                'fc-toolbar',\n                forceLtr
    ? 'fc-toolbar-ltr' : '',\n            ];\n            return (createElement(\"div\",
    { className: classNames.join(' ') },\n                this.renderSection('start',
    startContent || []),\n                this.renderSection('center', centerContent
    || []),\n                this.renderSection('end', endContent || [])));\n        };\n
    \       Toolbar.prototype.renderSection = function (key, widgetGroups) {\n            var
    props = this.props;\n            return (createElement(ToolbarSection, { key:
    key, widgetGroups: widgetGroups, title: props.title, activeButton: props.activeButton,
    isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled:
    props.isNextEnabled }));\n        };\n        return Toolbar;\n    }(BaseComponent));\n\n
    \   // TODO: do function component?\n    var ViewContainer = /** @class */ (function
    (_super) {\n        __extends(ViewContainer, _super);\n        function ViewContainer()
    {\n            var _this = _super !== null && _super.apply(this, arguments) ||
    this;\n            _this.state = {\n                availableWidth: null,\n            };\n
    \           _this.handleEl = function (el) {\n                _this.el = el;\n
    \               setRef(_this.props.elRef, el);\n                _this.updateAvailableWidth();\n
    \           };\n            _this.handleResize = function () {\n                _this.updateAvailableWidth();\n
    \           };\n            return _this;\n        }\n        ViewContainer.prototype.render
    = function () {\n            var _a = this, props = _a.props, state = _a.state;\n
    \           var aspectRatio = props.aspectRatio;\n            var classNames =
    [\n                'fc-view-harness',\n                (aspectRatio || props.liquid
    || props.height)\n                    ? 'fc-view-harness-active' // harness controls
    the height\n                    : 'fc-view-harness-passive', // let the view do
    the height\n            ];\n            var height = '';\n            var paddingBottom
    = '';\n            if (aspectRatio) {\n                if (state.availableWidth
    !== null) {\n                    height = state.availableWidth / aspectRatio;\n
    \               }\n                else {\n                    // while waiting
    to know availableWidth, we can't set height to *zero*\n                    //
    because will cause lots of unnecessary scrollbars within scrollgrid.\n                    //
    BETTER: don't start rendering ANYTHING yet until we know container width\n                    //
    NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n
    \                   paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n                }\n
    \           }\n            else {\n                height = props.height || '';\n
    \           }\n            return (createElement(\"div\", { ref: this.handleEl,
    onClick: props.onClick, className: classNames.join(' '), style: { height: height,
    paddingBottom: paddingBottom } }, props.children));\n        };\n        ViewContainer.prototype.componentDidMount
    = function () {\n            this.context.addResizeHandler(this.handleResize);\n
    \       };\n        ViewContainer.prototype.componentWillUnmount = function ()
    {\n            this.context.removeResizeHandler(this.handleResize);\n        };\n
    \       ViewContainer.prototype.updateAvailableWidth = function () {\n            if
    (this.el && // needed. but why?\n                this.props.aspectRatio // aspectRatio
    is the only height setting that needs availableWidth\n            ) {\n                this.setState({
    availableWidth: this.el.offsetWidth });\n            }\n        };\n        return
    ViewContainer;\n    }(BaseComponent));\n\n    /*\n    Detects when the user clicks
    on an event within a DateComponent\n    */\n    var EventClicking = /** @class
    */ (function (_super) {\n        __extends(EventClicking, _super);\n        function
    EventClicking(settings) {\n            var _this = _super.call(this, settings)
    || this;\n            _this.handleSegClick = function (ev, segEl) {\n                var
    component = _this.component;\n                var context = component.context;\n
    \               var seg = getElSeg(segEl);\n                if (seg && // might
    be the <div> surrounding the more link\n                    component.isValidSegDownEl(ev.target))
    {\n                    // our way to simulate a link click for elements that can't
    be <a> tags\n                    // grab before trigger fired in case trigger
    trashes DOM thru rerendering\n                    var hasUrlContainer = elementClosest(ev.target,
    '.fc-event-forced-url');\n                    var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href
    : '';\n                    context.emitter.trigger('eventClick', {\n                        el:
    segEl,\n                        event: new EventApi(component.context, seg.eventRange.def,
    seg.eventRange.instance),\n                        jsEvent: ev,\n                        view:
    context.viewApi,\n                    });\n                    if (url && !ev.defaultPrevented)
    {\n                        window.location.href = url;\n                    }\n
    \               }\n            };\n            _this.destroy = listenBySelector(settings.el,
    'click', '.fc-event', // on both fg and bg events\n            _this.handleSegClick);\n
    \           return _this;\n        }\n        return EventClicking;\n    }(Interaction));\n\n
    \   /*\n    Triggers events and adds/removes core classNames when the user's pointer\n
    \   enters/leaves event-elements of a component.\n    */\n    var EventHovering
    = /** @class */ (function (_super) {\n        __extends(EventHovering, _super);\n
    \       function EventHovering(settings) {\n            var _this = _super.call(this,
    settings) || this;\n            // for simulating an eventMouseLeave when the
    event el is destroyed while mouse is over it\n            _this.handleEventElRemove
    = function (el) {\n                if (el === _this.currentSegEl) {\n                    _this.handleSegLeave(null,
    _this.currentSegEl);\n                }\n            };\n            _this.handleSegEnter
    = function (ev, segEl) {\n                if (getElSeg(segEl)) { // TODO: better
    way to make sure not hovering over more+ link or its wrapper\n                    _this.currentSegEl
    = segEl;\n                    _this.triggerEvent('eventMouseEnter', ev, segEl);\n
    \               }\n            };\n            _this.handleSegLeave = function
    (ev, segEl) {\n                if (_this.currentSegEl) {\n                    _this.currentSegEl
    = null;\n                    _this.triggerEvent('eventMouseLeave', ev, segEl);\n
    \               }\n            };\n            _this.removeHoverListeners = listenToHoverBySelector(settings.el,
    '.fc-event', // on both fg and bg events\n            _this.handleSegEnter, _this.handleSegLeave);\n
    \           return _this;\n        }\n        EventHovering.prototype.destroy
    = function () {\n            this.removeHoverListeners();\n        };\n        EventHovering.prototype.triggerEvent
    = function (publicEvName, ev, segEl) {\n            var component = this.component;\n
    \           var context = component.context;\n            var seg = getElSeg(segEl);\n
    \           if (!ev || component.isValidSegDownEl(ev.target)) {\n                context.emitter.trigger(publicEvName,
    {\n                    el: segEl,\n                    event: new EventApi(context,
    seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n
    \                   view: context.viewApi,\n                });\n            }\n
    \       };\n        return EventHovering;\n    }(Interaction));\n\n    var CalendarContent
    = /** @class */ (function (_super) {\n        __extends(CalendarContent, _super);\n
    \       function CalendarContent() {\n            var _this = _super !== null
    && _super.apply(this, arguments) || this;\n            _this.buildViewContext
    = memoize(buildViewContext);\n            _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n
    \           _this.buildToolbarProps = memoize(buildToolbarProps);\n            _this.handleNavLinkClick
    = buildDelegationHandler('a[data-navlink]', _this._handleNavLinkClick.bind(_this));\n
    \           _this.headerRef = createRef();\n            _this.footerRef = createRef();\n
    \           _this.interactionsStore = {};\n            // Component Registration\n
    \           // -----------------------------------------------------------------------------------------------------------------\n
    \           _this.registerInteractiveComponent = function (component, settingsInput)
    {\n                var settings = parseInteractionSettings(component, settingsInput);\n
    \               var DEFAULT_INTERACTIONS = [\n                    EventClicking,\n
    \                   EventHovering,\n                ];\n                var interactionClasses
    = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n
    \               var interactions = interactionClasses.map(function (TheInteractionClass)
    { return new TheInteractionClass(settings); });\n                _this.interactionsStore[component.uid]
    = interactions;\n                interactionSettingsStore[component.uid] = settings;\n
    \           };\n            _this.unregisterInteractiveComponent = function (component)
    {\n                for (var _i = 0, _a = _this.interactionsStore[component.uid];
    _i < _a.length; _i++) {\n                    var listener = _a[_i];\n                    listener.destroy();\n
    \               }\n                delete _this.interactionsStore[component.uid];\n
    \               delete interactionSettingsStore[component.uid];\n            };\n
    \           // Resizing\n            // -----------------------------------------------------------------------------------------------------------------\n
    \           _this.resizeRunner = new DelayedRunner(function () {\n                _this.props.emitter.trigger('_resize',
    true); // should window resizes be considered \"forced\" ?\n                _this.props.emitter.trigger('windowResize',
    { view: _this.props.viewApi });\n            });\n            _this.handleWindowResize
    = function (ev) {\n                var options = _this.props.options;\n                if
    (options.handleWindowResize &&\n                    ev.target === window // avoid
    jqui events\n                ) {\n                    _this.resizeRunner.request(options.windowResizeDelay);\n
    \               }\n            };\n            return _this;\n        }\n        /*\n
    \       renders INSIDE of an outer div\n        */\n        CalendarContent.prototype.render
    = function () {\n            var props = this.props;\n            var toolbarConfig
    = props.toolbarConfig, options = props.options;\n            var toolbarProps
    = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator,
    props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n
    \           props.viewTitle);\n            var viewVGrow = false;\n            var
    viewHeight = '';\n            var viewAspectRatio;\n            if (props.isHeightAuto
    || props.forPrint) {\n                viewHeight = '';\n            }\n            else
    if (options.height != null) {\n                viewVGrow = true;\n            }\n
    \           else if (options.contentHeight != null) {\n                viewHeight
    = options.contentHeight;\n            }\n            else {\n                viewAspectRatio
    = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n            }\n
    \           var viewContext = this.buildViewContext(props.viewSpec, props.viewApi,
    props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks,
    props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent,
    this.unregisterInteractiveComponent);\n            return (createElement(ViewContextType.Provider,
    { value: viewContext },\n                toolbarConfig.headerToolbar && (createElement(Toolbar,
    __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model:
    toolbarConfig.headerToolbar }, toolbarProps))),\n                createElement(ViewContainer,
    { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, onClick:
    this.handleNavLinkClick },\n                    this.renderView(props),\n                    this.buildAppendContent()),\n
    \               toolbarConfig.footerToolbar && (createElement(Toolbar, __assign({
    ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footerToolbar
    }, toolbarProps)))));\n        };\n        CalendarContent.prototype.componentDidMount
    = function () {\n            var props = this.props;\n            this.calendarInteractions
    = props.pluginHooks.calendarInteractions\n                .map(function (CalendarInteractionClass)
    { return new CalendarInteractionClass(props); });\n            window.addEventListener('resize',
    this.handleWindowResize);\n            var propSetHandlers = props.pluginHooks.propSetHandlers;\n
    \           for (var propName in propSetHandlers) {\n                propSetHandlers[propName](props[propName],
    props);\n            }\n        };\n        CalendarContent.prototype.componentDidUpdate
    = function (prevProps) {\n            var props = this.props;\n            var
    propSetHandlers = props.pluginHooks.propSetHandlers;\n            for (var propName
    in propSetHandlers) {\n                if (props[propName] !== prevProps[propName])
    {\n                    propSetHandlers[propName](props[propName], props);\n                }\n
    \           }\n        };\n        CalendarContent.prototype.componentWillUnmount
    = function () {\n            window.removeEventListener('resize', this.handleWindowResize);\n
    \           this.resizeRunner.clear();\n            for (var _i = 0, _a = this.calendarInteractions;
    _i < _a.length; _i++) {\n                var interaction = _a[_i];\n                interaction.destroy();\n
    \           }\n            this.props.emitter.trigger('_unmount');\n        };\n
    \       CalendarContent.prototype._handleNavLinkClick = function (ev, anchorEl)
    {\n            var _a = this.props, dateEnv = _a.dateEnv, options = _a.options,
    calendarApi = _a.calendarApi;\n            var navLinkOptions = anchorEl.getAttribute('data-navlink');\n
    \           navLinkOptions = navLinkOptions ? JSON.parse(navLinkOptions) : {};\n
    \           var dateMarker = dateEnv.createMarker(navLinkOptions.date);\n            var
    viewType = navLinkOptions.type;\n            var customAction = viewType === 'day'
    ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick
    : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi,
    dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if
    (typeof customAction === 'string') {\n                    viewType = customAction;\n
    \               }\n                calendarApi.zoomTo(dateMarker, viewType);\n
    \           }\n        };\n        CalendarContent.prototype.buildAppendContent
    = function () {\n            var props = this.props;\n            var children
    = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return
    buildAppendContent(props); });\n            return createElement.apply(void 0,
    __spreadArray([Fragment, {}], children));\n        };\n        CalendarContent.prototype.renderView
    = function (props) {\n            var pluginHooks = props.pluginHooks;\n            var
    viewSpec = props.viewSpec;\n            var viewProps = {\n                dateProfile:
    props.dateProfile,\n                businessHours: props.businessHours,\n                eventStore:
    props.renderableEventStore,\n                eventUiBases: props.eventUiBases,\n
    \               dateSelection: props.dateSelection,\n                eventSelection:
    props.eventSelection,\n                eventDrag: props.eventDrag,\n                eventResize:
    props.eventResize,\n                isHeightAuto: props.isHeightAuto,\n                forPrint:
    props.forPrint,\n            };\n            var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n
    \           for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length;
    _i++) {\n                var transformer = transformers_1[_i];\n                __assign(viewProps,
    transformer.transform(viewProps, props));\n            }\n            var ViewComponent
    = viewSpec.component;\n            return (createElement(ViewComponent, __assign({},
    viewProps)));\n        };\n        return CalendarContent;\n    }(PureComponent));\n
    \   function buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate,
    now, title) {\n        // don't force any date-profiles to valid date profiles
    (the `false`) so that we can tell if it's invalid\n        var todayInfo = dateProfileGenerator.build(now,
    undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n
    \       var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate,
    false);\n        var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate,
    false);\n        return {\n            title: title,\n            activeButton:
    viewSpec.type,\n            isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange,
    now),\n            isPrevEnabled: prevInfo.isValid,\n            isNextEnabled:
    nextInfo.isValid,\n        };\n    }\n    // Plugin\n    // -----------------------------------------------------------------------------------------------------------------\n
    \   function buildViewPropTransformers(theClasses) {\n        return theClasses.map(function
    (TheClass) { return new TheClass(); });\n    }\n\n    var CalendarRoot = /** @class
    */ (function (_super) {\n        __extends(CalendarRoot, _super);\n        function
    CalendarRoot() {\n            var _this = _super !== null && _super.apply(this,
    arguments) || this;\n            _this.state = {\n                forPrint: false,\n
    \           };\n            _this.handleBeforePrint = function () {\n                _this.setState({
    forPrint: true });\n            };\n            _this.handleAfterPrint = function
    () {\n                _this.setState({ forPrint: false });\n            };\n            return
    _this;\n        }\n        CalendarRoot.prototype.render = function () {\n            var
    props = this.props;\n            var options = props.options;\n            var
    forPrint = this.state.forPrint;\n            var isHeightAuto = forPrint || options.height
    === 'auto' || options.contentHeight === 'auto';\n            var height = (!isHeightAuto
    && options.height != null) ? options.height : '';\n            var classNames
    = [\n                'fc',\n                forPrint ? 'fc-media-print' : 'fc-media-screen',\n
    \               \"fc-direction-\" + options.direction,\n                props.theme.getClass('root'),\n
    \           ];\n            if (!getCanVGrowWithinCell()) {\n                classNames.push('fc-liquid-hack');\n
    \           }\n            return props.children(classNames, height, isHeightAuto,
    forPrint);\n        };\n        CalendarRoot.prototype.componentDidMount = function
    () {\n            var emitter = this.props.emitter;\n            emitter.on('_beforeprint',
    this.handleBeforePrint);\n            emitter.on('_afterprint', this.handleAfterPrint);\n
    \       };\n        CalendarRoot.prototype.componentWillUnmount = function ()
    {\n            var emitter = this.props.emitter;\n            emitter.off('_beforeprint',
    this.handleBeforePrint);\n            emitter.off('_afterprint', this.handleAfterPrint);\n
    \       };\n        return CalendarRoot;\n    }(BaseComponent));\n\n    // Computes
    a default column header formatting string if `colFormat` is not explicitly defined\n
    \   function computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n        //
    if more than one week row, or if there are a lot of columns with not much space,\n
    \       // put just the day numbers will be in each cell\n        if (!datesRepDistinctDays
    || dayCnt > 10) {\n            return createFormatter({ weekday: 'short' }); //
    \"Sat\"\n        }\n        if (dayCnt > 1) {\n            return createFormatter({
    weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat
    11/12\"\n        }\n        return createFormatter({ weekday: 'long' }); // \"Saturday\"\n
    \   }\n\n    var CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\n
    \   function renderInner$1(hookProps) {\n        return hookProps.text;\n    }\n\n
    \   var TableDateCell = /** @class */ (function (_super) {\n        __extends(TableDateCell,
    _super);\n        function TableDateCell() {\n            return _super !== null
    && _super.apply(this, arguments) || this;\n        }\n        TableDateCell.prototype.render
    = function () {\n            var _a = this.context, dateEnv = _a.dateEnv, options
    = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n            var props =
    this.props;\n            var date = props.date, dateProfile = props.dateProfile;\n
    \           var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n
    \           var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n
    \           var text = dateEnv.format(date, props.dayHeaderFormat);\n            //
    if colCnt is 1, we are already in a day-view and don't need a navlink\n            var
    navLinkAttrs = (options.navLinks && !dayMeta.isDisabled && props.colCnt > 1)\n
    \               ? { 'data-navlink': buildNavLinkData(date), tabIndex: 0 }\n                :
    {};\n            var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date),
    view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n            return
    (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames,
    content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount,
    willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames,
    innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef,
    className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled
    ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n
    \               createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\"
    }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className:
    [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky
    ? 'fc-sticky' : '',\n                    ].join(' ') }, navLinkAttrs), innerContent)))));
    }));\n        };\n        return TableDateCell;\n    }(BaseComponent));\n\n    var
    TableDowCell = /** @class */ (function (_super) {\n        __extends(TableDowCell,
    _super);\n        function TableDowCell() {\n            return _super !== null
    && _super.apply(this, arguments) || this;\n        }\n        TableDowCell.prototype.render
    = function () {\n            var props = this.props;\n            var _a = this.context,
    dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n
    \           var date = addDays(new Date(259200000), props.dow); // start with
    Sun, 04 Jan 1970 00:00:00 GMT\n            var dateMeta = {\n                dow:
    props.dow,\n                isDisabled: false,\n                isFuture: false,\n
    \               isPast: false,\n                isToday: false,\n                isOther:
    false,\n            };\n            var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta,
    theme), props.extraClassNames || []);\n            var text = dateEnv.format(date,
    props.dayHeaderFormat);\n            var hookProps = __assign(__assign(__assign(__assign({
    // TODO: make this public?\n                date: date }, dateMeta), { view: viewApi
    }), props.extraHookProps), { text: text });\n            return (createElement(RenderHook,
    { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent,
    defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount:
    options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef,
    innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className:
    classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n
    \               createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\"
    },\n                    createElement(\"a\", { className: [\n                            'fc-col-header-cell-cushion',\n
    \                           props.isSticky ? 'fc-sticky' : '',\n                        ].join('
    '), ref: innerElRef }, innerContent)))); }));\n        };\n        return TableDowCell;\n
    \   }(BaseComponent));\n\n    var NowTimer = /** @class */ (function (_super)
    {\n        __extends(NowTimer, _super);\n        function NowTimer(props, context)
    {\n            var _this = _super.call(this, props, context) || this;\n            _this.initialNowDate
    = getNow(context.options.now, context.dateEnv);\n            _this.initialNowQueriedMs
    = new Date().valueOf();\n            _this.state = _this.computeTiming().currentState;\n
    \           return _this;\n        }\n        NowTimer.prototype.render = function
    () {\n            var _a = this, props = _a.props, state = _a.state;\n            return
    props.children(state.nowDate, state.todayRange);\n        };\n        NowTimer.prototype.componentDidMount
    = function () {\n            this.setTimeout();\n        };\n        NowTimer.prototype.componentDidUpdate
    = function (prevProps) {\n            if (prevProps.unit !== this.props.unit)
    {\n                this.clearTimeout();\n                this.setTimeout();\n
    \           }\n        };\n        NowTimer.prototype.componentWillUnmount = function
    () {\n            this.clearTimeout();\n        };\n        NowTimer.prototype.computeTiming
    = function () {\n            var _a = this, props = _a.props, context = _a.context;\n
    \           var unroundedNow = addMs(this.initialNowDate, new Date().valueOf()
    - this.initialNowQueriedMs);\n            var currentUnitStart = context.dateEnv.startOf(unroundedNow,
    props.unit);\n            var nextUnitStart = context.dateEnv.add(currentUnitStart,
    createDuration(1, props.unit));\n            var waitMs = nextUnitStart.valueOf()
    - unroundedNow.valueOf();\n            // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n
    \           // ensure no longer than a day\n            waitMs = Math.min(1000
    * 60 * 60 * 24, waitMs);\n            return {\n                currentState:
    { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n
    \               nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart)
    },\n                waitMs: waitMs,\n            };\n        };\n        NowTimer.prototype.setTimeout
    = function () {\n            var _this = this;\n            var _a = this.computeTiming(),
    nextState = _a.nextState, waitMs = _a.waitMs;\n            this.timeoutId = setTimeout(function
    () {\n                _this.setState(nextState, function () {\n                    _this.setTimeout();\n
    \               });\n            }, waitMs);\n        };\n        NowTimer.prototype.clearTimeout
    = function () {\n            if (this.timeoutId) {\n                clearTimeout(this.timeoutId);\n
    \           }\n        };\n        NowTimer.contextType = ViewContextType;\n        return
    NowTimer;\n    }(Component));\n    function buildDayRange(date) {\n        var
    start = startOfDay(date);\n        var end = addDays(start, 1);\n        return
    { start: start, end: end };\n    }\n\n    var DayHeader = /** @class */ (function
    (_super) {\n        __extends(DayHeader, _super);\n        function DayHeader()
    {\n            var _this = _super !== null && _super.apply(this, arguments) ||
    this;\n            _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n
    \           return _this;\n        }\n        DayHeader.prototype.render = function
    () {\n            var context = this.context;\n            var _a = this.props,
    dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays,
    renderIntro = _a.renderIntro;\n            var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat,
    datesRepDistinctDays, dates.length);\n            return (createElement(NowTimer,
    { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\",
    null,\n                renderIntro && renderIntro('day'),\n                dates.map(function
    (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(),
    date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length,
    dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(),
    dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n        };\n
    \       return DayHeader;\n    }(BaseComponent));\n    function createDayHeaderFormatter(explicitFormat,
    datesRepDistinctDays, dateCnt) {\n        return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays,
    dateCnt);\n    }\n\n    var DaySeriesModel = /** @class */ (function () {\n        function
    DaySeriesModel(range, dateProfileGenerator) {\n            var date = range.start;\n
    \           var end = range.end;\n            var indices = [];\n            var
    dates = [];\n            var dayIndex = -1;\n            while (date < end) {
    // loop each day from start to end\n                if (dateProfileGenerator.isHiddenDay(date))
    {\n                    indices.push(dayIndex + 0.5); // mark that it's between
    indices\n                }\n                else {\n                    dayIndex
    += 1;\n                    indices.push(dayIndex);\n                    dates.push(date);\n
    \               }\n                date = addDays(date, 1);\n            }\n            this.dates
    = dates;\n            this.indices = indices;\n            this.cnt = dates.length;\n
    \       }\n        DaySeriesModel.prototype.sliceRange = function (range) {\n
    \           var firstIndex = this.getDateDayIndex(range.start); // inclusive first
    index\n            var lastIndex = this.getDateDayIndex(addDays(range.end, -1));
    // inclusive last index\n            var clippedFirstIndex = Math.max(0, firstIndex);\n
    \           var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n            //
    deal with in-between indices\n            clippedFirstIndex = Math.ceil(clippedFirstIndex);
    // in-between starts round to next cell\n            clippedLastIndex = Math.floor(clippedLastIndex);
    // in-between ends round to prev cell\n            if (clippedFirstIndex <= clippedLastIndex)
    {\n                return {\n                    firstIndex: clippedFirstIndex,\n
    \                   lastIndex: clippedLastIndex,\n                    isStart:
    firstIndex === clippedFirstIndex,\n                    isEnd: lastIndex === clippedLastIndex,\n
    \               };\n            }\n            return null;\n        };\n        //
    Given a date, returns its chronolocial cell-index from the first cell of the grid.\n
    \       // If the date lies between cells (because of hiddenDays), returns a floating-point
    value between offsets.\n        // If before the first offset, returns a negative
    number.\n        // If after the last offset, returns an offset past the last
    cell offset.\n        // Only works for *start* dates of cells. Will not work
    for exclusive end dates for cells.\n        DaySeriesModel.prototype.getDateDayIndex
    = function (date) {\n            var indices = this.indices;\n            var
    dayOffset = Math.floor(diffDays(this.dates[0], date));\n            if (dayOffset
    < 0) {\n                return indices[0] - 1;\n            }\n            if
    (dayOffset >= indices.length) {\n                return indices[indices.length
    - 1] + 1;\n            }\n            return indices[dayOffset];\n        };\n
    \       return DaySeriesModel;\n    }());\n\n    var DayTableModel = /** @class
    */ (function () {\n        function DayTableModel(daySeries, breakOnWeeks) {\n
    \           var dates = daySeries.dates;\n            var daysPerRow;\n            var
    firstDay;\n            var rowCnt;\n            if (breakOnWeeks) {\n                //
    count columns until the day-of-week repeats\n                firstDay = dates[0].getUTCDay();\n
    \               for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow +=
    1) {\n                    if (dates[daysPerRow].getUTCDay() === firstDay) {\n
    \                       break;\n                    }\n                }\n                rowCnt
    = Math.ceil(dates.length / daysPerRow);\n            }\n            else {\n                rowCnt
    = 1;\n                daysPerRow = dates.length;\n            }\n            this.rowCnt
    = rowCnt;\n            this.colCnt = daysPerRow;\n            this.daySeries =
    daySeries;\n            this.cells = this.buildCells();\n            this.headerDates
    = this.buildHeaderDates();\n        }\n        DayTableModel.prototype.buildCells
    = function () {\n            var rows = [];\n            for (var row = 0; row
    < this.rowCnt; row += 1) {\n                var cells = [];\n                for
    (var col = 0; col < this.colCnt; col += 1) {\n                    cells.push(this.buildCell(row,
    col));\n                }\n                rows.push(cells);\n            }\n
    \           return rows;\n        };\n        DayTableModel.prototype.buildCell
    = function (row, col) {\n            var date = this.daySeries.dates[row * this.colCnt
    + col];\n            return {\n                key: date.toISOString(),\n                date:
    date,\n            };\n        };\n        DayTableModel.prototype.buildHeaderDates
    = function () {\n            var dates = [];\n            for (var col = 0; col
    < this.colCnt; col += 1) {\n                dates.push(this.cells[0][col].date);\n
    \           }\n            return dates;\n        };\n        DayTableModel.prototype.sliceRange
    = function (range) {\n            var colCnt = this.colCnt;\n            var seriesSeg
    = this.daySeries.sliceRange(range);\n            var segs = [];\n            if
    (seriesSeg) {\n                var firstIndex = seriesSeg.firstIndex, lastIndex
    = seriesSeg.lastIndex;\n                var index = firstIndex;\n                while
    (index <= lastIndex) {\n                    var row = Math.floor(index / colCnt);\n
    \                   var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n
    \                   segs.push({\n                        row: row,\n                        firstCol:
    index % colCnt,\n                        lastCol: (nextIndex - 1) % colCnt,\n
    \                       isStart: seriesSeg.isStart && index === firstIndex,\n
    \                       isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n
    \                   });\n                    index = nextIndex;\n                }\n
    \           }\n            return segs;\n        };\n        return DayTableModel;\n
    \   }());\n\n    var Slicer = /** @class */ (function () {\n        function Slicer()
    {\n            this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n
    \           this.sliceDateSelection = memoize(this._sliceDateSpan);\n            this.sliceEventStore
    = memoize(this._sliceEventStore);\n            this.sliceEventDrag = memoize(this._sliceInteraction);\n
    \           this.sliceEventResize = memoize(this._sliceInteraction);\n            this.forceDayIfListItem
    = false; // hack\n        }\n        Slicer.prototype.sliceProps = function (props,
    dateProfile, nextDayThreshold, context) {\n            var extraArgs = [];\n            for
    (var _i = 4; _i < arguments.length; _i++) {\n                extraArgs[_i - 4]
    = arguments[_i];\n            }\n            var eventUiBases = props.eventUiBases;\n
    \           var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore,
    eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n            return
    {\n                dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection,
    eventUiBases, context], extraArgs)),\n                businessHourSegs: this.sliceBusinessHours.apply(this,
    __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n
    \               fgEventSegs: eventSegs.fg,\n                bgEventSegs: eventSegs.bg,\n
    \               eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag,
    eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n                eventResize:
    this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases,
    dateProfile, nextDayThreshold], extraArgs)),\n                eventSelection:
    props.eventSelection,\n            }; // TODO: give interactionSegs?\n        };\n
    \       Slicer.prototype.sliceNowDate = function (// does not memoize\n        date,
    context) {\n            var extraArgs = [];\n            for (var _i = 2; _i <
    arguments.length; _i++) {\n                extraArgs[_i - 2] = arguments[_i];\n
    \           }\n            return this._sliceDateSpan.apply(this, __spreadArray([{
    range: { start: date, end: addMs(date, 1) }, allDay: false },\n                {},\n
    \               context], extraArgs));\n        };\n        Slicer.prototype._sliceBusinessHours
    = function (businessHours, dateProfile, nextDayThreshold, context) {\n            var
    extraArgs = [];\n            for (var _i = 4; _i < arguments.length; _i++) {\n
    \               extraArgs[_i - 4] = arguments[_i];\n            }\n            if
    (!businessHours) {\n                return [];\n            }\n            return
    this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours,
    computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n                {},\n
    \               dateProfile,\n                nextDayThreshold], extraArgs)).bg;\n
    \       };\n        Slicer.prototype._sliceEventStore = function (eventStore,
    eventUiBases, dateProfile, nextDayThreshold) {\n            var extraArgs = [];\n
    \           for (var _i = 4; _i < arguments.length; _i++) {\n                extraArgs[_i
    - 4] = arguments[_i];\n            }\n            if (eventStore) {\n                var
    rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile,
    Boolean(nextDayThreshold)), nextDayThreshold);\n                return {\n                    bg:
    this.sliceEventRanges(rangeRes.bg, extraArgs),\n                    fg: this.sliceEventRanges(rangeRes.fg,
    extraArgs),\n                };\n            }\n            return { bg: [], fg:
    [] };\n        };\n        Slicer.prototype._sliceInteraction = function (interaction,
    eventUiBases, dateProfile, nextDayThreshold) {\n            var extraArgs = [];\n
    \           for (var _i = 4; _i < arguments.length; _i++) {\n                extraArgs[_i
    - 4] = arguments[_i];\n            }\n            if (!interaction) {\n                return
    null;\n            }\n            var rangeRes = sliceEventStore(interaction.mutatedEvents,
    eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n
    \           return {\n                segs: this.sliceEventRanges(rangeRes.fg,
    extraArgs),\n                affectedInstances: interaction.affectedEvents.instances,\n
    \               isEvent: interaction.isEvent,\n            };\n        };\n        Slicer.prototype._sliceDateSpan
    = function (dateSpan, eventUiBases, context) {\n            var extraArgs = [];\n
    \           for (var _i = 3; _i < arguments.length; _i++) {\n                extraArgs[_i
    - 3] = arguments[_i];\n            }\n            if (!dateSpan) {\n                return
    [];\n            }\n            var eventRange = fabricateEventRange(dateSpan,
    eventUiBases, context);\n            var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range],
    extraArgs));\n            for (var _a = 0, segs_1 = segs; _a < segs_1.length;
    _a++) {\n                var seg = segs_1[_a];\n                seg.eventRange
    = eventRange;\n            }\n            return segs;\n        };\n        /*\n
    \       \"complete\" seg means it has component and eventRange\n        */\n        Slicer.prototype.sliceEventRanges
    = function (eventRanges, extraArgs) {\n            var segs = [];\n            for
    (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n
    \               var eventRange = eventRanges_1[_i];\n                segs.push.apply(segs,
    this.sliceEventRange(eventRange, extraArgs));\n            }\n            return
    segs;\n        };\n        /*\n        \"complete\" seg means it has component
    and eventRange\n        */\n        Slicer.prototype.sliceEventRange = function
    (eventRange, extraArgs) {\n            var dateRange = eventRange.range;\n            //
    hack to make multi-day events that are being force-displayed as list-items to
    take up only one day\n            if (this.forceDayIfListItem && eventRange.ui.display
    === 'list-item') {\n                dateRange = {\n                    start:
    dateRange.start,\n                    end: addDays(dateRange.start, 1),\n                };\n
    \           }\n            var segs = this.sliceRange.apply(this, __spreadArray([dateRange],
    extraArgs));\n            for (var _i = 0, segs_2 = segs; _i < segs_2.length;
    _i++) {\n                var seg = segs_2[_i];\n                seg.eventRange
    = eventRange;\n                seg.isStart = eventRange.isStart && seg.isStart;\n
    \               seg.isEnd = eventRange.isEnd && seg.isEnd;\n            }\n            return
    segs;\n        };\n        return Slicer;\n    }());\n    /*\n    for incorporating
    slotMinTime/slotMaxTime if appropriate\n    TODO: should be part of DateProfile!\n
    \   TimelineDateProfile already does this btw\n    */\n    function computeActiveRange(dateProfile,
    isComponentAllDay) {\n        var range = dateProfile.activeRange;\n        if
    (isComponentAllDay) {\n            return range;\n        }\n        return {\n
    \           start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n
    \           end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5),
    // 864e5 = ms in a day\n        };\n    }\n\n    // high-level segmenting-aware
    tester functions\n    // ------------------------------------------------------------------------------------------------------------------------\n
    \   function isInteractionValid(interaction, dateProfile, context) {\n        var
    instances = interaction.mutatedEvents.instances;\n        for (var instanceId
    in instances) {\n            if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range))
    {\n                return false;\n            }\n        }\n        return isNewPropsValid({
    eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL
    interactions\n    }\n    function isDateSelectionValid(dateSelection, dateProfile,
    context) {\n        if (!rangeContainsRange(dateProfile.validRange, dateSelection.range))
    {\n            return false;\n        }\n        return isNewPropsValid({ dateSelection:
    dateSelection }, context);\n    }\n    function isNewPropsValid(newProps, context)
    {\n        var calendarState = context.getCurrentData();\n        var props =
    __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore:
    calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection:
    '', eventDrag: null, eventResize: null }, newProps);\n        return (context.pluginHooks.isPropsValid
    || isPropsValid)(props, context);\n    }\n    function isPropsValid(state, context,
    dateSpanMeta, filterConfig) {\n        if (dateSpanMeta === void 0) { dateSpanMeta
    = {}; }\n        if (state.eventDrag && !isInteractionPropsValid(state, context,
    dateSpanMeta, filterConfig)) {\n            return false;\n        }\n        if
    (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta,
    filterConfig)) {\n            return false;\n        }\n        return true;\n
    \   }\n    // Moving Event Validation\n    // ------------------------------------------------------------------------------------------------------------------------\n
    \   function isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)
    {\n        var currentState = context.getCurrentData();\n        var interaction
    = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n
    \       var subjectEventStore = interaction.mutatedEvents;\n        var subjectDefs
    = subjectEventStore.defs;\n        var subjectInstances = subjectEventStore.instances;\n
    \       var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent
    ?\n            state.eventUiBases :\n            { '': currentState.selectionConfig
    });\n        if (filterConfig) {\n            subjectConfigs = mapHash(subjectConfigs,
    filterConfig);\n        }\n        // exclude the subject events. TODO: exclude
    defs too?\n        var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n
    \       var otherDefs = otherEventStore.defs;\n        var otherInstances = otherEventStore.instances;\n
    \       var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n        for
    (var subjectInstanceId in subjectInstances) {\n            var subjectInstance
    = subjectInstances[subjectInstanceId];\n            var subjectRange = subjectInstance.range;\n
    \           var subjectConfig = subjectConfigs[subjectInstance.defId];\n            var
    subjectDef = subjectDefs[subjectInstance.defId];\n            // constraint\n
    \           if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore,
    state.businessHours, context)) {\n                return false;\n            }\n
    \           // overlap\n            var eventOverlap = context.options.eventOverlap;\n
    \           var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap
    : null;\n            for (var otherInstanceId in otherInstances) {\n                var
    otherInstance = otherInstances[otherInstanceId];\n                // intersect!
    evaluate\n                if (rangesIntersect(subjectRange, otherInstance.range))
    {\n                    var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n
    \                   // consider the other event's overlap. only do this if the
    subject event is a \"real\" event\n                    if (otherOverlap === false
    && interaction.isEvent) {\n                        return false;\n                    }\n
    \                   if (subjectConfig.overlap === false) {\n                        return
    false;\n                    }\n                    if (eventOverlapFunc && !eventOverlapFunc(new
    EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n
    \                   new EventApi(context, subjectDef, subjectInstance))) {\n                        return
    false;\n                    }\n                }\n            }\n            //
    allow (a function)\n            var calendarEventStore = currentState.eventStore;
    // need global-to-calendar, not local to component (splittable)state\n            for
    (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n                var
    subjectAllow = _a[_i];\n                var subjectDateSpan = __assign(__assign({},
    dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n
    \               var origDef = calendarEventStore.defs[subjectDef.defId];\n                var
    origInstance = calendarEventStore.instances[subjectInstanceId];\n                var
    eventApi = void 0;\n                if (origDef) { // was previously in the calendar\n
    \                   eventApi = new EventApi(context, origDef, origInstance);\n
    \               }\n                else { // was an external event\n                    eventApi
    = new EventApi(context, subjectDef); // no instance, because had no dates\n                }\n
    \               if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan,
    context), eventApi)) {\n                    return false;\n                }\n
    \           }\n        }\n        return true;\n    }\n    // Date Selection Validation\n
    \   // ------------------------------------------------------------------------------------------------------------------------\n
    \   function isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)
    {\n        var relevantEventStore = state.eventStore;\n        var relevantDefs
    = relevantEventStore.defs;\n        var relevantInstances = relevantEventStore.instances;\n
    \       var selection = state.dateSelection;\n        var selectionRange = selection.range;\n
    \       var selectionConfig = context.getCurrentData().selectionConfig;\n        if
    (filterConfig) {\n            selectionConfig = filterConfig(selectionConfig);\n
    \       }\n        // constraint\n        if (!allConstraintsPass(selectionConfig.constraints,
    selectionRange, relevantEventStore, state.businessHours, context)) {\n            return
    false;\n        }\n        // overlap\n        var selectOverlap = context.options.selectOverlap;\n
    \       var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap
    : null;\n        for (var relevantInstanceId in relevantInstances) {\n            var
    relevantInstance = relevantInstances[relevantInstanceId];\n            // intersect!
    evaluate\n            if (rangesIntersect(selectionRange, relevantInstance.range))
    {\n                if (selectionConfig.overlap === false) {\n                    return
    false;\n                }\n                if (selectOverlapFunc && !selectOverlapFunc(new
    EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null))
    {\n                    return false;\n                }\n            }\n        }\n
    \       // allow (a function)\n        for (var _i = 0, _a = selectionConfig.allows;
    _i < _a.length; _i++) {\n            var selectionAllow = _a[_i];\n            var
    fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n            if
    (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n
    \               return false;\n            }\n        }\n        return true;\n
    \   }\n    // Constraint Utils\n    // ------------------------------------------------------------------------------------------------------------------------\n
    \   function allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded,
    context) {\n        for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length;
    _i++) {\n            var constraint = constraints_1[_i];\n            if (!anyRangesContainRange(constraintToRanges(constraint,
    subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange))
    {\n                return false;\n            }\n        }\n        return true;\n
    \   }\n    function constraintToRanges(constraint, subjectRange, // for expanding
    a recurring constraint, or expanding business hours\n    otherEventStore, // for
    if constraint is an even group ID\n    businessHoursUnexpanded, // for if constraint
    is 'businessHours'\n    context) {\n        if (constraint === 'businessHours')
    {\n            return eventStoreToRanges(expandRecurring(businessHoursUnexpanded,
    subjectRange, context));\n        }\n        if (typeof constraint === 'string')
    { // an group ID\n            return eventStoreToRanges(filterEventStoreDefs(otherEventStore,
    function (eventDef) { return eventDef.groupId === constraint; }));\n        }\n
    \       if (typeof constraint === 'object' && constraint) { // non-null object\n
    \           return eventStoreToRanges(expandRecurring(constraint, subjectRange,
    context));\n        }\n        return []; // if it's false\n    }\n    // TODO:
    move to event-store file?\n    function eventStoreToRanges(eventStore) {\n        var
    instances = eventStore.instances;\n        var ranges = [];\n        for (var
    instanceId in instances) {\n            ranges.push(instances[instanceId].range);\n
    \       }\n        return ranges;\n    }\n    // TODO: move to geom file?\n    function
    anyRangesContainRange(outerRanges, innerRange) {\n        for (var _i = 0, outerRanges_1
    = outerRanges; _i < outerRanges_1.length; _i++) {\n            var outerRange
    = outerRanges_1[_i];\n            if (rangeContainsRange(outerRange, innerRange))
    {\n                return true;\n            }\n        }\n        return false;\n
    \   }\n\n    var VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\n    var Scroller =
    /** @class */ (function (_super) {\n        __extends(Scroller, _super);\n        function
    Scroller() {\n            var _this = _super !== null && _super.apply(this, arguments)
    || this;\n            _this.handleEl = function (el) {\n                _this.el
    = el;\n                setRef(_this.props.elRef, el);\n            };\n            return
    _this;\n        }\n        Scroller.prototype.render = function () {\n            var
    props = this.props;\n            var liquid = props.liquid, liquidIsAbsolute =
    props.liquidIsAbsolute;\n            var isAbsolute = liquid && liquidIsAbsolute;\n
    \           var className = ['fc-scroller'];\n            if (liquid) {\n                if
    (liquidIsAbsolute) {\n                    className.push('fc-scroller-liquid-absolute');\n
    \               }\n                else {\n                    className.push('fc-scroller-liquid');\n
    \               }\n            }\n            return (createElement(\"div\", {
    ref: this.handleEl, className: className.join(' '), style: {\n                    overflowX:
    props.overflowX,\n                    overflowY: props.overflowY,\n                    left:
    (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                    right:
    (isAbsolute && -(props.overcomeRight || 0)) || '',\n                    bottom:
    (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                    marginLeft:
    (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                    marginRight:
    (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                    marginBottom:
    (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                    maxHeight:
    props.maxHeight || '',\n                } }, props.children));\n        };\n        Scroller.prototype.needsXScrolling
    = function () {\n            if (VISIBLE_HIDDEN_RE.test(this.props.overflowX))
    {\n                return false;\n            }\n            // testing scrollWidth>clientWidth
    is unreliable cross-browser when pixel heights aren't integers.\n            //
    much more reliable to see if children are taller than the scroller, even tho doesn't
    account for\n            // inner-child margins and absolute positioning\n            var
    el = this.el;\n            var realClientWidth = this.el.getBoundingClientRect().width
    - this.getYScrollbarWidth();\n            var children = el.children;\n            for
    (var i = 0; i < children.length; i += 1) {\n                var childEl = children[i];\n
    \               if (childEl.getBoundingClientRect().width > realClientWidth) {\n
    \                   return true;\n                }\n            }\n            return
    false;\n        };\n        Scroller.prototype.needsYScrolling = function () {\n
    \           if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n                return
    false;\n            }\n            // testing scrollHeight>clientHeight is unreliable
    cross-browser when pixel heights aren't integers.\n            // much more reliable
    to see if children are taller than the scroller, even tho doesn't account for\n
    \           // inner-child margins and absolute positioning\n            var el
    = this.el;\n            var realClientHeight = this.el.getBoundingClientRect().height
    - this.getXScrollbarWidth();\n            var children = el.children;\n            for
    (var i = 0; i < children.length; i += 1) {\n                var childEl = children[i];\n
    \               if (childEl.getBoundingClientRect().height > realClientHeight)
    {\n                    return true;\n                }\n            }\n            return
    false;\n        };\n        Scroller.prototype.getXScrollbarWidth = function ()
    {\n            if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n                return
    0;\n            }\n            return this.el.offsetHeight - this.el.clientHeight;
    // only works because we guarantee no borders. TODO: add to CSS with important?\n
    \       };\n        Scroller.prototype.getYScrollbarWidth = function () {\n            if
    (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n                return 0;\n
    \           }\n            return this.el.offsetWidth - this.el.clientWidth; //
    only works because we guarantee no borders. TODO: add to CSS with important?\n
    \       };\n        return Scroller;\n    }(BaseComponent));\n\n    /*\n    TODO:
    somehow infer OtherArgs from masterCallback?\n    TODO: infer RefType from masterCallback
    if provided\n    */\n    var RefMap = /** @class */ (function () {\n        function
    RefMap(masterCallback) {\n            var _this = this;\n            this.masterCallback
    = masterCallback;\n            this.currentMap = {};\n            this.depths
    = {};\n            this.callbackMap = {};\n            this.handleValue = function
    (val, key) {\n                var _a = _this, depths = _a.depths, currentMap =
    _a.currentMap;\n                var removed = false;\n                var added
    = false;\n                if (val !== null) {\n                    // for bug...
    ACTUALLY: can probably do away with this now that callers don't share numeric
    indices anymore\n                    removed = (key in currentMap);\n                    currentMap[key]
    = val;\n                    depths[key] = (depths[key] || 0) + 1;\n                    added
    = true;\n                }\n                else {\n                    depths[key]
    -= 1;\n                    if (!depths[key]) {\n                        delete
    currentMap[key];\n                        delete _this.callbackMap[key];\n                        removed
    = true;\n                    }\n                }\n                if (_this.masterCallback)
    {\n                    if (removed) {\n                        _this.masterCallback(null,
    String(key));\n                    }\n                    if (added) {\n                        _this.masterCallback(val,
    String(key));\n                    }\n                }\n            };\n        }\n
    \       RefMap.prototype.createRef = function (key) {\n            var _this =
    this;\n            var refCallback = this.callbackMap[key];\n            if (!refCallback)
    {\n                refCallback = this.callbackMap[key] = function (val) {\n                    _this.handleValue(val,
    String(key));\n                };\n            }\n            return refCallback;\n
    \       };\n        // TODO: check callers that don't care about order. should
    use getAll instead\n        // NOTE: this method has become less valuable now
    that we are encouraged to map order by some other index\n        // TODO: provide
    ONE array-export function, buildArray, which fails on non-numeric indexes. caller
    can manipulate and \"collect\"\n        RefMap.prototype.collect = function (startIndex,
    endIndex, step) {\n            return collectFromHash(this.currentMap, startIndex,
    endIndex, step);\n        };\n        RefMap.prototype.getAll = function () {\n
    \           return hashValuesToArray(this.currentMap);\n        };\n        return
    RefMap;\n    }());\n\n    function computeShrinkWidth(chunkEls) {\n        var
    shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n        var largestWidth
    = 0;\n        for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length;
    _i++) {\n            var shrinkCell = shrinkCells_1[_i];\n            largestWidth
    = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n        }\n        return
    Math.ceil(largestWidth); // <table> elements work best with integers. round up
    to ensure contents fits\n    }\n    function getSectionHasLiquidHeight(props,
    sectionConfig) {\n        return props.liquid && sectionConfig.liquid; // does
    the section do liquid-height? (need to have whole scrollgrid liquid-height as
    well)\n    }\n    function getAllowYScrolling(props, sectionConfig) {\n        return
    sectionConfig.maxHeight != null || // if its possible for the height to max out,
    we might need scrollbars\n            getSectionHasLiquidHeight(props, sectionConfig);
    // if the section is liquid height, it might condense enough to require scrollbars\n
    \   }\n    // TODO: ONLY use `arg`. force out internal function to use same API\n
    \   function renderChunkContent(sectionConfig, chunkConfig, arg) {\n        var
    expandRows = arg.expandRows;\n        var content = typeof chunkConfig.content
    === 'function' ?\n            chunkConfig.content(arg) :\n            createElement('table',
    {\n                className: [\n                    chunkConfig.tableClassName,\n
    \                   sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table'
    : '',\n                ].join(' '),\n                style: {\n                    minWidth:
    arg.tableMinWidth,\n                    width: arg.clientWidth,\n                    height:
    expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n
    \               },\n            }, arg.tableColGroupNode, createElement('tbody',
    {}, typeof chunkConfig.rowContent === 'function' ? chunkConfig.rowContent(arg)
    : chunkConfig.rowContent));\n        return content;\n    }\n    function isColPropsEqual(cols0,
    cols1) {\n        return isArraysEqual(cols0, cols1, isPropsEqual);\n    }\n    function
    renderMicroColGroup(cols, shrinkWidth) {\n        var colNodes = [];\n        /*\n
    \       for ColProps with spans, it would have been great to make a single <col
    span=\"\">\n        HOWEVER, Chrome was getting messing up distributing the width
    to <td>/<th> elements with colspans.\n        SOLUTION: making individual <col>
    elements makes Chrome behave.\n        */\n        for (var _i = 0, cols_1 = cols;
    _i < cols_1.length; _i++) {\n            var colProps = cols_1[_i];\n            var
    span = colProps.span || 1;\n            for (var i = 0; i < span; i += 1) {\n
    \               colNodes.push(createElement(\"col\", { style: {\n                        width:
    colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width
    || ''),\n                        minWidth: colProps.minWidth || '',\n                    }
    }));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray(['colgroup',
    {}], colNodes));\n    }\n    function sanitizeShrinkWidth(shrinkWidth) {\n        /*
    why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n
    \       4 accounts for 2 2-pixel borders. TODO: better solution? */\n        return
    shrinkWidth == null ? 4 : shrinkWidth;\n    }\n    function hasShrinkWidth(cols)
    {\n        for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n            var
    col = cols_2[_i];\n            if (col.width === 'shrink') {\n                return
    true;\n            }\n        }\n        return false;\n    }\n    function getScrollGridClassNames(liquid,
    context) {\n        var classNames = [\n            'fc-scrollgrid',\n            context.theme.getClass('table'),\n
    \       ];\n        if (liquid) {\n            classNames.push('fc-scrollgrid-liquid');\n
    \       }\n        return classNames;\n    }\n    function getSectionClassNames(sectionConfig,
    wholeTableVGrow) {\n        var classNames = [\n            'fc-scrollgrid-section',\n
    \           \"fc-scrollgrid-section-\" + sectionConfig.type,\n            sectionConfig.className,
    // used?\n        ];\n        if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight
    == null) {\n            classNames.push('fc-scrollgrid-section-liquid');\n        }\n
    \       if (sectionConfig.isSticky) {\n            classNames.push('fc-scrollgrid-section-sticky');\n
    \       }\n        return classNames;\n    }\n    function renderScrollShim(arg)
    {\n        return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\",
    style: {\n                width: arg.clientWidth,\n                minWidth: arg.tableMinWidth,\n
    \           } }));\n    }\n    function getStickyHeaderDates(options) {\n        var
    stickyHeaderDates = options.stickyHeaderDates;\n        if (stickyHeaderDates
    == null || stickyHeaderDates === 'auto') {\n            stickyHeaderDates = options.height
    === 'auto' || options.viewHeight === 'auto';\n        }\n        return stickyHeaderDates;\n
    \   }\n    function getStickyFooterScrollbar(options) {\n        var stickyFooterScrollbar
    = options.stickyFooterScrollbar;\n        if (stickyFooterScrollbar == null ||
    stickyFooterScrollbar === 'auto') {\n            stickyFooterScrollbar = options.height
    === 'auto' || options.viewHeight === 'auto';\n        }\n        return stickyFooterScrollbar;\n
    \   }\n\n    var SimpleScrollGrid = /** @class */ (function (_super) {\n        __extends(SimpleScrollGrid,
    _super);\n        function SimpleScrollGrid() {\n            var _this = _super
    !== null && _super.apply(this, arguments) || this;\n            _this.processCols
    = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols`
    props every time\n            // yucky to memoize VNodes, but much more efficient
    for consumers\n            _this.renderMicroColGroup = memoize(renderMicroColGroup);\n
    \           _this.scrollerRefs = new RefMap();\n            _this.scrollerElRefs
    = new RefMap(_this._handleScrollerEl.bind(_this));\n            _this.state =
    {\n                shrinkWidth: null,\n                forceYScrollbars: false,\n
    \               scrollerClientWidths: {},\n                scrollerClientHeights:
    {},\n            };\n            // TODO: can do a really simple print-view. dont
    need to join rows\n            _this.handleSizing = function () {\n                _this.setState(__assign({
    shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n            };\n
    \           return _this;\n        }\n        SimpleScrollGrid.prototype.render
    = function () {\n            var _a = this, props = _a.props, state = _a.state,
    context = _a.context;\n            var sectionConfigs = props.sections || [];\n
    \           var cols = this.processCols(props.cols);\n            var microColGroupNode
    = this.renderMicroColGroup(cols, state.shrinkWidth);\n            var classNames
    = getScrollGridClassNames(props.liquid, context);\n            if (props.collapsibleWidth)
    {\n                classNames.push('fc-scrollgrid-collapsible');\n            }\n
    \           // TODO: make DRY\n            var configCnt = sectionConfigs.length;\n
    \           var configI = 0;\n            var currentConfig;\n            var
    headSectionNodes = [];\n            var bodySectionNodes = [];\n            var
    footSectionNodes = [];\n            while (configI < configCnt && (currentConfig
    = sectionConfigs[configI]).type === 'header') {\n                headSectionNodes.push(this.renderSection(currentConfig,
    microColGroupNode));\n                configI += 1;\n            }\n            while
    (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body')
    {\n                bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n
    \               configI += 1;\n            }\n            while (configI < configCnt
    && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n                footSectionNodes.push(this.renderSection(currentConfig,
    microColGroupNode));\n                configI += 1;\n            }\n            //
    firefox bug: when setting height on table and there is a thead or tfoot,\n            //
    the necessary height:100% on the liquid-height body section forces the *whole*
    table to be taller. (bug #5524)\n            // use getCanVGrowWithinCell as a
    way to detect table-stupid firefox.\n            // if so, use a simpler dom structure,
    jam everything into a lone tbody.\n            var isBuggy = !getCanVGrowWithinCell();\n
    \           return createElement('table', {\n                className: classNames.join('
    '),\n                style: { height: props.height },\n            }, Boolean(!isBuggy
    && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead',
    {}], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void
    0, __spreadArray(['tbody', {}], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length)
    && createElement.apply(void 0, __spreadArray(['tfoot', {}], footSectionNodes)),
    isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody',
    {}], headSectionNodes), bodySectionNodes), footSectionNodes)));\n        };\n
    \       SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode)
    {\n            if ('outerContent' in sectionConfig) {\n                return
    (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n
    \           }\n            return (createElement(\"tr\", { key: sectionConfig.key,
    className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') },
    this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk)));\n
    \       };\n        SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig,
    microColGroupNode, chunkConfig) {\n            if ('outerContent' in chunkConfig)
    {\n                return chunkConfig.outerContent;\n            }\n            var
    props = this.props;\n            var _a = this.state, forceYScrollbars = _a.forceYScrollbars,
    scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n
    \           var needsYScrolling = getAllowYScrolling(props, sectionConfig); //
    TODO: do lazily. do in section config?\n            var isLiquid = getSectionHasLiquidHeight(props,
    sectionConfig);\n            // for `!props.liquid` - is WHOLE scrollgrid natural
    height?\n            // TODO: do same thing in advanced scrollgrid? prolly not
    b/c always has horizontal scrollbars\n            var overflowY = !props.liquid
    ? 'visible' :\n                forceYScrollbars ? 'scroll' :\n                    !needsYScrolling
    ? 'hidden' :\n                        'auto';\n            var sectionKey = sectionConfig.key;\n
    \           var content = renderChunkContent(sectionConfig, chunkConfig, {\n                tableColGroupNode:
    microColGroupNode,\n                tableMinWidth: '',\n                clientWidth:
    (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ?
    scrollerClientWidths[sectionKey] : null,\n                clientHeight: scrollerClientHeights[sectionKey]
    !== undefined ? scrollerClientHeights[sectionKey] : null,\n                expandRows:
    sectionConfig.expandRows,\n                syncRowHeights: false,\n                rowSyncHeights:
    [],\n                reportRowHeightChange: function () { },\n            });\n
    \           return (createElement(\"td\", { ref: chunkConfig.elRef },\n                createElement(\"div\",
    { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid'
    : '') },\n                    createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey),
    elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX:
    !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight,
    liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                        :
    true }, content))));\n        };\n        SimpleScrollGrid.prototype._handleScrollerEl
    = function (scrollerEl, key) {\n            var section = getSectionByKey(this.props.sections,
    key);\n            if (section) {\n                setRef(section.chunk.scrollerElRef,
    scrollerEl);\n            }\n        };\n        SimpleScrollGrid.prototype.componentDidMount
    = function () {\n            this.handleSizing();\n            this.context.addResizeHandler(this.handleSizing);\n
    \       };\n        SimpleScrollGrid.prototype.componentDidUpdate = function ()
    {\n            // TODO: need better solution when state contains non-sizing things\n
    \           this.handleSizing();\n        };\n        SimpleScrollGrid.prototype.componentWillUnmount
    = function () {\n            this.context.removeResizeHandler(this.handleSizing);\n
    \       };\n        SimpleScrollGrid.prototype.computeShrinkWidth = function ()
    {\n            return hasShrinkWidth(this.props.cols)\n                ? computeShrinkWidth(this.scrollerElRefs.getAll())\n
    \               : 0;\n        };\n        SimpleScrollGrid.prototype.computeScrollerDims
    = function () {\n            var scrollbarWidth = getScrollbarWidths();\n            var
    _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n
    \           var forceYScrollbars = false;\n            var scrollerClientWidths
    = {};\n            var scrollerClientHeights = {};\n            for (var sectionKey
    in scrollerRefs.currentMap) {\n                var scroller = scrollerRefs.currentMap[sectionKey];\n
    \               if (scroller && scroller.needsYScrolling()) {\n                    forceYScrollbars
    = true;\n                    break;\n                }\n            }\n            for
    (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n                var
    section = _b[_i];\n                var sectionKey = section.key;\n                var
    scrollerEl = scrollerElRefs.currentMap[sectionKey];\n                if (scrollerEl)
    {\n                    var harnessEl = scrollerEl.parentNode; // TODO: weird way
    to get this. need harness b/c doesn't include table borders\n                    scrollerClientWidths[sectionKey]
    = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                        ?
    scrollbarWidth.y // use global because scroller might not have scrollbars yet
    but will need them in future\n                        : 0));\n                    scrollerClientHeights[sectionKey]
    = Math.floor(harnessEl.getBoundingClientRect().height);\n                }\n            }\n
    \           return { forceYScrollbars: forceYScrollbars, scrollerClientWidths:
    scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n        };\n
    \       return SimpleScrollGrid;\n    }(BaseComponent));\n    SimpleScrollGrid.addStateEquality({\n
    \       scrollerClientWidths: isPropsEqual,\n        scrollerClientHeights: isPropsEqual,\n
    \   });\n    function getSectionByKey(sections, key) {\n        for (var _i =
    0, sections_1 = sections; _i < sections_1.length; _i++) {\n            var section
    = sections_1[_i];\n            if (section.key === key) {\n                return
    section;\n            }\n        }\n        return null;\n    }\n\n    var EventRoot
    = /** @class */ (function (_super) {\n        __extends(EventRoot, _super);\n
    \       function EventRoot() {\n            var _this = _super !== null && _super.apply(this,
    arguments) || this;\n            _this.elRef = createRef();\n            return
    _this;\n        }\n        EventRoot.prototype.render = function () {\n            var
    _a = this, props = _a.props, context = _a.context;\n            var options =
    context.options;\n            var seg = props.seg;\n            var eventRange
    = seg.eventRange;\n            var ui = eventRange.ui;\n            var hookProps
    = {\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n
    \               view: context.viewApi,\n                timeText: props.timeText,\n
    \               textColor: ui.textColor,\n                backgroundColor: ui.backgroundColor,\n
    \               borderColor: ui.borderColor,\n                isDraggable: !props.disableDragging
    && computeSegDraggable(seg, context),\n                isStartResizable: !props.disableResizing
    && computeSegStartResizable(seg, context),\n                isEndResizable: !props.disableResizing
    && computeSegEndResizable(seg),\n                isMirror: Boolean(props.isDragging
    || props.isResizing || props.isDateSelecting),\n                isStart: Boolean(seg.isStart),\n
    \               isEnd: Boolean(seg.isEnd),\n                isPast: Boolean(props.isPast),\n
    \               isFuture: Boolean(props.isFuture),\n                isToday: Boolean(props.isToday),\n
    \               isSelected: Boolean(props.isSelected),\n                isDragging:
    Boolean(props.isDragging),\n                isResizing: Boolean(props.isResizing),\n
    \           };\n            var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n
    \           return (createElement(RenderHook, { hookProps: hookProps, classNames:
    options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent,
    didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef:
    this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent)
    { return props.children(rootElRef, standardClassNames.concat(customClassNames),
    innerElRef, innerContent, hookProps); }));\n        };\n        EventRoot.prototype.componentDidMount
    = function () {\n            setElSeg(this.elRef.current, this.props.seg);\n        };\n
    \       /*\n        need to re-assign seg to the element if seg changes, even
    if the element is the same\n        */\n        EventRoot.prototype.componentDidUpdate
    = function (prevProps) {\n            var seg = this.props.seg;\n            if
    (seg !== prevProps.seg) {\n                setElSeg(this.elRef.current, seg);\n
    \           }\n        };\n        return EventRoot;\n    }(BaseComponent));\n\n
    \   // should not be a purecomponent\n    var StandardEvent = /** @class */ (function
    (_super) {\n        __extends(StandardEvent, _super);\n        function StandardEvent()
    {\n            return _super !== null && _super.apply(this, arguments) || this;\n
    \       }\n        StandardEvent.prototype.render = function () {\n            var
    _a = this, props = _a.props, context = _a.context;\n            var seg = props.seg;\n
    \           var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n
    \           var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime,
    props.defaultDisplayEventEnd);\n            return (createElement(EventRoot, {
    seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing:
    props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$4,
    isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting,
    isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture,
    isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent,
    hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join('
    '), style: {\n                    borderColor: hookProps.borderColor,\n                    backgroundColor:
    hookProps.backgroundColor,\n                }, ref: rootElRef }, getSegAnchorAttrs$1(seg)),\n
    \               createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef,
    style: { color: hookProps.textColor } }, innerContent),\n                hookProps.isStartResizable
    &&\n                    createElement(\"div\", { className: \"fc-event-resizer
    fc-event-resizer-start\" }),\n                hookProps.isEndResizable &&\n                    createElement(\"div\",
    { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n        };\n
    \       return StandardEvent;\n    }(BaseComponent));\n    function renderInnerContent$4(innerProps)
    {\n        return (createElement(\"div\", { className: \"fc-event-main-frame\"
    },\n            innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\"
    }, innerProps.timeText)),\n            createElement(\"div\", { className: \"fc-event-title-container\"
    },\n                createElement(\"div\", { className: \"fc-event-title fc-sticky\"
    }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n
    \   }\n    function getSegAnchorAttrs$1(seg) {\n        var url = seg.eventRange.def.url;\n
    \       return url ? { href: url } : {};\n    }\n\n    var NowIndicatorRoot =
    function (props) { return (createElement(ViewContextType.Consumer, null, function
    (context) {\n        var options = context.options;\n        var hookProps = {\n
    \           isAxis: props.isAxis,\n            date: context.dateEnv.toDate(props.date),\n
    \           view: context.viewApi,\n        };\n        return (createElement(RenderHook,
    { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent,
    didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount
    }, props.children));\n    })); };\n\n    var DAY_NUM_FORMAT = createFormatter({
    day: 'numeric' });\n    var DayCellContent = /** @class */ (function (_super)
    {\n        __extends(DayCellContent, _super);\n        function DayCellContent()
    {\n            return _super !== null && _super.apply(this, arguments) || this;\n
    \       }\n        DayCellContent.prototype.render = function () {\n            var
    _a = this, props = _a.props, context = _a.context;\n            var options =
    context.options;\n            var hookProps = refineDayCellHookProps({\n                date:
    props.date,\n                dateProfile: props.dateProfile,\n                todayRange:
    props.todayRange,\n                showDayNumber: props.showDayNumber,\n                extraProps:
    props.extraHookProps,\n                viewApi: context.viewApi,\n                dateEnv:
    context.dateEnv,\n            });\n            return (createElement(ContentHook,
    { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent
    }, props.children));\n        };\n        return DayCellContent;\n    }(BaseComponent));\n
    \   function refineDayCellHookProps(raw) {\n        var date = raw.date, dateEnv
    = raw.dateEnv;\n        var dayMeta = getDateMeta(date, raw.todayRange, null,
    raw.dateProfile);\n        return __assign(__assign(__assign({ date: dateEnv.toDate(date),
    view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date,
    DAY_NUM_FORMAT) : '' }), raw.extraProps);\n    }\n\n    var DayCellRoot = /**
    @class */ (function (_super) {\n        __extends(DayCellRoot, _super);\n        function
    DayCellRoot() {\n            var _this = _super !== null && _super.apply(this,
    arguments) || this;\n            _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n
    \           _this.normalizeClassNames = buildClassNameNormalizer();\n            return
    _this;\n        }\n        DayCellRoot.prototype.render = function () {\n            var
    _a = this, props = _a.props, context = _a.context;\n            var options =
    context.options;\n            var hookProps = this.refineHookProps({\n                date:
    props.date,\n                dateProfile: props.dateProfile,\n                todayRange:
    props.todayRange,\n                showDayNumber: props.showDayNumber,\n                extraProps:
    props.extraHookProps,\n                viewApi: context.viewApi,\n                dateEnv:
    context.dateEnv,\n            });\n            var classNames = getDayClassNames(hookProps,
    context.theme).concat(hookProps.isDisabled\n                ? [] // don't use
    custom classNames if disabled\n                : this.normalizeClassNames(options.dayCellClassNames,
    hookProps));\n            var dataAttrs = hookProps.isDisabled ? {} : {\n                'data-date':
    formatDayString(props.date),\n            };\n            return (createElement(MountHook,
    { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount,
    elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef,
    classNames, dataAttrs, hookProps.isDisabled); }));\n        };\n        return
    DayCellRoot;\n    }(BaseComponent));\n\n    function renderFill(fillType) {\n
    \       return (createElement(\"div\", { className: \"fc-\" + fillType }));\n
    \   }\n    var BgEvent = function (props) { return (createElement(EventRoot, {
    defaultContent: renderInnerContent$3, seg: props.seg /* uselesss i think */, timeText:
    \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing:
    false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture:
    props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef,
    innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className:
    ['fc-bg-event'].concat(classNames).join(' '), style: {\n            backgroundColor:
    hookProps.backgroundColor,\n        } }, innerContent)); })); };\n    function
    renderInnerContent$3(props) {\n        var title = props.event.title;\n        return
    title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n
    \   }\n\n    var WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer,
    null, function (context) {\n        var dateEnv = context.dateEnv, options = context.options;\n
    \       var date = props.date;\n        var format = options.weekNumberFormat
    || props.defaultFormat;\n        var num = dateEnv.computeWeekNumber(date); //
    TODO: somehow use for formatting as well?\n        var text = dateEnv.format(date,
    format);\n        var hookProps = { num: num, text: text, date: date };\n        return
    (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames,
    content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount,
    willUnmount: options.weekNumberWillUnmount }, props.children));\n    })); };\n
    \   function renderInner(innerProps) {\n        return innerProps.text;\n    }\n\n
    \   var PADDING_FROM_VIEWPORT = 10;\n    var Popover = /** @class */ (function
    (_super) {\n        __extends(Popover, _super);\n        function Popover() {\n
    \           var _this = _super !== null && _super.apply(this, arguments) || this;\n
    \           _this.handleRootEl = function (el) {\n                _this.rootEl
    = el;\n                if (_this.props.elRef) {\n                    setRef(_this.props.elRef,
    el);\n                }\n            };\n            // Triggered when the user
    clicks *anywhere* in the document, for the autoHide feature\n            _this.handleDocumentMousedown
    = function (ev) {\n                // only hide the popover if the click happened
    outside the popover\n                var target = getEventTargetViaRoot(ev);\n
    \               if (!_this.rootEl.contains(target)) {\n                    _this.handleCloseClick();\n
    \               }\n            };\n            _this.handleCloseClick = function
    () {\n                var onClose = _this.props.onClose;\n                if (onClose)
    {\n                    onClose();\n                }\n            };\n            return
    _this;\n        }\n        Popover.prototype.render = function () {\n            var
    theme = this.context.theme;\n            var props = this.props;\n            var
    classNames = [\n                'fc-popover',\n                theme.getClass('popover'),\n
    \           ].concat(props.extraClassNames || []);\n            return createPortal(createElement(\"div\",
    __assign({ className: classNames.join(' ') }, props.extraAttrs, { ref: this.handleRootEl
    }),\n                createElement(\"div\", { className: 'fc-popover-header '
    + theme.getClass('popoverHeader') },\n                    createElement(\"span\",
    { className: \"fc-popover-title\" }, props.title),\n                    createElement(\"span\",
    { className: 'fc-popover-close ' + theme.getIconClass('close'), onClick: this.handleCloseClick
    })),\n                createElement(\"div\", { className: 'fc-popover-body ' +
    theme.getClass('popoverContent') }, props.children)), props.parentEl);\n        };\n
    \       Popover.prototype.componentDidMount = function () {\n            document.addEventListener('mousedown',
    this.handleDocumentMousedown);\n            this.updateSize();\n        };\n        Popover.prototype.componentWillUnmount
    = function () {\n            document.removeEventListener('mousedown', this.handleDocumentMousedown);\n
    \       };\n        Popover.prototype.updateSize = function () {\n            var
    isRtl = this.context.isRtl;\n            var _a = this.props, alignmentEl = _a.alignmentEl,
    alignGridTop = _a.alignGridTop;\n            var rootEl = this.rootEl;\n            var
    alignmentRect = computeClippedClientRect(alignmentEl);\n            if (alignmentRect)
    {\n                var popoverDims = rootEl.getBoundingClientRect();\n                //
    position relative to viewport\n                var popoverTop = alignGridTop\n
    \                   ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n
    \                   : alignmentRect.top;\n                var popoverLeft = isRtl
    ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n                //
    constrain\n                popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n
    \               popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth
    - PADDING_FROM_VIEWPORT - popoverDims.width);\n                popoverLeft = Math.max(popoverLeft,
    PADDING_FROM_VIEWPORT);\n                var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n
    \               applyStyle(rootEl, {\n                    top: popoverTop - origin_1.top,\n
    \                   left: popoverLeft - origin_1.left,\n                });\n
    \           }\n        };\n        return Popover;\n    }(BaseComponent));\n\n
    \   var MorePopover = /** @class */ (function (_super) {\n        __extends(MorePopover,
    _super);\n        function MorePopover() {\n            var _this = _super !==
    null && _super.apply(this, arguments) || this;\n            _this.handleRootEl
    = function (rootEl) {\n                _this.rootEl = rootEl;\n                if
    (rootEl) {\n                    _this.context.registerInteractiveComponent(_this,
    {\n                        el: rootEl,\n                        useEventCenter:
    false,\n                    });\n                }\n                else {\n                    _this.context.unregisterInteractiveComponent(_this);\n
    \               }\n            };\n            return _this;\n        }\n        MorePopover.prototype.render
    = function () {\n            var _a = this.context, options = _a.options, dateEnv
    = _a.dateEnv;\n            var props = this.props;\n            var startDate
    = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n
    \           var title = dateEnv.format(startDate, options.dayPopoverFormat);\n
    \           return (createElement(DayCellRoot, { date: startDate, dateProfile:
    dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef,
    dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef,
    title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs:
    dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl,
    alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose
    },\n                createElement(DayCellContent, { date: startDate, dateProfile:
    dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return
    (innerContent &&\n                    createElement(\"div\", { className: \"fc-more-popover-misc\",
    ref: innerElRef }, innerContent)); }),\n                props.children)); }));\n
    \       };\n        MorePopover.prototype.queryHit = function (positionLeft, positionTop,
    elWidth, elHeight) {\n            var _a = this, rootEl = _a.rootEl, props = _a.props;\n
    \           if (positionLeft >= 0 && positionLeft < elWidth &&\n                positionTop
    >= 0 && positionTop < elHeight) {\n                return {\n                    dateProfile:
    props.dateProfile,\n                    dateSpan: __assign({ allDay: true, range:
    {\n                            start: props.startDate,\n                            end:
    props.endDate,\n                        } }, props.extraDateSpan),\n                    dayEl:
    rootEl,\n                    rect: {\n                        left: 0,\n                        top:
    0,\n                        right: elWidth,\n                        bottom: elHeight,\n
    \                   },\n                    layer: 1, // important when comparing
    with hits from other components\n                };\n            }\n            return
    null;\n        };\n        return MorePopover;\n    }(DateComponent));\n\n    var
    MoreLinkRoot = /** @class */ (function (_super) {\n        __extends(MoreLinkRoot,
    _super);\n        function MoreLinkRoot() {\n            var _this = _super !==
    null && _super.apply(this, arguments) || this;\n            _this.linkElRef =
    createRef();\n            _this.state = {\n                isPopoverOpen: false,\n
    \           };\n            _this.handleClick = function (ev) {\n                var
    _a = _this, props = _a.props, context = _a.context;\n                var moreLinkClick
    = context.options.moreLinkClick;\n                var date = computeRange(props).start;\n
    \               function buildPublicSeg(seg) {\n                    var _a = seg.eventRange,
    def = _a.def, instance = _a.instance, range = _a.range;\n                    return
    {\n                        event: new EventApi(context, def, instance),\n                        start:
    context.dateEnv.toDate(range.start),\n                        end: context.dateEnv.toDate(range.end),\n
    \                       isStart: seg.isStart,\n                        isEnd:
    seg.isEnd,\n                    };\n                }\n                if (typeof
    moreLinkClick === 'function') {\n                    moreLinkClick = moreLinkClick({\n
    \                       date: date,\n                        allDay: Boolean(props.allDayDate),\n
    \                       allSegs: props.allSegs.map(buildPublicSeg),\n                        hiddenSegs:
    props.hiddenSegs.map(buildPublicSeg),\n                        jsEvent: ev,\n
    \                       view: context.viewApi,\n                    });\n                }\n
    \               if (!moreLinkClick || moreLinkClick === 'popover') {\n                    _this.setState({
    isPopoverOpen: true });\n                }\n                else if (typeof moreLinkClick
    === 'string') { // a view name\n                    context.calendarApi.zoomTo(date,
    moreLinkClick);\n                }\n            };\n            _this.handlePopoverClose
    = function () {\n                _this.setState({ isPopoverOpen: false });\n            };\n
    \           return _this;\n        }\n        MoreLinkRoot.prototype.render =
    function () {\n            var _this = this;\n            var props = this.props;\n
    \           return (createElement(ViewContextType.Consumer, null, function (context)
    {\n                var viewApi = context.viewApi, options = context.options, calendarApi
    = context.calendarApi;\n                var moreLinkText = options.moreLinkText;\n
    \               var moreCnt = props.moreCnt;\n                var range = computeRange(props);\n
    \               var hookProps = {\n                    num: moreCnt,\n                    shortText:
    \"+\" + moreCnt,\n                    text: typeof moreLinkText === 'function'\n
    \                       ? moreLinkText.call(calendarApi, moreCnt)\n                        :
    \"+\" + moreCnt + \" \" + moreLinkText,\n                    view: viewApi,\n
    \               };\n                return (createElement(Fragment, null,\n                    Boolean(props.moreCnt)
    && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps,
    classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent:
    props.defaultContent || renderMoreLinkInner$1, didMount: options.moreLinkDidMount,
    willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames,
    innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames),
    innerElRef, innerContent, _this.handleClick); })),\n                    _this.state.isPopoverOpen
    && (createElement(MorePopover, { startDate: range.start, endDate: range.end, dateProfile:
    props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan,
    parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop:
    props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n
    \           }));\n        };\n        MoreLinkRoot.prototype.componentDidMount
    = function () {\n            this.updateParentEl();\n        };\n        MoreLinkRoot.prototype.componentDidUpdate
    = function () {\n            this.updateParentEl();\n        };\n        MoreLinkRoot.prototype.updateParentEl
    = function () {\n            if (this.linkElRef.current) {\n                this.parentEl
    = elementClosest(this.linkElRef.current, '.fc-view-harness');\n            }\n
    \       };\n        return MoreLinkRoot;\n    }(BaseComponent));\n    function
    renderMoreLinkInner$1(props) {\n        return props.text;\n    }\n    function
    computeRange(props) {\n        if (props.allDayDate) {\n            return {\n
    \               start: props.allDayDate,\n                end: addDays(props.allDayDate,
    1),\n            };\n        }\n        var hiddenSegs = props.hiddenSegs;\n        return
    {\n            start: computeEarliestSegStart(hiddenSegs),\n            end: computeLatestSegEnd(hiddenSegs),\n
    \       };\n    }\n    function computeEarliestSegStart(segs) {\n        return
    segs.reduce(pickEarliestStart).eventRange.range.start;\n    }\n    function pickEarliestStart(seg0,
    seg1) {\n        return seg0.eventRange.range.start < seg1.eventRange.range.start
    ? seg0 : seg1;\n    }\n    function computeLatestSegEnd(segs) {\n        return
    segs.reduce(pickLatestEnd).eventRange.range.end;\n    }\n    function pickLatestEnd(seg0,
    seg1) {\n        return seg0.eventRange.range.end > seg1.eventRange.range.end
    ? seg0 : seg1;\n    }\n\n    // exports\n    // --------------------------------------------------------------------------------------------------\n
    \   var version = '5.9.0'; // important to type it, so .d.ts has generic string\n\n
    \   var Calendar = /** @class */ (function (_super) {\n        __extends(Calendar,
    _super);\n        function Calendar(el, optionOverrides) {\n            if (optionOverrides
    === void 0) { optionOverrides = {}; }\n            var _this = _super.call(this)
    || this;\n            _this.isRendering = false;\n            _this.isRendered
    = false;\n            _this.currentClassNames = [];\n            _this.customContentRenderId
    = 0; // will affect custom generated classNames?\n            _this.handleAction
    = function (action) {\n                // actions we know we want to render immediately\n
    \               switch (action.type) {\n                    case 'SET_EVENT_DRAG':\n
    \                   case 'SET_EVENT_RESIZE':\n                        _this.renderRunner.tryDrain();\n
    \               }\n            };\n            _this.handleData = function (data)
    {\n                _this.currentData = data;\n                _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n
    \           };\n            _this.handleRenderRequest = function () {\n                if
    (_this.isRendering) {\n                    _this.isRendered = true;\n                    var
    currentData_1 = _this.currentData;\n                    render(createElement(CalendarRoot,
    { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter:
    currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint)
    {\n                        _this.setClassNames(classNames);\n                        _this.setHeight(height);\n
    \                       return (createElement(CustomContentRenderContext.Provider,
    { value: _this.customContentRenderId },\n                            createElement(CalendarContent,
    __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n
    \                   }), _this.el);\n                }\n                else if
    (_this.isRendered) {\n                    _this.isRendered = false;\n                    unmountComponentAtNode(_this.el);\n
    \                   _this.setClassNames([]);\n                    _this.setHeight('');\n
    \               }\n                flushToDom();\n            };\n            _this.el
    = el;\n            _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n
    \           new CalendarDataManager({\n                optionOverrides: optionOverrides,\n
    \               calendarApi: _this,\n                onAction: _this.handleAction,\n
    \               onData: _this.handleData,\n            });\n            return
    _this;\n        }\n        Object.defineProperty(Calendar.prototype, \"view\",
    {\n            get: function () { return this.currentData.viewApi; } // for public
    API\n            ,\n            enumerable: false,\n            configurable:
    true\n        });\n        Calendar.prototype.render = function () {\n            var
    wasRendering = this.isRendering;\n            if (!wasRendering) {\n                this.isRendering
    = true;\n            }\n            else {\n                this.customContentRenderId
    += 1;\n            }\n            this.renderRunner.request();\n            if
    (wasRendering) {\n                this.updateSize();\n            }\n        };\n
    \       Calendar.prototype.destroy = function () {\n            if (this.isRendering)
    {\n                this.isRendering = false;\n                this.renderRunner.request();\n
    \           }\n        };\n        Calendar.prototype.updateSize = function ()
    {\n            _super.prototype.updateSize.call(this);\n            flushToDom();\n
    \       };\n        Calendar.prototype.batchRendering = function (func) {\n            this.renderRunner.pause('batchRendering');\n
    \           func();\n            this.renderRunner.resume('batchRendering');\n
    \       };\n        Calendar.prototype.pauseRendering = function () {\n            this.renderRunner.pause('pauseRendering');\n
    \       };\n        Calendar.prototype.resumeRendering = function () {\n            this.renderRunner.resume('pauseRendering',
    true);\n        };\n        Calendar.prototype.resetOptions = function (optionOverrides,
    append) {\n            this.currentDataManager.resetOptions(optionOverrides, append);\n
    \       };\n        Calendar.prototype.setClassNames = function (classNames) {\n
    \           if (!isArraysEqual(classNames, this.currentClassNames)) {\n                var
    classList = this.el.classList;\n                for (var _i = 0, _a = this.currentClassNames;
    _i < _a.length; _i++) {\n                    var className = _a[_i];\n                    classList.remove(className);\n
    \               }\n                for (var _b = 0, classNames_1 = classNames;
    _b < classNames_1.length; _b++) {\n                    var className = classNames_1[_b];\n
    \                   classList.add(className);\n                }\n                this.currentClassNames
    = classNames;\n            }\n        };\n        Calendar.prototype.setHeight
    = function (height) {\n            applyStyleProp(this.el, 'height', height);\n
    \       };\n        return Calendar;\n    }(CalendarApi));\n\n    config.touchMouseIgnoreWait
    = 500;\n    var ignoreMouseDepth = 0;\n    var listenerCnt = 0;\n    var isWindowTouchMoveCancelled
    = false;\n    /*\n    Uses a \"pointer\" abstraction, which monitors UI events
    for both mouse and touch.\n    Tracks when the pointer \"drags\" on a certain
    element, meaning down+move+up.\n\n    Also, tracks if there was touch-scrolling.\n
    \   Also, can prevent touch-scrolling from happening.\n    Also, can fire pointermove
    events when scrolling happens underneath, even when no real pointer movement.\n\n
    \   emits:\n    - pointerdown\n    - pointermove\n    - pointerup\n    */\n    var
    PointerDragging = /** @class */ (function () {\n        function PointerDragging(containerEl)
    {\n            var _this = this;\n            this.subjectEl = null;\n            //
    options that can be directly assigned by caller\n            this.selector = '';
    // will cause subjectEl in all emitted events to be this element\n            this.handleSelector
    = '';\n            this.shouldIgnoreMove = false;\n            this.shouldWatchScroll
    = true; // for simulating pointermove on scroll\n            // internal states\n
    \           this.isDragging = false;\n            this.isTouchDragging = false;\n
    \           this.wasTouchScroll = false;\n            // Mouse\n            //
    ----------------------------------------------------------------------------------------------------\n
    \           this.handleMouseDown = function (ev) {\n                if (!_this.shouldIgnoreMouse()
    &&\n                    isPrimaryMouseButton(ev) &&\n                    _this.tryStart(ev))
    {\n                    var pev = _this.createEventFromMouse(ev, true);\n                    _this.emitter.trigger('pointerdown',
    pev);\n                    _this.initScrollWatch(pev);\n                    if
    (!_this.shouldIgnoreMove) {\n                        document.addEventListener('mousemove',
    _this.handleMouseMove);\n                    }\n                    document.addEventListener('mouseup',
    _this.handleMouseUp);\n                }\n            };\n            this.handleMouseMove
    = function (ev) {\n                var pev = _this.createEventFromMouse(ev);\n
    \               _this.recordCoords(pev);\n                _this.emitter.trigger('pointermove',
    pev);\n            };\n            this.handleMouseUp = function (ev) {\n                document.removeEventListener('mousemove',
    _this.handleMouseMove);\n                document.removeEventListener('mouseup',
    _this.handleMouseUp);\n                _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n
    \               _this.cleanup(); // call last so that pointerup has access to
    props\n            };\n            // Touch\n            // ----------------------------------------------------------------------------------------------------\n
    \           this.handleTouchStart = function (ev) {\n                if (_this.tryStart(ev))
    {\n                    _this.isTouchDragging = true;\n                    var
    pev = _this.createEventFromTouch(ev, true);\n                    _this.emitter.trigger('pointerdown',
    pev);\n                    _this.initScrollWatch(pev);\n                    //
    unlike mouse, need to attach to target, not document\n                    // https://stackoverflow.com/a/45760014\n
    \                   var targetEl = ev.target;\n                    if (!_this.shouldIgnoreMove)
    {\n                        targetEl.addEventListener('touchmove', _this.handleTouchMove);\n
    \                   }\n                    targetEl.addEventListener('touchend',
    _this.handleTouchEnd);\n                    targetEl.addEventListener('touchcancel',
    _this.handleTouchEnd); // treat it as a touch end\n                    // attach
    a handler to get called when ANY scroll action happens on the page.\n                    //
    this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n
    \                   // http://stackoverflow.com/a/32954565/96342\n                    window.addEventListener('scroll',
    _this.handleTouchScroll, true);\n                }\n            };\n            this.handleTouchMove
    = function (ev) {\n                var pev = _this.createEventFromTouch(ev);\n
    \               _this.recordCoords(pev);\n                _this.emitter.trigger('pointermove',
    pev);\n            };\n            this.handleTouchEnd = function (ev) {\n                if
    (_this.isDragging) { // done to guard against touchend followed by touchcancel\n
    \                   var targetEl = ev.target;\n                    targetEl.removeEventListener('touchmove',
    _this.handleTouchMove);\n                    targetEl.removeEventListener('touchend',
    _this.handleTouchEnd);\n                    targetEl.removeEventListener('touchcancel',
    _this.handleTouchEnd);\n                    window.removeEventListener('scroll',
    _this.handleTouchScroll, true); // useCaptured=true\n                    _this.emitter.trigger('pointerup',
    _this.createEventFromTouch(ev));\n                    _this.cleanup(); // call
    last so that pointerup has access to props\n                    _this.isTouchDragging
    = false;\n                    startIgnoringMouse();\n                }\n            };\n
    \           this.handleTouchScroll = function () {\n                _this.wasTouchScroll
    = true;\n            };\n            this.handleScroll = function (ev) {\n                if
    (!_this.shouldIgnoreMove) {\n                    var pageX = (window.pageXOffset
    - _this.prevScrollX) + _this.prevPageX;\n                    var pageY = (window.pageYOffset
    - _this.prevScrollY) + _this.prevPageY;\n                    _this.emitter.trigger('pointermove',
    {\n                        origEvent: ev,\n                        isTouch: _this.isTouchDragging,\n
    \                       subjectEl: _this.subjectEl,\n                        pageX:
    pageX,\n                        pageY: pageY,\n                        deltaX:
    pageX - _this.origPageX,\n                        deltaY: pageY - _this.origPageY,\n
    \                   });\n                }\n            };\n            this.containerEl
    = containerEl;\n            this.emitter = new Emitter();\n            containerEl.addEventListener('mousedown',
    this.handleMouseDown);\n            containerEl.addEventListener('touchstart',
    this.handleTouchStart, { passive: true });\n            listenerCreated();\n        }\n
    \       PointerDragging.prototype.destroy = function () {\n            this.containerEl.removeEventListener('mousedown',
    this.handleMouseDown);\n            this.containerEl.removeEventListener('touchstart',
    this.handleTouchStart, { passive: true });\n            listenerDestroyed();\n
    \       };\n        PointerDragging.prototype.tryStart = function (ev) {\n            var
    subjectEl = this.querySubjectEl(ev);\n            var downEl = ev.target;\n            if
    (subjectEl &&\n                (!this.handleSelector || elementClosest(downEl,
    this.handleSelector))) {\n                this.subjectEl = subjectEl;\n                this.isDragging
    = true; // do this first so cancelTouchScroll will work\n                this.wasTouchScroll
    = false;\n                return true;\n            }\n            return false;\n
    \       };\n        PointerDragging.prototype.cleanup = function () {\n            isWindowTouchMoveCancelled
    = false;\n            this.isDragging = false;\n            this.subjectEl = null;\n
    \           // keep wasTouchScroll around for later access\n            this.destroyScrollWatch();\n
    \       };\n        PointerDragging.prototype.querySubjectEl = function (ev) {\n
    \           if (this.selector) {\n                return elementClosest(ev.target,
    this.selector);\n            }\n            return this.containerEl;\n        };\n
    \       PointerDragging.prototype.shouldIgnoreMouse = function () {\n            return
    ignoreMouseDepth || this.isTouchDragging;\n        };\n        // can be called
    by user of this class, to cancel touch-based scrolling for the current drag\n
    \       PointerDragging.prototype.cancelTouchScroll = function () {\n            if
    (this.isDragging) {\n                isWindowTouchMoveCancelled = true;\n            }\n
    \       };\n        // Scrolling that simulates pointermoves\n        // ----------------------------------------------------------------------------------------------------\n
    \       PointerDragging.prototype.initScrollWatch = function (ev) {\n            if
    (this.shouldWatchScroll) {\n                this.recordCoords(ev);\n                window.addEventListener('scroll',
    this.handleScroll, true); // useCapture=true\n            }\n        };\n        PointerDragging.prototype.recordCoords
    = function (ev) {\n            if (this.shouldWatchScroll) {\n                this.prevPageX
    = ev.pageX;\n                this.prevPageY = ev.pageY;\n                this.prevScrollX
    = window.pageXOffset;\n                this.prevScrollY = window.pageYOffset;\n
    \           }\n        };\n        PointerDragging.prototype.destroyScrollWatch
    = function () {\n            if (this.shouldWatchScroll) {\n                window.removeEventListener('scroll',
    this.handleScroll, true); // useCaptured=true\n            }\n        };\n        //
    Event Normalization\n        // ----------------------------------------------------------------------------------------------------\n
    \       PointerDragging.prototype.createEventFromMouse = function (ev, isFirst)
    {\n            var deltaX = 0;\n            var deltaY = 0;\n            // TODO:
    repeat code\n            if (isFirst) {\n                this.origPageX = ev.pageX;\n
    \               this.origPageY = ev.pageY;\n            }\n            else {\n
    \               deltaX = ev.pageX - this.origPageX;\n                deltaY =
    ev.pageY - this.origPageY;\n            }\n            return {\n                origEvent:
    ev,\n                isTouch: false,\n                subjectEl: this.subjectEl,\n
    \               pageX: ev.pageX,\n                pageY: ev.pageY,\n                deltaX:
    deltaX,\n                deltaY: deltaY,\n            };\n        };\n        PointerDragging.prototype.createEventFromTouch
    = function (ev, isFirst) {\n            var touches = ev.touches;\n            var
    pageX;\n            var pageY;\n            var deltaX = 0;\n            var deltaY
    = 0;\n            // if touch coords available, prefer,\n            // because
    FF would give bad ev.pageX ev.pageY\n            if (touches && touches.length)
    {\n                pageX = touches[0].pageX;\n                pageY = touches[0].pageY;\n
    \           }\n            else {\n                pageX = ev.pageX;\n                pageY
    = ev.pageY;\n            }\n            // TODO: repeat code\n            if (isFirst)
    {\n                this.origPageX = pageX;\n                this.origPageY = pageY;\n
    \           }\n            else {\n                deltaX = pageX - this.origPageX;\n
    \               deltaY = pageY - this.origPageY;\n            }\n            return
    {\n                origEvent: ev,\n                isTouch: true,\n                subjectEl:
    this.subjectEl,\n                pageX: pageX,\n                pageY: pageY,\n
    \               deltaX: deltaX,\n                deltaY: deltaY,\n            };\n
    \       };\n        return PointerDragging;\n    }());\n    // Returns a boolean
    whether this was a left mouse click and no ctrl key (which means right click on
    Mac)\n    function isPrimaryMouseButton(ev) {\n        return ev.button === 0
    && !ev.ctrlKey;\n    }\n    // Ignoring fake mouse events generated by touch\n
    \   // ----------------------------------------------------------------------------------------------------\n
    \   function startIgnoringMouse() {\n        ignoreMouseDepth += 1;\n        setTimeout(function
    () {\n            ignoreMouseDepth -= 1;\n        }, config.touchMouseIgnoreWait);\n
    \   }\n    // We want to attach touchmove as early as possible for Safari\n    //
    ----------------------------------------------------------------------------------------------------\n
    \   function listenerCreated() {\n        listenerCnt += 1;\n        if (listenerCnt
    === 1) {\n            window.addEventListener('touchmove', onWindowTouchMove,
    { passive: false });\n        }\n    }\n    function listenerDestroyed() {\n        listenerCnt
    -= 1;\n        if (!listenerCnt) {\n            window.removeEventListener('touchmove',
    onWindowTouchMove, { passive: false });\n        }\n    }\n    function onWindowTouchMove(ev)
    {\n        if (isWindowTouchMoveCancelled) {\n            ev.preventDefault();\n
    \       }\n    }\n\n    /*\n    An effect in which an element follows the movement
    of a pointer across the screen.\n    The moving element is a clone of some other
    element.\n    Must call start + handleMove + stop.\n    */\n    var ElementMirror
    = /** @class */ (function () {\n        function ElementMirror() {\n            this.isVisible
    = false; // must be explicitly enabled\n            this.sourceEl = null;\n            this.mirrorEl
    = null;\n            this.sourceElRect = null; // screen coords relative to viewport\n
    \           // options that can be set directly by caller\n            this.parentNode
    = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n
    \           this.zIndex = 9999;\n            this.revertDuration = 0;\n        }\n
    \       ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n
    \           this.sourceEl = sourceEl;\n            this.sourceElRect = this.sourceEl.getBoundingClientRect();\n
    \           this.origScreenX = pageX - window.pageXOffset;\n            this.origScreenY
    = pageY - window.pageYOffset;\n            this.deltaX = 0;\n            this.deltaY
    = 0;\n            this.updateElPosition();\n        };\n        ElementMirror.prototype.handleMove
    = function (pageX, pageY) {\n            this.deltaX = (pageX - window.pageXOffset)
    - this.origScreenX;\n            this.deltaY = (pageY - window.pageYOffset) -
    this.origScreenY;\n            this.updateElPosition();\n        };\n        //
    can be called before start\n        ElementMirror.prototype.setIsVisible = function
    (bool) {\n            if (bool) {\n                if (!this.isVisible) {\n                    if
    (this.mirrorEl) {\n                        this.mirrorEl.style.display = '';\n
    \                   }\n                    this.isVisible = bool; // needs to
    happen before updateElPosition\n                    this.updateElPosition(); //
    because was not updating the position while invisible\n                }\n            }\n
    \           else if (this.isVisible) {\n                if (this.mirrorEl) {\n
    \                   this.mirrorEl.style.display = 'none';\n                }\n
    \               this.isVisible = bool;\n            }\n        };\n        //
    always async\n        ElementMirror.prototype.stop = function (needsRevertAnimation,
    callback) {\n            var _this = this;\n            var done = function ()
    {\n                _this.cleanup();\n                callback();\n            };\n
    \           if (needsRevertAnimation &&\n                this.mirrorEl &&\n                this.isVisible
    &&\n                this.revertDuration && // if 0, transition won't work\n                (this.deltaX
    || this.deltaY) // if same coords, transition won't work\n            ) {\n                this.doRevertAnimation(done,
    this.revertDuration);\n            }\n            else {\n                setTimeout(done,
    0);\n            }\n        };\n        ElementMirror.prototype.doRevertAnimation
    = function (callback, revertDuration) {\n            var mirrorEl = this.mirrorEl;\n
    \           var finalSourceElRect = this.sourceEl.getBoundingClientRect(); //
    because autoscrolling might have happened\n            mirrorEl.style.transition
    =\n                'top ' + revertDuration + 'ms,' +\n                    'left
    ' + revertDuration + 'ms';\n            applyStyle(mirrorEl, {\n                left:
    finalSourceElRect.left,\n                top: finalSourceElRect.top,\n            });\n
    \           whenTransitionDone(mirrorEl, function () {\n                mirrorEl.style.transition
    = '';\n                callback();\n            });\n        };\n        ElementMirror.prototype.cleanup
    = function () {\n            if (this.mirrorEl) {\n                removeElement(this.mirrorEl);\n
    \               this.mirrorEl = null;\n            }\n            this.sourceEl
    = null;\n        };\n        ElementMirror.prototype.updateElPosition = function
    () {\n            if (this.sourceEl && this.isVisible) {\n                applyStyle(this.getMirrorEl(),
    {\n                    left: this.sourceElRect.left + this.deltaX,\n                    top:
    this.sourceElRect.top + this.deltaY,\n                });\n            }\n        };\n
    \       ElementMirror.prototype.getMirrorEl = function () {\n            var sourceElRect
    = this.sourceElRect;\n            var mirrorEl = this.mirrorEl;\n            if
    (!mirrorEl) {\n                mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true);
    // cloneChildren=true\n                // we don't want long taps or any mouse
    interaction causing selection/menus.\n                // would use preventSelection(),
    but that prevents selectstart, causing problems.\n                mirrorEl.classList.add('fc-unselectable');\n
    \               mirrorEl.classList.add('fc-event-dragging');\n                applyStyle(mirrorEl,
    {\n                    position: 'fixed',\n                    zIndex: this.zIndex,\n
    \                   visibility: '',\n                    boxSizing: 'border-box',\n
    \                   width: sourceElRect.right - sourceElRect.left,\n                    height:
    sourceElRect.bottom - sourceElRect.top,\n                    right: 'auto',\n
    \                   bottom: 'auto',\n                    margin: 0,\n                });\n
    \               this.parentNode.appendChild(mirrorEl);\n            }\n            return
    mirrorEl;\n        };\n        return ElementMirror;\n    }());\n\n    /*\n    Is
    a cache for a given element's scroll information (all the info that ScrollController
    stores)\n    in addition the \"client rectangle\" of the element.. the area within
    the scrollbars.\n\n    The cache can be in one of two modes:\n    - doesListening:false
    - ignores when the container is scrolled by someone else\n    - doesListening:true
    - watch for scrolling and update the cache\n    */\n    var ScrollGeomCache =
    /** @class */ (function (_super) {\n        __extends(ScrollGeomCache, _super);\n
    \       function ScrollGeomCache(scrollController, doesListening) {\n            var
    _this = _super.call(this) || this;\n            _this.handleScroll = function
    () {\n                _this.scrollTop = _this.scrollController.getScrollTop();\n
    \               _this.scrollLeft = _this.scrollController.getScrollLeft();\n                _this.handleScrollChange();\n
    \           };\n            _this.scrollController = scrollController;\n            _this.doesListening
    = doesListening;\n            _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n
    \           _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n
    \           _this.scrollWidth = scrollController.getScrollWidth();\n            _this.scrollHeight
    = scrollController.getScrollHeight();\n            _this.clientWidth = scrollController.getClientWidth();\n
    \           _this.clientHeight = scrollController.getClientHeight();\n            _this.clientRect
    = _this.computeClientRect(); // do last in case it needs cached values\n            if
    (_this.doesListening) {\n                _this.getEventTarget().addEventListener('scroll',
    _this.handleScroll);\n            }\n            return _this;\n        }\n        ScrollGeomCache.prototype.destroy
    = function () {\n            if (this.doesListening) {\n                this.getEventTarget().removeEventListener('scroll',
    this.handleScroll);\n            }\n        };\n        ScrollGeomCache.prototype.getScrollTop
    = function () {\n            return this.scrollTop;\n        };\n        ScrollGeomCache.prototype.getScrollLeft
    = function () {\n            return this.scrollLeft;\n        };\n        ScrollGeomCache.prototype.setScrollTop
    = function (top) {\n            this.scrollController.setScrollTop(top);\n            if
    (!this.doesListening) {\n                // we are not relying on the element
    to normalize out-of-bounds scroll values\n                // so we need to sanitize
    ourselves\n                this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()),
    0);\n                this.handleScrollChange();\n            }\n        };\n        ScrollGeomCache.prototype.setScrollLeft
    = function (top) {\n            this.scrollController.setScrollLeft(top);\n            if
    (!this.doesListening) {\n                // we are not relying on the element
    to normalize out-of-bounds scroll values\n                // so we need to sanitize
    ourselves\n                this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()),
    0);\n                this.handleScrollChange();\n            }\n        };\n        ScrollGeomCache.prototype.getClientWidth
    = function () {\n            return this.clientWidth;\n        };\n        ScrollGeomCache.prototype.getClientHeight
    = function () {\n            return this.clientHeight;\n        };\n        ScrollGeomCache.prototype.getScrollWidth
    = function () {\n            return this.scrollWidth;\n        };\n        ScrollGeomCache.prototype.getScrollHeight
    = function () {\n            return this.scrollHeight;\n        };\n        ScrollGeomCache.prototype.handleScrollChange
    = function () {\n        };\n        return ScrollGeomCache;\n    }(ScrollController));\n\n
    \   var ElementScrollGeomCache = /** @class */ (function (_super) {\n        __extends(ElementScrollGeomCache,
    _super);\n        function ElementScrollGeomCache(el, doesListening) {\n            return
    _super.call(this, new ElementScrollController(el), doesListening) || this;\n        }\n
    \       ElementScrollGeomCache.prototype.getEventTarget = function () {\n            return
    this.scrollController.el;\n        };\n        ElementScrollGeomCache.prototype.computeClientRect
    = function () {\n            return computeInnerRect(this.scrollController.el);\n
    \       };\n        return ElementScrollGeomCache;\n    }(ScrollGeomCache));\n\n
    \   var WindowScrollGeomCache = /** @class */ (function (_super) {\n        __extends(WindowScrollGeomCache,
    _super);\n        function WindowScrollGeomCache(doesListening) {\n            return
    _super.call(this, new WindowScrollController(), doesListening) || this;\n        }\n
    \       WindowScrollGeomCache.prototype.getEventTarget = function () {\n            return
    window;\n        };\n        WindowScrollGeomCache.prototype.computeClientRect
    = function () {\n            return {\n                left: this.scrollLeft,\n
    \               right: this.scrollLeft + this.clientWidth,\n                top:
    this.scrollTop,\n                bottom: this.scrollTop + this.clientHeight,\n
    \           };\n        };\n        // the window is the only scroll object that
    changes it's rectangle relative\n        // to the document's topleft as it scrolls\n
    \       WindowScrollGeomCache.prototype.handleScrollChange = function () {\n            this.clientRect
    = this.computeClientRect();\n        };\n        return WindowScrollGeomCache;\n
    \   }(ScrollGeomCache));\n\n    // If available we are using native \"performance\"
    API instead of \"Date\"\n    // Read more about it on MDN:\n    // https://developer.mozilla.org/en-US/docs/Web/API/Performance\n
    \   var getTime = typeof performance === 'function' ? performance.now : Date.now;\n
    \   /*\n    For a pointer interaction, automatically scrolls certain scroll containers
    when the pointer\n    approaches the edge.\n\n    The caller must call start +
    handleMove + stop.\n    */\n    var AutoScroller = /** @class */ (function ()
    {\n        function AutoScroller() {\n            var _this = this;\n            //
    options that can be set by caller\n            this.isEnabled = true;\n            this.scrollQuery
    = [window, '.fc-scroller'];\n            this.edgeThreshold = 50; // pixels\n
    \           this.maxVelocity = 300; // pixels per second\n            // internal
    state\n            this.pointerScreenX = null;\n            this.pointerScreenY
    = null;\n            this.isAnimating = false;\n            this.scrollCaches
    = null;\n            // protect against the initial pointerdown being too close
    to an edge and starting the scroll\n            this.everMovedUp = false;\n            this.everMovedDown
    = false;\n            this.everMovedLeft = false;\n            this.everMovedRight
    = false;\n            this.animate = function () {\n                if (_this.isAnimating)
    { // wasn't cancelled between animation calls\n                    var edge =
    _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY
    + window.pageYOffset);\n                    if (edge) {\n                        var
    now = getTime();\n                        _this.handleSide(edge, (now - _this.msSinceRequest)
    / 1000);\n                        _this.requestAnimation(now);\n                    }\n
    \                   else {\n                        _this.isAnimating = false;
    // will stop animation\n                    }\n                }\n            };\n
    \       }\n        AutoScroller.prototype.start = function (pageX, pageY, scrollStartEl)
    {\n            if (this.isEnabled) {\n                this.scrollCaches = this.buildCaches(scrollStartEl);\n
    \               this.pointerScreenX = null;\n                this.pointerScreenY
    = null;\n                this.everMovedUp = false;\n                this.everMovedDown
    = false;\n                this.everMovedLeft = false;\n                this.everMovedRight
    = false;\n                this.handleMove(pageX, pageY);\n            }\n        };\n
    \       AutoScroller.prototype.handleMove = function (pageX, pageY) {\n            if
    (this.isEnabled) {\n                var pointerScreenX = pageX - window.pageXOffset;\n
    \               var pointerScreenY = pageY - window.pageYOffset;\n                var
    yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n
    \               var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX
    - this.pointerScreenX;\n                if (yDelta < 0) {\n                    this.everMovedUp
    = true;\n                }\n                else if (yDelta > 0) {\n                    this.everMovedDown
    = true;\n                }\n                if (xDelta < 0) {\n                    this.everMovedLeft
    = true;\n                }\n                else if (xDelta > 0) {\n                    this.everMovedRight
    = true;\n                }\n                this.pointerScreenX = pointerScreenX;\n
    \               this.pointerScreenY = pointerScreenY;\n                if (!this.isAnimating)
    {\n                    this.isAnimating = true;\n                    this.requestAnimation(getTime());\n
    \               }\n            }\n        };\n        AutoScroller.prototype.stop
    = function () {\n            if (this.isEnabled) {\n                this.isAnimating
    = false; // will stop animation\n                for (var _i = 0, _a = this.scrollCaches;
    _i < _a.length; _i++) {\n                    var scrollCache = _a[_i];\n                    scrollCache.destroy();\n
    \               }\n                this.scrollCaches = null;\n            }\n
    \       };\n        AutoScroller.prototype.requestAnimation = function (now) {\n
    \           this.msSinceRequest = now;\n            requestAnimationFrame(this.animate);\n
    \       };\n        AutoScroller.prototype.handleSide = function (edge, seconds)
    {\n            var scrollCache = edge.scrollCache;\n            var edgeThreshold
    = this.edgeThreshold;\n            var invDistance = edgeThreshold - edge.distance;\n
    \           var velocity = // the closer to the edge, the faster we scroll\n             ((invDistance
    * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n                this.maxVelocity
    * seconds;\n            var sign = 1;\n            switch (edge.name) {\n                case
    'left':\n                    sign = -1;\n                // falls through\n                case
    'right':\n                    scrollCache.setScrollLeft(scrollCache.getScrollLeft()
    + velocity * sign);\n                    break;\n                case 'top':\n
    \                   sign = -1;\n                // falls through\n                case
    'bottom':\n                    scrollCache.setScrollTop(scrollCache.getScrollTop()
    + velocity * sign);\n                    break;\n            }\n        };\n        //
    left/top are relative to document topleft\n        AutoScroller.prototype.computeBestEdge
    = function (left, top) {\n            var edgeThreshold = this.edgeThreshold;\n
    \           var bestSide = null;\n            for (var _i = 0, _a = this.scrollCaches;
    _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                var
    rect = scrollCache.clientRect;\n                var leftDist = left - rect.left;\n
    \               var rightDist = rect.right - left;\n                var topDist
    = top - rect.top;\n                var bottomDist = rect.bottom - top;\n                //
    completely within the rect?\n                if (leftDist >= 0 && rightDist >=
    0 && topDist >= 0 && bottomDist >= 0) {\n                    if (topDist <= edgeThreshold
    && this.everMovedUp && scrollCache.canScrollUp() &&\n                        (!bestSide
    || bestSide.distance > topDist)) {\n                        bestSide = { scrollCache:
    scrollCache, name: 'top', distance: topDist };\n                    }\n                    if
    (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown()
    &&\n                        (!bestSide || bestSide.distance > bottomDist)) {\n
    \                       bestSide = { scrollCache: scrollCache, name: 'bottom',
    distance: bottomDist };\n                    }\n                    if (leftDist
    <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                        (!bestSide
    || bestSide.distance > leftDist)) {\n                        bestSide = { scrollCache:
    scrollCache, name: 'left', distance: leftDist };\n                    }\n                    if
    (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight()
    &&\n                        (!bestSide || bestSide.distance > rightDist)) {\n
    \                       bestSide = { scrollCache: scrollCache, name: 'right',
    distance: rightDist };\n                    }\n                }\n            }\n
    \           return bestSide;\n        };\n        AutoScroller.prototype.buildCaches
    = function (scrollStartEl) {\n            return this.queryScrollEls(scrollStartEl).map(function
    (el) {\n                if (el === window) {\n                    return new WindowScrollGeomCache(false);
    // false = don't listen to user-generated scrolls\n                }\n                return
    new ElementScrollGeomCache(el, false); // false = don't listen to user-generated
    scrolls\n            });\n        };\n        AutoScroller.prototype.queryScrollEls
    = function (scrollStartEl) {\n            var els = [];\n            for (var
    _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n                var query
    = _a[_i];\n                if (typeof query === 'object') {\n                    els.push(query);\n
    \               }\n                else {\n                    els.push.apply(els,
    Array.prototype.slice.call(getElRoot(scrollStartEl).querySelectorAll(query)));\n
    \               }\n            }\n            return els;\n        };\n        return
    AutoScroller;\n    }());\n\n    /*\n    Monitors dragging on an element. Has a
    number of high-level features:\n    - minimum distance required before dragging\n
    \   - minimum wait time (\"delay\") before dragging\n    - a mirror element that
    follows the pointer\n    */\n    var FeaturefulElementDragging = /** @class */
    (function (_super) {\n        __extends(FeaturefulElementDragging, _super);\n
    \       function FeaturefulElementDragging(containerEl, selector) {\n            var
    _this = _super.call(this, containerEl) || this;\n            _this.containerEl
    = containerEl;\n            // options that can be directly set by caller\n            //
    the caller can also set the PointerDragging's options as well\n            _this.delay
    = null;\n            _this.minDistance = 0;\n            _this.touchScrollAllowed
    = true; // prevents drag from starting and blocks scrolling during drag\n            _this.mirrorNeedsRevert
    = false;\n            _this.isInteracting = false; // is the user validly moving
    the pointer? lasts until pointerup\n            _this.isDragging = false; // is
    it INTENTFULLY dragging? lasts until after revert animation\n            _this.isDelayEnded
    = false;\n            _this.isDistanceSurpassed = false;\n            _this.delayTimeoutId
    = null;\n            _this.onPointerDown = function (ev) {\n                if
    (!_this.isDragging) { // so new drag doesn't happen while revert animation is
    going\n                    _this.isInteracting = true;\n                    _this.isDelayEnded
    = false;\n                    _this.isDistanceSurpassed = false;\n                    preventSelection(document.body);\n
    \                   preventContextMenu(document.body);\n                    //
    prevent links from being visited if there's an eventual drag.\n                    //
    also prevents selection in older browsers (maybe?).\n                    // not
    necessary for touch, besides, browser would complain about passiveness.\n                    if
    (!ev.isTouch) {\n                        ev.origEvent.preventDefault();\n                    }\n
    \                   _this.emitter.trigger('pointerdown', ev);\n                    if
    (_this.isInteracting && // not destroyed via pointerdown handler\n                        !_this.pointer.shouldIgnoreMove)
    {\n                        // actions related to initiating dragstart+dragmove+dragend...\n
    \                       _this.mirror.setIsVisible(false); // reset. caller must
    set-visible\n                        _this.mirror.start(ev.subjectEl, ev.pageX,
    ev.pageY); // must happen on first pointer down\n                        _this.startDelay(ev);\n
    \                       if (!_this.minDistance) {\n                            _this.handleDistanceSurpassed(ev);\n
    \                       }\n                    }\n                }\n            };\n
    \           _this.onPointerMove = function (ev) {\n                if (_this.isInteracting)
    {\n                    _this.emitter.trigger('pointermove', ev);\n                    if
    (!_this.isDistanceSurpassed) {\n                        var minDistance = _this.minDistance;\n
    \                       var distanceSq = void 0; // current distance from the
    origin, squared\n                        var deltaX = ev.deltaX, deltaY = ev.deltaY;\n
    \                       distanceSq = deltaX * deltaX + deltaY * deltaY;\n                        if
    (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                            _this.handleDistanceSurpassed(ev);\n
    \                       }\n                    }\n                    if (_this.isDragging)
    {\n                        // a real pointer move? (not one simulated by scrolling)\n
    \                       if (ev.origEvent.type !== 'scroll') {\n                            _this.mirror.handleMove(ev.pageX,
    ev.pageY);\n                            _this.autoScroller.handleMove(ev.pageX,
    ev.pageY);\n                        }\n                        _this.emitter.trigger('dragmove',
    ev);\n                    }\n                }\n            };\n            _this.onPointerUp
    = function (ev) {\n                if (_this.isInteracting) {\n                    _this.isInteracting
    = false;\n                    allowSelection(document.body);\n                    allowContextMenu(document.body);\n
    \                   _this.emitter.trigger('pointerup', ev); // can potentially
    set mirrorNeedsRevert\n                    if (_this.isDragging) {\n                        _this.autoScroller.stop();\n
    \                       _this.tryStopDrag(ev); // which will stop the mirror\n
    \                   }\n                    if (_this.delayTimeoutId) {\n                        clearTimeout(_this.delayTimeoutId);\n
    \                       _this.delayTimeoutId = null;\n                    }\n
    \               }\n            };\n            var pointer = _this.pointer = new
    PointerDragging(containerEl);\n            pointer.emitter.on('pointerdown', _this.onPointerDown);\n
    \           pointer.emitter.on('pointermove', _this.onPointerMove);\n            pointer.emitter.on('pointerup',
    _this.onPointerUp);\n            if (selector) {\n                pointer.selector
    = selector;\n            }\n            _this.mirror = new ElementMirror();\n
    \           _this.autoScroller = new AutoScroller();\n            return _this;\n
    \       }\n        FeaturefulElementDragging.prototype.destroy = function () {\n
    \           this.pointer.destroy();\n            // HACK: simulate a pointer-up
    to end the current drag\n            // TODO: fire 'dragend' directly and stop
    interaction. discourage use of pointerup event (b/c might not fire)\n            this.onPointerUp({});\n
    \       };\n        FeaturefulElementDragging.prototype.startDelay = function
    (ev) {\n            var _this = this;\n            if (typeof this.delay === 'number')
    {\n                this.delayTimeoutId = setTimeout(function () {\n                    _this.delayTimeoutId
    = null;\n                    _this.handleDelayEnd(ev);\n                }, this.delay);
    // not assignable to number!\n            }\n            else {\n                this.handleDelayEnd(ev);\n
    \           }\n        };\n        FeaturefulElementDragging.prototype.handleDelayEnd
    = function (ev) {\n            this.isDelayEnded = true;\n            this.tryStartDrag(ev);\n
    \       };\n        FeaturefulElementDragging.prototype.handleDistanceSurpassed
    = function (ev) {\n            this.isDistanceSurpassed = true;\n            this.tryStartDrag(ev);\n
    \       };\n        FeaturefulElementDragging.prototype.tryStartDrag = function
    (ev) {\n            if (this.isDelayEnded && this.isDistanceSurpassed) {\n                if
    (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                    this.isDragging
    = true;\n                    this.mirrorNeedsRevert = false;\n                    this.autoScroller.start(ev.pageX,
    ev.pageY, this.containerEl);\n                    this.emitter.trigger('dragstart',
    ev);\n                    if (this.touchScrollAllowed === false) {\n                        this.pointer.cancelTouchScroll();\n
    \                   }\n                }\n            }\n        };\n        FeaturefulElementDragging.prototype.tryStopDrag
    = function (ev) {\n            // .stop() is ALWAYS asynchronous, which we NEED
    because we want all pointerup events\n            // that come from the document
    to fire beforehand. much more convenient this way.\n            this.mirror.stop(this.mirrorNeedsRevert,
    this.stopDrag.bind(this, ev));\n        };\n        FeaturefulElementDragging.prototype.stopDrag
    = function (ev) {\n            this.isDragging = false;\n            this.emitter.trigger('dragend',
    ev);\n        };\n        // fill in the implementations...\n        FeaturefulElementDragging.prototype.setIgnoreMove
    = function (bool) {\n            this.pointer.shouldIgnoreMove = bool;\n        };\n
    \       FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool)
    {\n            this.mirror.setIsVisible(bool);\n        };\n        FeaturefulElementDragging.prototype.setMirrorNeedsRevert
    = function (bool) {\n            this.mirrorNeedsRevert = bool;\n        };\n
    \       FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool)
    {\n            this.autoScroller.isEnabled = bool;\n        };\n        return
    FeaturefulElementDragging;\n    }(ElementDragging));\n\n    /*\n    When this
    class is instantiated, it records the offset of an element (relative to the document
    topleft),\n    and continues to monitor scrolling, updating the cached coordinates
    if it needs to.\n    Does not access the DOM after instantiation, so highly performant.\n\n
    \   Also keeps track of all scrolling/overflow:hidden containers that are parents
    of the given element\n    and an determine if a given point is inside the combined
    clipping rectangle.\n    */\n    var OffsetTracker = /** @class */ (function ()
    {\n        function OffsetTracker(el) {\n            this.origRect = computeRect(el);\n
    \           // will work fine for divs that have overflow:hidden\n            this.scrollCaches
    = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl,
    true); });\n        }\n        OffsetTracker.prototype.destroy = function () {\n
    \           for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n
    \               var scrollCache = _a[_i];\n                scrollCache.destroy();\n
    \           }\n        };\n        OffsetTracker.prototype.computeLeft = function
    () {\n            var left = this.origRect.left;\n            for (var _i = 0,
    _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache
    = _a[_i];\n                left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n
    \           }\n            return left;\n        };\n        OffsetTracker.prototype.computeTop
    = function () {\n            var top = this.origRect.top;\n            for (var
    _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache
    = _a[_i];\n                top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n
    \           }\n            return top;\n        };\n        OffsetTracker.prototype.isWithinClipping
    = function (pageX, pageY) {\n            var point = { left: pageX, top: pageY
    };\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++)
    {\n                var scrollCache = _a[_i];\n                if (!isIgnoredClipping(scrollCache.getEventTarget())
    &&\n                    !pointInsideRect(point, scrollCache.clientRect)) {\n                    return
    false;\n                }\n            }\n            return true;\n        };\n
    \       return OffsetTracker;\n    }());\n    // certain clipping containers should
    never constrain interactions, like <html> and <body>\n    // https://github.com/fullcalendar/fullcalendar/issues/3615\n
    \   function isIgnoredClipping(node) {\n        var tagName = node.tagName;\n
    \       return tagName === 'HTML' || tagName === 'BODY';\n    }\n\n    /*\n    Tracks
    movement over multiple droppable areas (aka \"hits\")\n    that exist in one or
    more DateComponents.\n    Relies on an existing draggable.\n\n    emits:\n    -
    pointerdown\n    - dragstart\n    - hitchange - fires initially, even if not over
    a hit\n    - pointerup\n    - (hitchange - again, to null, if ended over a hit)\n
    \   - dragend\n    */\n    var HitDragging = /** @class */ (function () {\n        function
    HitDragging(dragging, droppableStore) {\n            var _this = this;\n            //
    options that can be set by caller\n            this.useSubjectCenter = false;\n
    \           this.requireInitial = true; // if doesn't start out on a hit, won't
    emit any events\n            this.initialHit = null;\n            this.movingHit
    = null;\n            this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n
    \           this.handlePointerDown = function (ev) {\n                var dragging
    = _this.dragging;\n                _this.initialHit = null;\n                _this.movingHit
    = null;\n                _this.finalHit = null;\n                _this.prepareHits();\n
    \               _this.processFirstCoord(ev);\n                if (_this.initialHit
    || !_this.requireInitial) {\n                    dragging.setIgnoreMove(false);\n
    \                   // TODO: fire this before computing processFirstCoord, so
    listeners can cancel. this gets fired by almost every handler :(\n                    _this.emitter.trigger('pointerdown',
    ev);\n                }\n                else {\n                    dragging.setIgnoreMove(true);\n
    \               }\n            };\n            this.handleDragStart = function
    (ev) {\n                _this.emitter.trigger('dragstart', ev);\n                _this.handleMove(ev,
    true); // force = fire even if initially null\n            };\n            this.handleDragMove
    = function (ev) {\n                _this.emitter.trigger('dragmove', ev);\n                _this.handleMove(ev);\n
    \           };\n            this.handlePointerUp = function (ev) {\n                _this.releaseHits();\n
    \               _this.emitter.trigger('pointerup', ev);\n            };\n            this.handleDragEnd
    = function (ev) {\n                if (_this.movingHit) {\n                    _this.emitter.trigger('hitupdate',
    null, true, ev);\n                }\n                _this.finalHit = _this.movingHit;\n
    \               _this.movingHit = null;\n                _this.emitter.trigger('dragend',
    ev);\n            };\n            this.droppableStore = droppableStore;\n            dragging.emitter.on('pointerdown',
    this.handlePointerDown);\n            dragging.emitter.on('dragstart', this.handleDragStart);\n
    \           dragging.emitter.on('dragmove', this.handleDragMove);\n            dragging.emitter.on('pointerup',
    this.handlePointerUp);\n            dragging.emitter.on('dragend', this.handleDragEnd);\n
    \           this.dragging = dragging;\n            this.emitter = new Emitter();\n
    \       }\n        // sets initialHit\n        // sets coordAdjust\n        HitDragging.prototype.processFirstCoord
    = function (ev) {\n            var origPoint = { left: ev.pageX, top: ev.pageY
    };\n            var adjustedPoint = origPoint;\n            var subjectEl = ev.subjectEl;\n
    \           var subjectRect;\n            if (subjectEl instanceof HTMLElement)
    { // i.e. not a Document/ShadowRoot\n                subjectRect = computeRect(subjectEl);\n
    \               adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n
    \           }\n            var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left,
    adjustedPoint.top);\n            if (initialHit) {\n                if (this.useSubjectCenter
    && subjectRect) {\n                    var slicedSubjectRect = intersectRects(subjectRect,
    initialHit.rect);\n                    if (slicedSubjectRect) {\n                        adjustedPoint
    = getRectCenter(slicedSubjectRect);\n                    }\n                }\n
    \               this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n            }\n
    \           else {\n                this.coordAdjust = { left: 0, top: 0 };\n
    \           }\n        };\n        HitDragging.prototype.handleMove = function
    (ev, forceHandle) {\n            var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left,
    ev.pageY + this.coordAdjust.top);\n            if (forceHandle || !isHitsEqual(this.movingHit,
    hit)) {\n                this.movingHit = hit;\n                this.emitter.trigger('hitupdate',
    hit, false, ev);\n            }\n        };\n        HitDragging.prototype.prepareHits
    = function () {\n            this.offsetTrackers = mapHash(this.droppableStore,
    function (interactionSettings) {\n                interactionSettings.component.prepareHits();\n
    \               return new OffsetTracker(interactionSettings.el);\n            });\n
    \       };\n        HitDragging.prototype.releaseHits = function () {\n            var
    offsetTrackers = this.offsetTrackers;\n            for (var id in offsetTrackers)
    {\n                offsetTrackers[id].destroy();\n            }\n            this.offsetTrackers
    = {};\n        };\n        HitDragging.prototype.queryHitForOffset = function
    (offsetLeft, offsetTop) {\n            var _a = this, droppableStore = _a.droppableStore,
    offsetTrackers = _a.offsetTrackers;\n            var bestHit = null;\n            for
    (var id in droppableStore) {\n                var component = droppableStore[id].component;\n
    \               var offsetTracker = offsetTrackers[id];\n                if (offsetTracker
    && // wasn't destroyed mid-drag\n                    offsetTracker.isWithinClipping(offsetLeft,
    offsetTop)) {\n                    var originLeft = offsetTracker.computeLeft();\n
    \                   var originTop = offsetTracker.computeTop();\n                    var
    positionLeft = offsetLeft - originLeft;\n                    var positionTop =
    offsetTop - originTop;\n                    var origRect = offsetTracker.origRect;\n
    \                   var width = origRect.right - origRect.left;\n                    var
    height = origRect.bottom - origRect.top;\n                    if (\n                    //
    must be within the element's bounds\n                    positionLeft >= 0 &&
    positionLeft < width &&\n                        positionTop >= 0 && positionTop
    < height) {\n                        var hit = component.queryHit(positionLeft,
    positionTop, width, height);\n                        if (hit && (\n                        //
    make sure the hit is within activeRange, meaning it's not a dead cell\n                        rangeContainsRange(hit.dateProfile.activeRange,
    hit.dateSpan.range)) &&\n                            (!bestHit || hit.layer >
    bestHit.layer)) {\n                            hit.componentId = id;\n                            hit.context
    = component.context;\n                            // TODO: better way to re-orient
    rectangle\n                            hit.rect.left += originLeft;\n                            hit.rect.right
    += originLeft;\n                            hit.rect.top += originTop;\n                            hit.rect.bottom
    += originTop;\n                            bestHit = hit;\n                        }\n
    \                   }\n                }\n            }\n            return bestHit;\n
    \       };\n        return HitDragging;\n    }());\n    function isHitsEqual(hit0,
    hit1) {\n        if (!hit0 && !hit1) {\n            return true;\n        }\n
    \       if (Boolean(hit0) !== Boolean(hit1)) {\n            return false;\n        }\n
    \       return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n    }\n\n    function
    buildDatePointApiWithContext(dateSpan, context) {\n        var props = {};\n        for
    (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++)
    {\n            var transform = _a[_i];\n            __assign(props, transform(dateSpan,
    context));\n        }\n        __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n
    \       return props;\n    }\n    function buildDatePointApi(span, dateEnv) {\n
    \       return {\n            date: dateEnv.toDate(span.range.start),\n            dateStr:
    dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n            allDay:
    span.allDay,\n        };\n    }\n\n    /*\n    Monitors when the user clicks on
    a specific date/time of a component.\n    A pointerdown+pointerup on the same
    \"hit\" constitutes a click.\n    */\n    var DateClicking = /** @class */ (function
    (_super) {\n        __extends(DateClicking, _super);\n        function DateClicking(settings)
    {\n            var _this = _super.call(this, settings) || this;\n            _this.handlePointerDown
    = function (pev) {\n                var dragging = _this.dragging;\n                var
    downEl = pev.origEvent.target;\n                // do this in pointerdown (not
    dragend) because DOM might be mutated by the time dragend is fired\n                dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n
    \           };\n            // won't even fire if moving was ignored\n            _this.handleDragEnd
    = function (ev) {\n                var component = _this.component;\n                var
    pointer = _this.dragging.pointer;\n                if (!pointer.wasTouchScroll)
    {\n                    var _a = _this.hitDragging, initialHit = _a.initialHit,
    finalHit = _a.finalHit;\n                    if (initialHit && finalHit && isHitsEqual(initialHit,
    finalHit)) {\n                        var context = component.context;\n                        var
    arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan,
    context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi
    || context.calendarApi.view });\n                        context.emitter.trigger('dateClick',
    arg);\n                    }\n                }\n            };\n            //
    we DO want to watch pointer moves because otherwise finalHit won't get populated\n
    \           _this.dragging = new FeaturefulElementDragging(settings.el);\n            _this.dragging.autoScroller.isEnabled
    = false;\n            var hitDragging = _this.hitDragging = new HitDragging(_this.dragging,
    interactionSettingsToStore(settings));\n            hitDragging.emitter.on('pointerdown',
    _this.handlePointerDown);\n            hitDragging.emitter.on('dragend', _this.handleDragEnd);\n
    \           return _this;\n        }\n        DateClicking.prototype.destroy =
    function () {\n            this.dragging.destroy();\n        };\n        return
    DateClicking;\n    }(Interaction));\n\n    /*\n    Tracks when the user selects
    a portion of time of a component,\n    constituted by a drag over date cells,
    with a possible delay at the beginning of the drag.\n    */\n    var DateSelecting
    = /** @class */ (function (_super) {\n        __extends(DateSelecting, _super);\n
    \       function DateSelecting(settings) {\n            var _this = _super.call(this,
    settings) || this;\n            _this.dragSelection = null;\n            _this.handlePointerDown
    = function (ev) {\n                var _a = _this, component = _a.component, dragging
    = _a.dragging;\n                var options = component.context.options;\n                var
    canSelect = options.selectable &&\n                    component.isValidDateDownEl(ev.origEvent.target);\n
    \               // don't bother to watch expensive moves if component won't do
    selection\n                dragging.setIgnoreMove(!canSelect);\n                //
    if touch, require user to hold down\n                dragging.delay = ev.isTouch
    ? getComponentTouchDelay$1(component) : null;\n            };\n            _this.handleDragStart
    = function (ev) {\n                _this.component.context.calendarApi.unselect(ev);
    // unselect previous selections\n            };\n            _this.handleHitUpdate
    = function (hit, isFinal) {\n                var context = _this.component.context;\n
    \               var dragSelection = null;\n                var isInvalid = false;\n
    \               if (hit) {\n                    var initialHit = _this.hitDragging.initialHit;\n
    \                   var disallowed = hit.componentId === initialHit.componentId\n
    \                       && _this.isHitComboAllowed\n                        &&
    !_this.isHitComboAllowed(initialHit, hit);\n                    if (!disallowed)
    {\n                        dragSelection = joinHitsIntoSelection(initialHit, hit,
    context.pluginHooks.dateSelectionTransformers);\n                    }\n                    if
    (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context))
    {\n                        isInvalid = true;\n                        dragSelection
    = null;\n                    }\n                }\n                if (dragSelection)
    {\n                    context.dispatch({ type: 'SELECT_DATES', selection: dragSelection
    });\n                }\n                else if (!isFinal) { // only unselect
    if moved away while dragging\n                    context.dispatch({ type: 'UNSELECT_DATES'
    });\n                }\n                if (!isInvalid) {\n                    enableCursor();\n
    \               }\n                else {\n                    disableCursor();\n
    \               }\n                if (!isFinal) {\n                    _this.dragSelection
    = dragSelection; // only clear if moved away from all hits while dragging\n                }\n
    \           };\n            _this.handlePointerUp = function (pev) {\n                if
    (_this.dragSelection) {\n                    // selection is already rendered,
    so just need to report selection\n                    triggerDateSelect(_this.dragSelection,
    pev, _this.component.context);\n                    _this.dragSelection = null;\n
    \               }\n            };\n            var component = settings.component;\n
    \           var options = component.context.options;\n            var dragging
    = _this.dragging = new FeaturefulElementDragging(settings.el);\n            dragging.touchScrollAllowed
    = false;\n            dragging.minDistance = options.selectMinDistance || 0;\n
    \           dragging.autoScroller.isEnabled = options.dragScroll;\n            var
    hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n
    \           hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n
    \           hitDragging.emitter.on('dragstart', _this.handleDragStart);\n            hitDragging.emitter.on('hitupdate',
    _this.handleHitUpdate);\n            hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n
    \           return _this;\n        }\n        DateSelecting.prototype.destroy
    = function () {\n            this.dragging.destroy();\n        };\n        return
    DateSelecting;\n    }(Interaction));\n    function getComponentTouchDelay$1(component)
    {\n        var options = component.context.options;\n        var delay = options.selectLongPressDelay;\n
    \       if (delay == null) {\n            delay = options.longPressDelay;\n        }\n
    \       return delay;\n    }\n    function joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers)
    {\n        var dateSpan0 = hit0.dateSpan;\n        var dateSpan1 = hit1.dateSpan;\n
    \       var ms = [\n            dateSpan0.range.start,\n            dateSpan0.range.end,\n
    \           dateSpan1.range.start,\n            dateSpan1.range.end,\n        ];\n
    \       ms.sort(compareNumbers);\n        var props = {};\n        for (var _i
    = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length;
    _i++) {\n            var transformer = dateSelectionTransformers_1[_i];\n            var
    res = transformer(hit0, hit1);\n            if (res === false) {\n                return
    null;\n            }\n            if (res) {\n                __assign(props,
    res);\n            }\n        }\n        props.range = { start: ms[0], end: ms[3]
    };\n        props.allDay = dateSpan0.allDay;\n        return props;\n    }\n\n
    \   var EventDragging = /** @class */ (function (_super) {\n        __extends(EventDragging,
    _super);\n        function EventDragging(settings) {\n            var _this =
    _super.call(this, settings) || this;\n            // internal state\n            _this.subjectEl
    = null;\n            _this.subjectSeg = null; // the seg being selected/dragged\n
    \           _this.isDragging = false;\n            _this.eventRange = null;\n
    \           _this.relevantEvents = null; // the events being dragged\n            _this.receivingContext
    = null;\n            _this.validMutation = null;\n            _this.mutatedRelevantEvents
    = null;\n            _this.handlePointerDown = function (ev) {\n                var
    origTarget = ev.origEvent.target;\n                var _a = _this, component =
    _a.component, dragging = _a.dragging;\n                var mirror = dragging.mirror;\n
    \               var options = component.context.options;\n                var
    initialContext = component.context;\n                _this.subjectEl = ev.subjectEl;\n
    \               var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n
    \               var eventRange = _this.eventRange = subjectSeg.eventRange;\n                var
    eventInstanceId = eventRange.instance.instanceId;\n                _this.relevantEvents
    = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n
    \               dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n
    \               dragging.delay =\n                    // only do a touch delay
    if touch and this event hasn't been selected yet\n                    (ev.isTouch
    && eventInstanceId !== component.props.eventSelection) ?\n                        getComponentTouchDelay(component)
    :\n                        null;\n                if (options.fixedMirrorParent)
    {\n                    mirror.parentNode = options.fixedMirrorParent;\n                }\n
    \               else {\n                    mirror.parentNode = elementClosest(origTarget,
    '.fc');\n                }\n                mirror.revertDuration = options.dragRevertDuration;\n
    \               var isValid = component.isValidSegDownEl(origTarget) &&\n                    !elementClosest(origTarget,
    '.fc-event-resizer'); // NOT on a resizer\n                dragging.setIgnoreMove(!isValid);\n
    \               // disable dragging for elements that are resizable (ie, selectable)\n
    \               // but are not draggable\n                _this.isDragging = isValid
    &&\n                    ev.subjectEl.classList.contains('fc-event-draggable');\n
    \           };\n            _this.handleDragStart = function (ev) {\n                var
    initialContext = _this.component.context;\n                var eventRange = _this.eventRange;\n
    \               var eventInstanceId = eventRange.instance.instanceId;\n                if
    (ev.isTouch) {\n                    // need to select a different event?\n                    if
    (eventInstanceId !== _this.component.props.eventSelection) {\n                        initialContext.dispatch({
    type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                    }\n
    \               }\n                else {\n                    // if now using
    mouse, but was previous touch interaction, clear selected event\n                    initialContext.dispatch({
    type: 'UNSELECT_EVENT' });\n                }\n                if (_this.isDragging)
    {\n                    initialContext.calendarApi.unselect(ev); // unselect *date*
    selection\n                    initialContext.emitter.trigger('eventDragStart',
    {\n                        el: _this.subjectEl,\n                        event:
    new EventApi(initialContext, eventRange.def, eventRange.instance),\n                        jsEvent:
    ev.origEvent,\n                        view: initialContext.viewApi,\n                    });\n
    \               }\n            };\n            _this.handleHitUpdate = function
    (hit, isFinal) {\n                if (!_this.isDragging) {\n                    return;\n
    \               }\n                var relevantEvents = _this.relevantEvents;\n
    \               var initialHit = _this.hitDragging.initialHit;\n                var
    initialContext = _this.component.context;\n                // states based on
    new hit\n                var receivingContext = null;\n                var mutation
    = null;\n                var mutatedRelevantEvents = null;\n                var
    isInvalid = false;\n                var interaction = {\n                    affectedEvents:
    relevantEvents,\n                    mutatedEvents: createEmptyEventStore(),\n
    \                   isEvent: true,\n                };\n                if (hit)
    {\n                    receivingContext = hit.context;\n                    var
    receivingOptions = receivingContext.options;\n                    if (initialContext
    === receivingContext ||\n                        (receivingOptions.editable &&
    receivingOptions.droppable)) {\n                        mutation = computeEventMutation(initialHit,
    hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n
    \                       if (mutation) {\n                            mutatedRelevantEvents
    = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases,
    mutation, receivingContext);\n                            interaction.mutatedEvents
    = mutatedRelevantEvents;\n                            if (!isInteractionValid(interaction,
    hit.dateProfile, receivingContext)) {\n                                isInvalid
    = true;\n                                mutation = null;\n                                mutatedRelevantEvents
    = null;\n                                interaction.mutatedEvents = createEmptyEventStore();\n
    \                           }\n                        }\n                    }\n
    \                   else {\n                        receivingContext = null;\n
    \                   }\n                }\n                _this.displayDrag(receivingContext,
    interaction);\n                if (!isInvalid) {\n                    enableCursor();\n
    \               }\n                else {\n                    disableCursor();\n
    \               }\n                if (!isFinal) {\n                    if (initialContext
    === receivingContext && // TODO: write test for this\n                        isHitsEqual(initialHit,
    hit)) {\n                        mutation = null;\n                    }\n                    _this.dragging.setMirrorNeedsRevert(!mutation);\n
    \                   // render the mirror if no already-rendered mirror\n                    //
    TODO: wish we could somehow wait for dispatch to guarantee render\n                    _this.dragging.setMirrorIsVisible(!hit
    || !getElRoot(_this.subjectEl).querySelector('.fc-event-mirror'));\n                    //
    assign states based on new hit\n                    _this.receivingContext = receivingContext;\n
    \                   _this.validMutation = mutation;\n                    _this.mutatedRelevantEvents
    = mutatedRelevantEvents;\n                }\n            };\n            _this.handlePointerUp
    = function () {\n                if (!_this.isDragging) {\n                    _this.cleanup();
    // because handleDragEnd won't fire\n                }\n            };\n            _this.handleDragEnd
    = function (ev) {\n                if (_this.isDragging) {\n                    var
    initialContext_1 = _this.component.context;\n                    var initialView
    = initialContext_1.viewApi;\n                    var _a = _this, receivingContext_1
    = _a.receivingContext, validMutation = _a.validMutation;\n                    var
    eventDef = _this.eventRange.def;\n                    var eventInstance = _this.eventRange.instance;\n
    \                   var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n
    \                   var relevantEvents_1 = _this.relevantEvents;\n                    var
    mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                    var
    finalHit = _this.hitDragging.finalHit;\n                    _this.clearDrag();
    // must happen after revert animation\n                    initialContext_1.emitter.trigger('eventDragStop',
    {\n                        el: _this.subjectEl,\n                        event:
    eventApi,\n                        jsEvent: ev.origEvent,\n                        view:
    initialView,\n                    });\n                    if (validMutation)
    {\n                        // dropped within same calendar\n                        if
    (receivingContext_1 === initialContext_1) {\n                            var updatedEventApi
    = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId],
    eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] :
    null);\n                            initialContext_1.dispatch({\n                                type:
    'MERGE_EVENTS',\n                                eventStore: mutatedRelevantEvents_1,\n
    \                           });\n                            var eventChangeArg
    = {\n                                oldEvent: eventApi,\n                                event:
    updatedEventApi,\n                                relatedEvents: buildEventApis(mutatedRelevantEvents_1,
    initialContext_1, eventInstance),\n                                revert: function
    () {\n                                    initialContext_1.dispatch({\n                                        type:
    'MERGE_EVENTS',\n                                        eventStore: relevantEvents_1,
    // the pre-change data\n                                    });\n                                },\n
    \                           };\n                            var transformed =
    {};\n                            for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers;
    _i < _b.length; _i++) {\n                                var transformer = _b[_i];\n
    \                               __assign(transformed, transformer(validMutation,
    initialContext_1));\n                            }\n                            initialContext_1.emitter.trigger('eventDrop',
    __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl,
    delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n
    \                           initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n
    \                           // dropped in different calendar\n                        }\n
    \                       else if (receivingContext_1) {\n                            var
    eventRemoveArg = {\n                                event: eventApi,\n                                relatedEvents:
    buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                                revert:
    function () {\n                                    initialContext_1.dispatch({\n
    \                                       type: 'MERGE_EVENTS',\n                                        eventStore:
    relevantEvents_1,\n                                    });\n                                },\n
    \                           };\n                            initialContext_1.emitter.trigger('eventLeave',
    __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView
    }));\n                            initialContext_1.dispatch({\n                                type:
    'REMOVE_EVENTS',\n                                eventStore: relevantEvents_1,\n
    \                           });\n                            initialContext_1.emitter.trigger('eventRemove',
    eventRemoveArg);\n                            var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n
    \                           var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n
    \                           var addedEventApi = new EventApi(receivingContext_1,
    addedEventDef, addedEventInstance);\n                            receivingContext_1.dispatch({\n
    \                               type: 'MERGE_EVENTS',\n                                eventStore:
    mutatedRelevantEvents_1,\n                            });\n                            var
    eventAddArg = {\n                                event: addedEventApi,\n                                relatedEvents:
    buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n
    \                               revert: function () {\n                                    receivingContext_1.dispatch({\n
    \                                       type: 'REMOVE_EVENTS',\n                                        eventStore:
    mutatedRelevantEvents_1,\n                                    });\n                                },\n
    \                           };\n                            receivingContext_1.emitter.trigger('eventAdd',
    eventAddArg);\n                            if (ev.isTouch) {\n                                receivingContext_1.dispatch({\n
    \                                   type: 'SELECT_EVENT',\n                                    eventInstanceId:
    eventInstance.instanceId,\n                                });\n                            }\n
    \                           receivingContext_1.emitter.trigger('drop', __assign(__assign({},
    buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl:
    ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                            receivingContext_1.emitter.trigger('eventReceive',
    __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi
    }));\n                        }\n                    }\n                    else
    {\n                        initialContext_1.emitter.trigger('_noEventDrop');\n
    \                   }\n                }\n                _this.cleanup();\n            };\n
    \           var component = _this.component;\n            var options = component.context.options;\n
    \           var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n
    \           dragging.pointer.selector = EventDragging.SELECTOR;\n            dragging.touchScrollAllowed
    = false;\n            dragging.autoScroller.isEnabled = options.dragScroll;\n
    \           var hitDragging = _this.hitDragging = new HitDragging(_this.dragging,
    interactionSettingsStore);\n            hitDragging.useSubjectCenter = settings.useEventCenter;\n
    \           hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n
    \           hitDragging.emitter.on('dragstart', _this.handleDragStart);\n            hitDragging.emitter.on('hitupdate',
    _this.handleHitUpdate);\n            hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n
    \           hitDragging.emitter.on('dragend', _this.handleDragEnd);\n            return
    _this;\n        }\n        EventDragging.prototype.destroy = function () {\n            this.dragging.destroy();\n
    \       };\n        // render a drag state on the next receivingCalendar\n        EventDragging.prototype.displayDrag
    = function (nextContext, state) {\n            var initialContext = this.component.context;\n
    \           var prevContext = this.receivingContext;\n            // does the
    previous calendar need to be cleared?\n            if (prevContext && prevContext
    !== nextContext) {\n                // does the initial calendar need to be cleared?\n
    \               // if so, don't clear all the way. we still need to to hide the
    affectedEvents\n                if (prevContext === initialContext) {\n                    prevContext.dispatch({\n
    \                       type: 'SET_EVENT_DRAG',\n                        state:
    {\n                            affectedEvents: state.affectedEvents,\n                            mutatedEvents:
    createEmptyEventStore(),\n                            isEvent: true,\n                        },\n
    \                   });\n                    // completely clear the old calendar
    if it wasn't the initial\n                }\n                else {\n                    prevContext.dispatch({
    type: 'UNSET_EVENT_DRAG' });\n                }\n            }\n            if
    (nextContext) {\n                nextContext.dispatch({ type: 'SET_EVENT_DRAG',
    state: state });\n            }\n        };\n        EventDragging.prototype.clearDrag
    = function () {\n            var initialCalendar = this.component.context;\n            var
    receivingContext = this.receivingContext;\n            if (receivingContext) {\n
    \               receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n
    \           // the initial calendar might have an dummy drag state from displayDrag\n
    \           if (initialCalendar !== receivingContext) {\n                initialCalendar.dispatch({
    type: 'UNSET_EVENT_DRAG' });\n            }\n        };\n        EventDragging.prototype.cleanup
    = function () {\n            this.subjectSeg = null;\n            this.isDragging
    = false;\n            this.eventRange = null;\n            this.relevantEvents
    = null;\n            this.receivingContext = null;\n            this.validMutation
    = null;\n            this.mutatedRelevantEvents = null;\n        };\n        //
    TODO: test this in IE11\n        // QUESTION: why do we need it on the resizable???\n
    \       EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n
    \       return EventDragging;\n    }(Interaction));\n    function computeEventMutation(hit0,
    hit1, massagers) {\n        var dateSpan0 = hit0.dateSpan;\n        var dateSpan1
    = hit1.dateSpan;\n        var date0 = dateSpan0.range.start;\n        var date1
    = dateSpan1.range.start;\n        var standardProps = {};\n        if (dateSpan0.allDay
    !== dateSpan1.allDay) {\n            standardProps.allDay = dateSpan1.allDay;\n
    \           standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n
    \           if (dateSpan1.allDay) {\n                // means date1 is already
    start-of-day,\n                // but date0 needs to be converted\n                date0
    = startOfDay(date0);\n            }\n        }\n        var delta = diffDates(date0,
    date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n            hit0.largeUnit
    :\n            null);\n        if (delta.milliseconds) { // has hours/minutes/seconds\n
    \           standardProps.allDay = false;\n        }\n        var mutation = {\n
    \           datesDelta: delta,\n            standardProps: standardProps,\n        };\n
    \       for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++)
    {\n            var massager = massagers_1[_i];\n            massager(mutation,
    hit0, hit1);\n        }\n        return mutation;\n    }\n    function getComponentTouchDelay(component)
    {\n        var options = component.context.options;\n        var delay = options.eventLongPressDelay;\n
    \       if (delay == null) {\n            delay = options.longPressDelay;\n        }\n
    \       return delay;\n    }\n\n    var EventResizing = /** @class */ (function
    (_super) {\n        __extends(EventResizing, _super);\n        function EventResizing(settings)
    {\n            var _this = _super.call(this, settings) || this;\n            //
    internal state\n            _this.draggingSegEl = null;\n            _this.draggingSeg
    = null; // TODO: rename to resizingSeg? subjectSeg?\n            _this.eventRange
    = null;\n            _this.relevantEvents = null;\n            _this.validMutation
    = null;\n            _this.mutatedRelevantEvents = null;\n            _this.handlePointerDown
    = function (ev) {\n                var component = _this.component;\n                var
    segEl = _this.querySegEl(ev);\n                var seg = getElSeg(segEl);\n                var
    eventRange = _this.eventRange = seg.eventRange;\n                _this.dragging.minDistance
    = component.context.options.eventDragMinDistance;\n                // if touch,
    need to be working with a selected event\n                _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target)
    ||\n                    (ev.isTouch && _this.component.props.eventSelection !==
    eventRange.instance.instanceId));\n            };\n            _this.handleDragStart
    = function (ev) {\n                var context = _this.component.context;\n                var
    eventRange = _this.eventRange;\n                _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore,
    _this.eventRange.instance.instanceId);\n                var segEl = _this.querySegEl(ev);\n
    \               _this.draggingSegEl = segEl;\n                _this.draggingSeg
    = getElSeg(segEl);\n                context.calendarApi.unselect();\n                context.emitter.trigger('eventResizeStart',
    {\n                    el: segEl,\n                    event: new EventApi(context,
    eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n
    \                   view: context.viewApi,\n                });\n            };\n
    \           _this.handleHitUpdate = function (hit, isFinal, ev) {\n                var
    context = _this.component.context;\n                var relevantEvents = _this.relevantEvents;\n
    \               var initialHit = _this.hitDragging.initialHit;\n                var
    eventInstance = _this.eventRange.instance;\n                var mutation = null;\n
    \               var mutatedRelevantEvents = null;\n                var isInvalid
    = false;\n                var interaction = {\n                    affectedEvents:
    relevantEvents,\n                    mutatedEvents: createEmptyEventStore(),\n
    \                   isEvent: true,\n                };\n                if (hit)
    {\n                    var disallowed = hit.componentId === initialHit.componentId\n
    \                       && _this.isHitComboAllowed\n                        &&
    !_this.isHitComboAllowed(initialHit, hit);\n                    if (!disallowed)
    {\n                        mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'),
    eventInstance.range);\n                    }\n                }\n                if
    (mutation) {\n                    mutatedRelevantEvents = applyMutationToEventStore(relevantEvents,
    context.getCurrentData().eventUiBases, mutation, context);\n                    interaction.mutatedEvents
    = mutatedRelevantEvents;\n                    if (!isInteractionValid(interaction,
    hit.dateProfile, context)) {\n                        isInvalid = true;\n                        mutation
    = null;\n                        mutatedRelevantEvents = null;\n                        interaction.mutatedEvents
    = null;\n                    }\n                }\n                if (mutatedRelevantEvents)
    {\n                    context.dispatch({\n                        type: 'SET_EVENT_RESIZE',\n
    \                       state: interaction,\n                    });\n                }\n
    \               else {\n                    context.dispatch({ type: 'UNSET_EVENT_RESIZE'
    });\n                }\n                if (!isInvalid) {\n                    enableCursor();\n
    \               }\n                else {\n                    disableCursor();\n
    \               }\n                if (!isFinal) {\n                    if (mutation
    && isHitsEqual(initialHit, hit)) {\n                        mutation = null;\n
    \                   }\n                    _this.validMutation = mutation;\n                    _this.mutatedRelevantEvents
    = mutatedRelevantEvents;\n                }\n            };\n            _this.handleDragEnd
    = function (ev) {\n                var context = _this.component.context;\n                var
    eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n
    \               var eventApi = new EventApi(context, eventDef, eventInstance);\n
    \               var relevantEvents = _this.relevantEvents;\n                var
    mutatedRelevantEvents = _this.mutatedRelevantEvents;\n                context.emitter.trigger('eventResizeStop',
    {\n                    el: _this.draggingSegEl,\n                    event: eventApi,\n
    \                   jsEvent: ev.origEvent,\n                    view: context.viewApi,\n
    \               });\n                if (_this.validMutation) {\n                    var
    updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId],
    eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n
    \                   context.dispatch({\n                        type: 'MERGE_EVENTS',\n
    \                       eventStore: mutatedRelevantEvents,\n                    });\n
    \                   var eventChangeArg = {\n                        oldEvent:
    eventApi,\n                        event: updatedEventApi,\n                        relatedEvents:
    buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                        revert:
    function () {\n                            context.dispatch({\n                                type:
    'MERGE_EVENTS',\n                                eventStore: relevantEvents, //
    the pre-change events\n                            });\n                        },\n
    \                   };\n                    context.emitter.trigger('eventResize',
    __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta:
    _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta
    || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                    context.emitter.trigger('eventChange',
    eventChangeArg);\n                }\n                else {\n                    context.emitter.trigger('_noEventResize');\n
    \               }\n                // reset all internal state\n                _this.draggingSeg
    = null;\n                _this.relevantEvents = null;\n                _this.validMutation
    = null;\n                // okay to keep eventInstance around. useful to set it
    in handlePointerDown\n            };\n            var component = settings.component;\n
    \           var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n
    \           dragging.pointer.selector = '.fc-event-resizer';\n            dragging.touchScrollAllowed
    = false;\n            dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n
    \           var hitDragging = _this.hitDragging = new HitDragging(_this.dragging,
    interactionSettingsToStore(settings));\n            hitDragging.emitter.on('pointerdown',
    _this.handlePointerDown);\n            hitDragging.emitter.on('dragstart', _this.handleDragStart);\n
    \           hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n            hitDragging.emitter.on('dragend',
    _this.handleDragEnd);\n            return _this;\n        }\n        EventResizing.prototype.destroy
    = function () {\n            this.dragging.destroy();\n        };\n        EventResizing.prototype.querySegEl
    = function (ev) {\n            return elementClosest(ev.subjectEl, '.fc-event');\n
    \       };\n        return EventResizing;\n    }(Interaction));\n    function
    computeMutation(hit0, hit1, isFromStart, instanceRange) {\n        var dateEnv
    = hit0.context.dateEnv;\n        var date0 = hit0.dateSpan.range.start;\n        var
    date1 = hit1.dateSpan.range.start;\n        var delta = diffDates(date0, date1,
    dateEnv, hit0.largeUnit);\n        if (isFromStart) {\n            if (dateEnv.add(instanceRange.start,
    delta) < instanceRange.end) {\n                return { startDelta: delta };\n
    \           }\n        }\n        else if (dateEnv.add(instanceRange.end, delta)
    > instanceRange.start) {\n            return { endDelta: delta };\n        }\n
    \       return null;\n    }\n\n    var UnselectAuto = /** @class */ (function
    () {\n        function UnselectAuto(context) {\n            var _this = this;\n
    \           this.context = context;\n            this.isRecentPointerDateSelect
    = false; // wish we could use a selector to detect date selection, but uses hit
    system\n            this.matchesCancel = false;\n            this.matchesEvent
    = false;\n            this.onSelect = function (selectInfo) {\n                if
    (selectInfo.jsEvent) {\n                    _this.isRecentPointerDateSelect =
    true;\n                }\n            };\n            this.onDocumentPointerDown
    = function (pev) {\n                var unselectCancel = _this.context.options.unselectCancel;\n
    \               var downEl = getEventTargetViaRoot(pev.origEvent);\n                _this.matchesCancel
    = !!elementClosest(downEl, unselectCancel);\n                _this.matchesEvent
    = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on
    an event?\n            };\n            this.onDocumentPointerUp = function (pev)
    {\n                var context = _this.context;\n                var documentPointer
    = _this.documentPointer;\n                var calendarState = context.getCurrentData();\n
    \               // touch-scrolling should never unfocus any type of selection\n
    \               if (!documentPointer.wasTouchScroll) {\n                    if
    (calendarState.dateSelection && // an existing date selection?\n                        !_this.isRecentPointerDateSelect
    // a new pointer-initiated date selection since last onDocumentPointerUp?\n                    )
    {\n                        var unselectAuto = context.options.unselectAuto;\n
    \                       if (unselectAuto && (!unselectAuto || !_this.matchesCancel))
    {\n                            context.calendarApi.unselect(pev);\n                        }\n
    \                   }\n                    if (calendarState.eventSelection &&
    // an existing event selected?\n                        !_this.matchesEvent //
    interaction DIDN'T start on an event\n                    ) {\n                        context.dispatch({
    type: 'UNSELECT_EVENT' });\n                    }\n                }\n                _this.isRecentPointerDateSelect
    = false;\n            };\n            var documentPointer = this.documentPointer
    = new PointerDragging(document);\n            documentPointer.shouldIgnoreMove
    = true;\n            documentPointer.shouldWatchScroll = false;\n            documentPointer.emitter.on('pointerdown',
    this.onDocumentPointerDown);\n            documentPointer.emitter.on('pointerup',
    this.onDocumentPointerUp);\n            /*\n            TODO: better way to know
    about whether there was a selection with the pointer\n            */\n            context.emitter.on('select',
    this.onSelect);\n        }\n        UnselectAuto.prototype.destroy = function
    () {\n            this.context.emitter.off('select', this.onSelect);\n            this.documentPointer.destroy();\n
    \       };\n        return UnselectAuto;\n    }());\n\n    var OPTION_REFINERS$3
    = {\n        fixedMirrorParent: identity,\n    };\n    var LISTENER_REFINERS =
    {\n        dateClick: identity,\n        eventDragStart: identity,\n        eventDragStop:
    identity,\n        eventDrop: identity,\n        eventResizeStart: identity,\n
    \       eventResizeStop: identity,\n        eventResize: identity,\n        drop:
    identity,\n        eventReceive: identity,\n        eventLeave: identity,\n    };\n\n
    \   /*\n    Given an already instantiated draggable object for one-or-more elements,\n
    \   Interprets any dragging as an attempt to drag an events that lives outside\n
    \   of a calendar onto a calendar.\n    */\n    var ExternalElementDragging =
    /** @class */ (function () {\n        function ExternalElementDragging(dragging,
    suppliedDragMeta) {\n            var _this = this;\n            this.receivingContext
    = null;\n            this.droppableEvent = null; // will exist for all drags,
    even if create:false\n            this.suppliedDragMeta = null;\n            this.dragMeta
    = null;\n            this.handleDragStart = function (ev) {\n                _this.dragMeta
    = _this.buildDragMeta(ev.subjectEl);\n            };\n            this.handleHitUpdate
    = function (hit, isFinal, ev) {\n                var dragging = _this.hitDragging.dragging;\n
    \               var receivingContext = null;\n                var droppableEvent
    = null;\n                var isInvalid = false;\n                var interaction
    = {\n                    affectedEvents: createEmptyEventStore(),\n                    mutatedEvents:
    createEmptyEventStore(),\n                    isEvent: _this.dragMeta.create,\n
    \               };\n                if (hit) {\n                    receivingContext
    = hit.context;\n                    if (_this.canDropElOnCalendar(ev.subjectEl,
    receivingContext)) {\n                        droppableEvent = computeEventForDateSpan(hit.dateSpan,
    _this.dragMeta, receivingContext);\n                        interaction.mutatedEvents
    = eventTupleToStore(droppableEvent);\n                        isInvalid = !isInteractionValid(interaction,
    hit.dateProfile, receivingContext);\n                        if (isInvalid) {\n
    \                           interaction.mutatedEvents = createEmptyEventStore();\n
    \                           droppableEvent = null;\n                        }\n
    \                   }\n                }\n                _this.displayDrag(receivingContext,
    interaction);\n                // show mirror if no already-rendered mirror element
    OR if we are shutting down the mirror (?)\n                // TODO: wish we could
    somehow wait for dispatch to guarantee render\n                dragging.setMirrorIsVisible(isFinal
    || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n                if
    (!isInvalid) {\n                    enableCursor();\n                }\n                else
    {\n                    disableCursor();\n                }\n                if
    (!isFinal) {\n                    dragging.setMirrorNeedsRevert(!droppableEvent);\n
    \                   _this.receivingContext = receivingContext;\n                    _this.droppableEvent
    = droppableEvent;\n                }\n            };\n            this.handleDragEnd
    = function (pev) {\n                var _a = _this, receivingContext = _a.receivingContext,
    droppableEvent = _a.droppableEvent;\n                _this.clearDrag();\n                if
    (receivingContext && droppableEvent) {\n                    var finalHit = _this.hitDragging.finalHit;\n
    \                   var finalView = finalHit.context.viewApi;\n                    var
    dragMeta = _this.dragMeta;\n                    receivingContext.emitter.trigger('drop',
    __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)),
    { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                    if
    (dragMeta.create) {\n                        var addingEvents_1 = eventTupleToStore(droppableEvent);\n
    \                       receivingContext.dispatch({\n                            type:
    'MERGE_EVENTS',\n                            eventStore: addingEvents_1,\n                        });\n
    \                       if (pev.isTouch) {\n                            receivingContext.dispatch({\n
    \                               type: 'SELECT_EVENT',\n                                eventInstanceId:
    droppableEvent.instance.instanceId,\n                            });\n                        }\n
    \                       // signal that an external event landed\n                        receivingContext.emitter.trigger('eventReceive',
    {\n                            event: new EventApi(receivingContext, droppableEvent.def,
    droppableEvent.instance),\n                            relatedEvents: [],\n                            revert:
    function () {\n                                receivingContext.dispatch({\n                                    type:
    'REMOVE_EVENTS',\n                                    eventStore: addingEvents_1,\n
    \                               });\n                            },\n                            draggedEl:
    pev.subjectEl,\n                            view: finalView,\n                        });\n
    \                   }\n                }\n                _this.receivingContext
    = null;\n                _this.droppableEvent = null;\n            };\n            var
    hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n
    \           hitDragging.requireInitial = false; // will start outside of a component\n
    \           hitDragging.emitter.on('dragstart', this.handleDragStart);\n            hitDragging.emitter.on('hitupdate',
    this.handleHitUpdate);\n            hitDragging.emitter.on('dragend', this.handleDragEnd);\n
    \           this.suppliedDragMeta = suppliedDragMeta;\n        }\n        ExternalElementDragging.prototype.buildDragMeta
    = function (subjectEl) {\n            if (typeof this.suppliedDragMeta === 'object')
    {\n                return parseDragMeta(this.suppliedDragMeta);\n            }\n
    \           if (typeof this.suppliedDragMeta === 'function') {\n                return
    parseDragMeta(this.suppliedDragMeta(subjectEl));\n            }\n            return
    getDragMetaFromEl(subjectEl);\n        };\n        ExternalElementDragging.prototype.displayDrag
    = function (nextContext, state) {\n            var prevContext = this.receivingContext;\n
    \           if (prevContext && prevContext !== nextContext) {\n                prevContext.dispatch({
    type: 'UNSET_EVENT_DRAG' });\n            }\n            if (nextContext) {\n
    \               nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n
    \           }\n        };\n        ExternalElementDragging.prototype.clearDrag
    = function () {\n            if (this.receivingContext) {\n                this.receivingContext.dispatch({
    type: 'UNSET_EVENT_DRAG' });\n            }\n        };\n        ExternalElementDragging.prototype.canDropElOnCalendar
    = function (el, receivingContext) {\n            var dropAccept = receivingContext.options.dropAccept;\n
    \           if (typeof dropAccept === 'function') {\n                return dropAccept.call(receivingContext.calendarApi,
    el);\n            }\n            if (typeof dropAccept === 'string' && dropAccept)
    {\n                return Boolean(elementMatches(el, dropAccept));\n            }\n
    \           return true;\n        };\n        return ExternalElementDragging;\n
    \   }());\n    // Utils for computing event store from the DragMeta\n    // ----------------------------------------------------------------------------------------------------\n
    \   function computeEventForDateSpan(dateSpan, dragMeta, context) {\n        var
    defProps = __assign({}, dragMeta.leftoverProps);\n        for (var _i = 0, _a
    = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n            var
    transform = _a[_i];\n            __assign(defProps, transform(dateSpan, dragMeta));\n
    \       }\n        var _b = refineEventDef(defProps, context), refined = _b.refined,
    extra = _b.extra;\n        var def = parseEventDef(refined, extra, dragMeta.sourceId,
    dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration),
    // hasEnd\n        context);\n        var start = dateSpan.range.start;\n        //
    only rely on time info if drop zone is all-day,\n        // otherwise, we already
    know the time\n        if (dateSpan.allDay && dragMeta.startTime) {\n            start
    = context.dateEnv.add(start, dragMeta.startTime);\n        }\n        var end
    = dragMeta.duration ?\n            context.dateEnv.add(start, dragMeta.duration)
    :\n            getDefaultEventEnd(dateSpan.allDay, start, context);\n        var
    instance = createEventInstance(def.defId, { start: start, end: end });\n        return
    { def: def, instance: instance };\n    }\n    // Utils for extracting data from
    element\n    // ----------------------------------------------------------------------------------------------------\n
    \   function getDragMetaFromEl(el) {\n        var str = getEmbeddedElData(el,
    'event');\n        var obj = str ?\n            JSON.parse(str) :\n            {
    create: false }; // if no embedded data, assume no event creation\n        return
    parseDragMeta(obj);\n    }\n    config.dataAttrPrefix = '';\n    function getEmbeddedElData(el,
    name) {\n        var prefix = config.dataAttrPrefix;\n        var prefixedName
    = (prefix ? prefix + '-' : '') + name;\n        return el.getAttribute('data-'
    + prefixedName) || '';\n    }\n\n    /*\n    Makes an element (that is *external*
    to any calendar) draggable.\n    Can pass in data that determines how an event
    will be created when dropped onto a calendar.\n    Leverages FullCalendar's internal
    drag-n-drop functionality WITHOUT a third-party drag system.\n    */\n    var
    ExternalDraggable = /** @class */ (function () {\n        function ExternalDraggable(el,
    settings) {\n            var _this = this;\n            if (settings === void
    0) { settings = {}; }\n            this.handlePointerDown = function (ev) {\n
    \               var dragging = _this.dragging;\n                var _a = _this.settings,
    minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n                dragging.minDistance
    =\n                    minDistance != null ?\n                        minDistance
    :\n                        (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n
    \               dragging.delay =\n                    ev.isTouch ? // TODO: eventually
    read eventLongPressDelay instead vvv\n                        (longPressDelay
    != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                        0;\n
    \           };\n            this.handleDragStart = function (ev) {\n                if
    (ev.isTouch &&\n                    _this.dragging.delay &&\n                    ev.subjectEl.classList.contains('fc-event'))
    {\n                    _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n
    \               }\n            };\n            this.settings = settings;\n            var
    dragging = this.dragging = new FeaturefulElementDragging(el);\n            dragging.touchScrollAllowed
    = false;\n            if (settings.itemSelector != null) {\n                dragging.pointer.selector
    = settings.itemSelector;\n            }\n            if (settings.appendTo !=
    null) {\n                dragging.mirror.parentNode = settings.appendTo; // TODO:
    write tests\n            }\n            dragging.emitter.on('pointerdown', this.handlePointerDown);\n
    \           dragging.emitter.on('dragstart', this.handleDragStart);\n            new
    ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line
    no-new\n        }\n        ExternalDraggable.prototype.destroy = function () {\n
    \           this.dragging.destroy();\n        };\n        return ExternalDraggable;\n
    \   }());\n\n    /*\n    Detects when a *THIRD-PARTY* drag-n-drop system interacts
    with elements.\n    The third-party system is responsible for drawing the visuals
    effects of the drag.\n    This class simply monitors for pointer movements and
    fires events.\n    It also has the ability to hide the moving element (the \"mirror\")
    during the drag.\n    */\n    var InferredElementDragging = /** @class */ (function
    (_super) {\n        __extends(InferredElementDragging, _super);\n        function
    InferredElementDragging(containerEl) {\n            var _this = _super.call(this,
    containerEl) || this;\n            _this.shouldIgnoreMove = false;\n            _this.mirrorSelector
    = '';\n            _this.currentMirrorEl = null;\n            _this.handlePointerDown
    = function (ev) {\n                _this.emitter.trigger('pointerdown', ev);\n
    \               if (!_this.shouldIgnoreMove) {\n                    // fire dragstart
    right away. does not support delay or min-distance\n                    _this.emitter.trigger('dragstart',
    ev);\n                }\n            };\n            _this.handlePointerMove =
    function (ev) {\n                if (!_this.shouldIgnoreMove) {\n                    _this.emitter.trigger('dragmove',
    ev);\n                }\n            };\n            _this.handlePointerUp = function
    (ev) {\n                _this.emitter.trigger('pointerup', ev);\n                if
    (!_this.shouldIgnoreMove) {\n                    // fire dragend right away. does
    not support a revert animation\n                    _this.emitter.trigger('dragend',
    ev);\n                }\n            };\n            var pointer = _this.pointer
    = new PointerDragging(containerEl);\n            pointer.emitter.on('pointerdown',
    _this.handlePointerDown);\n            pointer.emitter.on('pointermove', _this.handlePointerMove);\n
    \           pointer.emitter.on('pointerup', _this.handlePointerUp);\n            return
    _this;\n        }\n        InferredElementDragging.prototype.destroy = function
    () {\n            this.pointer.destroy();\n        };\n        InferredElementDragging.prototype.setIgnoreMove
    = function (bool) {\n            this.shouldIgnoreMove = bool;\n        };\n        InferredElementDragging.prototype.setMirrorIsVisible
    = function (bool) {\n            if (bool) {\n                // restore a previously
    hidden element.\n                // use the reference in case the selector class
    has already been removed.\n                if (this.currentMirrorEl) {\n                    this.currentMirrorEl.style.visibility
    = '';\n                    this.currentMirrorEl = null;\n                }\n            }\n
    \           else {\n                var mirrorEl = this.mirrorSelector\n                    //
    TODO: somehow query FullCalendars WITHIN shadow-roots\n                    ? document.querySelector(this.mirrorSelector)\n
    \                   : null;\n                if (mirrorEl) {\n                    this.currentMirrorEl
    = mirrorEl;\n                    mirrorEl.style.visibility = 'hidden';\n                }\n
    \           }\n        };\n        return InferredElementDragging;\n    }(ElementDragging));\n\n
    \   /*\n    Bridges third-party drag-n-drop systems with FullCalendar.\n    Must
    be instantiated and destroyed by caller.\n    */\n    var ThirdPartyDraggable
    = /** @class */ (function () {\n        function ThirdPartyDraggable(containerOrSettings,
    settings) {\n            var containerEl = document;\n            if (\n            //
    wish we could just test instanceof EventTarget, but doesn't work in IE11\n            containerOrSettings
    === document ||\n                containerOrSettings instanceof Element) {\n                containerEl
    = containerOrSettings;\n                settings = settings || {};\n            }\n
    \           else {\n                settings = (containerOrSettings || {});\n
    \           }\n            var dragging = this.dragging = new InferredElementDragging(containerEl);\n
    \           if (typeof settings.itemSelector === 'string') {\n                dragging.pointer.selector
    = settings.itemSelector;\n            }\n            else if (containerEl ===
    document) {\n                dragging.pointer.selector = '[data-event]';\n            }\n
    \           if (typeof settings.mirrorSelector === 'string') {\n                dragging.mirrorSelector
    = settings.mirrorSelector;\n            }\n            new ExternalElementDragging(dragging,
    settings.eventData); // eslint-disable-line no-new\n        }\n        ThirdPartyDraggable.prototype.destroy
    = function () {\n            this.dragging.destroy();\n        };\n        return
    ThirdPartyDraggable;\n    }());\n\n    var interactionPlugin = createPlugin({\n
    \       componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n
    \       calendarInteractions: [UnselectAuto],\n        elementDraggingImpl: FeaturefulElementDragging,\n
    \       optionRefiners: OPTION_REFINERS$3,\n        listenerRefiners: LISTENER_REFINERS,\n
    \   });\n\n    /* An abstract class for the daygrid views, as well as month view.
    Renders one or more rows of day cells.\n    ----------------------------------------------------------------------------------------------------------------------*/\n
    \   // It is a manager for a Table subcomponent, which does most of the heavy
    lifting.\n    // It is responsible for managing width/height.\n    var TableView
    = /** @class */ (function (_super) {\n        __extends(TableView, _super);\n
    \       function TableView() {\n            var _this = _super !== null && _super.apply(this,
    arguments) || this;\n            _this.headerElRef = createRef();\n            return
    _this;\n        }\n        TableView.prototype.renderSimpleLayout = function (headerRowContent,
    bodyContent) {\n            var _a = this, props = _a.props, context = _a.context;\n
    \           var sections = [];\n            var stickyHeaderDates = getStickyHeaderDates(context.options);\n
    \           if (headerRowContent) {\n                sections.push({\n                    type:
    'header',\n                    key: 'header',\n                    isSticky: stickyHeaderDates,\n
    \                   chunk: {\n                        elRef: this.headerElRef,\n
    \                       tableClassName: 'fc-col-header',\n                        rowContent:
    headerRowContent,\n                    },\n                });\n            }\n
    \           sections.push({\n                type: 'body',\n                key:
    'body',\n                liquid: true,\n                chunk: { content: bodyContent
    },\n            });\n            return (createElement(ViewRoot, { viewSpec: context.viewSpec
    }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef,
    className: ['fc-daygrid'].concat(classNames).join(' ') },\n                createElement(SimpleScrollGrid,
    { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint,
    cols: [] /* TODO: make optional? */, sections: sections }))); }));\n        };\n
    \       TableView.prototype.renderHScrollLayout = function (headerRowContent,
    bodyContent, colCnt, dayMinWidth) {\n            var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n
    \           if (!ScrollGrid) {\n                throw new Error('No ScrollGrid
    implementation');\n            }\n            var _a = this, props = _a.props,
    context = _a.context;\n            var stickyHeaderDates = !props.forPrint &&
    getStickyHeaderDates(context.options);\n            var stickyFooterScrollbar
    = !props.forPrint && getStickyFooterScrollbar(context.options);\n            var
    sections = [];\n            if (headerRowContent) {\n                sections.push({\n
    \                   type: 'header',\n                    key: 'header',\n                    isSticky:
    stickyHeaderDates,\n                    chunks: [{\n                            key:
    'main',\n                            elRef: this.headerElRef,\n                            tableClassName:
    'fc-col-header',\n                            rowContent: headerRowContent,\n
    \                       }],\n                });\n            }\n            sections.push({\n
    \               type: 'body',\n                key: 'body',\n                liquid:
    true,\n                chunks: [{\n                        key: 'main',\n                        content:
    bodyContent,\n                    }],\n            });\n            if (stickyFooterScrollbar)
    {\n                sections.push({\n                    type: 'footer',\n                    key:
    'footer',\n                    isSticky: true,\n                    chunks: [{\n
    \                           key: 'main',\n                            content:
    renderScrollShim,\n                        }],\n                });\n            }\n
    \           return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function
    (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className:
    ['fc-daygrid'].concat(classNames).join(' ') },\n                createElement(ScrollGrid,
    { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint,
    colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections
    }))); }));\n        };\n        return TableView;\n    }(DateComponent));\n\n
    \   function splitSegsByRow(segs, rowCnt) {\n        var byRow = [];\n        for
    (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = [];\n        }\n        for
    (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n            var seg =
    segs_1[_i];\n            byRow[seg.row].push(seg);\n        }\n        return
    byRow;\n    }\n    function splitSegsByFirstCol(segs, colCnt) {\n        var byCol
    = [];\n        for (var i = 0; i < colCnt; i += 1) {\n            byCol[i] = [];\n
    \       }\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n
    \           var seg = segs_2[_i];\n            byCol[seg.firstCol].push(seg);\n
    \       }\n        return byCol;\n    }\n    function splitInteractionByRow(ui,
    rowCnt) {\n        var byRow = [];\n        if (!ui) {\n            for (var i
    = 0; i < rowCnt; i += 1) {\n                byRow[i] = null;\n            }\n
    \       }\n        else {\n            for (var i = 0; i < rowCnt; i += 1) {\n
    \               byRow[i] = {\n                    affectedInstances: ui.affectedInstances,\n
    \                   isEvent: ui.isEvent,\n                    segs: [],\n                };\n
    \           }\n            for (var _i = 0, _a = ui.segs; _i < _a.length; _i++)
    {\n                var seg = _a[_i];\n                byRow[seg.row].segs.push(seg);\n
    \           }\n        }\n        return byRow;\n    }\n\n    var TableCellTop
    = /** @class */ (function (_super) {\n        __extends(TableCellTop, _super);\n
    \       function TableCellTop() {\n            return _super !== null && _super.apply(this,
    arguments) || this;\n        }\n        TableCellTop.prototype.render = function
    () {\n            var props = this.props;\n            var navLinkAttrs = this.context.options.navLinks\n
    \               ? { 'data-navlink': buildNavLinkData(props.date), tabIndex: 0
    }\n                : {};\n            return (createElement(DayCellContent, {
    date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange,
    showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent:
    renderTopInner }, function (innerElRef, innerContent) { return ((innerContent
    || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\",
    ref: innerElRef },\n                createElement(\"a\", __assign({ className:
    \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment,
    null, \"\\u00A0\"))))); }));\n        };\n        return TableCellTop;\n    }(BaseComponent));\n
    \   function renderTopInner(props) {\n        return props.dayNumberText;\n    }\n\n
    \   var DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n        hour: 'numeric',\n
    \       minute: '2-digit',\n        omitZeroMinute: true,\n        meridiem: 'narrow',\n
    \   });\n    function hasListItemDisplay(seg) {\n        var display = seg.eventRange.ui.display;\n
    \       return display === 'list-item' || (display === 'auto' &&\n            !seg.eventRange.def.allDay
    &&\n            seg.firstCol === seg.lastCol && // can't be multi-day\n            seg.isStart
    && // \"\n            seg.isEnd // \"\n        );\n    }\n\n    var TableBlockEvent
    = /** @class */ (function (_super) {\n        __extends(TableBlockEvent, _super);\n
    \       function TableBlockEvent() {\n            return _super !== null && _super.apply(this,
    arguments) || this;\n        }\n        TableBlockEvent.prototype.render = function
    () {\n            var props = this.props;\n            return (createElement(StandardEvent,
    __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event',
    'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd:
    props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay
    })));\n        };\n        return TableBlockEvent;\n    }(BaseComponent));\n\n
    \   var TableListItemEvent = /** @class */ (function (_super) {\n        __extends(TableListItemEvent,
    _super);\n        function TableListItemEvent() {\n            return _super !==
    null && _super.apply(this, arguments) || this;\n        }\n        TableListItemEvent.prototype.render
    = function () {\n            var _a = this, props = _a.props, context = _a.context;\n
    \           var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n
    \           var timeText = buildSegTimeText(props.seg, timeFormat, context, true,
    props.defaultDisplayEventEnd);\n            return (createElement(EventRoot, {
    seg: props.seg, timeText: timeText, defaultContent: renderInnerContent$2, isDragging:
    props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected,
    isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function
    (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n
    \           createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join('
    '), ref: rootElRef }, getSegAnchorAttrs(props.seg)), innerContent)); }));\n        };\n
    \       return TableListItemEvent;\n    }(BaseComponent));\n    function renderInnerContent$2(innerProps)
    {\n        return (createElement(Fragment, null,\n            createElement(\"div\",
    { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor
    || innerProps.backgroundColor } }),\n            innerProps.timeText && (createElement(\"div\",
    { className: \"fc-event-time\" }, innerProps.timeText)),\n            createElement(\"div\",
    { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment,
    null, \"\\u00A0\"))));\n    }\n    function getSegAnchorAttrs(seg) {\n        var
    url = seg.eventRange.def.url;\n        return url ? { href: url } : {};\n    }\n\n
    \   var TableCellMoreLink = /** @class */ (function (_super) {\n        __extends(TableCellMoreLink,
    _super);\n        function TableCellMoreLink() {\n            var _this = _super
    !== null && _super.apply(this, arguments) || this;\n            _this.compileSegs
    = memoize(compileSegs);\n            return _this;\n        }\n        TableCellMoreLink.prototype.render
    = function () {\n            var props = this.props;\n            var _a = this.compileSegs(props.singlePlacements),
    allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n            return (createElement(MoreLinkRoot,
    { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate,
    moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef:
    props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan,
    popoverContent: function () {\n                    var isForcedInvisible = (props.eventDrag
    ? props.eventDrag.affectedInstances : null) ||\n                        (props.eventResize
    ? props.eventResize.affectedInstances : null) ||\n                        {};\n
    \                   return (createElement(Fragment, null, allSegs.map(function
    (seg) {\n                        var instanceId = seg.eventRange.instance.instanceId;\n
    \                       return (createElement(\"div\", { className: \"fc-daygrid-event-harness\",
    key: instanceId, style: {\n                                visibility: isForcedInvisible[instanceId]
    ? 'hidden' : '',\n                            } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent,
    __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection,
    defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent,
    __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false,
    isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false
    }, getSegMeta(seg, props.todayRange))))));\n                    })));\n                }
    }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return
    (createElement(\"a\", { ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join('
    '), onClick: handleClick }, innerContent)); }));\n        };\n        return TableCellMoreLink;\n
    \   }(BaseComponent));\n    function compileSegs(singlePlacements) {\n        var
    allSegs = [];\n        var invisibleSegs = [];\n        for (var _i = 0, singlePlacements_1
    = singlePlacements; _i < singlePlacements_1.length; _i++) {\n            var placement
    = singlePlacements_1[_i];\n            allSegs.push(placement.seg);\n            if
    (!placement.isVisible) {\n                invisibleSegs.push(placement.seg);\n
    \           }\n        }\n        return { allSegs: allSegs, invisibleSegs: invisibleSegs
    };\n    }\n\n    var DEFAULT_WEEK_NUM_FORMAT$1 = createFormatter({ week: 'narrow'
    });\n    var TableCell = /** @class */ (function (_super) {\n        __extends(TableCell,
    _super);\n        function TableCell() {\n            var _this = _super !== null
    && _super.apply(this, arguments) || this;\n            _this.rootElRef = createRef();\n
    \           _this.handleRootEl = function (el) {\n                setRef(_this.rootElRef,
    el);\n                setRef(_this.props.elRef, el);\n            };\n            return
    _this;\n        }\n        TableCell.prototype.render = function () {\n            var
    _a = this, props = _a.props, context = _a.context, rootElRef = _a.rootElRef;\n
    \           var options = context.options;\n            var date = props.date,
    dateProfile = props.dateProfile;\n            var navLinkAttrs = options.navLinks\n
    \               ? { 'data-navlink': buildNavLinkData(date, 'week'), tabIndex:
    0 }\n                : {};\n            return (createElement(DayCellRoot, { date:
    date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber,
    extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef,
    dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({
    ref: dayElRef, className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames
    || []).join(' ') }, rootDataAttrs, props.extraDataAttrs),\n                createElement(\"div\",
    { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef
    /* different from hook system! RENAME */ },\n                    props.showWeekNumber
    && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT$1
    }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\",
    __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join('
    ') }, navLinkAttrs), innerContent)); })),\n                    !isDisabled &&
    (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber:
    props.showDayNumber, forceDayTop: props.forceDayTop, todayRange: props.todayRange,
    extraHookProps: props.extraHookProps })),\n                    createElement(\"div\",
    { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                        props.fgContent,\n
    \                       createElement(\"div\", { className: \"fc-daygrid-day-bottom\",
    style: { marginTop: props.moreMarginTop } },\n                            createElement(TableCellMoreLink,
    { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt,
    alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan:
    props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection,
    eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange
    }))),\n                    createElement(\"div\", { className: \"fc-daygrid-day-bg\"
    }, props.bgContent)))); }));\n        };\n        return TableCell;\n    }(DateComponent));\n\n
    \   function computeFgSegPlacement(segs, // assumed already sorted\n    dayMaxEvents,
    dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n
    \       var hierarchy = new DayGridSegHierarchy();\n        hierarchy.allowReslicing
    = true;\n        hierarchy.strictOrder = strictOrder;\n        if (dayMaxEvents
    === true || dayMaxEventRows === true) {\n            hierarchy.maxCoord = maxContentHeight;\n
    \           hierarchy.hiddenConsumes = true;\n        }\n        else if (typeof
    dayMaxEvents === 'number') {\n            hierarchy.maxStackCnt = dayMaxEvents;\n
    \       }\n        else if (typeof dayMaxEventRows === 'number') {\n            hierarchy.maxStackCnt
    = dayMaxEventRows;\n            hierarchy.hiddenConsumes = true;\n        }\n
    \       // create segInputs only for segs with known heights\n        var segInputs
    = [];\n        var unknownHeightSegs = [];\n        for (var i = 0; i < segs.length;
    i += 1) {\n            var seg = segs[i];\n            var instanceId = seg.eventRange.instance.instanceId;\n
    \           var eventHeight = eventInstanceHeights[instanceId];\n            if
    (eventHeight != null) {\n                segInputs.push({\n                    index:
    i,\n                    thickness: eventHeight,\n                    span: {\n
    \                       start: seg.firstCol,\n                        end: seg.lastCol
    + 1,\n                    },\n                });\n            }\n            else
    {\n                unknownHeightSegs.push(seg);\n            }\n        }\n        var
    hiddenEntries = hierarchy.addSegs(segInputs);\n        var segRects = hierarchy.toRects();\n
    \       var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements,
    multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n
    \       var moreCnts = [];\n        var moreMarginTops = [];\n        // add segs
    with unknown heights\n        for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs;
    _i < unknownHeightSegs_1.length; _i++) {\n            var seg = unknownHeightSegs_1[_i];\n
    \           multiColPlacements[seg.firstCol].push({\n                seg: seg,\n
    \               isVisible: false,\n                isAbsolute: true,\n                absoluteTop:
    0,\n                marginTop: 0,\n            });\n            for (var col =
    seg.firstCol; col <= seg.lastCol; col += 1) {\n                singleColPlacements[col].push({\n
    \                   seg: resliceSeg(seg, col, col + 1, cells),\n                    isVisible:
    false,\n                    isAbsolute: false,\n                    absoluteTop:
    0,\n                    marginTop: 0,\n                });\n            }\n        }\n
    \       // add the hidden entries\n        for (var col = 0; col < cells.length;
    col += 1) {\n            moreCnts.push(0);\n        }\n        for (var _b = 0,
    hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n            var
    hiddenEntry = hiddenEntries_1[_b];\n            var seg = segs[hiddenEntry.index];\n
    \           var hiddenSpan = hiddenEntry.span;\n            multiColPlacements[hiddenSpan.start].push({\n
    \               seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n
    \               isVisible: false,\n                isAbsolute: true,\n                absoluteTop:
    0,\n                marginTop: 0,\n            });\n            for (var col =
    hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n                moreCnts[col]
    += 1;\n                singleColPlacements[col].push({\n                    seg:
    resliceSeg(seg, col, col + 1, cells),\n                    isVisible: false,\n
    \                   isAbsolute: false,\n                    absoluteTop: 0,\n
    \                   marginTop: 0,\n                });\n            }\n        }\n
    \       // deal with leftover margins\n        for (var col = 0; col < cells.length;
    col += 1) {\n            moreMarginTops.push(leftoverMargins[col]);\n        }\n
    \       return { singleColPlacements: singleColPlacements, multiColPlacements:
    multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n    }\n
    \   // rects ordered by top coord, then left\n    function placeRects(allRects,
    segs, cells) {\n        var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n
    \       var singleColPlacements = [];\n        var multiColPlacements = [];\n
    \       var leftoverMargins = [];\n        for (var col = 0; col < cells.length;
    col += 1) {\n            var rects = rectsByEachCol[col];\n            // compute
    all static segs in singlePlacements\n            var singlePlacements = [];\n
    \           var currentHeight = 0;\n            var currentMarginTop = 0;\n            for
    (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n                var
    rect = rects_1[_i];\n                var seg = segs[rect.index];\n                singlePlacements.push({\n
    \                   seg: resliceSeg(seg, col, col + 1, cells),\n                    isVisible:
    true,\n                    isAbsolute: false,\n                    absoluteTop:
    rect.levelCoord,\n                    marginTop: rect.levelCoord - currentHeight,\n
    \               });\n                currentHeight = rect.levelCoord + rect.thickness;\n
    \           }\n            // compute mixed static/absolute segs in multiPlacements\n
    \           var multiPlacements = [];\n            currentHeight = 0;\n            currentMarginTop
    = 0;\n            for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++)
    {\n                var rect = rects_2[_a];\n                var seg = segs[rect.index];\n
    \               var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n
    \               var isFirstCol = rect.span.start === col;\n                currentMarginTop
    += rect.levelCoord - currentHeight; // amount of space since bottom of previous
    seg\n                currentHeight = rect.levelCoord + rect.thickness; // height
    will now be bottom of current seg\n                if (isAbsolute) {\n                    currentMarginTop
    += rect.thickness;\n                    if (isFirstCol) {\n                        multiPlacements.push({\n
    \                           seg: resliceSeg(seg, rect.span.start, rect.span.end,
    cells),\n                            isVisible: true,\n                            isAbsolute:
    true,\n                            absoluteTop: rect.levelCoord,\n                            marginTop:
    0,\n                        });\n                    }\n                }\n                else
    if (isFirstCol) {\n                    multiPlacements.push({\n                        seg:
    resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible:
    true,\n                        isAbsolute: false,\n                        absoluteTop:
    rect.levelCoord,\n                        marginTop: currentMarginTop, // claim
    the margin\n                    });\n                    currentMarginTop = 0;\n
    \               }\n            }\n            singleColPlacements.push(singlePlacements);\n
    \           multiColPlacements.push(multiPlacements);\n            leftoverMargins.push(currentMarginTop);\n
    \       }\n        return { singleColPlacements: singleColPlacements, multiColPlacements:
    multiColPlacements, leftoverMargins: leftoverMargins };\n    }\n    function groupRectsByEachCol(rects,
    colCnt) {\n        var rectsByEachCol = [];\n        for (var col = 0; col < colCnt;
    col += 1) {\n            rectsByEachCol.push([]);\n        }\n        for (var
    _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n            var rect =
    rects_3[_i];\n            for (var col = rect.span.start; col < rect.span.end;
    col += 1) {\n                rectsByEachCol[col].push(rect);\n            }\n
    \       }\n        return rectsByEachCol;\n    }\n    function resliceSeg(seg,
    spanStart, spanEnd, cells) {\n        if (seg.firstCol === spanStart && seg.lastCol
    === spanEnd - 1) {\n            return seg;\n        }\n        var eventRange
    = seg.eventRange;\n        var origRange = eventRange.range;\n        var slicedRange
    = intersectRanges(origRange, {\n            start: cells[spanStart].date,\n            end:
    addDays(cells[spanEnd - 1].date, 1),\n        });\n        return __assign(__assign({},
    seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n                def:
    eventRange.def,\n                ui: __assign(__assign({}, eventRange.ui), { durationEditable:
    false }),\n                instance: eventRange.instance,\n                range:
    slicedRange,\n            }, isStart: seg.isStart && slicedRange.start.valueOf()
    === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() ===
    origRange.end.valueOf() });\n    }\n    var DayGridSegHierarchy = /** @class */
    (function (_super) {\n        __extends(DayGridSegHierarchy, _super);\n        function
    DayGridSegHierarchy() {\n            var _this = _super !== null && _super.apply(this,
    arguments) || this;\n            // config\n            _this.hiddenConsumes =
    false;\n            // allows us to keep hidden entries in the hierarchy so they
    take up space\n            _this.forceHidden = {};\n            return _this;\n
    \       }\n        DayGridSegHierarchy.prototype.addSegs = function (segInputs)
    {\n            var _this = this;\n            var hiddenSegs = _super.prototype.addSegs.call(this,
    segInputs);\n            var entriesByLevel = this.entriesByLevel;\n            var
    excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)];
    };\n            // remove the forced-hidden segs\n            for (var level =
    0; level < entriesByLevel.length; level += 1) {\n                entriesByLevel[level]
    = entriesByLevel[level].filter(excludeHidden);\n            }\n            return
    hiddenSegs;\n        };\n        DayGridSegHierarchy.prototype.handleInvalidInsertion
    = function (insertion, entry, hiddenEntries) {\n            var _a = this, entriesByLevel
    = _a.entriesByLevel, forceHidden = _a.forceHidden;\n            var touchingEntry
    = insertion.touchingEntry, touchingLevel = insertion.touchingLevel, touchingLateral
    = insertion.touchingLateral;\n            if (this.hiddenConsumes && touchingEntry)
    {\n                var touchingEntryId = buildEntryKey(touchingEntry);\n                //
    if not already hidden\n                if (!forceHidden[touchingEntryId]) {\n
    \                   if (this.allowReslicing) {\n                        var placeholderEntry
    = __assign(__assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span,
    entry.span) });\n                        var placeholderEntryId = buildEntryKey(placeholderEntry);\n
    \                       forceHidden[placeholderEntryId] = true;\n                        entriesByLevel[touchingLevel][touchingLateral]
    = placeholderEntry; // replace touchingEntry with our placeholder\n                        this.splitEntry(touchingEntry,
    entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                    }\n
    \                   else {\n                        forceHidden[touchingEntryId]
    = true;\n                        hiddenEntries.push(touchingEntry);\n                    }\n
    \               }\n            }\n            return _super.prototype.handleInvalidInsertion.call(this,
    insertion, entry, hiddenEntries);\n        };\n        return DayGridSegHierarchy;\n
    \   }(SegHierarchy));\n\n    var TableRow = /** @class */ (function (_super) {\n
    \       __extends(TableRow, _super);\n        function TableRow() {\n            var
    _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.cellElRefs
    = new RefMap(); // the <td>\n            _this.frameElRefs = new RefMap(); //
    the fc-daygrid-day-frame\n            _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n
    \           _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n
    \           _this.rootElRef = createRef();\n            _this.state = {\n                framePositions:
    null,\n                maxContentHeight: null,\n                eventInstanceHeights:
    {},\n            };\n            return _this;\n        }\n        TableRow.prototype.render
    = function () {\n            var _this = this;\n            var _a = this, props
    = _a.props, state = _a.state, context = _a.context;\n            var options =
    context.options;\n            var colCnt = props.cells.length;\n            var
    businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n            var
    bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n            var
    highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n            var
    mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n            var
    _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder),
    props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights,
    state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements,
    multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops
    = _b.moreMarginTops;\n            var isForcedInvisible = // TODO: messy way to
    compute this\n             (props.eventDrag && props.eventDrag.affectedInstances)
    ||\n                (props.eventResize && props.eventResize.affectedInstances)
    ||\n                {};\n            return (createElement(\"tr\", { ref: this.rootElRef
    },\n                props.renderIntro && props.renderIntro(),\n                props.cells.map(function
    (cell, col) {\n                    var normalFgNodes = _this.renderFgSegs(col,
    props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange,
    isForcedInvisible);\n                    var mirrorFgNodes = _this.renderFgSegs(col,
    buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange,
    {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                    return
    (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key),
    innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay
    to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date:
    cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers
    && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for
    row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection,
    eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps,
    extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan:
    cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col],
    singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key),
    fgContent: ( // Fragment scopes the keys\n                        createElement(Fragment,
    null,\n                            createElement(Fragment, null, normalFgNodes),\n
    \                           createElement(Fragment, null, mirrorFgNodes))), bgContent:
    ( // Fragment scopes the keys\n                        createElement(Fragment,
    null,\n                            _this.renderFillSegs(highlightSegsByCol[col],
    'highlight'),\n                            _this.renderFillSegs(businessHoursByCol[col],
    'non-business'),\n                            _this.renderFillSegs(bgEventSegsByCol[col],
    'bg-event'))) }));\n                })));\n        };\n        TableRow.prototype.componentDidMount
    = function () {\n            this.updateSizing(true);\n        };\n        TableRow.prototype.componentDidUpdate
    = function (prevProps, prevState) {\n            var currentProps = this.props;\n
    \           this.updateSizing(!isPropsEqual(prevProps, currentProps));\n        };\n
    \       TableRow.prototype.getHighlightSegs = function () {\n            var props
    = this.props;\n            if (props.eventDrag && props.eventDrag.segs.length)
    { // messy check\n                return props.eventDrag.segs;\n            }\n
    \           if (props.eventResize && props.eventResize.segs.length) { // messy
    check\n                return props.eventResize.segs;\n            }\n            return
    props.dateSelectionSegs;\n        };\n        TableRow.prototype.getMirrorSegs
    = function () {\n            var props = this.props;\n            if (props.eventResize
    && props.eventResize.segs.length) { // messy check\n                return props.eventResize.segs;\n
    \           }\n            return [];\n        };\n        TableRow.prototype.renderFgSegs
    = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing,
    isDateSelecting) {\n            var context = this.context;\n            var eventSelection
    = this.props.eventSelection;\n            var framePositions = this.state.framePositions;\n
    \           var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt
    === 1\n            var isMirror = isDragging || isResizing || isDateSelecting;\n
    \           var nodes = [];\n            if (framePositions) {\n                for
    (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++)
    {\n                    var placement = segPlacements_1[_i];\n                    var
    seg = placement.seg;\n                    var instanceId = seg.eventRange.instance.instanceId;\n
    \                   var key = instanceId + ':' + col;\n                    var
    isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                    var
    isAbsolute = placement.isAbsolute;\n                    var left = '';\n                    var
    right = '';\n                    if (isAbsolute) {\n                        if
    (context.isRtl) {\n                            right = 0;\n                            left
    = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                        }\n
    \                       else {\n                            left = 0;\n                            right
    = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n
    \                       }\n                    }\n                    /*\n                    known
    bug: events that are force to be list-item but span multiple days still take up
    space in later columns\n                    todo: in print view, for multi-day
    events, don't display title within non-start/end segs\n                    */\n
    \                   nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness'
    + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror
    ? null : this.segHarnessRefs.createRef(key), style: {\n                            visibility:
    isVisible ? '' : 'hidden',\n                            marginTop: isAbsolute
    ? '' : placement.marginTop,\n                            top: isAbsolute ? placement.absoluteTop
    : '',\n                            left: left,\n                            right:
    right,\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent,
    __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection,
    defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))
    : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging,
    isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId
    === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg,
    todayRange))))));\n                }\n            }\n            return nodes;\n
    \       };\n        TableRow.prototype.renderFillSegs = function (segs, fillType)
    {\n            var isRtl = this.context.isRtl;\n            var todayRange = this.props.todayRange;\n
    \           var framePositions = this.state.framePositions;\n            var nodes
    = [];\n            if (framePositions) {\n                for (var _i = 0, segs_1
    = segs; _i < segs_1.length; _i++) {\n                    var seg = segs_1[_i];\n
    \                   var leftRightCss = isRtl ? {\n                        right:
    0,\n                        left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n
    \                   } : {\n                        left: 0,\n                        right:
    framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                    };\n
    \                   nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange),
    className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event'
    ?\n                        createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg,
    todayRange))) :\n                        renderFill(fillType)));\n                }\n
    \           }\n            return createElement.apply(void 0, __spreadArray([Fragment,
    {}], nodes));\n        };\n        TableRow.prototype.updateSizing = function
    (isExternalSizingChange) {\n            var _a = this, props = _a.props, frameElRefs
    = _a.frameElRefs;\n            if (!props.forPrint &&\n                props.clientWidth
    !== null // positioning ready?\n            ) {\n                if (isExternalSizingChange)
    {\n                    var frameEls = props.cells.map(function (cell) { return
    frameElRefs.currentMap[cell.key]; });\n                    if (frameEls.length)
    {\n                        var originEl = this.rootElRef.current;\n                        this.setState({\n
    \                           framePositions: new PositionCache(originEl, frameEls,
    true, // isHorizontal\n                            false),\n                        });\n
    \                   }\n                }\n                var limitByContentHeight
    = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n                this.setState({\n
    \                   eventInstanceHeights: this.queryEventInstanceHeights(),\n
    \                   maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight()
    : null,\n                });\n            }\n        };\n        TableRow.prototype.queryEventInstanceHeights
    = function () {\n            var segElMap = this.segHarnessRefs.currentMap;\n
    \           var eventInstanceHeights = {};\n            // get the max height
    amongst instance segs\n            for (var key in segElMap) {\n                var
    height = Math.round(segElMap[key].getBoundingClientRect().height);\n                var
    instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n
    \               eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId]
    || 0, height);\n            }\n            return eventInstanceHeights;\n        };\n
    \       TableRow.prototype.computeMaxContentHeight = function () {\n            var
    firstKey = this.props.cells[0].key;\n            var cellEl = this.cellElRefs.currentMap[firstKey];\n
    \           var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n            return
    cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n
    \       };\n        TableRow.prototype.getCellEls = function () {\n            var
    elMap = this.cellElRefs.currentMap;\n            return this.props.cells.map(function
    (cell) { return elMap[cell.key]; });\n        };\n        return TableRow;\n    }(DateComponent));\n
    \   TableRow.addStateEquality({\n        eventInstanceHeights: isPropsEqual,\n
    \   });\n    function buildMirrorPlacements(mirrorSegs, colPlacements) {\n        if
    (!mirrorSegs.length) {\n            return [];\n        }\n        var topsByInstanceId
    = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n
    \       return mirrorSegs.map(function (seg) { return ({\n            seg: seg,\n
    \           isVisible: true,\n            isAbsolute: true,\n            absoluteTop:
    topsByInstanceId[seg.eventRange.instance.instanceId],\n            marginTop:
    0,\n        }); });\n    }\n    function buildAbsoluteTopHash(colPlacements) {\n
    \       var topsByInstanceId = {};\n        for (var _i = 0, colPlacements_1 =
    colPlacements; _i < colPlacements_1.length; _i++) {\n            var placements
    = colPlacements_1[_i];\n            for (var _a = 0, placements_1 = placements;
    _a < placements_1.length; _a++) {\n                var placement = placements_1[_a];\n
    \               topsByInstanceId[placement.seg.eventRange.instance.instanceId]
    = placement.absoluteTop;\n            }\n        }\n        return topsByInstanceId;\n
    \   }\n\n    var Table = /** @class */ (function (_super) {\n        __extends(Table,
    _super);\n        function Table() {\n            var _this = _super !== null
    && _super.apply(this, arguments) || this;\n            _this.splitBusinessHourSegs
    = memoize(splitSegsByRow);\n            _this.splitBgEventSegs = memoize(splitSegsByRow);\n
    \           _this.splitFgEventSegs = memoize(splitSegsByRow);\n            _this.splitDateSelectionSegs
    = memoize(splitSegsByRow);\n            _this.splitEventDrag = memoize(splitInteractionByRow);\n
    \           _this.splitEventResize = memoize(splitInteractionByRow);\n            _this.rowRefs
    = new RefMap();\n            _this.handleRootEl = function (rootEl) {\n                _this.rootEl
    = rootEl;\n                if (rootEl) {\n                    _this.context.registerInteractiveComponent(_this,
    {\n                        el: rootEl,\n                        isHitComboAllowed:
    _this.props.isHitComboAllowed,\n                    });\n                }\n                else
    {\n                    _this.context.unregisterInteractiveComponent(_this);\n
    \               }\n            };\n            return _this;\n        }\n        Table.prototype.render
    = function () {\n            var _this = this;\n            var props = this.props;\n
    \           var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows,
    dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n            var
    rowCnt = props.cells.length;\n            var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs,
    rowCnt);\n            var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs,
    rowCnt);\n            var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs,
    rowCnt);\n            var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs,
    rowCnt);\n            var eventDragByRow = this.splitEventDrag(props.eventDrag,
    rowCnt);\n            var eventResizeByRow = this.splitEventResize(props.eventResize,
    rowCnt);\n            var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows
    === true;\n            // if rows can't expand to fill fixed height, can't do
    balanced-height event limit\n            // TODO: best place to normalize these
    options?\n            if (limitViaBalanced && !expandRows) {\n                limitViaBalanced
    = false;\n                dayMaxEventRows = null;\n                dayMaxEvents
    = null;\n            }\n            var classNames = [\n                'fc-daygrid-body',\n
    \               limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n
    \               expandRows ? '' : 'fc-daygrid-body-natural', // will height of
    one row depend on the others?\n            ];\n            return (createElement(\"div\",
    { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                    //
    these props are important to give this wrapper correct dimensions for interactions\n
    \                   // TODO: if we set it here, can we avoid giving to inner tables?\n
    \                   width: props.clientWidth,\n                    minWidth: props.tableMinWidth,\n
    \               } },\n                createElement(NowTimer, { unit: \"day\"
    }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                    createElement(\"table\",
    { className: \"fc-scrollgrid-sync-table\", style: {\n                            width:
    props.clientWidth,\n                            minWidth: props.tableMinWidth,\n
    \                           height: expandRows ? props.clientHeight : '',\n                        }
    },\n                        props.colGroupNode,\n                        createElement(\"tbody\",
    null, props.cells.map(function (cells, row) { return (createElement(TableRow,
    { ref: _this.rowRefs.createRef(row), key: cells.length\n                                ?
    cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter?
    */\n                                : row // in case there are no cells (like
    when resource view is loading)\n                            , showDayNumbers:
    rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile:
    dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs:
    businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs:
    bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row],
    dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row],
    eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows:
    dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight,
    forPrint: props.forPrint })); }))))); })));\n        };\n        // Hit System\n
    \       // ----------------------------------------------------------------------------------------------------\n
    \       Table.prototype.prepareHits = function () {\n            this.rowPositions
    = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj)
    { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n
    \           false, true);\n            this.colPositions = new PositionCache(this.rootEl,
    this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n            true,
    // horizontal\n            false);\n        };\n        Table.prototype.queryHit
    = function (positionLeft, positionTop) {\n            var _a = this, colPositions
    = _a.colPositions, rowPositions = _a.rowPositions;\n            var col = colPositions.leftToIndex(positionLeft);\n
    \           var row = rowPositions.topToIndex(positionTop);\n            if (row
    != null && col != null) {\n                var cell = this.props.cells[row][col];\n
    \               return {\n                    dateProfile: this.props.dateProfile,\n
    \                   dateSpan: __assign({ range: this.getCellRange(row, col), allDay:
    true }, cell.extraDateSpan),\n                    dayEl: this.getCellEl(row, col),\n
    \                   rect: {\n                        left: colPositions.lefts[col],\n
    \                       right: colPositions.rights[col],\n                        top:
    rowPositions.tops[row],\n                        bottom: rowPositions.bottoms[row],\n
    \                   },\n                    layer: 0,\n                };\n            }\n
    \           return null;\n        };\n        Table.prototype.getCellEl = function
    (row, col) {\n            return this.rowRefs.currentMap[row].getCellEls()[col];
    // TODO: not optimal\n        };\n        Table.prototype.getCellRange = function
    (row, col) {\n            var start = this.props.cells[row][col].date;\n            var
    end = addDays(start, 1);\n            return { start: start, end: end };\n        };\n
    \       return Table;\n    }(DateComponent));\n    function isSegAllDay(seg) {\n
    \       return seg.eventRange.def.allDay;\n    }\n\n    var DayTableSlicer = /**
    @class */ (function (_super) {\n        __extends(DayTableSlicer, _super);\n        function
    DayTableSlicer() {\n            var _this = _super !== null && _super.apply(this,
    arguments) || this;\n            _this.forceDayIfListItem = true;\n            return
    _this;\n        }\n        DayTableSlicer.prototype.sliceRange = function (dateRange,
    dayTableModel) {\n            return dayTableModel.sliceRange(dateRange);\n        };\n
    \       return DayTableSlicer;\n    }(Slicer));\n\n    var DayTable = /** @class
    */ (function (_super) {\n        __extends(DayTable, _super);\n        function
    DayTable() {\n            var _this = _super !== null && _super.apply(this, arguments)
    || this;\n            _this.slicer = new DayTableSlicer();\n            _this.tableRef
    = createRef();\n            return _this;\n        }\n        DayTable.prototype.render
    = function () {\n            var _a = this, props = _a.props, context = _a.context;\n
    \           return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props,
    props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile:
    props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode,
    tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents:
    props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers,
    expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth:
    props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint
    })));\n        };\n        return DayTable;\n    }(DateComponent));\n\n    var
    DayTableView = /** @class */ (function (_super) {\n        __extends(DayTableView,
    _super);\n        function DayTableView() {\n            var _this = _super !==
    null && _super.apply(this, arguments) || this;\n            _this.buildDayTableModel
    = memoize(buildDayTableModel);\n            _this.headerRef = createRef();\n            _this.tableRef
    = createRef();\n            return _this;\n        }\n        DayTableView.prototype.render
    = function () {\n            var _this = this;\n            var _a = this.context,
    options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n            var
    props = this.props;\n            var dayTableModel = this.buildDayTableModel(props.dateProfile,
    dateProfileGenerator);\n            var headerContent = options.dayHeaders &&
    (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile,
    dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt ===
    1 }));\n            var bodyContent = function (contentArg) { return (createElement(DayTable,
    { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel,
    businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore:
    props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection,
    eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold:
    options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth:
    contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows:
    options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto,
    headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight:
    contentArg.clientHeight, forPrint: props.forPrint })); };\n            return
    options.dayMinWidth\n                ? this.renderHScrollLayout(headerContent,
    bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n                : this.renderSimpleLayout(headerContent,
    bodyContent);\n        };\n        return DayTableView;\n    }(TableView));\n
    \   function buildDayTableModel(dateProfile, dateProfileGenerator) {\n        var
    daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n
    \       return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n
    \   }\n\n    var TableDateProfileGenerator = /** @class */ (function (_super)
    {\n        __extends(TableDateProfileGenerator, _super);\n        function TableDateProfileGenerator()
    {\n            return _super !== null && _super.apply(this, arguments) || this;\n
    \       }\n        // Computes the date range that will be rendered.\n        TableDateProfileGenerator.prototype.buildRenderRange
    = function (currentRange, currentRangeUnit, isRangeAllDay) {\n            var
    dateEnv = this.props.dateEnv;\n            var renderRange = _super.prototype.buildRenderRange.call(this,
    currentRange, currentRangeUnit, isRangeAllDay);\n            var start = renderRange.start;\n
    \           var end = renderRange.end;\n            var endOfWeek;\n            //
    year and month views should be aligned with weeks. this is already done for week\n
    \           if (/^(year|month)$/.test(currentRangeUnit)) {\n                start
    = dateEnv.startOfWeek(start);\n                // make end-of-week if not already\n
    \               endOfWeek = dateEnv.startOfWeek(end);\n                if (endOfWeek.valueOf()
    !== end.valueOf()) {\n                    end = addWeeks(endOfWeek, 1);\n                }\n
    \           }\n            // ensure 6 weeks\n            if (this.props.monthMode
    &&\n                this.props.fixedWeekCount) {\n                var rowCnt =
    Math.ceil(// could be partial weeks due to hiddenDays\n                diffWeeks(start,
    end));\n                end = addWeeks(end, 6 - rowCnt);\n            }\n            return
    { start: start, end: end };\n        };\n        return TableDateProfileGenerator;\n
    \   }(DateProfileGenerator));\n\n    var dayGridPlugin = createPlugin({\n        initialView:
    'dayGridMonth',\n        views: {\n            dayGrid: {\n                component:
    DayTableView,\n                dateProfileGeneratorClass: TableDateProfileGenerator,\n
    \           },\n            dayGridDay: {\n                type: 'dayGrid',\n
    \               duration: { days: 1 },\n            },\n            dayGridWeek:
    {\n                type: 'dayGrid',\n                duration: { weeks: 1 },\n
    \           },\n            dayGridMonth: {\n                type: 'dayGrid',\n
    \               duration: { months: 1 },\n                monthMode: true,\n                fixedWeekCount:
    true,\n            },\n        },\n    });\n\n    var AllDaySplitter = /** @class
    */ (function (_super) {\n        __extends(AllDaySplitter, _super);\n        function
    AllDaySplitter() {\n            return _super !== null && _super.apply(this, arguments)
    || this;\n        }\n        AllDaySplitter.prototype.getKeyInfo = function ()
    {\n            return {\n                allDay: {},\n                timed: {},\n
    \           };\n        };\n        AllDaySplitter.prototype.getKeysForDateSpan
    = function (dateSpan) {\n            if (dateSpan.allDay) {\n                return
    ['allDay'];\n            }\n            return ['timed'];\n        };\n        AllDaySplitter.prototype.getKeysForEventDef
    = function (eventDef) {\n            if (!eventDef.allDay) {\n                return
    ['timed'];\n            }\n            if (hasBgRendering(eventDef)) {\n                return
    ['timed', 'allDay'];\n            }\n            return ['allDay'];\n        };\n
    \       return AllDaySplitter;\n    }(Splitter));\n\n    var DEFAULT_SLAT_LABEL_FORMAT
    = createFormatter({\n        hour: 'numeric',\n        minute: '2-digit',\n        omitZeroMinute:
    true,\n        meridiem: 'short',\n    });\n    function TimeColsAxisCell(props)
    {\n        var classNames = [\n            'fc-timegrid-slot',\n            'fc-timegrid-slot-label',\n
    \           props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n
    \       ];\n        return (createElement(ViewContextType.Consumer, null, function
    (context) {\n            if (!props.isLabeled) {\n                return (createElement(\"td\",
    { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n            }\n
    \           var dateEnv = context.dateEnv, options = context.options, viewApi
    = context.viewApi;\n            var labelFormat = // TODO: fully pre-parse\n             options.slotLabelFormat
    == null ? DEFAULT_SLAT_LABEL_FORMAT :\n                Array.isArray(options.slotLabelFormat)
    ? createFormatter(options.slotLabelFormat[0]) :\n                    createFormatter(options.slotLabelFormat);\n
    \           var hookProps = {\n                level: 0,\n                time:
    props.time,\n                date: dateEnv.toDate(props.date),\n                view:
    viewApi,\n                text: dateEnv.format(props.date, labelFormat),\n            };\n
    \           return (createElement(RenderHook, { hookProps: hookProps, classNames:
    options.slotLabelClassNames, content: options.slotLabelContent, defaultContent:
    renderInnerContent$1, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount
    }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\",
    { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\":
    props.isoTimeStr },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-frame
    fc-scrollgrid-shrink-frame\" },\n                    createElement(\"div\", {
    className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref:
    innerElRef }, innerContent)))); }));\n        }));\n    }\n    function renderInnerContent$1(props)
    {\n        return props.text;\n    }\n\n    var TimeBodyAxis = /** @class */ (function
    (_super) {\n        __extends(TimeBodyAxis, _super);\n        function TimeBodyAxis()
    {\n            return _super !== null && _super.apply(this, arguments) || this;\n
    \       }\n        TimeBodyAxis.prototype.render = function () {\n            return
    this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", {
    key: slatMeta.key },\n                createElement(TimeColsAxisCell, __assign({},
    slatMeta)))); });\n        };\n        return TimeBodyAxis;\n    }(BaseComponent));\n\n
    \   var DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\n    var
    AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\n    var TimeColsView = /** @class */ (function
    (_super) {\n        __extends(TimeColsView, _super);\n        function TimeColsView()
    {\n            var _this = _super !== null && _super.apply(this, arguments) ||
    this;\n            _this.allDaySplitter = new AllDaySplitter(); // for use by
    subclasses\n            _this.headerElRef = createRef();\n            _this.rootElRef
    = createRef();\n            _this.scrollerElRef = createRef();\n            _this.state
    = {\n                slatCoords: null,\n            };\n            _this.handleScrollTopRequest
    = function (scrollTop) {\n                var scrollerEl = _this.scrollerElRef.current;\n
    \               if (scrollerEl) { // TODO: not sure how this could ever be null.
    weirdness with the reducer\n                    scrollerEl.scrollTop = scrollTop;\n
    \               }\n            };\n            /* Header Render Methods\n            ------------------------------------------------------------------------------------------------------------------*/\n
    \           _this.renderHeadAxis = function (rowKey, frameHeight) {\n                if
    (frameHeight === void 0) { frameHeight = ''; }\n                var options =
    _this.context.options;\n                var dateProfile = _this.props.dateProfile;\n
    \               var range = dateProfile.renderRange;\n                var dayCnt
    = diffDays(range.start, range.end);\n                var navLinkAttrs = (options.navLinks
    && dayCnt === 1) // only do in day views (to avoid doing in week views that dont
    need it)\n                    ? { 'data-navlink': buildNavLinkData(range.start,
    'week'), tabIndex: 0 }\n                    : {};\n                if (options.weekNumbers
    && rowKey === 'day') {\n                    return (createElement(WeekNumberRoot,
    { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef,
    classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef,
    className: [\n                            'fc-timegrid-axis',\n                            'fc-scrollgrid-shrink',\n
    \                       ].concat(classNames).join(' ') },\n                        createElement(\"div\",
    { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\",
    style: { height: frameHeight } },\n                            createElement(\"a\",
    __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion
    fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n                }\n
    \               return (createElement(\"th\", { className: \"fc-timegrid-axis\"
    },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame\",
    style: { height: frameHeight } })));\n            };\n            /* Table Component
    Render Methods\n            ------------------------------------------------------------------------------------------------------------------*/\n
    \           // only a one-way height sync. we don't send the axis inner-content
    height to the DayGrid,\n            // but DayGrid still needs to have classNames
    on inner elements in order to measure.\n            _this.renderTableRowAxis =
    function (rowHeight) {\n                var _a = _this.context, options = _a.options,
    viewApi = _a.viewApi;\n                var hookProps = {\n                    text:
    options.allDayText,\n                    view: viewApi,\n                };\n
    \               return (\n                // TODO: make reusable hook. used in
    list view too\n                createElement(RenderHook, { hookProps: hookProps,
    classNames: options.allDayClassNames, content: options.allDayContent, defaultContent:
    renderAllDayInner$1, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount
    }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\",
    { ref: rootElRef, className: [\n                        'fc-timegrid-axis',\n
    \                       'fc-scrollgrid-shrink',\n                    ].concat(classNames).join('
    ') },\n                    createElement(\"div\", { className: 'fc-timegrid-axis-frame
    fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid'
    : ''), style: { height: rowHeight } },\n                        createElement(\"span\",
    { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\",
    ref: innerElRef }, innerContent)))); }));\n            };\n            _this.handleSlatCoords
    = function (slatCoords) {\n                _this.setState({ slatCoords: slatCoords
    });\n            };\n            return _this;\n        }\n        // rendering\n
    \       // ----------------------------------------------------------------------------------------------------\n
    \       TimeColsView.prototype.renderSimpleLayout = function (headerRowContent,
    allDayContent, timeContent) {\n            var _a = this, context = _a.context,
    props = _a.props;\n            var sections = [];\n            var stickyHeaderDates
    = getStickyHeaderDates(context.options);\n            if (headerRowContent) {\n
    \               sections.push({\n                    type: 'header',\n                    key:
    'header',\n                    isSticky: stickyHeaderDates,\n                    chunk:
    {\n                        elRef: this.headerElRef,\n                        tableClassName:
    'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n
    \               });\n            }\n            if (allDayContent) {\n                sections.push({\n
    \                   type: 'body',\n                    key: 'all-day',\n                    chunk:
    { content: allDayContent },\n                });\n                sections.push({\n
    \                   type: 'body',\n                    key: 'all-day-divider',\n
    \                   outerContent: ( // TODO: rename to cellContent so don't need
    to define <tr>?\n                    createElement(\"tr\", { className: \"fc-scrollgrid-section\"
    },\n                        createElement(\"td\", { className: 'fc-timegrid-divider
    ' + context.theme.getClass('tableCellShaded') }))),\n                });\n            }\n
    \           sections.push({\n                type: 'body',\n                key:
    'body',\n                liquid: true,\n                expandRows: Boolean(context.options.expandRows),\n
    \               chunk: {\n                    scrollerElRef: this.scrollerElRef,\n
    \                   content: timeContent,\n                },\n            });\n
    \           return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef:
    this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\",
    { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n
    \               createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto
    && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink'
    }], sections: sections }))); }));\n        };\n        TimeColsView.prototype.renderHScrollLayout
    = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth,
    slatMetas, slatCoords) {\n            var _this = this;\n            var ScrollGrid
    = this.context.pluginHooks.scrollGridImpl;\n            if (!ScrollGrid) {\n                throw
    new Error('No ScrollGrid implementation');\n            }\n            var _a
    = this, context = _a.context, props = _a.props;\n            var stickyHeaderDates
    = !props.forPrint && getStickyHeaderDates(context.options);\n            var stickyFooterScrollbar
    = !props.forPrint && getStickyFooterScrollbar(context.options);\n            var
    sections = [];\n            if (headerRowContent) {\n                sections.push({\n
    \                   type: 'header',\n                    key: 'header',\n                    isSticky:
    stickyHeaderDates,\n                    syncRowHeights: true,\n                    chunks:
    [\n                        {\n                            key: 'axis',\n                            rowContent:
    function (arg) { return (createElement(\"tr\", null, _this.renderHeadAxis('day',
    arg.rowSyncHeights[0]))); },\n                        },\n                        {\n
    \                           key: 'cols',\n                            elRef: this.headerElRef,\n
    \                           tableClassName: 'fc-col-header',\n                            rowContent:
    headerRowContent,\n                        },\n                    ],\n                });\n
    \           }\n            if (allDayContent) {\n                sections.push({\n
    \                   type: 'body',\n                    key: 'all-day',\n                    syncRowHeights:
    true,\n                    chunks: [\n                        {\n                            key:
    'axis',\n                            rowContent: function (contentArg) { return
    (createElement(\"tr\", null, _this.renderTableRowAxis(contentArg.rowSyncHeights[0])));
    },\n                        },\n                        {\n                            key:
    'cols',\n                            content: allDayContent,\n                        },\n
    \                   ],\n                });\n                sections.push({\n
    \                   key: 'all-day-divider',\n                    type: 'body',\n
    \                   outerContent: ( // TODO: rename to cellContent so don't need
    to define <tr>?\n                    createElement(\"tr\", { className: \"fc-scrollgrid-section\"
    },\n                        createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider
    ' + context.theme.getClass('tableCellShaded') }))),\n                });\n            }\n
    \           var isNowIndicator = context.options.nowIndicator;\n            sections.push({\n
    \               type: 'body',\n                key: 'body',\n                liquid:
    true,\n                expandRows: Boolean(context.options.expandRows),\n                chunks:
    [\n                    {\n                        key: 'axis',\n                        content:
    function (arg) { return (\n                        // TODO: make this now-indicator
    arrow more DRY with TimeColsContent\n                        createElement(\"div\",
    { className: \"fc-timegrid-axis-chunk\" },\n                            createElement(\"table\",
    { style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                                arg.tableColGroupNode,\n
    \                               createElement(\"tbody\", null,\n                                    createElement(TimeBodyAxis,
    { slatMetas: slatMetas }))),\n                            createElement(\"div\",
    { className: \"fc-timegrid-now-indicator-container\" },\n                                createElement(NowTimer,
    { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n
    \                                   var nowIndicatorTop = isNowIndicator &&\n
    \                                       slatCoords &&\n                                        slatCoords.safeComputeTop(nowDate);
    // might return void\n                                    if (typeof nowIndicatorTop
    === 'number') {\n                                        return (createElement(NowIndicatorRoot,
    { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef,
    innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join('
    '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                    }\n
    \                                   return null;\n                                }))));
    },\n                    },\n                    {\n                        key:
    'cols',\n                        scrollerElRef: this.scrollerElRef,\n                        content:
    timeContent,\n                    },\n                ],\n            });\n            if
    (stickyFooterScrollbar) {\n                sections.push({\n                    key:
    'footer',\n                    type: 'footer',\n                    isSticky:
    true,\n                    chunks: [\n                        {\n                            key:
    'axis',\n                            content: renderScrollShim,\n                        },\n
    \                       {\n                            key: 'cols',\n                            content:
    renderScrollShim,\n                        },\n                    ],\n                });\n
    \           }\n            return (createElement(ViewRoot, { viewSpec: context.viewSpec,
    elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\",
    { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n
    \               createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint,
    collapsibleWidth: false, colGroups: [\n                        { width: 'shrink',
    cols: [{ width: 'shrink' }] },\n                        { cols: [{ span: colCnt,
    minWidth: dayMinWidth }] },\n                    ], sections: sections }))); }));\n
    \       };\n        /* Dimensions\n        ------------------------------------------------------------------------------------------------------------------*/\n
    \       TimeColsView.prototype.getAllDayMaxEventProps = function () {\n            var
    _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n
    \           if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n
    \               dayMaxEvents = undefined;\n                dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS;
    // make sure \"auto\" goes to a real number\n            }\n            return
    { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n        };\n
    \       return TimeColsView;\n    }(DateComponent));\n    function renderAllDayInner$1(hookProps)
    {\n        return hookProps.text;\n    }\n\n    var TimeColsSlatsCoords = /**
    @class */ (function () {\n        function TimeColsSlatsCoords(positions, dateProfile,
    slotDuration) {\n            this.positions = positions;\n            this.dateProfile
    = dateProfile;\n            this.slotDuration = slotDuration;\n        }\n        TimeColsSlatsCoords.prototype.safeComputeTop
    = function (date) {\n            var dateProfile = this.dateProfile;\n            if
    (rangeContainsMarker(dateProfile.currentRange, date)) {\n                var startOfDayDate
    = startOfDay(date);\n                var timeMs = date.valueOf() - startOfDayDate.valueOf();\n
    \               if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                    timeMs
    < asRoughMs(dateProfile.slotMaxTime)) {\n                    return this.computeTimeTop(createDuration(timeMs));\n
    \               }\n            }\n            return null;\n        };\n        //
    Computes the top coordinate, relative to the bounds of the grid, of the given
    date.\n        // A `startOfDayDate` must be given for avoiding ambiguity over
    how to treat midnight.\n        TimeColsSlatsCoords.prototype.computeDateTop =
    function (when, startOfDayDate) {\n            if (!startOfDayDate) {\n                startOfDayDate
    = startOfDay(when);\n            }\n            return this.computeTimeTop(createDuration(when.valueOf()
    - startOfDayDate.valueOf()));\n        };\n        // Computes the top coordinate,
    relative to the bounds of the grid, of the given time (a Duration).\n        //
    This is a makeshify way to compute the time-top. Assumes all slatMetas dates are
    uniform.\n        // Eventually allow computation with arbirary slat dates.\n
    \       TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n
    \           var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n
    \           var len = positions.els.length;\n            // floating-point value
    of # of slots covered\n            var slatCoverage = (duration.milliseconds -
    asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n            var
    slatIndex;\n            var slatRemainder;\n            // compute a floating-point
    number for how many slats should be progressed through.\n            // from 0
    to number of slats (inclusive)\n            // constrained because slotMinTime/slotMaxTime
    might be customized.\n            slatCoverage = Math.max(0, slatCoverage);\n
    \           slatCoverage = Math.min(len, slatCoverage);\n            // an integer
    index of the furthest whole slat\n            // from 0 to number slats (*exclusive*,
    so len-1)\n            slatIndex = Math.floor(slatCoverage);\n            slatIndex
    = Math.min(slatIndex, len - 1);\n            // how much further through the slatIndex
    slat (from 0.0-1.0) must be covered in addition.\n            // could be 1.0
    if slatCoverage is covering *all* the slots\n            slatRemainder = slatCoverage
    - slatIndex;\n            return positions.tops[slatIndex] +\n                positions.getHeight(slatIndex)
    * slatRemainder;\n        };\n        return TimeColsSlatsCoords;\n    }());\n\n
    \   var TimeColsSlatsBody = /** @class */ (function (_super) {\n        __extends(TimeColsSlatsBody,
    _super);\n        function TimeColsSlatsBody() {\n            return _super !==
    null && _super.apply(this, arguments) || this;\n        }\n        TimeColsSlatsBody.prototype.render
    = function () {\n            var _a = this, props = _a.props, context = _a.context;\n
    \           var options = context.options;\n            var slatElRefs = props.slatElRefs;\n
    \           return (createElement(\"tbody\", null, props.slatMetas.map(function
    (slatMeta, i) {\n                var hookProps = {\n                    time:
    slatMeta.time,\n                    date: context.dateEnv.toDate(slatMeta.date),\n
    \                   view: context.viewApi,\n                };\n                var
    classNames = [\n                    'fc-timegrid-slot',\n                    'fc-timegrid-slot-lane',\n
    \                   slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n                ];\n
    \               return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key)
    },\n                    props.axis && (createElement(TimeColsAxisCell, __assign({},
    slatMeta))),\n                    createElement(RenderHook, { hookProps: hookProps,
    classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount:
    options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function
    (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\",
    { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\":
    slatMeta.isoTimeStr }, innerContent)); })));\n            })));\n        };\n
    \       return TimeColsSlatsBody;\n    }(BaseComponent));\n\n    /*\n    for the
    horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on
    RTL.\n    */\n    var TimeColsSlats = /** @class */ (function (_super) {\n        __extends(TimeColsSlats,
    _super);\n        function TimeColsSlats() {\n            var _this = _super !==
    null && _super.apply(this, arguments) || this;\n            _this.rootElRef =
    createRef();\n            _this.slatElRefs = new RefMap();\n            return
    _this;\n        }\n        TimeColsSlats.prototype.render = function () {\n            var
    _a = this, props = _a.props, context = _a.context;\n            return (createElement(\"div\",
    { className: \"fc-timegrid-slots\", ref: this.rootElRef },\n                createElement(\"table\",
    { className: context.theme.getClass('table'), style: {\n                        minWidth:
    props.tableMinWidth,\n                        width: props.clientWidth,\n                        height:
    props.minHeight,\n                    } },\n                    props.tableColGroupNode
    /* relies on there only being a single <col> for the axis */,\n                    createElement(TimeColsSlatsBody,
    { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n
    \       };\n        TimeColsSlats.prototype.componentDidMount = function () {\n
    \           this.updateSizing();\n        };\n        TimeColsSlats.prototype.componentDidUpdate
    = function () {\n            this.updateSizing();\n        };\n        TimeColsSlats.prototype.componentWillUnmount
    = function () {\n            if (this.props.onCoords) {\n                this.props.onCoords(null);\n
    \           }\n        };\n        TimeColsSlats.prototype.updateSizing = function
    () {\n            var _a = this, context = _a.context, props = _a.props;\n            if
    (props.onCoords &&\n                props.clientWidth !== null // means sizing
    has stabilized\n            ) {\n                var rootEl = this.rootElRef.current;\n
    \               if (rootEl.offsetHeight) { // not hidden by css\n                    props.onCoords(new
    TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap,
    props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n
    \               }\n            }\n        };\n        return TimeColsSlats;\n
    \   }(BaseComponent));\n    function collectSlatEls(elMap, slatMetas) {\n        return
    slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n    }\n\n
    \   function splitSegsByCol(segs, colCnt) {\n        var segsByCol = [];\n        var
    i;\n        for (i = 0; i < colCnt; i += 1) {\n            segsByCol.push([]);\n
    \       }\n        if (segs) {\n            for (i = 0; i < segs.length; i +=
    1) {\n                segsByCol[segs[i].col].push(segs[i]);\n            }\n        }\n
    \       return segsByCol;\n    }\n    function splitInteractionByCol(ui, colCnt)
    {\n        var byRow = [];\n        if (!ui) {\n            for (var i = 0; i
    < colCnt; i += 1) {\n                byRow[i] = null;\n            }\n        }\n
    \       else {\n            for (var i = 0; i < colCnt; i += 1) {\n                byRow[i]
    = {\n                    affectedInstances: ui.affectedInstances,\n                    isEvent:
    ui.isEvent,\n                    segs: [],\n                };\n            }\n
    \           for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n                var
    seg = _a[_i];\n                byRow[seg.col].segs.push(seg);\n            }\n
    \       }\n        return byRow;\n    }\n\n    var TimeColMoreLink = /** @class
    */ (function (_super) {\n        __extends(TimeColMoreLink, _super);\n        function
    TimeColMoreLink() {\n            var _this = _super !== null && _super.apply(this,
    arguments) || this;\n            _this.rootElRef = createRef();\n            return
    _this;\n        }\n        TimeColMoreLink.prototype.render = function () {\n
    \           var _this = this;\n            var props = this.props;\n            return
    (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length,
    allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef,
    defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile:
    props.dateProfile, todayRange: props.todayRange, popoverContent: function () {
    return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames,
    innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: function
    (el) {\n                    setRef(rootElRef, el);\n                    setRef(_this.rootElRef,
    el);\n                }, className: ['fc-timegrid-more-link'].concat(classNames).join('
    '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick },\n
    \               createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner
    fc-sticky\" }, innerContent))); }));\n        };\n        return TimeColMoreLink;\n
    \   }(BaseComponent));\n    function renderMoreLinkInner(props) {\n        return
    props.shortText;\n    }\n\n    // segInputs assumed sorted\n    function buildPositioning(segInputs,
    strictOrder, maxStackCnt) {\n        var hierarchy = new SegHierarchy();\n        if
    (strictOrder != null) {\n            hierarchy.strictOrder = strictOrder;\n        }\n
    \       if (maxStackCnt != null) {\n            hierarchy.maxStackCnt = maxStackCnt;\n
    \       }\n        var hiddenEntries = hierarchy.addSegs(segInputs);\n        var
    hiddenGroups = groupIntersectingEntries(hiddenEntries);\n        var web = buildWeb(hierarchy);\n
    \       web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n
    \       var segRects = webToRects(web);\n        return { segRects: segRects,
    hiddenGroups: hiddenGroups };\n    }\n    function buildWeb(hierarchy) {\n        var
    entriesByLevel = hierarchy.entriesByLevel;\n        var buildNode = cacheable(function
    (level, lateral) { return level + ':' + lateral; }, function (level, lateral)
    {\n            var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n
    \           var nextLevelRes = buildNodes(siblingRange, buildNode);\n            var
    entry = entriesByLevel[level][lateral];\n            return [\n                __assign(__assign({},
    entry), { nextLevelNodes: nextLevelRes[0] }),\n                entry.thickness
    + nextLevelRes[1], // the pressure builds\n            ];\n        });\n        return
    buildNodes(entriesByLevel.length\n            ? { level: 0, lateralStart: 0, lateralEnd:
    entriesByLevel[0].length }\n            : null, buildNode)[0];\n    }\n    function
    buildNodes(siblingRange, buildNode) {\n        if (!siblingRange) {\n            return
    [[], 0];\n        }\n        var level = siblingRange.level, lateralStart = siblingRange.lateralStart,
    lateralEnd = siblingRange.lateralEnd;\n        var lateral = lateralStart;\n        var
    pairs = [];\n        while (lateral < lateralEnd) {\n            pairs.push(buildNode(level,
    lateral));\n            lateral += 1;\n        }\n        pairs.sort(cmpDescPressures);\n
    \       return [\n            pairs.map(extractNode),\n            pairs[0][1],
    // first item's pressure\n        ];\n    }\n    function cmpDescPressures(a,
    b) {\n        return b[1] - a[1];\n    }\n    function extractNode(a) {\n        return
    a[0];\n    }\n    function findNextLevelSegs(hierarchy, subjectLevel, subjectLateral)
    {\n        var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n
    \       var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n        var
    afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n        var
    levelCnt = levelCoords.length;\n        var level = subjectLevel;\n        //
    skip past levels that are too high up\n        for (; level < levelCnt && levelCoords[level]
    < afterSubject; level += 1)\n            ; // do nothing\n        for (; level
    < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n
    \           var entry = void 0;\n            var searchIndex = binarySearch(entries,
    subjectEntry.span.start, getEntrySpanEnd);\n            var lateralStart = searchIndex[0]
    + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n
    \           var lateralEnd = lateralStart;\n            while ( // loop through
    entries that horizontally intersect\n            (entry = entries[lateralEnd])
    && // but not past the whole seg list\n                entry.span.start < subjectEntry.span.end)
    {\n                lateralEnd += 1;\n            }\n            if (lateralStart
    < lateralEnd) {\n                return { level: level, lateralStart: lateralStart,
    lateralEnd: lateralEnd };\n            }\n        }\n        return null;\n    }\n
    \   function stretchWeb(topLevelNodes, totalThickness) {\n        var stretchNode
    = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node);
    }, function (node, startCoord, prevThickness) {\n            var nextLevelNodes
    = node.nextLevelNodes, thickness = node.thickness;\n            var allThickness
    = thickness + prevThickness;\n            var thicknessFraction = thickness /
    allThickness;\n            var endCoord;\n            var newChildren = [];\n
    \           if (!nextLevelNodes.length) {\n                endCoord = totalThickness;\n
    \           }\n            else {\n                for (var _i = 0, nextLevelNodes_1
    = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                    var
    childNode = nextLevelNodes_1[_i];\n                    if (endCoord === undefined)
    {\n                        var res = stretchNode(childNode, startCoord, allThickness);\n
    \                       endCoord = res[0];\n                        newChildren.push(res[1]);\n
    \                   }\n                    else {\n                        var
    res = stretchNode(childNode, endCoord, 0);\n                        newChildren.push(res[1]);\n
    \                   }\n                }\n            }\n            var newThickness
    = (endCoord - startCoord) * thicknessFraction;\n            return [endCoord -
    newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes:
    newChildren })];\n        });\n        return topLevelNodes.map(function (node)
    { return stretchNode(node, 0, 0)[1]; });\n    }\n    // not sorted in any particular
    order\n    function webToRects(topLevelNodes) {\n        var rects = [];\n        var
    processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node);
    }, function (node, levelCoord, stackDepth) {\n            var rect = __assign(__assign({},
    node), { levelCoord: levelCoord,\n                stackDepth: stackDepth, stackForward:
    0 });\n            rects.push(rect);\n            return (rect.stackForward =
    processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1)
    + 1);\n        });\n        function processNodes(nodes, levelCoord, stackDepth)
    {\n            var stackForward = 0;\n            for (var _i = 0, nodes_1 = nodes;
    _i < nodes_1.length; _i++) {\n                var node = nodes_1[_i];\n                stackForward
    = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n            }\n
    \           return stackForward;\n        }\n        processNodes(topLevelNodes,
    0, 0);\n        return rects; // TODO: sort rects by levelCoord to be consistent
    with toRects?\n    }\n    // TODO: move to general util\n    function cacheable(keyFunc,
    workFunc) {\n        var cache = {};\n        return function () {\n            var
    args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i]
    = arguments[_i];\n            }\n            var key = keyFunc.apply(void 0, args);\n
    \           return (key in cache)\n                ? cache[key]\n                :
    (cache[key] = workFunc.apply(void 0, args));\n        };\n    }\n\n    function
    computeSegVCoords(segs, colDate, slatCoords, eventMinHeight) {\n        if (slatCoords
    === void 0) { slatCoords = null; }\n        if (eventMinHeight === void 0) { eventMinHeight
    = 0; }\n        var vcoords = [];\n        if (slatCoords) {\n            for
    (var i = 0; i < segs.length; i += 1) {\n                var seg = segs[i];\n                var
    spanStart = slatCoords.computeDateTop(seg.start, colDate);\n                var
    spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n                slatCoords.computeDateTop(seg.end,
    colDate));\n                vcoords.push({\n                    start: Math.round(spanStart),\n
    \                   end: Math.round(spanEnd), //\n                });\n            }\n
    \       }\n        return vcoords;\n    }\n    function computeFgSegPlacements(segs,
    segVCoords, // might not have for every seg\n    eventOrderStrict, eventMaxStack)
    {\n        var segInputs = [];\n        var dumbSegs = []; // segs without coords\n
    \       for (var i = 0; i < segs.length; i += 1) {\n            var vcoords =
    segVCoords[i];\n            if (vcoords) {\n                segInputs.push({\n
    \                   index: i,\n                    thickness: 1,\n                    span:
    vcoords,\n                });\n            }\n            else {\n                dumbSegs.push(segs[i]);\n
    \           }\n        }\n        var _a = buildPositioning(segInputs, eventOrderStrict,
    eventMaxStack), segRects = _a.segRects, hiddenGroups = _a.hiddenGroups;\n        var
    segPlacements = [];\n        for (var _i = 0, segRects_1 = segRects; _i < segRects_1.length;
    _i++) {\n            var segRect = segRects_1[_i];\n            segPlacements.push({\n
    \               seg: segs[segRect.index],\n                rect: segRect,\n            });\n
    \       }\n        for (var _b = 0, dumbSegs_1 = dumbSegs; _b < dumbSegs_1.length;
    _b++) {\n            var dumbSeg = dumbSegs_1[_b];\n            segPlacements.push({
    seg: dumbSeg, rect: null });\n        }\n        return { segPlacements: segPlacements,
    hiddenGroups: hiddenGroups };\n    }\n\n    var DEFAULT_TIME_FORMAT$1 = createFormatter({\n
    \       hour: 'numeric',\n        minute: '2-digit',\n        meridiem: false,\n
    \   });\n    var TimeColEvent = /** @class */ (function (_super) {\n        __extends(TimeColEvent,
    _super);\n        function TimeColEvent() {\n            return _super !== null
    && _super.apply(this, arguments) || this;\n        }\n        TimeColEvent.prototype.render
    = function () {\n            var classNames = [\n                'fc-timegrid-event',\n
    \               'fc-v-event',\n            ];\n            if (this.props.isShort)
    {\n                classNames.push('fc-timegrid-event-short');\n            }\n
    \           return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat:
    DEFAULT_TIME_FORMAT$1, extraClassNames: classNames })));\n        };\n        return
    TimeColEvent;\n    }(BaseComponent));\n\n    var TimeColMisc = /** @class */ (function
    (_super) {\n        __extends(TimeColMisc, _super);\n        function TimeColMisc()
    {\n            return _super !== null && _super.apply(this, arguments) || this;\n
    \       }\n        TimeColMisc.prototype.render = function () {\n            var
    props = this.props;\n            return (createElement(DayCellContent, { date:
    props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps:
    props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent
    &&\n                createElement(\"div\", { className: \"fc-timegrid-col-misc\",
    ref: innerElRef }, innerContent)); }));\n        };\n        return TimeColMisc;\n
    \   }(BaseComponent));\n\n    var TimeCol = /** @class */ (function (_super) {\n
    \       __extends(TimeCol, _super);\n        function TimeCol() {\n            var
    _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.sortEventSegs
    = memoize(sortEventSegs);\n            return _this;\n        }\n        // TODO:
    memoize event-placement?\n        TimeCol.prototype.render = function () {\n            var
    _this = this;\n            var _a = this, props = _a.props, context = _a.context;\n
    \           var isSelectMirror = context.options.selectMirror;\n            var
    mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n                (props.eventResize
    && props.eventResize.segs) ||\n                (isSelectMirror && props.dateSelectionSegs)
    ||\n                [];\n            var interactionAffectedInstances = // TODO:
    messy way to compute this\n             (props.eventDrag && props.eventDrag.affectedInstances)
    ||\n                (props.eventResize && props.eventResize.affectedInstances)
    ||\n                {};\n            var sortedFgSegs = this.sortEventSegs(props.fgEventSegs,
    context.options.eventOrder);\n            return (createElement(DayCellRoot, {
    elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange:
    props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef,
    classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef,
    className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join('
    ') }, dataAttrs, props.extraDataAttrs),\n                createElement(\"div\",
    { className: \"fc-timegrid-col-frame\" },\n                    createElement(\"div\",
    { className: \"fc-timegrid-col-bg\" },\n                        _this.renderFillSegs(props.businessHourSegs,
    'non-business'),\n                        _this.renderFillSegs(props.bgEventSegs,
    'bg-event'),\n                        _this.renderFillSegs(props.dateSelectionSegs,
    'highlight')),\n                    createElement(\"div\", { className: \"fc-timegrid-col-events\"
    }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false,
    false)),\n                    createElement(\"div\", { className: \"fc-timegrid-col-events\"
    }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize),
    Boolean(isSelectMirror))),\n                    createElement(\"div\", { className:
    \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n
    \                   createElement(TimeColMisc, { date: props.date, dateProfile:
    props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps
    })))); }));\n        };\n        TimeCol.prototype.renderFgSegs = function (sortedFgSegs,
    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n            var props
    = this.props;\n            if (props.forPrint) {\n                return renderPlainFgSegs(sortedFgSegs,
    props);\n            }\n            return this.renderPositionedFgSegs(sortedFgSegs,
    segIsInvisible, isDragging, isResizing, isDateSelecting);\n        };\n        TimeCol.prototype.renderPositionedFgSegs
    = function (segs, // if not mirror, needs to be sorted\n        segIsInvisible,
    isDragging, isResizing, isDateSelecting) {\n            var _this = this;\n            var
    _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight
    = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict, eventMinHeight
    = _a.eventMinHeight;\n            var _b = this.props, date = _b.date, slatCoords
    = _b.slatCoords, eventSelection = _b.eventSelection, todayRange = _b.todayRange,
    nowDate = _b.nowDate;\n            var isMirror = isDragging || isResizing ||
    isDateSelecting;\n            var segVCoords = computeSegVCoords(segs, date, slatCoords,
    eventMinHeight);\n            var _c = computeFgSegPlacements(segs, segVCoords,
    eventOrderStrict, eventMaxStack), segPlacements = _c.segPlacements, hiddenGroups
    = _c.hiddenGroups;\n            return (createElement(Fragment, null,\n                this.renderHiddenGroups(hiddenGroups,
    segs),\n                segPlacements.map(function (segPlacement) {\n                    var
    seg = segPlacement.seg, rect = segPlacement.rect;\n                    var instanceId
    = seg.eventRange.instance.instanceId;\n                    var isVisible = isMirror
    || Boolean(!segIsInvisible[instanceId] && rect);\n                    var vStyle
    = computeSegVStyle(rect && rect.span);\n                    var hStyle = (!isMirror
    && rect) ? _this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                    var
    isInset = Boolean(rect) && rect.stackForward > 0;\n                    var isShort
    = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look
    at other places for this problem\n                    return (createElement(\"div\",
    { className: 'fc-timegrid-event-harness' +\n                            (isInset
    ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign(__assign({
    visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                        createElement(TimeColEvent,
    __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting:
    isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort },
    getSegMeta(seg, todayRange, nowDate)))));\n                })));\n        };\n
    \       // will already have eventMinHeight applied because segInputs already
    had it\n        TimeCol.prototype.renderHiddenGroups = function (hiddenGroups,
    segs) {\n            var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile
    = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection
    = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n
    \           return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup)
    {\n                var positionCss = computeSegVStyle(hiddenGroup.span);\n                var
    hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n                return
    (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)),
    hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan:
    extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate,
    eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize
    }));\n            })));\n        };\n        TimeCol.prototype.renderFillSegs
    = function (segs, fillType) {\n            var _a = this, props = _a.props, context
    = _a.context;\n            var segVCoords = computeSegVCoords(segs, props.date,
    props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n
    \           var children = segVCoords.map(function (vcoords, i) {\n                var
    seg = segs[i];\n                return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange),
    className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType
    === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg
    }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                    renderFill(fillType)));\n
    \           });\n            return createElement(Fragment, null, children);\n
    \       };\n        TimeCol.prototype.renderNowIndicator = function (segs) {\n
    \           var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n
    \           if (!slatCoords) {\n                return null;\n            }\n
    \           return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot,
    { isAxis: false, date: date, \n                // key doesn't matter. will only
    ever be one\n                key: i }, function (rootElRef, classNames, innerElRef,
    innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join('
    '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent));
    })); });\n        };\n        TimeCol.prototype.computeSegHStyle = function (segHCoords)
    {\n            var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n
    \           var shouldOverlap = options.slotEventOverlap;\n            var nearCoord
    = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n
    \           var farCoord = segHCoords.levelCoord + segHCoords.thickness; // the
    right side if LTR. the left side if RTL. floating-point\n            var left;
    // amount of space from left edge, a fraction of the total width\n            var
    right; // amount of space from right edge, a fraction of the total width\n            if
    (shouldOverlap) {\n                // double the width, but don't go beyond the
    maximum forward coordinate (1.0)\n                farCoord = Math.min(1, nearCoord
    + (farCoord - nearCoord) * 2);\n            }\n            if (isRtl) {\n                left
    = 1 - farCoord;\n                right = nearCoord;\n            }\n            else
    {\n                left = nearCoord;\n                right = 1 - farCoord;\n
    \           }\n            var props = {\n                zIndex: segHCoords.stackDepth
    + 1,\n                left: left * 100 + '%',\n                right: right *
    100 + '%',\n            };\n            if (shouldOverlap && !segHCoords.stackForward)
    {\n                // add padding to the edge so that forward stacked events don't
    cover the resizer's icon\n                props[isRtl ? 'marginLeft' : 'marginRight']
    = 10 * 2; // 10 is a guesstimate of the icon's width\n            }\n            return
    props;\n        };\n        return TimeCol;\n    }(BaseComponent));\n    function
    renderPlainFgSegs(sortedFgSegs, _a) {\n        var todayRange = _a.todayRange,
    nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag,
    eventResize = _a.eventResize;\n        var hiddenInstances = (eventDrag ? eventDrag.affectedInstances
    : null) ||\n            (eventResize ? eventResize.affectedInstances : null) ||\n
    \           {};\n        return (createElement(Fragment, null, sortedFgSegs.map(function
    (seg) {\n            var instanceId = seg.eventRange.instance.instanceId;\n            return
    (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId]
    ? 'hidden' : '' } },\n                createElement(TimeColEvent, __assign({ seg:
    seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected:
    instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n
    \       })));\n    }\n    function computeSegVStyle(segVCoords) {\n        if
    (!segVCoords) {\n            return { top: '', bottom: '' };\n        }\n        return
    {\n            top: segVCoords.start,\n            bottom: -segVCoords.end,\n
    \       };\n    }\n    function compileSegsFromEntries(segEntries, allSegs) {\n
    \       return segEntries.map(function (segEntry) { return allSegs[segEntry.index];
    });\n    }\n\n    var TimeColsContent = /** @class */ (function (_super) {\n        __extends(TimeColsContent,
    _super);\n        function TimeColsContent() {\n            var _this = _super
    !== null && _super.apply(this, arguments) || this;\n            _this.splitFgEventSegs
    = memoize(splitSegsByCol);\n            _this.splitBgEventSegs = memoize(splitSegsByCol);\n
    \           _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n            _this.splitNowIndicatorSegs
    = memoize(splitSegsByCol);\n            _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n
    \           _this.splitEventDrag = memoize(splitInteractionByCol);\n            _this.splitEventResize
    = memoize(splitInteractionByCol);\n            _this.rootElRef = createRef();\n
    \           _this.cellElRefs = new RefMap();\n            return _this;\n        }\n
    \       TimeColsContent.prototype.render = function () {\n            var _this
    = this;\n            var _a = this, props = _a.props, context = _a.context;\n
    \           var nowIndicatorTop = context.options.nowIndicator &&\n                props.slatCoords
    &&\n                props.slatCoords.safeComputeTop(props.nowDate); // might return
    void\n            var colCnt = props.cells.length;\n            var fgEventSegsByRow
    = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n            var bgEventSegsByRow
    = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n            var businessHourSegsByRow
    = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n            var
    nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n
    \           var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs,
    colCnt);\n            var eventDragByRow = this.splitEventDrag(props.eventDrag,
    colCnt);\n            var eventResizeByRow = this.splitEventResize(props.eventResize,
    colCnt);\n            return (createElement(\"div\", { className: \"fc-timegrid-cols\",
    ref: this.rootElRef },\n                createElement(\"table\", { style: {\n
    \                       minWidth: props.tableMinWidth,\n                        width:
    props.clientWidth,\n                    } },\n                    props.tableColGroupNode,\n
    \                   createElement(\"tbody\", null,\n                        createElement(\"tr\",
    null,\n                            props.axis && (createElement(\"td\", { className:
    \"fc-timegrid-col fc-timegrid-axis\" },\n                                createElement(\"div\",
    { className: \"fc-timegrid-col-frame\" },\n                                    createElement(\"div\",
    { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop
    === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate
    }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\",
    { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join('
    '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                            props.cells.map(function
    (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key),
    dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange:
    props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs,
    extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs:
    fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i],
    nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i],
    eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords,
    eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n
    \       };\n        TimeColsContent.prototype.componentDidMount = function ()
    {\n            this.updateCoords();\n        };\n        TimeColsContent.prototype.componentDidUpdate
    = function () {\n            this.updateCoords();\n        };\n        TimeColsContent.prototype.updateCoords
    = function () {\n            var props = this.props;\n            if (props.onColCoords
    &&\n                props.clientWidth !== null // means sizing has stabilized\n
    \           ) {\n                props.onColCoords(new PositionCache(this.rootElRef.current,
    collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n
    \               false));\n            }\n        };\n        return TimeColsContent;\n
    \   }(BaseComponent));\n    function collectCellEls(elMap, cells) {\n        return
    cells.map(function (cell) { return elMap[cell.key]; });\n    }\n\n    /* A component
    that renders one or more columns of vertical time slots\n    ----------------------------------------------------------------------------------------------------------------------*/\n
    \   var TimeCols = /** @class */ (function (_super) {\n        __extends(TimeCols,
    _super);\n        function TimeCols() {\n            var _this = _super !== null
    && _super.apply(this, arguments) || this;\n            _this.processSlotOptions
    = memoize(processSlotOptions);\n            _this.state = {\n                slatCoords:
    null,\n            };\n            _this.handleRootEl = function (el) {\n                if
    (el) {\n                    _this.context.registerInteractiveComponent(_this,
    {\n                        el: el,\n                        isHitComboAllowed:
    _this.props.isHitComboAllowed,\n                    });\n                }\n                else
    {\n                    _this.context.unregisterInteractiveComponent(_this);\n
    \               }\n            };\n            _this.handleScrollRequest = function
    (request) {\n                var onScrollTopRequest = _this.props.onScrollTopRequest;\n
    \               var slatCoords = _this.state.slatCoords;\n                if (onScrollTopRequest
    && slatCoords) {\n                    if (request.time) {\n                        var
    top_1 = slatCoords.computeTimeTop(request.time);\n                        top_1
    = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll
    a little bit further\n                        if (top_1) {\n                            top_1
    += 1; // to overcome top border that slots beyond the first have. looks better\n
    \                       }\n                        onScrollTopRequest(top_1);\n
    \                   }\n                    return true;\n                }\n                return
    false;\n            };\n            _this.handleColCoords = function (colCoords)
    {\n                _this.colCoords = colCoords;\n            };\n            _this.handleSlatCoords
    = function (slatCoords) {\n                _this.setState({ slatCoords: slatCoords
    });\n                if (_this.props.onSlatCoords) {\n                    _this.props.onSlatCoords(slatCoords);\n
    \               }\n            };\n            return _this;\n        }\n        TimeCols.prototype.render
    = function () {\n            var _a = this, props = _a.props, state = _a.state;\n
    \           return (createElement(\"div\", { className: \"fc-timegrid-body\",
    ref: this.handleRootEl, style: {\n                    // these props are important
    to give this wrapper correct dimensions for interactions\n                    //
    TODO: if we set it here, can we avoid giving to inner tables?\n                    width:
    props.clientWidth,\n                    minWidth: props.tableMinWidth,\n                }
    },\n                createElement(TimeColsSlats, { axis: props.axis, dateProfile:
    props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth,
    minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth,
    tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends
    on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n                createElement(TimeColsContent,
    { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs:
    props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs,
    dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection,
    eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange,
    nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth:
    props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode,
    slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint
    })));\n        };\n        TimeCols.prototype.componentDidMount = function ()
    {\n            this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n
    \       };\n        TimeCols.prototype.componentDidUpdate = function (prevProps)
    {\n            this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n
    \       };\n        TimeCols.prototype.componentWillUnmount = function () {\n
    \           this.scrollResponder.detach();\n        };\n        TimeCols.prototype.queryHit
    = function (positionLeft, positionTop) {\n            var _a = this.context, dateEnv
    = _a.dateEnv, options = _a.options;\n            var colCoords = this.colCoords;\n
    \           var dateProfile = this.props.dateProfile;\n            var slatCoords
    = this.state.slatCoords;\n            var _b = this.processSlotOptions(this.props.slotDuration,
    options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n
    \           var colIndex = colCoords.leftToIndex(positionLeft);\n            var
    slatIndex = slatCoords.positions.topToIndex(positionTop);\n            if (colIndex
    != null && slatIndex != null) {\n                var cell = this.props.cells[colIndex];\n
    \               var slatTop = slatCoords.positions.tops[slatIndex];\n                var
    slatHeight = slatCoords.positions.getHeight(slatIndex);\n                var partial
    = (positionTop - slatTop) / slatHeight; // floating point number between 0 and
    1\n                var localSnapIndex = Math.floor(partial * snapsPerSlot); //
    the snap # relative to start of slat\n                var snapIndex = slatIndex
    * snapsPerSlot + localSnapIndex;\n                var dayDate = this.props.cells[colIndex].date;\n
    \               var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration,
    snapIndex));\n                var start = dateEnv.add(dayDate, time);\n                var
    end = dateEnv.add(start, snapDuration);\n                return {\n                    dateProfile:
    dateProfile,\n                    dateSpan: __assign({ range: { start: start,
    end: end }, allDay: false }, cell.extraDateSpan),\n                    dayEl:
    colCoords.els[colIndex],\n                    rect: {\n                        left:
    colCoords.lefts[colIndex],\n                        right: colCoords.rights[colIndex],\n
    \                       top: slatTop,\n                        bottom: slatTop
    + slatHeight,\n                    },\n                    layer: 0,\n                };\n
    \           }\n            return null;\n        };\n        return TimeCols;\n
    \   }(DateComponent));\n    function processSlotOptions(slotDuration, snapDurationOverride)
    {\n        var snapDuration = snapDurationOverride || slotDuration;\n        var
    snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n        if (snapsPerSlot
    === null) {\n            snapDuration = slotDuration;\n            snapsPerSlot
    = 1;\n            // TODO: say warning?\n        }\n        return { snapDuration:
    snapDuration, snapsPerSlot: snapsPerSlot };\n    }\n\n    var DayTimeColsSlicer
    = /** @class */ (function (_super) {\n        __extends(DayTimeColsSlicer, _super);\n
    \       function DayTimeColsSlicer() {\n            return _super !== null &&
    _super.apply(this, arguments) || this;\n        }\n        DayTimeColsSlicer.prototype.sliceRange
    = function (range, dayRanges) {\n            var segs = [];\n            for (var
    col = 0; col < dayRanges.length; col += 1) {\n                var segRange = intersectRanges(range,
    dayRanges[col]);\n                if (segRange) {\n                    segs.push({\n
    \                       start: segRange.start,\n                        end: segRange.end,\n
    \                       isStart: segRange.start.valueOf() === range.start.valueOf(),\n
    \                       isEnd: segRange.end.valueOf() === range.end.valueOf(),\n
    \                       col: col,\n                    });\n                }\n
    \           }\n            return segs;\n        };\n        return DayTimeColsSlicer;\n
    \   }(Slicer));\n\n    var DayTimeCols = /** @class */ (function (_super) {\n
    \       __extends(DayTimeCols, _super);\n        function DayTimeCols() {\n            var
    _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.buildDayRanges
    = memoize(buildDayRanges);\n            _this.slicer = new DayTimeColsSlicer();\n
    \           _this.timeColsRef = createRef();\n            return _this;\n        }\n
    \       DayTimeCols.prototype.render = function () {\n            var _this =
    this;\n            var _a = this, props = _a.props, context = _a.context;\n            var
    dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n            var
    isNowIndicator = context.options.nowIndicator;\n            var dayRanges = this.buildDayRanges(dayTableModel,
    dateProfile, context.dateEnv);\n            // give it the first row of cells\n
    \           // TODO: would move this further down hierarchy, but sliceNowDate
    needs it\n            return (createElement(NowTimer, { unit: isNowIndicator ?
    'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols,
    __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile,
    null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile:
    dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells:
    dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth:
    props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight,
    expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator
    && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange,
    onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords
    }))); }));\n        };\n        return DayTimeCols;\n    }(DateComponent));\n
    \   function buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n        var
    ranges = [];\n        for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length;
    _i++) {\n            var date = _a[_i];\n            ranges.push({\n                start:
    dateEnv.add(date, dateProfile.slotMinTime),\n                end: dateEnv.add(date,
    dateProfile.slotMaxTime),\n            });\n        }\n        return ranges;\n
    \   }\n\n    // potential nice values for the slot-duration and interval-duration\n
    \   // from largest to smallest\n    var STOCK_SUB_DURATIONS = [\n        { hours:
    1 },\n        { minutes: 30 },\n        { minutes: 15 },\n        { seconds: 30
    },\n        { seconds: 15 },\n    ];\n    function buildSlatMetas(slotMinTime,
    slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n        var dayStart
    = new Date(0);\n        var slatTime = slotMinTime;\n        var slatIterator
    = createDuration(0);\n        var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n
    \       var metas = [];\n        while (asRoughMs(slatTime) < asRoughMs(slotMaxTime))
    {\n            var date = dateEnv.add(dayStart, slatTime);\n            var isLabeled
    = wholeDivideDurations(slatIterator, labelInterval) !== null;\n            metas.push({\n
    \               date: date,\n                time: slatTime,\n                key:
    date.toISOString(),\n                isoTimeStr: formatIsoTimeString(date),\n
    \               isLabeled: isLabeled,\n            });\n            slatTime =
    addDurations(slatTime, slotDuration);\n            slatIterator = addDurations(slatIterator,
    slotDuration);\n        }\n        return metas;\n    }\n    // Computes an automatic
    value for slotLabelInterval\n    function computeLabelInterval(slotDuration) {\n
    \       var i;\n        var labelInterval;\n        var slotsPerLabel;\n        //
    find the smallest stock label interval that results in more than one slots-per-label\n
    \       for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n            labelInterval
    = createDuration(STOCK_SUB_DURATIONS[i]);\n            slotsPerLabel = wholeDivideDurations(labelInterval,
    slotDuration);\n            if (slotsPerLabel !== null && slotsPerLabel > 1) {\n
    \               return labelInterval;\n            }\n        }\n        return
    slotDuration; // fall back\n    }\n\n    var DayTimeColsView = /** @class */ (function
    (_super) {\n        __extends(DayTimeColsView, _super);\n        function DayTimeColsView()
    {\n            var _this = _super !== null && _super.apply(this, arguments) ||
    this;\n            _this.buildTimeColsModel = memoize(buildTimeColsModel);\n            _this.buildSlatMetas
    = memoize(buildSlatMetas);\n            return _this;\n        }\n        DayTimeColsView.prototype.render
    = function () {\n            var _this = this;\n            var _a = this.context,
    options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n
    \           var props = this.props;\n            var dateProfile = props.dateProfile;\n
    \           var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n
    \           var splitProps = this.allDaySplitter.splitProps(props);\n            var
    slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime,
    options.slotLabelInterval, options.slotDuration, dateEnv);\n            var dayMinWidth
    = options.dayMinWidth;\n            var hasAttachedAxis = !dayMinWidth;\n            var
    hasDetachedAxis = dayMinWidth;\n            var headerContent = options.dayHeaders
    && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile:
    dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis
    : null }));\n            var allDayContent = (options.allDaySlot !== false) &&
    (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay,
    { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold,
    tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode,
    renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers:
    false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth,
    clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps())));
    });\n            var timeGridContent = function (contentArg) { return (createElement(DayTimeCols,
    __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile,
    axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas,
    forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth:
    contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight,
    onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest:
    _this.handleScrollTopRequest }))); };\n            return hasDetachedAxis\n                ?
    this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt,
    dayMinWidth, slatMetas, this.state.slatCoords)\n                : this.renderSimpleLayout(headerContent,
    allDayContent, timeGridContent);\n        };\n        return DayTimeColsView;\n
    \   }(TimeColsView));\n    function buildTimeColsModel(dateProfile, dateProfileGenerator)
    {\n        var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n
    \       return new DayTableModel(daySeries, false);\n    }\n\n    var OPTION_REFINERS$2
    = {\n        allDaySlot: Boolean,\n    };\n\n    var timeGridPlugin = createPlugin({\n
    \       initialView: 'timeGridWeek',\n        optionRefiners: OPTION_REFINERS$2,\n
    \       views: {\n            timeGrid: {\n                component: DayTimeColsView,\n
    \               usesMinMaxTime: true,\n                allDaySlot: true,\n                slotDuration:
    '00:30:00',\n                slotEventOverlap: true, // a bad name. confused with
    overlap/constraint system\n            },\n            timeGridDay: {\n                type:
    'timeGrid',\n                duration: { days: 1 },\n            },\n            timeGridWeek:
    {\n                type: 'timeGrid',\n                duration: { weeks: 1 },\n
    \           },\n        },\n    });\n\n    var ListViewHeaderRow = /** @class
    */ (function (_super) {\n        __extends(ListViewHeaderRow, _super);\n        function
    ListViewHeaderRow() {\n            return _super !== null && _super.apply(this,
    arguments) || this;\n        }\n        ListViewHeaderRow.prototype.render = function
    () {\n            var _a = this.props, dayDate = _a.dayDate, todayRange = _a.todayRange;\n
    \           var _b = this.context, theme = _b.theme, dateEnv = _b.dateEnv, options
    = _b.options, viewApi = _b.viewApi;\n            var dayMeta = getDateMeta(dayDate,
    todayRange);\n            // will ever be falsy?\n            var text = options.listDayFormat
    ? dateEnv.format(dayDate, options.listDayFormat) : '';\n            // will ever
    be falsy? also, BAD NAME \"alt\"\n            var sideText = options.listDaySideFormat
    ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n            var navLinkData
    = options.navLinks\n                ? buildNavLinkData(dayDate)\n                :
    null;\n            var hookProps = __assign({ date: dateEnv.toDate(dayDate), view:
    viewApi, text: text,\n                sideText: sideText,\n                navLinkData:
    navLinkData }, dayMeta);\n            var classNames = ['fc-list-day'].concat(getDayClassNames(dayMeta,
    theme));\n            // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid
    too)\n            return (createElement(RenderHook, { hookProps: hookProps, classNames:
    options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent:
    renderInnerContent, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount
    }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"tr\",
    { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\":
    formatDayString(dayDate) },\n                createElement(\"th\", { colSpan:
    3 },\n                    createElement(\"div\", { className: 'fc-list-day-cushion
    ' + theme.getClass('tableCellShaded'), ref: innerElRef }, innerContent)))); }));\n
    \       };\n        return ListViewHeaderRow;\n    }(BaseComponent));\n    function
    renderInnerContent(props) {\n        var navLinkAttrs = props.navLinkData // is
    there a type for this?\n            ? { 'data-navlink': props.navLinkData, tabIndex:
    0 }\n            : {};\n        return (createElement(Fragment, null,\n            props.text
    && (createElement(\"a\", __assign({ className: \"fc-list-day-text\" }, navLinkAttrs),
    props.text)),\n            props.sideText && (createElement(\"a\", __assign({
    className: \"fc-list-day-side-text\" }, navLinkAttrs), props.sideText))));\n    }\n\n
    \   var DEFAULT_TIME_FORMAT = createFormatter({\n        hour: 'numeric',\n        minute:
    '2-digit',\n        meridiem: 'short',\n    });\n    var ListViewEventRow = /**
    @class */ (function (_super) {\n        __extends(ListViewEventRow, _super);\n
    \       function ListViewEventRow() {\n            return _super !== null && _super.apply(this,
    arguments) || this;\n        }\n        ListViewEventRow.prototype.render = function
    () {\n            var _a = this, props = _a.props, context = _a.context;\n            var
    seg = props.seg;\n            var timeFormat = context.options.eventTimeFormat
    || DEFAULT_TIME_FORMAT;\n            return (createElement(EventRoot, { seg: seg,
    timeText: \"\" // BAD. because of all-day content\n                , disableDragging:
    true, disableResizing: true, defaultContent: renderEventInnerContent, isPast:
    props.isPast, isFuture: props.isFuture, isToday: props.isToday, isSelected: props.isSelected,
    isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting
    }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return
    (createElement(\"tr\", { className: ['fc-list-event', hookProps.event.url ? 'fc-event-forced-url'
    : ''].concat(classNames).join(' '), ref: rootElRef },\n                buildTimeContent(seg,
    timeFormat, context),\n                createElement(\"td\", { className: \"fc-list-event-graphic\"
    },\n                    createElement(\"span\", { className: \"fc-list-event-dot\",
    style: { borderColor: hookProps.borderColor || hookProps.backgroundColor } })),\n
    \               createElement(\"td\", { className: \"fc-list-event-title\", ref:
    innerElRef }, innerContent))); }));\n        };\n        return ListViewEventRow;\n
    \   }(BaseComponent));\n    function renderEventInnerContent(props) {\n        var
    event = props.event;\n        var url = event.url;\n        var anchorAttrs =
    url ? { href: url } : {};\n        return (createElement(\"a\", __assign({}, anchorAttrs),
    event.title));\n    }\n    function buildTimeContent(seg, timeFormat, context)
    {\n        var options = context.options;\n        if (options.displayEventTime
    !== false) {\n            var eventDef = seg.eventRange.def;\n            var
    eventInstance = seg.eventRange.instance;\n            var doAllDay = false;\n
    \           var timeText = void 0;\n            if (eventDef.allDay) {\n                doAllDay
    = true;\n            }\n            else if (isMultiDayRange(seg.eventRange.range))
    { // TODO: use (!isStart || !isEnd) instead?\n                if (seg.isStart)
    {\n                    timeText = buildSegTimeText(seg, timeFormat, context, null,
    null, eventInstance.range.start, seg.end);\n                }\n                else
    if (seg.isEnd) {\n                    timeText = buildSegTimeText(seg, timeFormat,
    context, null, null, seg.start, eventInstance.range.end);\n                }\n
    \               else {\n                    doAllDay = true;\n                }\n
    \           }\n            else {\n                timeText = buildSegTimeText(seg,
    timeFormat, context);\n            }\n            if (doAllDay) {\n                var
    hookProps = {\n                    text: context.options.allDayText,\n                    view:
    context.viewApi,\n                };\n                return (createElement(RenderHook,
    { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent,
    defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount:
    options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent)
    { return (createElement(\"td\", { className: ['fc-list-event-time'].concat(classNames).join('
    '), ref: rootElRef }, innerContent)); }));\n            }\n            return
    (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n        }\n
    \       return null;\n    }\n    function renderAllDayInner(hookProps) {\n        return
    hookProps.text;\n    }\n\n    /*\n    Responsible for the scroller, and forwarding
    event-related actions into the \"grid\".\n    */\n    var ListView = /** @class
    */ (function (_super) {\n        __extends(ListView, _super);\n        function
    ListView() {\n            var _this = _super !== null && _super.apply(this, arguments)
    || this;\n            _this.computeDateVars = memoize(computeDateVars);\n            _this.eventStoreToSegs
    = memoize(_this._eventStoreToSegs);\n            _this.setRootEl = function (rootEl)
    {\n                if (rootEl) {\n                    _this.context.registerInteractiveComponent(_this,
    {\n                        el: rootEl,\n                    });\n                }\n
    \               else {\n                    _this.context.unregisterInteractiveComponent(_this);\n
    \               }\n            };\n            return _this;\n        }\n        ListView.prototype.render
    = function () {\n            var _this = this;\n            var _a = this, props
    = _a.props, context = _a.context;\n            var extraClassNames = [\n                'fc-list',\n
    \               context.theme.getClass('table'),\n                context.options.stickyHeaderDates
    !== false ? 'fc-list-sticky' : '',\n            ];\n            var _b = this.computeDateVars(props.dateProfile),
    dayDates = _b.dayDates, dayRanges = _b.dayRanges;\n            var eventSegs =
    this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n            return
    (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.setRootEl },
    function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef,
    className: extraClassNames.concat(classNames).join(' ') },\n                createElement(Scroller,
    { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden',
    overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n
    \                   _this.renderSegList(eventSegs, dayDates) :\n                    _this.renderEmptyMessage())));
    }));\n        };\n        ListView.prototype.renderEmptyMessage = function ()
    {\n            var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n
    \           var hookProps = {\n                text: options.noEventsText,\n                view:
    viewApi,\n            };\n            return (createElement(RenderHook, { hookProps:
    hookProps, classNames: options.noEventsClassNames, content: options.noEventsContent,
    defaultContent: renderNoEventsInner, didMount: options.noEventsDidMount, willUnmount:
    options.noEventsWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent)
    { return (createElement(\"div\", { className: ['fc-list-empty'].concat(classNames).join('
    '), ref: rootElRef },\n                createElement(\"div\", { className: \"fc-list-empty-cushion\",
    ref: innerElRef }, innerContent))); }));\n        };\n        ListView.prototype.renderSegList
    = function (allSegs, dayDates) {\n            var _a = this.context, theme = _a.theme,
    options = _a.options;\n            var segsByDay = groupSegsByDay(allSegs); //
    sparse array\n            return (createElement(NowTimer, { unit: \"day\" }, function
    (nowDate, todayRange) {\n                var innerNodes = [];\n                for
    (var dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                    var
    daySegs = segsByDay[dayIndex];\n                    if (daySegs) { // sparse array,
    so might be undefined\n                        var dayStr = dayDates[dayIndex].toISOString();\n
    \                       // append a day header\n                        innerNodes.push(createElement(ListViewHeaderRow,
    { key: dayStr, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                        daySegs
    = sortEventSegs(daySegs, options.eventOrder);\n                        for (var
    _i = 0, daySegs_1 = daySegs; _i < daySegs_1.length; _i++) {\n                            var
    seg = daySegs_1[_i];\n                            innerNodes.push(createElement(ListViewEventRow,
    __assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple
    segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting:
    false, isSelected: false }, getSegMeta(seg, todayRange, nowDate))));\n                        }\n
    \                   }\n                }\n                return (createElement(\"table\",
    { className: 'fc-list-table ' + theme.getClass('table') },\n                    createElement(\"tbody\",
    null, innerNodes)));\n            }));\n        };\n        ListView.prototype._eventStoreToSegs
    = function (eventStore, eventUiBases, dayRanges) {\n            return this.eventRangesToSegs(sliceEventStore(eventStore,
    eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg,
    dayRanges);\n        };\n        ListView.prototype.eventRangesToSegs = function
    (eventRanges, dayRanges) {\n            var segs = [];\n            for (var _i
    = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n                var
    eventRange = eventRanges_1[_i];\n                segs.push.apply(segs, this.eventRangeToSegs(eventRange,
    dayRanges));\n            }\n            return segs;\n        };\n        ListView.prototype.eventRangeToSegs
    = function (eventRange, dayRanges) {\n            var dateEnv = this.context.dateEnv;\n
    \           var nextDayThreshold = this.context.options.nextDayThreshold;\n            var
    range = eventRange.range;\n            var allDay = eventRange.def.allDay;\n            var
    dayIndex;\n            var segRange;\n            var seg;\n            var segs
    = [];\n            for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex +=
    1) {\n                segRange = intersectRanges(range, dayRanges[dayIndex]);\n
    \               if (segRange) {\n                    seg = {\n                        component:
    this,\n                        eventRange: eventRange,\n                        start:
    segRange.start,\n                        end: segRange.end,\n                        isStart:
    eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                        isEnd:
    eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                        dayIndex:
    dayIndex,\n                    };\n                    segs.push(seg);\n                    //
    detect when range won't go fully into the next day,\n                    // and
    mutate the latest seg to the be the end.\n                    if (!seg.isEnd &&
    !allDay &&\n                        dayIndex + 1 < dayRanges.length &&\n                        range.end
    <\n                            dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold))
    {\n                        seg.end = range.end;\n                        seg.isEnd
    = true;\n                        break;\n                    }\n                }\n
    \           }\n            return segs;\n        };\n        return ListView;\n
    \   }(DateComponent));\n    function renderNoEventsInner(hookProps) {\n        return
    hookProps.text;\n    }\n    function computeDateVars(dateProfile) {\n        var
    dayStart = startOfDay(dateProfile.renderRange.start);\n        var viewEnd = dateProfile.renderRange.end;\n
    \       var dayDates = [];\n        var dayRanges = [];\n        while (dayStart
    < viewEnd) {\n            dayDates.push(dayStart);\n            dayRanges.push({\n
    \               start: dayStart,\n                end: addDays(dayStart, 1),\n
    \           });\n            dayStart = addDays(dayStart, 1);\n        }\n        return
    { dayDates: dayDates, dayRanges: dayRanges };\n    }\n    // Returns a sparse
    array of arrays, segs grouped by their dayIndex\n    function groupSegsByDay(segs)
    {\n        var segsByDay = []; // sparse array\n        var i;\n        var seg;\n
    \       for (i = 0; i < segs.length; i += 1) {\n            seg = segs[i];\n            (segsByDay[seg.dayIndex]
    || (segsByDay[seg.dayIndex] = []))\n                .push(seg);\n        }\n        return
    segsByDay;\n    }\n\n    var OPTION_REFINERS$1 = {\n        listDayFormat: createFalsableFormatter,\n
    \       listDaySideFormat: createFalsableFormatter,\n        noEventsClassNames:
    identity,\n        noEventsContent: identity,\n        noEventsDidMount: identity,\n
    \       noEventsWillUnmount: identity,\n        // noEventsText is defined in
    base options\n    };\n    function createFalsableFormatter(input) {\n        return
    input === false ? null : createFormatter(input);\n    }\n\n    var listPlugin
    = createPlugin({\n        optionRefiners: OPTION_REFINERS$1,\n        views: {\n
    \           list: {\n                component: ListView,\n                buttonTextKey:
    'list',\n                listDayFormat: { month: 'long', day: 'numeric', year:
    'numeric' }, // like \"January 1, 2016\"\n            },\n            listDay:
    {\n                type: 'list',\n                duration: { days: 1 },\n                listDayFormat:
    { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n
    \           },\n            listWeek: {\n                type: 'list',\n                duration:
    { weeks: 1 },\n                listDayFormat: { weekday: 'long' },\n                listDaySideFormat:
    { month: 'long', day: 'numeric', year: 'numeric' },\n            },\n            listMonth:
    {\n                type: 'list',\n                duration: { month: 1 },\n                listDaySideFormat:
    { weekday: 'long' }, // day-of-week is nice-to-have\n            },\n            listYear:
    {\n                type: 'list',\n                duration: { year: 1 },\n                listDaySideFormat:
    { weekday: 'long' }, // day-of-week is nice-to-have\n            },\n        },\n
    \   });\n\n    var BootstrapTheme = /** @class */ (function (_super) {\n        __extends(BootstrapTheme,
    _super);\n        function BootstrapTheme() {\n            return _super !== null
    && _super.apply(this, arguments) || this;\n        }\n        return BootstrapTheme;\n
    \   }(Theme));\n    BootstrapTheme.prototype.classes = {\n        root: 'fc-theme-bootstrap',\n
    \       table: 'table-bordered',\n        tableCellShaded: 'table-active',\n        buttonGroup:
    'btn-group',\n        button: 'btn btn-primary',\n        buttonActive: 'active',\n
    \       popover: 'popover',\n        popoverHeader: 'popover-header',\n        popoverContent:
    'popover-body',\n    };\n    BootstrapTheme.prototype.baseIconClass = 'fa';\n
    \   BootstrapTheme.prototype.iconClasses = {\n        close: 'fa-times',\n        prev:
    'fa-chevron-left',\n        next: 'fa-chevron-right',\n        prevYear: 'fa-angle-double-left',\n
    \       nextYear: 'fa-angle-double-right',\n    };\n    BootstrapTheme.prototype.rtlIconClasses
    = {\n        prev: 'fa-chevron-right',\n        next: 'fa-chevron-left',\n        prevYear:
    'fa-angle-double-right',\n        nextYear: 'fa-angle-double-left',\n    };\n
    \   BootstrapTheme.prototype.iconOverrideOption = 'bootstrapFontAwesome'; // TODO:
    make TS-friendly. move the option-processing into this plugin\n    BootstrapTheme.prototype.iconOverrideCustomButtonOption
    = 'bootstrapFontAwesome';\n    BootstrapTheme.prototype.iconOverridePrefix = 'fa-';\n
    \   var plugin = createPlugin({\n        themeClasses: {\n            bootstrap:
    BootstrapTheme,\n        },\n    });\n\n    // rename this file to options.ts
    like other packages?\n    var OPTION_REFINERS = {\n        googleCalendarApiKey:
    String,\n    };\n\n    var EVENT_SOURCE_REFINERS = {\n        googleCalendarApiKey:
    String,\n        googleCalendarId: String,\n        googleCalendarApiBase: String,\n
    \       extraParams: identity,\n    };\n\n    // TODO: expose somehow\n    var
    API_BASE = 'https://www.googleapis.com/calendar/v3/calendars';\n    var eventSourceDef
    = {\n        parseMeta: function (refined) {\n            var googleCalendarId
    = refined.googleCalendarId;\n            if (!googleCalendarId && refined.url)
    {\n                googleCalendarId = parseGoogleCalendarId(refined.url);\n            }\n
    \           if (googleCalendarId) {\n                return {\n                    googleCalendarId:
    googleCalendarId,\n                    googleCalendarApiKey: refined.googleCalendarApiKey,\n
    \                   googleCalendarApiBase: refined.googleCalendarApiBase,\n                    extraParams:
    refined.extraParams,\n                };\n            }\n            return null;\n
    \       },\n        fetch: function (arg, onSuccess, onFailure) {\n            var
    _a = arg.context, dateEnv = _a.dateEnv, options = _a.options;\n            var
    meta = arg.eventSource.meta;\n            var apiKey = meta.googleCalendarApiKey
    || options.googleCalendarApiKey;\n            if (!apiKey) {\n                onFailure({\n
    \                   message: 'Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/',\n
    \               });\n            }\n            else {\n                var url
    = buildUrl(meta);\n                // TODO: make DRY with json-feed-event-source\n
    \               var extraParams = meta.extraParams;\n                var extraParamsObj
    = typeof extraParams === 'function' ? extraParams() : extraParams;\n                var
    requestParams_1 = buildRequestParams(arg.range, apiKey, extraParamsObj, dateEnv);\n
    \               requestJson('GET', url, requestParams_1, function (body, xhr)
    {\n                    if (body.error) {\n                        onFailure({\n
    \                           message: 'Google Calendar API: ' + body.error.message,\n
    \                           errors: body.error.errors,\n                            xhr:
    xhr,\n                        });\n                    }\n                    else
    {\n                        onSuccess({\n                            rawEvents:
    gcalItemsToRawEventDefs(body.items, requestParams_1.timeZone),\n                            xhr:
    xhr,\n                        });\n                    }\n                }, function
    (message, xhr) {\n                    onFailure({ message: message, xhr: xhr });\n
    \               });\n            }\n        },\n    };\n    function parseGoogleCalendarId(url)
    {\n        var match;\n        // detect if the ID was specified as a single string.\n
    \       // will match calendars like \"asdf1234@calendar.google.com\" in addition
    to person email calendars.\n        if (/^[^/]+@([^/.]+\\.)*(google|googlemail|gmail)\\.com$/.test(url))
    {\n            return url;\n        }\n        if ((match = /^https:\\/\\/www.googleapis.com\\/calendar\\/v3\\/calendars\\/([^/]*)/.exec(url))
    ||\n            (match = /^https?:\\/\\/www.google.com\\/calendar\\/feeds\\/([^/]*)/.exec(url)))
    {\n            return decodeURIComponent(match[1]);\n        }\n        return
    null;\n    }\n    function buildUrl(meta) {\n        var apiBase = meta.googleCalendarApiBase;\n
    \       if (!apiBase) {\n            apiBase = API_BASE;\n        }\n        return
    apiBase + '/' + encodeURIComponent(meta.googleCalendarId) + '/events';\n    }\n
    \   function buildRequestParams(range, apiKey, extraParams, dateEnv) {\n        var
    params;\n        var startStr;\n        var endStr;\n        if (dateEnv.canComputeOffset)
    {\n            // strings will naturally have offsets, which GCal needs\n            startStr
    = dateEnv.formatIso(range.start);\n            endStr = dateEnv.formatIso(range.end);\n
    \       }\n        else {\n            // when timezone isn't known, we don't
    know what the UTC offset should be, so ask for +/- 1 day\n            // from
    the UTC day-start to guarantee we're getting all the events\n            // (start/end
    will be UTC-coerced dates, so toISOString is okay)\n            startStr = addDays(range.start,
    -1).toISOString();\n            endStr = addDays(range.end, 1).toISOString();\n
    \       }\n        params = __assign(__assign({}, (extraParams || {})), { key:
    apiKey, timeMin: startStr, timeMax: endStr, singleEvents: true, maxResults: 9999
    });\n        if (dateEnv.timeZone !== 'local') {\n            params.timeZone
    = dateEnv.timeZone;\n        }\n        return params;\n    }\n    function gcalItemsToRawEventDefs(items,
    gcalTimezone) {\n        return items.map(function (item) { return gcalItemToRawEventDef(item,
    gcalTimezone); });\n    }\n    function gcalItemToRawEventDef(item, gcalTimezone)
    {\n        var url = item.htmlLink || null;\n        // make the URLs for each
    event show times in the correct timezone\n        if (url && gcalTimezone) {\n
    \           url = injectQsComponent(url, 'ctz=' + gcalTimezone);\n        }\n
    \       return {\n            id: item.id,\n            title: item.summary,\n
    \           start: item.start.dateTime || item.start.date,\n            end: item.end.dateTime
    || item.end.date,\n            url: url,\n            location: item.location,\n
    \           description: item.description,\n            attachments: item.attachments
    || [],\n            extendedProps: (item.extendedProperties || {}).shared || {},\n
    \       };\n    }\n    // Injects a string like \"arg=value\" into the querystring
    of a URL\n    // TODO: move to a general util file?\n    function injectQsComponent(url,
    component) {\n        // inject it after the querystring but before the fragment\n
    \       return url.replace(/(\\?.*?)?(#|$)/, function (whole, qs, hash) { return
    (qs ? qs + '&' : '?') + component + hash; });\n    }\n    var googleCalendarPlugin
    = createPlugin({\n        eventSourceDefs: [eventSourceDef],\n        optionRefiners:
    OPTION_REFINERS,\n        eventSourceRefiners: EVENT_SOURCE_REFINERS,\n    });\n\n
    \   globalPlugins.push(interactionPlugin, dayGridPlugin, timeGridPlugin, listPlugin,
    plugin, googleCalendarPlugin);\n\n    exports.BASE_OPTION_DEFAULTS = BASE_OPTION_DEFAULTS;\n
    \   exports.BASE_OPTION_REFINERS = BASE_OPTION_REFINERS;\n    exports.BaseComponent
    = BaseComponent;\n    exports.BgEvent = BgEvent;\n    exports.BootstrapTheme =
    BootstrapTheme;\n    exports.Calendar = Calendar;\n    exports.CalendarApi = CalendarApi;\n
    \   exports.CalendarContent = CalendarContent;\n    exports.CalendarDataManager
    = CalendarDataManager;\n    exports.CalendarDataProvider = CalendarDataProvider;\n
    \   exports.CalendarRoot = CalendarRoot;\n    exports.Component = Component;\n
    \   exports.ContentHook = ContentHook;\n    exports.CustomContentRenderContext
    = CustomContentRenderContext;\n    exports.DateComponent = DateComponent;\n    exports.DateEnv
    = DateEnv;\n    exports.DateProfileGenerator = DateProfileGenerator;\n    exports.DayCellContent
    = DayCellContent;\n    exports.DayCellRoot = DayCellRoot;\n    exports.DayGridView
    = DayTableView;\n    exports.DayHeader = DayHeader;\n    exports.DaySeriesModel
    = DaySeriesModel;\n    exports.DayTable = DayTable;\n    exports.DayTableModel
    = DayTableModel;\n    exports.DayTableSlicer = DayTableSlicer;\n    exports.DayTimeCols
    = DayTimeCols;\n    exports.DayTimeColsSlicer = DayTimeColsSlicer;\n    exports.DayTimeColsView
    = DayTimeColsView;\n    exports.DelayedRunner = DelayedRunner;\n    exports.Draggable
    = ExternalDraggable;\n    exports.ElementDragging = ElementDragging;\n    exports.ElementScrollController
    = ElementScrollController;\n    exports.Emitter = Emitter;\n    exports.EventApi
    = EventApi;\n    exports.EventRoot = EventRoot;\n    exports.EventSourceApi =
    EventSourceApi;\n    exports.FeaturefulElementDragging = FeaturefulElementDragging;\n
    \   exports.Fragment = Fragment;\n    exports.Interaction = Interaction;\n    exports.ListView
    = ListView;\n    exports.MoreLinkRoot = MoreLinkRoot;\n    exports.MountHook =
    MountHook;\n    exports.NamedTimeZoneImpl = NamedTimeZoneImpl;\n    exports.NowIndicatorRoot
    = NowIndicatorRoot;\n    exports.NowTimer = NowTimer;\n    exports.PointerDragging
    = PointerDragging;\n    exports.PositionCache = PositionCache;\n    exports.RefMap
    = RefMap;\n    exports.RenderHook = RenderHook;\n    exports.ScrollController
    = ScrollController;\n    exports.ScrollResponder = ScrollResponder;\n    exports.Scroller
    = Scroller;\n    exports.SegHierarchy = SegHierarchy;\n    exports.SimpleScrollGrid
    = SimpleScrollGrid;\n    exports.Slicer = Slicer;\n    exports.Splitter = Splitter;\n
    \   exports.StandardEvent = StandardEvent;\n    exports.Table = Table;\n    exports.TableDateCell
    = TableDateCell;\n    exports.TableDowCell = TableDowCell;\n    exports.TableView
    = TableView;\n    exports.Theme = Theme;\n    exports.ThirdPartyDraggable = ThirdPartyDraggable;\n
    \   exports.TimeCols = TimeCols;\n    exports.TimeColsSlatsCoords = TimeColsSlatsCoords;\n
    \   exports.TimeColsView = TimeColsView;\n    exports.ViewApi = ViewApi;\n    exports.ViewContextType
    = ViewContextType;\n    exports.ViewRoot = ViewRoot;\n    exports.WeekNumberRoot
    = WeekNumberRoot;\n    exports.WindowScrollController = WindowScrollController;\n
    \   exports.addDays = addDays;\n    exports.addDurations = addDurations;\n    exports.addMs
    = addMs;\n    exports.addWeeks = addWeeks;\n    exports.allowContextMenu = allowContextMenu;\n
    \   exports.allowSelection = allowSelection;\n    exports.applyMutationToEventStore
    = applyMutationToEventStore;\n    exports.applyStyle = applyStyle;\n    exports.applyStyleProp
    = applyStyleProp;\n    exports.asCleanDays = asCleanDays;\n    exports.asRoughMinutes
    = asRoughMinutes;\n    exports.asRoughMs = asRoughMs;\n    exports.asRoughSeconds
    = asRoughSeconds;\n    exports.binarySearch = binarySearch;\n    exports.buildClassNameNormalizer
    = buildClassNameNormalizer;\n    exports.buildDayRanges = buildDayRanges;\n    exports.buildDayTableModel
    = buildDayTableModel;\n    exports.buildEntryKey = buildEntryKey;\n    exports.buildEventApis
    = buildEventApis;\n    exports.buildEventRangeKey = buildEventRangeKey;\n    exports.buildHashFromArray
    = buildHashFromArray;\n    exports.buildIsoString = buildIsoString;\n    exports.buildNavLinkData
    = buildNavLinkData;\n    exports.buildSegCompareObj = buildSegCompareObj;\n    exports.buildSegTimeText
    = buildSegTimeText;\n    exports.buildSlatMetas = buildSlatMetas;\n    exports.buildTimeColsModel
    = buildTimeColsModel;\n    exports.collectFromHash = collectFromHash;\n    exports.combineEventUis
    = combineEventUis;\n    exports.compareByFieldSpec = compareByFieldSpec;\n    exports.compareByFieldSpecs
    = compareByFieldSpecs;\n    exports.compareNumbers = compareNumbers;\n    exports.compareObjs
    = compareObjs;\n    exports.computeEarliestSegStart = computeEarliestSegStart;\n
    \   exports.computeEdges = computeEdges;\n    exports.computeFallbackHeaderFormat
    = computeFallbackHeaderFormat;\n    exports.computeHeightAndMargins = computeHeightAndMargins;\n
    \   exports.computeInnerRect = computeInnerRect;\n    exports.computeRect = computeRect;\n
    \   exports.computeSegDraggable = computeSegDraggable;\n    exports.computeSegEndResizable
    = computeSegEndResizable;\n    exports.computeSegStartResizable = computeSegStartResizable;\n
    \   exports.computeShrinkWidth = computeShrinkWidth;\n    exports.computeSmallestCellWidth
    = computeSmallestCellWidth;\n    exports.computeVisibleDayRange = computeVisibleDayRange;\n
    \   exports.config = config;\n    exports.constrainPoint = constrainPoint;\n    exports.createContext
    = createContext;\n    exports.createDuration = createDuration;\n    exports.createElement
    = createElement;\n    exports.createEmptyEventStore = createEmptyEventStore;\n
    \   exports.createEventInstance = createEventInstance;\n    exports.createEventUi
    = createEventUi;\n    exports.createFormatter = createFormatter;\n    exports.createPlugin
    = createPlugin;\n    exports.createPortal = createPortal;\n    exports.createRef
    = createRef;\n    exports.diffDates = diffDates;\n    exports.diffDayAndTime =
    diffDayAndTime;\n    exports.diffDays = diffDays;\n    exports.diffPoints = diffPoints;\n
    \   exports.diffWeeks = diffWeeks;\n    exports.diffWholeDays = diffWholeDays;\n
    \   exports.diffWholeWeeks = diffWholeWeeks;\n    exports.disableCursor = disableCursor;\n
    \   exports.elementClosest = elementClosest;\n    exports.elementMatches = elementMatches;\n
    \   exports.enableCursor = enableCursor;\n    exports.eventTupleToStore = eventTupleToStore;\n
    \   exports.filterEventStoreDefs = filterEventStoreDefs;\n    exports.filterHash
    = filterHash;\n    exports.findDirectChildren = findDirectChildren;\n    exports.findElements
    = findElements;\n    exports.flexibleCompare = flexibleCompare;\n    exports.flushToDom
    = flushToDom;\n    exports.formatDate = formatDate;\n    exports.formatDayString
    = formatDayString;\n    exports.formatIsoTimeString = formatIsoTimeString;\n    exports.formatRange
    = formatRange;\n    exports.getAllowYScrolling = getAllowYScrolling;\n    exports.getCanVGrowWithinCell
    = getCanVGrowWithinCell;\n    exports.getClippingParents = getClippingParents;\n
    \   exports.getDateMeta = getDateMeta;\n    exports.getDayClassNames = getDayClassNames;\n
    \   exports.getDefaultEventEnd = getDefaultEventEnd;\n    exports.getElRoot =
    getElRoot;\n    exports.getElSeg = getElSeg;\n    exports.getEntrySpanEnd = getEntrySpanEnd;\n
    \   exports.getEventClassNames = getEventClassNames;\n    exports.getEventTargetViaRoot
    = getEventTargetViaRoot;\n    exports.getIsRtlScrollbarOnLeft = getIsRtlScrollbarOnLeft;\n
    \   exports.getRectCenter = getRectCenter;\n    exports.getRelevantEvents = getRelevantEvents;\n
    \   exports.getScrollGridClassNames = getScrollGridClassNames;\n    exports.getScrollbarWidths
    = getScrollbarWidths;\n    exports.getSectionClassNames = getSectionClassNames;\n
    \   exports.getSectionHasLiquidHeight = getSectionHasLiquidHeight;\n    exports.getSegMeta
    = getSegMeta;\n    exports.getSlotClassNames = getSlotClassNames;\n    exports.getStickyFooterScrollbar
    = getStickyFooterScrollbar;\n    exports.getStickyHeaderDates = getStickyHeaderDates;\n
    \   exports.getUnequalProps = getUnequalProps;\n    exports.globalLocales = globalLocales;\n
    \   exports.globalPlugins = globalPlugins;\n    exports.greatestDurationDenominator
    = greatestDurationDenominator;\n    exports.groupIntersectingEntries = groupIntersectingEntries;\n
    \   exports.guid = guid;\n    exports.hasBgRendering = hasBgRendering;\n    exports.hasShrinkWidth
    = hasShrinkWidth;\n    exports.identity = identity;\n    exports.interactionSettingsStore
    = interactionSettingsStore;\n    exports.interactionSettingsToStore = interactionSettingsToStore;\n
    \   exports.intersectRanges = intersectRanges;\n    exports.intersectRects = intersectRects;\n
    \   exports.intersectSpans = intersectSpans;\n    exports.isArraysEqual = isArraysEqual;\n
    \   exports.isColPropsEqual = isColPropsEqual;\n    exports.isDateSelectionValid
    = isDateSelectionValid;\n    exports.isDateSpansEqual = isDateSpansEqual;\n    exports.isInt
    = isInt;\n    exports.isInteractionValid = isInteractionValid;\n    exports.isMultiDayRange
    = isMultiDayRange;\n    exports.isPropsEqual = isPropsEqual;\n    exports.isPropsValid
    = isPropsValid;\n    exports.isValidDate = isValidDate;\n    exports.joinSpans
    = joinSpans;\n    exports.listenBySelector = listenBySelector;\n    exports.mapHash
    = mapHash;\n    exports.memoize = memoize;\n    exports.memoizeArraylike = memoizeArraylike;\n
    \   exports.memoizeHashlike = memoizeHashlike;\n    exports.memoizeObjArg = memoizeObjArg;\n
    \   exports.mergeEventStores = mergeEventStores;\n    exports.multiplyDuration
    = multiplyDuration;\n    exports.padStart = padStart;\n    exports.parseBusinessHours
    = parseBusinessHours;\n    exports.parseClassNames = parseClassNames;\n    exports.parseDragMeta
    = parseDragMeta;\n    exports.parseEventDef = parseEventDef;\n    exports.parseFieldSpecs
    = parseFieldSpecs;\n    exports.parseMarker = parse;\n    exports.pointInsideRect
    = pointInsideRect;\n    exports.preventContextMenu = preventContextMenu;\n    exports.preventDefault
    = preventDefault;\n    exports.preventSelection = preventSelection;\n    exports.rangeContainsMarker
    = rangeContainsMarker;\n    exports.rangeContainsRange = rangeContainsRange;\n
    \   exports.rangesEqual = rangesEqual;\n    exports.rangesIntersect = rangesIntersect;\n
    \   exports.refineEventDef = refineEventDef;\n    exports.refineProps = refineProps;\n
    \   exports.removeElement = removeElement;\n    exports.removeExact = removeExact;\n
    \   exports.render = render;\n    exports.renderChunkContent = renderChunkContent;\n
    \   exports.renderFill = renderFill;\n    exports.renderMicroColGroup = renderMicroColGroup;\n
    \   exports.renderScrollShim = renderScrollShim;\n    exports.requestJson = requestJson;\n
    \   exports.sanitizeShrinkWidth = sanitizeShrinkWidth;\n    exports.setElSeg =
    setElSeg;\n    exports.setRef = setRef;\n    exports.sliceEventStore = sliceEventStore;\n
    \   exports.sliceEvents = sliceEvents;\n    exports.sortEventSegs = sortEventSegs;\n
    \   exports.startOfDay = startOfDay;\n    exports.translateRect = translateRect;\n
    \   exports.triggerDateSelect = triggerDateSelect;\n    exports.unmountComponentAtNode
    = unmountComponentAtNode;\n    exports.unpromisify = unpromisify;\n    exports.version
    = version;\n    exports.whenTransitionDone = whenTransitionDone;\n    exports.wholeDivideDurations
    = wholeDivideDurations;\n\n    Object.defineProperty(exports, '__esModule', {
    value: true });\n\n    return exports;\n\n}({}));\n"
  uploads-admin-Public-Admin-plugins-fullcalendar-main.min.css: '.fc-icon,.fc-unselectable{-moz-user-select:none;-ms-user-select:none}.fc
    .fc-button,.fc-icon{text-transform:none;font-weight:400}.fc-not-allowed,.fc-not-allowed
    .fc-event{cursor:not-allowed}.fc .fc-button:not(:disabled),.fc a[data-navlink],.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-unselectable{-webkit-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent}.fc{display:flex;flex-direction:column;font-size:1em}.fc
    .fc-button,.fc-icon{display:inline-block;text-align:center}.fc,.fc *,.fc :after,.fc
    :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc
    th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc .fc-button,.fc
    .fc-button .fc-icon,.fc .fc-button-group,.fc .fc-timegrid-slot-label{vertical-align:middle}.fc
    a[data-navlink]:hover{text-decoration:underline}.fc .fc-button:hover,.fc .fc-list-event-title
    a,a.fc-event,a.fc-event:hover{text-decoration:none}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard
    td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack
    td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=")
    format(''truetype'');font-weight:400;font-style:normal}.fc-icon{width:1em;height:1em;-webkit-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-variant:normal;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:"\e900"}.fc-icon-chevron-right:before{content:"\e901"}.fc-icon-chevrons-left:before{content:"\e902"}.fc-icon-chevrons-right:before{content:"\e903"}.fc-icon-minus-square:before{content:"\e904"}.fc-icon-plus-square:before{content:"\e905"}.fc-icon-x:before{content:"\e906"}.fc
    .fc-button{overflow:visible;text-transform:none;margin:0;font-family:inherit}.fc
    .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{-webkit-appearance:button;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px
    solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc
    .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button-primary:focus,.fc
    .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0
    0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2C3E50;background-color:var(--fc-button-bg-color,#2C3E50);border-color:#2C3E50;border-color:var(--fc-button-border-color,#2C3E50)}.fc
    .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc
    .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2C3E50;background-color:var(--fc-button-bg-color,#2C3E50);border-color:#2C3E50;border-color:var(--fc-button-border-color,#2C3E50)}.fc
    .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc
    .fc-button .fc-icon{font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex}.fc
    .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc
    .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr
    .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr
    .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl
    .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl
    .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc
    .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc
    .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc
    .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl
    .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc
    .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc
    .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc
    .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl
    .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px
    solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc
    .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc
    .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid
    table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc
    .fc-scrollgrid{border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc
    .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc
    .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc
    .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc
    .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color,#fff);position:sticky;z-index:3}.fc
    .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc
    .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc
    .fc-view-harness{flex-grow:1;position:relative}.fc .fc-bg-event,.fc .fc-highlight,.fc
    .fc-non-business,.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;left:0;right:0;bottom:0}.fc
    .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-non-business{background:rgba(215,215,215,.3);background:var(--fc-non-business-color,rgba(215,215,215,.3))}.fc
    .fc-bg-event{background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc
    .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc
    .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc
    .fc-cell-shaded,.fc .fc-day-disabled{background:rgba(208,208,208,.3);background:var(--fc-neutral-bg-color,rgba(208,208,208,.3))}.fc-event
    .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0
    2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected
    .fc-event-resizer,.fc-event:hover .fc-event-resizer,.fc-h-event{display:block}.fc-event-selected
    .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width,8px)/
    2);border-width:1px;border-width:var(--fc-event-resizer-dot-border-width,1px);width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border-style:solid;border-color:inherit;background:var(--fc-page-bg-color,#fff)}.fc-event-selected
    .fc-event-resizer:before{content:'''';position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected{box-shadow:0
    2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{content:"";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after{content:"";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{border:1px
    solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event
    .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event
    .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event
    .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr
    .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr
    .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected)
    .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr
    .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl
    .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness,8px)/
    -2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl
    .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness,8px)/
    -2)}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width,8px)/
    -2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl
    .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width,8px)/
    -2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl
    .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width,8px)/
    -2)}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc
    .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px
    4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard
    .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:var(--fc-page-bg-color,#fff)}.fc-theme-standard
    .fc-popover-header{background:rgba(208,208,208,.3);background:var(--fc-neutral-bg-color,rgba(208,208,208,.3))}:root{--fc-daygrid-event-dot-width:8px;--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:"";clear:both;display:table}.fc
    .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc
    .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc
    .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc
    .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc
    .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc
    .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc
    .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc
    .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc
    .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc
    .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px
    3px 0}.fc .fc-daygrid-day-bottom:before{content:"";clear:both;display:table}.fc
    .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:rgba(208,208,208,.3);background-color:var(--fc-neutral-bg-color,rgba(208,208,208,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc
    .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr
    .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr
    .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr
    .fc-daygrid-week-number{left:0;border-radius:0 0 3px}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0
    0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event
    .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event
    .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px
    0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0
    4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width,8px)/
    2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width,8px)/
    2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl
    .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px
    solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event
    .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event
    .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event
    .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event
    .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event
    .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected)
    .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected)
    .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness,8px)/
    -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness,8px)/
    -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width,8px)/
    -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width,8px)/
    -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width,8px)/
    -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-axis-chunk>table,.fc
    .fc-timegrid-body,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-divider{padding:0
    0 2px}.fc .fc-timegrid-body{min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc
    .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:''\00a0''}.fc
    .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc
    .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc
    .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc
    .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl
    .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc
    .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc
    .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack
    .fc-timegrid-col-frame{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen
    .fc-timegrid-cols{position:absolute;top:0;left:0;right:0;bottom:0}.fc-media-screen
    .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen
    .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc
    .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc
    .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight,.fc
    .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc
    .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr
    .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0
    2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset
    .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0
    0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event
    .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short
    .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short
    .fc-event-time:after{content:''\00a0-\00a0''}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px
    2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc
    .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red);border-width:1px
    0 0}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr
    .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl
    .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}.fc-theme-standard
    .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc
    .fc-list-empty{background-color:rgba(208,208,208,.3);background-color:var(--fc-neutral-bg-color,rgba(208,208,208,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc
    .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc
    .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:sticky;top:0;background:var(--fc-page-bg-color,#fff)}.fc
    .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px
    14px}.fc .fc-list-day-cushion:after{content:"";clear:both;display:table}.fc-theme-standard
    .fc-list-day-cushion{background-color:rgba(208,208,208,.3);background-color:var(--fc-neutral-bg-color,rgba(208,208,208,.3))}.fc-direction-ltr
    .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr
    .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr
    .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table
    .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc
    .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc
    .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc
    .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px
    solid #3788d8;border:calc(var(--fc-list-event-dot-width,10px)/ 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width,10px)/
    2)}.fc .fc-list-event-title a{color:inherit}.fc .fc-list-event.fc-event-forced-url:hover
    a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}'
  uploads-admin-Public-Admin-plugins-fullcalendar-main.min.js: |-
    /*!
    FullCalendar v5.9.0
    Docs & License: https://fullcalendar.io/
    (c) 2021 Adam Shaw
    */
    var FullCalendar=function(e){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,n)};function n(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||t)}var i,a,s,l,u,c={},d=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function f(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,n){var r,o,i,a=arguments,s={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:s[i]=t[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(a[i]);if(null!=n&&(s.children=n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===s[i]&&(s[i]=e.defaultProps[i]);return g(e,s,r,o,null)}function g(e,t,n,r,o){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++i.__v:o};return null!=i.vnode&&i.vnode(a),a}function m(e){return e.children}function y(e,t){this.props=e,this.context=t}function E(e,t){if(null==t)return e.__?E(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?E(e):null}function S(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return S(e)}}function D(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!b.__r++||l!==i.debounceRendering)&&((l=i.debounceRendering)||s)(b)}function b(){for(var e;b.__r=a.length;)e=a.sort((function(e,t){return e.__v.__b-t.__v.__b})),a=[],e.some((function(e){var t,n,r,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=f({},o)).__v=o.__v+1,P(a,o,r,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?E(o):i,o.__h),I(n,o),o.__e!=i&&S(o)))}))}function C(e,t,n,r,o,i,a,s,l,u){var p,f,h,v,y,S,D,b=r&&r.__k||d,C=b.length;for(n.__k=[],p=0;p<t.length;p++)if(null!=(v=n.__k[p]=null==(v=t[p])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v||"bigint"==typeof v?g(null,v,null,null,v):Array.isArray(v)?g(m,{children:v},null,null,null):v.__b>0?g(v.type,v.props,v.key,null,v.__v):v)){if(v.__=n,v.__b=n.__b+1,null===(h=b[p])||h&&v.key==h.key&&v.type===h.type)b[p]=void 0;else for(f=0;f<C;f++){if((h=b[f])&&v.key==h.key&&v.type===h.type){b[f]=void 0;break}h=null}P(e,v,h=h||c,o,i,a,s,l,u),y=v.__e,(f=v.ref)&&h.ref!=f&&(D||(D=[]),h.ref&&D.push(h.ref,null,v),D.push(f,v.__c||y,v)),null!=y?(null==S&&(S=y),"function"==typeof v.type&&null!=v.__k&&v.__k===h.__k?v.__d=l=w(v,l,e):l=_(e,v,h,b,y,l),u||"option"!==n.type?"function"==typeof n.type&&(n.__d=l):e.value=""):l&&h.__e==l&&l.parentNode!=e&&(l=E(h))}for(n.__e=S,p=C;p--;)null!=b[p]&&("function"==typeof n.type&&null!=b[p].__e&&b[p].__e==n.__d&&(n.__d=E(r,p+1)),O(b[p],b[p]));if(D)for(p=0;p<D.length;p++)H(D[p],D[++p],D[++p])}function w(e,t,n){var r,o;for(r=0;r<e.__k.length;r++)(o=e.__k[r])&&(o.__=e,t="function"==typeof o.type?w(o,t,n):_(n,o,o,e.__k,o.__e,t));return t}function R(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){R(e,t)})):t.push(e)),t}function _(e,t,n,r,o,i){var a,s,l;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),a=null;else{for(s=i,l=0;(s=s.nextSibling)&&l<r.length;l+=2)if(s==o)break e;e.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function T(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function k(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||T(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||T(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?M:x,i):e.removeEventListener(t,i?M:x,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function x(e){this.l[e.type+!1](i.event?i.event(e):e)}function M(e){this.l[e.type+!0](i.event?i.event(e):e)}function P(e,t,n,r,o,a,s,l,u){var c,d,p,h,v,g,E,S,D,b,w,R=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,l=t.__e=n.__e,t.__h=null,a=[l]),(c=i.__b)&&c(t);try{e:if("function"==typeof R){if(S=t.props,D=(c=R.contextType)&&r[c.__c],b=c?D?D.props.value:c.__:r,n.__c?E=(d=t.__c=n.__c).__=d.__E:("prototype"in R&&R.prototype.render?t.__c=d=new R(S,b):(t.__c=d=new y(S,b),d.constructor=R,d.render=A),D&&D.sub(d),d.props=S,d.state||(d.state={}),d.context=b,d.__n=r,p=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=R.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=f({},d.__s)),f(d.__s,R.getDerivedStateFromProps(S,d.__s))),h=d.props,v=d.state,p)null==R.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==R.getDerivedStateFromProps&&S!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(S,b),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(S,d.__s,b)||t.__v===n.__v){d.props=S,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),d.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(S,d.__s,b),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,v,g)}))}d.context=b,d.props=S,d.state=d.__s,(c=i.__r)&&c(t),d.__d=!1,d.__v=t,d.__P=e,c=d.render(d.props,d.state,d.context),d.state=d.__s,null!=d.getChildContext&&(r=f(f({},r),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(g=d.getSnapshotBeforeUpdate(h,v)),w=null!=c&&c.type===m&&null==c.key?c.props.children:c,C(e,Array.isArray(w)?w:[w],t,n,r,o,a,s,l,u),d.base=t.__e,t.__h=null,d.__h.length&&s.push(d),E&&(d.__E=d.__=null),d.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=N(n.__e,t,n,r,o,a,s,u);(c=i.diffed)&&c(t)}catch(e){t.__v=null,(u||null!=a)&&(t.__e=l,t.__h=!!u,a[a.indexOf(l)]=null),i.__e(e,t,n)}}function I(e,t){i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function N(e,t,n,r,o,i,a,s){var l,u,p,f,v=n.props,g=t.props,m=t.type,y=0;if("svg"===m&&(o=!0),null!=i)for(;y<i.length;y++)if((l=i[y])&&(l===e||(m?l.localName==m:3==l.nodeType))){e=l,i[y]=null;break}if(null==e){if(null===m)return document.createTextNode(g);e=o?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,g.is&&g),i=null,s=!1}if(null===m)v===g||s&&e.data===g||(e.data=g);else{if(i=i&&d.slice.call(e.childNodes),u=(v=n.props||c).dangerouslySetInnerHTML,p=g.dangerouslySetInnerHTML,!s){if(null!=i)for(v={},f=0;f<e.attributes.length;f++)v[e.attributes[f].name]=e.attributes[f].value;(p||u)&&(p&&(u&&p.__html==u.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||k(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||k(e,i,t[i],n[i],r)}(e,g,v,o,s),p)t.__k=[];else if(y=t.props.children,C(e,Array.isArray(y)?y:[y],t,n,r,o&&"foreignObject"!==m,i,a,e.firstChild,s),null!=i)for(y=i.length;y--;)null!=i[y]&&h(i[y]);s||("value"in g&&void 0!==(y=g.value)&&(y!==e.value||"progress"===m&&!y)&&k(e,"value",y,v.value,!1),"checked"in g&&void 0!==(y=g.checked)&&y!==e.checked&&k(e,"checked",y,v.checked,!1))}return e}function H(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,n)}}function O(e,t,n){var r,o,a;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||H(r,null,t)),n||"function"==typeof e.type||(n=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&O(r[a],t,n);null!=o&&h(o)}function A(e,t,n){return this.constructor(e,n)}function U(e,t,n){var r,o,a;i.__&&i.__(e,t),o=(r="function"==typeof n)?null:n&&n.__k||t.__k,a=[],P(t,e=(!r&&n||t).__k=v(m,null,[e]),o||c,c,void 0!==t.ownerSVGElement,!r&&n?[n]:o?null:t.firstChild?d.slice.call(t.childNodes):null,a,!r&&n?n:o?o.__e:t.firstChild,r),I(a,e)}i={__e:function(e,t){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e},__v:0},y.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(f({},n),this.props)),e&&f(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),D(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),D(this))},y.prototype.render=m,a=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,u=0;var L,W=[],V=i.__b,F=i.__r,z=i.diffed,B=i.__c,j=i.unmount;function G(){W.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(Y),e.__H.__h.forEach(Z),e.__H.__h=[]}catch(t){e.__H.__h=[],i.__e(t,e.__v)}})),W=[]}i.__b=function(e){V&&V(e)},i.__r=function(e){F&&F(e);var t=e.__c.__H;t&&(t.__h.forEach(Y),t.__h.forEach(Z),t.__h=[])},i.diffed=function(e){z&&z(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==W.push(t)&&L===i.requestAnimationFrame||((L=i.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),q&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);q&&(t=requestAnimationFrame(n))})(G))},i.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Y),e.__h=e.__h.filter((function(e){return!e.__||Z(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],i.__e(n,e.__v)}})),B&&B(e,t)},i.unmount=function(e){j&&j(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(Y)}catch(e){i.__e(e,t.__v)}};var q="function"==typeof requestAnimationFrame;function Y(e){"function"==typeof e.__c&&e.__c()}function Z(e){e.__c=e.__()}function X(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function K(e){this.props=e}(K.prototype=new y).isPureReactComponent=!0,K.prototype.shouldComponentUpdate=function(e,t){return X(this.props,e)||X(this.state,t)};var $=i.__b;i.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),$&&$(e)};var J=i.__e;i.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);J(e,t,n)};var Q=i.unmount;function ee(){this.__u=0,this.t=null,this.__b=null}function te(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function ne(){this.u=null,this.o=null}i.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),Q&&Q(e)},(ee.prototype=new y).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=te(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(a,a)},ee.prototype.componentWillUnmount=function(){this.t=[]},ee.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=function(e,t){for(var n in t)e[n]=t[n];return e}({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__e&&v(m,null,e.fallback);return o&&(o.__h=null),[v(m,null,t.__e?null:e.children),o]};var re=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function oe(e){return this.getChildContext=function(){return e.context},e.children}function ie(e){var t=this,n=e.i;t.componentWillUnmount=function(){U(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),U(v(oe,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(ne.prototype=new y).__e=function(e){var t=this,n=te(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),re(t,e,r)):o()};n?n(i):i()}},ne.prototype.render=function(e){this.u=null,this.o=new Map;var t=R(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},ne.prototype.componentDidUpdate=ne.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){re(e,n,t)}))};var ae="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,se=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,le=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};y.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(y.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var ue=i.event;function ce(){}function de(){return this.cancelBubble}function pe(){return this.defaultPrevented}i.event=function(e){return ue&&(e=ue(e)),e.persist=ce,e.isPropagationStopped=de,e.isDefaultPrevented=pe,e.nativeEvent=e};var fe={configurable:!0,get:function(){return this.class}},he=i.vnode;i.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){for(var o in r={},n){var i=n[o];"value"===o&&"defaultValue"in n&&null==i||("defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===i?i="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!le(n.type)?o="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():se.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),r[o]=i)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=R(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=R(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r}t&&n.class!=n.className&&(fe.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",fe)),e.$$typeof=ae,he&&he(e)};var ve=i.__r;i.__r=function(e){ve&&ve(e)},"object"==typeof performance&&"function"==typeof performance.now&&performance.now.bind(performance);var ge="undefined"!=typeof globalThis?globalThis:window;ge.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):ge.FullCalendarVDom={Component:y,createElement:v,render:U,createRef:function(){return{current:null}},Fragment:m,createContext:function(e){var t=function(e,t){var n={__c:t="__cC"+u++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(D)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}(e),n=t.Provider;return t.Provider=function(){var e=this,t=!this.getChildContext,r=n.apply(this,arguments);if(t){var o=[];this.shouldComponentUpdate=function(t){e.props.value!==t.value&&o.forEach((function(e){e.context=t.value,e.forceUpdate()}))},this.sub=function(e){o.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){o.splice(o.indexOf(e),1),t&&t.call(e)}}}return r},t},createPortal:function(e,t){return v(ie,{__v:e,i:t})},flushToDom:function(){var e=i.debounceRendering,t=[];function n(e){t.push(e)}i.debounceRendering=n,U(v(me,{}),document.createElement("div"));for(;t.length;)t.shift()();i.debounceRendering=e},unmountComponentAtNode:function(e){U(null,e)}};var me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return v("div",{})},t.prototype.componentDidMount=function(){this.setState({})},t}(y);var ye=function(){function e(e,t){this.context=e,this.internalEventSource=t}return e.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},e.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(e.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),e}();function Ee(e){e.parentNode&&e.parentNode.removeChild(e)}function Se(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(De(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function De(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function be(e,t){for(var n=e instanceof HTMLElement?[e]:e,r=[],o=0;o<n.length;o+=1)for(var i=n[o].querySelectorAll(t),a=0;a<i.length;a+=1)r.push(i[a]);return r}var Ce=/(top|left|right|bottom|width|height)$/i;function we(e,t){for(var n in t)Re(e,n,t[n])}function Re(e,t,n){null==n?e.style[t]="":"number"==typeof n&&Ce.test(t)?e.style[t]=n+"px":e.style[t]=n}function _e(e){var t,n;return null!==(n=null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])&&void 0!==n?n:e.target}function Te(e){return e.getRootNode?e.getRootNode():document}function ke(e){e.preventDefault()}function xe(e,t){return function(n){var r=Se(n.target,e);r&&t.call(r,n,r)}}function Me(e,t,n,r){var o=xe(n,r);return e.addEventListener(t,o),function(){e.removeEventListener(t,o)}}var Pe=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Ie(e,t){var n=function(r){t(r),Pe.forEach((function(t){e.removeEventListener(t,n)}))};Pe.forEach((function(t){e.addEventListener(t,n)}))}var Ne=0;function He(){return String(Ne+=1)}function Oe(){document.body.classList.add("fc-not-allowed")}function Ae(){document.body.classList.remove("fc-not-allowed")}function Ue(e){e.classList.add("fc-unselectable"),e.addEventListener("selectstart",ke)}function Le(e){e.classList.remove("fc-unselectable"),e.removeEventListener("selectstart",ke)}function We(e){e.addEventListener("contextmenu",ke)}function Ve(e){e.removeEventListener("contextmenu",ke)}function Fe(e){var t,n,r=[],o=[];for("string"==typeof e?o=e.split(/\s*,\s*/):"function"==typeof e?o=[e]:Array.isArray(e)&&(o=e),t=0;t<o.length;t+=1)"string"==typeof(n=o[t])?r.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&r.push({func:n});return r}function ze(e,t,n){var r,o;for(r=0;r<n.length;r+=1)if(o=Be(e,t,n[r]))return o;return 0}function Be(e,t,n){return n.func?n.func(e,t):je(e[n.field],t[n.field])*(n.order||1)}function je(e,t){return e||t?null==t?-1:null==e?1:"string"==typeof e||"string"==typeof t?String(e).localeCompare(String(t)):e-t:0}function Ge(e,t){var n=String(e);return"000".substr(0,t-n.length)+n}function qe(e,t){return e-t}function Ye(e){return e%1==0}function Ze(e){var t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}var Xe=["sun","mon","tue","wed","thu","fri","sat"];function Ke(e,t){var n=ut(e);return n[2]+=7*t,ct(n)}function $e(e,t){var n=ut(e);return n[2]+=t,ct(n)}function Je(e,t){var n=ut(e);return n[6]+=t,ct(n)}function Qe(e,t){return et(e,t)/7}function et(e,t){return(t.valueOf()-e.valueOf())/864e5}function tt(e,t){var n=ot(e),r=ot(t);return{years:0,months:0,days:Math.round(et(n,r)),milliseconds:t.valueOf()-r.valueOf()-(e.valueOf()-n.valueOf())}}function nt(e,t){var n=rt(e,t);return null!==n&&n%7==0?n/7:null}function rt(e,t){return pt(e)===pt(t)?Math.round(et(e,t)):null}function ot(e){return ct([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function it(e,t,n,r){var o=ct([t,0,1+at(t,n,r)]),i=ot(e),a=Math.round(et(o,i));return Math.floor(a/7)+1}function at(e,t,n){var r=7+t-n;return-((7+ct([e,0,r]).getUTCDay()-t)%7)+r-1}function st(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function lt(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function ut(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function ct(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC.apply(Date,e))}function dt(e){return!isNaN(e.valueOf())}function pt(e){return 1e3*e.getUTCHours()*60*60+1e3*e.getUTCMinutes()*60+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function ft(e,t,n,r){return{instanceId:He(),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==r?null:r}}var ht=Object.prototype.hasOwnProperty;function vt(e,t){var n={};if(t)for(var r in t){for(var o=[],i=e.length-1;i>=0;i-=1){var a=e[i][r];if("object"==typeof a&&a)o.unshift(a);else if(void 0!==a){n[r]=a;break}}o.length&&(n[r]=vt(o))}for(i=e.length-1;i>=0;i-=1){var s=e[i];for(var l in s)l in n||(n[l]=s[l])}return n}function gt(e,t){var n={};for(var r in e)t(e[r],r)&&(n[r]=e[r]);return n}function mt(e,t){var n={};for(var r in e)n[r]=t(e[r],r);return n}function yt(e){for(var t={},n=0,r=e;n<r.length;n++){t[r[n]]=!0}return t}function Et(e){var t=[];for(var n in e)t.push(e[n]);return t}function St(e,t){if(e===t)return!0;for(var n in e)if(ht.call(e,n)&&!(n in t))return!1;for(var n in t)if(ht.call(t,n)&&e[n]!==t[n])return!1;return!0}function Dt(e,t){var n=[];for(var r in e)ht.call(e,r)&&(r in t||n.push(r));for(var r in t)ht.call(t,r)&&e[r]!==t[r]&&n.push(r);return n}function bt(e,t,n){if(void 0===n&&(n={}),e===t)return!0;for(var r in t)if(!(r in e)||!Ct(e[r],t[r],n[r]))return!1;for(var r in e)if(!(r in t))return!1;return!0}function Ct(e,t,n){return e===t||!0===n||!!n&&n(e,t)}function wt(e,t,n,r){void 0===t&&(t=0),void 0===r&&(r=1);var o=[];null==n&&(n=Object.keys(e).length);for(var i=t;i<n;i+=r){var a=e[i];void 0!==a&&o.push(a)}return o}function Rt(e,t,n){var r=n.dateEnv,o=n.pluginHooks,i=n.options,a=e.defs,s=e.instances;for(var l in s=gt(s,(function(e){return!a[e.defId].recurringDef})),a){var u=a[l];if(u.recurringDef){var c=u.recurringDef.duration;c||(c=u.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);for(var d=0,p=_t(u,c,t,r,o.recurringTypes);d<p.length;d++){var f=p[d],h=ft(l,{start:f,end:r.add(f,c)});s[h.instanceId]=h}}}return{defs:a,instances:s}}function _t(e,t,n,r,o){var i=o[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return e.allDay&&(i=i.map(ot)),i}var Tt=["years","months","days","milliseconds"],kt=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function xt(e,t){var n;return"string"==typeof e?function(e){var t=kt.exec(e);if(t){var n=t[1]?-1:1;return{years:0,months:0,days:n*(t[2]?parseInt(t[2],10):0),milliseconds:n*(60*(t[3]?parseInt(t[3],10):0)*60*1e3+60*(t[4]?parseInt(t[4],10):0)*1e3+1e3*(t[5]?parseInt(t[5],10):0)+(t[6]?parseInt(t[6],10):0))}}return null}(e):"object"==typeof e&&e?Mt(e):"number"==typeof e?Mt(((n={})[t||"milliseconds"]=e,n)):null}function Mt(e){var t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:60*(e.hours||e.hour||0)*60*1e3+60*(e.minutes||e.minute||0)*1e3+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=7*n,t.specifiedWeeks=!0),t}function Pt(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function It(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function Nt(e){return Ht(e)/864e5}function Ht(e){return 31536e6*e.years+2592e6*e.months+864e5*e.days+e.milliseconds}function Ot(e,t){for(var n=null,r=0;r<Tt.length;r+=1){var o=Tt[r];if(t[o]){var i=e[o]/t[o];if(!Ye(i)||null!==n&&n!==i)return null;n=i}else if(e[o])return null}return n}function At(e){var t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:"millisecond",value:t};if(t%6e4!=0)return{unit:"second",value:t/1e3};if(t%36e5!=0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function Ut(e,t,n){void 0===n&&(n=!1);var r=e.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(null==t?r=r.replace("Z",""):0!==t&&(r=r.replace("Z",Vt(t,!0)))),r}function Lt(e){return e.toISOString().replace(/T.*$/,"")}function Wt(e){return Ge(e.getUTCHours(),2)+":"+Ge(e.getUTCMinutes(),2)+":"+Ge(e.getUTCSeconds(),2)}function Vt(e,t){void 0===t&&(t=!1);var n=e<0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=Math.round(r%60);return t?n+Ge(o,2)+":"+Ge(i,2):"GMT"+n+o+(i?":"+Ge(i,2):"")}function Ft(e,t,n){if(e===t)return!0;var r,o=e.length;if(o!==t.length)return!1;for(r=0;r<o;r+=1)if(!(n?n(e[r],t[r]):e[r]===t[r]))return!1;return!0}function zt(e,t,n){var r,o;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(r){if(!Ft(r,i)){n&&n(o);var s=e.apply(this,i);t&&t(s,o)||(o=s)}}else o=e.apply(this,i);return r=i,o}}function Bt(e,t,n){var r,o,i=this;return function(a){if(r){if(!St(r,a)){n&&n(o);var s=e.call(i,a);t&&t(s,o)||(o=s)}}else o=e.call(i,a);return r=a,o}}var jt={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Gt={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},qt=/\s*([ap])\.?m\.?/i,Yt=/,/g,Zt=/\s+/g,Xt=/\u200e/g,Kt=/UTC|GMT/,$t=function(){function e(e){var t={},n={},r=0;for(var o in e)o in jt?(n[o]=e[o],r=Math.max(jt[o],r)):(t[o]=e[o],o in Gt&&(r=Math.max(Gt[o],r)));this.standardDateProps=t,this.extendedSettings=n,this.severity=r,this.buildFormattingFunc=zt(Jt)}return e.prototype.format=function(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)},e.prototype.formatRange=function(e,t,n,r){var o=this.standardDateProps,i=this.extendedSettings,a=function(e,t,n){if(n.getMarkerYear(e)!==n.getMarkerYear(t))return 5;if(n.getMarkerMonth(e)!==n.getMarkerMonth(t))return 4;if(n.getMarkerDay(e)!==n.getMarkerDay(t))return 2;if(pt(e)!==pt(t))return 1;return 0}(e.marker,t.marker,n.calendarSystem);if(!a)return this.format(e,n);var s=a;!(s>1)||"numeric"!==o.year&&"2-digit"!==o.year||"numeric"!==o.month&&"2-digit"!==o.month||"numeric"!==o.day&&"2-digit"!==o.day||(s=1);var l=this.format(e,n),u=this.format(t,n);if(l===u)return l;var c=Jt(function(e,t){var n={};for(var r in e)(!(r in Gt)||Gt[r]<=t)&&(n[r]=e[r]);return n}(o,s),i,n),d=c(e),p=c(t),f=function(e,t,n,r){var o=0;for(;o<e.length;){var i=e.indexOf(t,o);if(-1===i)break;var a=e.substr(0,i);o=i+t.length;for(var s=e.substr(o),l=0;l<n.length;){var u=n.indexOf(r,l);if(-1===u)break;var c=n.substr(0,u);l=u+r.length;var d=n.substr(l);if(a===c&&s===d)return{before:a,after:s}}}return null}(l,d,u,p),h=i.separator||r||n.defaultSeparator||"";return f?f.before+d+h+p+f.after:l+h+u},e.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},e}();function Jt(e,t,n){var o=Object.keys(e).length;return 1===o&&"short"===e.timeZoneName?function(e){return Vt(e.timeZoneOffset)}:0===o&&t.week?function(e){return function(e,t,n,r){var o=[];"narrow"===r?o.push(t):"short"===r&&o.push(t," ");o.push(n.simpleNumberFormat.format(e)),"rtl"===n.options.direction&&o.reverse();return o.join("")}(n.computeWeekNumber(e.marker),n.weekText,n.locale,t.week)}:function(e,t,n){e=r({},e),t=r({},t),function(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit"));"long"===e.timeZoneName&&(e.timeZoneName="short");t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}(e,t),e.timeZone="UTC";var o,i=new Intl.DateTimeFormat(n.locale.codes,e);if(t.omitZeroMinute){var a=r({},e);delete a.minute,o=new Intl.DateTimeFormat(n.locale.codes,a)}return function(r){var a=r.marker;return function(e,t,n,r,o){e=e.replace(Xt,""),"short"===n.timeZoneName&&(e=function(e,t){var n=!1;e=e.replace(Kt,(function(){return n=!0,t})),n||(e+=" "+t);return e}(e,"UTC"===o.timeZone||null==t.timeZoneOffset?"UTC":Vt(t.timeZoneOffset)));r.omitCommas&&(e=e.replace(Yt,"").trim());r.omitZeroMinute&&(e=e.replace(":00",""));!1===r.meridiem?e=e.replace(qt,"").trim():"narrow"===r.meridiem?e=e.replace(qt,(function(e,t){return t.toLocaleLowerCase()})):"short"===r.meridiem?e=e.replace(qt,(function(e,t){return t.toLocaleLowerCase()+"m"})):"lowercase"===r.meridiem&&(e=e.replace(qt,(function(e){return e.toLocaleLowerCase()})));return e=(e=e.replace(Zt," ")).trim()}((o&&!a.getUTCMinutes()?o:i).format(a),r,e,t,n)}}(e,t,n)}function Qt(e,t){var n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function en(e,t,n,r){var o=Qt(e,n.calendarSystem);return{date:o,start:o,end:t?Qt(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}var tn=function(){function e(e){this.cmdStr=e}return e.prototype.format=function(e,t,n){return t.cmdFormatter(this.cmdStr,en(e,null,t,n))},e.prototype.formatRange=function(e,t,n,r){return n.cmdFormatter(this.cmdStr,en(e,t,n,r))},e}(),nn=function(){function e(e){this.func=e}return e.prototype.format=function(e,t,n){return this.func(en(e,null,t,n))},e.prototype.formatRange=function(e,t,n,r){return this.func(en(e,t,n,r))},e}();function rn(e){return"object"==typeof e&&e?new $t(e):"string"==typeof e?new tn(e):"function"==typeof e?new nn(e):null}var on={navLinkDayClick:hn,navLinkWeekClick:hn,duration:xt,bootstrapFontAwesome:hn,buttonIcons:hn,customButtons:hn,defaultAllDayEventDuration:xt,defaultTimedEventDuration:xt,nextDayThreshold:xt,scrollTime:xt,scrollTimeReset:Boolean,slotMinTime:xt,slotMaxTime:xt,dayPopoverFormat:rn,slotDuration:xt,snapDuration:xt,headerToolbar:hn,footerToolbar:hn,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:rn,dayHeaderClassNames:hn,dayHeaderContent:hn,dayHeaderDidMount:hn,dayHeaderWillUnmount:hn,dayCellClassNames:hn,dayCellContent:hn,dayCellDidMount:hn,dayCellWillUnmount:hn,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:hn,weekNumbers:Boolean,weekNumberClassNames:hn,weekNumberContent:hn,weekNumberDidMount:hn,weekNumberWillUnmount:hn,editable:Boolean,viewClassNames:hn,viewDidMount:hn,viewWillUnmount:hn,nowIndicator:Boolean,nowIndicatorClassNames:hn,nowIndicatorContent:hn,nowIndicatorDidMount:hn,nowIndicatorWillUnmount:hn,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:hn,locale:hn,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:hn,eventOrder:Fe,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:hn,contentHeight:hn,direction:String,weekNumberFormat:rn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,progressiveEventRendering:Boolean,businessHours:hn,initialDate:hn,now:hn,eventDataTransform:hn,stickyHeaderDates:hn,stickyFooterScrollbar:hn,viewHeight:hn,defaultAllDay:Boolean,eventSourceFailure:hn,eventSourceSuccess:hn,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:hn,eventConstraint:hn,eventAllow:hn,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:hn,eventContent:hn,eventDidMount:hn,eventWillUnmount:hn,selectConstraint:hn,selectOverlap:hn,selectAllow:hn,droppable:Boolean,unselectCancel:String,slotLabelFormat:hn,slotLaneClassNames:hn,slotLaneContent:hn,slotLaneDidMount:hn,slotLaneWillUnmount:hn,slotLabelClassNames:hn,slotLabelContent:hn,slotLabelDidMount:hn,slotLabelWillUnmount:hn,dayMaxEvents:hn,dayMaxEventRows:hn,dayMinWidth:Number,slotLabelInterval:xt,allDayText:String,allDayClassNames:hn,allDayContent:hn,allDayDidMount:hn,allDayWillUnmount:hn,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:rn,rerenderDelay:Number,moreLinkText:hn,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:hn,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:xt,hiddenDays:hn,monthMode:Boolean,fixedWeekCount:Boolean,validRange:hn,visibleRange:hn,titleFormat:hn,noEventsText:String,moreLinkClick:hn,moreLinkClassNames:hn,moreLinkContent:hn,moreLinkDidMount:hn,moreLinkWillUnmount:hn},an={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},sn={datesSet:hn,eventsSet:hn,eventAdd:hn,eventChange:hn,eventRemove:hn,windowResize:hn,eventClick:hn,eventMouseEnter:hn,eventMouseLeave:hn,select:hn,unselect:hn,loading:hn,_unmount:hn,_beforeprint:hn,_afterprint:hn,_noEventDrop:hn,_noEventResize:hn,_resize:hn,_scrollRequest:hn},ln={buttonText:hn,views:hn,plugins:hn,initialEvents:hn,events:hn,eventSources:hn},un={headerToolbar:cn,footerToolbar:cn,buttonText:cn,buttonIcons:cn};function cn(e,t){return"object"==typeof e&&"object"==typeof t&&e&&t?St(e,t):e===t}var dn={type:String,component:hn,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:hn,usesMinMaxTime:Boolean,classNames:hn,content:hn,didMount:hn,willUnmount:hn};function pn(e){return vt(e,un)}function fn(e,t){var n={},r={};for(var o in t)o in e&&(n[o]=t[o](e[o]));for(var o in e)o in t||(r[o]=e[o]);return{refined:n,extra:r}}function hn(e){return e}function vn(e,t,n,r){for(var o={defs:{},instances:{}},i=In(n),a=0,s=e;a<s.length;a++){var l=Mn(s[a],t,n,r,i);l&&gn(l,o)}return o}function gn(e,t){return void 0===t&&(t={defs:{},instances:{}}),t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function mn(e,t){var n=e.instances[t];if(n){var r=e.defs[n.defId],o=Sn(e,(function(e){return t=r,n=e,Boolean(t.groupId&&t.groupId===n.groupId);var t,n}));return o.defs[r.defId]=r,o.instances[n.instanceId]=n,o}return{defs:{},instances:{}}}function yn(){return{defs:{},instances:{}}}function En(e,t){return{defs:r(r({},e.defs),t.defs),instances:r(r({},e.instances),t.instances)}}function Sn(e,t){var n=gt(e.defs,t),r=gt(e.instances,(function(e){return n[e.defId]}));return{defs:n,instances:r}}function Dn(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}var bn={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:hn,overlap:hn,allow:hn,className:Dn,classNames:Dn,color:String,backgroundColor:String,borderColor:String,textColor:String},Cn={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function wn(e,t){var n=function(e,t){return Array.isArray(e)?vn(e,null,t,!0):"object"==typeof e&&e?vn([e],null,t,!0):null!=e?String(e):null}(e.constraint,t);return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=n?[n]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function Rn(e){return e.reduce(_n,Cn)}function _n(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}var Tn={id:String,groupId:String,title:String,url:String},kn={start:hn,end:hn,date:hn,allDay:Boolean},xn=r(r(r({},Tn),kn),{extendedProps:hn});function Mn(e,t,n,r,o){void 0===o&&(o=In(n));var i=Pn(e,n,o),a=i.refined,s=i.extra,l=function(e,t){var n=null;e&&(n=e.defaultAllDay);null==n&&(n=t.options.defaultAllDay);return n}(t,n),u=function(e,t,n,r){for(var o=0;o<r.length;o+=1){var i=r[o].parse(e,n);if(i){var a=e.allDay;return null==a&&null==(a=t)&&null==(a=i.allDayGuess)&&(a=!1),{allDay:a,duration:i.duration,typeData:i.typeData,typeId:o}}}return null}(a,l,n.dateEnv,n.pluginHooks.recurringTypes);if(u)return(c=Nn(a,s,t?t.sourceId:"",u.allDay,Boolean(u.duration),n)).recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:c,instance:null};var c,d=function(e,t,n,r){var o,i,a=e.allDay,s=null,l=!1,u=null,c=null!=e.start?e.start:e.date;if(o=n.dateEnv.createMarkerMeta(c))s=o.marker;else if(!r)return null;null!=e.end&&(i=n.dateEnv.createMarkerMeta(e.end));null==a&&(a=null!=t?t:(!o||o.isTimeUnspecified)&&(!i||i.isTimeUnspecified));a&&s&&(s=ot(s));i&&(u=i.marker,a&&(u=ot(u)),s&&u<=s&&(u=null));u?l=!0:r||(l=n.options.forceEventDuration||!1,u=n.dateEnv.add(s,a?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration));return{allDay:a,hasEnd:l,range:{start:s,end:u},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:i?i.forcedTzo:null}}(a,l,n,r);return d?{def:c=Nn(a,s,t?t.sourceId:"",d.allDay,d.hasEnd,n),instance:ft(c.defId,d.range,d.forcedStartTzo,d.forcedEndTzo)}:null}function Pn(e,t,n){return void 0===n&&(n=In(t)),fn(e,n)}function In(e){return r(r(r({},bn),xn),e.pluginHooks.eventRefiners)}function Nn(e,t,n,o,i,a){for(var s={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:He(),sourceId:n,allDay:o,hasEnd:i,ui:wn(e,a),extendedProps:r(r({},e.extendedProps||{}),t)},l=0,u=a.pluginHooks.eventDefMemberAdders;l<u.length;l++){var c=u[l];r(s,c(e))}return Object.freeze(s.ui.classNames),Object.freeze(s.extendedProps),s}function Hn(e){var t=Math.floor(et(e.start,e.end))||1,n=ot(e.start);return{start:n,end:$e(n,t)}}function On(e,t){void 0===t&&(t=xt(0));var n=null,r=null;if(e.end){r=ot(e.end);var o=e.end.valueOf()-r.valueOf();o&&o>=Ht(t)&&(r=$e(r,1))}return e.start&&(n=ot(e.start),r&&r<=n&&(r=$e(n,1))),{start:n,end:r}}function An(e){var t=On(e);return et(t.start,t.end)>1}function Un(e,t,n,r){return"year"===r?xt(n.diffWholeYears(e,t),"year"):"month"===r?xt(n.diffWholeMonths(e,t),"month"):tt(e,t)}function Ln(e,t){var n,r,o=[],i=t.start;for(e.sort(Wn),n=0;n<e.length;n+=1)(r=e[n]).start>i&&o.push({start:i,end:r.start}),r.end>i&&(i=r.end);return i<t.end&&o.push({start:i,end:t.end}),o}function Wn(e,t){return e.start.valueOf()-t.start.valueOf()}function Vn(e,t){var n=e.start,r=e.end,o=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(r=null===r?t.end:new Date(Math.min(r.valueOf(),t.end.valueOf()))),(null===n||null===r||n<r)&&(o={start:n,end:r}),o}function Fn(e,t){return(null===e.start?null:e.start.valueOf())===(null===t.start?null:t.start.valueOf())&&(null===e.end?null:e.end.valueOf())===(null===t.end?null:t.end.valueOf())}function zn(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function Bn(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function jn(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function Gn(e,t,n,r){var o={},i={},a={},s=[],l=[],u=Xn(e.defs,t);for(var c in e.defs){"inverse-background"===(f=u[(S=e.defs[c]).defId]).display&&(S.groupId?(o[S.groupId]=[],a[S.groupId]||(a[S.groupId]=S)):i[c]=[])}for(var d in e.instances){var p=e.instances[d],f=u[(S=e.defs[p.defId]).defId],h=p.range,v=!S.allDay&&r?On(h,r):h,g=Vn(v,n);g&&("inverse-background"===f.display?S.groupId?o[S.groupId].push(g):i[p.defId].push(g):"none"!==f.display&&("background"===f.display?s:l).push({def:S,ui:f,instance:p,range:g,isStart:v.start&&v.start.valueOf()===g.start.valueOf(),isEnd:v.end&&v.end.valueOf()===g.end.valueOf()}))}for(var m in o)for(var y=0,E=Ln(o[m],n);y<E.length;y++){var S,D=E[y];f=u[(S=a[m]).defId];s.push({def:S,ui:f,instance:null,range:D,isStart:!1,isEnd:!1})}for(var c in i)for(var b=0,C=Ln(i[c],n);b<C.length;b++){D=C[b];s.push({def:e.defs[c],ui:u[c],instance:null,range:D,isStart:!1,isEnd:!1})}return{bg:s,fg:l}}function qn(e){return"background"===e.ui.display||"inverse-background"===e.ui.display}function Yn(e,t){e.fcSeg=t}function Zn(e){return e.fcSeg||e.parentNode.fcSeg||null}function Xn(e,t){return mt(e,(function(e){return Kn(e,t)}))}function Kn(e,t){var n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),Rn(n)}function $n(e,t){var n=e.map(Jn);return n.sort((function(e,n){return ze(e,n,t)})),n.map((function(e){return e._seg}))}function Jn(e){var t=e.eventRange,n=t.def,o=t.instance?t.instance.range:t.range,i=o.start?o.start.valueOf():0,a=o.end?o.end.valueOf():0;return r(r(r({},n.extendedProps),n),{id:n.publicId,start:i,end:a,duration:a-i,allDay:Number(n.allDay),_seg:e})}function Qn(e,t){for(var n=t.pluginHooks.isDraggableTransformers,r=e.eventRange,o=r.def,i=r.ui,a=i.startEditable,s=0,l=n;s<l.length;s++){a=(0,l[s])(a,o,i,t)}return a}function er(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function tr(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function nr(e,t,n,r,o,i,a){var s=n.dateEnv,l=n.options,u=l.displayEventTime,c=l.displayEventEnd,d=e.eventRange.def,p=e.eventRange.instance;null==u&&(u=!1!==r),null==c&&(c=!1!==o);var f=p.range.start,h=p.range.end,v=i||e.start||e.eventRange.range.start,g=a||e.end||e.eventRange.range.end,m=ot(f).valueOf()===ot(v).valueOf(),y=ot(Je(h,-1)).valueOf()===ot(Je(g,-1)).valueOf();return u&&!d.allDay&&(m||y)?(v=m?f:v,g=y?h:g,c&&d.hasEnd?s.formatRange(v,g,t,{forcedStartTzo:i?null:p.forcedStartTzo,forcedEndTzo:a?null:p.forcedEndTzo}):s.format(v,t,{forcedTzo:i?null:p.forcedStartTzo})):""}function rr(e,t,n){var r=e.eventRange.range;return{isPast:r.end<(n||t.start),isFuture:r.start>=(n||t.end),isToday:t&&jn(t,r.start)}}function or(e){var t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function ir(e){return e.instance?e.instance.instanceId:e.def.defId+":"+e.range.start.toISOString()}var ar={start:hn,end:hn,allDay:Boolean};function sr(e,t,n){var o=function(e,t){var n=fn(e,ar),o=n.refined,i=n.extra,a=o.start?t.createMarkerMeta(o.start):null,s=o.end?t.createMarkerMeta(o.end):null,l=o.allDay;null==l&&(l=a&&a.isTimeUnspecified&&(!s||s.isTimeUnspecified));return r({range:{start:a?a.marker:null,end:s?s.marker:null},allDay:l},i)}(e,t),i=o.range;if(!i.start)return null;if(!i.end){if(null==n)return null;i.end=t.add(i.start,n)}return o}function lr(e,t){return Fn(e.range,t.range)&&e.allDay===t.allDay&&function(e,t){for(var n in t)if("range"!==n&&"allDay"!==n&&e[n]!==t[n])return!1;for(var n in e)if(!(n in t))return!1;return!0}(e,t)}function ur(e,t,n){return r(r({},cr(e,t,n)),{timeZone:t.timeZone})}function cr(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function dr(e,t,n){var r=Pn({editable:!1},n),o=Nn(r.refined,r.extra,"",e.allDay,!0,n);return{def:o,ui:Kn(o,t),instance:ft(o.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function pr(e,t,n){n.emitter.trigger("select",r(r({},fr(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function fr(e,t){for(var n,o,i={},a=0,s=t.pluginHooks.dateSpanTransforms;a<s.length;a++){var l=s[a];r(i,l(e,t))}return r(i,(n=e,o=t.dateEnv,r(r({},cr(n.range,o,n.allDay)),{allDay:n.allDay}))),i}function hr(e,t,n){var r=n.dateEnv,o=n.options,i=t;return e?(i=ot(i),i=r.add(i,o.defaultAllDayEventDuration)):i=r.add(i,o.defaultTimedEventDuration),i}function vr(e,t,n,r){var o=Xn(e.defs,t),i={defs:{},instances:{}};for(var a in e.defs){var s=e.defs[a];i.defs[a]=gr(s,o[a],n,r)}for(var l in e.instances){var u=e.instances[l];s=i.defs[u.defId];i.instances[l]=mr(u,s,o[u.defId],n,r)}return i}function gr(e,t,n,o){var i=n.standardProps||{};null==i.hasEnd&&t.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);var a=r(r(r({},e),i),{ui:r(r({},e.ui),i.ui)});n.extendedProps&&(a.extendedProps=r(r({},a.extendedProps),n.extendedProps));for(var s=0,l=o.pluginHooks.eventDefMutationAppliers;s<l.length;s++){(0,l[s])(a,n,o)}return!a.hasEnd&&o.options.forceEventDuration&&(a.hasEnd=!0),a}function mr(e,t,n,o,i){var a=i.dateEnv,s=o.standardProps&&!0===o.standardProps.allDay,l=o.standardProps&&!1===o.standardProps.hasEnd,u=r({},e);return s&&(u.range=Hn(u.range)),o.datesDelta&&n.startEditable&&(u.range={start:a.add(u.range.start,o.datesDelta),end:a.add(u.range.end,o.datesDelta)}),o.startDelta&&n.durationEditable&&(u.range={start:a.add(u.range.start,o.startDelta),end:u.range.end}),o.endDelta&&n.durationEditable&&(u.range={start:u.range.start,end:a.add(u.range.end,o.endDelta)}),l&&(u.range={start:u.range.start,end:hr(t.allDay,u.range.start,i)}),t.allDay&&(u.range={start:ot(u.range.start),end:ot(u.range.end)}),u.range.end<u.range.start&&(u.range.end=hr(t.allDay,u.range.start,i)),u}var yr=function(){function e(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}return Object.defineProperty(e.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),e.prototype.getOption=function(e){return this.getCurrentData().options[e]},e}(),Er={id:String,defaultAllDay:Boolean,url:String,format:String,events:hn,eventDataTransform:hn,success:hn,failure:hn};function Sr(e,t,n){var r;if(void 0===n&&(n=Dr(t)),"string"==typeof e?r={url:e}:"function"==typeof e||Array.isArray(e)?r={events:e}:"object"==typeof e&&e&&(r=e),r){var o=fn(r,n),i=o.refined,a=o.extra,s=function(e,t){for(var n=t.pluginHooks.eventSourceDefs,r=n.length-1;r>=0;r-=1){var o=n[r].parseMeta(e);if(o)return{sourceDefId:r,meta:o}}return null}(i,t);if(s)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:He(),sourceDefId:s.sourceDefId,meta:s.meta,ui:wn(i,t),extendedProps:a}}return null}function Dr(e){return r(r(r({},bn),Er),e.pluginHooks.eventSourceRefiners)}function br(e,t){return"function"==typeof e&&(e=e()),null==e?t.createNowMarker():t.createMarker(e)}var Cr=function(){function e(){}return e.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},e.prototype.dispatch=function(e){return this.currentDataManager.dispatch(e)},Object.defineProperty(e.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),e.prototype.batchRendering=function(e){e()},e.prototype.updateSize=function(){this.trigger("_resize",!0)},e.prototype.setOption=function(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})},e.prototype.getOption=function(e){return this.currentDataManager.currentCalendarOptionsInput[e]},e.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},e.prototype.on=function(e,t){var n=this.currentDataManager;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn("Unknown listener name '"+e+"'")},e.prototype.off=function(e,t){this.currentDataManager.emitter.off(e,t)},e.prototype.trigger=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(t=this.currentDataManager.emitter).trigger.apply(t,o([e],n))},e.prototype.changeView=function(e,t){var n=this;this.batchRendering((function(){if(n.unselect(),t)if(t.start&&t.end)n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),n.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{var r=n.getCurrentData().dateEnv;n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(t)})}else n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})}))},e.prototype.zoomTo=function(e,t){var n;t=t||"day",n=this.getCurrentData().viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),n?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})},e.prototype.getUnitViewSpec=function(e){var t,n,r=this.getCurrentData(),o=r.viewSpecs,i=r.toolbarConfig,a=[].concat(i.viewsWithButtons);for(var s in o)a.push(s);for(t=0;t<a.length;t+=1)if((n=o[a[t]])&&n.singleUnit===e)return n;return null},e.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},e.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},e.prototype.prevYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})},e.prototype.nextYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})},e.prototype.today=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:br(e.calendarOptions.now,e.dateEnv)})},e.prototype.gotoDate=function(e){var t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})},e.prototype.incrementDate=function(e){var t=this.getCurrentData(),n=xt(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))},e.prototype.getDate=function(){var e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)},e.prototype.formatDate=function(e,t){var n=this.getCurrentData().dateEnv;return n.format(n.createMarker(e),rn(t))},e.prototype.formatRange=function(e,t,n){var r=this.getCurrentData().dateEnv;return r.formatRange(r.createMarker(e),r.createMarker(t),rn(n),n)},e.prototype.formatIso=function(e,t){var n=this.getCurrentData().dateEnv;return n.formatIso(n.createMarker(e),{omitTime:t})},e.prototype.select=function(e,t){var n;n=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};var r=this.getCurrentData(),o=sr(n,r.dateEnv,xt({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),pr(o,null,r))},e.prototype.unselect=function(e){var t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}(e,t))},e.prototype.addEvent=function(e,t){if(e instanceof wr){var n=e._def,r=e._instance;return this.getCurrentData().eventStore.defs[n.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:gn({def:n,instance:r})}),this.triggerEventAdd(e)),e}var o,i=this.getCurrentData();if(t instanceof ye)o=t.internalEventSource;else if("boolean"==typeof t)t&&(o=Et(i.eventSources)[0]);else if(null!=t){var a=this.getEventSourceById(t);if(!a)return console.warn('Could not find an event source with ID "'+t+'"'),null;o=a.internalEventSource}var s=Mn(e,o,i,!1);if(s){var l=new wr(i,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:gn(s)}),this.triggerEventAdd(l),l}return null},e.prototype.triggerEventAdd=function(e){var t=this;this.getCurrentData().emitter.trigger("eventAdd",{event:e,relatedEvents:[],revert:function(){t.dispatch({type:"REMOVE_EVENTS",eventStore:Rr(e)})}})},e.prototype.getEventById=function(e){var t=this.getCurrentData(),n=t.eventStore,r=n.defs,o=n.instances;for(var i in e=String(e),r){var a=r[i];if(a.publicId===e){if(a.recurringDef)return new wr(t,a,null);for(var s in o){var l=o[s];if(l.defId===a.defId)return new wr(t,a,l)}}}return null},e.prototype.getEvents=function(){var e=this.getCurrentData();return _r(e.eventStore,e)},e.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},e.prototype.getEventSources=function(){var e=this.getCurrentData(),t=e.eventSources,n=[];for(var r in t)n.push(new ye(e,t[r]));return n},e.prototype.getEventSourceById=function(e){var t=this.getCurrentData(),n=t.eventSources;for(var r in e=String(e),n)if(n[r].publicId===e)return new ye(t,n[r]);return null},e.prototype.addEventSource=function(e){var t=this.getCurrentData();if(e instanceof ye)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;var n=Sr(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new ye(t,n)):null},e.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},e.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},e.prototype.scrollToTime=function(e){var t=xt(e);t&&this.trigger("_scrollRequest",{time:t})},e}(),wr=function(){function e(e,t,n){this._context=e,this._def=t,this._instance=n||null}return e.prototype.setProp=function(e,t){var n,r;if(e in kn)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===e)t=Tn[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Tn)t=Tn[e](t),this.mutate({standardProps:(n={},n[e]=t,n)});else if(e in bn){var o=bn[e](t);"color"===e?o={backgroundColor:t,borderColor:t}:"editable"===e?o={startEditable:t,durationEditable:t}:((r={})[e]=t,o=r),this.mutate({standardProps:{ui:o}})}else console.warn("Could not set prop '"+e+"'. Use setExtendedProp instead.")},e.prototype.setExtendedProp=function(e,t){var n;this.mutate({extendedProps:(n={},n[e]=t,n)})},e.prototype.setStart=function(e,t){void 0===t&&(t={});var n=this._context.dateEnv,r=n.createMarker(e);if(r&&this._instance){var o=Un(this._instance.range.start,r,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}},e.prototype.setEnd=function(e,t){void 0===t&&(t={});var n,r=this._context.dateEnv;if((null==e||(n=r.createMarker(e)))&&this._instance)if(n){var o=Un(this._instance.range.end,n,r,t.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})},e.prototype.setDates=function(e,t,n){void 0===n&&(n={});var r,o,i,a=this._context.dateEnv,s={allDay:n.allDay},l=a.createMarker(e);if(l&&((null==t||(r=a.createMarker(t)))&&this._instance)){var u=this._instance.range;!0===n.allDay&&(u=Hn(u));var c=Un(u.start,l,a,n.granularity);if(r){var d=Un(u.end,r,a,n.granularity);i=d,(o=c).years===i.years&&o.months===i.months&&o.days===i.days&&o.milliseconds===i.milliseconds?this.mutate({datesDelta:c,standardProps:s}):this.mutate({startDelta:c,endDelta:d,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:c,standardProps:s})}},e.prototype.moveStart=function(e){var t=xt(e);t&&this.mutate({startDelta:t})},e.prototype.moveEnd=function(e){var t=xt(e);t&&this.mutate({endDelta:t})},e.prototype.moveDates=function(e){var t=xt(e);t&&this.mutate({datesDelta:t})},e.prototype.setAllDay=function(e,t){void 0===t&&(t={});var n={allDay:e},r=t.maintainDuration;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=r),this.mutate({standardProps:n})},e.prototype.formatRange=function(e){var t=this._context.dateEnv,n=this._instance,r=rn(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})},e.prototype.mutate=function(t){var n=this._instance;if(n){var r=this._def,o=this._context,i=o.getCurrentData().eventStore,a=mn(i,n.instanceId);a=vr(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,o);var s=new e(o,r,n);this._def=a.defs[r.defId],this._instance=a.instances[n.instanceId],o.dispatch({type:"MERGE_EVENTS",eventStore:a}),o.emitter.trigger("eventChange",{oldEvent:s,event:this,relatedEvents:_r(a,o,n),revert:function(){o.dispatch({type:"RESET_EVENTS",eventStore:i})}})}},e.prototype.remove=function(){var e=this._context,t=Rr(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})},Object.defineProperty(e.prototype,"source",{get:function(){var e=this._def.sourceId;return e?new ye(this._context,this._context.getCurrentData().eventSources[e]):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startStr",{get:function(){var e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endStr",{get:function(){var e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),e.prototype.toPlainObject=function(e){void 0===e&&(e={});var t=this._def,n=t.ui,o=this.startStr,i=this.endStr,a={};return t.title&&(a.title=t.title),o&&(a.start=o),i&&(a.end=i),t.publicId&&(a.id=t.publicId),t.groupId&&(a.groupId=t.groupId),t.url&&(a.url=t.url),n.display&&"auto"!==n.display&&(a.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?a.color=n.backgroundColor:(n.backgroundColor&&(a.backgroundColor=n.backgroundColor),n.borderColor&&(a.borderColor=n.borderColor)),n.textColor&&(a.textColor=n.textColor),n.classNames.length&&(a.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?r(a,t.extendedProps):a.extendedProps=t.extendedProps),a},e.prototype.toJSON=function(){return this.toPlainObject()},e}();function Rr(e){var t,n,r=e._def,o=e._instance;return{defs:(t={},t[r.defId]=r,t),instances:o?(n={},n[o.instanceId]=o,n):{}}}function _r(e,t,n){var r=e.defs,o=e.instances,i=[],a=n?n.instanceId:"";for(var s in o){var l=o[s],u=r[l.defId];l.instanceId!==a&&i.push(new wr(t,u,l))}return i}var Tr={};var kr,xr=function(){function e(){}return e.prototype.getMarkerYear=function(e){return e.getUTCFullYear()},e.prototype.getMarkerMonth=function(e){return e.getUTCMonth()},e.prototype.getMarkerDay=function(e){return e.getUTCDate()},e.prototype.arrayToMarker=function(e){return ct(e)},e.prototype.markerToArray=function(e){return ut(e)},e}();kr=xr,Tr["gregory"]=kr;var Mr=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Pr(e){var t=Mr.exec(e);if(t){var n=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number("0."+t[12]):0));if(dt(n)){var r=null;return t[13]&&(r=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:n,isTimeUnspecified:!t[6],timeZoneOffset:r}}}return null}var Ir=function(){function e(e){var t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!n||this.namedTimeZoneImpl),this.calendarSystem=function(e){return new Tr[e]}(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}return e.prototype.createMarker=function(e){var t=this.createMarkerMeta(e);return null===t?null:t.marker},e.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):ct(st(new Date))},e.prototype.createMarkerMeta=function(e){if("string"==typeof e)return this.parse(e);var t=null;return"number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=ct(e)),null!==t&&dt(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null},e.prototype.parse=function(e){var t=Pr(e);if(null===t)return null;var n=t.marker,r=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-60*t.timeZoneOffset*1e3):r=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}},e.prototype.getYear=function(e){return this.calendarSystem.getMarkerYear(e)},e.prototype.getMonth=function(e){return this.calendarSystem.getMarkerMonth(e)},e.prototype.add=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)},e.prototype.subtract=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)},e.prototype.addYears=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)},e.prototype.addMonths=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)},e.prototype.diffWholeYears=function(e,t){var n=this.calendarSystem;return pt(e)===pt(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null},e.prototype.diffWholeMonths=function(e,t){var n=this.calendarSystem;return pt(e)===pt(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+12*(n.getMarkerYear(t)-n.getMarkerYear(e)):null},e.prototype.greatestWholeUnit=function(e,t){var n=this.diffWholeYears(e,t);return null!==n?{unit:"year",value:n}:null!==(n=this.diffWholeMonths(e,t))?{unit:"month",value:n}:null!==(n=nt(e,t))?{unit:"week",value:n}:null!==(n=rt(e,t))?{unit:"day",value:n}:Ye(n=function(e,t){return(t.valueOf()-e.valueOf())/36e5}(e,t))?{unit:"hour",value:n}:Ye(n=function(e,t){return(t.valueOf()-e.valueOf())/6e4}(e,t))?{unit:"minute",value:n}:Ye(n=function(e,t){return(t.valueOf()-e.valueOf())/1e3}(e,t))?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}},e.prototype.countDurationsBetween=function(e,t,n){var r;return n.years&&null!==(r=this.diffWholeYears(e,t))?r/(Nt(n)/365):n.months&&null!==(r=this.diffWholeMonths(e,t))?r/function(e){return Nt(e)/30}(n):n.days&&null!==(r=rt(e,t))?r/Nt(n):(t.valueOf()-e.valueOf())/Ht(n)},e.prototype.startOf=function(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?ot(e):"hour"===t?function(e){return ct([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}(e):"minute"===t?function(e){return ct([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}(e):"second"===t?function(e){return ct([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}(e):null},e.prototype.startOfYear=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])},e.prototype.startOfMonth=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])},e.prototype.startOfWeek=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])},e.prototype.computeWeekNumber=function(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):function(e,t,n){var r=e.getUTCFullYear(),o=it(e,r,t,n);if(o<1)return it(e,r-1,t,n);var i=it(e,r+1,t,n);return i>=1?Math.min(o,i):o}(e,this.weekDow,this.weekDoy)},e.prototype.format=function(e,t,n){return void 0===n&&(n={}),t.format({marker:e,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(e)},this)},e.prototype.formatRange=function(e,t,n,r){return void 0===r&&(r={}),r.isEndExclusive&&(t=Je(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)},e.prototype.formatIso=function(e,t){void 0===t&&(t={});var n=null;return t.omitTimeZoneOffset||(n=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),Ut(e,n,t.omitTime)},e.prototype.timestampToMarker=function(e){return"local"===this.timeZone?ct(st(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?ct(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)},e.prototype.offsetForMarker=function(e){return"local"===this.timeZone?-lt(ut(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(ut(e)):null},e.prototype.toDate=function(e,t){return"local"===this.timeZone?lt(ut(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(ut(e))*60):new Date(e.valueOf()-(t||0))},e}(),Nr=[],Hr={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"};function Or(e){for(var t=e.length>0?e[0].code:"en",n=Nr.concat(e),r={en:Hr},o=0,i=n;o<i.length;o++){var a=i[o];r[a.code]=a}return{map:r,defaultCode:t}}function Ar(e,t){return"object"!=typeof e||Array.isArray(e)?function(e,t){var n=[].concat(e||[]),r=function(e,t){for(var n=0;n<e.length;n+=1)for(var r=e[n].toLocaleLowerCase().split("-"),o=r.length;o>0;o-=1){var i=r.slice(0,o).join("-");if(t[i])return t[i]}return null}(n,t)||Hr;return Ur(e,n,r)}(e,t):Ur(e.code,[e.code],e)}function Ur(e,t,n){var r=vt([Hr,n],["buttonText"]);delete r.code;var o=r.week;return delete r.week,{codeArg:e,codes:t,week:o,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function Lr(e){var t=Ar(e.locale||"en",Or([]).map);return new Ir(r(r({timeZone:an.timeZone,calendarSystem:"gregory"},e),{locale:t}))}var Wr,Vr={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Fr(e,t){return vn(function(e){var t;t=!0===e?[{}]:Array.isArray(e)?e.filter((function(e){return e.daysOfWeek})):"object"==typeof e&&e?[e]:[];return t=t.map((function(e){return r(r({},Vr),e)}))}(e),null,t)}function zr(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function Br(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function jr(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function Gr(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function qr(e,t){return{left:e.left-t.left,top:e.top-t.top}}function Yr(){return null==Wr&&(Wr=function(){if("undefined"==typeof document)return!0;var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);var t=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),t}()),Wr}var Zr={defs:{},instances:{}},Xr=function(){function e(){this.getKeysForEventDefs=zt(this._getKeysForEventDefs),this.splitDateSelection=zt(this._splitDateSpan),this.splitEventStore=zt(this._splitEventStore),this.splitIndividualUi=zt(this._splitIndividualUi),this.splitEventDrag=zt(this._splitInteraction),this.splitEventResize=zt(this._splitInteraction),this.eventUiBuilders={}}return e.prototype.splitProps=function(e){var t=this,n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),o=this.splitDateSelection(e.dateSelection),i=this.splitIndividualUi(e.eventUiBases,r),a=this.splitEventStore(e.eventStore,r),s=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),u={};for(var c in this.eventUiBuilders=mt(n,(function(e,n){return t.eventUiBuilders[n]||zt(Kr)})),n){var d=n[c],p=a[c]||Zr,f=this.eventUiBuilders[c];u[c]={businessHours:d.businessHours||e.businessHours,dateSelection:o[c]||null,eventStore:p,eventUiBases:f(e.eventUiBases[""],d.ui,i[c]),eventSelection:p.instances[e.eventSelection]?e.eventSelection:"",eventDrag:s[c]||null,eventResize:l[c]||null}}return u},e.prototype._splitDateSpan=function(e){var t={};if(e)for(var n=0,r=this.getKeysForDateSpan(e);n<r.length;n++){t[r[n]]=e}return t},e.prototype._getKeysForEventDefs=function(e){var t=this;return mt(e.defs,(function(e){return t.getKeysForEventDef(e)}))},e.prototype._splitEventStore=function(e,t){var n=e.defs,r=e.instances,o={};for(var i in n)for(var a=0,s=t[i];a<s.length;a++){o[p=s[a]]||(o[p]={defs:{},instances:{}}),o[p].defs[i]=n[i]}for(var l in r)for(var u=r[l],c=0,d=t[u.defId];c<d.length;c++){var p;o[p=d[c]]&&(o[p].instances[l]=u)}return o},e.prototype._splitIndividualUi=function(e,t){var n={};for(var r in e)if(r)for(var o=0,i=t[r];o<i.length;o++){var a=i[o];n[a]||(n[a]={}),n[a][r]=e[r]}return n},e.prototype._splitInteraction=function(e){var t={};if(e){var n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),o=this._splitEventStore(e.mutatedEvents,r),i=function(r){t[r]||(t[r]={affectedEvents:n[r]||Zr,mutatedEvents:o[r]||Zr,isEvent:e.isEvent})};for(var a in n)i(a);for(var a in o)i(a)}return t},e}();function Kr(e,t,n){var o=[];e&&o.push(e),t&&o.push(t);var i={"":Rn(o)};return n&&r(i,n),i}function $r(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:Boolean(r&&!jn(r.activeRange,e)),isOther:Boolean(r&&!jn(r.currentRange,e)),isToday:Boolean(t&&jn(t,e)),isPast:Boolean(n?e<n:!!t&&e<t.start),isFuture:Boolean(n?e>n:!!t&&e>=t.end)}}function Jr(e,t){var n=["fc-day","fc-day-"+Xe[e.dow]];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}function Qr(e,t){return void 0===t&&(t="day"),JSON.stringify({date:Lt(e),type:t})}var eo,to=null;function no(){return null===to&&(to=function(){var e=document.createElement("div");we(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);var t=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return Ee(e),t}()),to}function ro(){return eo||(eo=function(){var e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);var t=oo(e);return document.body.removeChild(e),t}()),eo}function oo(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function io(e,t){void 0===t&&(t=!1);var n=window.getComputedStyle(e),r=parseInt(n.borderLeftWidth,10)||0,o=parseInt(n.borderRightWidth,10)||0,i=parseInt(n.borderTopWidth,10)||0,a=parseInt(n.borderBottomWidth,10)||0,s=oo(e),l=s.y-r-o,u={borderLeft:r,borderRight:o,borderTop:i,borderBottom:a,scrollbarBottom:s.x-i-a,scrollbarLeft:0,scrollbarRight:0};return no()&&"rtl"===n.direction?u.scrollbarLeft=l:u.scrollbarRight=l,t&&(u.paddingLeft=parseInt(n.paddingLeft,10)||0,u.paddingRight=parseInt(n.paddingRight,10)||0,u.paddingTop=parseInt(n.paddingTop,10)||0,u.paddingBottom=parseInt(n.paddingBottom,10)||0),u}function ao(e,t,n){void 0===t&&(t=!1);var r=n?e.getBoundingClientRect():so(e),o=io(e,t),i={left:r.left+o.borderLeft+o.scrollbarLeft,right:r.right-o.borderRight-o.scrollbarRight,top:r.top+o.borderTop,bottom:r.bottom-o.borderBottom-o.scrollbarBottom};return t&&(i.left+=o.paddingLeft,i.right-=o.paddingRight,i.top+=o.paddingTop,i.bottom-=o.paddingBottom),i}function so(e){var t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,right:t.right+window.pageXOffset,bottom:t.bottom+window.pageYOffset}}function lo(e){for(var t=[];e instanceof HTMLElement;){var n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}function uo(e,t,n){var r=!1,o=function(){r||(r=!0,t.apply(this,arguments))},i=function(){r||(r=!0,n&&n.apply(this,arguments))},a=e(o,i);a&&"function"==typeof a.then&&a.then(o,i)}var co=function(){function e(){this.handlers={},this.thisContext=null}return e.prototype.setThisContext=function(e){this.thisContext=e},e.prototype.setOptions=function(e){this.options=e},e.prototype.on=function(e,t){!function(e,t,n){(e[t]||(e[t]=[])).push(n)}(this.handlers,e,t)},e.prototype.off=function(e,t){!function(e,t,n){n?e[t]&&(e[t]=e[t].filter((function(e){return e!==n}))):delete e[t]}(this.handlers,e,t)},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=this.handlers[e]||[],o=this.options&&this.options[e],i=[].concat(o||[],r),a=0,s=i;a<s.length;a++){var l=s[a];l.apply(this.thisContext,t)}},e.prototype.hasHandlers=function(e){return this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e]},e}();var po=function(){function e(e,t,n,r){this.els=t;var o=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(o.left),r&&this.buildElVerticals(o.top)}return e.prototype.buildElHorizontals=function(e){for(var t=[],n=[],r=0,o=this.els;r<o.length;r++){var i=o[r].getBoundingClientRect();t.push(i.left-e),n.push(i.right-e)}this.lefts=t,this.rights=n},e.prototype.buildElVerticals=function(e){for(var t=[],n=[],r=0,o=this.els;r<o.length;r++){var i=o[r].getBoundingClientRect();t.push(i.top-e),n.push(i.bottom-e)}this.tops=t,this.bottoms=n},e.prototype.leftToIndex=function(e){var t,n=this.lefts,r=this.rights,o=n.length;for(t=0;t<o;t+=1)if(e>=n[t]&&e<r[t])return t},e.prototype.topToIndex=function(e){var t,n=this.tops,r=this.bottoms,o=n.length;for(t=0;t<o;t+=1)if(e>=n[t]&&e<r[t])return t},e.prototype.getWidth=function(e){return this.rights[e]-this.lefts[e]},e.prototype.getHeight=function(e){return this.bottoms[e]-this.tops[e]},e}(),fo=function(){function e(){}return e.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},e.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},e.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},e.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},e.prototype.canScrollUp=function(){return this.getScrollTop()>0},e.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},e.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},e.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},e}(),ho=function(e){function t(t){var n=e.call(this)||this;return n.el=t,n}return n(t,e),t.prototype.getScrollTop=function(){return this.el.scrollTop},t.prototype.getScrollLeft=function(){return this.el.scrollLeft},t.prototype.setScrollTop=function(e){this.el.scrollTop=e},t.prototype.setScrollLeft=function(e){this.el.scrollLeft=e},t.prototype.getScrollWidth=function(){return this.el.scrollWidth},t.prototype.getScrollHeight=function(){return this.el.scrollHeight},t.prototype.getClientHeight=function(){return this.el.clientHeight},t.prototype.getClientWidth=function(){return this.el.clientWidth},t}(fo),vo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getScrollTop=function(){return window.pageYOffset},t.prototype.getScrollLeft=function(){return window.pageXOffset},t.prototype.setScrollTop=function(e){window.scroll(window.pageXOffset,e)},t.prototype.setScrollLeft=function(e){window.scroll(e,window.pageYOffset)},t.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},t.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},t.prototype.getClientHeight=function(){return document.documentElement.clientHeight},t.prototype.getClientWidth=function(){return document.documentElement.clientWidth},t}(fo),go=function(){function e(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}return e.prototype.setIconOverride=function(e){var t,n;if("object"==typeof e&&e){for(n in t=r({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})},e.prototype.applyIconOverridePrefix=function(e){var t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e},e.prototype.getClass=function(e){return this.classes[e]||""},e.prototype.getIconClass=function(e,t){var n;return(n=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e])?this.baseIconClass+" "+n:""},e.prototype.getCustomButtonIconClass=function(e){var t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(t):""},e}();if(go.prototype.classes={},go.prototype.iconClasses={},go.prototype.baseIconClass="",go.prototype.iconOverridePrefix="","undefined"==typeof FullCalendarVDom)throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var mo=FullCalendarVDom.Component,yo=FullCalendarVDom.createElement,Eo=FullCalendarVDom.render,So=FullCalendarVDom.createRef,Do=FullCalendarVDom.Fragment,bo=FullCalendarVDom.createContext,Co=FullCalendarVDom.createPortal,wo=FullCalendarVDom.flushToDom,Ro=FullCalendarVDom.unmountComponentAtNode,_o=function(){function e(e,t,n,o){var i=this;this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=o,this.handleScrollRequest=function(e){i.queuedRequest=r({},i.queuedRequest||{},e),i.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return e.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},e.prototype.update=function(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},e.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},e.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},e}(),To=bo({});function ko(e,t,n,r,o,i,a,s,l,u,c,d,p){return{dateEnv:o,options:n,pluginHooks:a,emitter:u,dispatch:s,getCurrentData:l,calendarApi:c,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:i,isRtl:"rtl"===n.direction,addResizeHandler:function(e){u.on("_resize",e)},removeResizeHandler:function(e){u.off("_resize",e)},createScrollResponder:function(e){return new _o(e,u,xt(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:d,unregisterInteractiveComponent:p}}var xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.debug&&console.log(Dt(e,this.props),Dt(t,this.state)),!bt(this.props,e,this.propEquality)||!bt(this.state,t,this.stateEquality)},t.addPropsEquality=Po,t.addStateEquality=Io,t.contextType=To,t}(mo);xo.prototype.propEquality={},xo.prototype.stateEquality={};var Mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.contextType=To,t}(xo);function Po(e){var t=Object.create(this.prototype.propEquality);r(t,e),this.prototype.propEquality=t}function Io(e){var t=Object.create(this.prototype.stateEquality);r(t,e),this.prototype.stateEquality=t}function No(e,t){"function"==typeof e?e(t):e&&(e.current=t)}var Ho=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uid=He(),t}return n(t,e),t.prototype.prepareHits=function(){},t.prototype.queryHit=function(e,t,n,r){return null},t.prototype.isValidSegDownEl=function(e){return!this.props.eventDrag&&!this.props.eventResize&&!Se(e,".fc-event-mirror")},t.prototype.isValidDateDownEl=function(e){return!(Se(e,".fc-event:not(.fc-bg-event)")||Se(e,".fc-more-link")||Se(e,"a[data-navlink]")||Se(e,".fc-popover"))},t}(Mo);function Oo(e){return{id:He(),deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,contentTypeHandlers:e.contentTypeHandlers||{},listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function Ao(){var e,t=[],n=[];return function(o,i){return e&&Ft(o,t)&&Ft(i,n)||(e=function(e,t){var n={},o={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(e){for(var t=0,a=e;t<a.length;t++){var s=a[t];n[s.id]||(n[s.id]=!0,i(s.deps),u=s,o={reducers:(l=o).reducers.concat(u.reducers),isLoadingFuncs:l.isLoadingFuncs.concat(u.isLoadingFuncs),contextInit:l.contextInit.concat(u.contextInit),eventRefiners:r(r({},l.eventRefiners),u.eventRefiners),eventDefMemberAdders:l.eventDefMemberAdders.concat(u.eventDefMemberAdders),eventSourceRefiners:r(r({},l.eventSourceRefiners),u.eventSourceRefiners),isDraggableTransformers:l.isDraggableTransformers.concat(u.isDraggableTransformers),eventDragMutationMassagers:l.eventDragMutationMassagers.concat(u.eventDragMutationMassagers),eventDefMutationAppliers:l.eventDefMutationAppliers.concat(u.eventDefMutationAppliers),dateSelectionTransformers:l.dateSelectionTransformers.concat(u.dateSelectionTransformers),datePointTransforms:l.datePointTransforms.concat(u.datePointTransforms),dateSpanTransforms:l.dateSpanTransforms.concat(u.dateSpanTransforms),views:r(r({},l.views),u.views),viewPropsTransformers:l.viewPropsTransformers.concat(u.viewPropsTransformers),isPropsValid:u.isPropsValid||l.isPropsValid,externalDefTransforms:l.externalDefTransforms.concat(u.externalDefTransforms),viewContainerAppends:l.viewContainerAppends.concat(u.viewContainerAppends),eventDropTransformers:l.eventDropTransformers.concat(u.eventDropTransformers),calendarInteractions:l.calendarInteractions.concat(u.calendarInteractions),componentInteractions:l.componentInteractions.concat(u.componentInteractions),themeClasses:r(r({},l.themeClasses),u.themeClasses),eventSourceDefs:l.eventSourceDefs.concat(u.eventSourceDefs),cmdFormatter:u.cmdFormatter||l.cmdFormatter,recurringTypes:l.recurringTypes.concat(u.recurringTypes),namedTimeZonedImpl:u.namedTimeZonedImpl||l.namedTimeZonedImpl,initialView:l.initialView||u.initialView,elementDraggingImpl:l.elementDraggingImpl||u.elementDraggingImpl,optionChangeHandlers:r(r({},l.optionChangeHandlers),u.optionChangeHandlers),scrollGridImpl:u.scrollGridImpl||l.scrollGridImpl,contentTypeHandlers:r(r({},l.contentTypeHandlers),u.contentTypeHandlers),listenerRefiners:r(r({},l.listenerRefiners),u.listenerRefiners),optionRefiners:r(r({},l.optionRefiners),u.optionRefiners),propSetHandlers:r(r({},l.propSetHandlers),u.propSetHandlers)})}var l,u}return e&&i(e),i(t),o}(o,i)),t=o,n=i,e}}var Uo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(go);function Lo(e,t,n,o){if(t[e])return t[e];var i=function(e,t,n,o){var i=n[e],a=o[e],s=function(e){return i&&null!==i[e]?i[e]:a&&null!==a[e]?a[e]:null},l=s("component"),u=s("superType"),c=null;if(u){if(u===e)throw new Error("Can't have a custom view type that references itself");c=Lo(u,t,n,o)}!l&&c&&(l=c.component);if(!l)return null;return{type:e,component:l,defaults:r(r({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:r(r({},c?c.overrides:{}),a?a.rawOptions:{})}}(e,t,n,o);return i&&(t[e]=i),i}Uo.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},Uo.prototype.baseIconClass="fc-icon",Uo.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Uo.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},Uo.prototype.iconOverrideOption="buttonIcons",Uo.prototype.iconOverrideCustomButtonOption="icon",Uo.prototype.iconOverridePrefix="fc-icon-";var Wo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=So(),t.handleRootEl=function(e){No(t.rootElRef,e),t.props.elRef&&No(t.props.elRef,e)},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.hookProps;return yo(Bo,{hookProps:n,didMount:t.didMount,willUnmount:t.willUnmount,elRef:this.handleRootEl},(function(r){return yo(Fo,{hookProps:n,content:t.content,defaultContent:t.defaultContent,backupElRef:e.rootElRef},(function(e,o){return t.children(r,Go(t.classNames,n),e,o)}))}))},t}(Mo),Vo=bo(0);function Fo(e){return yo(Vo.Consumer,null,(function(t){return yo(zo,r({renderId:t},e))}))}var zo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.innerElRef=So(),t}return n(t,e),t.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},t.prototype.componentDidMount=function(){this.updateCustomContent()},t.prototype.componentDidUpdate=function(){this.updateCustomContent()},t.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},t.prototype.renderInnerContent=function(){var e=this.customContentInfo,t=this.getInnerContent(),n=this.getContentMeta(t);return e&&e.contentKey===n.contentKey?e&&(e.contentVal=t[n.contentKey]):(e&&(e.destroy&&e.destroy(),e=this.customContentInfo=null),n.contentKey&&(e=this.customContentInfo=r({contentKey:n.contentKey,contentVal:t[n.contentKey]},n.buildLifecycleFuncs()))),e?[]:t},t.prototype.getInnerContent=function(){var e=this.props,t=qo(e.content,e.hookProps);return void 0===t&&(t=qo(e.defaultContent,e.hookProps)),null==t?null:t},t.prototype.getContentMeta=function(e){var t=this.context.pluginHooks.contentTypeHandlers,n="",r=null;if(e)for(var o in t)if(void 0!==e[o]){n=o,r=t[o];break}return{contentKey:n,buildLifecycleFuncs:r}},t.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},t}(Mo),Bo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRootEl=function(e){t.rootEl=e,t.props.elRef&&No(t.props.elRef,e)},t}return n(t,e),t.prototype.render=function(){return this.props.children(this.handleRootEl)},t.prototype.componentDidMount=function(){var e=this.props.didMount;e&&e(r(r({},this.props.hookProps),{el:this.rootEl}))},t.prototype.componentWillUnmount=function(){var e=this.props.willUnmount;e&&e(r(r({},this.props.hookProps),{el:this.rootEl}))},t}(Mo);function jo(){var e,t,n=[];return function(r,o){return t&&St(t,o)&&r===e||(e=r,t=o,n=Go(r,o)),n}}function Go(e,t){return"function"==typeof e&&(e=e(t)),Dn(e)}function qo(e,t){return"function"==typeof e?e(t,yo):e}var Yo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.normalizeClassNames=jo(),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,r={view:t.viewApi},o=this.normalizeClassNames(n.viewClassNames,r);return yo(Bo,{hookProps:r,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount,elRef:e.elRef},(function(t){return e.children(t,["fc-"+e.viewSpec.type+"-view","fc-view"].concat(o))}))},t}(Mo);function Zo(e){return mt(e,Xo)}function Xo(e){var t,n="function"==typeof e?{component:e}:e,o=n.component;return n.content&&(t=n,o=function(e){return yo(To.Consumer,null,(function(n){return yo(Yo,{viewSpec:n.viewSpec},(function(o,i){var a=r(r({},e),{nextDayThreshold:n.options.nextDayThreshold});return yo(Wo,{hookProps:a,classNames:t.classNames,content:t.content,didMount:t.didMount,willUnmount:t.willUnmount,elRef:o},(function(e,t,n,r){return yo("div",{className:i.concat(t).join(" "),ref:e},r)}))}))}))}),{superType:n.type,component:o,rawOptions:n}}function Ko(e,t,n,o){var i=Zo(e),a=Zo(t.views);return mt(function(e,t){var n,r={};for(n in e)Lo(n,r,e,t);for(n in t)Lo(n,r,e,t);return r}(i,a),(function(e){return function(e,t,n,o,i){var a=e.overrides.duration||e.defaults.duration||o.duration||n.duration,s=null,l="",u="",c={};if(a&&(s=function(e){var t=JSON.stringify(e),n=$o[t];void 0===n&&(n=xt(e),$o[t]=n);return n}(a))){var d=At(s);l=d.unit,1===d.value&&(u=l,c=t[l]?t[l].rawOptions:{})}var p=function(t){var n=t.buttonText||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[u]?n[u]:null};return{type:e.type,component:e.component,duration:s,durationUnit:l,singleUnit:u,optionDefaults:e.defaults,optionOverrides:r(r({},c),e.overrides),buttonTextOverride:p(o)||p(n)||e.overrides.buttonText,buttonTextDefault:p(i)||e.defaults.buttonText||p(an)||e.type}}(e,a,t,n,o)}))}var $o={};var Jo=function(){function e(e){this.props=e,this.nowDate=br(e.nowInput,e.dateEnv),this.initHiddenDays()}return e.prototype.buildPrev=function(e,t,n){var r=this.props.dateEnv,o=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,n)},e.prototype.buildNext=function(e,t,n){var r=this.props.dateEnv,o=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,n)},e.prototype.build=function(e,t,n){void 0===n&&(n=!0);var r,o,i,a,s,l,u,c,d=this.props;return r=this.buildValidRange(),r=this.trimHiddenDays(r),n&&(u=e,e=null!=(c=r).start&&u<c.start?c.start:null!=c.end&&u>=c.end?new Date(c.end.valueOf()-1):u),o=this.buildCurrentRangeInfo(e,t),i=/^(year|month|week|day)$/.test(o.unit),a=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,i),s=a=this.trimHiddenDays(a),d.showNonCurrentDates||(s=Vn(s,o.range)),s=Vn(s=this.adjustActiveRange(s),r),l=zn(o.range,r),{validRange:r,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:i,activeRange:s,renderRange:a,slotMinTime:d.slotMinTime,slotMaxTime:d.slotMaxTime,isValid:l,dateIncrement:this.buildDateIncrement(o.duration)}},e.prototype.buildValidRange=function(){var e=this.props.validRangeInput,t="function"==typeof e?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}},e.prototype.buildCurrentRangeInfo=function(e,t){var n,r=this.props,o=null,i=null,a=null;return r.duration?(o=r.duration,i=r.durationUnit,a=this.buildRangeFromDuration(e,t,o,i)):(n=this.props.dayCount)?(i="day",a=this.buildRangeFromDayCount(e,t,n)):(a=this.buildCustomVisibleRange(e))?i=r.dateEnv.greatestWholeUnit(a.start,a.end).unit:(i=At(o=this.getFallbackDuration()).unit,a=this.buildRangeFromDuration(e,t,o,i)),{duration:o,unit:i,range:a}},e.prototype.getFallbackDuration=function(){return xt({day:1})},e.prototype.adjustActiveRange=function(e){var t=this.props,n=t.dateEnv,r=t.usesMinMaxTime,o=t.slotMinTime,i=t.slotMaxTime,a=e.start,s=e.end;return r&&(Nt(o)<0&&(a=ot(a),a=n.add(a,o)),Nt(i)>1&&(s=$e(s=ot(s),-1),s=n.add(s,i))),{start:a,end:s}},e.prototype.buildRangeFromDuration=function(e,t,n,r){var o,i,a,s=this.props,l=s.dateEnv,u=s.dateAlignment;if(!u){var c=this.props.dateIncrement;u=c&&Ht(c)<Ht(n)?At(c).unit:r}function d(){o=l.startOf(e,u),i=l.add(o,n),a={start:o,end:i}}return Nt(n)<=1&&this.isHiddenDay(o)&&(o=ot(o=this.skipHiddenDays(o,t))),d(),this.trimHiddenDays(a)||(e=this.skipHiddenDays(e,t),d()),a},e.prototype.buildRangeFromDayCount=function(e,t,n){var r,o=this.props,i=o.dateEnv,a=o.dateAlignment,s=0,l=e;a&&(l=i.startOf(l,a)),l=ot(l),r=l=this.skipHiddenDays(l,t);do{r=$e(r,1),this.isHiddenDay(r)||(s+=1)}while(s<n);return{start:l,end:r}},e.prototype.buildCustomVisibleRange=function(e){var t=this.props,n=t.visibleRangeInput,r="function"==typeof n?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,o=this.refineRange(r);return!o||null!=o.start&&null!=o.end?o:null},e.prototype.buildRenderRange=function(e,t,n){return e},e.prototype.buildDateIncrement=function(e){var t,n=this.props.dateIncrement;return n||((t=this.props.dateAlignment)?xt(1,t):e||xt({days:1}))},e.prototype.refineRange=function(e){if(e){var t=(n=e,r=this.props.dateEnv,o=null,i=null,n.start&&(o=r.createMarker(n.start)),n.end&&(i=r.createMarker(n.end)),o||i?o&&i&&i<o?null:{start:o,end:i}:null);return t&&(t=On(t)),t}var n,r,o,i;return null},e.prototype.initHiddenDays=function(){var e,t=this.props.hiddenDays||[],n=[],r=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(n[e]=-1!==t.indexOf(e))||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n},e.prototype.trimHiddenDays=function(e){var t=e.start,n=e.end;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n?{start:t,end:n}:null},e.prototype.isHiddenDay=function(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]},e.prototype.skipHiddenDays=function(e,t,n){for(void 0===t&&(t=1),void 0===n&&(n=!1);this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=$e(e,t);return e},e}();function Qo(e,t,n){var r=t?t.activeRange:null;return ni({},function(e,t){var n=Dr(t),r=[].concat(e.eventSources||[]),o=[];e.initialEvents&&r.unshift(e.initialEvents);e.events&&r.unshift(e.events);for(var i=0,a=r;i<a.length;i++){var s=Sr(a[i],t,n);s&&o.push(s)}return o}(e,n),r,n)}function ei(e,t,n,o){var i,a,s=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return ni(e,t.sources,s,o);case"REMOVE_EVENT_SOURCE":return i=e,a=t.sourceId,gt(i,(function(e){return e.sourceId!==a}));case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?ri(e,s,o):e;case"FETCH_EVENT_SOURCES":return oi(e,t.sourceIds?yt(t.sourceIds):ai(e,o),s,t.isRefetch||!1,o);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function(e,t,n,o){var i,a=e[t];if(a&&n===a.latestFetchId)return r(r({},e),((i={})[t]=r(r({},a),{isFetching:!1,fetchRange:o}),i));return e}(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}function ti(e){for(var t in e)if(e[t].isFetching)return!0;return!1}function ni(e,t,n,o){for(var i={},a=0,s=t;a<s.length;a++){var l=s[a];i[l.sourceId]=l}return n&&(i=ri(i,n,o)),r(r({},e),i)}function ri(e,t,n){return oi(e,gt(e,(function(e){return function(e,t,n){if(!si(e,n))return!e.latestFetchId;return!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end}(e,t,n)})),t,!1,n)}function oi(e,t,n,r,o){var i={};for(var a in e){var s=e[a];t[a]?i[a]=ii(s,n,r,o):i[a]=s}return i}function ii(e,t,n,o){var i=o.options,a=o.calendarApi,s=o.pluginHooks.eventSourceDefs[e.sourceDefId],l=He();return s.fetch({eventSource:e,range:t,isRefetch:n,context:o},(function(n){var r=n.rawEvents;i.eventSourceSuccess&&(r=i.eventSourceSuccess.call(a,r,n.xhr)||r),e.success&&(r=e.success.call(a,r,n.xhr)||r),o.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:l,fetchRange:t,rawEvents:r})}),(function(n){console.warn(n.message,n),i.eventSourceFailure&&i.eventSourceFailure.call(a,n),e.failure&&e.failure(n),o.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:l,fetchRange:t,error:n})})),r(r({},e),{isFetching:!0,latestFetchId:l})}function ai(e,t){return gt(e,(function(e){return si(e,t)}))}function si(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function li(e,t,n,r,o){switch(t.type){case"RECEIVE_EVENTS":return function(e,t,n,r,o,i){if(t&&n===t.latestFetchId){var a=vn(function(e,t,n){var r=n.options.eventDataTransform,o=t?t.eventDataTransform:null;o&&(e=ui(e,o));r&&(e=ui(e,r));return e}(o,t,i),t,i);return r&&(a=Rt(a,r,i)),En(ci(e,t.sourceId),a)}return e}(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,o);case"ADD_EVENTS":return function(e,t,n,r){n&&(t=Rt(t,n,r));return En(e,t)}(e,t.eventStore,r?r.activeRange:null,o);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return En(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Rt(e,r.activeRange,o):e;case"REMOVE_EVENTS":return function(e,t){var n=e.defs,r=e.instances,o={},i={};for(var a in n)t.defs[a]||(o[a]=n[a]);for(var s in r)!t.instances[s]&&o[r[s].defId]&&(i[s]=r[s]);return{defs:o,instances:i}}(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return ci(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Sn(e,(function(e){return!e.sourceId}));case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return e}}function ui(e,t){var n;if(t){n=[];for(var r=0,o=e;r<o.length;r++){var i=o[r],a=t(i);a?n.push(a):null==a&&n.push(i)}}else n=e;return n}function ci(e,t){return Sn(e,(function(e){return e.sourceId!==t}))}function di(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function pi(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function fi(e,t){var n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function hi(e,t){var n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function vi(e,t,n,r,o){var i=[];return{headerToolbar:e.headerToolbar?gi(e.headerToolbar,e,t,n,r,o,i):null,footerToolbar:e.footerToolbar?gi(e.footerToolbar,e,t,n,r,o,i):null,viewsWithButtons:i}}function gi(e,t,n,r,o,i,a){return mt(e,(function(e){return function(e,t,n,r,o,i,a){var s="rtl"===t.direction,l=t.customButtons||{},u=n.buttonText||{},c=t.buttonText||{};return(e?e.split(" "):[]).map((function(e){return e.split(",").map((function(e){return"title"===e?{buttonName:e}:((t=l[e])?(d=function(e){t.click&&t.click.call(e.target,e,e.target)},(p=r.getCustomButtonIconClass(t))||(p=r.getIconClass(e,s))||(f=t.text)):(n=o[e])?(a.push(e),d=function(){i.changeView(e)},(f=n.buttonTextOverride)||(p=r.getIconClass(e,s))||(f=n.buttonTextDefault)):i[e]&&(d=function(){i[e]()},(f=u[e])||(p=r.getIconClass(e,s))||(f=c[e])),{buttonName:e,buttonClick:d,buttonIcon:p,buttonText:f});var t,n,d,p,f}))}))}(e,t,n,r,o,i,a)}))}function mi(e,t,n,r,o){var i=null;"GET"===(e=e.toUpperCase())?t=function(e,t){return e+(-1===e.indexOf("?")?"?":"&")+yi(t)}(t,n):i=yi(n);var a=new XMLHttpRequest;a.open(e,t,!0),"GET"!==e&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onload=function(){if(a.status>=200&&a.status<400){var e=!1,t=void 0;try{t=JSON.parse(a.responseText),e=!0}catch(e){}e?r(t,a):o("Failure parsing JSON",a)}else o("Request failed",a)},a.onerror=function(){o("Request failed",a)},a.send(i)}function yi(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function Ei(e,t){for(var n=Et(t.getCurrentData().eventSources),r=[],o=0,i=e;o<i.length;o++){for(var a=i[o],s=!1,l=0;l<n.length;l+=1)if(n[l]._raw===a){n.splice(l,1),s=!0;break}s||r.push(a)}for(var u=0,c=n;u<c.length;u++){var d=c[u];t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:d.sourceId})}for(var p=0,f=r;p<f.length;p++){var h=f[p];t.calendarApi.addEventSource(h)}}var Si=[Oo({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(e){return Array.isArray(e.events)?e.events:null},fetch:function(e,t){t({rawEvents:e.eventSource.meta})}}]}),Oo({eventSourceDefs:[{parseMeta:function(e){return"function"==typeof e.events?e.events:null},fetch:function(e,t,n){var r=e.context.dateEnv;uo(e.eventSource.meta.bind(null,ur(e.range,r)),(function(e){t({rawEvents:e})}),n)}}]}),Oo({eventSourceRefiners:{method:String,extraParams:hn,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(e){return!e.url||"json"!==e.format&&e.format?null:{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}},fetch:function(e,t,n){var o=e.eventSource.meta,i=function(e,t,n){var o,i,a,s,l=n.dateEnv,u=n.options,c={};null==(o=e.startParam)&&(o=u.startParam);null==(i=e.endParam)&&(i=u.endParam);null==(a=e.timeZoneParam)&&(a=u.timeZoneParam);s="function"==typeof e.extraParams?e.extraParams():e.extraParams||{};r(c,s),c[o]=l.formatIso(t.start),c[i]=l.formatIso(t.end),"local"!==l.timeZone&&(c[a]=l.timeZone);return c}(o,e.range,e.context);mi(o.method,o.url,i,(function(e,n){t({rawEvents:e,xhr:n})}),(function(e,t){n({message:e,xhr:t})}))}}]}),Oo({recurringTypes:[{parse:function(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){var n={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null},r=void 0;return e.duration&&(r=e.duration),!r&&e.startTime&&e.endTime&&(o=e.endTime,i=e.startTime,r={years:o.years-i.years,months:o.months-i.months,days:o.days-i.days,milliseconds:o.milliseconds-i.milliseconds}),{allDayGuess:Boolean(!e.startTime&&!e.endTime),duration:r,typeData:n}}var o,i;return null},expand:function(e,t,n){var r=Vn(t,{start:e.startRecur,end:e.endRecur});return r?function(e,t,n,r){var o=e?yt(e):null,i=ot(n.start),a=n.end,s=[];for(;i<a;){var l=void 0;o&&!o[i.getUTCDay()]||(l=t?r.add(i,t):i,s.push(l)),i=$e(i,1)}return s}(e.daysOfWeek,e.startTime,r,n):[]}}],eventRefiners:{daysOfWeek:hn,startTime:xt,endTime:xt,duration:xt,startRecur:hn,endRecur:hn}}),Oo({optionChangeHandlers:{events:function(e,t){Ei([e],t)},eventSources:Ei}}),Oo({isLoadingFuncs:[function(e){return ti(e.eventSources)}],contentTypeHandlers:{html:function(){return{render:Di}},domNodes:function(){return{render:bi}}},propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",r(r({},ur(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){var n=t.emitter;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",_r(e,t))}}})];function Di(e,t){e.innerHTML=t}function bi(e,t){var n=Array.prototype.slice.call(e.childNodes),r=Array.prototype.slice.call(t);if(!Ft(n,r)){for(var o=0,i=r;o<i.length;o++){var a=i[o];e.appendChild(a)}n.forEach(Ee)}}var Ci=function(){function e(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return e.prototype.request=function(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))},e.prototype.pause=function(e){void 0===e&&(e="");var t=this.pauseDepths;t[e]=(t[e]||0)+1,this.clearTimeout()},e.prototype.resume=function(e,t){void 0===e&&(e="");var n=this.pauseDepths;if(e in n){if(t)delete n[e];else n[e]-=1,n[e]<=0&&delete n[e];this.tryDrain()}},e.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},e.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},e.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},e.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},e.prototype.drained=function(){this.drainedOption&&this.drainedOption()},e}(),wi=function(){function e(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Ci(this.drain.bind(this))}return e.prototype.request=function(e,t){this.queue.push(e),this.delayedRunner.request(t)},e.prototype.pause=function(e){this.delayedRunner.pause(e)},e.prototype.resume=function(e,t){this.delayedRunner.resume(e,t)},e.prototype.drain=function(){for(var e=this.queue;e.length;){for(var t=[],n=void 0;n=e.shift();)this.runTask(n),t.push(n);this.drained(t)}},e.prototype.runTask=function(e){this.runTaskOption&&this.runTaskOption(e)},e.prototype.drained=function(e){this.drainedOption&&this.drainedOption(e)},e}();function Ri(e,t,n){var r;return r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,n.formatRange(r.start,r.end,rn(t.titleFormat||function(e){var t=e.currentRangeUnit;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};var n=rt(e.currentRange.start,e.currentRange.end);if(null!==n&&n>1)return{year:"numeric",month:"short",day:"numeric"};return{year:"numeric",month:"long",day:"numeric"}}(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}var _i=function(){function e(e){var t=this;this.computeOptionsData=zt(this._computeOptionsData),this.computeCurrentViewData=zt(this._computeCurrentViewData),this.organizeRawLocales=zt(Or),this.buildLocale=zt(Ar),this.buildPluginHooks=Ao(),this.buildDateEnv=zt(Ti),this.buildTheme=zt(ki),this.parseToolbars=zt(vi),this.buildViewSpecs=zt(Ko),this.buildDateProfileGenerator=Bt(xi),this.buildViewApi=zt(Mi),this.buildViewUiProps=Bt(Ni),this.buildEventUiBySource=zt(Pi,St),this.buildEventUiBases=zt(Ii),this.parseContextBusinessHours=Bt(Oi),this.buildTitle=zt(Ri),this.emitter=new co,this.actionRunner=new wi(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return t.data},this.dispatch=function(e){t.actionRunner.request(e)},this.props=e,this.actionRunner.pause();var n={},o=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=o.calendarOptions.initialView||o.pluginHooks.initialView,a=this.computeCurrentViewData(i,o,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);var s,l,u,c=(s=o.calendarOptions,l=o.dateEnv,null!=(u=s.initialDate)?l.createMarker(u):br(s.now,l)),d=a.dateProfileGenerator.build(c);jn(d.activeRange,c)||(c=d.currentRange.start);for(var p={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},f=0,h=o.pluginHooks.contextInit;f<h.length;f++){(0,h[f])(p)}for(var v=Qo(o.calendarOptions,d,p),g={dynamicOptionOverrides:n,currentViewType:i,currentDate:c,dateProfile:d,businessHours:this.parseContextBusinessHours(p),eventSources:v,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(p).selectionConfig},m=r(r({},p),g),y=0,E=o.pluginHooks.reducers;y<E.length;y++){var S=E[y];r(g,S(null,null,m))}Hi(g,p)&&this.emitter.trigger("loading",!0),this.state=g,this.updateData(),this.actionRunner.resume()}return e.prototype.resetOptions=function(e,t){var n=this.props;n.optionOverrides=t?r(r({},n.optionOverrides),e):e,this.actionRunner.request({type:"NOTHING"})},e.prototype._handleAction=function(e){var t=this,n=t.props,o=t.state,i=t.emitter,a=function(e,t){var n;switch(t.type){case"SET_OPTION":return r(r({},e),((n={})[t.optionName]=t.rawOptionValue,n));default:return e}}(o.dynamicOptionOverrides,e),s=this.computeOptionsData(n.optionOverrides,a,n.calendarApi),l=function(e,t){switch(t.type){case"CHANGE_VIEW_TYPE":e=t.viewType}return e}(o.currentViewType,e),u=this.computeCurrentViewData(l,s,n.optionOverrides,a);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(u.options);var c={dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},d=o.currentDate,p=o.dateProfile;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(p=u.dateProfileGenerator.build(d)),p=function(e,t,n,r){var o;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||n);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if((o=r.buildPrev(e,n)).isValid)return o;break;case"NEXT":if((o=r.buildNext(e,n)).isValid)return o}return e}(p,e,d=function(e,t){switch(t.type){case"CHANGE_DATE":return t.dateMarker;default:return e}}(d,e),u.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&jn(p.currentRange,d)||(d=p.currentRange.start);for(var f=ei(o.eventSources,e,p,c),h=li(o.eventStore,e,f,p,c),v=ti(f)&&!u.options.progressiveEventRendering&&o.renderableEventStore||h,g=this.buildViewUiProps(c),m=g.eventUiSingleBase,y=g.selectionConfig,E=this.buildEventUiBySource(f),S={dynamicOptionOverrides:a,currentViewType:l,currentDate:d,dateProfile:p,eventSources:f,eventStore:h,renderableEventStore:v,selectionConfig:y,eventUiBases:this.buildEventUiBases(v.defs,m,E),businessHours:this.parseContextBusinessHours(c),dateSelection:di(o.dateSelection,e),eventSelection:pi(o.eventSelection,e),eventDrag:fi(o.eventDrag,e),eventResize:hi(o.eventResize,e)},D=r(r({},c),S),b=0,C=s.pluginHooks.reducers;b<C.length;b++){var w=C[b];r(S,w(o,e,D))}var R=Hi(o,c),_=Hi(S,c);!R&&_?i.trigger("loading",!0):R&&!_&&i.trigger("loading",!1),this.state=S,n.onAction&&n.onAction(e)},e.prototype.updateData=function(){var e,t,n,o,i,a,s,l,u,c=this.props,d=this.state,p=this.data,f=this.computeOptionsData(c.optionOverrides,d.dynamicOptionOverrides,c.calendarApi),h=this.computeCurrentViewData(d.currentViewType,f,c.optionOverrides,d.dynamicOptionOverrides),v=this.data=r(r(r({viewTitle:this.buildTitle(d.dateProfile,h.options,f.dateEnv),calendarApi:c.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},f),h),d),g=f.pluginHooks.optionChangeHandlers,m=p&&p.calendarOptions,y=f.calendarOptions;if(m&&m!==y)for(var E in m.timeZone!==y.timeZone&&(d.eventSources=v.eventSources=(a=v.eventSources,s=d.dateProfile,l=v,u=s?s.activeRange:null,oi(a,ai(a,l),u,!0,l)),d.eventStore=v.eventStore=(e=v.eventStore,t=p.dateEnv,n=v.dateEnv,o=e.defs,i=mt(e.instances,(function(e){var i=o[e.defId];return i.allDay||i.recurringDef?e:r(r({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo})})),{defs:o,instances:i})),g)m[E]!==y[E]&&g[E](y[E],v);c.onData&&c.onData(v)},e.prototype._computeOptionsData=function(e,t,n){var r=this.processRawCalendarOptions(e,t),o=r.refinedOptions,i=r.pluginHooks,a=r.localeDefaults,s=r.availableLocaleData;Ai(r.extra);var l=this.buildDateEnv(o.timeZone,o.locale,o.weekNumberCalculation,o.firstDay,o.weekText,i,s,o.defaultRangeSeparator),u=this.buildViewSpecs(i.views,e,t,a),c=this.buildTheme(o,i);return{calendarOptions:o,pluginHooks:i,dateEnv:l,viewSpecs:u,theme:c,toolbarConfig:this.parseToolbars(o,e,c,u,n),localeDefaults:a,availableRawLocales:s.map}},e.prototype.processRawCalendarOptions=function(e,t){var n=pn([an,e,t]),o=n.locales,i=n.locale,a=this.organizeRawLocales(o),s=a.map,l=this.buildLocale(i||a.defaultCode,s).options,u=this.buildPluginHooks(e.plugins||[],Si),c=this.currentCalendarOptionsRefiners=r(r(r(r(r({},on),sn),ln),u.listenerRefiners),u.optionRefiners),d={},p=pn([an,l,e,t]),f={},h=this.currentCalendarOptionsInput,v=this.currentCalendarOptionsRefined,g=!1;for(var m in p)"plugins"!==m&&(p[m]===h[m]||un[m]&&m in h&&un[m](h[m],p[m])?f[m]=v[m]:c[m]?(f[m]=c[m](p[m]),g=!0):d[m]=h[m]);return g&&(this.currentCalendarOptionsInput=p,this.currentCalendarOptionsRefined=f),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:u,availableLocaleData:a,localeDefaults:l,extra:d}},e.prototype._computeCurrentViewData=function(e,t,n,r){var o=t.viewSpecs[e];if(!o)throw new Error('viewType "'+e+"\" is not available. Please make sure you've loaded all neccessary plugins");var i=this.processRawViewOptions(o,t.pluginHooks,t.localeDefaults,n,r),a=i.refinedOptions;return Ai(i.extra),{viewSpec:o,options:a,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,nowInput:a.now,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,monthMode:a.monthMode,fixedWeekCount:a.fixedWeekCount}),viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}},e.prototype.processRawViewOptions=function(e,t,n,o,i){var a=pn([an,e.optionDefaults,n,o,e.optionOverrides,i]),s=r(r(r(r(r(r({},on),sn),ln),dn),t.listenerRefiners),t.optionRefiners),l={},u=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,d=!1,p={};for(var f in a)a[f]===u[f]?l[f]=c[f]:(a[f]===this.currentCalendarOptionsInput[f]?f in this.currentCalendarOptionsRefined&&(l[f]=this.currentCalendarOptionsRefined[f]):s[f]?l[f]=s[f](a[f]):p[f]=a[f],d=!0);return d&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:p}},e}();function Ti(e,t,n,r,o,i,a,s){var l=Ar(t||a.defaultCode,a.map);return new Ir({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:o,cmdFormatter:i.cmdFormatter,defaultSeparator:s})}function ki(e,t){return new(t.themeClasses[e.themeSystem]||Uo)(e)}function xi(e){return new(e.dateProfileGeneratorClass||Jo)(e)}function Mi(e,t,n){return new yr(e,t,n)}function Pi(e){return mt(e,(function(e){return e.ui}))}function Ii(e,t,n){var r={"":t};for(var o in e){var i=e[o];i.sourceId&&n[i.sourceId]&&(r[o]=n[i.sourceId])}return r}function Ni(e){var t=e.options;return{eventUiSingleBase:wn({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"==typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:wn({constraint:t.selectConstraint,overlap:"boolean"==typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function Hi(e,t){for(var n=0,r=t.pluginHooks.isLoadingFuncs;n<r.length;n++){if((0,r[n])(e))return!0}return!1}function Oi(e){return Fr(e.options.businessHours,e)}function Ai(e,t){for(var n in e)console.warn("Unknown option '"+n+"'"+(t?" for view '"+t+"'":""))}var Ui=function(e){function t(t){var n=e.call(this,t)||this;return n.handleData=function(e){n.dataManager?n.setState(e):n.state=e},n.dataManager=new _i({optionOverrides:t.optionOverrides,calendarApi:t.calendarApi,onData:n.handleData}),n}return n(t,e),t.prototype.render=function(){return this.props.children(this.state)},t.prototype.componentDidUpdate=function(e){var t=this.props.optionOverrides;t!==e.optionOverrides&&this.dataManager.resetOptions(t)},t}(mo);var Li=function(e){this.timeZoneName=e},Wi=function(){function e(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return e.prototype.addSegs=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n];this.insertEntry(o,t)}return t},e.prototype.insertEntry=function(e,t){var n=this.findInsertion(e);return this.isInsertionValid(n,e)?(this.insertEntryAt(e,n),1):this.handleInvalidInsertion(n,e,t)},e.prototype.isInsertionValid=function(e,t){return(-1===this.maxCoord||e.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)},e.prototype.handleInvalidInsertion=function(e,t,n){return this.allowReslicing&&e.touchingEntry?this.splitEntry(t,e.touchingEntry,n):(n.push(t),0)},e.prototype.splitEntry=function(e,t,n){var r=0,i=[],a=e.span,s=t.span;return a.start<s.start&&(r+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:s.start}},i)),a.end>s.end&&(r+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:a.end}},i)),r?(n.push.apply(n,o([{index:e.index,thickness:e.thickness,span:ji(s,a)}],i)),r):(n.push(e),0)},e.prototype.insertEntryAt=function(e,t){var n=this.entriesByLevel,r=this.levelCoords;-1===t.lateral?(Gi(r,t.level,t.levelCoord),Gi(n,t.level,[e])):Gi(n[t.level],t.lateral,e),this.stackCnts[Fi(e)]=t.stackCnt},e.prototype.findInsertion=function(e){for(var t=this,n=t.levelCoords,r=t.entriesByLevel,o=t.strictOrder,i=t.stackCnts,a=n.length,s=0,l=-1,u=-1,c=null,d=0,p=0;p<a;p+=1){var f=n[p];if(!o&&f>=s+e.thickness)break;for(var h=r[p],v=void 0,g=qi(h,e.span.start,Vi),m=g[0]+g[1];(v=h[m])&&v.span.start<e.span.end;){var y=f+v.thickness;y>s&&(s=y,c=v,l=p,u=m),y===s&&(d=Math.max(d,i[Fi(v)]+1)),m+=1}}var E=0;if(c)for(E=l+1;E<a&&n[E]<s;)E+=1;var S=-1;return E<a&&n[E]===s&&(S=qi(r[E],e.span.end,Vi)[0]),{touchingLevel:l,touchingLateral:u,touchingEntry:c,stackCnt:d,levelCoord:s,level:E,lateral:S}},e.prototype.toRects=function(){for(var e=this.entriesByLevel,t=this.levelCoords,n=e.length,o=[],i=0;i<n;i+=1)for(var a=e[i],s=t[i],l=0,u=a;l<u.length;l++){var c=u[l];o.push(r(r({},c),{levelCoord:s}))}return o},e}();function Vi(e){return e.span.end}function Fi(e){return e.index+":"+e.span.start}function zi(e){for(var t=[],n=0,r=e;n<r.length;n++){for(var o=r[n],i=[],a={span:o.span,entries:[o]},s=0,l=t;s<l.length;s++){var u=l[s];ji(u.span,a.span)?a={entries:u.entries.concat(a.entries),span:Bi(u.span,a.span)}:i.push(u)}i.push(a),t=i}return t}function Bi(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function ji(e,t){var n=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return n<r?{start:n,end:r}:null}function Gi(e,t,n){e.splice(t,0,n)}function qi(e,t,n){var r=0,o=e.length;if(!o||t<n(e[r]))return[0,0];if(t>n(e[o-1]))return[o,0];for(;r<o;){var i=Math.floor(r+(o-r)/2),a=n(e[i]);if(t<a)o=i;else{if(!(t>a))return[i,1];r=i+1}}return[r,0]}var Yi=function(){function e(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}return e.prototype.destroy=function(){},e}();function Zi(e,t){return{component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null}}function Xi(e){var t;return(t={})[e.component.uid]=e,t}var Ki={},$i=function(){function e(e,t){this.emitter=new co}return e.prototype.destroy=function(){},e.prototype.setMirrorIsVisible=function(e){},e.prototype.setMirrorNeedsRevert=function(e){},e.prototype.setAutoScrollEnabled=function(e){},e}(),Ji={},Qi={startTime:xt,duration:xt,create:Boolean,sourceId:String};function ea(e){var t=fn(e,Qi),n=t.refined,r=t.extra;return{startTime:n.startTime||null,duration:n.duration||null,create:null==n.create||n.create,sourceId:n.sourceId,leftoverProps:r}}var ta=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this,t=this.props.widgetGroups.map((function(t){return e.renderWidgetGroup(t)}));return yo.apply(void 0,o(["div",{className:"fc-toolbar-chunk"}],t))},t.prototype.renderWidgetGroup=function(e){for(var t=this.props,n=this.context.theme,i=[],a=!0,s=0,l=e;s<l.length;s++){var u=l[s],c=u.buttonName,d=u.buttonClick,p=u.buttonText,f=u.buttonIcon;if("title"===c)a=!1,i.push(yo("h2",{className:"fc-toolbar-title"},t.title));else{var h=f?{"aria-label":c}:{},v=["fc-"+c+"-button",n.getClass("button")];c===t.activeButton&&v.push(n.getClass("buttonActive"));var g=!t.isTodayEnabled&&"today"===c||!t.isPrevEnabled&&"prev"===c||!t.isNextEnabled&&"next"===c;i.push(yo("button",r({disabled:g,className:v.join(" "),onClick:d,type:"button"},h),p||(f?yo("span",{className:f}):"")))}}if(i.length>1){var m=a&&n.getClass("buttonGroup")||"";return yo.apply(void 0,o(["div",{className:m}],i))}return i[0]},t}(Mo),na=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.model,o=n.extraClassName,i=!1,a=r.center;return r.left?(i=!0,e=r.left):e=r.start,r.right?(i=!0,t=r.right):t=r.end,yo("div",{className:[o||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",e||[]),this.renderSection("center",a||[]),this.renderSection("end",t||[]))},t.prototype.renderSection=function(e,t){var n=this.props;return yo(ta,{key:e,widgetGroups:t,title:n.title,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled})},t}(Mo),ra=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={availableWidth:null},t.handleEl=function(e){t.el=e,No(t.props.elRef,e),t.updateAvailableWidth()},t.handleResize=function(){t.updateAvailableWidth()},t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.state,n=e.aspectRatio,r=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],o="",i="";return n?null!==t.availableWidth?o=t.availableWidth/n:i=1/n*100+"%":o=e.height||"",yo("div",{ref:this.handleEl,onClick:e.onClick,className:r.join(" "),style:{height:o,paddingBottom:i}},e.children)},t.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},t.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},t.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},t}(Mo),oa=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSegClick=function(e,t){var r=n.component,o=r.context,i=Zn(t);if(i&&r.isValidSegDownEl(e.target)){var a=Se(e.target,".fc-event-forced-url"),s=a?a.querySelector("a[href]").href:"";o.emitter.trigger("eventClick",{el:t,event:new wr(r.context,i.eventRange.def,i.eventRange.instance),jsEvent:e,view:o.viewApi}),s&&!e.defaultPrevented&&(window.location.href=s)}},n.destroy=Me(t.el,"click",".fc-event",n.handleSegClick),n}return n(t,e),t}(Yi),ia=function(e){function t(t){var n,r,o,i,a,s=e.call(this,t)||this;return s.handleEventElRemove=function(e){e===s.currentSegEl&&s.handleSegLeave(null,s.currentSegEl)},s.handleSegEnter=function(e,t){Zn(t)&&(s.currentSegEl=t,s.triggerEvent("eventMouseEnter",e,t))},s.handleSegLeave=function(e,t){s.currentSegEl&&(s.currentSegEl=null,s.triggerEvent("eventMouseLeave",e,t))},s.removeHoverListeners=(n=t.el,r=".fc-event",o=s.handleSegEnter,i=s.handleSegLeave,Me(n,"mouseover",r,(function(e,t){if(t!==a){a=t,o(e,t);var n=function(e){a=null,i(e,t),t.removeEventListener("mouseleave",n)};t.addEventListener("mouseleave",n)}}))),s}return n(t,e),t.prototype.destroy=function(){this.removeHoverListeners()},t.prototype.triggerEvent=function(e,t,n){var r=this.component,o=r.context,i=Zn(n);t&&!r.isValidSegDownEl(t.target)||o.emitter.trigger(e,{el:n,event:new wr(o,i.eventRange.def,i.eventRange.instance),jsEvent:t,view:o.viewApi})},t}(Yi),aa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildViewContext=zt(ko),t.buildViewPropTransformers=zt(la),t.buildToolbarProps=zt(sa),t.handleNavLinkClick=xe("a[data-navlink]",t._handleNavLinkClick.bind(t)),t.headerRef=So(),t.footerRef=So(),t.interactionsStore={},t.registerInteractiveComponent=function(e,n){var r=Zi(e,n),o=[oa,ia].concat(t.props.pluginHooks.componentInteractions).map((function(e){return new e(r)}));t.interactionsStore[e.uid]=o,Ki[e.uid]=r},t.unregisterInteractiveComponent=function(e){for(var n=0,r=t.interactionsStore[e.uid];n<r.length;n++){r[n].destroy()}delete t.interactionsStore[e.uid],delete Ki[e.uid]},t.resizeRunner=new Ci((function(){t.props.emitter.trigger("_resize",!0),t.props.emitter.trigger("windowResize",{view:t.props.viewApi})})),t.handleWindowResize=function(e){var n=t.props.options;n.handleWindowResize&&e.target===window&&t.resizeRunner.request(n.windowResizeDelay)},t}return n(t,e),t.prototype.render=function(){var e,t=this.props,n=t.toolbarConfig,o=t.options,i=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,br(t.options.now,t.dateEnv),t.viewTitle),a=!1,s="";t.isHeightAuto||t.forPrint?s="":null!=o.height?a=!0:null!=o.contentHeight?s=o.contentHeight:e=Math.max(o.aspectRatio,.5);var l=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent);return yo(To.Provider,{value:l},n.headerToolbar&&yo(na,r({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.headerToolbar},i)),yo(ra,{liquid:a,height:s,aspectRatio:e,onClick:this.handleNavLinkClick},this.renderView(t),this.buildAppendContent()),n.footerToolbar&&yo(na,r({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footerToolbar},i)))},t.prototype.componentDidMount=function(){var e=this.props;this.calendarInteractions=e.pluginHooks.calendarInteractions.map((function(t){return new t(e)})),window.addEventListener("resize",this.handleWindowResize);var t=e.pluginHooks.propSetHandlers;for(var n in t)t[n](e[n],e)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.pluginHooks.propSetHandlers;for(var r in n)t[r]!==e[r]&&n[r](t[r],t)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var e=0,t=this.calendarInteractions;e<t.length;e++){t[e].destroy()}this.props.emitter.trigger("_unmount")},t.prototype._handleNavLinkClick=function(e,t){var n=this.props,r=n.dateEnv,o=n.options,i=n.calendarApi,a=t.getAttribute("data-navlink");a=a?JSON.parse(a):{};var s=r.createMarker(a.date),l=a.type,u="day"===l?o.navLinkDayClick:"week"===l?o.navLinkWeekClick:null;"function"==typeof u?u.call(i,r.toDate(s),e):("string"==typeof u&&(l=u),i.zoomTo(s,l))},t.prototype.buildAppendContent=function(){var e=this.props,t=e.pluginHooks.viewContainerAppends.map((function(t){return t(e)}));return yo.apply(void 0,o([Do,{}],t))},t.prototype.renderView=function(e){for(var t=e.pluginHooks,n=e.viewSpec,o={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=0,a=this.buildViewPropTransformers(t.viewPropsTransformers);i<a.length;i++){var s=a[i];r(o,s.transform(o,e))}var l=n.component;return yo(l,r({},o))},t}(xo);function sa(e,t,n,r,o,i){var a=n.build(o,void 0,!1),s=n.buildPrev(t,r,!1),l=n.buildNext(t,r,!1);return{title:i,activeButton:e.type,isTodayEnabled:a.isValid&&!jn(t.currentRange,o),isPrevEnabled:s.isValid,isNextEnabled:l.isValid}}function la(e){return e.map((function(e){return new e}))}var ua=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={forPrint:!1},t.handleBeforePrint=function(){t.setState({forPrint:!0})},t.handleAfterPrint=function(){t.setState({forPrint:!1})},t}return n(t,e),t.prototype.render=function(){var e=this.props,t=e.options,n=this.state.forPrint,r=n||"auto"===t.height||"auto"===t.contentHeight,o=r||null==t.height?"":t.height,i=["fc",n?"fc-media-print":"fc-media-screen","fc-direction-"+t.direction,e.theme.getClass("root")];return Yr()||i.push("fc-liquid-hack"),e.children(i,o,r,n)},t.prototype.componentDidMount=function(){var e=this.props.emitter;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)},t.prototype.componentWillUnmount=function(){var e=this.props.emitter;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)},t}(Mo);function ca(e,t){return rn(!e||t>10?{weekday:"short"}:t>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}var da="fc-col-header-cell";function pa(e){return e.text}var fa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.context,t=e.dateEnv,n=e.options,o=e.theme,i=e.viewApi,a=this.props,s=a.date,l=a.dateProfile,u=$r(s,a.todayRange,null,l),c=[da].concat(Jr(u,o)),d=t.format(s,a.dayHeaderFormat),p=n.navLinks&&!u.isDisabled&&a.colCnt>1?{"data-navlink":Qr(s),tabIndex:0}:{},f=r(r(r({date:t.toDate(s),view:i},a.extraHookProps),{text:d}),u);return yo(Wo,{hookProps:f,classNames:n.dayHeaderClassNames,content:n.dayHeaderContent,defaultContent:pa,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},(function(e,t,n,o){return yo("th",r({ref:e,className:c.concat(t).join(" "),"data-date":u.isDisabled?void 0:Lt(s),colSpan:a.colSpan},a.extraDataAttrs),yo("div",{className:"fc-scrollgrid-sync-inner"},!u.isDisabled&&yo("a",r({ref:n,className:["fc-col-header-cell-cushion",a.isSticky?"fc-sticky":""].join(" ")},p),o)))}))},t}(Mo),ha=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.dateEnv,o=t.theme,i=t.viewApi,a=t.options,s=$e(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},u=[da].concat(Jr(l,o),e.extraClassNames||[]),c=n.format(s,e.dayHeaderFormat),d=r(r(r(r({date:s},l),{view:i}),e.extraHookProps),{text:c});return yo(Wo,{hookProps:d,classNames:a.dayHeaderClassNames,content:a.dayHeaderContent,defaultContent:pa,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},(function(t,n,o,i){return yo("th",r({ref:t,className:u.concat(n).join(" "),colSpan:e.colSpan},e.extraDataAttrs),yo("div",{className:"fc-scrollgrid-sync-inner"},yo("a",{className:["fc-col-header-cell-cushion",e.isSticky?"fc-sticky":""].join(" "),ref:o},i)))}))},t}(Mo),va=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.initialNowDate=br(n.options.now,n.dateEnv),r.initialNowQueriedMs=(new Date).valueOf(),r.state=r.computeTiming().currentState,r}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.state;return e.children(t.nowDate,t.todayRange)},t.prototype.componentDidMount=function(){this.setTimeout()},t.prototype.componentDidUpdate=function(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},t.prototype.componentWillUnmount=function(){this.clearTimeout()},t.prototype.computeTiming=function(){var e=this.props,t=this.context,n=Je(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),r=t.dateEnv.startOf(n,e.unit),o=t.dateEnv.add(r,xt(1,e.unit)),i=o.valueOf()-n.valueOf();return i=Math.min(864e5,i),{currentState:{nowDate:r,todayRange:ga(r)},nextState:{nowDate:o,todayRange:ga(o)},waitMs:i}},t.prototype.setTimeout=function(){var e=this,t=this.computeTiming(),n=t.nextState,r=t.waitMs;this.timeoutId=setTimeout((function(){e.setState(n,(function(){e.setTimeout()}))}),r)},t.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},t.contextType=To,t}(mo);function ga(e){var t=ot(e);return{start:t,end:$e(t,1)}}var ma=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createDayHeaderFormatter=zt(ya),t}return n(t,e),t.prototype.render=function(){var e=this.context,t=this.props,n=t.dates,r=t.dateProfile,o=t.datesRepDistinctDays,i=t.renderIntro,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,o,n.length);return yo(va,{unit:"day"},(function(e,t){return yo("tr",null,i&&i("day"),n.map((function(e){return o?yo(fa,{key:e.toISOString(),date:e,dateProfile:r,todayRange:t,colCnt:n.length,dayHeaderFormat:a}):yo(ha,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:a})})))}))},t}(Mo);function ya(e,t,n){return e||ca(t,n)}var Ea=function(){function e(e,t){for(var n=e.start,r=e.end,o=[],i=[],a=-1;n<r;)t.isHiddenDay(n)?o.push(a+.5):(a+=1,o.push(a),i.push(n)),n=$e(n,1);this.dates=i,this.indices=o,this.cnt=i.length}return e.prototype.sliceRange=function(e){var t=this.getDateDayIndex(e.start),n=this.getDateDayIndex($e(e.end,-1)),r=Math.max(0,t),o=Math.min(this.cnt-1,n);return(r=Math.ceil(r))<=(o=Math.floor(o))?{firstIndex:r,lastIndex:o,isStart:t===r,isEnd:n===o}:null},e.prototype.getDateDayIndex=function(e){var t=this.indices,n=Math.floor(et(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},e}(),Sa=function(){function e(e,t){var n,r,o,i=e.dates;if(t){for(r=i[0].getUTCDay(),n=1;n<i.length&&i[n].getUTCDay()!==r;n+=1);o=Math.ceil(i.length/n)}else o=1,n=i.length;this.rowCnt=o,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return e.prototype.buildCells=function(){for(var e=[],t=0;t<this.rowCnt;t+=1){for(var n=[],r=0;r<this.colCnt;r+=1)n.push(this.buildCell(t,r));e.push(n)}return e},e.prototype.buildCell=function(e,t){var n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}},e.prototype.buildHeaderDates=function(){for(var e=[],t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e},e.prototype.sliceRange=function(e){var t=this.colCnt,n=this.daySeries.sliceRange(e),r=[];if(n)for(var o=n.firstIndex,i=n.lastIndex,a=o;a<=i;){var s=Math.floor(a/t),l=Math.min((s+1)*t,i+1);r.push({row:s,firstCol:a%t,lastCol:(l-1)%t,isStart:n.isStart&&a===o,isEnd:n.isEnd&&l-1===i}),a=l}return r},e}(),Da=function(){function e(){this.sliceBusinessHours=zt(this._sliceBusinessHours),this.sliceDateSelection=zt(this._sliceDateSpan),this.sliceEventStore=zt(this._sliceEventStore),this.sliceEventDrag=zt(this._sliceInteraction),this.sliceEventResize=zt(this._sliceInteraction),this.forceDayIfListItem=!1}return e.prototype.sliceProps=function(e,t,n,r){for(var i=[],a=4;a<arguments.length;a++)i[a-4]=arguments[a];var s=e.eventUiBases,l=this.sliceEventStore.apply(this,o([e.eventStore,s,t,n],i));return{dateSelectionSegs:this.sliceDateSelection.apply(this,o([e.dateSelection,s,r],i)),businessHourSegs:this.sliceBusinessHours.apply(this,o([e.businessHours,t,n,r],i)),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag.apply(this,o([e.eventDrag,s,t,n],i)),eventResize:this.sliceEventResize.apply(this,o([e.eventResize,s,t,n],i)),eventSelection:e.eventSelection}},e.prototype.sliceNowDate=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this._sliceDateSpan.apply(this,o([{range:{start:e,end:Je(e,1)},allDay:!1},{},t],n))},e.prototype._sliceBusinessHours=function(e,t,n,r){for(var i=[],a=4;a<arguments.length;a++)i[a-4]=arguments[a];return e?this._sliceEventStore.apply(this,o([Rt(e,ba(t,Boolean(n)),r),{},t,n],i)).bg:[]},e.prototype._sliceEventStore=function(e,t,n,r){for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];if(e){var a=Gn(e,t,ba(n,Boolean(r)),r);return{bg:this.sliceEventRanges(a.bg,o),fg:this.sliceEventRanges(a.fg,o)}}return{bg:[],fg:[]}},e.prototype._sliceInteraction=function(e,t,n,r){for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];if(!e)return null;var a=Gn(e.mutatedEvents,t,ba(n,Boolean(r)),r);return{segs:this.sliceEventRanges(a.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}},e.prototype._sliceDateSpan=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];if(!e)return[];for(var a=dr(e,t,n),s=this.sliceRange.apply(this,o([e.range],r)),l=0,u=s;l<u.length;l++){var c=u[l];c.eventRange=a}return s},e.prototype.sliceEventRanges=function(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];n.push.apply(n,this.sliceEventRange(i,t))}return n},e.prototype.sliceEventRange=function(e,t){var n=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(n={start:n.start,end:$e(n.start,1)});for(var r=this.sliceRange.apply(this,o([n],t)),i=0,a=r;i<a.length;i++){var s=a[i];s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd}return r},e}();function ba(e,t){var n=e.activeRange;return t?n:{start:Je(n.start,e.slotMinTime.milliseconds),end:Je(n.end,e.slotMaxTime.milliseconds-864e5)}}function Ca(e,t,n){var r=e.mutatedEvents.instances;for(var o in r)if(!Bn(t.validRange,r[o].range))return!1;return Ra({eventDrag:e},n)}function wa(e,t,n){return!!Bn(t.validRange,e.range)&&Ra({dateSelection:e},n)}function Ra(e,t){var n=t.getCurrentData(),o=r({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||_a)(o,t)}function _a(e,t,n,o){return void 0===n&&(n={}),!(e.eventDrag&&!function(e,t,n,o){var i=t.getCurrentData(),a=e.eventDrag,s=a.mutatedEvents,l=s.defs,u=s.instances,c=Xn(l,a.isEvent?e.eventUiBases:{"":i.selectionConfig});o&&(c=mt(c,o));var d=(v=e.eventStore,g=a.affectedEvents.instances,{defs:v.defs,instances:gt(v.instances,(function(e){return!g[e.instanceId]}))}),p=d.defs,f=d.instances,h=Xn(p,e.eventUiBases);var v,g;for(var m in u){var y=u[m],E=y.range,S=c[y.defId],D=l[y.defId];if(!Ta(S.constraints,E,d,e.businessHours,t))return!1;var b=t.options.eventOverlap,C="function"==typeof b?b:null;for(var w in f){var R=f[w];if(zn(E,R.range)){if(!1===h[R.defId].overlap&&a.isEvent)return!1;if(!1===S.overlap)return!1;if(C&&!C(new wr(t,p[R.defId],R),new wr(t,D,y)))return!1}}for(var _=i.eventStore,T=0,k=S.allows;T<k.length;T++){var x=k[T],M=r(r({},n),{range:y.range,allDay:D.allDay}),P=_.defs[D.defId],I=_.instances[m],N=void 0;if(N=P?new wr(t,P,I):new wr(t,D),!x(fr(M,t),N))return!1}}return!0}(e,t,n,o))&&!(e.dateSelection&&!function(e,t,n,o){var i=e.eventStore,a=i.defs,s=i.instances,l=e.dateSelection,u=l.range,c=t.getCurrentData().selectionConfig;o&&(c=o(c));if(!Ta(c.constraints,u,i,e.businessHours,t))return!1;var d=t.options.selectOverlap,p="function"==typeof d?d:null;for(var f in s){var h=s[f];if(zn(u,h.range)){if(!1===c.overlap)return!1;if(p&&!p(new wr(t,a[h.defId],h),null))return!1}}for(var v=0,g=c.allows;v<g.length;v++){if(!(0,g[v])(fr(r(r({},n),l),t),null))return!1}return!0}(e,t,n,o))}function Ta(e,t,n,r,o){for(var i=0,a=e;i<a.length;i++){if(!Ma(ka(a[i],t,n,r,o),t))return!1}return!0}function ka(e,t,n,r,o){return"businessHours"===e?xa(Rt(r,t,o)):"string"==typeof e?xa(Sn(n,(function(t){return t.groupId===e}))):"object"==typeof e&&e?xa(Rt(e,t,o)):[]}function xa(e){var t=e.instances,n=[];for(var r in t)n.push(t[r].range);return n}function Ma(e,t){for(var n=0,r=e;n<r.length;n++){if(Bn(r[n],t))return!0}return!1}var Pa=/^(visible|hidden)$/,Ia=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleEl=function(e){t.el=e,No(t.props.elRef,e)},t}return n(t,e),t.prototype.render=function(){var e=this.props,t=e.liquid,n=e.liquidIsAbsolute,r=t&&n,o=["fc-scroller"];return t&&(n?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),yo("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)},t.prototype.needsXScrolling=function(){if(Pa.test(this.props.overflowX))return!1;for(var e=this.el,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),n=e.children,r=0;r<n.length;r+=1){if(n[r].getBoundingClientRect().width>t)return!0}return!1},t.prototype.needsYScrolling=function(){if(Pa.test(this.props.overflowY))return!1;for(var e=this.el,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),n=e.children,r=0;r<n.length;r+=1){if(n[r].getBoundingClientRect().height>t)return!0}return!1},t.prototype.getXScrollbarWidth=function(){return Pa.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},t.prototype.getYScrollbarWidth=function(){return Pa.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},t}(Mo),Na=function(){function e(e){var t=this;this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(e,n){var r=t,o=r.depths,i=r.currentMap,a=!1,s=!1;null!==e?(a=n in i,i[n]=e,o[n]=(o[n]||0)+1,s=!0):(o[n]-=1,o[n]||(delete i[n],delete t.callbackMap[n],a=!0)),t.masterCallback&&(a&&t.masterCallback(null,String(n)),s&&t.masterCallback(e,String(n)))}}return e.prototype.createRef=function(e){var t=this,n=this.callbackMap[e];return n||(n=this.callbackMap[e]=function(n){t.handleValue(n,String(e))}),n},e.prototype.collect=function(e,t,n){return wt(this.currentMap,e,t,n)},e.prototype.getAll=function(){return Et(this.currentMap)},e}();function Ha(e){for(var t=0,n=0,r=be(e,".fc-scrollgrid-shrink");n<r.length;n++){var o=r[n];t=Math.max(t,Ze(o))}return Math.ceil(t)}function Oa(e,t){return e.liquid&&t.liquid}function Aa(e,t){return null!=t.maxHeight||Oa(e,t)}function Ua(e,t,n){var r=n.expandRows;return"function"==typeof t.content?t.content(n):yo("table",{className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:r?n.clientHeight:""}},n.tableColGroupNode,yo("tbody",{},"function"==typeof t.rowContent?t.rowContent(n):t.rowContent))}function La(e,t){return Ft(e,t,St)}function Wa(e,t){for(var n=[],r=0,i=e;r<i.length;r++)for(var a=i[r],s=a.span||1,l=0;l<s;l+=1)n.push(yo("col",{style:{width:"shrink"===a.width?Va(t):a.width||"",minWidth:a.minWidth||""}}));return yo.apply(void 0,o(["colgroup",{}],n))}function Va(e){return null==e?4:e}function Fa(e){for(var t=0,n=e;t<n.length;t++){if("shrink"===n[t].width)return!0}return!1}function za(e,t){var n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}function Ba(e,t){var n=["fc-scrollgrid-section","fc-scrollgrid-section-"+e.type,e.className];return t&&e.liquid&&null==e.maxHeight&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function ja(e){return yo("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function Ga(e){var t=e.stickyHeaderDates;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}function qa(e){var t=e.stickyFooterScrollbar;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}var Ya=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processCols=zt((function(e){return e}),La),t.renderMicroColGroup=zt(Wa),t.scrollerRefs=new Na,t.scrollerElRefs=new Na(t._handleScrollerEl.bind(t)),t.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},t.handleSizing=function(){t.setState(r({shrinkWidth:t.computeShrinkWidth()},t.computeScrollerDims()))},t}return n(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.state,r=e.context,i=t.sections||[],a=this.processCols(t.cols),s=this.renderMicroColGroup(a,n.shrinkWidth),l=za(t.liquid,r);t.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");for(var u,c=i.length,d=0,p=[],f=[],h=[];d<c&&"header"===(u=i[d]).type;)p.push(this.renderSection(u,s)),d+=1;for(;d<c&&"body"===(u=i[d]).type;)f.push(this.renderSection(u,s)),d+=1;for(;d<c&&"footer"===(u=i[d]).type;)h.push(this.renderSection(u,s)),d+=1;var v=!Yr();return yo("table",{className:l.join(" "),style:{height:t.height}},Boolean(!v&&p.length)&&yo.apply(void 0,o(["thead",{}],p)),Boolean(!v&&f.length)&&yo.apply(void 0,o(["tbody",{}],f)),Boolean(!v&&h.length)&&yo.apply(void 0,o(["tfoot",{}],h)),v&&yo.apply(void 0,o(o(o(["tbody",{}],p),f),h)))},t.prototype.renderSection=function(e,t){return"outerContent"in e?yo(Do,{key:e.key},e.outerContent):yo("tr",{key:e.key,className:Ba(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk))},t.prototype.renderChunkTd=function(e,t,n){if("outerContent"in n)return n.outerContent;var r=this.props,o=this.state,i=o.forceYScrollbars,a=o.scrollerClientWidths,s=o.scrollerClientHeights,l=Aa(r,e),u=Oa(r,e),c=r.liquid?i?"scroll":l?"auto":"hidden":"visible",d=e.key,p=Ua(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:r.collapsibleWidth||void 0===a[d]?null:a[d],clientHeight:void 0!==s[d]?s[d]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}});return yo("td",{ref:n.elRef},yo("div",{className:"fc-scroller-harness"+(u?" fc-scroller-harness-liquid":"")},yo(Ia,{ref:this.scrollerRefs.createRef(d),elRef:this.scrollerElRefs.createRef(d),overflowY:c,overflowX:r.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},p)))},t.prototype._handleScrollerEl=function(e,t){var n=function(e,t){for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o.key===t)return o}return null}(this.props.sections,t);n&&No(n.chunk.scrollerElRef,e)},t.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},t.prototype.componentDidUpdate=function(){this.handleSizing()},t.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},t.prototype.computeShrinkWidth=function(){return Fa(this.props.cols)?Ha(this.scrollerElRefs.getAll()):0},t.prototype.computeScrollerDims=function(){var e=ro(),t=this.scrollerRefs,n=this.scrollerElRefs,r=!1,o={},i={};for(var a in t.currentMap){var s=t.currentMap[a];if(s&&s.needsYScrolling()){r=!0;break}}for(var l=0,u=this.props.sections;l<u.length;l++){a=u[l].key;var c=n.currentMap[a];if(c){var d=c.parentNode;o[a]=Math.floor(d.getBoundingClientRect().width-(r?e.y:0)),i[a]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:o,scrollerClientHeights:i}},t}(Mo);Ya.addStateEquality({scrollerClientWidths:St,scrollerClientHeights:St});var Za=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elRef=So(),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,r=e.seg,o=r.eventRange,i=o.ui,a={event:new wr(t,o.def,o.instance),view:t.viewApi,timeText:e.timeText,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,isDraggable:!e.disableDragging&&Qn(r,t),isStartResizable:!e.disableResizing&&er(r,t),isEndResizable:!e.disableResizing&&tr(r),isMirror:Boolean(e.isDragging||e.isResizing||e.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(e.isPast),isFuture:Boolean(e.isFuture),isToday:Boolean(e.isToday),isSelected:Boolean(e.isSelected),isDragging:Boolean(e.isDragging),isResizing:Boolean(e.isResizing)},s=or(a).concat(i.classNames);return yo(Wo,{hookProps:a,classNames:n.eventClassNames,content:n.eventContent,defaultContent:e.defaultContent,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount,elRef:this.elRef},(function(t,n,r,o){return e.children(t,s.concat(n),r,o,a)}))},t.prototype.componentDidMount=function(){Yn(this.elRef.current,this.props.seg)},t.prototype.componentDidUpdate=function(e){var t=this.props.seg;t!==e.seg&&Yn(this.elRef.current,t)},t}(Mo),Xa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=e.seg,o=t.options.eventTimeFormat||e.defaultTimeFormat,i=nr(n,o,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return yo(Za,{seg:n,timeText:i,disableDragging:e.disableDragging,disableResizing:e.disableResizing,defaultContent:e.defaultContent||Ka,isDragging:e.isDragging,isResizing:e.isResizing,isDateSelecting:e.isDateSelecting,isSelected:e.isSelected,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(t,o,i,a,s){return yo("a",r({className:e.extraClassNames.concat(o).join(" "),style:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},ref:t},function(e){var t=e.eventRange.def.url;return t?{href:t}:{}}(n)),yo("div",{className:"fc-event-main",ref:i,style:{color:s.textColor}},a),s.isStartResizable&&yo("div",{className:"fc-event-resizer fc-event-resizer-start"}),s.isEndResizable&&yo("div",{className:"fc-event-resizer fc-event-resizer-end"}))}))},t}(Mo);function Ka(e){return yo("div",{className:"fc-event-main-frame"},e.timeText&&yo("div",{className:"fc-event-time"},e.timeText),yo("div",{className:"fc-event-title-container"},yo("div",{className:"fc-event-title fc-sticky"},e.event.title||yo(Do,null," "))))}var $a=function(e){return yo(To.Consumer,null,(function(t){var n=t.options,r={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return yo(Wo,{hookProps:r,classNames:n.nowIndicatorClassNames,content:n.nowIndicatorContent,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},e.children)}))},Ja=rn({day:"numeric"}),Qa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,r=es({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraProps:e.extraHookProps,viewApi:t.viewApi,dateEnv:t.dateEnv});return yo(Fo,{hookProps:r,content:n.dayCellContent,defaultContent:e.defaultContent},e.children)},t}(Mo);function es(e){var t=e.date,n=e.dateEnv,o=$r(t,e.todayRange,null,e.dateProfile);return r(r(r({date:n.toDate(t),view:e.viewApi},o),{dayNumberText:e.showDayNumber?n.format(t,Ja):""}),e.extraProps)}var ts=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refineHookProps=Bt(es),t.normalizeClassNames=jo(),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,r=this.refineHookProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraProps:e.extraHookProps,viewApi:t.viewApi,dateEnv:t.dateEnv}),o=Jr(r,t.theme).concat(r.isDisabled?[]:this.normalizeClassNames(n.dayCellClassNames,r)),i=r.isDisabled?{}:{"data-date":Lt(e.date)};return yo(Bo,{hookProps:r,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount,elRef:e.elRef},(function(t){return e.children(t,o,i,r.isDisabled)}))},t}(Mo);function ns(e){return yo("div",{className:"fc-"+e})}var rs=function(e){return yo(Za,{defaultContent:os,seg:e.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(e,t,n,r,o){return yo("div",{ref:e,className:["fc-bg-event"].concat(t).join(" "),style:{backgroundColor:o.backgroundColor}},r)}))};function os(e){return e.event.title&&yo("div",{className:"fc-event-title"},e.event.title)}var is=function(e){return yo(To.Consumer,null,(function(t){var n=t.dateEnv,r=t.options,o=e.date,i=r.weekNumberFormat||e.defaultFormat,a=n.computeWeekNumber(o),s=n.format(o,i);return yo(Wo,{hookProps:{num:a,text:s,date:o},classNames:r.weekNumberClassNames,content:r.weekNumberContent,defaultContent:as,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},e.children)}))};function as(e){return e.text}var ss=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRootEl=function(e){t.rootEl=e,t.props.elRef&&No(t.props.elRef,e)},t.handleDocumentMousedown=function(e){var n=_e(e);t.rootEl.contains(n)||t.handleCloseClick()},t.handleCloseClick=function(){var e=t.props.onClose;e&&e()},t}return n(t,e),t.prototype.render=function(){var e=this.context.theme,t=this.props,n=["fc-popover",e.getClass("popover")].concat(t.extraClassNames||[]);return Co(yo("div",r({className:n.join(" ")},t.extraAttrs,{ref:this.handleRootEl}),yo("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},yo("span",{className:"fc-popover-title"},t.title),yo("span",{className:"fc-popover-close "+e.getIconClass("close"),onClick:this.handleCloseClick})),yo("div",{className:"fc-popover-body "+e.getClass("popoverContent")},t.children)),t.parentEl)},t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMousedown),this.updateSize()},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMousedown)},t.prototype.updateSize=function(){var e=this.context.isRtl,t=this.props,n=t.alignmentEl,r=t.alignGridTop,o=this.rootEl,i=function(e){for(var t=lo(e),n=e.getBoundingClientRect(),r=0,o=t;r<o.length;r++){var i=Br(n,o[r].getBoundingClientRect());if(!i)return null;n=i}return n}(n);if(i){var a=o.getBoundingClientRect(),s=r?Se(n,".fc-scrollgrid").getBoundingClientRect().top:i.top,l=e?i.right-a.width:i.left;s=Math.max(s,10),l=Math.min(l,document.documentElement.clientWidth-10-a.width),l=Math.max(l,10);var u=o.offsetParent.getBoundingClientRect();we(o,{top:s-u.top,left:l-u.left})}},t}(Mo),ls=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRootEl=function(e){t.rootEl=e,e?t.context.registerInteractiveComponent(t,{el:e,useEventCenter:!1}):t.context.unregisterInteractiveComponent(t)},t}return n(t,e),t.prototype.render=function(){var e=this.context,t=e.options,n=e.dateEnv,r=this.props,o=r.startDate,i=r.todayRange,a=r.dateProfile,s=n.format(o,t.dayPopoverFormat);return yo(ts,{date:o,dateProfile:a,todayRange:i,elRef:this.handleRootEl},(function(e,t,n){return yo(ss,{elRef:e,title:s,extraClassNames:["fc-more-popover"].concat(t),extraAttrs:n,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},yo(Qa,{date:o,dateProfile:a,todayRange:i},(function(e,t){return t&&yo("div",{className:"fc-more-popover-misc",ref:e},t)})),r.children)}))},t.prototype.queryHit=function(e,t,n,o){var i=this.rootEl,a=this.props;return e>=0&&e<n&&t>=0&&t<o?{dateProfile:a.dateProfile,dateSpan:r({allDay:!0,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:n,bottom:o},layer:1}:null},t}(Ho),us=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linkElRef=So(),t.state={isPopoverOpen:!1},t.handleClick=function(e){var n=t,r=n.props,o=n.context,i=o.options.moreLinkClick,a=ds(r).start;function s(e){var t=e.eventRange,n=t.def,r=t.instance,i=t.range;return{event:new wr(o,n,r),start:o.dateEnv.toDate(i.start),end:o.dateEnv.toDate(i.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof i&&(i=i({date:a,allDay:Boolean(r.allDayDate),allSegs:r.allSegs.map(s),hiddenSegs:r.hiddenSegs.map(s),jsEvent:e,view:o.viewApi})),i&&"popover"!==i?"string"==typeof i&&o.calendarApi.zoomTo(a,i):t.setState({isPopoverOpen:!0})},t.handlePopoverClose=function(){t.setState({isPopoverOpen:!1})},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props;return yo(To.Consumer,null,(function(n){var r=n.viewApi,o=n.options,i=n.calendarApi,a=o.moreLinkText,s=t.moreCnt,l=ds(t),u={num:s,shortText:"+"+s,text:"function"==typeof a?a.call(i,s):"+"+s+" "+a,view:r};return yo(Do,null,Boolean(t.moreCnt)&&yo(Wo,{elRef:e.linkElRef,hookProps:u,classNames:o.moreLinkClassNames,content:o.moreLinkContent,defaultContent:t.defaultContent||cs,didMount:o.moreLinkDidMount,willUnmount:o.moreLinkWillUnmount},(function(n,r,o,i){return t.children(n,["fc-more-link"].concat(r),o,i,e.handleClick)})),e.state.isPopoverOpen&&yo(ls,{startDate:l.start,endDate:l.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:e.parentEl,alignmentEl:t.alignmentElRef.current,alignGridTop:t.alignGridTop,onClose:e.handlePopoverClose},t.popoverContent()))}))},t.prototype.componentDidMount=function(){this.updateParentEl()},t.prototype.componentDidUpdate=function(){this.updateParentEl()},t.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=Se(this.linkElRef.current,".fc-view-harness"))},t}(Mo);function cs(e){return e.text}function ds(e){if(e.allDayDate)return{start:e.allDayDate,end:$e(e.allDayDate,1)};var t,n=e.hiddenSegs;return{start:ps(n),end:(t=n,t.reduce(hs).eventRange.range.end)}}function ps(e){return e.reduce(fs).eventRange.range.start}function fs(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function hs(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}var vs=function(e){function t(t,n){void 0===n&&(n={});var o=e.call(this)||this;return o.isRendering=!1,o.isRendered=!1,o.currentClassNames=[],o.customContentRenderId=0,o.handleAction=function(e){switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":o.renderRunner.tryDrain()}},o.handleData=function(e){o.currentData=e,o.renderRunner.request(e.calendarOptions.rerenderDelay)},o.handleRenderRequest=function(){if(o.isRendering){o.isRendered=!0;var e=o.currentData;Eo(yo(ua,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},(function(t,n,i,a){return o.setClassNames(t),o.setHeight(n),yo(Vo.Provider,{value:o.customContentRenderId},yo(aa,r({isHeightAuto:i,forPrint:a},e)))})),o.el)}else o.isRendered&&(o.isRendered=!1,Ro(o.el),o.setClassNames([]),o.setHeight(""));wo()},o.el=t,o.renderRunner=new Ci(o.handleRenderRequest),new _i({optionOverrides:n,calendarApi:o,onAction:o.handleAction,onData:o.handleData}),o}return n(t,e),Object.defineProperty(t.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()},t.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},t.prototype.updateSize=function(){e.prototype.updateSize.call(this),wo()},t.prototype.batchRendering=function(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")},t.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},t.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},t.prototype.resetOptions=function(e,t){this.currentDataManager.resetOptions(e,t)},t.prototype.setClassNames=function(e){if(!Ft(e,this.currentClassNames)){for(var t=this.el.classList,n=0,r=this.currentClassNames;n<r.length;n++){var o=r[n];t.remove(o)}for(var i=0,a=e;i<a.length;i++){o=a[i];t.add(o)}this.currentClassNames=e}},t.prototype.setHeight=function(e){Re(this.el,"height",e)},t}(Cr);Ji.touchMouseIgnoreWait=500;var gs=0,ms=0,ys=!1,Es=function(){function e(e){var t=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(e){if(!t.shouldIgnoreMouse()&&function(e){return 0===e.button&&!e.ctrlKey}(e)&&t.tryStart(e)){var n=t.createEventFromMouse(e,!0);t.emitter.trigger("pointerdown",n),t.initScrollWatch(n),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(e){var n=t.createEventFromMouse(e);t.recordCoords(n),t.emitter.trigger("pointermove",n)},this.handleMouseUp=function(e){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(e)),t.cleanup()},this.handleTouchStart=function(e){if(t.tryStart(e)){t.isTouchDragging=!0;var n=t.createEventFromTouch(e,!0);t.emitter.trigger("pointerdown",n),t.initScrollWatch(n);var r=e.target;t.shouldIgnoreMove||r.addEventListener("touchmove",t.handleTouchMove),r.addEventListener("touchend",t.handleTouchEnd),r.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(e){var n=t.createEventFromTouch(e);t.recordCoords(n),t.emitter.trigger("pointermove",n)},this.handleTouchEnd=function(e){if(t.isDragging){var n=e.target;n.removeEventListener("touchmove",t.handleTouchMove),n.removeEventListener("touchend",t.handleTouchEnd),n.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(e)),t.cleanup(),t.isTouchDragging=!1,gs+=1,setTimeout((function(){gs-=1}),Ji.touchMouseIgnoreWait)}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(e){if(!t.shouldIgnoreMove){var n=window.pageXOffset-t.prevScrollX+t.prevPageX,r=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:e,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:n,pageY:r,deltaX:n-t.origPageX,deltaY:r-t.origPageY})}},this.containerEl=e,this.emitter=new co,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),1===(ms+=1)&&window.addEventListener("touchmove",Ss,{passive:!1})}return e.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),(ms-=1)||window.removeEventListener("touchmove",Ss,{passive:!1})},e.prototype.tryStart=function(e){var t=this.querySubjectEl(e),n=e.target;return!(!t||this.handleSelector&&!Se(n,this.handleSelector))&&(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0)},e.prototype.cleanup=function(){ys=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},e.prototype.querySubjectEl=function(e){return this.selector?Se(e.target,this.selector):this.containerEl},e.prototype.shouldIgnoreMouse=function(){return gs||this.isTouchDragging},e.prototype.cancelTouchScroll=function(){this.isDragging&&(ys=!0)},e.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},e.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},e.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},e.prototype.createEventFromMouse=function(e,t){var n=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:r}},e.prototype.createEventFromTouch=function(e,t){var n,r,o=e.touches,i=0,a=0;return o&&o.length?(n=o[0].pageX,r=o[0].pageY):(n=e.pageX,r=e.pageY),t?(this.origPageX=n,this.origPageY=r):(i=n-this.origPageX,a=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:i,deltaY:a}},e}();function Ss(e){ys&&e.preventDefault()}var Ds=function(){function e(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return e.prototype.start=function(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},e.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},e.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},e.prototype.stop=function(e,t){var n=this,r=function(){n.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)},e.prototype.doRevertAnimation=function(e,t){var n=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",we(n,{left:r.left,top:r.top}),Ie(n,(function(){n.style.transition="",e()}))},e.prototype.cleanup=function(){this.mirrorEl&&(Ee(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},e.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&we(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},e.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),we(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},e}(),bs=function(e){function t(t,n){var r=e.call(this)||this;return r.handleScroll=function(){r.scrollTop=r.scrollController.getScrollTop(),r.scrollLeft=r.scrollController.getScrollLeft(),r.handleScrollChange()},r.scrollController=t,r.doesListening=n,r.scrollTop=r.origScrollTop=t.getScrollTop(),r.scrollLeft=r.origScrollLeft=t.getScrollLeft(),r.scrollWidth=t.getScrollWidth(),r.scrollHeight=t.getScrollHeight(),r.clientWidth=t.getClientWidth(),r.clientHeight=t.getClientHeight(),r.clientRect=r.computeClientRect(),r.doesListening&&r.getEventTarget().addEventListener("scroll",r.handleScroll),r}return n(t,e),t.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},t.prototype.getScrollTop=function(){return this.scrollTop},t.prototype.getScrollLeft=function(){return this.scrollLeft},t.prototype.setScrollTop=function(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())},t.prototype.setScrollLeft=function(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())},t.prototype.getClientWidth=function(){return this.clientWidth},t.prototype.getClientHeight=function(){return this.clientHeight},t.prototype.getScrollWidth=function(){return this.scrollWidth},t.prototype.getScrollHeight=function(){return this.scrollHeight},t.prototype.handleScrollChange=function(){},t}(fo),Cs=function(e){function t(t,n){return e.call(this,new ho(t),n)||this}return n(t,e),t.prototype.getEventTarget=function(){return this.scrollController.el},t.prototype.computeClientRect=function(){return ao(this.scrollController.el)},t}(bs),ws=function(e){function t(t){return e.call(this,new vo,t)||this}return n(t,e),t.prototype.getEventTarget=function(){return window},t.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},t.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},t}(bs),Rs="function"==typeof performance?performance.now:Date.now,_s=function(){function e(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var t=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(t){var n=Rs();e.handleSide(t,(n-e.msSinceRequest)/1e3),e.requestAnimation(n)}else e.isAnimating=!1}}}return e.prototype.start=function(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},e.prototype.handleMove=function(e,t){if(this.isEnabled){var n=e-window.pageXOffset,r=t-window.pageYOffset,o=null===this.pointerScreenY?0:r-this.pointerScreenY,i=null===this.pointerScreenX?0:n-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),i<0?this.everMovedLeft=!0:i>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Rs()))}},e.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++){t[e].destroy()}this.scrollCaches=null}},e.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},e.prototype.handleSide=function(e,t){var n=e.scrollCache,r=this.edgeThreshold,o=r-e.distance,i=o*o/(r*r)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":n.setScrollLeft(n.getScrollLeft()+i*a);break;case"top":a=-1;case"bottom":n.setScrollTop(n.getScrollTop()+i*a)}},e.prototype.computeBestEdge=function(e,t){for(var n=this.edgeThreshold,r=null,o=0,i=this.scrollCaches;o<i.length;o++){var a=i[o],s=a.clientRect,l=e-s.left,u=s.right-e,c=t-s.top,d=s.bottom-t;l>=0&&u>=0&&c>=0&&d>=0&&(c<=n&&this.everMovedUp&&a.canScrollUp()&&(!r||r.distance>c)&&(r={scrollCache:a,name:"top",distance:c}),d<=n&&this.everMovedDown&&a.canScrollDown()&&(!r||r.distance>d)&&(r={scrollCache:a,name:"bottom",distance:d}),l<=n&&this.everMovedLeft&&a.canScrollLeft()&&(!r||r.distance>l)&&(r={scrollCache:a,name:"left",distance:l}),u<=n&&this.everMovedRight&&a.canScrollRight()&&(!r||r.distance>u)&&(r={scrollCache:a,name:"right",distance:u}))}return r},e.prototype.buildCaches=function(e){return this.queryScrollEls(e).map((function(e){return e===window?new ws(!1):new Cs(e,!1)}))},e.prototype.queryScrollEls=function(e){for(var t=[],n=0,r=this.scrollQuery;n<r.length;n++){var o=r[n];"object"==typeof o?t.push(o):t.push.apply(t,Array.prototype.slice.call(Te(e).querySelectorAll(o)))}return t},e}(),Ts=function(e){function t(t,n){var r=e.call(this,t)||this;r.containerEl=t,r.delay=null,r.minDistance=0,r.touchScrollAllowed=!0,r.mirrorNeedsRevert=!1,r.isInteracting=!1,r.isDragging=!1,r.isDelayEnded=!1,r.isDistanceSurpassed=!1,r.delayTimeoutId=null,r.onPointerDown=function(e){r.isDragging||(r.isInteracting=!0,r.isDelayEnded=!1,r.isDistanceSurpassed=!1,Ue(document.body),We(document.body),e.isTouch||e.origEvent.preventDefault(),r.emitter.trigger("pointerdown",e),r.isInteracting&&!r.pointer.shouldIgnoreMove&&(r.mirror.setIsVisible(!1),r.mirror.start(e.subjectEl,e.pageX,e.pageY),r.startDelay(e),r.minDistance||r.handleDistanceSurpassed(e)))},r.onPointerMove=function(e){if(r.isInteracting){if(r.emitter.trigger("pointermove",e),!r.isDistanceSurpassed){var t=r.minDistance,n=e.deltaX,o=e.deltaY;n*n+o*o>=t*t&&r.handleDistanceSurpassed(e)}r.isDragging&&("scroll"!==e.origEvent.type&&(r.mirror.handleMove(e.pageX,e.pageY),r.autoScroller.handleMove(e.pageX,e.pageY)),r.emitter.trigger("dragmove",e))}},r.onPointerUp=function(e){r.isInteracting&&(r.isInteracting=!1,Le(document.body),Ve(document.body),r.emitter.trigger("pointerup",e),r.isDragging&&(r.autoScroller.stop(),r.tryStopDrag(e)),r.delayTimeoutId&&(clearTimeout(r.delayTimeoutId),r.delayTimeoutId=null))};var o=r.pointer=new Es(t);return o.emitter.on("pointerdown",r.onPointerDown),o.emitter.on("pointermove",r.onPointerMove),o.emitter.on("pointerup",r.onPointerUp),n&&(o.selector=n),r.mirror=new Ds,r.autoScroller=new _s,r}return n(t,e),t.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},t.prototype.startDelay=function(e){var t=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout((function(){t.delayTimeoutId=null,t.handleDelayEnd(e)}),this.delay):this.handleDelayEnd(e)},t.prototype.handleDelayEnd=function(e){this.isDelayEnded=!0,this.tryStartDrag(e)},t.prototype.handleDistanceSurpassed=function(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)},t.prototype.tryStartDrag=function(e){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))},t.prototype.tryStopDrag=function(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))},t.prototype.stopDrag=function(e){this.isDragging=!1,this.emitter.trigger("dragend",e)},t.prototype.setIgnoreMove=function(e){this.pointer.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){this.mirror.setIsVisible(e)},t.prototype.setMirrorNeedsRevert=function(e){this.mirrorNeedsRevert=e},t.prototype.setAutoScrollEnabled=function(e){this.autoScroller.isEnabled=e},t}($i),ks=function(){function e(e){this.origRect=so(e),this.scrollCaches=lo(e).map((function(e){return new Cs(e,!0)}))}return e.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++){t[e].destroy()}},e.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,n=this.scrollCaches;t<n.length;t++){var r=n[t];e+=r.origScrollLeft-r.getScrollLeft()}return e},e.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,n=this.scrollCaches;t<n.length;t++){var r=n[t];e+=r.origScrollTop-r.getScrollTop()}return e},e.prototype.isWithinClipping=function(e,t){for(var n,r,o={left:e,top:t},i=0,a=this.scrollCaches;i<a.length;i++){var s=a[i];if(n=s.getEventTarget(),r=void 0,"HTML"!==(r=n.tagName)&&"BODY"!==r&&!zr(o,s.clientRect))return!1}return!0},e}();var xs=function(){function e(e,t){var n=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(e){var t=n.dragging;n.initialHit=null,n.movingHit=null,n.finalHit=null,n.prepareHits(),n.processFirstCoord(e),n.initialHit||!n.requireInitial?(t.setIgnoreMove(!1),n.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=function(e){n.emitter.trigger("dragstart",e),n.handleMove(e,!0)},this.handleDragMove=function(e){n.emitter.trigger("dragmove",e),n.handleMove(e)},this.handlePointerUp=function(e){n.releaseHits(),n.emitter.trigger("pointerup",e)},this.handleDragEnd=function(e){n.movingHit&&n.emitter.trigger("hitupdate",null,!0,e),n.finalHit=n.movingHit,n.movingHit=null,n.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new co}return e.prototype.processFirstCoord=function(e){var t,n={left:e.pageX,top:e.pageY},r=n,o=e.subjectEl;o instanceof HTMLElement&&(r=jr(r,t=so(o)));var i=this.initialHit=this.queryHitForOffset(r.left,r.top);if(i){if(this.useSubjectCenter&&t){var a=Br(t,i.rect);a&&(r=Gr(a))}this.coordAdjust=qr(r,n)}else this.coordAdjust={left:0,top:0}},e.prototype.handleMove=function(e,t){var n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);!t&&Ms(this.movingHit,n)||(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))},e.prototype.prepareHits=function(){this.offsetTrackers=mt(this.droppableStore,(function(e){return e.component.prepareHits(),new ks(e.el)}))},e.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},e.prototype.queryHitForOffset=function(e,t){var n=this.droppableStore,r=this.offsetTrackers,o=null;for(var i in n){var a=n[i].component,s=r[i];if(s&&s.isWithinClipping(e,t)){var l=s.computeLeft(),u=s.computeTop(),c=e-l,d=t-u,p=s.origRect,f=p.right-p.left,h=p.bottom-p.top;if(c>=0&&c<f&&d>=0&&d<h){var v=a.queryHit(c,d,f,h);v&&Bn(v.dateProfile.activeRange,v.dateSpan.range)&&(!o||v.layer>o.layer)&&(v.componentId=i,v.context=a.context,v.rect.left+=l,v.rect.right+=l,v.rect.top+=u,v.rect.bottom+=u,o=v)}}}return o},e}();function Ms(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&lr(e.dateSpan,t.dateSpan)}function Ps(e,t){for(var n,o,i={},a=0,s=t.pluginHooks.datePointTransforms;a<s.length;a++){var l=s[a];r(i,l(e,t))}return r(i,(n=e,{date:(o=t.dateEnv).toDate(n.range.start),dateStr:o.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay})),i}var Is=function(e){function t(t){var n=e.call(this,t)||this;n.handlePointerDown=function(e){var t=n.dragging,r=e.origEvent.target;t.setIgnoreMove(!n.component.isValidDateDownEl(r))},n.handleDragEnd=function(e){var t=n.component;if(!n.dragging.pointer.wasTouchScroll){var o=n.hitDragging,i=o.initialHit,a=o.finalHit;if(i&&a&&Ms(i,a)){var s=t.context,l=r(r({},Ps(i.dateSpan,s)),{dayEl:i.dayEl,jsEvent:e.origEvent,view:s.viewApi||s.calendarApi.view});s.emitter.trigger("dateClick",l)}}},n.dragging=new Ts(t.el),n.dragging.autoScroller.isEnabled=!1;var o=n.hitDragging=new xs(n.dragging,Xi(t));return o.emitter.on("pointerdown",n.handlePointerDown),o.emitter.on("dragend",n.handleDragEnd),n}return n(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t}(Yi),Ns=function(e){function t(t){var n=e.call(this,t)||this;n.dragSelection=null,n.handlePointerDown=function(e){var t=n,r=t.component,o=t.dragging,i=r.context.options.selectable&&r.isValidDateDownEl(e.origEvent.target);o.setIgnoreMove(!i),o.delay=e.isTouch?function(e){var t=e.context.options,n=t.selectLongPressDelay;null==n&&(n=t.longPressDelay);return n}(r):null},n.handleDragStart=function(e){n.component.context.calendarApi.unselect(e)},n.handleHitUpdate=function(e,t){var o=n.component.context,i=null,a=!1;if(e){var s=n.hitDragging.initialHit;e.componentId===s.componentId&&n.isHitComboAllowed&&!n.isHitComboAllowed(s,e)||(i=function(e,t,n){var o=e.dateSpan,i=t.dateSpan,a=[o.range.start,o.range.end,i.range.start,i.range.end];a.sort(qe);for(var s={},l=0,u=n;l<u.length;l++){var c=(0,u[l])(e,t);if(!1===c)return null;c&&r(s,c)}return s.range={start:a[0],end:a[3]},s.allDay=o.allDay,s}(s,e,o.pluginHooks.dateSelectionTransformers)),i&&wa(i,e.dateProfile,o)||(a=!0,i=null)}i?o.dispatch({type:"SELECT_DATES",selection:i}):t||o.dispatch({type:"UNSELECT_DATES"}),a?Oe():Ae(),t||(n.dragSelection=i)},n.handlePointerUp=function(e){n.dragSelection&&(pr(n.dragSelection,e,n.component.context),n.dragSelection=null)};var o=t.component.context.options,i=n.dragging=new Ts(t.el);i.touchScrollAllowed=!1,i.minDistance=o.selectMinDistance||0,i.autoScroller.isEnabled=o.dragScroll;var a=n.hitDragging=new xs(n.dragging,Xi(t));return a.emitter.on("pointerdown",n.handlePointerDown),a.emitter.on("dragstart",n.handleDragStart),a.emitter.on("hitupdate",n.handleHitUpdate),a.emitter.on("pointerup",n.handlePointerUp),n}return n(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t}(Yi);var Hs=function(e){function t(n){var o=e.call(this,n)||this;o.subjectEl=null,o.subjectSeg=null,o.isDragging=!1,o.eventRange=null,o.relevantEvents=null,o.receivingContext=null,o.validMutation=null,o.mutatedRelevantEvents=null,o.handlePointerDown=function(e){var t=e.origEvent.target,n=o,r=n.component,i=n.dragging,a=i.mirror,s=r.context.options,l=r.context;o.subjectEl=e.subjectEl;var u=o.subjectSeg=Zn(e.subjectEl),c=(o.eventRange=u.eventRange).instance.instanceId;o.relevantEvents=mn(l.getCurrentData().eventStore,c),i.minDistance=e.isTouch?0:s.eventDragMinDistance,i.delay=e.isTouch&&c!==r.props.eventSelection?function(e){var t=e.context.options,n=t.eventLongPressDelay;null==n&&(n=t.longPressDelay);return n}(r):null,s.fixedMirrorParent?a.parentNode=s.fixedMirrorParent:a.parentNode=Se(t,".fc"),a.revertDuration=s.dragRevertDuration;var d=r.isValidSegDownEl(t)&&!Se(t,".fc-event-resizer");i.setIgnoreMove(!d),o.isDragging=d&&e.subjectEl.classList.contains("fc-event-draggable")},o.handleDragStart=function(e){var t=o.component.context,n=o.eventRange,r=n.instance.instanceId;e.isTouch?r!==o.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:r}):t.dispatch({type:"UNSELECT_EVENT"}),o.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:o.subjectEl,event:new wr(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi}))},o.handleHitUpdate=function(e,t){if(o.isDragging){var n=o.relevantEvents,r=o.hitDragging.initialHit,i=o.component.context,a=null,s=null,l=null,u=!1,c={affectedEvents:n,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(e){var d=(a=e.context).options;i===a||d.editable&&d.droppable?(s=function(e,t,n){var r=e.dateSpan,o=t.dateSpan,i=r.range.start,a=o.range.start,s={};r.allDay!==o.allDay&&(s.allDay=o.allDay,s.hasEnd=t.context.options.allDayMaintainDuration,o.allDay&&(i=ot(i)));var l=Un(i,a,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);l.milliseconds&&(s.allDay=!1);for(var u={datesDelta:l,standardProps:s},c=0,d=n;c<d.length;c++){(0,d[c])(u,e,t)}return u}(r,e,a.getCurrentData().pluginHooks.eventDragMutationMassagers))&&(l=vr(n,a.getCurrentData().eventUiBases,s,a),c.mutatedEvents=l,Ca(c,e.dateProfile,a)||(u=!0,s=null,l=null,c.mutatedEvents={defs:{},instances:{}})):a=null}o.displayDrag(a,c),u?Oe():Ae(),t||(i===a&&Ms(r,e)&&(s=null),o.dragging.setMirrorNeedsRevert(!s),o.dragging.setMirrorIsVisible(!e||!Te(o.subjectEl).querySelector(".fc-event-mirror")),o.receivingContext=a,o.validMutation=s,o.mutatedRelevantEvents=l)}},o.handlePointerUp=function(){o.isDragging||o.cleanup()},o.handleDragEnd=function(e){if(o.isDragging){var t=o.component.context,n=t.viewApi,i=o,a=i.receivingContext,s=i.validMutation,l=o.eventRange.def,u=o.eventRange.instance,c=new wr(t,l,u),d=o.relevantEvents,p=o.mutatedRelevantEvents,f=o.hitDragging.finalHit;if(o.clearDrag(),t.emitter.trigger("eventDragStop",{el:o.subjectEl,event:c,jsEvent:e.origEvent,view:n}),s){if(a===t){var h=new wr(t,p.defs[l.defId],u?p.instances[u.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:p});for(var v={oldEvent:c,event:h,relatedEvents:_r(p,t,u),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:d})}},g={},m=0,y=t.getCurrentData().pluginHooks.eventDropTransformers;m<y.length;m++){var E=y[m];r(g,E(s,t))}t.emitter.trigger("eventDrop",r(r(r({},v),g),{el:e.subjectEl,delta:s.datesDelta,jsEvent:e.origEvent,view:n})),t.emitter.trigger("eventChange",v)}else if(a){var S={event:c,relatedEvents:_r(d,t,u),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:d})}};t.emitter.trigger("eventLeave",r(r({},S),{draggedEl:e.subjectEl,view:n})),t.dispatch({type:"REMOVE_EVENTS",eventStore:d}),t.emitter.trigger("eventRemove",S);var D=p.defs[l.defId],b=p.instances[u.instanceId],C=new wr(a,D,b);a.dispatch({type:"MERGE_EVENTS",eventStore:p});var w={event:C,relatedEvents:_r(p,a,b),revert:function(){a.dispatch({type:"REMOVE_EVENTS",eventStore:p})}};a.emitter.trigger("eventAdd",w),e.isTouch&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:u.instanceId}),a.emitter.trigger("drop",r(r({},Ps(f.dateSpan,a)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:f.context.viewApi})),a.emitter.trigger("eventReceive",r(r({},w),{draggedEl:e.subjectEl,view:f.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}o.cleanup()};var i=o.component.context.options,a=o.dragging=new Ts(n.el);a.pointer.selector=t.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=i.dragScroll;var s=o.hitDragging=new xs(o.dragging,Ki);return s.useSubjectCenter=n.useEventCenter,s.emitter.on("pointerdown",o.handlePointerDown),s.emitter.on("dragstart",o.handleDragStart),s.emitter.on("hitupdate",o.handleHitUpdate),s.emitter.on("pointerup",o.handlePointerUp),s.emitter.on("dragend",o.handleDragEnd),o}return n(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.displayDrag=function(e,t){var n=this.component.context,r=this.receivingContext;r&&r!==e&&(r===n?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},t.prototype.clearDrag=function(){var e=this.component.context,t=this.receivingContext;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})},t.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},t.SELECTOR=".fc-event-draggable, .fc-event-resizable",t}(Yi);var Os=function(e){function t(t){var n=e.call(this,t)||this;n.draggingSegEl=null,n.draggingSeg=null,n.eventRange=null,n.relevantEvents=null,n.validMutation=null,n.mutatedRelevantEvents=null,n.handlePointerDown=function(e){var t=n.component,r=Zn(n.querySegEl(e)),o=n.eventRange=r.eventRange;n.dragging.minDistance=t.context.options.eventDragMinDistance,n.dragging.setIgnoreMove(!n.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&n.component.props.eventSelection!==o.instance.instanceId)},n.handleDragStart=function(e){var t=n.component.context,r=n.eventRange;n.relevantEvents=mn(t.getCurrentData().eventStore,n.eventRange.instance.instanceId);var o=n.querySegEl(e);n.draggingSegEl=o,n.draggingSeg=Zn(o),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:o,event:new wr(t,r.def,r.instance),jsEvent:e.origEvent,view:t.viewApi})},n.handleHitUpdate=function(e,t,r){var o=n.component.context,i=n.relevantEvents,a=n.hitDragging.initialHit,s=n.eventRange.instance,l=null,u=null,c=!1,d={affectedEvents:i,mutatedEvents:{defs:{},instances:{}},isEvent:!0};e&&(e.componentId===a.componentId&&n.isHitComboAllowed&&!n.isHitComboAllowed(a,e)||(l=function(e,t,n,r){var o=e.context.dateEnv,i=e.dateSpan.range.start,a=t.dateSpan.range.start,s=Un(i,a,o,e.largeUnit);if(n){if(o.add(r.start,s)<r.end)return{startDelta:s}}else if(o.add(r.end,s)>r.start)return{endDelta:s};return null}(a,e,r.subjectEl.classList.contains("fc-event-resizer-start"),s.range)));l&&(u=vr(i,o.getCurrentData().eventUiBases,l,o),d.mutatedEvents=u,Ca(d,e.dateProfile,o)||(c=!0,l=null,u=null,d.mutatedEvents=null)),u?o.dispatch({type:"SET_EVENT_RESIZE",state:d}):o.dispatch({type:"UNSET_EVENT_RESIZE"}),c?Oe():Ae(),t||(l&&Ms(a,e)&&(l=null),n.validMutation=l,n.mutatedRelevantEvents=u)},n.handleDragEnd=function(e){var t=n.component.context,o=n.eventRange.def,i=n.eventRange.instance,a=new wr(t,o,i),s=n.relevantEvents,l=n.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:n.draggingSegEl,event:a,jsEvent:e.origEvent,view:t.viewApi}),n.validMutation){var u=new wr(t,l.defs[o.defId],i?l.instances[i.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:l});var c={oldEvent:a,event:u,relatedEvents:_r(l,t,i),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:s})}};t.emitter.trigger("eventResize",r(r({},c),{el:n.draggingSegEl,startDelta:n.validMutation.startDelta||xt(0),endDelta:n.validMutation.endDelta||xt(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",c)}else t.emitter.trigger("_noEventResize");n.draggingSeg=null,n.relevantEvents=null,n.validMutation=null};var o=t.component,i=n.dragging=new Ts(t.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=o.context.options.dragScroll;var a=n.hitDragging=new xs(n.dragging,Xi(t));return a.emitter.on("pointerdown",n.handlePointerDown),a.emitter.on("dragstart",n.handleDragStart),a.emitter.on("hitupdate",n.handleHitUpdate),a.emitter.on("dragend",n.handleDragEnd),n}return n(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.querySegEl=function(e){return Se(e.subjectEl,".fc-event")},t}(Yi);var As=function(){function e(e){var t=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(e){e.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(e){var n=t.context.options.unselectCancel,r=_e(e.origEvent);t.matchesCancel=!!Se(r,n),t.matchesEvent=!!Se(r,Hs.SELECTOR)},this.onDocumentPointerUp=function(e){var n=t.context,r=t.documentPointer,o=n.getCurrentData();if(!r.wasTouchScroll){if(o.dateSelection&&!t.isRecentPointerDateSelect){var i=n.options.unselectAuto;!i||i&&t.matchesCancel||n.calendarApi.unselect(e)}o.eventSelection&&!t.matchesEvent&&n.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var n=this.documentPointer=new Es(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return e.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},e}(),Us={fixedMirrorParent:hn},Ls={dateClick:hn,eventDragStart:hn,eventDragStop:hn,eventDrop:hn,eventResizeStart:hn,eventResizeStop:hn,eventResize:hn,drop:hn,eventReceive:hn,eventLeave:hn},Ws=function(){function e(e,t){var n=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(e){n.dragMeta=n.buildDragMeta(e.subjectEl)},this.handleHitUpdate=function(e,t,o){var i=n.hitDragging.dragging,a=null,s=null,l=!1,u={affectedEvents:{defs:{},instances:{}},mutatedEvents:{defs:{},instances:{}},isEvent:n.dragMeta.create};e&&(a=e.context,n.canDropElOnCalendar(o.subjectEl,a)&&(s=function(e,t,n){for(var o=r({},t.leftoverProps),i=0,a=n.pluginHooks.externalDefTransforms;i<a.length;i++){var s=a[i];r(o,s(e,t))}var l=Pn(o,n),u=l.refined,c=l.extra,d=Nn(u,c,t.sourceId,e.allDay,n.options.forceEventDuration||Boolean(t.duration),n),p=e.range.start;e.allDay&&t.startTime&&(p=n.dateEnv.add(p,t.startTime));var f=t.duration?n.dateEnv.add(p,t.duration):hr(e.allDay,p,n),h=ft(d.defId,{start:p,end:f});return{def:d,instance:h}}(e.dateSpan,n.dragMeta,a),u.mutatedEvents=gn(s),(l=!Ca(u,e.dateProfile,a))&&(u.mutatedEvents={defs:{},instances:{}},s=null))),n.displayDrag(a,u),i.setMirrorIsVisible(t||!s||!document.querySelector(".fc-event-mirror")),l?Oe():Ae(),t||(i.setMirrorNeedsRevert(!s),n.receivingContext=a,n.droppableEvent=s)},this.handleDragEnd=function(e){var t=n,o=t.receivingContext,i=t.droppableEvent;if(n.clearDrag(),o&&i){var a=n.hitDragging.finalHit,s=a.context.viewApi,l=n.dragMeta;if(o.emitter.trigger("drop",r(r({},Ps(a.dateSpan,o)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:s})),l.create){var u=gn(i);o.dispatch({type:"MERGE_EVENTS",eventStore:u}),e.isTouch&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:i.instance.instanceId}),o.emitter.trigger("eventReceive",{event:new wr(o,i.def,i.instance),relatedEvents:[],revert:function(){o.dispatch({type:"REMOVE_EVENTS",eventStore:u})},draggedEl:e.subjectEl,view:s})}}n.receivingContext=null,n.droppableEvent=null};var o=this.hitDragging=new xs(e,Ki);o.requireInitial=!1,o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}return e.prototype.buildDragMeta=function(e){return"object"==typeof this.suppliedDragMeta?ea(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?ea(this.suppliedDragMeta(e)):ea((t=function(e,t){var n=Ji.dataAttrPrefix,r=(n?n+"-":"")+t;return e.getAttribute("data-"+r)||""}(e,"event"))?JSON.parse(t):{create:!1});var t},e.prototype.displayDrag=function(e,t){var n=this.receivingContext;n&&n!==e&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},e.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.canDropElOnCalendar=function(e,t){var n=t.options.dropAccept;return"function"==typeof n?n.call(t.calendarApi,e):"string"!=typeof n||!n||Boolean(De(e,n))},e}();Ji.dataAttrPrefix="";var Vs=function(){function e(e,t){var n=this;void 0===t&&(t={}),this.handlePointerDown=function(e){var t=n.dragging,r=n.settings,o=r.minDistance,i=r.longPressDelay;t.minDistance=null!=o?o:e.isTouch?0:an.eventDragMinDistance,t.delay=e.isTouch?null!=i?i:an.longPressDelay:0},this.handleDragStart=function(e){e.isTouch&&n.dragging.delay&&e.subjectEl.classList.contains("fc-event")&&n.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=t;var r=this.dragging=new Ts(e);r.touchScrollAllowed=!1,null!=t.itemSelector&&(r.pointer.selector=t.itemSelector),null!=t.appendTo&&(r.mirror.parentNode=t.appendTo),r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),new Ws(r,t.eventData)}return e.prototype.destroy=function(){this.dragging.destroy()},e}(),Fs=function(e){function t(t){var n=e.call(this,t)||this;n.shouldIgnoreMove=!1,n.mirrorSelector="",n.currentMirrorEl=null,n.handlePointerDown=function(e){n.emitter.trigger("pointerdown",e),n.shouldIgnoreMove||n.emitter.trigger("dragstart",e)},n.handlePointerMove=function(e){n.shouldIgnoreMove||n.emitter.trigger("dragmove",e)},n.handlePointerUp=function(e){n.emitter.trigger("pointerup",e),n.shouldIgnoreMove||n.emitter.trigger("dragend",e)};var r=n.pointer=new Es(t);return r.emitter.on("pointerdown",n.handlePointerDown),r.emitter.on("pointermove",n.handlePointerMove),r.emitter.on("pointerup",n.handlePointerUp),n}return n(t,e),t.prototype.destroy=function(){this.pointer.destroy()},t.prototype.setIgnoreMove=function(e){this.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){if(e)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var t=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;t&&(this.currentMirrorEl=t,t.style.visibility="hidden")}},t}($i),zs=function(){function e(e,t){var n=document;e===document||e instanceof Element?(n=e,t=t||{}):t=e||{};var r=this.dragging=new Fs(n);"string"==typeof t.itemSelector?r.pointer.selector=t.itemSelector:n===document&&(r.pointer.selector="[data-event]"),"string"==typeof t.mirrorSelector&&(r.mirrorSelector=t.mirrorSelector),new Ws(r,t.eventData)}return e.prototype.destroy=function(){this.dragging.destroy()},e}(),Bs=Oo({componentInteractions:[Is,Ns,Hs,Os],calendarInteractions:[As],elementDraggingImpl:Ts,optionRefiners:Us,listenerRefiners:Ls}),js=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.headerElRef=So(),t}return n(t,e),t.prototype.renderSimpleLayout=function(e,t){var n=this.props,r=this.context,o=[],i=Ga(r.options);return e&&o.push({type:"header",key:"header",isSticky:i,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),yo(Yo,{viewSpec:r.viewSpec},(function(e,t){return yo("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},yo(Ya,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:o}))}))},t.prototype.renderHScrollLayout=function(e,t,n,r){var o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");var i=this.props,a=this.context,s=!i.forPrint&&Ga(a.options),l=!i.forPrint&&qa(a.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:s,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),l&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:ja}]}),yo(Yo,{viewSpec:a.viewSpec},(function(e,t){return yo("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},yo(o,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:u}))}))},t}(Ho);function Gs(e,t){for(var n=[],r=0;r<t;r+=1)n[r]=[];for(var o=0,i=e;o<i.length;o++){var a=i[o];n[a.row].push(a)}return n}function qs(e,t){for(var n=[],r=0;r<t;r+=1)n[r]=[];for(var o=0,i=e;o<i.length;o++){var a=i[o];n[a.firstCol].push(a)}return n}function Ys(e,t){var n=[];if(e){for(a=0;a<t;a+=1)n[a]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var r=0,o=e.segs;r<o.length;r++){var i=o[r];n[i.row].segs.push(i)}}else for(var a=0;a<t;a+=1)n[a]=null;return n}var Zs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context.options.navLinks?{"data-navlink":Qr(e.date),tabIndex:0}:{};return yo(Qa,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraHookProps:e.extraHookProps,defaultContent:Xs},(function(n,o){return(o||e.forceDayTop)&&yo("div",{className:"fc-daygrid-day-top",ref:n},yo("a",r({className:"fc-daygrid-day-number"},t),o||yo(Do,null," ")))}))},t}(Mo);function Xs(e){return e.dayNumberText}var Ks=rn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function $s(e){var t=e.eventRange.ui.display;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}var Js=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props;return yo(Xa,r({},e,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Ks,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))},t}(Mo),Qs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options.eventTimeFormat||Ks,o=nr(e.seg,n,t,!0,e.defaultDisplayEventEnd);return yo(Za,{seg:e.seg,timeText:o,defaultContent:el,isDragging:e.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:e.isSelected,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(t,n,o,i){return yo("a",r({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(n).join(" "),ref:t},(a=e.seg,(s=a.eventRange.def.url)?{href:s}:{})),i);var a,s}))},t}(Mo);function el(e){return yo(Do,null,yo("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&yo("div",{className:"fc-event-time"},e.timeText),yo("div",{className:"fc-event-title"},e.event.title||yo(Do,null," ")))}var tl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.compileSegs=zt(nl),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.compileSegs(e.singlePlacements),n=t.allSegs,o=t.invisibleSegs;return yo(us,{dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:o,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:function(){var t=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return yo(Do,null,n.map((function(n){var o=n.eventRange.instance.instanceId;return yo("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:t[o]?"hidden":""}},$s(n)?yo(Qs,r({seg:n,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},rr(n,e.todayRange))):yo(Js,r({seg:n,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},rr(n,e.todayRange))))})))}},(function(e,t,n,r,o){return yo("a",{ref:e,className:["fc-daygrid-more-link"].concat(t).join(" "),onClick:o},r)}))},t}(Mo);function nl(e){for(var t=[],n=[],r=0,o=e;r<o.length;r++){var i=o[r];t.push(i.seg),i.isVisible||n.push(i.seg)}return{allSegs:t,invisibleSegs:n}}var rl=rn({week:"narrow"}),ol=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=So(),t.handleRootEl=function(e){No(t.rootElRef,e),No(t.props.elRef,e)},t}return n(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.context,o=e.rootElRef,i=n.options,a=t.date,s=t.dateProfile,l=i.navLinks?{"data-navlink":Qr(a,"week"),tabIndex:0}:{};return yo(ts,{date:a,dateProfile:s,todayRange:t.todayRange,showDayNumber:t.showDayNumber,extraHookProps:t.extraHookProps,elRef:this.handleRootEl},(function(e,n,i,u){return yo("td",r({ref:e,className:["fc-daygrid-day"].concat(n,t.extraClassNames||[]).join(" ")},i,t.extraDataAttrs),yo("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:t.innerElRef},t.showWeekNumber&&yo(is,{date:a,defaultFormat:rl},(function(e,t,n,o){return yo("a",r({ref:e,className:["fc-daygrid-week-number"].concat(t).join(" ")},l),o)})),!u&&yo(Zs,{date:a,dateProfile:s,showDayNumber:t.showDayNumber,forceDayTop:t.forceDayTop,todayRange:t.todayRange,extraHookProps:t.extraHookProps}),yo("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,yo("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},yo(tl,{allDayDate:a,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:o,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),yo("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}))},t}(Ho);function il(e,t,n,r,o,i,a){var s=new sl;s.allowReslicing=!0,s.strictOrder=r,!0===t||!0===n?(s.maxCoord=i,s.hiddenConsumes=!0):"number"==typeof t?s.maxStackCnt=t:"number"==typeof n&&(s.maxStackCnt=n,s.hiddenConsumes=!0);for(var l=[],u=[],c=0;c<e.length;c+=1){var d=o[(R=e[c]).eventRange.instance.instanceId];null!=d?l.push({index:c,thickness:d,span:{start:R.firstCol,end:R.lastCol+1}}):u.push(R)}for(var p=s.addSegs(l),f=function(e,t,n){for(var r=function(e,t){for(var n=[],r=0;r<t;r+=1)n.push([]);for(var o=0,i=e;o<i.length;o++){var a=i[o];for(r=a.span.start;r<a.span.end;r+=1)n[r].push(a)}return n}(e,n.length),o=[],i=[],a=[],s=0;s<n.length;s+=1){for(var l=r[s],u=[],c=0,d=0,p=0,f=l;p<f.length;p++){var h=t[(y=f[p]).index];u.push({seg:al(h,s,s+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:y.levelCoord,marginTop:y.levelCoord-c}),c=y.levelCoord+y.thickness}var v=[];c=0,d=0;for(var g=0,m=l;g<m.length;g++){h=t[(y=m[g]).index];var y,E=y.span.end-y.span.start>1,S=y.span.start===s;d+=y.levelCoord-c,c=y.levelCoord+y.thickness,E?(d+=y.thickness,S&&v.push({seg:al(h,y.span.start,y.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:y.levelCoord,marginTop:0})):S&&(v.push({seg:al(h,y.span.start,y.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:y.levelCoord,marginTop:d}),d=0)}o.push(u),i.push(v),a.push(d)}return{singleColPlacements:o,multiColPlacements:i,leftoverMargins:a}}(s.toRects(),e,a),h=f.singleColPlacements,v=f.multiColPlacements,g=f.leftoverMargins,m=[],y=[],E=0,S=u;E<S.length;E++){v[(R=S[E]).firstCol].push({seg:R,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var D=R.firstCol;D<=R.lastCol;D+=1)h[D].push({seg:al(R,D,D+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(D=0;D<a.length;D+=1)m.push(0);for(var b=0,C=p;b<C.length;b++){var w=C[b],R=e[w.index],_=w.span;v[_.start].push({seg:al(R,_.start,_.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(D=_.start;D<_.end;D+=1)m[D]+=1,h[D].push({seg:al(R,D,D+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(D=0;D<a.length;D+=1)y.push(g[D]);return{singleColPlacements:h,multiColPlacements:v,moreCnts:m,moreMarginTops:y}}function al(e,t,n,o){if(e.firstCol===t&&e.lastCol===n-1)return e;var i=e.eventRange,a=i.range,s=Vn(a,{start:o[t].date,end:$e(o[n-1].date,1)});return r(r({},e),{firstCol:t,lastCol:n-1,eventRange:{def:i.def,ui:r(r({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:e.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:e.isEnd&&s.end.valueOf()===a.end.valueOf()})}var sl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return n(t,e),t.prototype.addSegs=function(t){for(var n=this,r=e.prototype.addSegs.call(this,t),o=this.entriesByLevel,i=function(e){return!n.forceHidden[Fi(e)]},a=0;a<o.length;a+=1)o[a]=o[a].filter(i);return r},t.prototype.handleInvalidInsertion=function(t,n,o){var i=this.entriesByLevel,a=this.forceHidden,s=t.touchingEntry,l=t.touchingLevel,u=t.touchingLateral;if(this.hiddenConsumes&&s){var c=Fi(s);if(!a[c])if(this.allowReslicing){var d=r(r({},s),{span:ji(s.span,n.span)});a[Fi(d)]=!0,i[l][u]=d,this.splitEntry(s,n,o)}else a[c]=!0,o.push(s)}return e.prototype.handleInvalidInsertion.call(this,t,n,o)},t}(Wi),ll=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellElRefs=new Na,t.frameElRefs=new Na,t.fgElRefs=new Na,t.segHarnessRefs=new Na,t.rootElRef=So(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return n(t,e),t.prototype.render=function(){var e=this,t=this,n=t.props,r=t.state,o=t.context.options,i=n.cells.length,a=qs(n.businessHourSegs,i),s=qs(n.bgEventSegs,i),l=qs(this.getHighlightSegs(),i),u=qs(this.getMirrorSegs(),i),c=il($n(n.fgEventSegs,o.eventOrder),n.dayMaxEvents,n.dayMaxEventRows,o.eventOrderStrict,r.eventInstanceHeights,r.maxContentHeight,n.cells),d=c.singleColPlacements,p=c.multiColPlacements,f=c.moreCnts,h=c.moreMarginTops,v=n.eventDrag&&n.eventDrag.affectedInstances||n.eventResize&&n.eventResize.affectedInstances||{};return yo("tr",{ref:this.rootElRef},n.renderIntro&&n.renderIntro(),n.cells.map((function(t,r){var o=e.renderFgSegs(r,n.forPrint?d[r]:p[r],n.todayRange,v),i=e.renderFgSegs(r,function(e,t){if(!e.length)return[];var n=function(e){for(var t={},n=0,r=e;n<r.length;n++)for(var o=0,i=r[n];o<i.length;o++){var a=i[o];t[a.seg.eventRange.instance.instanceId]=a.absoluteTop}return t}(t);return e.map((function(e){return{seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0}}))}(u[r],p),n.todayRange,{},Boolean(n.eventDrag),Boolean(n.eventResize),!1);return yo(ol,{key:t.key,elRef:e.cellElRefs.createRef(t.key),innerElRef:e.frameElRefs.createRef(t.key),dateProfile:n.dateProfile,date:t.date,showDayNumber:n.showDayNumbers,showWeekNumber:n.showWeekNumbers&&0===r,forceDayTop:n.showWeekNumbers,todayRange:n.todayRange,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,extraHookProps:t.extraHookProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:f[r],moreMarginTop:h[r],singlePlacements:d[r],fgContentElRef:e.fgElRefs.createRef(t.key),fgContent:yo(Do,null,yo(Do,null,o),yo(Do,null,i)),bgContent:yo(Do,null,e.renderFillSegs(l[r],"highlight"),e.renderFillSegs(a[r],"non-business"),e.renderFillSegs(s[r],"bg-event"))})})))},t.prototype.componentDidMount=function(){this.updateSizing(!0)},t.prototype.componentDidUpdate=function(e,t){var n=this.props;this.updateSizing(!St(e,n))},t.prototype.getHighlightSegs=function(){var e=this.props;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs},t.prototype.getMirrorSegs=function(){var e=this.props;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]},t.prototype.renderFgSegs=function(e,t,n,o,i,a,s){var l=this.context,u=this.props.eventSelection,c=this.state.framePositions,d=1===this.props.cells.length,p=i||a||s,f=[];if(c)for(var h=0,v=t;h<v.length;h++){var g=v[h],m=g.seg,y=m.eventRange.instance.instanceId,E=y+":"+e,S=g.isVisible&&!o[y],D=g.isAbsolute,b="",C="";D&&(l.isRtl?(C=0,b=c.lefts[m.lastCol]-c.lefts[m.firstCol]):(b=0,C=c.rights[m.firstCol]-c.rights[m.lastCol])),f.push(yo("div",{className:"fc-daygrid-event-harness"+(D?" fc-daygrid-event-harness-abs":""),key:E,ref:p?null:this.segHarnessRefs.createRef(E),style:{visibility:S?"":"hidden",marginTop:D?"":g.marginTop,top:D?g.absoluteTop:"",left:b,right:C}},$s(m)?yo(Qs,r({seg:m,isDragging:i,isSelected:y===u,defaultDisplayEventEnd:d},rr(m,n))):yo(Js,r({seg:m,isDragging:i,isResizing:a,isDateSelecting:s,isSelected:y===u,defaultDisplayEventEnd:d},rr(m,n)))))}return f},t.prototype.renderFillSegs=function(e,t){var n=this.context.isRtl,i=this.props.todayRange,a=this.state.framePositions,s=[];if(a)for(var l=0,u=e;l<u.length;l++){var c=u[l],d=n?{right:0,left:a.lefts[c.lastCol]-a.lefts[c.firstCol]}:{left:0,right:a.rights[c.firstCol]-a.rights[c.lastCol]};s.push(yo("div",{key:ir(c.eventRange),className:"fc-daygrid-bg-harness",style:d},"bg-event"===t?yo(rs,r({seg:c},rr(c,i))):ns(t)))}return yo.apply(void 0,o([Do,{}],s))},t.prototype.updateSizing=function(e){var t=this.props,n=this.frameElRefs;if(!t.forPrint&&null!==t.clientWidth){if(e){var r=t.cells.map((function(e){return n.currentMap[e.key]}));if(r.length){var o=this.rootElRef.current;this.setState({framePositions:new po(o,r,!0,!1)})}}var i=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.setState({eventInstanceHeights:this.queryEventInstanceHeights(),maxContentHeight:i?this.computeMaxContentHeight():null})}},t.prototype.queryEventInstanceHeights=function(){var e=this.segHarnessRefs.currentMap,t={};for(var n in e){var r=Math.round(e[n].getBoundingClientRect().height),o=n.split(":")[0];t[o]=Math.max(t[o]||0,r)}return t},t.prototype.computeMaxContentHeight=function(){var e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top},t.prototype.getCellEls=function(){var e=this.cellElRefs.currentMap;return this.props.cells.map((function(t){return e[t.key]}))},t}(Ho);ll.addStateEquality({eventInstanceHeights:St});var ul=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitBusinessHourSegs=zt(Gs),t.splitBgEventSegs=zt(Gs),t.splitFgEventSegs=zt(Gs),t.splitDateSelectionSegs=zt(Gs),t.splitEventDrag=zt(Ys),t.splitEventResize=zt(Ys),t.rowRefs=new Na,t.handleRootEl=function(e){t.rootEl=e,e?t.context.registerInteractiveComponent(t,{el:e,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.dateProfile,r=t.dayMaxEventRows,o=t.dayMaxEvents,i=t.expandRows,a=t.cells.length,s=this.splitBusinessHourSegs(t.businessHourSegs,a),l=this.splitBgEventSegs(t.bgEventSegs,a),u=this.splitFgEventSegs(t.fgEventSegs,a),c=this.splitDateSelectionSegs(t.dateSelectionSegs,a),d=this.splitEventDrag(t.eventDrag,a),p=this.splitEventResize(t.eventResize,a),f=!0===o||!0===r;return f&&!i&&(f=!1,r=null,o=null),yo("div",{className:["fc-daygrid-body",f?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},yo(va,{unit:"day"},(function(f,h){return yo(Do,null,yo("table",{className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:i?t.clientHeight:""}},t.colGroupNode,yo("tbody",null,t.cells.map((function(i,f){return yo(ll,{ref:e.rowRefs.createRef(f),key:i.length?i[0].date.toISOString():f,showDayNumbers:a>1,showWeekNumbers:t.showWeekNumbers,todayRange:h,dateProfile:n,cells:i,renderIntro:t.renderRowIntro,businessHourSegs:s[f],eventSelection:t.eventSelection,bgEventSegs:l[f].filter(cl),fgEventSegs:u[f],dateSelectionSegs:c[f],eventDrag:d[f],eventResize:p[f],dayMaxEvents:o,dayMaxEventRows:r,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint})})))))})))},t.prototype.prepareHits=function(){this.rowPositions=new po(this.rootEl,this.rowRefs.collect().map((function(e){return e.getCellEls()[0]})),!1,!0),this.colPositions=new po(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},t.prototype.queryHit=function(e,t){var n=this.colPositions,o=this.rowPositions,i=n.leftToIndex(e),a=o.topToIndex(t);if(null!=a&&null!=i){var s=this.props.cells[a][i];return{dateProfile:this.props.dateProfile,dateSpan:r({range:this.getCellRange(a,i),allDay:!0},s.extraDateSpan),dayEl:this.getCellEl(a,i),rect:{left:n.lefts[i],right:n.rights[i],top:o.tops[a],bottom:o.bottoms[a]},layer:0}}return null},t.prototype.getCellEl=function(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]},t.prototype.getCellRange=function(e,t){var n=this.props.cells[e][t].date;return{start:n,end:$e(n,1)}},t}(Ho);function cl(e){return e.eventRange.def.allDay}var dl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return n(t,e),t.prototype.sliceRange=function(e,t){return t.sliceRange(e)},t}(Da),pl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.slicer=new dl,t.tableRef=So(),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context;return yo(ul,r({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))},t}(Ho),fl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayTableModel=zt(hl),t.headerRef=So(),t.tableRef=So(),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,r=t.dateProfileGenerator,o=this.props,i=this.buildDayTableModel(o.dateProfile,r),a=n.dayHeaders&&yo(ma,{ref:this.headerRef,dateProfile:o.dateProfile,dates:i.headerDates,datesRepDistinctDays:1===i.rowCnt}),s=function(t){return yo(pl,{ref:e.tableRef,dateProfile:o.dateProfile,dayTableModel:i,businessHours:o.businessHours,dateSelection:o.dateSelection,eventStore:o.eventStore,eventUiBases:o.eventUiBases,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,nextDayThreshold:n.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,showWeekNumbers:n.weekNumbers,expandRows:!o.isHeightAuto,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:o.forPrint})};return n.dayMinWidth?this.renderHScrollLayout(a,s,i.colCnt,n.dayMinWidth):this.renderSimpleLayout(a,s)},t}(js);function hl(e,t){var n=new Ea(e.renderRange,t);return new Sa(n,/year|month|week/.test(e.currentRangeUnit))}var vl=Oo({initialView:"dayGridMonth",views:{dayGrid:{component:fl,dateProfileGeneratorClass:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.buildRenderRange=function(t,n,r){var o,i=this.props.dateEnv,a=e.prototype.buildRenderRange.call(this,t,n,r),s=a.start,l=a.end;(/^(year|month)$/.test(n)&&(s=i.startOfWeek(s),(o=i.startOfWeek(l)).valueOf()!==l.valueOf()&&(l=Ke(o,1))),this.props.monthMode&&this.props.fixedWeekCount)&&(l=Ke(l,6-Math.ceil(Qe(s,l))));return{start:s,end:l}},t}(Jo)},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}}),gl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},t.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},t.prototype.getKeysForEventDef=function(e){return e.allDay?qn(e)?["timed","allDay"]:["allDay"]:["timed"]},t}(Xr),ml=rn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function yl(e){var t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return yo(To.Consumer,null,(function(n){if(!e.isLabeled)return yo("td",{className:t.join(" "),"data-time":e.isoTimeStr});var r=n.dateEnv,o=n.options,i=n.viewApi,a=null==o.slotLabelFormat?ml:Array.isArray(o.slotLabelFormat)?rn(o.slotLabelFormat[0]):rn(o.slotLabelFormat),s={level:0,time:e.time,date:r.toDate(e.date),view:i,text:r.format(e.date,a)};return yo(Wo,{hookProps:s,classNames:o.slotLabelClassNames,content:o.slotLabelContent,defaultContent:El,didMount:o.slotLabelDidMount,willUnmount:o.slotLabelWillUnmount},(function(n,r,o,i){return yo("td",{ref:n,className:t.concat(r).join(" "),"data-time":e.isoTimeStr},yo("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},yo("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:o},i)))}))}))}function El(e){return e.text}var Sl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return this.props.slatMetas.map((function(e){return yo("tr",{key:e.key},yo(yl,r({},e)))}))},t}(Mo),Dl=rn({week:"short"}),bl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allDaySplitter=new gl,t.headerElRef=So(),t.rootElRef=So(),t.scrollerElRef=So(),t.state={slatCoords:null},t.handleScrollTopRequest=function(e){var n=t.scrollerElRef.current;n&&(n.scrollTop=e)},t.renderHeadAxis=function(e,n){void 0===n&&(n="");var o=t.context.options,i=t.props.dateProfile.renderRange,a=et(i.start,i.end),s=o.navLinks&&1===a?{"data-navlink":Qr(i.start,"week"),tabIndex:0}:{};return o.weekNumbers&&"day"===e?yo(is,{date:i.start,defaultFormat:Dl},(function(e,t,o,i){return yo("th",{ref:e,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(t).join(" ")},yo("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:n}},yo("a",r({ref:o,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},s),i)))})):yo("th",{className:"fc-timegrid-axis"},yo("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},t.renderTableRowAxis=function(e){var n=t.context,r=n.options,o=n.viewApi,i={text:r.allDayText,view:o};return yo(Wo,{hookProps:i,classNames:r.allDayClassNames,content:r.allDayContent,defaultContent:Cl,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},(function(t,n,r,o){return yo("td",{ref:t,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(n).join(" ")},yo("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(null==e?" fc-timegrid-axis-frame-liquid":""),style:{height:e}},yo("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:r},o)))}))},t.handleSlatCoords=function(e){t.setState({slatCoords:e})},t}return n(t,e),t.prototype.renderSimpleLayout=function(e,t,n){var r=this.context,o=this.props,i=[],a=Ga(r.options);return e&&i.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(i.push({type:"body",key:"all-day",chunk:{content:t}}),i.push({type:"body",key:"all-day-divider",outerContent:yo("tr",{className:"fc-scrollgrid-section"},yo("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),i.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(r.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),yo(Yo,{viewSpec:r.viewSpec,elRef:this.rootElRef},(function(e,t){return yo("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},yo(Ya,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[{width:"shrink"}],sections:i}))}))},t.prototype.renderHScrollLayout=function(e,t,n,r,o,i,a){var s=this,l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");var u=this.context,c=this.props,d=!c.forPrint&&Ga(u.options),p=!c.forPrint&&qa(u.options),f=[];e&&f.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return yo("tr",null,s.renderHeadAxis("day",e.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(f.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return yo("tr",null,s.renderTableRowAxis(e.rowSyncHeights[0]))}},{key:"cols",content:t}]}),f.push({key:"all-day-divider",type:"body",outerContent:yo("tr",{className:"fc-scrollgrid-section"},yo("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));var h=u.options.nowIndicator;return f.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(u.options.expandRows),chunks:[{key:"axis",content:function(e){return yo("div",{className:"fc-timegrid-axis-chunk"},yo("table",{style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,yo("tbody",null,yo(Sl,{slatMetas:i}))),yo("div",{className:"fc-timegrid-now-indicator-container"},yo(va,{unit:h?"minute":"day"},(function(e){var t=h&&a&&a.safeComputeTop(e);return"number"==typeof t?yo($a,{isAxis:!0,date:e},(function(e,n,r,o){return yo("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(n).join(" "),style:{top:t}},o)})):null}))))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),p&&f.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:ja},{key:"cols",content:ja}]}),yo(Yo,{viewSpec:u.viewSpec,elRef:this.rootElRef},(function(e,t){return yo("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},yo(l,{liquid:!c.isHeightAuto&&!c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:o}]}],sections:f}))}))},t.prototype.getAllDayMaxEventProps=function(){var e=this.context.options,t=e.dayMaxEvents,n=e.dayMaxEventRows;return!0!==t&&!0!==n||(t=void 0,n=5),{dayMaxEvents:t,dayMaxEventRows:n}},t}(Ho);function Cl(e){return e.text}var wl=function(){function e(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}return e.prototype.safeComputeTop=function(e){var t=this.dateProfile;if(jn(t.currentRange,e)){var n=ot(e),r=e.valueOf()-n.valueOf();if(r>=Ht(t.slotMinTime)&&r<Ht(t.slotMaxTime))return this.computeTimeTop(xt(r))}return null},e.prototype.computeDateTop=function(e,t){return t||(t=ot(e)),this.computeTimeTop(xt(e.valueOf()-t.valueOf()))},e.prototype.computeTimeTop=function(e){var t,n,r=this.positions,o=this.dateProfile,i=r.els.length,a=(e.milliseconds-Ht(o.slotMinTime))/Ht(this.slotDuration);return a=Math.max(0,a),a=Math.min(i,a),t=Math.floor(a),n=a-(t=Math.min(t,i-1)),r.tops[t]+r.getHeight(t)*n},e}(),Rl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,o=e.slatElRefs;return yo("tbody",null,e.slatMetas.map((function(i,a){var s={time:i.time,date:t.dateEnv.toDate(i.date),view:t.viewApi},l=["fc-timegrid-slot","fc-timegrid-slot-lane",i.isLabeled?"":"fc-timegrid-slot-minor"];return yo("tr",{key:i.key,ref:o.createRef(i.key)},e.axis&&yo(yl,r({},i)),yo(Wo,{hookProps:s,classNames:n.slotLaneClassNames,content:n.slotLaneContent,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount},(function(e,t,n,r){return yo("td",{ref:e,className:l.concat(t).join(" "),"data-time":i.isoTimeStr},r)})))})))},t}(Mo),_l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=So(),t.slatElRefs=new Na,t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context;return yo("div",{className:"fc-timegrid-slots",ref:this.rootElRef},yo("table",{className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,yo(Rl,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))},t.prototype.componentDidMount=function(){this.updateSizing()},t.prototype.componentDidUpdate=function(){this.updateSizing()},t.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},t.prototype.updateSizing=function(){var e,t=this.context,n=this.props;n.onCoords&&null!==n.clientWidth&&(this.rootElRef.current.offsetHeight&&n.onCoords(new wl(new po(this.rootElRef.current,(e=this.slatElRefs.currentMap,n.slatMetas.map((function(t){return e[t.key]}))),!1,!0),this.props.dateProfile,t.options.slotDuration)))},t}(Mo);function Tl(e,t){var n,r=[];for(n=0;n<t;n+=1)r.push([]);if(e)for(n=0;n<e.length;n+=1)r[e[n].col].push(e[n]);return r}function kl(e,t){var n=[];if(e){for(a=0;a<t;a+=1)n[a]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var r=0,o=e.segs;r<o.length;r++){var i=o[r];n[i.col].segs.push(i)}}else for(var a=0;a<t;a+=1)n[a]=null;return n}var xl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=So(),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props;return yo(us,{allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:Ml,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:function(){return Fl(t.hiddenSegs,t)}},(function(n,r,o,i,a){return yo("a",{ref:function(t){No(n,t),No(e.rootElRef,t)},className:["fc-timegrid-more-link"].concat(r).join(" "),style:{top:t.top,bottom:t.bottom},onClick:a},yo("div",{ref:o,className:"fc-timegrid-more-link-inner fc-sticky"},i))}))},t}(Mo);function Ml(e){return e.shortText}function Pl(e,t,n){var o=new Wi;null!=t&&(o.strictOrder=t),null!=n&&(o.maxStackCnt=n);var i,a,s,l=zi(o.addSegs(e)),u=function(e){var t=e.entriesByLevel,n=Ol((function(e,t){return e+":"+t}),(function(o,i){var a=Il(function(e,t,n){for(var r=e.levelCoords,o=e.entriesByLevel,i=o[t][n],a=r[t]+i.thickness,s=r.length,l=t;l<s&&r[l]<a;l+=1);for(;l<s;l+=1){for(var u=o[l],c=void 0,d=qi(u,i.span.start,Vi),p=d[0]+d[1],f=p;(c=u[f])&&c.span.start<i.span.end;)f+=1;if(p<f)return{level:l,lateralStart:p,lateralEnd:f}}return null}(e,o,i),n),s=t[o][i];return[r(r({},s),{nextLevelNodes:a[0]}),s.thickness+a[1]]}));return Il(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}(o);return i=u,a=1,s=Ol((function(e,t,n){return Fi(e)}),(function(e,t,n){var o,i=e.nextLevelNodes,l=e.thickness,u=l+n,c=l/u,d=[];if(i.length)for(var p=0,f=i;p<f.length;p++){var h=f[p];if(void 0===o)o=(v=s(h,t,u))[0],d.push(v[1]);else{var v=s(h,o,0);d.push(v[1])}}else o=a;var g=(o-t)*c;return[o-g,r(r({},e),{thickness:g,nextLevelNodes:d})]})),{segRects:function(e){var t=[],n=Ol((function(e,t,n){return Fi(e)}),(function(e,n,i){var a=r(r({},e),{levelCoord:n,stackDepth:i,stackForward:0});return t.push(a),a.stackForward=o(e.nextLevelNodes,n+e.thickness,i+1)+1}));function o(e,t,r){for(var o=0,i=0,a=e;i<a.length;i++){var s=a[i];o=Math.max(n(s,t,r),o)}return o}return o(e,0,0),t}(u=i.map((function(e){return s(e,0,0)[1]}))),hiddenGroups:l}}function Il(e,t){if(!e)return[[],0];for(var n=e.level,r=e.lateralStart,o=e.lateralEnd,i=r,a=[];i<o;)a.push(t(n,i)),i+=1;return a.sort(Nl),[a.map(Hl),a[0][1]]}function Nl(e,t){return t[1]-e[1]}function Hl(e){return e[0]}function Ol(e,t){var n={};return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=e.apply(void 0,r);return i in n?n[i]:n[i]=t.apply(void 0,r)}}function Al(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=0);var o=[];if(n)for(var i=0;i<e.length;i+=1){var a=e[i],s=n.computeDateTop(a.start,t),l=Math.max(s+(r||0),n.computeDateTop(a.end,t));o.push({start:Math.round(s),end:Math.round(l)})}return o}var Ul=rn({hour:"numeric",minute:"2-digit",meridiem:!1}),Ll=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&e.push("fc-timegrid-event-short"),yo(Xa,r({},this.props,{defaultTimeFormat:Ul,extraClassNames:e}))},t}(Mo),Wl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props;return yo(Qa,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps},(function(e,t){return t&&yo("div",{className:"fc-timegrid-col-misc",ref:e},t)}))},t}(Mo),Vl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortEventSegs=zt($n),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context,o=n.options.selectMirror,i=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||o&&t.dateSelectionSegs||[],a=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},s=this.sortEventSegs(t.fgEventSegs,n.options.eventOrder);return yo(ts,{elRef:t.elRef,date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps},(function(n,l,u){return yo("td",r({ref:n,className:["fc-timegrid-col"].concat(l,t.extraClassNames||[]).join(" ")},u,t.extraDataAttrs),yo("div",{className:"fc-timegrid-col-frame"},yo("div",{className:"fc-timegrid-col-bg"},e.renderFillSegs(t.businessHourSegs,"non-business"),e.renderFillSegs(t.bgEventSegs,"bg-event"),e.renderFillSegs(t.dateSelectionSegs,"highlight")),yo("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(s,a,!1,!1,!1)),yo("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(i,{},Boolean(t.eventDrag),Boolean(t.eventResize),Boolean(o))),yo("div",{className:"fc-timegrid-now-indicator-container"},e.renderNowIndicator(t.nowIndicatorSegs)),yo(Wl,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps})))}))},t.prototype.renderFgSegs=function(e,t,n,r,o){var i=this.props;return i.forPrint?Fl(e,i):this.renderPositionedFgSegs(e,t,n,r,o)},t.prototype.renderPositionedFgSegs=function(e,t,n,o,i){var a=this,s=this.context.options,l=s.eventMaxStack,u=s.eventShortHeight,c=s.eventOrderStrict,d=s.eventMinHeight,p=this.props,f=p.date,h=p.slatCoords,v=p.eventSelection,g=p.todayRange,m=p.nowDate,y=n||o||i,E=function(e,t,n,r){for(var o=[],i=[],a=0;a<e.length;a+=1){var s=t[a];s?o.push({index:a,thickness:1,span:s}):i.push(e[a])}for(var l=Pl(o,n,r),u=l.segRects,c=l.hiddenGroups,d=[],p=0,f=u;p<f.length;p++){var h=f[p];d.push({seg:e[h.index],rect:h})}for(var v=0,g=i;v<g.length;v++){var m=g[v];d.push({seg:m,rect:null})}return{segPlacements:d,hiddenGroups:c}}(e,Al(e,f,h,d),c,l),S=E.segPlacements,D=E.hiddenGroups;return yo(Do,null,this.renderHiddenGroups(D,e),S.map((function(e){var s=e.seg,l=e.rect,c=s.eventRange.instance.instanceId,d=y||Boolean(!t[c]&&l),p=zl(l&&l.span),f=!y&&l?a.computeSegHStyle(l):{left:0,right:0},h=Boolean(l)&&l.stackForward>0,E=Boolean(l)&&l.span.end-l.span.start<u;return yo("div",{className:"fc-timegrid-event-harness"+(h?" fc-timegrid-event-harness-inset":""),key:c,style:r(r({visibility:d?"":"hidden"},p),f)},yo(Ll,r({seg:s,isDragging:n,isResizing:o,isDateSelecting:i,isSelected:c===v,isShort:E},rr(s,g,m))))})))},t.prototype.renderHiddenGroups=function(e,t){var n=this.props,r=n.extraDateSpan,o=n.dateProfile,i=n.todayRange,a=n.nowDate,s=n.eventSelection,l=n.eventDrag,u=n.eventResize;return yo(Do,null,e.map((function(e){var n,c,d=zl(e.span),p=(n=e.entries,c=t,n.map((function(e){return c[e.index]})));return yo(xl,{key:Ut(ps(p)),hiddenSegs:p,top:d.top,bottom:d.bottom,extraDateSpan:r,dateProfile:o,todayRange:i,nowDate:a,eventSelection:s,eventDrag:l,eventResize:u})})))},t.prototype.renderFillSegs=function(e,t){var n=this.props,o=this.context,i=Al(e,n.date,n.slatCoords,o.options.eventMinHeight).map((function(o,i){var a=e[i];return yo("div",{key:ir(a.eventRange),className:"fc-timegrid-bg-harness",style:zl(o)},"bg-event"===t?yo(rs,r({seg:a},rr(a,n.todayRange,n.nowDate))):ns(t))}));return yo(Do,null,i)},t.prototype.renderNowIndicator=function(e){var t=this.props,n=t.slatCoords,r=t.date;return n?e.map((function(e,t){return yo($a,{isAxis:!1,date:r,key:t},(function(t,o,i,a){return yo("div",{ref:t,className:["fc-timegrid-now-indicator-line"].concat(o).join(" "),style:{top:n.computeDateTop(e.start,r)}},a)}))})):null},t.prototype.computeSegHStyle=function(e){var t,n,r=this.context,o=r.isRtl,i=r.options.slotEventOverlap,a=e.levelCoord,s=e.levelCoord+e.thickness;i&&(s=Math.min(1,a+2*(s-a))),o?(t=1-s,n=a):(t=a,n=1-s);var l={zIndex:e.stackDepth+1,left:100*t+"%",right:100*n+"%"};return i&&!e.stackForward&&(l[o?"marginLeft":"marginRight"]=20),l},t}(Mo);function Fl(e,t){var n=t.todayRange,o=t.nowDate,i=t.eventSelection,a=t.eventDrag,s=t.eventResize,l=(a?a.affectedInstances:null)||(s?s.affectedInstances:null)||{};return yo(Do,null,e.map((function(e){var t=e.eventRange.instance.instanceId;return yo("div",{key:t,style:{visibility:l[t]?"hidden":""}},yo(Ll,r({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:t===i,isShort:!1},rr(e,n,o))))})))}function zl(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}var Bl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitFgEventSegs=zt(Tl),t.splitBgEventSegs=zt(Tl),t.splitBusinessHourSegs=zt(Tl),t.splitNowIndicatorSegs=zt(Tl),t.splitDateSelectionSegs=zt(Tl),t.splitEventDrag=zt(kl),t.splitEventResize=zt(kl),t.rootElRef=So(),t.cellElRefs=new Na,t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),r=t.cells.length,o=this.splitFgEventSegs(t.fgEventSegs,r),i=this.splitBgEventSegs(t.bgEventSegs,r),a=this.splitBusinessHourSegs(t.businessHourSegs,r),s=this.splitNowIndicatorSegs(t.nowIndicatorSegs,r),l=this.splitDateSelectionSegs(t.dateSelectionSegs,r),u=this.splitEventDrag(t.eventDrag,r),c=this.splitEventResize(t.eventResize,r);return yo("div",{className:"fc-timegrid-cols",ref:this.rootElRef},yo("table",{style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,yo("tbody",null,yo("tr",null,t.axis&&yo("td",{className:"fc-timegrid-col fc-timegrid-axis"},yo("div",{className:"fc-timegrid-col-frame"},yo("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof n&&yo($a,{isAxis:!0,date:t.nowDate},(function(e,t,r,o){return yo("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(t).join(" "),style:{top:n}},o)}))))),t.cells.map((function(n,r){return yo(Vl,{key:n.key,elRef:e.cellElRefs.createRef(n.key),dateProfile:t.dateProfile,date:n.date,nowDate:t.nowDate,todayRange:t.todayRange,extraHookProps:n.extraHookProps,extraDataAttrs:n.extraDataAttrs,extraClassNames:n.extraClassNames,extraDateSpan:n.extraDateSpan,fgEventSegs:o[r],bgEventSegs:i[r],businessHourSegs:a[r],nowIndicatorSegs:s[r],dateSelectionSegs:l[r],eventDrag:u[r],eventResize:c[r],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint})}))))))},t.prototype.componentDidMount=function(){this.updateCoords()},t.prototype.componentDidUpdate=function(){this.updateCoords()},t.prototype.updateCoords=function(){var e,t=this.props;t.onColCoords&&null!==t.clientWidth&&t.onColCoords(new po(this.rootElRef.current,(e=this.cellElRefs.currentMap,t.cells.map((function(t){return e[t.key]}))),!0,!1))},t}(Mo);var jl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processSlotOptions=zt(Gl),t.state={slatCoords:null},t.handleRootEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t.handleScrollRequest=function(e){var n=t.props.onScrollTopRequest,r=t.state.slatCoords;if(n&&r){if(e.time){var o=r.computeTimeTop(e.time);(o=Math.ceil(o))&&(o+=1),n(o)}return!0}return!1},t.handleColCoords=function(e){t.colCoords=e},t.handleSlatCoords=function(e){t.setState({slatCoords:e}),t.props.onSlatCoords&&t.props.onSlatCoords(e)},t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.state;return yo("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},yo(_l,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),yo(Bl,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))},t.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},t.prototype.componentDidUpdate=function(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)},t.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},t.prototype.queryHit=function(e,t){var n=this.context,o=n.dateEnv,i=n.options,a=this.colCoords,s=this.props.dateProfile,l=this.state.slatCoords,u=this.processSlotOptions(this.props.slotDuration,i.snapDuration),c=u.snapDuration,d=u.snapsPerSlot,p=a.leftToIndex(e),f=l.positions.topToIndex(t);if(null!=p&&null!=f){var h=this.props.cells[p],v=l.positions.tops[f],g=l.positions.getHeight(f),m=(t-v)/g,y=f*d+Math.floor(m*d),E=this.props.cells[p].date,S=Pt(s.slotMinTime,It(c,y)),D=o.add(E,S),b=o.add(D,c);return{dateProfile:s,dateSpan:r({range:{start:D,end:b},allDay:!1},h.extraDateSpan),dayEl:a.els[p],rect:{left:a.lefts[p],right:a.rights[p],top:v,bottom:v+g},layer:0}}return null},t}(Ho);function Gl(e,t){var n=t||e,r=Ot(e,n);return null===r&&(n=e,r=1),{snapDuration:n,snapsPerSlot:r}}var ql=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.sliceRange=function(e,t){for(var n=[],r=0;r<t.length;r+=1){var o=Vn(e,t[r]);o&&n.push({start:o.start,end:o.end,isStart:o.start.valueOf()===e.start.valueOf(),isEnd:o.end.valueOf()===e.end.valueOf(),col:r})}return n},t}(Da),Yl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayRanges=zt(Zl),t.slicer=new ql,t.timeColsRef=So(),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context,o=t.dateProfile,i=t.dayTableModel,a=n.options.nowIndicator,s=this.buildDayRanges(i,o,n.dateEnv);return yo(va,{unit:a?"minute":"day"},(function(l,u){return yo(jl,r({ref:e.timeColsRef},e.slicer.sliceProps(t,o,null,n,s),{forPrint:t.forPrint,axis:t.axis,dateProfile:o,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:i.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:l,nowIndicatorSegs:a&&e.slicer.sliceNowDate(l,n,s),todayRange:u,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords}))}))},t}(Ho);function Zl(e,t,n){for(var r=[],o=0,i=e.headerDates;o<i.length;o++){var a=i[o];r.push({start:n.add(a,t.slotMinTime),end:n.add(a,t.slotMaxTime)})}return r}var Xl=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Kl(e,t,n,r,o){for(var i=new Date(0),a=e,s=xt(0),l=n||function(e){var t,n,r;for(t=Xl.length-1;t>=0;t-=1)if(null!==(r=Ot(n=xt(Xl[t]),e))&&r>1)return n;return e}(r),u=[];Ht(a)<Ht(t);){var c=o.add(i,a),d=null!==Ot(s,l);u.push({date:c,time:a,key:c.toISOString(),isoTimeStr:Wt(c),isLabeled:d}),a=Pt(a,r),s=Pt(s,r)}return u}var $l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildTimeColsModel=zt(Jl),t.buildSlatMetas=zt(Kl),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,o=t.dateEnv,i=t.dateProfileGenerator,a=this.props,s=a.dateProfile,l=this.buildTimeColsModel(s,i),u=this.allDaySplitter.splitProps(a),c=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,n.slotLabelInterval,n.slotDuration,o),d=n.dayMinWidth,p=!d,f=d,h=n.dayHeaders&&yo(ma,{dates:l.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:p?this.renderHeadAxis:null}),v=!1!==n.allDaySlot&&function(t){return yo(pl,r({},u.allDay,{dateProfile:s,dayTableModel:l,nextDayThreshold:n.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:p?e.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:a.forPrint},e.getAllDayMaxEventProps()))},g=function(t){return yo(Yl,r({},u.timed,{dayTableModel:l,dateProfile:s,axis:p,slotDuration:n.slotDuration,slatMetas:c,forPrint:a.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:e.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:e.handleScrollTopRequest}))};return f?this.renderHScrollLayout(h,v,g,l.colCnt,d,c,this.state.slatCoords):this.renderSimpleLayout(h,v,g)},t}(bl);function Jl(e,t){var n=new Ea(e.renderRange,t);return new Sa(n,!1)}var Ql=Oo({initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:$l,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),eu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=e.dayDate,n=e.todayRange,o=this.context,i=o.theme,a=o.dateEnv,s=o.options,l=o.viewApi,u=$r(t,n),c=s.listDayFormat?a.format(t,s.listDayFormat):"",d=s.listDaySideFormat?a.format(t,s.listDaySideFormat):"",p=s.navLinks?Qr(t):null,f=r({date:a.toDate(t),view:l,text:c,sideText:d,navLinkData:p},u),h=["fc-list-day"].concat(Jr(u,i));return yo(Wo,{hookProps:f,classNames:s.dayHeaderClassNames,content:s.dayHeaderContent,defaultContent:tu,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},(function(e,n,r,o){return yo("tr",{ref:e,className:h.concat(n).join(" "),"data-date":Lt(t)},yo("th",{colSpan:3},yo("div",{className:"fc-list-day-cushion "+i.getClass("tableCellShaded"),ref:r},o)))}))},t}(Mo);function tu(e){var t=e.navLinkData?{"data-navlink":e.navLinkData,tabIndex:0}:{};return yo(Do,null,e.text&&yo("a",r({className:"fc-list-day-text"},t),e.text),e.sideText&&yo("a",r({className:"fc-list-day-side-text"},t),e.sideText))}var nu=rn({hour:"numeric",minute:"2-digit",meridiem:"short"}),ru=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=e.seg,r=t.options.eventTimeFormat||nu;return yo(Za,{seg:n,timeText:"",disableDragging:!0,disableResizing:!0,defaultContent:ou,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,isSelected:e.isSelected,isDragging:e.isDragging,isResizing:e.isResizing,isDateSelecting:e.isDateSelecting},(function(e,o,i,a,s){return yo("tr",{className:["fc-list-event",s.event.url?"fc-event-forced-url":""].concat(o).join(" "),ref:e},function(e,t,n){var r=n.options;if(!1!==r.displayEventTime){var o=e.eventRange.def,i=e.eventRange.instance,a=!1,s=void 0;if(o.allDay?a=!0:An(e.eventRange.range)?e.isStart?s=nr(e,t,n,null,null,i.range.start,e.end):e.isEnd?s=nr(e,t,n,null,null,e.start,i.range.end):a=!0:s=nr(e,t,n),a){var l={text:n.options.allDayText,view:n.viewApi};return yo(Wo,{hookProps:l,classNames:r.allDayClassNames,content:r.allDayContent,defaultContent:iu,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},(function(e,t,n,r){return yo("td",{className:["fc-list-event-time"].concat(t).join(" "),ref:e},r)}))}return yo("td",{className:"fc-list-event-time"},s)}return null}(n,r,t),yo("td",{className:"fc-list-event-graphic"},yo("span",{className:"fc-list-event-dot",style:{borderColor:s.borderColor||s.backgroundColor}})),yo("td",{className:"fc-list-event-title",ref:i},a))}))},t}(Mo);function ou(e){var t=e.event,n=t.url;return yo("a",r({},n?{href:n}:{}),t.title)}function iu(e){return e.text}var au=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.computeDateVars=zt(lu),t.eventStoreToSegs=zt(t._eventStoreToSegs),t.setRootEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e}):t.context.unregisterInteractiveComponent(t)},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context,r=["fc-list",n.theme.getClass("table"),!1!==n.options.stickyHeaderDates?"fc-list-sticky":""],o=this.computeDateVars(t.dateProfile),i=o.dayDates,a=o.dayRanges,s=this.eventStoreToSegs(t.eventStore,t.eventUiBases,a);return yo(Yo,{viewSpec:n.viewSpec,elRef:this.setRootEl},(function(n,o){return yo("div",{ref:n,className:r.concat(o).join(" ")},yo(Ia,{liquid:!t.isHeightAuto,overflowX:t.isHeightAuto?"visible":"hidden",overflowY:t.isHeightAuto?"visible":"auto"},s.length>0?e.renderSegList(s,i):e.renderEmptyMessage()))}))},t.prototype.renderEmptyMessage=function(){var e=this.context,t=e.options,n=e.viewApi,r={text:t.noEventsText,view:n};return yo(Wo,{hookProps:r,classNames:t.noEventsClassNames,content:t.noEventsContent,defaultContent:su,didMount:t.noEventsDidMount,willUnmount:t.noEventsWillUnmount},(function(e,t,n,r){return yo("div",{className:["fc-list-empty"].concat(t).join(" "),ref:e},yo("div",{className:"fc-list-empty-cushion",ref:n},r))}))},t.prototype.renderSegList=function(e,t){var n=this.context,o=n.theme,i=n.options,a=function(e){var t,n,r=[];for(t=0;t<e.length;t+=1)(r[(n=e[t]).dayIndex]||(r[n.dayIndex]=[])).push(n);return r}(e);return yo(va,{unit:"day"},(function(e,n){for(var s=[],l=0;l<a.length;l+=1){var u=a[l];if(u){var c=t[l].toISOString();s.push(yo(eu,{key:c,dayDate:t[l],todayRange:n}));for(var d=0,p=u=$n(u,i.eventOrder);d<p.length;d++){var f=p[d];s.push(yo(ru,r({key:c+":"+f.eventRange.instance.instanceId,seg:f,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1},rr(f,n,e))))}}}return yo("table",{className:"fc-list-table "+o.getClass("table")},yo("tbody",null,s))}))},t.prototype._eventStoreToSegs=function(e,t,n){return this.eventRangesToSegs(Gn(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)},t.prototype.eventRangesToSegs=function(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];n.push.apply(n,this.eventRangeToSegs(i,t))}return n},t.prototype.eventRangeToSegs=function(e,t){var n,r,o,i=this.context.dateEnv,a=this.context.options.nextDayThreshold,s=e.range,l=e.def.allDay,u=[];for(n=0;n<t.length;n+=1)if((r=Vn(s,t[n]))&&(o={component:this,eventRange:e,start:r.start,end:r.end,isStart:e.isStart&&r.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&r.end.valueOf()===s.end.valueOf(),dayIndex:n},u.push(o),!o.isEnd&&!l&&n+1<t.length&&s.end<i.add(t[n+1].start,a))){o.end=s.end,o.isEnd=!0;break}return u},t}(Ho);function su(e){return e.text}function lu(e){for(var t=ot(e.renderRange.start),n=e.renderRange.end,r=[],o=[];t<n;)r.push(t),o.push({start:t,end:$e(t,1)}),t=$e(t,1);return{dayDates:r,dayRanges:o}}function uu(e){return!1===e?null:rn(e)}var cu=Oo({optionRefiners:{listDayFormat:uu,listDaySideFormat:uu,noEventsClassNames:hn,noEventsContent:hn,noEventsDidMount:hn,noEventsWillUnmount:hn},views:{list:{component:au,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}}),du=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(go);du.prototype.classes={root:"fc-theme-bootstrap",table:"table-bordered",tableCellShaded:"table-active",buttonGroup:"btn-group",button:"btn btn-primary",buttonActive:"active",popover:"popover",popoverHeader:"popover-header",popoverContent:"popover-body"},du.prototype.baseIconClass="fa",du.prototype.iconClasses={close:"fa-times",prev:"fa-chevron-left",next:"fa-chevron-right",prevYear:"fa-angle-double-left",nextYear:"fa-angle-double-right"},du.prototype.rtlIconClasses={prev:"fa-chevron-right",next:"fa-chevron-left",prevYear:"fa-angle-double-right",nextYear:"fa-angle-double-left"},du.prototype.iconOverrideOption="bootstrapFontAwesome",du.prototype.iconOverrideCustomButtonOption="bootstrapFontAwesome",du.prototype.iconOverridePrefix="fa-";var pu=Oo({themeClasses:{bootstrap:du}}),fu="https://www.googleapis.com/calendar/v3/calendars";var hu=Oo({eventSourceDefs:[{parseMeta:function(e){var t=e.googleCalendarId;return!t&&e.url&&(t=function(e){var t;if(/^[^/]+@([^/.]+\.)*(google|googlemail|gmail)\.com$/.test(e))return e;if((t=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^/]*)/.exec(e))||(t=/^https?:\/\/www.google.com\/calendar\/feeds\/([^/]*)/.exec(e)))return decodeURIComponent(t[1]);return null}(e.url)),t?{googleCalendarId:t,googleCalendarApiKey:e.googleCalendarApiKey,googleCalendarApiBase:e.googleCalendarApiBase,extraParams:e.extraParams}:null},fetch:function(e,t,n){var o=e.context,i=o.dateEnv,a=o.options,s=e.eventSource.meta,l=s.googleCalendarApiKey||a.googleCalendarApiKey;if(l){var u=function(e){var t=e.googleCalendarApiBase;t||(t=fu);return t+"/"+encodeURIComponent(e.googleCalendarId)+"/events"}(s),c=s.extraParams,d="function"==typeof c?c():c,p=function(e,t,n,o){var i,a,s;o.canComputeOffset?(a=o.formatIso(e.start),s=o.formatIso(e.end)):(a=$e(e.start,-1).toISOString(),s=$e(e.end,1).toISOString());i=r(r({},n||{}),{key:t,timeMin:a,timeMax:s,singleEvents:!0,maxResults:9999}),"local"!==o.timeZone&&(i.timeZone=o.timeZone);return i}(e.range,l,d,i);mi("GET",u,p,(function(e,r){var o,i;e.error?n({message:"Google Calendar API: "+e.error.message,errors:e.error.errors,xhr:r}):t({rawEvents:(o=e.items,i=p.timeZone,o.map((function(e){return function(e,t){var n=e.htmlLink||null;n&&t&&(n=function(e,t){return e.replace(/(\?.*?)?(#|$)/,(function(e,n,r){return(n?n+"&":"?")+t+r}))}(n,"ctz="+t));return{id:e.id,title:e.summary,start:e.start.dateTime||e.start.date,end:e.end.dateTime||e.end.date,url:n,location:e.location,description:e.description,attachments:e.attachments||[],extendedProps:(e.extendedProperties||{}).shared||{}}}(e,i)}))),xhr:r})}),(function(e,t){n({message:e,xhr:t})}))}else n({message:"Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"})}}],optionRefiners:{googleCalendarApiKey:String},eventSourceRefiners:{googleCalendarApiKey:String,googleCalendarId:String,googleCalendarApiBase:String,extraParams:hn}});return Si.push(Bs,vl,Ql,cu,pu,hu),e.BASE_OPTION_DEFAULTS=an,e.BASE_OPTION_REFINERS=on,e.BaseComponent=Mo,e.BgEvent=rs,e.BootstrapTheme=du,e.Calendar=vs,e.CalendarApi=Cr,e.CalendarContent=aa,e.CalendarDataManager=_i,e.CalendarDataProvider=Ui,e.CalendarRoot=ua,e.Component=mo,e.ContentHook=Fo,e.CustomContentRenderContext=Vo,e.DateComponent=Ho,e.DateEnv=Ir,e.DateProfileGenerator=Jo,e.DayCellContent=Qa,e.DayCellRoot=ts,e.DayGridView=fl,e.DayHeader=ma,e.DaySeriesModel=Ea,e.DayTable=pl,e.DayTableModel=Sa,e.DayTableSlicer=dl,e.DayTimeCols=Yl,e.DayTimeColsSlicer=ql,e.DayTimeColsView=$l,e.DelayedRunner=Ci,e.Draggable=Vs,e.ElementDragging=$i,e.ElementScrollController=ho,e.Emitter=co,e.EventApi=wr,e.EventRoot=Za,e.EventSourceApi=ye,e.FeaturefulElementDragging=Ts,e.Fragment=Do,e.Interaction=Yi,e.ListView=au,e.MoreLinkRoot=us,e.MountHook=Bo,e.NamedTimeZoneImpl=Li,e.NowIndicatorRoot=$a,e.NowTimer=va,e.PointerDragging=Es,e.PositionCache=po,e.RefMap=Na,e.RenderHook=Wo,e.ScrollController=fo,e.ScrollResponder=_o,e.Scroller=Ia,e.SegHierarchy=Wi,e.SimpleScrollGrid=Ya,e.Slicer=Da,e.Splitter=Xr,e.StandardEvent=Xa,e.Table=ul,e.TableDateCell=fa,e.TableDowCell=ha,e.TableView=js,e.Theme=go,e.ThirdPartyDraggable=zs,e.TimeCols=jl,e.TimeColsSlatsCoords=wl,e.TimeColsView=bl,e.ViewApi=yr,e.ViewContextType=To,e.ViewRoot=Yo,e.WeekNumberRoot=is,e.WindowScrollController=vo,e.addDays=$e,e.addDurations=Pt,e.addMs=Je,e.addWeeks=Ke,e.allowContextMenu=Ve,e.allowSelection=Le,e.applyMutationToEventStore=vr,e.applyStyle=we,e.applyStyleProp=Re,e.asCleanDays=function(e){return e.years||e.months||e.milliseconds?0:e.days},e.asRoughMinutes=function(e){return Ht(e)/6e4},e.asRoughMs=Ht,e.asRoughSeconds=function(e){return Ht(e)/1e3},e.binarySearch=qi,e.buildClassNameNormalizer=jo,e.buildDayRanges=Zl,e.buildDayTableModel=hl,e.buildEntryKey=Fi,e.buildEventApis=_r,e.buildEventRangeKey=ir,e.buildHashFromArray=function(e,t){for(var n={},r=0;r<e.length;r+=1){var o=t(e[r],r);n[o[0]]=o[1]}return n},e.buildIsoString=Ut,e.buildNavLinkData=Qr,e.buildSegCompareObj=Jn,e.buildSegTimeText=nr,e.buildSlatMetas=Kl,e.buildTimeColsModel=Jl,e.collectFromHash=wt,e.combineEventUis=Rn,e.compareByFieldSpec=Be,e.compareByFieldSpecs=ze,e.compareNumbers=qe,e.compareObjs=bt,e.computeEarliestSegStart=ps,e.computeEdges=io,e.computeFallbackHeaderFormat=ca,e.computeHeightAndMargins=function(e){return e.getBoundingClientRect().height+function(e){var t=window.getComputedStyle(e);return parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}(e)},e.computeInnerRect=ao,e.computeRect=so,e.computeSegDraggable=Qn,e.computeSegEndResizable=tr,e.computeSegStartResizable=er,e.computeShrinkWidth=Ha,e.computeSmallestCellWidth=Ze,e.computeVisibleDayRange=On,e.config=Ji,e.constrainPoint=jr,e.createContext=bo,e.createDuration=xt,e.createElement=yo,e.createEmptyEventStore=yn,e.createEventInstance=ft,e.createEventUi=wn,e.createFormatter=rn,e.createPlugin=Oo,e.createPortal=Co,e.createRef=So,e.diffDates=Un,e.diffDayAndTime=tt,e.diffDays=et,e.diffPoints=qr,e.diffWeeks=Qe,e.diffWholeDays=rt,e.diffWholeWeeks=nt,e.disableCursor=Oe,e.elementClosest=Se,e.elementMatches=De,e.enableCursor=Ae,e.eventTupleToStore=gn,e.filterEventStoreDefs=Sn,e.filterHash=gt,e.findDirectChildren=function(e,t){for(var n=e instanceof HTMLElement?[e]:e,r=[],o=0;o<n.length;o+=1)for(var i=n[o].children,a=0;a<i.length;a+=1){var s=i[a];t&&!De(s,t)||r.push(s)}return r},e.findElements=be,e.flexibleCompare=je,e.flushToDom=wo,e.formatDate=function(e,t){void 0===t&&(t={});var n=Lr(t),r=rn(t),o=n.createMarkerMeta(e);return o?n.format(o.marker,r,{forcedTzo:o.forcedTzo}):""},e.formatDayString=Lt,e.formatIsoTimeString=Wt,e.formatRange=function(e,t,n){var r=Lr("object"==typeof n&&n?n:{}),o=rn(n),i=r.createMarkerMeta(e),a=r.createMarkerMeta(t);return i&&a?r.formatRange(i.marker,a.marker,o,{forcedStartTzo:i.forcedTzo,forcedEndTzo:a.forcedTzo,isEndExclusive:n.isEndExclusive,defaultSeparator:an.defaultRangeSeparator}):""},e.getAllowYScrolling=Aa,e.getCanVGrowWithinCell=Yr,e.getClippingParents=lo,e.getDateMeta=$r,e.getDayClassNames=Jr,e.getDefaultEventEnd=hr,e.getElRoot=Te,e.getElSeg=Zn,e.getEntrySpanEnd=Vi,e.getEventClassNames=or,e.getEventTargetViaRoot=_e,e.getIsRtlScrollbarOnLeft=no,e.getRectCenter=Gr,e.getRelevantEvents=mn,e.getScrollGridClassNames=za,e.getScrollbarWidths=ro,e.getSectionClassNames=Ba,e.getSectionHasLiquidHeight=Oa,e.getSegMeta=rr,e.getSlotClassNames=function(e,t){var n=["fc-slot","fc-slot-"+Xe[e.dow]];return e.isDisabled?n.push("fc-slot-disabled"):(e.isToday&&(n.push("fc-slot-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-slot-past"),e.isFuture&&n.push("fc-slot-future")),n},e.getStickyFooterScrollbar=qa,e.getStickyHeaderDates=Ga,e.getUnequalProps=Dt,e.globalLocales=Nr,e.globalPlugins=Si,e.greatestDurationDenominator=At,e.groupIntersectingEntries=zi,e.guid=He,e.hasBgRendering=qn,e.hasShrinkWidth=Fa,e.identity=hn,e.interactionSettingsStore=Ki,e.interactionSettingsToStore=Xi,e.intersectRanges=Vn,e.intersectRects=Br,e.intersectSpans=ji,e.isArraysEqual=Ft,e.isColPropsEqual=La,e.isDateSelectionValid=wa,e.isDateSpansEqual=lr,e.isInt=Ye,e.isInteractionValid=Ca,e.isMultiDayRange=An,e.isPropsEqual=St,e.isPropsValid=_a,e.isValidDate=dt,e.joinSpans=Bi,e.listenBySelector=Me,e.mapHash=mt,e.memoize=zt,e.memoizeArraylike=function(e,t,n){var r=this,o=[],i=[];return function(a){for(var s=o.length,l=a.length,u=0;u<s;u+=1)if(a[u]){if(!Ft(o[u],a[u])){n&&n(i[u]);var c=e.apply(r,a[u]);t&&t(c,i[u])||(i[u]=c)}}else n&&n(i[u]);for(;u<l;u+=1)i[u]=e.apply(r,a[u]);return o=a,i.splice(l),i}},e.memoizeHashlike=function(e,t,n){var r=this,o={},i={};return function(a){var s={};for(var l in a)if(i[l])if(Ft(o[l],a[l]))s[l]=i[l];else{n&&n(i[l]);var u=e.apply(r,a[l]);s[l]=t&&t(u,i[l])?i[l]:u}else s[l]=e.apply(r,a[l]);return o=a,i=s,s}},e.memoizeObjArg=Bt,e.mergeEventStores=En,e.multiplyDuration=It,e.padStart=Ge,e.parseBusinessHours=Fr,e.parseClassNames=Dn,e.parseDragMeta=ea,e.parseEventDef=Nn,e.parseFieldSpecs=Fe,e.parseMarker=Pr,e.pointInsideRect=zr,e.preventContextMenu=We,e.preventDefault=ke,e.preventSelection=Ue,e.rangeContainsMarker=jn,e.rangeContainsRange=Bn,e.rangesEqual=Fn,e.rangesIntersect=zn,e.refineEventDef=Pn,e.refineProps=fn,e.removeElement=Ee,e.removeExact=function(e,t){for(var n=0,r=0;r<e.length;)e[r]===t?(e.splice(r,1),n+=1):r+=1;return n},e.render=Eo,e.renderChunkContent=Ua,e.renderFill=ns,e.renderMicroColGroup=Wa,e.renderScrollShim=ja,e.requestJson=mi,e.sanitizeShrinkWidth=Va,e.setElSeg=Yn,e.setRef=No,e.sliceEventStore=Gn,e.sliceEvents=function(e,t){return Gn(e.eventStore,e.eventUiBases,e.dateProfile.activeRange,t?e.nextDayThreshold:null).fg},e.sortEventSegs=$n,e.startOfDay=ot,e.translateRect=function(e,t,n){return{left:e.left+t,right:e.right+t,top:e.top+n,bottom:e.bottom+n}},e.triggerDateSelect=pr,e.unmountComponentAtNode=Ro,e.unpromisify=uo,e.version="5.9.0",e.whenTransitionDone=Ie,e.wholeDivideDurations=Ot,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
  uploads-admin-Public-Admin-plugins-jquery-knob-jquery.knob.min.js: '(function(e){if(typeof
    define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(e){"use
    strict";var t={},n=Math.max,r=Math.min;t.c={};t.c.d=e(document);t.c.t=function(e){return
    e.originalEvent.touches.length-1};t.o=function(){var n=this;this.o=null;this.$=null;this.i=null;this.g=null;this.v=null;this.cv=null;this.x=0;this.y=0;this.w=0;this.h=0;this.$c=null;this.c=null;this.t=0;this.isInit=false;this.fgColor=null;this.pColor=null;this.dH=null;this.cH=null;this.eH=null;this.rH=null;this.scale=1;this.relative=false;this.relativeWidth=false;this.relativeHeight=false;this.$div=null;this.run=function(){var
    t=function(e,t){var r;for(r in t){n.o[r]=t[r]}n._carve().init();n._configure()._draw()};if(this.$.data("kontroled"))return;this.$.data("kontroled",true);this.extend();this.o=e.extend({min:this.$.data("min")!==undefined?this.$.data("min"):0,max:this.$.data("max")!==undefined?this.$.data("max"):100,stopper:true,readOnly:this.$.data("readonly")||this.$.attr("readonly")==="readonly",cursor:this.$.data("cursor")===true&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:this.$.data("displayinput")==null||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:false,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(e){return
    e},parse:function(e){return parseFloat(e)}},this.o);this.o.flip=this.o.rotation==="anticlockwise"||this.o.rotation==="acw";if(!this.o.inputColor){this.o.inputColor=this.o.fgColor}if(this.$.is("fieldset")){this.v={};this.i=this.$.find("input");this.i.each(function(t){var
    r=e(this);n.i[t]=r;n.v[t]=n.o.parse(r.val());r.bind("change blur",function(){var
    e={};e[t]=r.val();n.val(n._validate(e))})});this.$.find("legend").remove()}else{this.i=this.$;this.v=this.o.parse(this.$.val());this.v===""&&(this.v=this.o.min);this.$.bind("change
    blur",function(){n.val(n._validate(n.o.parse(n.$.val())))})}!this.o.displayInput&&this.$.hide();this.$c=e(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height});this.$div=e(''<div
    style="''+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+"px;"+''"></div>'');this.$.wrap(this.$div).before(this.$c);this.$div=this.$.parent();if(typeof
    G_vmlCanvasManager!=="undefined"){G_vmlCanvasManager.initElement(this.$c[0])}this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null;if(!this.c){throw{name:"CanvasNotSupportedException",message:"Canvas
    not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+":
    "+this.message}}}this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1);this.relativeWidth=this.o.width%1!==0&&this.o.width.indexOf("%");this.relativeHeight=this.o.height%1!==0&&this.o.height.indexOf("%");this.relative=this.relativeWidth||this.relativeHeight;this._carve();if(this.v
    instanceof Object){this.cv={};this.copy(this.v,this.cv)}else{this.cv=this.v}this.$.bind("configure",t).parent().bind("configure",t);this._listen()._configure()._xy().init();this.isInit=true;this.$.val(this.o.format(this.v));this._draw();return
    this};this._carve=function(){if(this.relative){var e=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),t=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(e,t)}else{this.w=this.o.width;this.h=this.o.height}this.$div.css({width:this.w+"px",height:this.h+"px"});this.$c.attr({width:this.w,height:this.h});if(this.scale!==1){this.$c[0].width=this.$c[0].width*this.scale;this.$c[0].height=this.$c[0].height*this.scale;this.$c.width(this.w);this.$c.height(this.h)}return
    this};this._draw=function(){var e=true;n.g=n.c;n.clear();n.dH&&(e=n.dH());e!==false&&n.draw()};this._touch=function(e){var
    r=function(e){var t=n.xy2val(e.originalEvent.touches[n.t].pageX,e.originalEvent.touches[n.t].pageY);if(t==n.cv)return;if(n.cH&&n.cH(t)===false)return;n.change(n._validate(t));n._draw()};this.t=t.c.t(e);r(e);t.c.d.bind("touchmove.k",r).bind("touchend.k",function(){t.c.d.unbind("touchmove.k
    touchend.k");n.val(n.cv)});return this};this._mouse=function(e){var r=function(e){var
    t=n.xy2val(e.pageX,e.pageY);if(t==n.cv)return;if(n.cH&&n.cH(t)===false)return;n.change(n._validate(t));n._draw()};r(e);t.c.d.bind("mousemove.k",r).bind("keyup.k",function(e){if(e.keyCode===27){t.c.d.unbind("mouseup.k
    mousemove.k keyup.k");if(n.eH&&n.eH()===false)return;n.cancel()}}).bind("mouseup.k",function(e){t.c.d.unbind("mousemove.k
    mouseup.k keyup.k");n.val(n.cv)});return this};this._xy=function(){var e=this.$c.offset();this.x=e.left;this.y=e.top;return
    this};this._listen=function(){if(!this.o.readOnly){this.$c.bind("mousedown",function(e){e.preventDefault();n._xy()._mouse(e)}).bind("touchstart",function(e){e.preventDefault();n._xy()._touch(e)});this.listen()}else{this.$.attr("readonly","readonly")}if(this.relative){e(window).resize(function(){n._carve().init();n._draw()})}return
    this};this._configure=function(){if(this.o.draw)this.dH=this.o.draw;if(this.o.change)this.cH=this.o.change;if(this.o.cancel)this.eH=this.o.cancel;if(this.o.release)this.rH=this.o.release;if(this.o.displayPrevious){this.pColor=this.h2rgba(this.o.fgColor,"0.4");this.fgColor=this.h2rgba(this.o.fgColor,"0.6")}else{this.fgColor=this.o.fgColor}return
    this};this._clear=function(){this.$c[0].width=this.$c[0].width};this._validate=function(e){var
    t=~~((e<0?-.5:.5)+e/this.o.step)*this.o.step;return Math.round(t*100)/100};this.listen=function(){};this.extend=function(){};this.init=function(){};this.change=function(e){};this.val=function(e){};this.xy2val=function(e,t){};this.draw=function(){};this.clear=function(){this._clear()};this.h2rgba=function(e,t){var
    n;e=e.substring(1,7);n=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)];return"rgba("+n[0]+","+n[1]+","+n[2]+","+t+")"};this.copy=function(e,t){for(var
    n in e){t[n]=e[n]}}};t.Dial=function(){t.o.call(this);this.startAngle=null;this.xy=null;this.radius=null;this.lineWidth=null;this.cursorExt=null;this.w2=null;this.PI2=2*Math.PI;this.extend=function(){this.o=e.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:true},this.o)};this.val=function(e,t){if(null!=e){e=this.o.parse(e);if(t!==false&&e!=this.v&&this.rH&&this.rH(e)===false){return}this.cv=this.o.stopper?n(r(e,this.o.max),this.o.min):e;this.v=this.cv;this.$.val(this.o.format(this.v));this._draw()}else{return
    this.v}};this.xy2val=function(e,t){var i,s;i=Math.atan2(e-(this.x+this.w2),-(t-this.y-this.w2))-this.angleOffset;if(this.o.flip){i=this.angleArc-i-this.PI2}if(this.angleArc!=this.PI2&&i<0&&i>-.5){i=0}else
    if(i<0){i+=this.PI2}s=i*(this.o.max-this.o.min)/this.angleArc+this.o.min;this.o.stopper&&(s=n(r(s,this.o.max),this.o.min));return
    s};this.listen=function(){var t=this,i,s,o=function(e){e.preventDefault();var
    o=e.originalEvent,u=o.detail||o.wheelDeltaX,a=o.detail||o.wheelDeltaY,f=t._validate(t.o.parse(t.$.val()))+(u>0||a>0?t.o.step:u<0||a<0?-t.o.step:0);f=n(r(f,t.o.max),t.o.min);t.val(f,false);if(t.rH){clearTimeout(i);i=setTimeout(function(){t.rH(f);i=null},100);if(!s){s=setTimeout(function(){if(i)t.rH(f);s=null},200)}}},u,a,f=1,l={37:-t.o.step,38:t.o.step,39:t.o.step,40:-t.o.step};this.$.bind("keydown",function(i){var
    s=i.keyCode;if(s>=96&&s<=105){s=i.keyCode=s-48}u=parseInt(String.fromCharCode(s));if(isNaN(u)){s!==13&&s!==8&&s!==9&&s!==189&&(s!==190||t.$.val().match(/\./))&&i.preventDefault();if(e.inArray(s,[37,38,39,40])>-1){i.preventDefault();var
    o=t.o.parse(t.$.val())+l[s]*f;t.o.stopper&&(o=n(r(o,t.o.max),t.o.min));t.change(t._validate(o));t._draw();a=window.setTimeout(function(){f*=2},30)}}}).bind("keyup",function(e){if(isNaN(u)){if(a){window.clearTimeout(a);a=null;f=1;t.val(t.$.val())}}else{t.$.val()>t.o.max&&t.$.val(t.o.max)||t.$.val()<t.o.min&&t.$.val(t.o.min)}});this.$c.bind("mousewheel
    DOMMouseScroll",o);this.$.bind("mousewheel DOMMouseScroll",o)};this.init=function(){if(this.v<this.o.min||this.v>this.o.max){this.v=this.o.min}this.$.val(this.v);this.w2=this.w/2;this.cursorExt=this.o.cursor/100;this.xy=this.w2*this.scale;this.lineWidth=this.xy*this.o.thickness;this.lineCap=this.o.lineCap;this.radius=this.xy-this.lineWidth/2;this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset);this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc);this.angleOffset=this.o.angleOffset*Math.PI/180;this.angleArc=this.o.angleArc*Math.PI/180;this.startAngle=1.5*Math.PI+this.angleOffset;this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var
    e=n(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(this.w*3/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+"
    "+(this.w/e>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})};this.change=function(e){this.cv=e;this.$.val(this.o.format(e))};this.angle=function(e){return(e-this.o.min)*this.angleArc/(this.o.max-this.o.min)};this.arc=function(e){var
    t,n;e=this.angle(e);if(this.o.flip){t=this.endAngle+1e-5;n=t-e-1e-5}else{t=this.startAngle-1e-5;n=t+e+1e-5}this.o.cursor&&(t=n-this.cursorExt)&&(n=n+this.cursorExt);return{s:t,e:n,d:this.o.flip&&!this.o.cursor}};this.draw=function(){var
    e=this.g,t=this.arc(this.cv),n,r=1;e.lineWidth=this.lineWidth;e.lineCap=this.lineCap;if(this.o.bgColor!=="none"){e.beginPath();e.strokeStyle=this.o.bgColor;e.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,true);e.stroke()}if(this.o.displayPrevious){n=this.arc(this.v);e.beginPath();e.strokeStyle=this.pColor;e.arc(this.xy,this.xy,this.radius,n.s,n.e,n.d);e.stroke();r=this.cv==this.v}e.beginPath();e.strokeStyle=r?this.o.fgColor:this.fgColor;e.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d);e.stroke()};this.cancel=function(){this.val(this.v)}};e.fn.dial=e.fn.knob=function(n){return
    this.each(function(){var r=new t.Dial;r.o=n;r.$=e(this);r.run()}).parent()}})'
  uploads-admin-Public-Admin-plugins-jquery-mousewheel-LICENSE.txt: |
    Copyright jQuery Foundation and other contributors
    https://jquery.org/

    This software consists of voluntary contributions made by many
    individuals. For exact contribution history, see the revision history
    available at https://github.com/jquery/jquery-mousewheel

    The following license applies to all parts of this software except as
    documented below:

    ====

    Permission is hereby granted, free of charge, to any person obtaining
    a copy of this software and associated documentation files (the
    "Software"), to deal in the Software without restriction, including
    without limitation the rights to use, copy, modify, merge, publish,
    distribute, sublicense, and/or sell copies of the Software, and to
    permit persons to whom the Software is furnished to do so, subject to
    the following conditions:

    The above copyright notice and this permission notice shall be
    included in all copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
    MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
    LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
    OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
    WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

    ====

    All files located in the node_modules and external directories are
    externally maintained libraries used by this software which have their
    own licenses; we recommend you read them, as their terms may differ from
    the terms above.
  uploads-admin-Public-Admin-plugins-jquery-mousewheel-jquery.mousewheel.js: |
    /*!
     * jQuery Mousewheel 3.1.13
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license
     * http://jquery.org/license
     */

    (function (factory) {
        if ( typeof define === 'function' && define.amd ) {
            // AMD. Register as an anonymous module.
            define(['jquery'], factory);
        } else if (typeof exports === 'object') {
            // Node/CommonJS style for Browserify
            module.exports = factory;
        } else {
            // Browser globals
            factory(jQuery);
        }
    }(function ($) {

        var toFix  = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],
            toBind = ( 'onwheel' in document || document.documentMode >= 9 ) ?
                        ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],
            slice  = Array.prototype.slice,
            nullLowestDeltaTimeout, lowestDelta;

        if ( $.event.fixHooks ) {
            for ( var i = toFix.length; i; ) {
                $.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;
            }
        }

        var special = $.event.special.mousewheel = {
            version: '3.1.12',

            setup: function() {
                if ( this.addEventListener ) {
                    for ( var i = toBind.length; i; ) {
                        this.addEventListener( toBind[--i], handler, false );
                    }
                } else {
                    this.onmousewheel = handler;
                }
                // Store the line height and page height for this particular element
                $.data(this, 'mousewheel-line-height', special.getLineHeight(this));
                $.data(this, 'mousewheel-page-height', special.getPageHeight(this));
            },

            teardown: function() {
                if ( this.removeEventListener ) {
                    for ( var i = toBind.length; i; ) {
                        this.removeEventListener( toBind[--i], handler, false );
                    }
                } else {
                    this.onmousewheel = null;
                }
                // Clean up the data we added to the element
                $.removeData(this, 'mousewheel-line-height');
                $.removeData(this, 'mousewheel-page-height');
            },

            getLineHeight: function(elem) {
                var $elem = $(elem),
                    $parent = $elem['offsetParent' in $.fn ? 'offsetParent' : 'parent']();
                if (!$parent.length) {
                    $parent = $('body');
                }
                return parseInt($parent.css('fontSize'), 10) || parseInt($elem.css('fontSize'), 10) || 16;
            },

            getPageHeight: function(elem) {
                return $(elem).height();
            },

            settings: {
                adjustOldDeltas: true, // see shouldAdjustOldDeltas() below
                normalizeOffset: true  // calls getBoundingClientRect for each event
            }
        };

        $.fn.extend({
            mousewheel: function(fn) {
                return fn ? this.bind('mousewheel', fn) : this.trigger('mousewheel');
            },

            unmousewheel: function(fn) {
                return this.unbind('mousewheel', fn);
            }
        });


        function handler(event) {
            var orgEvent   = event || window.event,
                args       = slice.call(arguments, 1),
                delta      = 0,
                deltaX     = 0,
                deltaY     = 0,
                absDelta   = 0,
                offsetX    = 0,
                offsetY    = 0;
            event = $.event.fix(orgEvent);
            event.type = 'mousewheel';

            // Old school scrollwheel delta
            if ( 'detail'      in orgEvent ) { deltaY = orgEvent.detail * -1;      }
            if ( 'wheelDelta'  in orgEvent ) { deltaY = orgEvent.wheelDelta;       }
            if ( 'wheelDeltaY' in orgEvent ) { deltaY = orgEvent.wheelDeltaY;      }
            if ( 'wheelDeltaX' in orgEvent ) { deltaX = orgEvent.wheelDeltaX * -1; }

            // Firefox < 17 horizontal scrolling related to DOMMouseScroll event
            if ( 'axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {
                deltaX = deltaY * -1;
                deltaY = 0;
            }

            // Set delta to be deltaY or deltaX if deltaY is 0 for backwards compatabilitiy
            delta = deltaY === 0 ? deltaX : deltaY;

            // New school wheel delta (wheel event)
            if ( 'deltaY' in orgEvent ) {
                deltaY = orgEvent.deltaY * -1;
                delta  = deltaY;
            }
            if ( 'deltaX' in orgEvent ) {
                deltaX = orgEvent.deltaX;
                if ( deltaY === 0 ) { delta  = deltaX * -1; }
            }

            // No change actually happened, no reason to go any further
            if ( deltaY === 0 && deltaX === 0 ) { return; }

            // Need to convert lines and pages to pixels if we aren't already in pixels
            // There are three delta modes:
            //   * deltaMode 0 is by pixels, nothing to do
            //   * deltaMode 1 is by lines
            //   * deltaMode 2 is by pages
            if ( orgEvent.deltaMode === 1 ) {
                var lineHeight = $.data(this, 'mousewheel-line-height');
                delta  *= lineHeight;
                deltaY *= lineHeight;
                deltaX *= lineHeight;
            } else if ( orgEvent.deltaMode === 2 ) {
                var pageHeight = $.data(this, 'mousewheel-page-height');
                delta  *= pageHeight;
                deltaY *= pageHeight;
                deltaX *= pageHeight;
            }

            // Store lowest absolute delta to normalize the delta values
            absDelta = Math.max( Math.abs(deltaY), Math.abs(deltaX) );

            if ( !lowestDelta || absDelta < lowestDelta ) {
                lowestDelta = absDelta;

                // Adjust older deltas if necessary
                if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {
                    lowestDelta /= 40;
                }
            }

            // Adjust older deltas if necessary
            if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {
                // Divide all the things by 40!
                delta  /= 40;
                deltaX /= 40;
                deltaY /= 40;
            }

            // Get a whole, normalized value for the deltas
            delta  = Math[ delta  >= 1 ? 'floor' : 'ceil' ](delta  / lowestDelta);
            deltaX = Math[ deltaX >= 1 ? 'floor' : 'ceil' ](deltaX / lowestDelta);
            deltaY = Math[ deltaY >= 1 ? 'floor' : 'ceil' ](deltaY / lowestDelta);

            // Normalise offsetX and offsetY properties
            if ( special.settings.normalizeOffset && this.getBoundingClientRect ) {
                var boundingRect = this.getBoundingClientRect();
                offsetX = event.clientX - boundingRect.left;
                offsetY = event.clientY - boundingRect.top;
            }

            // Add information to the event object
            event.deltaX = deltaX;
            event.deltaY = deltaY;
            event.deltaFactor = lowestDelta;
            event.offsetX = offsetX;
            event.offsetY = offsetY;
            // Go ahead and set deltaMode to 0 since we converted to pixels
            // Although this is a little odd since we overwrite the deltaX/Y
            // properties with normalized deltas.
            event.deltaMode = 0;

            // Add event and delta to the front of the arguments
            args.unshift(event, delta, deltaX, deltaY);

            // Clearout lowestDelta after sometime to better
            // handle multiple device types that give different
            // a different lowestDelta
            // Ex: trackpad = 3 and mouse wheel = 120
            if (nullLowestDeltaTimeout) { clearTimeout(nullLowestDeltaTimeout); }
            nullLowestDeltaTimeout = setTimeout(nullLowestDelta, 200);

            return ($.event.dispatch || $.event.handle).apply(this, args);
        }

        function nullLowestDelta() {
            lowestDelta = null;
        }

        function shouldAdjustOldDeltas(orgEvent, absDelta) {
            // If this is an older event and the delta is divisable by 120,
            // then we are assuming that the browser is treating this as an
            // older mouse wheel event and that we should divide the deltas
            // by 40 to try and get a more usable deltaFactor.
            // Side note, this actually impacts the reported scroll distance
            // in older browsers and can cause scrolling to be slower than native.
            // Turn this off by setting $.event.special.mousewheel.settings.adjustOldDeltas to false.
            return special.settings.adjustOldDeltas && orgEvent.type === 'mousewheel' && absDelta % 120 === 0;
        }

    }));
  uploads-admin-Public-Admin-plugins-select2-js-i18n-af.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var e=jQuery.fn.select2.amd;e.define("select2/i18n/af",[],function(){return{errorLoading:function(){return"Die resultate kon nie gelaai word nie."},inputTooLong:function(e){var n=e.input.length-e.maximum,r="Verwyders asseblief "+n+" character";return 1!=n&&(r+="s"),r},inputTooShort:function(e){return"Voer asseblief "+(e.minimum-e.input.length)+" of meer karakters"},loadingMore:function(){return"Meer resultate word gelaai…"},maximumSelected:function(e){var n="Kies asseblief net "+e.maximum+" item";return 1!=e.maximum&&(n+="s"),n},noResults:function(){return"Geen resultate gevind"},searching:function(){return"Besig…"},removeAllItems:function(){return"Verwyder alle items"}}}),e.define,e.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-ar.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var n=jQuery.fn.select2.amd;n.define("select2/i18n/ar",[],function(){return{errorLoading:function(){return"لا يمكن تحميل النتائج"},inputTooLong:function(n){return"الرجاء حذف "+(n.input.length-n.maximum)+" عناصر"},inputTooShort:function(n){return"الرجاء إضافة "+(n.minimum-n.input.length)+" عناصر"},loadingMore:function(){return"جاري تحميل نتائج إضافية..."},maximumSelected:function(n){return"تستطيع إختيار "+n.maximum+" بنود فقط"},noResults:function(){return"لم يتم العثور على أي نتائج"},searching:function(){return"جاري البحث…"},removeAllItems:function(){return"قم بإزالة كل العناصر"}}}),n.define,n.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-bg.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var n=jQuery.fn.select2.amd;n.define("select2/i18n/bg",[],function(){return{inputTooLong:function(n){var e=n.input.length-n.maximum,u="Моля въведете с "+e+" по-малко символ";return e>1&&(u+="a"),u},inputTooShort:function(n){var e=n.minimum-n.input.length,u="Моля въведете още "+e+" символ";return e>1&&(u+="a"),u},loadingMore:function(){return"Зареждат се още…"},maximumSelected:function(n){var e="Можете да направите до "+n.maximum+" ";return n.maximum>1?e+="избора":e+="избор",e},noResults:function(){return"Няма намерени съвпадения"},searching:function(){return"Търсене…"},removeAllItems:function(){return"Премахнете всички елементи"}}}),n.define,n.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-build.txt: |2

    af.js
    ----------------
    af.js

    ar.js
    ----------------
    ar.js

    az.js
    ----------------
    az.js

    bg.js
    ----------------
    bg.js

    bn.js
    ----------------
    bn.js

    bs.js
    ----------------
    bs.js

    ca.js
    ----------------
    ca.js

    cs.js
    ----------------
    cs.js

    da.js
    ----------------
    da.js

    de.js
    ----------------
    de.js

    dsb.js
    ----------------
    dsb.js

    el.js
    ----------------
    el.js

    en.js
    ----------------
    en.js

    es.js
    ----------------
    es.js

    et.js
    ----------------
    et.js

    eu.js
    ----------------
    eu.js

    fa.js
    ----------------
    fa.js

    fi.js
    ----------------
    fi.js

    fr.js
    ----------------
    fr.js

    gl.js
    ----------------
    gl.js

    he.js
    ----------------
    he.js

    hi.js
    ----------------
    hi.js

    hr.js
    ----------------
    hr.js

    hsb.js
    ----------------
    hsb.js

    hu.js
    ----------------
    hu.js

    hy.js
    ----------------
    hy.js

    id.js
    ----------------
    id.js

    is.js
    ----------------
    is.js

    it.js
    ----------------
    it.js

    ja.js
    ----------------
    ja.js

    ka.js
    ----------------
    ka.js

    km.js
    ----------------
    km.js

    ko.js
    ----------------
    ko.js

    lt.js
    ----------------
    lt.js

    lv.js
    ----------------
    lv.js

    mk.js
    ----------------
    mk.js

    ms.js
    ----------------
    ms.js

    nb.js
    ----------------
    nb.js

    ne.js
    ----------------
    ne.js

    nl.js
    ----------------
    nl.js

    pl.js
    ----------------
    pl.js

    ps.js
    ----------------
    ps.js

    pt-BR.js
    ----------------
    pt-BR.js

    pt.js
    ----------------
    pt.js

    ro.js
    ----------------
    ro.js

    ru.js
    ----------------
    ru.js

    sk.js
    ----------------
    sk.js

    sl.js
    ----------------
    sl.js

    sq.js
    ----------------
    sq.js

    sr-Cyrl.js
    ----------------
    sr-Cyrl.js

    sr.js
    ----------------
    sr.js

    sv.js
    ----------------
    sv.js

    th.js
    ----------------
    th.js

    tk.js
    ----------------
    tk.js

    tr.js
    ----------------
    tr.js

    uk.js
    ----------------
    uk.js

    vi.js
    ----------------
    vi.js

    zh-CN.js
    ----------------
    zh-CN.js

    zh-TW.js
    ----------------
    zh-TW.js
  uploads-admin-Public-Admin-plugins-select2-js-i18n-cs.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var e=jQuery.fn.select2.amd;e.define("select2/i18n/cs",[],function(){function e(e,n){switch(e){case 2:return n?"dva":"dvě";case 3:return"tři";case 4:return"čtyři"}return""}return{errorLoading:function(){return"Výsledky nemohly být načteny."},inputTooLong:function(n){var t=n.input.length-n.maximum;return 1==t?"Prosím, zadejte o jeden znak méně.":t<=4?"Prosím, zadejte o "+e(t,!0)+" znaky méně.":"Prosím, zadejte o "+t+" znaků méně."},inputTooShort:function(n){var t=n.minimum-n.input.length;return 1==t?"Prosím, zadejte ještě jeden znak.":t<=4?"Prosím, zadejte ještě další "+e(t,!0)+" znaky.":"Prosím, zadejte ještě dalších "+t+" znaků."},loadingMore:function(){return"Načítají se další výsledky…"},maximumSelected:function(n){var t=n.maximum;return 1==t?"Můžete zvolit jen jednu položku.":t<=4?"Můžete zvolit maximálně "+e(t,!1)+" položky.":"Můžete zvolit maximálně "+t+" položek."},noResults:function(){return"Nenalezeny žádné položky."},searching:function(){return"Vyhledávání…"},removeAllItems:function(){return"Odstraňte všechny položky"}}}),e.define,e.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-da.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var e=jQuery.fn.select2.amd;e.define("select2/i18n/da",[],function(){return{errorLoading:function(){return"Resultaterne kunne ikke indlæses."},inputTooLong:function(e){return"Angiv venligst "+(e.input.length-e.maximum)+" tegn mindre"},inputTooShort:function(e){return"Angiv venligst "+(e.minimum-e.input.length)+" tegn mere"},loadingMore:function(){return"Indlæser flere resultater…"},maximumSelected:function(e){var n="Du kan kun vælge "+e.maximum+" emne";return 1!=e.maximum&&(n+="r"),n},noResults:function(){return"Ingen resultater fundet"},searching:function(){return"Søger…"},removeAllItems:function(){return"Fjern alle elementer"}}}),e.define,e.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-de.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var e=jQuery.fn.select2.amd;e.define("select2/i18n/de",[],function(){return{errorLoading:function(){return"Die Ergebnisse konnten nicht geladen werden."},inputTooLong:function(e){return"Bitte "+(e.input.length-e.maximum)+" Zeichen weniger eingeben"},inputTooShort:function(e){return"Bitte "+(e.minimum-e.input.length)+" Zeichen mehr eingeben"},loadingMore:function(){return"Lade mehr Ergebnisse…"},maximumSelected:function(e){var n="Sie können nur "+e.maximum+" Element";return 1!=e.maximum&&(n+="e"),n+=" auswählen"},noResults:function(){return"Keine Übereinstimmungen gefunden"},searching:function(){return"Suche…"},removeAllItems:function(){return"Entferne alle Elemente"}}}),e.define,e.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-gl.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var e=jQuery.fn.select2.amd;e.define("select2/i18n/gl",[],function(){return{errorLoading:function(){return"Non foi posíbel cargar os resultados."},inputTooLong:function(e){var n=e.input.length-e.maximum;return 1===n?"Elimine un carácter":"Elimine "+n+" caracteres"},inputTooShort:function(e){var n=e.minimum-e.input.length;return 1===n?"Engada un carácter":"Engada "+n+" caracteres"},loadingMore:function(){return"Cargando máis resultados…"},maximumSelected:function(e){return 1===e.maximum?"Só pode seleccionar un elemento":"Só pode seleccionar "+e.maximum+" elementos"},noResults:function(){return"Non se atoparon resultados"},searching:function(){return"Buscando…"},removeAllItems:function(){return"Elimina todos os elementos"}}}),e.define,e.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-it.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var e=jQuery.fn.select2.amd;e.define("select2/i18n/it",[],function(){return{errorLoading:function(){return"I risultati non possono essere caricati."},inputTooLong:function(e){var n=e.input.length-e.maximum,t="Per favore cancella "+n+" caratter";return t+=1!==n?"i":"e"},inputTooShort:function(e){return"Per favore inserisci "+(e.minimum-e.input.length)+" o più caratteri"},loadingMore:function(){return"Caricando più risultati…"},maximumSelected:function(e){var n="Puoi selezionare solo "+e.maximum+" element";return 1!==e.maximum?n+="i":n+="o",n},noResults:function(){return"Nessun risultato trovato"},searching:function(){return"Sto cercando…"},removeAllItems:function(){return"Rimuovi tutti gli oggetti"}}}),e.define,e.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-ka.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var n=jQuery.fn.select2.amd;n.define("select2/i18n/ka",[],function(){return{errorLoading:function(){return"მონაცემების ჩატვირთვა შეუძლებელია."},inputTooLong:function(n){return"გთხოვთ აკრიფეთ "+(n.input.length-n.maximum)+" სიმბოლოთი ნაკლები"},inputTooShort:function(n){return"გთხოვთ აკრიფეთ "+(n.minimum-n.input.length)+" სიმბოლო ან მეტი"},loadingMore:function(){return"მონაცემების ჩატვირთვა…"},maximumSelected:function(n){return"თქვენ შეგიძლიათ აირჩიოთ არაუმეტეს "+n.maximum+" ელემენტი"},noResults:function(){return"რეზულტატი არ მოიძებნა"},searching:function(){return"ძიება…"},removeAllItems:function(){return"ამოიღე ყველა ელემენტი"}}}),n.define,n.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-ko.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var n=jQuery.fn.select2.amd;n.define("select2/i18n/ko",[],function(){return{errorLoading:function(){return"결과를 불러올 수 없습니다."},inputTooLong:function(n){return"너무 깁니다. "+(n.input.length-n.maximum)+" 글자 지워주세요."},inputTooShort:function(n){return"너무 짧습니다. "+(n.minimum-n.input.length)+" 글자 더 입력해주세요."},loadingMore:function(){return"불러오는 중…"},maximumSelected:function(n){return"최대 "+n.maximum+"개까지만 선택 가능합니다."},noResults:function(){return"결과가 없습니다."},searching:function(){return"검색 중…"},removeAllItems:function(){return"모든 항목 삭제"}}}),n.define,n.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-ne.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var n=jQuery.fn.select2.amd;n.define("select2/i18n/ne",[],function(){return{errorLoading:function(){return"नतिजाहरु देखाउन सकिएन।"},inputTooLong:function(n){var e=n.input.length-n.maximum,u="कृपया "+e+" अक्षर मेटाउनुहोस्।";return 1!=e&&(u+="कृपया "+e+" अक्षरहरु मेटाउनुहोस्।"),u},inputTooShort:function(n){return"कृपया बाँकी रहेका "+(n.minimum-n.input.length)+" वा अरु धेरै अक्षरहरु भर्नुहोस्।"},loadingMore:function(){return"अरु नतिजाहरु भरिँदैछन् …"},maximumSelected:function(n){var e="तँपाई "+n.maximum+" वस्तु मात्र छान्न पाउँनुहुन्छ।";return 1!=n.maximum&&(e="तँपाई "+n.maximum+" वस्तुहरु मात्र छान्न पाउँनुहुन्छ।"),e},noResults:function(){return"कुनै पनि नतिजा भेटिएन।"},searching:function(){return"खोजि हुँदैछ…"}}}),n.define,n.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-ru.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var n=jQuery.fn.select2.amd;n.define("select2/i18n/ru",[],function(){function n(n,e,r,u){return n%10<5&&n%10>0&&n%100<5||n%100>20?n%10>1?r:e:u}return{errorLoading:function(){return"Невозможно загрузить результаты"},inputTooLong:function(e){var r=e.input.length-e.maximum,u="Пожалуйста, введите на "+r+" символ";return u+=n(r,"","a","ов"),u+=" меньше"},inputTooShort:function(e){var r=e.minimum-e.input.length,u="Пожалуйста, введите ещё хотя бы "+r+" символ";return u+=n(r,"","a","ов")},loadingMore:function(){return"Загрузка данных…"},maximumSelected:function(e){var r="Вы можете выбрать не более "+e.maximum+" элемент";return r+=n(e.maximum,"","a","ов")},noResults:function(){return"Совпадений не найдено"},searching:function(){return"Поиск…"},removeAllItems:function(){return"Удалить все элементы"}}}),n.define,n.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-sk.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var e=jQuery.fn.select2.amd;e.define("select2/i18n/sk",[],function(){var e={2:function(e){return e?"dva":"dve"},3:function(){return"tri"},4:function(){return"štyri"}};return{errorLoading:function(){return"Výsledky sa nepodarilo načítať."},inputTooLong:function(n){var t=n.input.length-n.maximum;return 1==t?"Prosím, zadajte o jeden znak menej":t>=2&&t<=4?"Prosím, zadajte o "+e[t](!0)+" znaky menej":"Prosím, zadajte o "+t+" znakov menej"},inputTooShort:function(n){var t=n.minimum-n.input.length;return 1==t?"Prosím, zadajte ešte jeden znak":t<=4?"Prosím, zadajte ešte ďalšie "+e[t](!0)+" znaky":"Prosím, zadajte ešte ďalších "+t+" znakov"},loadingMore:function(){return"Načítanie ďalších výsledkov…"},maximumSelected:function(n){return 1==n.maximum?"Môžete zvoliť len jednu položku":n.maximum>=2&&n.maximum<=4?"Môžete zvoliť najviac "+e[n.maximum](!1)+" položky":"Môžete zvoliť najviac "+n.maximum+" položiek"},noResults:function(){return"Nenašli sa žiadne položky"},searching:function(){return"Vyhľadávanie…"},removeAllItems:function(){return"Odstráňte všetky položky"}}}),e.define,e.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-sr-Cyrl.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var n=jQuery.fn.select2.amd;n.define("select2/i18n/sr-Cyrl",[],function(){function n(n,e,r,u){return n%10==1&&n%100!=11?e:n%10>=2&&n%10<=4&&(n%100<12||n%100>14)?r:u}return{errorLoading:function(){return"Преузимање није успело."},inputTooLong:function(e){var r=e.input.length-e.maximum,u="Обришите "+r+" симбол";return u+=n(r,"","а","а")},inputTooShort:function(e){var r=e.minimum-e.input.length,u="Укуцајте бар још "+r+" симбол";return u+=n(r,"","а","а")},loadingMore:function(){return"Преузимање још резултата…"},maximumSelected:function(e){var r="Можете изабрати само "+e.maximum+" ставк";return r+=n(e.maximum,"у","е","и")},noResults:function(){return"Ништа није пронађено"},searching:function(){return"Претрага…"},removeAllItems:function(){return"Уклоните све ставке"}}}),n.define,n.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-zh-CN.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var n=jQuery.fn.select2.amd;n.define("select2/i18n/zh-CN",[],function(){return{errorLoading:function(){return"无法载入结果。"},inputTooLong:function(n){return"请删除"+(n.input.length-n.maximum)+"个字符"},inputTooShort:function(n){return"请再输入至少"+(n.minimum-n.input.length)+"个字符"},loadingMore:function(){return"载入更多结果…"},maximumSelected:function(n){return"最多只能选择"+n.maximum+"个项目"},noResults:function(){return"未找到结果"},searching:function(){return"搜索中…"},removeAllItems:function(){return"删除所有项目"}}}),n.define,n.require}();
  uploads-admin-Public-Admin-plugins-select2-js-i18n-zh-TW.js: |-
    /*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */

    !function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var n=jQuery.fn.select2.amd;n.define("select2/i18n/zh-TW",[],function(){return{inputTooLong:function(n){return"請刪掉"+(n.input.length-n.maximum)+"個字元"},inputTooShort:function(n){return"請再輸入"+(n.minimum-n.input.length)+"個字元"},loadingMore:function(){return"載入中…"},maximumSelected:function(n){return"你只能選擇最多"+n.maximum+"項"},noResults:function(){return"沒有找到相符的項目"},searching:function(){return"搜尋中…"},removeAllItems:function(){return"刪除所有項目"}}}),n.define,n.require}();
  uploads-admin-Public-Admin-plugins-select2-js-select2.full.js: |
    /*!
     * Select2 4.0.13
     * https://select2.github.io
     *
     * Released under the MIT license
     * https://github.com/select2/select2/blob/master/LICENSE.md
     */
    ;(function (factory) {
      if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['jquery'], factory);
      } else if (typeof module === 'object' && module.exports) {
        // Node/CommonJS
        module.exports = function (root, jQuery) {
          if (jQuery === undefined) {
            // require('jQuery') returns a factory that requires window to
            // build a jQuery instance, we normalize how we use modules
            // that require this pattern but the window provided is a noop
            // if it's defined (how jquery works)
            if (typeof window !== 'undefined') {
              jQuery = require('jquery');
            }
            else {
              jQuery = require('jquery')(root);
            }
          }
          factory(jQuery);
          return jQuery;
        };
      } else {
        // Browser globals
        factory(jQuery);
      }
    } (function (jQuery) {
      // This is needed so we can catch the AMD loader configuration and use it
      // The inner file should be wrapped (by `banner.start.js`) in a function that
      // returns the AMD loader references.
      var S2 =(function () {
      // Restore the Select2 AMD loader so it can be used
      // Needed mostly in the language files, where the loader is not inserted
      if (jQuery && jQuery.fn && jQuery.fn.select2 && jQuery.fn.select2.amd) {
        var S2 = jQuery.fn.select2.amd;
      }
    var S2;(function () { if (!S2 || !S2.requirejs) {
    if (!S2) { S2 = {}; } else { require = S2; }
    /**
     * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
     * Released under MIT license, http://github.com/requirejs/almond/LICENSE
     */
    //Going sloppy to avoid 'use strict' string cost, but strict practices should
    //be followed.
    /*global setTimeout: false */

    var requirejs, require, define;
    (function (undef) {
        var main, req, makeMap, handlers,
            defined = {},
            waiting = {},
            config = {},
            defining = {},
            hasOwn = Object.prototype.hasOwnProperty,
            aps = [].slice,
            jsSuffixRegExp = /\.js$/;

        function hasProp(obj, prop) {
            return hasOwn.call(obj, prop);
        }

        /**
         * Given a relative module name, like ./something, normalize it to
         * a real name that can be mapped to a path.
         * @param {String} name the relative name
         * @param {String} baseName a real name that the name arg is relative
         * to.
         * @returns {String} normalized name
         */
        function normalize(name, baseName) {
            var nameParts, nameSegment, mapValue, foundMap, lastIndex,
                foundI, foundStarMap, starI, i, j, part, normalizedBaseParts,
                baseParts = baseName && baseName.split("/"),
                map = config.map,
                starMap = (map && map['*']) || {};

            //Adjust any relative paths.
            if (name) {
                name = name.split('/');
                lastIndex = name.length - 1;

                // If wanting node ID compatibility, strip .js from end
                // of IDs. Have to do this here, and not in nameToUrl
                // because node allows either .js or non .js to map
                // to same file.
                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {
                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');
                }

                // Starts with a '.' so need the baseName
                if (name[0].charAt(0) === '.' && baseParts) {
                    //Convert baseName to array, and lop off the last part,
                    //so that . matches that 'directory' and not name of the baseName's
                    //module. For instance, baseName of 'one/two/three', maps to
                    //'one/two/three.js', but we want the directory, 'one/two' for
                    //this normalization.
                    normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);
                    name = normalizedBaseParts.concat(name);
                }

                //start trimDots
                for (i = 0; i < name.length; i++) {
                    part = name[i];
                    if (part === '.') {
                        name.splice(i, 1);
                        i -= 1;
                    } else if (part === '..') {
                        // If at the start, or previous value is still ..,
                        // keep them so that when converted to a path it may
                        // still work when converted to a path, even though
                        // as an ID it is less than ideal. In larger point
                        // releases, may be better to just kick out an error.
                        if (i === 0 || (i === 1 && name[2] === '..') || name[i - 1] === '..') {
                            continue;
                        } else if (i > 0) {
                            name.splice(i - 1, 2);
                            i -= 2;
                        }
                    }
                }
                //end trimDots

                name = name.join('/');
            }

            //Apply map config if available.
            if ((baseParts || starMap) && map) {
                nameParts = name.split('/');

                for (i = nameParts.length; i > 0; i -= 1) {
                    nameSegment = nameParts.slice(0, i).join("/");

                    if (baseParts) {
                        //Find the longest baseName segment match in the config.
                        //So, do joins on the biggest to smallest lengths of baseParts.
                        for (j = baseParts.length; j > 0; j -= 1) {
                            mapValue = map[baseParts.slice(0, j).join('/')];

                            //baseName segment has  config, find if it has one for
                            //this name.
                            if (mapValue) {
                                mapValue = mapValue[nameSegment];
                                if (mapValue) {
                                    //Match, update name to the new value.
                                    foundMap = mapValue;
                                    foundI = i;
                                    break;
                                }
                            }
                        }
                    }

                    if (foundMap) {
                        break;
                    }

                    //Check for a star map match, but just hold on to it,
                    //if there is a shorter segment match later in a matching
                    //config, then favor over this star map.
                    if (!foundStarMap && starMap && starMap[nameSegment]) {
                        foundStarMap = starMap[nameSegment];
                        starI = i;
                    }
                }

                if (!foundMap && foundStarMap) {
                    foundMap = foundStarMap;
                    foundI = starI;
                }

                if (foundMap) {
                    nameParts.splice(0, foundI, foundMap);
                    name = nameParts.join('/');
                }
            }

            return name;
        }

        function makeRequire(relName, forceSync) {
            return function () {
                //A version of a require function that passes a moduleName
                //value for items that may need to
                //look up paths relative to the moduleName
                var args = aps.call(arguments, 0);

                //If first arg is not require('string'), and there is only
                //one arg, it is the array form without a callback. Insert
                //a null so that the following concat is correct.
                if (typeof args[0] !== 'string' && args.length === 1) {
                    args.push(null);
                }
                return req.apply(undef, args.concat([relName, forceSync]));
            };
        }

        function makeNormalize(relName) {
            return function (name) {
                return normalize(name, relName);
            };
        }

        function makeLoad(depName) {
            return function (value) {
                defined[depName] = value;
            };
        }

        function callDep(name) {
            if (hasProp(waiting, name)) {
                var args = waiting[name];
                delete waiting[name];
                defining[name] = true;
                main.apply(undef, args);
            }

            if (!hasProp(defined, name) && !hasProp(defining, name)) {
                throw new Error('No ' + name);
            }
            return defined[name];
        }

        //Turns a plugin!resource to [plugin, resource]
        //with the plugin being undefined if the name
        //did not have a plugin prefix.
        function splitPrefix(name) {
            var prefix,
                index = name ? name.indexOf('!') : -1;
            if (index > -1) {
                prefix = name.substring(0, index);
                name = name.substring(index + 1, name.length);
            }
            return [prefix, name];
        }

        //Creates a parts array for a relName where first part is plugin ID,
        //second part is resource ID. Assumes relName has already been normalized.
        function makeRelParts(relName) {
            return relName ? splitPrefix(relName) : [];
        }

        /**
         * Makes a name map, normalizing the name, and using a plugin
         * for normalization if necessary. Grabs a ref to plugin
         * too, as an optimization.
         */
        makeMap = function (name, relParts) {
            var plugin,
                parts = splitPrefix(name),
                prefix = parts[0],
                relResourceName = relParts[1];

            name = parts[1];

            if (prefix) {
                prefix = normalize(prefix, relResourceName);
                plugin = callDep(prefix);
            }

            //Normalize according
            if (prefix) {
                if (plugin && plugin.normalize) {
                    name = plugin.normalize(name, makeNormalize(relResourceName));
                } else {
                    name = normalize(name, relResourceName);
                }
            } else {
                name = normalize(name, relResourceName);
                parts = splitPrefix(name);
                prefix = parts[0];
                name = parts[1];
                if (prefix) {
                    plugin = callDep(prefix);
                }
            }

            //Using ridiculous property names for space reasons
            return {
                f: prefix ? prefix + '!' + name : name, //fullName
                n: name,
                pr: prefix,
                p: plugin
            };
        };

        function makeConfig(name) {
            return function () {
                return (config && config.config && config.config[name]) || {};
            };
        }

        handlers = {
            require: function (name) {
                return makeRequire(name);
            },
            exports: function (name) {
                var e = defined[name];
                if (typeof e !== 'undefined') {
                    return e;
                } else {
                    return (defined[name] = {});
                }
            },
            module: function (name) {
                return {
                    id: name,
                    uri: '',
                    exports: defined[name],
                    config: makeConfig(name)
                };
            }
        };

        main = function (name, deps, callback, relName) {
            var cjsModule, depName, ret, map, i, relParts,
                args = [],
                callbackType = typeof callback,
                usingExports;

            //Use name if no relName
            relName = relName || name;
            relParts = makeRelParts(relName);

            //Call the callback to define the module, if necessary.
            if (callbackType === 'undefined' || callbackType === 'function') {
                //Pull out the defined dependencies and pass the ordered
                //values to the callback.
                //Default to [require, exports, module] if no deps
                deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;
                for (i = 0; i < deps.length; i += 1) {
                    map = makeMap(deps[i], relParts);
                    depName = map.f;

                    //Fast path CommonJS standard dependencies.
                    if (depName === "require") {
                        args[i] = handlers.require(name);
                    } else if (depName === "exports") {
                        //CommonJS module spec 1.1
                        args[i] = handlers.exports(name);
                        usingExports = true;
                    } else if (depName === "module") {
                        //CommonJS module spec 1.1
                        cjsModule = args[i] = handlers.module(name);
                    } else if (hasProp(defined, depName) ||
                               hasProp(waiting, depName) ||
                               hasProp(defining, depName)) {
                        args[i] = callDep(depName);
                    } else if (map.p) {
                        map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});
                        args[i] = defined[depName];
                    } else {
                        throw new Error(name + ' missing ' + depName);
                    }
                }

                ret = callback ? callback.apply(defined[name], args) : undefined;

                if (name) {
                    //If setting exports via "module" is in play,
                    //favor that over return value and exports. After that,
                    //favor a non-undefined return value over exports use.
                    if (cjsModule && cjsModule.exports !== undef &&
                            cjsModule.exports !== defined[name]) {
                        defined[name] = cjsModule.exports;
                    } else if (ret !== undef || !usingExports) {
                        //Use the return value from the function.
                        defined[name] = ret;
                    }
                }
            } else if (name) {
                //May just be an object definition for the module. Only
                //worry about defining if have a module name.
                defined[name] = callback;
            }
        };

        requirejs = require = req = function (deps, callback, relName, forceSync, alt) {
            if (typeof deps === "string") {
                if (handlers[deps]) {
                    //callback in this case is really relName
                    return handlers[deps](callback);
                }
                //Just return the module wanted. In this scenario, the
                //deps arg is the module name, and second arg (if passed)
                //is just the relName.
                //Normalize module name, if it contains . or ..
                return callDep(makeMap(deps, makeRelParts(callback)).f);
            } else if (!deps.splice) {
                //deps is a config object, not an array.
                config = deps;
                if (config.deps) {
                    req(config.deps, config.callback);
                }
                if (!callback) {
                    return;
                }

                if (callback.splice) {
                    //callback is an array, which means it is a dependency list.
                    //Adjust args if there are dependencies
                    deps = callback;
                    callback = relName;
                    relName = null;
                } else {
                    deps = undef;
                }
            }

            //Support require(['a'])
            callback = callback || function () {};

            //If relName is a function, it is an errback handler,
            //so remove it.
            if (typeof relName === 'function') {
                relName = forceSync;
                forceSync = alt;
            }

            //Simulate async callback;
            if (forceSync) {
                main(undef, deps, callback, relName);
            } else {
                //Using a non-zero value because of concern for what old browsers
                //do, and latest browsers "upgrade" to 4 if lower value is used:
                //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:
                //If want a value immediately, use require('id') instead -- something
                //that works in almond on the global level, but not guaranteed and
                //unlikely to work in other AMD implementations.
                setTimeout(function () {
                    main(undef, deps, callback, relName);
                }, 4);
            }

            return req;
        };

        /**
         * Just drops the config on the floor, but returns req in case
         * the config return value is used.
         */
        req.config = function (cfg) {
            return req(cfg);
        };

        /**
         * Expose module registry for debugging and tooling
         */
        requirejs._defined = defined;

        define = function (name, deps, callback) {
            if (typeof name !== 'string') {
                throw new Error('See almond README: incorrect module build, no module name');
            }

            //This module may not have dependencies
            if (!deps.splice) {
                //deps is not an array, so probably means
                //an object literal or factory function for
                //the value. Adjust args.
                callback = deps;
                deps = [];
            }

            if (!hasProp(defined, name) && !hasProp(waiting, name)) {
                waiting[name] = [name, deps, callback];
            }
        };

        define.amd = {
            jQuery: true
        };
    }());

    S2.requirejs = requirejs;S2.require = require;S2.define = define;
    }
    }());
    S2.define("almond", function(){});

    /* global jQuery:false, $:false */
    S2.define('jquery',[],function () {
      var _$ = jQuery || $;

      if (_$ == null && console && console.error) {
        console.error(
          'Select2: An instance of jQuery or a jQuery-compatible library was not ' +
          'found. Make sure that you are including jQuery before Select2 on your ' +
          'web page.'
        );
      }

      return _$;
    });

    S2.define('select2/utils',[
      'jquery'
    ], function ($) {
      var Utils = {};

      Utils.Extend = function (ChildClass, SuperClass) {
        var __hasProp = {}.hasOwnProperty;

        function BaseConstructor () {
          this.constructor = ChildClass;
        }

        for (var key in SuperClass) {
          if (__hasProp.call(SuperClass, key)) {
            ChildClass[key] = SuperClass[key];
          }
        }

        BaseConstructor.prototype = SuperClass.prototype;
        ChildClass.prototype = new BaseConstructor();
        ChildClass.__super__ = SuperClass.prototype;

        return ChildClass;
      };

      function getMethods (theClass) {
        var proto = theClass.prototype;

        var methods = [];

        for (var methodName in proto) {
          var m = proto[methodName];

          if (typeof m !== 'function') {
            continue;
          }

          if (methodName === 'constructor') {
            continue;
          }

          methods.push(methodName);
        }

        return methods;
      }

      Utils.Decorate = function (SuperClass, DecoratorClass) {
        var decoratedMethods = getMethods(DecoratorClass);
        var superMethods = getMethods(SuperClass);

        function DecoratedClass () {
          var unshift = Array.prototype.unshift;

          var argCount = DecoratorClass.prototype.constructor.length;

          var calledConstructor = SuperClass.prototype.constructor;

          if (argCount > 0) {
            unshift.call(arguments, SuperClass.prototype.constructor);

            calledConstructor = DecoratorClass.prototype.constructor;
          }

          calledConstructor.apply(this, arguments);
        }

        DecoratorClass.displayName = SuperClass.displayName;

        function ctr () {
          this.constructor = DecoratedClass;
        }

        DecoratedClass.prototype = new ctr();

        for (var m = 0; m < superMethods.length; m++) {
          var superMethod = superMethods[m];

          DecoratedClass.prototype[superMethod] =
            SuperClass.prototype[superMethod];
        }

        var calledMethod = function (methodName) {
          // Stub out the original method if it's not decorating an actual method
          var originalMethod = function () {};

          if (methodName in DecoratedClass.prototype) {
            originalMethod = DecoratedClass.prototype[methodName];
          }

          var decoratedMethod = DecoratorClass.prototype[methodName];

          return function () {
            var unshift = Array.prototype.unshift;

            unshift.call(arguments, originalMethod);

            return decoratedMethod.apply(this, arguments);
          };
        };

        for (var d = 0; d < decoratedMethods.length; d++) {
          var decoratedMethod = decoratedMethods[d];

          DecoratedClass.prototype[decoratedMethod] = calledMethod(decoratedMethod);
        }

        return DecoratedClass;
      };

      var Observable = function () {
        this.listeners = {};
      };

      Observable.prototype.on = function (event, callback) {
        this.listeners = this.listeners || {};

        if (event in this.listeners) {
          this.listeners[event].push(callback);
        } else {
          this.listeners[event] = [callback];
        }
      };

      Observable.prototype.trigger = function (event) {
        var slice = Array.prototype.slice;
        var params = slice.call(arguments, 1);

        this.listeners = this.listeners || {};

        // Params should always come in as an array
        if (params == null) {
          params = [];
        }

        // If there are no arguments to the event, use a temporary object
        if (params.length === 0) {
          params.push({});
        }

        // Set the `_type` of the first object to the event
        params[0]._type = event;

        if (event in this.listeners) {
          this.invoke(this.listeners[event], slice.call(arguments, 1));
        }

        if ('*' in this.listeners) {
          this.invoke(this.listeners['*'], arguments);
        }
      };

      Observable.prototype.invoke = function (listeners, params) {
        for (var i = 0, len = listeners.length; i < len; i++) {
          listeners[i].apply(this, params);
        }
      };

      Utils.Observable = Observable;

      Utils.generateChars = function (length) {
        var chars = '';

        for (var i = 0; i < length; i++) {
          var randomChar = Math.floor(Math.random() * 36);
          chars += randomChar.toString(36);
        }

        return chars;
      };

      Utils.bind = function (func, context) {
        return function () {
          func.apply(context, arguments);
        };
      };

      Utils._convertData = function (data) {
        for (var originalKey in data) {
          var keys = originalKey.split('-');

          var dataLevel = data;

          if (keys.length === 1) {
            continue;
          }

          for (var k = 0; k < keys.length; k++) {
            var key = keys[k];

            // Lowercase the first letter
            // By default, dash-separated becomes camelCase
            key = key.substring(0, 1).toLowerCase() + key.substring(1);

            if (!(key in dataLevel)) {
              dataLevel[key] = {};
            }

            if (k == keys.length - 1) {
              dataLevel[key] = data[originalKey];
            }

            dataLevel = dataLevel[key];
          }

          delete data[originalKey];
        }

        return data;
      };

      Utils.hasScroll = function (index, el) {
        // Adapted from the function created by @ShadowScripter
        // and adapted by @BillBarry on the Stack Exchange Code Review website.
        // The original code can be found at
        // http://codereview.stackexchange.com/q/13338
        // and was designed to be used with the Sizzle selector engine.

        var $el = $(el);
        var overflowX = el.style.overflowX;
        var overflowY = el.style.overflowY;

        //Check both x and y declarations
        if (overflowX === overflowY &&
            (overflowY === 'hidden' || overflowY === 'visible')) {
          return false;
        }

        if (overflowX === 'scroll' || overflowY === 'scroll') {
          return true;
        }

        return ($el.innerHeight() < el.scrollHeight ||
          $el.innerWidth() < el.scrollWidth);
      };

      Utils.escapeMarkup = function (markup) {
        var replaceMap = {
          '\\': '&#92;',
          '&': '&amp;',
          '<': '&lt;',
          '>': '&gt;',
          '"': '&quot;',
          '\'': '&#39;',
          '/': '&#47;'
        };

        // Do not try to escape the markup if it's not a string
        if (typeof markup !== 'string') {
          return markup;
        }

        return String(markup).replace(/[&<>"'\/\\]/g, function (match) {
          return replaceMap[match];
        });
      };

      // Append an array of jQuery nodes to a given element.
      Utils.appendMany = function ($element, $nodes) {
        // jQuery 1.7.x does not support $.fn.append() with an array
        // Fall back to a jQuery object collection using $.fn.add()
        if ($.fn.jquery.substr(0, 3) === '1.7') {
          var $jqNodes = $();

          $.map($nodes, function (node) {
            $jqNodes = $jqNodes.add(node);
          });

          $nodes = $jqNodes;
        }

        $element.append($nodes);
      };

      // Cache objects in Utils.__cache instead of $.data (see #4346)
      Utils.__cache = {};

      var id = 0;
      Utils.GetUniqueElementId = function (element) {
        // Get a unique element Id. If element has no id,
        // creates a new unique number, stores it in the id
        // attribute and returns the new id.
        // If an id already exists, it simply returns it.

        var select2Id = element.getAttribute('data-select2-id');
        if (select2Id == null) {
          // If element has id, use it.
          if (element.id) {
            select2Id = element.id;
            element.setAttribute('data-select2-id', select2Id);
          } else {
            element.setAttribute('data-select2-id', ++id);
            select2Id = id.toString();
          }
        }
        return select2Id;
      };

      Utils.StoreData = function (element, name, value) {
        // Stores an item in the cache for a specified element.
        // name is the cache key.
        var id = Utils.GetUniqueElementId(element);
        if (!Utils.__cache[id]) {
          Utils.__cache[id] = {};
        }

        Utils.__cache[id][name] = value;
      };

      Utils.GetData = function (element, name) {
        // Retrieves a value from the cache by its key (name)
        // name is optional. If no name specified, return
        // all cache items for the specified element.
        // and for a specified element.
        var id = Utils.GetUniqueElementId(element);
        if (name) {
          if (Utils.__cache[id]) {
            if (Utils.__cache[id][name] != null) {
              return Utils.__cache[id][name];
            }
            return $(element).data(name); // Fallback to HTML5 data attribs.
          }
          return $(element).data(name); // Fallback to HTML5 data attribs.
        } else {
          return Utils.__cache[id];
        }
      };

      Utils.RemoveData = function (element) {
        // Removes all cached items for a specified element.
        var id = Utils.GetUniqueElementId(element);
        if (Utils.__cache[id] != null) {
          delete Utils.__cache[id];
        }

        element.removeAttribute('data-select2-id');
      };

      return Utils;
    });

    S2.define('select2/results',[
      'jquery',
      './utils'
    ], function ($, Utils) {
      function Results ($element, options, dataAdapter) {
        this.$element = $element;
        this.data = dataAdapter;
        this.options = options;

        Results.__super__.constructor.call(this);
      }

      Utils.Extend(Results, Utils.Observable);

      Results.prototype.render = function () {
        var $results = $(
          '<ul class="select2-results__options" role="listbox"></ul>'
        );

        if (this.options.get('multiple')) {
          $results.attr('aria-multiselectable', 'true');
        }

        this.$results = $results;

        return $results;
      };

      Results.prototype.clear = function () {
        this.$results.empty();
      };

      Results.prototype.displayMessage = function (params) {
        var escapeMarkup = this.options.get('escapeMarkup');

        this.clear();
        this.hideLoading();

        var $message = $(
          '<li role="alert" aria-live="assertive"' +
          ' class="select2-results__option"></li>'
        );

        var message = this.options.get('translations').get(params.message);

        $message.append(
          escapeMarkup(
            message(params.args)
          )
        );

        $message[0].className += ' select2-results__message';

        this.$results.append($message);
      };

      Results.prototype.hideMessages = function () {
        this.$results.find('.select2-results__message').remove();
      };

      Results.prototype.append = function (data) {
        this.hideLoading();

        var $options = [];

        if (data.results == null || data.results.length === 0) {
          if (this.$results.children().length === 0) {
            this.trigger('results:message', {
              message: 'noResults'
            });
          }

          return;
        }

        data.results = this.sort(data.results);

        for (var d = 0; d < data.results.length; d++) {
          var item = data.results[d];

          var $option = this.option(item);

          $options.push($option);
        }

        this.$results.append($options);
      };

      Results.prototype.position = function ($results, $dropdown) {
        var $resultsContainer = $dropdown.find('.select2-results');
        $resultsContainer.append($results);
      };

      Results.prototype.sort = function (data) {
        var sorter = this.options.get('sorter');

        return sorter(data);
      };

      Results.prototype.highlightFirstItem = function () {
        var $options = this.$results
          .find('.select2-results__option[aria-selected]');

        var $selected = $options.filter('[aria-selected=true]');

        // Check if there are any selected options
        if ($selected.length > 0) {
          // If there are selected options, highlight the first
          $selected.first().trigger('mouseenter');
        } else {
          // If there are no selected options, highlight the first option
          // in the dropdown
          $options.first().trigger('mouseenter');
        }

        this.ensureHighlightVisible();
      };

      Results.prototype.setClasses = function () {
        var self = this;

        this.data.current(function (selected) {
          var selectedIds = $.map(selected, function (s) {
            return s.id.toString();
          });

          var $options = self.$results
            .find('.select2-results__option[aria-selected]');

          $options.each(function () {
            var $option = $(this);

            var item = Utils.GetData(this, 'data');

            // id needs to be converted to a string when comparing
            var id = '' + item.id;

            if ((item.element != null && item.element.selected) ||
                (item.element == null && $.inArray(id, selectedIds) > -1)) {
              $option.attr('aria-selected', 'true');
            } else {
              $option.attr('aria-selected', 'false');
            }
          });

        });
      };

      Results.prototype.showLoading = function (params) {
        this.hideLoading();

        var loadingMore = this.options.get('translations').get('searching');

        var loading = {
          disabled: true,
          loading: true,
          text: loadingMore(params)
        };
        var $loading = this.option(loading);
        $loading.className += ' loading-results';

        this.$results.prepend($loading);
      };

      Results.prototype.hideLoading = function () {
        this.$results.find('.loading-results').remove();
      };

      Results.prototype.option = function (data) {
        var option = document.createElement('li');
        option.className = 'select2-results__option';

        var attrs = {
          'role': 'option',
          'aria-selected': 'false'
        };

        var matches = window.Element.prototype.matches ||
          window.Element.prototype.msMatchesSelector ||
          window.Element.prototype.webkitMatchesSelector;

        if ((data.element != null && matches.call(data.element, ':disabled')) ||
            (data.element == null && data.disabled)) {
          delete attrs['aria-selected'];
          attrs['aria-disabled'] = 'true';
        }

        if (data.id == null) {
          delete attrs['aria-selected'];
        }

        if (data._resultId != null) {
          option.id = data._resultId;
        }

        if (data.title) {
          option.title = data.title;
        }

        if (data.children) {
          attrs.role = 'group';
          attrs['aria-label'] = data.text;
          delete attrs['aria-selected'];
        }

        for (var attr in attrs) {
          var val = attrs[attr];

          option.setAttribute(attr, val);
        }

        if (data.children) {
          var $option = $(option);

          var label = document.createElement('strong');
          label.className = 'select2-results__group';

          var $label = $(label);
          this.template(data, label);

          var $children = [];

          for (var c = 0; c < data.children.length; c++) {
            var child = data.children[c];

            var $child = this.option(child);

            $children.push($child);
          }

          var $childrenContainer = $('<ul></ul>', {
            'class': 'select2-results__options select2-results__options--nested'
          });

          $childrenContainer.append($children);

          $option.append(label);
          $option.append($childrenContainer);
        } else {
          this.template(data, option);
        }

        Utils.StoreData(option, 'data', data);

        return option;
      };

      Results.prototype.bind = function (container, $container) {
        var self = this;

        var id = container.id + '-results';

        this.$results.attr('id', id);

        container.on('results:all', function (params) {
          self.clear();
          self.append(params.data);

          if (container.isOpen()) {
            self.setClasses();
            self.highlightFirstItem();
          }
        });

        container.on('results:append', function (params) {
          self.append(params.data);

          if (container.isOpen()) {
            self.setClasses();
          }
        });

        container.on('query', function (params) {
          self.hideMessages();
          self.showLoading(params);
        });

        container.on('select', function () {
          if (!container.isOpen()) {
            return;
          }

          self.setClasses();

          if (self.options.get('scrollAfterSelect')) {
            self.highlightFirstItem();
          }
        });

        container.on('unselect', function () {
          if (!container.isOpen()) {
            return;
          }

          self.setClasses();

          if (self.options.get('scrollAfterSelect')) {
            self.highlightFirstItem();
          }
        });

        container.on('open', function () {
          // When the dropdown is open, aria-expended="true"
          self.$results.attr('aria-expanded', 'true');
          self.$results.attr('aria-hidden', 'false');

          self.setClasses();
          self.ensureHighlightVisible();
        });

        container.on('close', function () {
          // When the dropdown is closed, aria-expended="false"
          self.$results.attr('aria-expanded', 'false');
          self.$results.attr('aria-hidden', 'true');
          self.$results.removeAttr('aria-activedescendant');
        });

        container.on('results:toggle', function () {
          var $highlighted = self.getHighlightedResults();

          if ($highlighted.length === 0) {
            return;
          }

          $highlighted.trigger('mouseup');
        });

        container.on('results:select', function () {
          var $highlighted = self.getHighlightedResults();

          if ($highlighted.length === 0) {
            return;
          }

          var data = Utils.GetData($highlighted[0], 'data');

          if ($highlighted.attr('aria-selected') == 'true') {
            self.trigger('close', {});
          } else {
            self.trigger('select', {
              data: data
            });
          }
        });

        container.on('results:previous', function () {
          var $highlighted = self.getHighlightedResults();

          var $options = self.$results.find('[aria-selected]');

          var currentIndex = $options.index($highlighted);

          // If we are already at the top, don't move further
          // If no options, currentIndex will be -1
          if (currentIndex <= 0) {
            return;
          }

          var nextIndex = currentIndex - 1;

          // If none are highlighted, highlight the first
          if ($highlighted.length === 0) {
            nextIndex = 0;
          }

          var $next = $options.eq(nextIndex);

          $next.trigger('mouseenter');

          var currentOffset = self.$results.offset().top;
          var nextTop = $next.offset().top;
          var nextOffset = self.$results.scrollTop() + (nextTop - currentOffset);

          if (nextIndex === 0) {
            self.$results.scrollTop(0);
          } else if (nextTop - currentOffset < 0) {
            self.$results.scrollTop(nextOffset);
          }
        });

        container.on('results:next', function () {
          var $highlighted = self.getHighlightedResults();

          var $options = self.$results.find('[aria-selected]');

          var currentIndex = $options.index($highlighted);

          var nextIndex = currentIndex + 1;

          // If we are at the last option, stay there
          if (nextIndex >= $options.length) {
            return;
          }

          var $next = $options.eq(nextIndex);

          $next.trigger('mouseenter');

          var currentOffset = self.$results.offset().top +
            self.$results.outerHeight(false);
          var nextBottom = $next.offset().top + $next.outerHeight(false);
          var nextOffset = self.$results.scrollTop() + nextBottom - currentOffset;

          if (nextIndex === 0) {
            self.$results.scrollTop(0);
          } else if (nextBottom > currentOffset) {
            self.$results.scrollTop(nextOffset);
          }
        });

        container.on('results:focus', function (params) {
          params.element.addClass('select2-results__option--highlighted');
        });

        container.on('results:message', function (params) {
          self.displayMessage(params);
        });

        if ($.fn.mousewheel) {
          this.$results.on('mousewheel', function (e) {
            var top = self.$results.scrollTop();

            var bottom = self.$results.get(0).scrollHeight - top + e.deltaY;

            var isAtTop = e.deltaY > 0 && top - e.deltaY <= 0;
            var isAtBottom = e.deltaY < 0 && bottom <= self.$results.height();

            if (isAtTop) {
              self.$results.scrollTop(0);

              e.preventDefault();
              e.stopPropagation();
            } else if (isAtBottom) {
              self.$results.scrollTop(
                self.$results.get(0).scrollHeight - self.$results.height()
              );

              e.preventDefault();
              e.stopPropagation();
            }
          });
        }

        this.$results.on('mouseup', '.select2-results__option[aria-selected]',
          function (evt) {
          var $this = $(this);

          var data = Utils.GetData(this, 'data');

          if ($this.attr('aria-selected') === 'true') {
            if (self.options.get('multiple')) {
              self.trigger('unselect', {
                originalEvent: evt,
                data: data
              });
            } else {
              self.trigger('close', {});
            }

            return;
          }

          self.trigger('select', {
            originalEvent: evt,
            data: data
          });
        });

        this.$results.on('mouseenter', '.select2-results__option[aria-selected]',
          function (evt) {
          var data = Utils.GetData(this, 'data');

          self.getHighlightedResults()
              .removeClass('select2-results__option--highlighted');

          self.trigger('results:focus', {
            data: data,
            element: $(this)
          });
        });
      };

      Results.prototype.getHighlightedResults = function () {
        var $highlighted = this.$results
        .find('.select2-results__option--highlighted');

        return $highlighted;
      };

      Results.prototype.destroy = function () {
        this.$results.remove();
      };

      Results.prototype.ensureHighlightVisible = function () {
        var $highlighted = this.getHighlightedResults();

        if ($highlighted.length === 0) {
          return;
        }

        var $options = this.$results.find('[aria-selected]');

        var currentIndex = $options.index($highlighted);

        var currentOffset = this.$results.offset().top;
        var nextTop = $highlighted.offset().top;
        var nextOffset = this.$results.scrollTop() + (nextTop - currentOffset);

        var offsetDelta = nextTop - currentOffset;
        nextOffset -= $highlighted.outerHeight(false) * 2;

        if (currentIndex <= 2) {
          this.$results.scrollTop(0);
        } else if (offsetDelta > this.$results.outerHeight() || offsetDelta < 0) {
          this.$results.scrollTop(nextOffset);
        }
      };

      Results.prototype.template = function (result, container) {
        var template = this.options.get('templateResult');
        var escapeMarkup = this.options.get('escapeMarkup');

        var content = template(result, container);

        if (content == null) {
          container.style.display = 'none';
        } else if (typeof content === 'string') {
          container.innerHTML = escapeMarkup(content);
        } else {
          $(container).append(content);
        }
      };

      return Results;
    });

    S2.define('select2/keys',[

    ], function () {
      var KEYS = {
        BACKSPACE: 8,
        TAB: 9,
        ENTER: 13,
        SHIFT: 16,
        CTRL: 17,
        ALT: 18,
        ESC: 27,
        SPACE: 32,
        PAGE_UP: 33,
        PAGE_DOWN: 34,
        END: 35,
        HOME: 36,
        LEFT: 37,
        UP: 38,
        RIGHT: 39,
        DOWN: 40,
        DELETE: 46
      };

      return KEYS;
    });

    S2.define('select2/selection/base',[
      'jquery',
      '../utils',
      '../keys'
    ], function ($, Utils, KEYS) {
      function BaseSelection ($element, options) {
        this.$element = $element;
        this.options = options;

        BaseSelection.__super__.constructor.call(this);
      }

      Utils.Extend(BaseSelection, Utils.Observable);

      BaseSelection.prototype.render = function () {
        var $selection = $(
          '<span class="select2-selection" role="combobox" ' +
          ' aria-haspopup="true" aria-expanded="false">' +
          '</span>'
        );

        this._tabindex = 0;

        if (Utils.GetData(this.$element[0], 'old-tabindex') != null) {
          this._tabindex = Utils.GetData(this.$element[0], 'old-tabindex');
        } else if (this.$element.attr('tabindex') != null) {
          this._tabindex = this.$element.attr('tabindex');
        }

        $selection.attr('title', this.$element.attr('title'));
        $selection.attr('tabindex', this._tabindex);
        $selection.attr('aria-disabled', 'false');

        this.$selection = $selection;

        return $selection;
      };

      BaseSelection.prototype.bind = function (container, $container) {
        var self = this;

        var resultsId = container.id + '-results';

        this.container = container;

        this.$selection.on('focus', function (evt) {
          self.trigger('focus', evt);
        });

        this.$selection.on('blur', function (evt) {
          self._handleBlur(evt);
        });

        this.$selection.on('keydown', function (evt) {
          self.trigger('keypress', evt);

          if (evt.which === KEYS.SPACE) {
            evt.preventDefault();
          }
        });

        container.on('results:focus', function (params) {
          self.$selection.attr('aria-activedescendant', params.data._resultId);
        });

        container.on('selection:update', function (params) {
          self.update(params.data);
        });

        container.on('open', function () {
          // When the dropdown is open, aria-expanded="true"
          self.$selection.attr('aria-expanded', 'true');
          self.$selection.attr('aria-owns', resultsId);

          self._attachCloseHandler(container);
        });

        container.on('close', function () {
          // When the dropdown is closed, aria-expanded="false"
          self.$selection.attr('aria-expanded', 'false');
          self.$selection.removeAttr('aria-activedescendant');
          self.$selection.removeAttr('aria-owns');

          self.$selection.trigger('focus');

          self._detachCloseHandler(container);
        });

        container.on('enable', function () {
          self.$selection.attr('tabindex', self._tabindex);
          self.$selection.attr('aria-disabled', 'false');
        });

        container.on('disable', function () {
          self.$selection.attr('tabindex', '-1');
          self.$selection.attr('aria-disabled', 'true');
        });
      };

      BaseSelection.prototype._handleBlur = function (evt) {
        var self = this;

        // This needs to be delayed as the active element is the body when the tab
        // key is pressed, possibly along with others.
        window.setTimeout(function () {
          // Don't trigger `blur` if the focus is still in the selection
          if (
            (document.activeElement == self.$selection[0]) ||
            ($.contains(self.$selection[0], document.activeElement))
          ) {
            return;
          }

          self.trigger('blur', evt);
        }, 1);
      };

      BaseSelection.prototype._attachCloseHandler = function (container) {

        $(document.body).on('mousedown.select2.' + container.id, function (e) {
          var $target = $(e.target);

          var $select = $target.closest('.select2');

          var $all = $('.select2.select2-container--open');

          $all.each(function () {
            if (this == $select[0]) {
              return;
            }

            var $element = Utils.GetData(this, 'element');

            $element.select2('close');
          });
        });
      };

      BaseSelection.prototype._detachCloseHandler = function (container) {
        $(document.body).off('mousedown.select2.' + container.id);
      };

      BaseSelection.prototype.position = function ($selection, $container) {
        var $selectionContainer = $container.find('.selection');
        $selectionContainer.append($selection);
      };

      BaseSelection.prototype.destroy = function () {
        this._detachCloseHandler(this.container);
      };

      BaseSelection.prototype.update = function (data) {
        throw new Error('The `update` method must be defined in child classes.');
      };

      /**
       * Helper method to abstract the "enabled" (not "disabled") state of this
       * object.
       *
       * @return {true} if the instance is not disabled.
       * @return {false} if the instance is disabled.
       */
      BaseSelection.prototype.isEnabled = function () {
        return !this.isDisabled();
      };

      /**
       * Helper method to abstract the "disabled" state of this object.
       *
       * @return {true} if the disabled option is true.
       * @return {false} if the disabled option is false.
       */
      BaseSelection.prototype.isDisabled = function () {
        return this.options.get('disabled');
      };

      return BaseSelection;
    });

    S2.define('select2/selection/single',[
      'jquery',
      './base',
      '../utils',
      '../keys'
    ], function ($, BaseSelection, Utils, KEYS) {
      function SingleSelection () {
        SingleSelection.__super__.constructor.apply(this, arguments);
      }

      Utils.Extend(SingleSelection, BaseSelection);

      SingleSelection.prototype.render = function () {
        var $selection = SingleSelection.__super__.render.call(this);

        $selection.addClass('select2-selection--single');

        $selection.html(
          '<span class="select2-selection__rendered"></span>' +
          '<span class="select2-selection__arrow" role="presentation">' +
            '<b role="presentation"></b>' +
          '</span>'
        );

        return $selection;
      };

      SingleSelection.prototype.bind = function (container, $container) {
        var self = this;

        SingleSelection.__super__.bind.apply(this, arguments);

        var id = container.id + '-container';

        this.$selection.find('.select2-selection__rendered')
          .attr('id', id)
          .attr('role', 'textbox')
          .attr('aria-readonly', 'true');
        this.$selection.attr('aria-labelledby', id);

        this.$selection.on('mousedown', function (evt) {
          // Only respond to left clicks
          if (evt.which !== 1) {
            return;
          }

          self.trigger('toggle', {
            originalEvent: evt
          });
        });

        this.$selection.on('focus', function (evt) {
          // User focuses on the container
        });

        this.$selection.on('blur', function (evt) {
          // User exits the container
        });

        container.on('focus', function (evt) {
          if (!container.isOpen()) {
            self.$selection.trigger('focus');
          }
        });
      };

      SingleSelection.prototype.clear = function () {
        var $rendered = this.$selection.find('.select2-selection__rendered');
        $rendered.empty();
        $rendered.removeAttr('title'); // clear tooltip on empty
      };

      SingleSelection.prototype.display = function (data, container) {
        var template = this.options.get('templateSelection');
        var escapeMarkup = this.options.get('escapeMarkup');

        return escapeMarkup(template(data, container));
      };

      SingleSelection.prototype.selectionContainer = function () {
        return $('<span></span>');
      };

      SingleSelection.prototype.update = function (data) {
        if (data.length === 0) {
          this.clear();
          return;
        }

        var selection = data[0];

        var $rendered = this.$selection.find('.select2-selection__rendered');
        var formatted = this.display(selection, $rendered);

        $rendered.empty().append(formatted);

        var title = selection.title || selection.text;

        if (title) {
          $rendered.attr('title', title);
        } else {
          $rendered.removeAttr('title');
        }
      };

      return SingleSelection;
    });

    S2.define('select2/selection/multiple',[
      'jquery',
      './base',
      '../utils'
    ], function ($, BaseSelection, Utils) {
      function MultipleSelection ($element, options) {
        MultipleSelection.__super__.constructor.apply(this, arguments);
      }

      Utils.Extend(MultipleSelection, BaseSelection);

      MultipleSelection.prototype.render = function () {
        var $selection = MultipleSelection.__super__.render.call(this);

        $selection.addClass('select2-selection--multiple');

        $selection.html(
          '<ul class="select2-selection__rendered"></ul>'
        );

        return $selection;
      };

      MultipleSelection.prototype.bind = function (container, $container) {
        var self = this;

        MultipleSelection.__super__.bind.apply(this, arguments);

        this.$selection.on('click', function (evt) {
          self.trigger('toggle', {
            originalEvent: evt
          });
        });

        this.$selection.on(
          'click',
          '.select2-selection__choice__remove',
          function (evt) {
            // Ignore the event if it is disabled
            if (self.isDisabled()) {
              return;
            }

            var $remove = $(this);
            var $selection = $remove.parent();

            var data = Utils.GetData($selection[0], 'data');

            self.trigger('unselect', {
              originalEvent: evt,
              data: data
            });
          }
        );
      };

      MultipleSelection.prototype.clear = function () {
        var $rendered = this.$selection.find('.select2-selection__rendered');
        $rendered.empty();
        $rendered.removeAttr('title');
      };

      MultipleSelection.prototype.display = function (data, container) {
        var template = this.options.get('templateSelection');
        var escapeMarkup = this.options.get('escapeMarkup');

        return escapeMarkup(template(data, container));
      };

      MultipleSelection.prototype.selectionContainer = function () {
        var $container = $(
          '<li class="select2-selection__choice">' +
            '<span class="select2-selection__choice__remove" role="presentation">' +
              '&times;' +
            '</span>' +
          '</li>'
        );

        return $container;
      };

      MultipleSelection.prototype.update = function (data) {
        this.clear();

        if (data.length === 0) {
          return;
        }

        var $selections = [];

        for (var d = 0; d < data.length; d++) {
          var selection = data[d];

          var $selection = this.selectionContainer();
          var formatted = this.display(selection, $selection);

          $selection.append(formatted);

          var title = selection.title || selection.text;

          if (title) {
            $selection.attr('title', title);
          }

          Utils.StoreData($selection[0], 'data', selection);

          $selections.push($selection);
        }

        var $rendered = this.$selection.find('.select2-selection__rendered');

        Utils.appendMany($rendered, $selections);
      };

      return MultipleSelection;
    });

    S2.define('select2/selection/placeholder',[
      '../utils'
    ], function (Utils) {
      function Placeholder (decorated, $element, options) {
        this.placeholder = this.normalizePlaceholder(options.get('placeholder'));

        decorated.call(this, $element, options);
      }

      Placeholder.prototype.normalizePlaceholder = function (_, placeholder) {
        if (typeof placeholder === 'string') {
          placeholder = {
            id: '',
            text: placeholder
          };
        }

        return placeholder;
      };

      Placeholder.prototype.createPlaceholder = function (decorated, placeholder) {
        var $placeholder = this.selectionContainer();

        $placeholder.html(this.display(placeholder));
        $placeholder.addClass('select2-selection__placeholder')
                    .removeClass('select2-selection__choice');

        return $placeholder;
      };

      Placeholder.prototype.update = function (decorated, data) {
        var singlePlaceholder = (
          data.length == 1 && data[0].id != this.placeholder.id
        );
        var multipleSelections = data.length > 1;

        if (multipleSelections || singlePlaceholder) {
          return decorated.call(this, data);
        }

        this.clear();

        var $placeholder = this.createPlaceholder(this.placeholder);

        this.$selection.find('.select2-selection__rendered').append($placeholder);
      };

      return Placeholder;
    });

    S2.define('select2/selection/allowClear',[
      'jquery',
      '../keys',
      '../utils'
    ], function ($, KEYS, Utils) {
      function AllowClear () { }

      AllowClear.prototype.bind = function (decorated, container, $container) {
        var self = this;

        decorated.call(this, container, $container);

        if (this.placeholder == null) {
          if (this.options.get('debug') && window.console && console.error) {
            console.error(
              'Select2: The `allowClear` option should be used in combination ' +
              'with the `placeholder` option.'
            );
          }
        }

        this.$selection.on('mousedown', '.select2-selection__clear',
          function (evt) {
            self._handleClear(evt);
        });

        container.on('keypress', function (evt) {
          self._handleKeyboardClear(evt, container);
        });
      };

      AllowClear.prototype._handleClear = function (_, evt) {
        // Ignore the event if it is disabled
        if (this.isDisabled()) {
          return;
        }

        var $clear = this.$selection.find('.select2-selection__clear');

        // Ignore the event if nothing has been selected
        if ($clear.length === 0) {
          return;
        }

        evt.stopPropagation();

        var data = Utils.GetData($clear[0], 'data');

        var previousVal = this.$element.val();
        this.$element.val(this.placeholder.id);

        var unselectData = {
          data: data
        };
        this.trigger('clear', unselectData);
        if (unselectData.prevented) {
          this.$element.val(previousVal);
          return;
        }

        for (var d = 0; d < data.length; d++) {
          unselectData = {
            data: data[d]
          };

          // Trigger the `unselect` event, so people can prevent it from being
          // cleared.
          this.trigger('unselect', unselectData);

          // If the event was prevented, don't clear it out.
          if (unselectData.prevented) {
            this.$element.val(previousVal);
            return;
          }
        }

        this.$element.trigger('input').trigger('change');

        this.trigger('toggle', {});
      };

      AllowClear.prototype._handleKeyboardClear = function (_, evt, container) {
        if (container.isOpen()) {
          return;
        }

        if (evt.which == KEYS.DELETE || evt.which == KEYS.BACKSPACE) {
          this._handleClear(evt);
        }
      };

      AllowClear.prototype.update = function (decorated, data) {
        decorated.call(this, data);

        if (this.$selection.find('.select2-selection__placeholder').length > 0 ||
            data.length === 0) {
          return;
        }

        var removeAll = this.options.get('translations').get('removeAllItems');

        var $remove = $(
          '<span class="select2-selection__clear" title="' + removeAll() +'">' +
            '&times;' +
          '</span>'
        );
        Utils.StoreData($remove[0], 'data', data);

        this.$selection.find('.select2-selection__rendered').prepend($remove);
      };

      return AllowClear;
    });

    S2.define('select2/selection/search',[
      'jquery',
      '../utils',
      '../keys'
    ], function ($, Utils, KEYS) {
      function Search (decorated, $element, options) {
        decorated.call(this, $element, options);
      }

      Search.prototype.render = function (decorated) {
        var $search = $(
          '<li class="select2-search select2-search--inline">' +
            '<input class="select2-search__field" type="search" tabindex="-1"' +
            ' autocomplete="off" autocorrect="off" autocapitalize="none"' +
            ' spellcheck="false" role="searchbox" aria-autocomplete="list" />' +
          '</li>'
        );

        this.$searchContainer = $search;
        this.$search = $search.find('input');

        var $rendered = decorated.call(this);

        this._transferTabIndex();

        return $rendered;
      };

      Search.prototype.bind = function (decorated, container, $container) {
        var self = this;

        var resultsId = container.id + '-results';

        decorated.call(this, container, $container);

        container.on('open', function () {
          self.$search.attr('aria-controls', resultsId);
          self.$search.trigger('focus');
        });

        container.on('close', function () {
          self.$search.val('');
          self.$search.removeAttr('aria-controls');
          self.$search.removeAttr('aria-activedescendant');
          self.$search.trigger('focus');
        });

        container.on('enable', function () {
          self.$search.prop('disabled', false);

          self._transferTabIndex();
        });

        container.on('disable', function () {
          self.$search.prop('disabled', true);
        });

        container.on('focus', function (evt) {
          self.$search.trigger('focus');
        });

        container.on('results:focus', function (params) {
          if (params.data._resultId) {
            self.$search.attr('aria-activedescendant', params.data._resultId);
          } else {
            self.$search.removeAttr('aria-activedescendant');
          }
        });

        this.$selection.on('focusin', '.select2-search--inline', function (evt) {
          self.trigger('focus', evt);
        });

        this.$selection.on('focusout', '.select2-search--inline', function (evt) {
          self._handleBlur(evt);
        });

        this.$selection.on('keydown', '.select2-search--inline', function (evt) {
          evt.stopPropagation();

          self.trigger('keypress', evt);

          self._keyUpPrevented = evt.isDefaultPrevented();

          var key = evt.which;

          if (key === KEYS.BACKSPACE && self.$search.val() === '') {
            var $previousChoice = self.$searchContainer
              .prev('.select2-selection__choice');

            if ($previousChoice.length > 0) {
              var item = Utils.GetData($previousChoice[0], 'data');

              self.searchRemoveChoice(item);

              evt.preventDefault();
            }
          }
        });

        this.$selection.on('click', '.select2-search--inline', function (evt) {
          if (self.$search.val()) {
            evt.stopPropagation();
          }
        });

        // Try to detect the IE version should the `documentMode` property that
        // is stored on the document. This is only implemented in IE and is
        // slightly cleaner than doing a user agent check.
        // This property is not available in Edge, but Edge also doesn't have
        // this bug.
        var msie = document.documentMode;
        var disableInputEvents = msie && msie <= 11;

        // Workaround for browsers which do not support the `input` event
        // This will prevent double-triggering of events for browsers which support
        // both the `keyup` and `input` events.
        this.$selection.on(
          'input.searchcheck',
          '.select2-search--inline',
          function (evt) {
            // IE will trigger the `input` event when a placeholder is used on a
            // search box. To get around this issue, we are forced to ignore all
            // `input` events in IE and keep using `keyup`.
            if (disableInputEvents) {
              self.$selection.off('input.search input.searchcheck');
              return;
            }

            // Unbind the duplicated `keyup` event
            self.$selection.off('keyup.search');
          }
        );

        this.$selection.on(
          'keyup.search input.search',
          '.select2-search--inline',
          function (evt) {
            // IE will trigger the `input` event when a placeholder is used on a
            // search box. To get around this issue, we are forced to ignore all
            // `input` events in IE and keep using `keyup`.
            if (disableInputEvents && evt.type === 'input') {
              self.$selection.off('input.search input.searchcheck');
              return;
            }

            var key = evt.which;

            // We can freely ignore events from modifier keys
            if (key == KEYS.SHIFT || key == KEYS.CTRL || key == KEYS.ALT) {
              return;
            }

            // Tabbing will be handled during the `keydown` phase
            if (key == KEYS.TAB) {
              return;
            }

            self.handleSearch(evt);
          }
        );
      };

      /**
       * This method will transfer the tabindex attribute from the rendered
       * selection to the search box. This allows for the search box to be used as
       * the primary focus instead of the selection container.
       *
       * @private
       */
      Search.prototype._transferTabIndex = function (decorated) {
        this.$search.attr('tabindex', this.$selection.attr('tabindex'));
        this.$selection.attr('tabindex', '-1');
      };

      Search.prototype.createPlaceholder = function (decorated, placeholder) {
        this.$search.attr('placeholder', placeholder.text);
      };

      Search.prototype.update = function (decorated, data) {
        var searchHadFocus = this.$search[0] == document.activeElement;

        this.$search.attr('placeholder', '');

        decorated.call(this, data);

        this.$selection.find('.select2-selection__rendered')
                       .append(this.$searchContainer);

        this.resizeSearch();
        if (searchHadFocus) {
          this.$search.trigger('focus');
        }
      };

      Search.prototype.handleSearch = function () {
        this.resizeSearch();

        if (!this._keyUpPrevented) {
          var input = this.$search.val();

          this.trigger('query', {
            term: input
          });
        }

        this._keyUpPrevented = false;
      };

      Search.prototype.searchRemoveChoice = function (decorated, item) {
        this.trigger('unselect', {
          data: item
        });

        this.$search.val(item.text);
        this.handleSearch();
      };

      Search.prototype.resizeSearch = function () {
        this.$search.css('width', '25px');

        var width = '';

        if (this.$search.attr('placeholder') !== '') {
          width = this.$selection.find('.select2-selection__rendered').width();
        } else {
          var minimumWidth = this.$search.val().length + 1;

          width = (minimumWidth * 0.75) + 'em';
        }

        this.$search.css('width', width);
      };

      return Search;
    });

    S2.define('select2/selection/eventRelay',[
      'jquery'
    ], function ($) {
      function EventRelay () { }

      EventRelay.prototype.bind = function (decorated, container, $container) {
        var self = this;
        var relayEvents = [
          'open', 'opening',
          'close', 'closing',
          'select', 'selecting',
          'unselect', 'unselecting',
          'clear', 'clearing'
        ];

        var preventableEvents = [
          'opening', 'closing', 'selecting', 'unselecting', 'clearing'
        ];

        decorated.call(this, container, $container);

        container.on('*', function (name, params) {
          // Ignore events that should not be relayed
          if ($.inArray(name, relayEvents) === -1) {
            return;
          }

          // The parameters should always be an object
          params = params || {};

          // Generate the jQuery event for the Select2 event
          var evt = $.Event('select2:' + name, {
            params: params
          });

          self.$element.trigger(evt);

          // Only handle preventable events if it was one
          if ($.inArray(name, preventableEvents) === -1) {
            return;
          }

          params.prevented = evt.isDefaultPrevented();
        });
      };

      return EventRelay;
    });

    S2.define('select2/translation',[
      'jquery',
      'require'
    ], function ($, require) {
      function Translation (dict) {
        this.dict = dict || {};
      }

      Translation.prototype.all = function () {
        return this.dict;
      };

      Translation.prototype.get = function (key) {
        return this.dict[key];
      };

      Translation.prototype.extend = function (translation) {
        this.dict = $.extend({}, translation.all(), this.dict);
      };

      // Static functions

      Translation._cache = {};

      Translation.loadPath = function (path) {
        if (!(path in Translation._cache)) {
          var translations = require(path);

          Translation._cache[path] = translations;
        }

        return new Translation(Translation._cache[path]);
      };

      return Translation;
    });

    S2.define('select2/diacritics',[

    ], function () {
      var diacritics = {
        '\u24B6': 'A',
        '\uFF21': 'A',
        '\u00C0': 'A',
        '\u00C1': 'A',
        '\u00C2': 'A',
        '\u1EA6': 'A',
        '\u1EA4': 'A',
        '\u1EAA': 'A',
        '\u1EA8': 'A',
        '\u00C3': 'A',
        '\u0100': 'A',
        '\u0102': 'A',
        '\u1EB0': 'A',
        '\u1EAE': 'A',
        '\u1EB4': 'A',
        '\u1EB2': 'A',
        '\u0226': 'A',
        '\u01E0': 'A',
        '\u00C4': 'A',
        '\u01DE': 'A',
        '\u1EA2': 'A',
        '\u00C5': 'A',
        '\u01FA': 'A',
        '\u01CD': 'A',
        '\u0200': 'A',
        '\u0202': 'A',
        '\u1EA0': 'A',
        '\u1EAC': 'A',
        '\u1EB6': 'A',
        '\u1E00': 'A',
        '\u0104': 'A',
        '\u023A': 'A',
        '\u2C6F': 'A',
        '\uA732': 'AA',
        '\u00C6': 'AE',
        '\u01FC': 'AE',
        '\u01E2': 'AE',
        '\uA734': 'AO',
        '\uA736': 'AU',
        '\uA738': 'AV',
        '\uA73A': 'AV',
        '\uA73C': 'AY',
        '\u24B7': 'B',
        '\uFF22': 'B',
        '\u1E02': 'B',
        '\u1E04': 'B',
        '\u1E06': 'B',
        '\u0243': 'B',
        '\u0182': 'B',
        '\u0181': 'B',
        '\u24B8': 'C',
        '\uFF23': 'C',
        '\u0106': 'C',
        '\u0108': 'C',
        '\u010A': 'C',
        '\u010C': 'C',
        '\u00C7': 'C',
        '\u1E08': 'C',
        '\u0187': 'C',
        '\u023B': 'C',
        '\uA73E': 'C',
        '\u24B9': 'D',
        '\uFF24': 'D',
        '\u1E0A': 'D',
        '\u010E': 'D',
        '\u1E0C': 'D',
        '\u1E10': 'D',
        '\u1E12': 'D',
        '\u1E0E': 'D',
        '\u0110': 'D',
        '\u018B': 'D',
        '\u018A': 'D',
        '\u0189': 'D',
        '\uA779': 'D',
        '\u01F1': 'DZ',
        '\u01C4': 'DZ',
        '\u01F2': 'Dz',
        '\u01C5': 'Dz',
        '\u24BA': 'E',
        '\uFF25': 'E',
        '\u00C8': 'E',
        '\u00C9': 'E',
        '\u00CA': 'E',
        '\u1EC0': 'E',
        '\u1EBE': 'E',
        '\u1EC4': 'E',
        '\u1EC2': 'E',
        '\u1EBC': 'E',
        '\u0112': 'E',
        '\u1E14': 'E',
        '\u1E16': 'E',
        '\u0114': 'E',
        '\u0116': 'E',
        '\u00CB': 'E',
        '\u1EBA': 'E',
        '\u011A': 'E',
        '\u0204': 'E',
        '\u0206': 'E',
        '\u1EB8': 'E',
        '\u1EC6': 'E',
        '\u0228': 'E',
        '\u1E1C': 'E',
        '\u0118': 'E',
        '\u1E18': 'E',
        '\u1E1A': 'E',
        '\u0190': 'E',
        '\u018E': 'E',
        '\u24BB': 'F',
        '\uFF26': 'F',
        '\u1E1E': 'F',
        '\u0191': 'F',
        '\uA77B': 'F',
        '\u24BC': 'G',
        '\uFF27': 'G',
        '\u01F4': 'G',
        '\u011C': 'G',
        '\u1E20': 'G',
        '\u011E': 'G',
        '\u0120': 'G',
        '\u01E6': 'G',
        '\u0122': 'G',
        '\u01E4': 'G',
        '\u0193': 'G',
        '\uA7A0': 'G',
        '\uA77D': 'G',
        '\uA77E': 'G',
        '\u24BD': 'H',
        '\uFF28': 'H',
        '\u0124': 'H',
        '\u1E22': 'H',
        '\u1E26': 'H',
        '\u021E': 'H',
        '\u1E24': 'H',
        '\u1E28': 'H',
        '\u1E2A': 'H',
        '\u0126': 'H',
        '\u2C67': 'H',
        '\u2C75': 'H',
        '\uA78D': 'H',
        '\u24BE': 'I',
        '\uFF29': 'I',
        '\u00CC': 'I',
        '\u00CD': 'I',
        '\u00CE': 'I',
        '\u0128': 'I',
        '\u012A': 'I',
        '\u012C': 'I',
        '\u0130': 'I',
        '\u00CF': 'I',
        '\u1E2E': 'I',
        '\u1EC8': 'I',
        '\u01CF': 'I',
        '\u0208': 'I',
        '\u020A': 'I',
        '\u1ECA': 'I',
        '\u012E': 'I',
        '\u1E2C': 'I',
        '\u0197': 'I',
        '\u24BF': 'J',
        '\uFF2A': 'J',
        '\u0134': 'J',
        '\u0248': 'J',
        '\u24C0': 'K',
        '\uFF2B': 'K',
        '\u1E30': 'K',
        '\u01E8': 'K',
        '\u1E32': 'K',
        '\u0136': 'K',
        '\u1E34': 'K',
        '\u0198': 'K',
        '\u2C69': 'K',
        '\uA740': 'K',
        '\uA742': 'K',
        '\uA744': 'K',
        '\uA7A2': 'K',
        '\u24C1': 'L',
        '\uFF2C': 'L',
        '\u013F': 'L',
        '\u0139': 'L',
        '\u013D': 'L',
        '\u1E36': 'L',
        '\u1E38': 'L',
        '\u013B': 'L',
        '\u1E3C': 'L',
        '\u1E3A': 'L',
        '\u0141': 'L',
        '\u023D': 'L',
        '\u2C62': 'L',
        '\u2C60': 'L',
        '\uA748': 'L',
        '\uA746': 'L',
        '\uA780': 'L',
        '\u01C7': 'LJ',
        '\u01C8': 'Lj',
        '\u24C2': 'M',
        '\uFF2D': 'M',
        '\u1E3E': 'M',
        '\u1E40': 'M',
        '\u1E42': 'M',
        '\u2C6E': 'M',
        '\u019C': 'M',
        '\u24C3': 'N',
        '\uFF2E': 'N',
        '\u01F8': 'N',
        '\u0143': 'N',
        '\u00D1': 'N',
        '\u1E44': 'N',
        '\u0147': 'N',
        '\u1E46': 'N',
        '\u0145': 'N',
        '\u1E4A': 'N',
        '\u1E48': 'N',
        '\u0220': 'N',
        '\u019D': 'N',
        '\uA790': 'N',
        '\uA7A4': 'N',
        '\u01CA': 'NJ',
        '\u01CB': 'Nj',
        '\u24C4': 'O',
        '\uFF2F': 'O',
        '\u00D2': 'O',
        '\u00D3': 'O',
        '\u00D4': 'O',
        '\u1ED2': 'O',
        '\u1ED0': 'O',
        '\u1ED6': 'O',
        '\u1ED4': 'O',
        '\u00D5': 'O',
        '\u1E4C': 'O',
        '\u022C': 'O',
        '\u1E4E': 'O',
        '\u014C': 'O',
        '\u1E50': 'O',
        '\u1E52': 'O',
        '\u014E': 'O',
        '\u022E': 'O',
        '\u0230': 'O',
        '\u00D6': 'O',
        '\u022A': 'O',
        '\u1ECE': 'O',
        '\u0150': 'O',
        '\u01D1': 'O',
        '\u020C': 'O',
        '\u020E': 'O',
        '\u01A0': 'O',
        '\u1EDC': 'O',
        '\u1EDA': 'O',
        '\u1EE0': 'O',
        '\u1EDE': 'O',
        '\u1EE2': 'O',
        '\u1ECC': 'O',
        '\u1ED8': 'O',
        '\u01EA': 'O',
        '\u01EC': 'O',
        '\u00D8': 'O',
        '\u01FE': 'O',
        '\u0186': 'O',
        '\u019F': 'O',
        '\uA74A': 'O',
        '\uA74C': 'O',
        '\u0152': 'OE',
        '\u01A2': 'OI',
        '\uA74E': 'OO',
        '\u0222': 'OU',
        '\u24C5': 'P',
        '\uFF30': 'P',
        '\u1E54': 'P',
        '\u1E56': 'P',
        '\u01A4': 'P',
        '\u2C63': 'P',
        '\uA750': 'P',
        '\uA752': 'P',
        '\uA754': 'P',
        '\u24C6': 'Q',
        '\uFF31': 'Q',
        '\uA756': 'Q',
        '\uA758': 'Q',
        '\u024A': 'Q',
        '\u24C7': 'R',
        '\uFF32': 'R',
        '\u0154': 'R',
        '\u1E58': 'R',
        '\u0158': 'R',
        '\u0210': 'R',
        '\u0212': 'R',
        '\u1E5A': 'R',
        '\u1E5C': 'R',
        '\u0156': 'R',
        '\u1E5E': 'R',
        '\u024C': 'R',
        '\u2C64': 'R',
        '\uA75A': 'R',
        '\uA7A6': 'R',
        '\uA782': 'R',
        '\u24C8': 'S',
        '\uFF33': 'S',
        '\u1E9E': 'S',
        '\u015A': 'S',
        '\u1E64': 'S',
        '\u015C': 'S',
        '\u1E60': 'S',
        '\u0160': 'S',
        '\u1E66': 'S',
        '\u1E62': 'S',
        '\u1E68': 'S',
        '\u0218': 'S',
        '\u015E': 'S',
        '\u2C7E': 'S',
        '\uA7A8': 'S',
        '\uA784': 'S',
        '\u24C9': 'T',
        '\uFF34': 'T',
        '\u1E6A': 'T',
        '\u0164': 'T',
        '\u1E6C': 'T',
        '\u021A': 'T',
        '\u0162': 'T',
        '\u1E70': 'T',
        '\u1E6E': 'T',
        '\u0166': 'T',
        '\u01AC': 'T',
        '\u01AE': 'T',
        '\u023E': 'T',
        '\uA786': 'T',
        '\uA728': 'TZ',
        '\u24CA': 'U',
        '\uFF35': 'U',
        '\u00D9': 'U',
        '\u00DA': 'U',
        '\u00DB': 'U',
        '\u0168': 'U',
        '\u1E78': 'U',
        '\u016A': 'U',
        '\u1E7A': 'U',
        '\u016C': 'U',
        '\u00DC': 'U',
        '\u01DB': 'U',
        '\u01D7': 'U',
        '\u01D5': 'U',
        '\u01D9': 'U',
        '\u1EE6': 'U',
        '\u016E': 'U',
        '\u0170': 'U',
        '\u01D3': 'U',
        '\u0214': 'U',
        '\u0216': 'U',
        '\u01AF': 'U',
        '\u1EEA': 'U',
        '\u1EE8': 'U',
        '\u1EEE': 'U',
        '\u1EEC': 'U',
        '\u1EF0': 'U',
        '\u1EE4': 'U',
        '\u1E72': 'U',
        '\u0172': 'U',
        '\u1E76': 'U',
        '\u1E74': 'U',
        '\u0244': 'U',
        '\u24CB': 'V',
        '\uFF36': 'V',
        '\u1E7C': 'V',
        '\u1E7E': 'V',
        '\u01B2': 'V',
        '\uA75E': 'V',
        '\u0245': 'V',
        '\uA760': 'VY',
        '\u24CC': 'W',
        '\uFF37': 'W',
        '\u1E80': 'W',
        '\u1E82': 'W',
        '\u0174': 'W',
        '\u1E86': 'W',
        '\u1E84': 'W',
        '\u1E88': 'W',
        '\u2C72': 'W',
        '\u24CD': 'X',
        '\uFF38': 'X',
        '\u1E8A': 'X',
        '\u1E8C': 'X',
        '\u24CE': 'Y',
        '\uFF39': 'Y',
        '\u1EF2': 'Y',
        '\u00DD': 'Y',
        '\u0176': 'Y',
        '\u1EF8': 'Y',
        '\u0232': 'Y',
        '\u1E8E': 'Y',
        '\u0178': 'Y',
        '\u1EF6': 'Y',
        '\u1EF4': 'Y',
        '\u01B3': 'Y',
        '\u024E': 'Y',
        '\u1EFE': 'Y',
        '\u24CF': 'Z',
        '\uFF3A': 'Z',
        '\u0179': 'Z',
        '\u1E90': 'Z',
        '\u017B': 'Z',
        '\u017D': 'Z',
        '\u1E92': 'Z',
        '\u1E94': 'Z',
        '\u01B5': 'Z',
        '\u0224': 'Z',
        '\u2C7F': 'Z',
        '\u2C6B': 'Z',
        '\uA762': 'Z',
        '\u24D0': 'a',
        '\uFF41': 'a',
        '\u1E9A': 'a',
        '\u00E0': 'a',
        '\u00E1': 'a',
        '\u00E2': 'a',
        '\u1EA7': 'a',
        '\u1EA5': 'a',
        '\u1EAB': 'a',
        '\u1EA9': 'a',
        '\u00E3': 'a',
        '\u0101': 'a',
        '\u0103': 'a',
        '\u1EB1': 'a',
        '\u1EAF': 'a',
        '\u1EB5': 'a',
        '\u1EB3': 'a',
        '\u0227': 'a',
        '\u01E1': 'a',
        '\u00E4': 'a',
        '\u01DF': 'a',
        '\u1EA3': 'a',
        '\u00E5': 'a',
        '\u01FB': 'a',
        '\u01CE': 'a',
        '\u0201': 'a',
        '\u0203': 'a',
        '\u1EA1': 'a',
        '\u1EAD': 'a',
        '\u1EB7': 'a',
        '\u1E01': 'a',
        '\u0105': 'a',
        '\u2C65': 'a',
        '\u0250': 'a',
        '\uA733': 'aa',
        '\u00E6': 'ae',
        '\u01FD': 'ae',
        '\u01E3': 'ae',
        '\uA735': 'ao',
        '\uA737': 'au',
        '\uA739': 'av',
        '\uA73B': 'av',
        '\uA73D': 'ay',
        '\u24D1': 'b',
        '\uFF42': 'b',
        '\u1E03': 'b',
        '\u1E05': 'b',
        '\u1E07': 'b',
        '\u0180': 'b',
        '\u0183': 'b',
        '\u0253': 'b',
        '\u24D2': 'c',
        '\uFF43': 'c',
        '\u0107': 'c',
        '\u0109': 'c',
        '\u010B': 'c',
        '\u010D': 'c',
        '\u00E7': 'c',
        '\u1E09': 'c',
        '\u0188': 'c',
        '\u023C': 'c',
        '\uA73F': 'c',
        '\u2184': 'c',
        '\u24D3': 'd',
        '\uFF44': 'd',
        '\u1E0B': 'd',
        '\u010F': 'd',
        '\u1E0D': 'd',
        '\u1E11': 'd',
        '\u1E13': 'd',
        '\u1E0F': 'd',
        '\u0111': 'd',
        '\u018C': 'd',
        '\u0256': 'd',
        '\u0257': 'd',
        '\uA77A': 'd',
        '\u01F3': 'dz',
        '\u01C6': 'dz',
        '\u24D4': 'e',
        '\uFF45': 'e',
        '\u00E8': 'e',
        '\u00E9': 'e',
        '\u00EA': 'e',
        '\u1EC1': 'e',
        '\u1EBF': 'e',
        '\u1EC5': 'e',
        '\u1EC3': 'e',
        '\u1EBD': 'e',
        '\u0113': 'e',
        '\u1E15': 'e',
        '\u1E17': 'e',
        '\u0115': 'e',
        '\u0117': 'e',
        '\u00EB': 'e',
        '\u1EBB': 'e',
        '\u011B': 'e',
        '\u0205': 'e',
        '\u0207': 'e',
        '\u1EB9': 'e',
        '\u1EC7': 'e',
        '\u0229': 'e',
        '\u1E1D': 'e',
        '\u0119': 'e',
        '\u1E19': 'e',
        '\u1E1B': 'e',
        '\u0247': 'e',
        '\u025B': 'e',
        '\u01DD': 'e',
        '\u24D5': 'f',
        '\uFF46': 'f',
        '\u1E1F': 'f',
        '\u0192': 'f',
        '\uA77C': 'f',
        '\u24D6': 'g',
        '\uFF47': 'g',
        '\u01F5': 'g',
        '\u011D': 'g',
        '\u1E21': 'g',
        '\u011F': 'g',
        '\u0121': 'g',
        '\u01E7': 'g',
        '\u0123': 'g',
        '\u01E5': 'g',
        '\u0260': 'g',
        '\uA7A1': 'g',
        '\u1D79': 'g',
        '\uA77F': 'g',
        '\u24D7': 'h',
        '\uFF48': 'h',
        '\u0125': 'h',
        '\u1E23': 'h',
        '\u1E27': 'h',
        '\u021F': 'h',
        '\u1E25': 'h',
        '\u1E29': 'h',
        '\u1E2B': 'h',
        '\u1E96': 'h',
        '\u0127': 'h',
        '\u2C68': 'h',
        '\u2C76': 'h',
        '\u0265': 'h',
        '\u0195': 'hv',
        '\u24D8': 'i',
        '\uFF49': 'i',
        '\u00EC': 'i',
        '\u00ED': 'i',
        '\u00EE': 'i',
        '\u0129': 'i',
        '\u012B': 'i',
        '\u012D': 'i',
        '\u00EF': 'i',
        '\u1E2F': 'i',
        '\u1EC9': 'i',
        '\u01D0': 'i',
        '\u0209': 'i',
        '\u020B': 'i',
        '\u1ECB': 'i',
        '\u012F': 'i',
        '\u1E2D': 'i',
        '\u0268': 'i',
        '\u0131': 'i',
        '\u24D9': 'j',
        '\uFF4A': 'j',
        '\u0135': 'j',
        '\u01F0': 'j',
        '\u0249': 'j',
        '\u24DA': 'k',
        '\uFF4B': 'k',
        '\u1E31': 'k',
        '\u01E9': 'k',
        '\u1E33': 'k',
        '\u0137': 'k',
        '\u1E35': 'k',
        '\u0199': 'k',
        '\u2C6A': 'k',
        '\uA741': 'k',
        '\uA743': 'k',
        '\uA745': 'k',
        '\uA7A3': 'k',
        '\u24DB': 'l',
        '\uFF4C': 'l',
        '\u0140': 'l',
        '\u013A': 'l',
        '\u013E': 'l',
        '\u1E37': 'l',
        '\u1E39': 'l',
        '\u013C': 'l',
        '\u1E3D': 'l',
        '\u1E3B': 'l',
        '\u017F': 'l',
        '\u0142': 'l',
        '\u019A': 'l',
        '\u026B': 'l',
        '\u2C61': 'l',
        '\uA749': 'l',
        '\uA781': 'l',
        '\uA747': 'l',
        '\u01C9': 'lj',
        '\u24DC': 'm',
        '\uFF4D': 'm',
        '\u1E3F': 'm',
        '\u1E41': 'm',
        '\u1E43': 'm',
        '\u0271': 'm',
        '\u026F': 'm',
        '\u24DD': 'n',
        '\uFF4E': 'n',
        '\u01F9': 'n',
        '\u0144': 'n',
        '\u00F1': 'n',
        '\u1E45': 'n',
        '\u0148': 'n',
        '\u1E47': 'n',
        '\u0146': 'n',
        '\u1E4B': 'n',
        '\u1E49': 'n',
        '\u019E': 'n',
        '\u0272': 'n',
        '\u0149': 'n',
        '\uA791': 'n',
        '\uA7A5': 'n',
        '\u01CC': 'nj',
        '\u24DE': 'o',
        '\uFF4F': 'o',
        '\u00F2': 'o',
        '\u00F3': 'o',
        '\u00F4': 'o',
        '\u1ED3': 'o',
        '\u1ED1': 'o',
        '\u1ED7': 'o',
        '\u1ED5': 'o',
        '\u00F5': 'o',
        '\u1E4D': 'o',
        '\u022D': 'o',
        '\u1E4F': 'o',
        '\u014D': 'o',
        '\u1E51': 'o',
        '\u1E53': 'o',
        '\u014F': 'o',
        '\u022F': 'o',
        '\u0231': 'o',
        '\u00F6': 'o',
        '\u022B': 'o',
        '\u1ECF': 'o',
        '\u0151': 'o',
        '\u01D2': 'o',
        '\u020D': 'o',
        '\u020F': 'o',
        '\u01A1': 'o',
        '\u1EDD': 'o',
        '\u1EDB': 'o',
        '\u1EE1': 'o',
        '\u1EDF': 'o',
        '\u1EE3': 'o',
        '\u1ECD': 'o',
        '\u1ED9': 'o',
        '\u01EB': 'o',
        '\u01ED': 'o',
        '\u00F8': 'o',
        '\u01FF': 'o',
        '\u0254': 'o',
        '\uA74B': 'o',
        '\uA74D': 'o',
        '\u0275': 'o',
        '\u0153': 'oe',
        '\u01A3': 'oi',
        '\u0223': 'ou',
        '\uA74F': 'oo',
        '\u24DF': 'p',
        '\uFF50': 'p',
        '\u1E55': 'p',
        '\u1E57': 'p',
        '\u01A5': 'p',
        '\u1D7D': 'p',
        '\uA751': 'p',
        '\uA753': 'p',
        '\uA755': 'p',
        '\u24E0': 'q',
        '\uFF51': 'q',
        '\u024B': 'q',
        '\uA757': 'q',
        '\uA759': 'q',
        '\u24E1': 'r',
        '\uFF52': 'r',
        '\u0155': 'r',
        '\u1E59': 'r',
        '\u0159': 'r',
        '\u0211': 'r',
        '\u0213': 'r',
        '\u1E5B': 'r',
        '\u1E5D': 'r',
        '\u0157': 'r',
        '\u1E5F': 'r',
        '\u024D': 'r',
        '\u027D': 'r',
        '\uA75B': 'r',
        '\uA7A7': 'r',
        '\uA783': 'r',
        '\u24E2': 's',
        '\uFF53': 's',
        '\u00DF': 's',
        '\u015B': 's',
        '\u1E65': 's',
        '\u015D': 's',
        '\u1E61': 's',
        '\u0161': 's',
        '\u1E67': 's',
        '\u1E63': 's',
        '\u1E69': 's',
        '\u0219': 's',
        '\u015F': 's',
        '\u023F': 's',
        '\uA7A9': 's',
        '\uA785': 's',
        '\u1E9B': 's',
        '\u24E3': 't',
        '\uFF54': 't',
        '\u1E6B': 't',
        '\u1E97': 't',
        '\u0165': 't',
        '\u1E6D': 't',
        '\u021B': 't',
        '\u0163': 't',
        '\u1E71': 't',
        '\u1E6F': 't',
        '\u0167': 't',
        '\u01AD': 't',
        '\u0288': 't',
        '\u2C66': 't',
        '\uA787': 't',
        '\uA729': 'tz',
        '\u24E4': 'u',
        '\uFF55': 'u',
        '\u00F9': 'u',
        '\u00FA': 'u',
        '\u00FB': 'u',
        '\u0169': 'u',
        '\u1E79': 'u',
        '\u016B': 'u',
        '\u1E7B': 'u',
        '\u016D': 'u',
        '\u00FC': 'u',
        '\u01DC': 'u',
        '\u01D8': 'u',
        '\u01D6': 'u',
        '\u01DA': 'u',
        '\u1EE7': 'u',
        '\u016F': 'u',
        '\u0171': 'u',
        '\u01D4': 'u',
        '\u0215': 'u',
        '\u0217': 'u',
        '\u01B0': 'u',
        '\u1EEB': 'u',
        '\u1EE9': 'u',
        '\u1EEF': 'u',
        '\u1EED': 'u',
        '\u1EF1': 'u',
        '\u1EE5': 'u',
        '\u1E73': 'u',
        '\u0173': 'u',
        '\u1E77': 'u',
        '\u1E75': 'u',
        '\u0289': 'u',
        '\u24E5': 'v',
        '\uFF56': 'v',
        '\u1E7D': 'v',
        '\u1E7F': 'v',
        '\u028B': 'v',
        '\uA75F': 'v',
        '\u028C': 'v',
        '\uA761': 'vy',
        '\u24E6': 'w',
        '\uFF57': 'w',
        '\u1E81': 'w',
        '\u1E83': 'w',
        '\u0175': 'w',
        '\u1E87': 'w',
        '\u1E85': 'w',
        '\u1E98': 'w',
        '\u1E89': 'w',
        '\u2C73': 'w',
        '\u24E7': 'x',
        '\uFF58': 'x',
        '\u1E8B': 'x',
        '\u1E8D': 'x',
        '\u24E8': 'y',
        '\uFF59': 'y',
        '\u1EF3': 'y',
        '\u00FD': 'y',
        '\u0177': 'y',
        '\u1EF9': 'y',
        '\u0233': 'y',
        '\u1E8F': 'y',
        '\u00FF': 'y',
        '\u1EF7': 'y',
        '\u1E99': 'y',
        '\u1EF5': 'y',
        '\u01B4': 'y',
        '\u024F': 'y',
        '\u1EFF': 'y',
        '\u24E9': 'z',
        '\uFF5A': 'z',
        '\u017A': 'z',
        '\u1E91': 'z',
        '\u017C': 'z',
        '\u017E': 'z',
        '\u1E93': 'z',
        '\u1E95': 'z',
        '\u01B6': 'z',
        '\u0225': 'z',
        '\u0240': 'z',
        '\u2C6C': 'z',
        '\uA763': 'z',
        '\u0386': '\u0391',
        '\u0388': '\u0395',
        '\u0389': '\u0397',
        '\u038A': '\u0399',
        '\u03AA': '\u0399',
        '\u038C': '\u039F',
        '\u038E': '\u03A5',
        '\u03AB': '\u03A5',
        '\u038F': '\u03A9',
        '\u03AC': '\u03B1',
        '\u03AD': '\u03B5',
        '\u03AE': '\u03B7',
        '\u03AF': '\u03B9',
        '\u03CA': '\u03B9',
        '\u0390': '\u03B9',
        '\u03CC': '\u03BF',
        '\u03CD': '\u03C5',
        '\u03CB': '\u03C5',
        '\u03B0': '\u03C5',
        '\u03CE': '\u03C9',
        '\u03C2': '\u03C3',
        '\u2019': '\''
      };

      return diacritics;
    });

    S2.define('select2/data/base',[
      '../utils'
    ], function (Utils) {
      function BaseAdapter ($element, options) {
        BaseAdapter.__super__.constructor.call(this);
      }

      Utils.Extend(BaseAdapter, Utils.Observable);

      BaseAdapter.prototype.current = function (callback) {
        throw new Error('The `current` method must be defined in child classes.');
      };

      BaseAdapter.prototype.query = function (params, callback) {
        throw new Error('The `query` method must be defined in child classes.');
      };

      BaseAdapter.prototype.bind = function (container, $container) {
        // Can be implemented in subclasses
      };

      BaseAdapter.prototype.destroy = function () {
        // Can be implemented in subclasses
      };

      BaseAdapter.prototype.generateResultId = function (container, data) {
        var id = container.id + '-result-';

        id += Utils.generateChars(4);

        if (data.id != null) {
          id += '-' + data.id.toString();
        } else {
          id += '-' + Utils.generateChars(4);
        }
        return id;
      };

      return BaseAdapter;
    });

    S2.define('select2/data/select',[
      './base',
      '../utils',
      'jquery'
    ], function (BaseAdapter, Utils, $) {
      function SelectAdapter ($element, options) {
        this.$element = $element;
        this.options = options;

        SelectAdapter.__super__.constructor.call(this);
      }

      Utils.Extend(SelectAdapter, BaseAdapter);

      SelectAdapter.prototype.current = function (callback) {
        var data = [];
        var self = this;

        this.$element.find(':selected').each(function () {
          var $option = $(this);

          var option = self.item($option);

          data.push(option);
        });

        callback(data);
      };

      SelectAdapter.prototype.select = function (data) {
        var self = this;

        data.selected = true;

        // If data.element is a DOM node, use it instead
        if ($(data.element).is('option')) {
          data.element.selected = true;

          this.$element.trigger('input').trigger('change');

          return;
        }

        if (this.$element.prop('multiple')) {
          this.current(function (currentData) {
            var val = [];

            data = [data];
            data.push.apply(data, currentData);

            for (var d = 0; d < data.length; d++) {
              var id = data[d].id;

              if ($.inArray(id, val) === -1) {
                val.push(id);
              }
            }

            self.$element.val(val);
            self.$element.trigger('input').trigger('change');
          });
        } else {
          var val = data.id;

          this.$element.val(val);
          this.$element.trigger('input').trigger('change');
        }
      };

      SelectAdapter.prototype.unselect = function (data) {
        var self = this;

        if (!this.$element.prop('multiple')) {
          return;
        }

        data.selected = false;

        if ($(data.element).is('option')) {
          data.element.selected = false;

          this.$element.trigger('input').trigger('change');

          return;
        }

        this.current(function (currentData) {
          var val = [];

          for (var d = 0; d < currentData.length; d++) {
            var id = currentData[d].id;

            if (id !== data.id && $.inArray(id, val) === -1) {
              val.push(id);
            }
          }

          self.$element.val(val);

          self.$element.trigger('input').trigger('change');
        });
      };

      SelectAdapter.prototype.bind = function (container, $container) {
        var self = this;

        this.container = container;

        container.on('select', function (params) {
          self.select(params.data);
        });

        container.on('unselect', function (params) {
          self.unselect(params.data);
        });
      };

      SelectAdapter.prototype.destroy = function () {
        // Remove anything added to child elements
        this.$element.find('*').each(function () {
          // Remove any custom data set by Select2
          Utils.RemoveData(this);
        });
      };

      SelectAdapter.prototype.query = function (params, callback) {
        var data = [];
        var self = this;

        var $options = this.$element.children();

        $options.each(function () {
          var $option = $(this);

          if (!$option.is('option') && !$option.is('optgroup')) {
            return;
          }

          var option = self.item($option);

          var matches = self.matches(params, option);

          if (matches !== null) {
            data.push(matches);
          }
        });

        callback({
          results: data
        });
      };

      SelectAdapter.prototype.addOptions = function ($options) {
        Utils.appendMany(this.$element, $options);
      };

      SelectAdapter.prototype.option = function (data) {
        var option;

        if (data.children) {
          option = document.createElement('optgroup');
          option.label = data.text;
        } else {
          option = document.createElement('option');

          if (option.textContent !== undefined) {
            option.textContent = data.text;
          } else {
            option.innerText = data.text;
          }
        }

        if (data.id !== undefined) {
          option.value = data.id;
        }

        if (data.disabled) {
          option.disabled = true;
        }

        if (data.selected) {
          option.selected = true;
        }

        if (data.title) {
          option.title = data.title;
        }

        var $option = $(option);

        var normalizedData = this._normalizeItem(data);
        normalizedData.element = option;

        // Override the option's data with the combined data
        Utils.StoreData(option, 'data', normalizedData);

        return $option;
      };

      SelectAdapter.prototype.item = function ($option) {
        var data = {};

        data = Utils.GetData($option[0], 'data');

        if (data != null) {
          return data;
        }

        if ($option.is('option')) {
          data = {
            id: $option.val(),
            text: $option.text(),
            disabled: $option.prop('disabled'),
            selected: $option.prop('selected'),
            title: $option.prop('title')
          };
        } else if ($option.is('optgroup')) {
          data = {
            text: $option.prop('label'),
            children: [],
            title: $option.prop('title')
          };

          var $children = $option.children('option');
          var children = [];

          for (var c = 0; c < $children.length; c++) {
            var $child = $($children[c]);

            var child = this.item($child);

            children.push(child);
          }

          data.children = children;
        }

        data = this._normalizeItem(data);
        data.element = $option[0];

        Utils.StoreData($option[0], 'data', data);

        return data;
      };

      SelectAdapter.prototype._normalizeItem = function (item) {
        if (item !== Object(item)) {
          item = {
            id: item,
            text: item
          };
        }

        item = $.extend({}, {
          text: ''
        }, item);

        var defaults = {
          selected: false,
          disabled: false
        };

        if (item.id != null) {
          item.id = item.id.toString();
        }

        if (item.text != null) {
          item.text = item.text.toString();
        }

        if (item._resultId == null && item.id && this.container != null) {
          item._resultId = this.generateResultId(this.container, item);
        }

        return $.extend({}, defaults, item);
      };

      SelectAdapter.prototype.matches = function (params, data) {
        var matcher = this.options.get('matcher');

        return matcher(params, data);
      };

      return SelectAdapter;
    });

    S2.define('select2/data/array',[
      './select',
      '../utils',
      'jquery'
    ], function (SelectAdapter, Utils, $) {
      function ArrayAdapter ($element, options) {
        this._dataToConvert = options.get('data') || [];

        ArrayAdapter.__super__.constructor.call(this, $element, options);
      }

      Utils.Extend(ArrayAdapter, SelectAdapter);

      ArrayAdapter.prototype.bind = function (container, $container) {
        ArrayAdapter.__super__.bind.call(this, container, $container);

        this.addOptions(this.convertToOptions(this._dataToConvert));
      };

      ArrayAdapter.prototype.select = function (data) {
        var $option = this.$element.find('option').filter(function (i, elm) {
          return elm.value == data.id.toString();
        });

        if ($option.length === 0) {
          $option = this.option(data);

          this.addOptions($option);
        }

        ArrayAdapter.__super__.select.call(this, data);
      };

      ArrayAdapter.prototype.convertToOptions = function (data) {
        var self = this;

        var $existing = this.$element.find('option');
        var existingIds = $existing.map(function () {
          return self.item($(this)).id;
        }).get();

        var $options = [];

        // Filter out all items except for the one passed in the argument
        function onlyItem (item) {
          return function () {
            return $(this).val() == item.id;
          };
        }

        for (var d = 0; d < data.length; d++) {
          var item = this._normalizeItem(data[d]);

          // Skip items which were pre-loaded, only merge the data
          if ($.inArray(item.id, existingIds) >= 0) {
            var $existingOption = $existing.filter(onlyItem(item));

            var existingData = this.item($existingOption);
            var newData = $.extend(true, {}, item, existingData);

            var $newOption = this.option(newData);

            $existingOption.replaceWith($newOption);

            continue;
          }

          var $option = this.option(item);

          if (item.children) {
            var $children = this.convertToOptions(item.children);

            Utils.appendMany($option, $children);
          }

          $options.push($option);
        }

        return $options;
      };

      return ArrayAdapter;
    });

    S2.define('select2/data/ajax',[
      './array',
      '../utils',
      'jquery'
    ], function (ArrayAdapter, Utils, $) {
      function AjaxAdapter ($element, options) {
        this.ajaxOptions = this._applyDefaults(options.get('ajax'));

        if (this.ajaxOptions.processResults != null) {
          this.processResults = this.ajaxOptions.processResults;
        }

        AjaxAdapter.__super__.constructor.call(this, $element, options);
      }

      Utils.Extend(AjaxAdapter, ArrayAdapter);

      AjaxAdapter.prototype._applyDefaults = function (options) {
        var defaults = {
          data: function (params) {
            return $.extend({}, params, {
              q: params.term
            });
          },
          transport: function (params, success, failure) {
            var $request = $.ajax(params);

            $request.then(success);
            $request.fail(failure);

            return $request;
          }
        };

        return $.extend({}, defaults, options, true);
      };

      AjaxAdapter.prototype.processResults = function (results) {
        return results;
      };

      AjaxAdapter.prototype.query = function (params, callback) {
        var matches = [];
        var self = this;

        if (this._request != null) {
          // JSONP requests cannot always be aborted
          if ($.isFunction(this._request.abort)) {
            this._request.abort();
          }

          this._request = null;
        }

        var options = $.extend({
          type: 'GET'
        }, this.ajaxOptions);

        if (typeof options.url === 'function') {
          options.url = options.url.call(this.$element, params);
        }

        if (typeof options.data === 'function') {
          options.data = options.data.call(this.$element, params);
        }

        function request () {
          var $request = options.transport(options, function (data) {
            var results = self.processResults(data, params);

            if (self.options.get('debug') && window.console && console.error) {
              // Check to make sure that the response included a `results` key.
              if (!results || !results.results || !$.isArray(results.results)) {
                console.error(
                  'Select2: The AJAX results did not return an array in the ' +
                  '`results` key of the response.'
                );
              }
            }

            callback(results);
          }, function () {
            // Attempt to detect if a request was aborted
            // Only works if the transport exposes a status property
            if ('status' in $request &&
                ($request.status === 0 || $request.status === '0')) {
              return;
            }

            self.trigger('results:message', {
              message: 'errorLoading'
            });
          });

          self._request = $request;
        }

        if (this.ajaxOptions.delay && params.term != null) {
          if (this._queryTimeout) {
            window.clearTimeout(this._queryTimeout);
          }

          this._queryTimeout = window.setTimeout(request, this.ajaxOptions.delay);
        } else {
          request();
        }
      };

      return AjaxAdapter;
    });

    S2.define('select2/data/tags',[
      'jquery'
    ], function ($) {
      function Tags (decorated, $element, options) {
        var tags = options.get('tags');

        var createTag = options.get('createTag');

        if (createTag !== undefined) {
          this.createTag = createTag;
        }

        var insertTag = options.get('insertTag');

        if (insertTag !== undefined) {
            this.insertTag = insertTag;
        }

        decorated.call(this, $element, options);

        if ($.isArray(tags)) {
          for (var t = 0; t < tags.length; t++) {
            var tag = tags[t];
            var item = this._normalizeItem(tag);

            var $option = this.option(item);

            this.$element.append($option);
          }
        }
      }

      Tags.prototype.query = function (decorated, params, callback) {
        var self = this;

        this._removeOldTags();

        if (params.term == null || params.page != null) {
          decorated.call(this, params, callback);
          return;
        }

        function wrapper (obj, child) {
          var data = obj.results;

          for (var i = 0; i < data.length; i++) {
            var option = data[i];

            var checkChildren = (
              option.children != null &&
              !wrapper({
                results: option.children
              }, true)
            );

            var optionText = (option.text || '').toUpperCase();
            var paramsTerm = (params.term || '').toUpperCase();

            var checkText = optionText === paramsTerm;

            if (checkText || checkChildren) {
              if (child) {
                return false;
              }

              obj.data = data;
              callback(obj);

              return;
            }
          }

          if (child) {
            return true;
          }

          var tag = self.createTag(params);

          if (tag != null) {
            var $option = self.option(tag);
            $option.attr('data-select2-tag', true);

            self.addOptions([$option]);

            self.insertTag(data, tag);
          }

          obj.results = data;

          callback(obj);
        }

        decorated.call(this, params, wrapper);
      };

      Tags.prototype.createTag = function (decorated, params) {
        var term = $.trim(params.term);

        if (term === '') {
          return null;
        }

        return {
          id: term,
          text: term
        };
      };

      Tags.prototype.insertTag = function (_, data, tag) {
        data.unshift(tag);
      };

      Tags.prototype._removeOldTags = function (_) {
        var $options = this.$element.find('option[data-select2-tag]');

        $options.each(function () {
          if (this.selected) {
            return;
          }

          $(this).remove();
        });
      };

      return Tags;
    });

    S2.define('select2/data/tokenizer',[
      'jquery'
    ], function ($) {
      function Tokenizer (decorated, $element, options) {
        var tokenizer = options.get('tokenizer');

        if (tokenizer !== undefined) {
          this.tokenizer = tokenizer;
        }

        decorated.call(this, $element, options);
      }

      Tokenizer.prototype.bind = function (decorated, container, $container) {
        decorated.call(this, container, $container);

        this.$search =  container.dropdown.$search || container.selection.$search ||
          $container.find('.select2-search__field');
      };

      Tokenizer.prototype.query = function (decorated, params, callback) {
        var self = this;

        function createAndSelect (data) {
          // Normalize the data object so we can use it for checks
          var item = self._normalizeItem(data);

          // Check if the data object already exists as a tag
          // Select it if it doesn't
          var $existingOptions = self.$element.find('option').filter(function () {
            return $(this).val() === item.id;
          });

          // If an existing option wasn't found for it, create the option
          if (!$existingOptions.length) {
            var $option = self.option(item);
            $option.attr('data-select2-tag', true);

            self._removeOldTags();
            self.addOptions([$option]);
          }

          // Select the item, now that we know there is an option for it
          select(item);
        }

        function select (data) {
          self.trigger('select', {
            data: data
          });
        }

        params.term = params.term || '';

        var tokenData = this.tokenizer(params, this.options, createAndSelect);

        if (tokenData.term !== params.term) {
          // Replace the search term if we have the search box
          if (this.$search.length) {
            this.$search.val(tokenData.term);
            this.$search.trigger('focus');
          }

          params.term = tokenData.term;
        }

        decorated.call(this, params, callback);
      };

      Tokenizer.prototype.tokenizer = function (_, params, options, callback) {
        var separators = options.get('tokenSeparators') || [];
        var term = params.term;
        var i = 0;

        var createTag = this.createTag || function (params) {
          return {
            id: params.term,
            text: params.term
          };
        };

        while (i < term.length) {
          var termChar = term[i];

          if ($.inArray(termChar, separators) === -1) {
            i++;

            continue;
          }

          var part = term.substr(0, i);
          var partParams = $.extend({}, params, {
            term: part
          });

          var data = createTag(partParams);

          if (data == null) {
            i++;
            continue;
          }

          callback(data);

          // Reset the term to not include the tokenized portion
          term = term.substr(i + 1) || '';
          i = 0;
        }

        return {
          term: term
        };
      };

      return Tokenizer;
    });

    S2.define('select2/data/minimumInputLength',[

    ], function () {
      function MinimumInputLength (decorated, $e, options) {
        this.minimumInputLength = options.get('minimumInputLength');

        decorated.call(this, $e, options);
      }

      MinimumInputLength.prototype.query = function (decorated, params, callback) {
        params.term = params.term || '';

        if (params.term.length < this.minimumInputLength) {
          this.trigger('results:message', {
            message: 'inputTooShort',
            args: {
              minimum: this.minimumInputLength,
              input: params.term,
              params: params
            }
          });

          return;
        }

        decorated.call(this, params, callback);
      };

      return MinimumInputLength;
    });

    S2.define('select2/data/maximumInputLength',[

    ], function () {
      function MaximumInputLength (decorated, $e, options) {
        this.maximumInputLength = options.get('maximumInputLength');

        decorated.call(this, $e, options);
      }

      MaximumInputLength.prototype.query = function (decorated, params, callback) {
        params.term = params.term || '';

        if (this.maximumInputLength > 0 &&
            params.term.length > this.maximumInputLength) {
          this.trigger('results:message', {
            message: 'inputTooLong',
            args: {
              maximum: this.maximumInputLength,
              input: params.term,
              params: params
            }
          });

          return;
        }

        decorated.call(this, params, callback);
      };

      return MaximumInputLength;
    });

    S2.define('select2/data/maximumSelectionLength',[

    ], function (){
      function MaximumSelectionLength (decorated, $e, options) {
        this.maximumSelectionLength = options.get('maximumSelectionLength');

        decorated.call(this, $e, options);
      }

      MaximumSelectionLength.prototype.bind =
        function (decorated, container, $container) {
          var self = this;

          decorated.call(this, container, $container);

          container.on('select', function () {
            self._checkIfMaximumSelected();
          });
      };

      MaximumSelectionLength.prototype.query =
        function (decorated, params, callback) {
          var self = this;

          this._checkIfMaximumSelected(function () {
            decorated.call(self, params, callback);
          });
      };

      MaximumSelectionLength.prototype._checkIfMaximumSelected =
        function (_, successCallback) {
          var self = this;

          this.current(function (currentData) {
            var count = currentData != null ? currentData.length : 0;
            if (self.maximumSelectionLength > 0 &&
              count >= self.maximumSelectionLength) {
              self.trigger('results:message', {
                message: 'maximumSelected',
                args: {
                  maximum: self.maximumSelectionLength
                }
              });
              return;
            }

            if (successCallback) {
              successCallback();
            }
          });
      };

      return MaximumSelectionLength;
    });

    S2.define('select2/dropdown',[
      'jquery',
      './utils'
    ], function ($, Utils) {
      function Dropdown ($element, options) {
        this.$element = $element;
        this.options = options;

        Dropdown.__super__.constructor.call(this);
      }

      Utils.Extend(Dropdown, Utils.Observable);

      Dropdown.prototype.render = function () {
        var $dropdown = $(
          '<span class="select2-dropdown">' +
            '<span class="select2-results"></span>' +
          '</span>'
        );

        $dropdown.attr('dir', this.options.get('dir'));

        this.$dropdown = $dropdown;

        return $dropdown;
      };

      Dropdown.prototype.bind = function () {
        // Should be implemented in subclasses
      };

      Dropdown.prototype.position = function ($dropdown, $container) {
        // Should be implemented in subclasses
      };

      Dropdown.prototype.destroy = function () {
        // Remove the dropdown from the DOM
        this.$dropdown.remove();
      };

      return Dropdown;
    });

    S2.define('select2/dropdown/search',[
      'jquery',
      '../utils'
    ], function ($, Utils) {
      function Search () { }

      Search.prototype.render = function (decorated) {
        var $rendered = decorated.call(this);

        var $search = $(
          '<span class="select2-search select2-search--dropdown">' +
            '<input class="select2-search__field" type="search" tabindex="-1"' +
            ' autocomplete="off" autocorrect="off" autocapitalize="none"' +
            ' spellcheck="false" role="searchbox" aria-autocomplete="list" />' +
          '</span>'
        );

        this.$searchContainer = $search;
        this.$search = $search.find('input');

        $rendered.prepend($search);

        return $rendered;
      };

      Search.prototype.bind = function (decorated, container, $container) {
        var self = this;

        var resultsId = container.id + '-results';

        decorated.call(this, container, $container);

        this.$search.on('keydown', function (evt) {
          self.trigger('keypress', evt);

          self._keyUpPrevented = evt.isDefaultPrevented();
        });

        // Workaround for browsers which do not support the `input` event
        // This will prevent double-triggering of events for browsers which support
        // both the `keyup` and `input` events.
        this.$search.on('input', function (evt) {
          // Unbind the duplicated `keyup` event
          $(this).off('keyup');
        });

        this.$search.on('keyup input', function (evt) {
          self.handleSearch(evt);
        });

        container.on('open', function () {
          self.$search.attr('tabindex', 0);
          self.$search.attr('aria-controls', resultsId);

          self.$search.trigger('focus');

          window.setTimeout(function () {
            self.$search.trigger('focus');
          }, 0);
        });

        container.on('close', function () {
          self.$search.attr('tabindex', -1);
          self.$search.removeAttr('aria-controls');
          self.$search.removeAttr('aria-activedescendant');

          self.$search.val('');
          self.$search.trigger('blur');
        });

        container.on('focus', function () {
          if (!container.isOpen()) {
            self.$search.trigger('focus');
          }
        });

        container.on('results:all', function (params) {
          if (params.query.term == null || params.query.term === '') {
            var showSearch = self.showSearch(params);

            if (showSearch) {
              self.$searchContainer.removeClass('select2-search--hide');
            } else {
              self.$searchContainer.addClass('select2-search--hide');
            }
          }
        });

        container.on('results:focus', function (params) {
          if (params.data._resultId) {
            self.$search.attr('aria-activedescendant', params.data._resultId);
          } else {
            self.$search.removeAttr('aria-activedescendant');
          }
        });
      };

      Search.prototype.handleSearch = function (evt) {
        if (!this._keyUpPrevented) {
          var input = this.$search.val();

          this.trigger('query', {
            term: input
          });
        }

        this._keyUpPrevented = false;
      };

      Search.prototype.showSearch = function (_, params) {
        return true;
      };

      return Search;
    });

    S2.define('select2/dropdown/hidePlaceholder',[

    ], function () {
      function HidePlaceholder (decorated, $element, options, dataAdapter) {
        this.placeholder = this.normalizePlaceholder(options.get('placeholder'));

        decorated.call(this, $element, options, dataAdapter);
      }

      HidePlaceholder.prototype.append = function (decorated, data) {
        data.results = this.removePlaceholder(data.results);

        decorated.call(this, data);
      };

      HidePlaceholder.prototype.normalizePlaceholder = function (_, placeholder) {
        if (typeof placeholder === 'string') {
          placeholder = {
            id: '',
            text: placeholder
          };
        }

        return placeholder;
      };

      HidePlaceholder.prototype.removePlaceholder = function (_, data) {
        var modifiedData = data.slice(0);

        for (var d = data.length - 1; d >= 0; d--) {
          var item = data[d];

          if (this.placeholder.id === item.id) {
            modifiedData.splice(d, 1);
          }
        }

        return modifiedData;
      };

      return HidePlaceholder;
    });

    S2.define('select2/dropdown/infiniteScroll',[
      'jquery'
    ], function ($) {
      function InfiniteScroll (decorated, $element, options, dataAdapter) {
        this.lastParams = {};

        decorated.call(this, $element, options, dataAdapter);

        this.$loadingMore = this.createLoadingMore();
        this.loading = false;
      }

      InfiniteScroll.prototype.append = function (decorated, data) {
        this.$loadingMore.remove();
        this.loading = false;

        decorated.call(this, data);

        if (this.showLoadingMore(data)) {
          this.$results.append(this.$loadingMore);
          this.loadMoreIfNeeded();
        }
      };

      InfiniteScroll.prototype.bind = function (decorated, container, $container) {
        var self = this;

        decorated.call(this, container, $container);

        container.on('query', function (params) {
          self.lastParams = params;
          self.loading = true;
        });

        container.on('query:append', function (params) {
          self.lastParams = params;
          self.loading = true;
        });

        this.$results.on('scroll', this.loadMoreIfNeeded.bind(this));
      };

      InfiniteScroll.prototype.loadMoreIfNeeded = function () {
        var isLoadMoreVisible = $.contains(
          document.documentElement,
          this.$loadingMore[0]
        );

        if (this.loading || !isLoadMoreVisible) {
          return;
        }

        var currentOffset = this.$results.offset().top +
          this.$results.outerHeight(false);
        var loadingMoreOffset = this.$loadingMore.offset().top +
          this.$loadingMore.outerHeight(false);

        if (currentOffset + 50 >= loadingMoreOffset) {
          this.loadMore();
        }
      };

      InfiniteScroll.prototype.loadMore = function () {
        this.loading = true;

        var params = $.extend({}, {page: 1}, this.lastParams);

        params.page++;

        this.trigger('query:append', params);
      };

      InfiniteScroll.prototype.showLoadingMore = function (_, data) {
        return data.pagination && data.pagination.more;
      };

      InfiniteScroll.prototype.createLoadingMore = function () {
        var $option = $(
          '<li ' +
          'class="select2-results__option select2-results__option--load-more"' +
          'role="option" aria-disabled="true"></li>'
        );

        var message = this.options.get('translations').get('loadingMore');

        $option.html(message(this.lastParams));

        return $option;
      };

      return InfiniteScroll;
    });

    S2.define('select2/dropdown/attachBody',[
      'jquery',
      '../utils'
    ], function ($, Utils) {
      function AttachBody (decorated, $element, options) {
        this.$dropdownParent = $(options.get('dropdownParent') || document.body);

        decorated.call(this, $element, options);
      }

      AttachBody.prototype.bind = function (decorated, container, $container) {
        var self = this;

        decorated.call(this, container, $container);

        container.on('open', function () {
          self._showDropdown();
          self._attachPositioningHandler(container);

          // Must bind after the results handlers to ensure correct sizing
          self._bindContainerResultHandlers(container);
        });

        container.on('close', function () {
          self._hideDropdown();
          self._detachPositioningHandler(container);
        });

        this.$dropdownContainer.on('mousedown', function (evt) {
          evt.stopPropagation();
        });
      };

      AttachBody.prototype.destroy = function (decorated) {
        decorated.call(this);

        this.$dropdownContainer.remove();
      };

      AttachBody.prototype.position = function (decorated, $dropdown, $container) {
        // Clone all of the container classes
        $dropdown.attr('class', $container.attr('class'));

        $dropdown.removeClass('select2');
        $dropdown.addClass('select2-container--open');

        $dropdown.css({
          position: 'absolute',
          top: -999999
        });

        this.$container = $container;
      };

      AttachBody.prototype.render = function (decorated) {
        var $container = $('<span></span>');

        var $dropdown = decorated.call(this);
        $container.append($dropdown);

        this.$dropdownContainer = $container;

        return $container;
      };

      AttachBody.prototype._hideDropdown = function (decorated) {
        this.$dropdownContainer.detach();
      };

      AttachBody.prototype._bindContainerResultHandlers =
          function (decorated, container) {

        // These should only be bound once
        if (this._containerResultsHandlersBound) {
          return;
        }

        var self = this;

        container.on('results:all', function () {
          self._positionDropdown();
          self._resizeDropdown();
        });

        container.on('results:append', function () {
          self._positionDropdown();
          self._resizeDropdown();
        });

        container.on('results:message', function () {
          self._positionDropdown();
          self._resizeDropdown();
        });

        container.on('select', function () {
          self._positionDropdown();
          self._resizeDropdown();
        });

        container.on('unselect', function () {
          self._positionDropdown();
          self._resizeDropdown();
        });

        this._containerResultsHandlersBound = true;
      };

      AttachBody.prototype._attachPositioningHandler =
          function (decorated, container) {
        var self = this;

        var scrollEvent = 'scroll.select2.' + container.id;
        var resizeEvent = 'resize.select2.' + container.id;
        var orientationEvent = 'orientationchange.select2.' + container.id;

        var $watchers = this.$container.parents().filter(Utils.hasScroll);
        $watchers.each(function () {
          Utils.StoreData(this, 'select2-scroll-position', {
            x: $(this).scrollLeft(),
            y: $(this).scrollTop()
          });
        });

        $watchers.on(scrollEvent, function (ev) {
          var position = Utils.GetData(this, 'select2-scroll-position');
          $(this).scrollTop(position.y);
        });

        $(window).on(scrollEvent + ' ' + resizeEvent + ' ' + orientationEvent,
          function (e) {
          self._positionDropdown();
          self._resizeDropdown();
        });
      };

      AttachBody.prototype._detachPositioningHandler =
          function (decorated, container) {
        var scrollEvent = 'scroll.select2.' + container.id;
        var resizeEvent = 'resize.select2.' + container.id;
        var orientationEvent = 'orientationchange.select2.' + container.id;

        var $watchers = this.$container.parents().filter(Utils.hasScroll);
        $watchers.off(scrollEvent);

        $(window).off(scrollEvent + ' ' + resizeEvent + ' ' + orientationEvent);
      };

      AttachBody.prototype._positionDropdown = function () {
        var $window = $(window);

        var isCurrentlyAbove = this.$dropdown.hasClass('select2-dropdown--above');
        var isCurrentlyBelow = this.$dropdown.hasClass('select2-dropdown--below');

        var newDirection = null;

        var offset = this.$container.offset();

        offset.bottom = offset.top + this.$container.outerHeight(false);

        var container = {
          height: this.$container.outerHeight(false)
        };

        container.top = offset.top;
        container.bottom = offset.top + container.height;

        var dropdown = {
          height: this.$dropdown.outerHeight(false)
        };

        var viewport = {
          top: $window.scrollTop(),
          bottom: $window.scrollTop() + $window.height()
        };

        var enoughRoomAbove = viewport.top < (offset.top - dropdown.height);
        var enoughRoomBelow = viewport.bottom > (offset.bottom + dropdown.height);

        var css = {
          left: offset.left,
          top: container.bottom
        };

        // Determine what the parent element is to use for calculating the offset
        var $offsetParent = this.$dropdownParent;

        // For statically positioned elements, we need to get the element
        // that is determining the offset
        if ($offsetParent.css('position') === 'static') {
          $offsetParent = $offsetParent.offsetParent();
        }

        var parentOffset = {
          top: 0,
          left: 0
        };

        if (
          $.contains(document.body, $offsetParent[0]) ||
          $offsetParent[0].isConnected
          ) {
          parentOffset = $offsetParent.offset();
        }

        css.top -= parentOffset.top;
        css.left -= parentOffset.left;

        if (!isCurrentlyAbove && !isCurrentlyBelow) {
          newDirection = 'below';
        }

        if (!enoughRoomBelow && enoughRoomAbove && !isCurrentlyAbove) {
          newDirection = 'above';
        } else if (!enoughRoomAbove && enoughRoomBelow && isCurrentlyAbove) {
          newDirection = 'below';
        }

        if (newDirection == 'above' ||
          (isCurrentlyAbove && newDirection !== 'below')) {
          css.top = container.top - parentOffset.top - dropdown.height;
        }

        if (newDirection != null) {
          this.$dropdown
            .removeClass('select2-dropdown--below select2-dropdown--above')
            .addClass('select2-dropdown--' + newDirection);
          this.$container
            .removeClass('select2-container--below select2-container--above')
            .addClass('select2-container--' + newDirection);
        }

        this.$dropdownContainer.css(css);
      };

      AttachBody.prototype._resizeDropdown = function () {
        var css = {
          width: this.$container.outerWidth(false) + 'px'
        };

        if (this.options.get('dropdownAutoWidth')) {
          css.minWidth = css.width;
          css.position = 'relative';
          css.width = 'auto';
        }

        this.$dropdown.css(css);
      };

      AttachBody.prototype._showDropdown = function (decorated) {
        this.$dropdownContainer.appendTo(this.$dropdownParent);

        this._positionDropdown();
        this._resizeDropdown();
      };

      return AttachBody;
    });

    S2.define('select2/dropdown/minimumResultsForSearch',[

    ], function () {
      function countResults (data) {
        var count = 0;

        for (var d = 0; d < data.length; d++) {
          var item = data[d];

          if (item.children) {
            count += countResults(item.children);
          } else {
            count++;
          }
        }

        return count;
      }

      function MinimumResultsForSearch (decorated, $element, options, dataAdapter) {
        this.minimumResultsForSearch = options.get('minimumResultsForSearch');

        if (this.minimumResultsForSearch < 0) {
          this.minimumResultsForSearch = Infinity;
        }

        decorated.call(this, $element, options, dataAdapter);
      }

      MinimumResultsForSearch.prototype.showSearch = function (decorated, params) {
        if (countResults(params.data.results) < this.minimumResultsForSearch) {
          return false;
        }

        return decorated.call(this, params);
      };

      return MinimumResultsForSearch;
    });

    S2.define('select2/dropdown/selectOnClose',[
      '../utils'
    ], function (Utils) {
      function SelectOnClose () { }

      SelectOnClose.prototype.bind = function (decorated, container, $container) {
        var self = this;

        decorated.call(this, container, $container);

        container.on('close', function (params) {
          self._handleSelectOnClose(params);
        });
      };

      SelectOnClose.prototype._handleSelectOnClose = function (_, params) {
        if (params && params.originalSelect2Event != null) {
          var event = params.originalSelect2Event;

          // Don't select an item if the close event was triggered from a select or
          // unselect event
          if (event._type === 'select' || event._type === 'unselect') {
            return;
          }
        }

        var $highlightedResults = this.getHighlightedResults();

        // Only select highlighted results
        if ($highlightedResults.length < 1) {
          return;
        }

        var data = Utils.GetData($highlightedResults[0], 'data');

        // Don't re-select already selected resulte
        if (
          (data.element != null && data.element.selected) ||
          (data.element == null && data.selected)
        ) {
          return;
        }

        this.trigger('select', {
            data: data
        });
      };

      return SelectOnClose;
    });

    S2.define('select2/dropdown/closeOnSelect',[

    ], function () {
      function CloseOnSelect () { }

      CloseOnSelect.prototype.bind = function (decorated, container, $container) {
        var self = this;

        decorated.call(this, container, $container);

        container.on('select', function (evt) {
          self._selectTriggered(evt);
        });

        container.on('unselect', function (evt) {
          self._selectTriggered(evt);
        });
      };

      CloseOnSelect.prototype._selectTriggered = function (_, evt) {
        var originalEvent = evt.originalEvent;

        // Don't close if the control key is being held
        if (originalEvent && (originalEvent.ctrlKey || originalEvent.metaKey)) {
          return;
        }

        this.trigger('close', {
          originalEvent: originalEvent,
          originalSelect2Event: evt
        });
      };

      return CloseOnSelect;
    });

    S2.define('select2/i18n/en',[],function () {
      // English
      return {
        errorLoading: function () {
          return 'The results could not be loaded.';
        },
        inputTooLong: function (args) {
          var overChars = args.input.length - args.maximum;

          var message = 'Please delete ' + overChars + ' character';

          if (overChars != 1) {
            message += 's';
          }

          return message;
        },
        inputTooShort: function (args) {
          var remainingChars = args.minimum - args.input.length;

          var message = 'Please enter ' + remainingChars + ' or more characters';

          return message;
        },
        loadingMore: function () {
          return 'Loading more results…';
        },
        maximumSelected: function (args) {
          var message = 'You can only select ' + args.maximum + ' item';

          if (args.maximum != 1) {
            message += 's';
          }

          return message;
        },
        noResults: function () {
          return 'No results found';
        },
        searching: function () {
          return 'Searching…';
        },
        removeAllItems: function () {
          return 'Remove all items';
        }
      };
    });

    S2.define('select2/defaults',[
      'jquery',
      'require',

      './results',

      './selection/single',
      './selection/multiple',
      './selection/placeholder',
      './selection/allowClear',
      './selection/search',
      './selection/eventRelay',

      './utils',
      './translation',
      './diacritics',

      './data/select',
      './data/array',
      './data/ajax',
      './data/tags',
      './data/tokenizer',
      './data/minimumInputLength',
      './data/maximumInputLength',
      './data/maximumSelectionLength',

      './dropdown',
      './dropdown/search',
      './dropdown/hidePlaceholder',
      './dropdown/infiniteScroll',
      './dropdown/attachBody',
      './dropdown/minimumResultsForSearch',
      './dropdown/selectOnClose',
      './dropdown/closeOnSelect',

      './i18n/en'
    ], function ($, require,

                 ResultsList,

                 SingleSelection, MultipleSelection, Placeholder, AllowClear,
                 SelectionSearch, EventRelay,

                 Utils, Translation, DIACRITICS,

                 SelectData, ArrayData, AjaxData, Tags, Tokenizer,
                 MinimumInputLength, MaximumInputLength, MaximumSelectionLength,

                 Dropdown, DropdownSearch, HidePlaceholder, InfiniteScroll,
                 AttachBody, MinimumResultsForSearch, SelectOnClose, CloseOnSelect,

                 EnglishTranslation) {
      function Defaults () {
        this.reset();
      }

      Defaults.prototype.apply = function (options) {
        options = $.extend(true, {}, this.defaults, options);

        if (options.dataAdapter == null) {
          if (options.ajax != null) {
            options.dataAdapter = AjaxData;
          } else if (options.data != null) {
            options.dataAdapter = ArrayData;
          } else {
            options.dataAdapter = SelectData;
          }

          if (options.minimumInputLength > 0) {
            options.dataAdapter = Utils.Decorate(
              options.dataAdapter,
              MinimumInputLength
            );
          }

          if (options.maximumInputLength > 0) {
            options.dataAdapter = Utils.Decorate(
              options.dataAdapter,
              MaximumInputLength
            );
          }

          if (options.maximumSelectionLength > 0) {
            options.dataAdapter = Utils.Decorate(
              options.dataAdapter,
              MaximumSelectionLength
            );
          }

          if (options.tags) {
            options.dataAdapter = Utils.Decorate(options.dataAdapter, Tags);
          }

          if (options.tokenSeparators != null || options.tokenizer != null) {
            options.dataAdapter = Utils.Decorate(
              options.dataAdapter,
              Tokenizer
            );
          }

          if (options.query != null) {
            var Query = require(options.amdBase + 'compat/query');

            options.dataAdapter = Utils.Decorate(
              options.dataAdapter,
              Query
            );
          }

          if (options.initSelection != null) {
            var InitSelection = require(options.amdBase + 'compat/initSelection');

            options.dataAdapter = Utils.Decorate(
              options.dataAdapter,
              InitSelection
            );
          }
        }

        if (options.resultsAdapter == null) {
          options.resultsAdapter = ResultsList;

          if (options.ajax != null) {
            options.resultsAdapter = Utils.Decorate(
              options.resultsAdapter,
              InfiniteScroll
            );
          }

          if (options.placeholder != null) {
            options.resultsAdapter = Utils.Decorate(
              options.resultsAdapter,
              HidePlaceholder
            );
          }

          if (options.selectOnClose) {
            options.resultsAdapter = Utils.Decorate(
              options.resultsAdapter,
              SelectOnClose
            );
          }
        }

        if (options.dropdownAdapter == null) {
          if (options.multiple) {
            options.dropdownAdapter = Dropdown;
          } else {
            var SearchableDropdown = Utils.Decorate(Dropdown, DropdownSearch);

            options.dropdownAdapter = SearchableDropdown;
          }

          if (options.minimumResultsForSearch !== 0) {
            options.dropdownAdapter = Utils.Decorate(
              options.dropdownAdapter,
              MinimumResultsForSearch
            );
          }

          if (options.closeOnSelect) {
            options.dropdownAdapter = Utils.Decorate(
              options.dropdownAdapter,
              CloseOnSelect
            );
          }

          if (
            options.dropdownCssClass != null ||
            options.dropdownCss != null ||
            options.adaptDropdownCssClass != null
          ) {
            var DropdownCSS = require(options.amdBase + 'compat/dropdownCss');

            options.dropdownAdapter = Utils.Decorate(
              options.dropdownAdapter,
              DropdownCSS
            );
          }

          options.dropdownAdapter = Utils.Decorate(
            options.dropdownAdapter,
            AttachBody
          );
        }

        if (options.selectionAdapter == null) {
          if (options.multiple) {
            options.selectionAdapter = MultipleSelection;
          } else {
            options.selectionAdapter = SingleSelection;
          }

          // Add the placeholder mixin if a placeholder was specified
          if (options.placeholder != null) {
            options.selectionAdapter = Utils.Decorate(
              options.selectionAdapter,
              Placeholder
            );
          }

          if (options.allowClear) {
            options.selectionAdapter = Utils.Decorate(
              options.selectionAdapter,
              AllowClear
            );
          }

          if (options.multiple) {
            options.selectionAdapter = Utils.Decorate(
              options.selectionAdapter,
              SelectionSearch
            );
          }

          if (
            options.containerCssClass != null ||
            options.containerCss != null ||
            options.adaptContainerCssClass != null
          ) {
            var ContainerCSS = require(options.amdBase + 'compat/containerCss');

            options.selectionAdapter = Utils.Decorate(
              options.selectionAdapter,
              ContainerCSS
            );
          }

          options.selectionAdapter = Utils.Decorate(
            options.selectionAdapter,
            EventRelay
          );
        }

        // If the defaults were not previously applied from an element, it is
        // possible for the language option to have not been resolved
        options.language = this._resolveLanguage(options.language);

        // Always fall back to English since it will always be complete
        options.language.push('en');

        var uniqueLanguages = [];

        for (var l = 0; l < options.language.length; l++) {
          var language = options.language[l];

          if (uniqueLanguages.indexOf(language) === -1) {
            uniqueLanguages.push(language);
          }
        }

        options.language = uniqueLanguages;

        options.translations = this._processTranslations(
          options.language,
          options.debug
        );

        return options;
      };

      Defaults.prototype.reset = function () {
        function stripDiacritics (text) {
          // Used 'uni range + named function' from http://jsperf.com/diacritics/18
          function match(a) {
            return DIACRITICS[a] || a;
          }

          return text.replace(/[^\u0000-\u007E]/g, match);
        }

        function matcher (params, data) {
          // Always return the object if there is nothing to compare
          if ($.trim(params.term) === '') {
            return data;
          }

          // Do a recursive check for options with children
          if (data.children && data.children.length > 0) {
            // Clone the data object if there are children
            // This is required as we modify the object to remove any non-matches
            var match = $.extend(true, {}, data);

            // Check each child of the option
            for (var c = data.children.length - 1; c >= 0; c--) {
              var child = data.children[c];

              var matches = matcher(params, child);

              // If there wasn't a match, remove the object in the array
              if (matches == null) {
                match.children.splice(c, 1);
              }
            }

            // If any children matched, return the new object
            if (match.children.length > 0) {
              return match;
            }

            // If there were no matching children, check just the plain object
            return matcher(params, match);
          }

          var original = stripDiacritics(data.text).toUpperCase();
          var term = stripDiacritics(params.term).toUpperCase();

          // Check if the text contains the term
          if (original.indexOf(term) > -1) {
            return data;
          }

          // If it doesn't contain the term, don't return anything
          return null;
        }

        this.defaults = {
          amdBase: './',
          amdLanguageBase: './i18n/',
          closeOnSelect: true,
          debug: false,
          dropdownAutoWidth: false,
          escapeMarkup: Utils.escapeMarkup,
          language: {},
          matcher: matcher,
          minimumInputLength: 0,
          maximumInputLength: 0,
          maximumSelectionLength: 0,
          minimumResultsForSearch: 0,
          selectOnClose: false,
          scrollAfterSelect: false,
          sorter: function (data) {
            return data;
          },
          templateResult: function (result) {
            return result.text;
          },
          templateSelection: function (selection) {
            return selection.text;
          },
          theme: 'default',
          width: 'resolve'
        };
      };

      Defaults.prototype.applyFromElement = function (options, $element) {
        var optionLanguage = options.language;
        var defaultLanguage = this.defaults.language;
        var elementLanguage = $element.prop('lang');
        var parentLanguage = $element.closest('[lang]').prop('lang');

        var languages = Array.prototype.concat.call(
          this._resolveLanguage(elementLanguage),
          this._resolveLanguage(optionLanguage),
          this._resolveLanguage(defaultLanguage),
          this._resolveLanguage(parentLanguage)
        );

        options.language = languages;

        return options;
      };

      Defaults.prototype._resolveLanguage = function (language) {
        if (!language) {
          return [];
        }

        if ($.isEmptyObject(language)) {
          return [];
        }

        if ($.isPlainObject(language)) {
          return [language];
        }

        var languages;

        if (!$.isArray(language)) {
          languages = [language];
        } else {
          languages = language;
        }

        var resolvedLanguages = [];

        for (var l = 0; l < languages.length; l++) {
          resolvedLanguages.push(languages[l]);

          if (typeof languages[l] === 'string' && languages[l].indexOf('-') > 0) {
            // Extract the region information if it is included
            var languageParts = languages[l].split('-');
            var baseLanguage = languageParts[0];

            resolvedLanguages.push(baseLanguage);
          }
        }

        return resolvedLanguages;
      };

      Defaults.prototype._processTranslations = function (languages, debug) {
        var translations = new Translation();

        for (var l = 0; l < languages.length; l++) {
          var languageData = new Translation();

          var language = languages[l];

          if (typeof language === 'string') {
            try {
              // Try to load it with the original name
              languageData = Translation.loadPath(language);
            } catch (e) {
              try {
                // If we couldn't load it, check if it wasn't the full path
                language = this.defaults.amdLanguageBase + language;
                languageData = Translation.loadPath(language);
              } catch (ex) {
                // The translation could not be loaded at all. Sometimes this is
                // because of a configuration problem, other times this can be
                // because of how Select2 helps load all possible translation files
                if (debug && window.console && console.warn) {
                  console.warn(
                    'Select2: The language file for "' + language + '" could ' +
                    'not be automatically loaded. A fallback will be used instead.'
                  );
                }
              }
            }
          } else if ($.isPlainObject(language)) {
            languageData = new Translation(language);
          } else {
            languageData = language;
          }

          translations.extend(languageData);
        }

        return translations;
      };

      Defaults.prototype.set = function (key, value) {
        var camelKey = $.camelCase(key);

        var data = {};
        data[camelKey] = value;

        var convertedData = Utils._convertData(data);

        $.extend(true, this.defaults, convertedData);
      };

      var defaults = new Defaults();

      return defaults;
    });

    S2.define('select2/options',[
      'require',
      'jquery',
      './defaults',
      './utils'
    ], function (require, $, Defaults, Utils) {
      function Options (options, $element) {
        this.options = options;

        if ($element != null) {
          this.fromElement($element);
        }

        if ($element != null) {
          this.options = Defaults.applyFromElement(this.options, $element);
        }

        this.options = Defaults.apply(this.options);

        if ($element && $element.is('input')) {
          var InputCompat = require(this.get('amdBase') + 'compat/inputData');

          this.options.dataAdapter = Utils.Decorate(
            this.options.dataAdapter,
            InputCompat
          );
        }
      }

      Options.prototype.fromElement = function ($e) {
        var excludedData = ['select2'];

        if (this.options.multiple == null) {
          this.options.multiple = $e.prop('multiple');
        }

        if (this.options.disabled == null) {
          this.options.disabled = $e.prop('disabled');
        }

        if (this.options.dir == null) {
          if ($e.prop('dir')) {
            this.options.dir = $e.prop('dir');
          } else if ($e.closest('[dir]').prop('dir')) {
            this.options.dir = $e.closest('[dir]').prop('dir');
          } else {
            this.options.dir = 'ltr';
          }
        }

        $e.prop('disabled', this.options.disabled);
        $e.prop('multiple', this.options.multiple);

        if (Utils.GetData($e[0], 'select2Tags')) {
          if (this.options.debug && window.console && console.warn) {
            console.warn(
              'Select2: The `data-select2-tags` attribute has been changed to ' +
              'use the `data-data` and `data-tags="true"` attributes and will be ' +
              'removed in future versions of Select2.'
            );
          }

          Utils.StoreData($e[0], 'data', Utils.GetData($e[0], 'select2Tags'));
          Utils.StoreData($e[0], 'tags', true);
        }

        if (Utils.GetData($e[0], 'ajaxUrl')) {
          if (this.options.debug && window.console && console.warn) {
            console.warn(
              'Select2: The `data-ajax-url` attribute has been changed to ' +
              '`data-ajax--url` and support for the old attribute will be removed' +
              ' in future versions of Select2.'
            );
          }

          $e.attr('ajax--url', Utils.GetData($e[0], 'ajaxUrl'));
          Utils.StoreData($e[0], 'ajax-Url', Utils.GetData($e[0], 'ajaxUrl'));
        }

        var dataset = {};

        function upperCaseLetter(_, letter) {
          return letter.toUpperCase();
        }

        // Pre-load all of the attributes which are prefixed with `data-`
        for (var attr = 0; attr < $e[0].attributes.length; attr++) {
          var attributeName = $e[0].attributes[attr].name;
          var prefix = 'data-';

          if (attributeName.substr(0, prefix.length) == prefix) {
            // Get the contents of the attribute after `data-`
            var dataName = attributeName.substring(prefix.length);

            // Get the data contents from the consistent source
            // This is more than likely the jQuery data helper
            var dataValue = Utils.GetData($e[0], dataName);

            // camelCase the attribute name to match the spec
            var camelDataName = dataName.replace(/-([a-z])/g, upperCaseLetter);

            // Store the data attribute contents into the dataset since
            dataset[camelDataName] = dataValue;
          }
        }

        // Prefer the element's `dataset` attribute if it exists
        // jQuery 1.x does not correctly handle data attributes with multiple dashes
        if ($.fn.jquery && $.fn.jquery.substr(0, 2) == '1.' && $e[0].dataset) {
          dataset = $.extend(true, {}, $e[0].dataset, dataset);
        }

        // Prefer our internal data cache if it exists
        var data = $.extend(true, {}, Utils.GetData($e[0]), dataset);

        data = Utils._convertData(data);

        for (var key in data) {
          if ($.inArray(key, excludedData) > -1) {
            continue;
          }

          if ($.isPlainObject(this.options[key])) {
            $.extend(this.options[key], data[key]);
          } else {
            this.options[key] = data[key];
          }
        }

        return this;
      };

      Options.prototype.get = function (key) {
        return this.options[key];
      };

      Options.prototype.set = function (key, val) {
        this.options[key] = val;
      };

      return Options;
    });

    S2.define('select2/core',[
      'jquery',
      './options',
      './utils',
      './keys'
    ], function ($, Options, Utils, KEYS) {
      var Select2 = function ($element, options) {
        if (Utils.GetData($element[0], 'select2') != null) {
          Utils.GetData($element[0], 'select2').destroy();
        }

        this.$element = $element;

        this.id = this._generateId($element);

        options = options || {};

        this.options = new Options(options, $element);

        Select2.__super__.constructor.call(this);

        // Set up the tabindex

        var tabindex = $element.attr('tabindex') || 0;
        Utils.StoreData($element[0], 'old-tabindex', tabindex);
        $element.attr('tabindex', '-1');

        // Set up containers and adapters

        var DataAdapter = this.options.get('dataAdapter');
        this.dataAdapter = new DataAdapter($element, this.options);

        var $container = this.render();

        this._placeContainer($container);

        var SelectionAdapter = this.options.get('selectionAdapter');
        this.selection = new SelectionAdapter($element, this.options);
        this.$selection = this.selection.render();

        this.selection.position(this.$selection, $container);

        var DropdownAdapter = this.options.get('dropdownAdapter');
        this.dropdown = new DropdownAdapter($element, this.options);
        this.$dropdown = this.dropdown.render();

        this.dropdown.position(this.$dropdown, $container);

        var ResultsAdapter = this.options.get('resultsAdapter');
        this.results = new ResultsAdapter($element, this.options, this.dataAdapter);
        this.$results = this.results.render();

        this.results.position(this.$results, this.$dropdown);

        // Bind events

        var self = this;

        // Bind the container to all of the adapters
        this._bindAdapters();

        // Register any DOM event handlers
        this._registerDomEvents();

        // Register any internal event handlers
        this._registerDataEvents();
        this._registerSelectionEvents();
        this._registerDropdownEvents();
        this._registerResultsEvents();
        this._registerEvents();

        // Set the initial state
        this.dataAdapter.current(function (initialData) {
          self.trigger('selection:update', {
            data: initialData
          });
        });

        // Hide the original select
        $element.addClass('select2-hidden-accessible');
        $element.attr('aria-hidden', 'true');

        // Synchronize any monitored attributes
        this._syncAttributes();

        Utils.StoreData($element[0], 'select2', this);

        // Ensure backwards compatibility with $element.data('select2').
        $element.data('select2', this);
      };

      Utils.Extend(Select2, Utils.Observable);

      Select2.prototype._generateId = function ($element) {
        var id = '';

        if ($element.attr('id') != null) {
          id = $element.attr('id');
        } else if ($element.attr('name') != null) {
          id = $element.attr('name') + '-' + Utils.generateChars(2);
        } else {
          id = Utils.generateChars(4);
        }

        id = id.replace(/(:|\.|\[|\]|,)/g, '');
        id = 'select2-' + id;

        return id;
      };

      Select2.prototype._placeContainer = function ($container) {
        $container.insertAfter(this.$element);

        var width = this._resolveWidth(this.$element, this.options.get('width'));

        if (width != null) {
          $container.css('width', width);
        }
      };

      Select2.prototype._resolveWidth = function ($element, method) {
        var WIDTH = /^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;

        if (method == 'resolve') {
          var styleWidth = this._resolveWidth($element, 'style');

          if (styleWidth != null) {
            return styleWidth;
          }

          return this._resolveWidth($element, 'element');
        }

        if (method == 'element') {
          var elementWidth = $element.outerWidth(false);

          if (elementWidth <= 0) {
            return 'auto';
          }

          return elementWidth + 'px';
        }

        if (method == 'style') {
          var style = $element.attr('style');

          if (typeof(style) !== 'string') {
            return null;
          }

          var attrs = style.split(';');

          for (var i = 0, l = attrs.length; i < l; i = i + 1) {
            var attr = attrs[i].replace(/\s/g, '');
            var matches = attr.match(WIDTH);

            if (matches !== null && matches.length >= 1) {
              return matches[1];
            }
          }

          return null;
        }

        if (method == 'computedstyle') {
          var computedStyle = window.getComputedStyle($element[0]);

          return computedStyle.width;
        }

        return method;
      };

      Select2.prototype._bindAdapters = function () {
        this.dataAdapter.bind(this, this.$container);
        this.selection.bind(this, this.$container);

        this.dropdown.bind(this, this.$container);
        this.results.bind(this, this.$container);
      };

      Select2.prototype._registerDomEvents = function () {
        var self = this;

        this.$element.on('change.select2', function () {
          self.dataAdapter.current(function (data) {
            self.trigger('selection:update', {
              data: data
            });
          });
        });

        this.$element.on('focus.select2', function (evt) {
          self.trigger('focus', evt);
        });

        this._syncA = Utils.bind(this._syncAttributes, this);
        this._syncS = Utils.bind(this._syncSubtree, this);

        if (this.$element[0].attachEvent) {
          this.$element[0].attachEvent('onpropertychange', this._syncA);
        }

        var observer = window.MutationObserver ||
          window.WebKitMutationObserver ||
          window.MozMutationObserver
        ;

        if (observer != null) {
          this._observer = new observer(function (mutations) {
            self._syncA();
            self._syncS(null, mutations);
          });
          this._observer.observe(this.$element[0], {
            attributes: true,
            childList: true,
            subtree: false
          });
        } else if (this.$element[0].addEventListener) {
          this.$element[0].addEventListener(
            'DOMAttrModified',
            self._syncA,
            false
          );
          this.$element[0].addEventListener(
            'DOMNodeInserted',
            self._syncS,
            false
          );
          this.$element[0].addEventListener(
            'DOMNodeRemoved',
            self._syncS,
            false
          );
        }
      };

      Select2.prototype._registerDataEvents = function () {
        var self = this;

        this.dataAdapter.on('*', function (name, params) {
          self.trigger(name, params);
        });
      };

      Select2.prototype._registerSelectionEvents = function () {
        var self = this;
        var nonRelayEvents = ['toggle', 'focus'];

        this.selection.on('toggle', function () {
          self.toggleDropdown();
        });

        this.selection.on('focus', function (params) {
          self.focus(params);
        });

        this.selection.on('*', function (name, params) {
          if ($.inArray(name, nonRelayEvents) !== -1) {
            return;
          }

          self.trigger(name, params);
        });
      };

      Select2.prototype._registerDropdownEvents = function () {
        var self = this;

        this.dropdown.on('*', function (name, params) {
          self.trigger(name, params);
        });
      };

      Select2.prototype._registerResultsEvents = function () {
        var self = this;

        this.results.on('*', function (name, params) {
          self.trigger(name, params);
        });
      };

      Select2.prototype._registerEvents = function () {
        var self = this;

        this.on('open', function () {
          self.$container.addClass('select2-container--open');
        });

        this.on('close', function () {
          self.$container.removeClass('select2-container--open');
        });

        this.on('enable', function () {
          self.$container.removeClass('select2-container--disabled');
        });

        this.on('disable', function () {
          self.$container.addClass('select2-container--disabled');
        });

        this.on('blur', function () {
          self.$container.removeClass('select2-container--focus');
        });

        this.on('query', function (params) {
          if (!self.isOpen()) {
            self.trigger('open', {});
          }

          this.dataAdapter.query(params, function (data) {
            self.trigger('results:all', {
              data: data,
              query: params
            });
          });
        });

        this.on('query:append', function (params) {
          this.dataAdapter.query(params, function (data) {
            self.trigger('results:append', {
              data: data,
              query: params
            });
          });
        });

        this.on('keypress', function (evt) {
          var key = evt.which;

          if (self.isOpen()) {
            if (key === KEYS.ESC || key === KEYS.TAB ||
                (key === KEYS.UP && evt.altKey)) {
              self.close(evt);

              evt.preventDefault();
            } else if (key === KEYS.ENTER) {
              self.trigger('results:select', {});

              evt.preventDefault();
            } else if ((key === KEYS.SPACE && evt.ctrlKey)) {
              self.trigger('results:toggle', {});

              evt.preventDefault();
            } else if (key === KEYS.UP) {
              self.trigger('results:previous', {});

              evt.preventDefault();
            } else if (key === KEYS.DOWN) {
              self.trigger('results:next', {});

              evt.preventDefault();
            }
          } else {
            if (key === KEYS.ENTER || key === KEYS.SPACE ||
                (key === KEYS.DOWN && evt.altKey)) {
              self.open();

              evt.preventDefault();
            }
          }
        });
      };

      Select2.prototype._syncAttributes = function () {
        this.options.set('disabled', this.$element.prop('disabled'));

        if (this.isDisabled()) {
          if (this.isOpen()) {
            this.close();
          }

          this.trigger('disable', {});
        } else {
          this.trigger('enable', {});
        }
      };

      Select2.prototype._isChangeMutation = function (evt, mutations) {
        var changed = false;
        var self = this;

        // Ignore any mutation events raised for elements that aren't options or
        // optgroups. This handles the case when the select element is destroyed
        if (
          evt && evt.target && (
            evt.target.nodeName !== 'OPTION' && evt.target.nodeName !== 'OPTGROUP'
          )
        ) {
          return;
        }

        if (!mutations) {
          // If mutation events aren't supported, then we can only assume that the
          // change affected the selections
          changed = true;
        } else if (mutations.addedNodes && mutations.addedNodes.length > 0) {
          for (var n = 0; n < mutations.addedNodes.length; n++) {
            var node = mutations.addedNodes[n];

            if (node.selected) {
              changed = true;
            }
          }
        } else if (mutations.removedNodes && mutations.removedNodes.length > 0) {
          changed = true;
        } else if ($.isArray(mutations)) {
          $.each(mutations, function(evt, mutation) {
            if (self._isChangeMutation(evt, mutation)) {
              // We've found a change mutation.
              // Let's escape from the loop and continue
              changed = true;
              return false;
            }
          });
        }
        return changed;
      };

      Select2.prototype._syncSubtree = function (evt, mutations) {
        var changed = this._isChangeMutation(evt, mutations);
        var self = this;

        // Only re-pull the data if we think there is a change
        if (changed) {
          this.dataAdapter.current(function (currentData) {
            self.trigger('selection:update', {
              data: currentData
            });
          });
        }
      };

      /**
       * Override the trigger method to automatically trigger pre-events when
       * there are events that can be prevented.
       */
      Select2.prototype.trigger = function (name, args) {
        var actualTrigger = Select2.__super__.trigger;
        var preTriggerMap = {
          'open': 'opening',
          'close': 'closing',
          'select': 'selecting',
          'unselect': 'unselecting',
          'clear': 'clearing'
        };

        if (args === undefined) {
          args = {};
        }

        if (name in preTriggerMap) {
          var preTriggerName = preTriggerMap[name];
          var preTriggerArgs = {
            prevented: false,
            name: name,
            args: args
          };

          actualTrigger.call(this, preTriggerName, preTriggerArgs);

          if (preTriggerArgs.prevented) {
            args.prevented = true;

            return;
          }
        }

        actualTrigger.call(this, name, args);
      };

      Select2.prototype.toggleDropdown = function () {
        if (this.isDisabled()) {
          return;
        }

        if (this.isOpen()) {
          this.close();
        } else {
          this.open();
        }
      };

      Select2.prototype.open = function () {
        if (this.isOpen()) {
          return;
        }

        if (this.isDisabled()) {
          return;
        }

        this.trigger('query', {});
      };

      Select2.prototype.close = function (evt) {
        if (!this.isOpen()) {
          return;
        }

        this.trigger('close', { originalEvent : evt });
      };

      /**
       * Helper method to abstract the "enabled" (not "disabled") state of this
       * object.
       *
       * @return {true} if the instance is not disabled.
       * @return {false} if the instance is disabled.
       */
      Select2.prototype.isEnabled = function () {
        return !this.isDisabled();
      };

      /**
       * Helper method to abstract the "disabled" state of this object.
       *
       * @return {true} if the disabled option is true.
       * @return {false} if the disabled option is false.
       */
      Select2.prototype.isDisabled = function () {
        return this.options.get('disabled');
      };

      Select2.prototype.isOpen = function () {
        return this.$container.hasClass('select2-container--open');
      };

      Select2.prototype.hasFocus = function () {
        return this.$container.hasClass('select2-container--focus');
      };

      Select2.prototype.focus = function (data) {
        // No need to re-trigger focus events if we are already focused
        if (this.hasFocus()) {
          return;
        }

        this.$container.addClass('select2-container--focus');
        this.trigger('focus', {});
      };

      Select2.prototype.enable = function (args) {
        if (this.options.get('debug') && window.console && console.warn) {
          console.warn(
            'Select2: The `select2("enable")` method has been deprecated and will' +
            ' be removed in later Select2 versions. Use $element.prop("disabled")' +
            ' instead.'
          );
        }

        if (args == null || args.length === 0) {
          args = [true];
        }

        var disabled = !args[0];

        this.$element.prop('disabled', disabled);
      };

      Select2.prototype.data = function () {
        if (this.options.get('debug') &&
            arguments.length > 0 && window.console && console.warn) {
          console.warn(
            'Select2: Data can no longer be set using `select2("data")`. You ' +
            'should consider setting the value instead using `$element.val()`.'
          );
        }

        var data = [];

        this.dataAdapter.current(function (currentData) {
          data = currentData;
        });

        return data;
      };

      Select2.prototype.val = function (args) {
        if (this.options.get('debug') && window.console && console.warn) {
          console.warn(
            'Select2: The `select2("val")` method has been deprecated and will be' +
            ' removed in later Select2 versions. Use $element.val() instead.'
          );
        }

        if (args == null || args.length === 0) {
          return this.$element.val();
        }

        var newVal = args[0];

        if ($.isArray(newVal)) {
          newVal = $.map(newVal, function (obj) {
            return obj.toString();
          });
        }

        this.$element.val(newVal).trigger('input').trigger('change');
      };

      Select2.prototype.destroy = function () {
        this.$container.remove();

        if (this.$element[0].detachEvent) {
          this.$element[0].detachEvent('onpropertychange', this._syncA);
        }

        if (this._observer != null) {
          this._observer.disconnect();
          this._observer = null;
        } else if (this.$element[0].removeEventListener) {
          this.$element[0]
            .removeEventListener('DOMAttrModified', this._syncA, false);
          this.$element[0]
            .removeEventListener('DOMNodeInserted', this._syncS, false);
          this.$element[0]
            .removeEventListener('DOMNodeRemoved', this._syncS, false);
        }

        this._syncA = null;
        this._syncS = null;

        this.$element.off('.select2');
        this.$element.attr('tabindex',
        Utils.GetData(this.$element[0], 'old-tabindex'));

        this.$element.removeClass('select2-hidden-accessible');
        this.$element.attr('aria-hidden', 'false');
        Utils.RemoveData(this.$element[0]);
        this.$element.removeData('select2');

        this.dataAdapter.destroy();
        this.selection.destroy();
        this.dropdown.destroy();
        this.results.destroy();

        this.dataAdapter = null;
        this.selection = null;
        this.dropdown = null;
        this.results = null;
      };

      Select2.prototype.render = function () {
        var $container = $(
          '<span class="select2 select2-container">' +
            '<span class="selection"></span>' +
            '<span class="dropdown-wrapper" aria-hidden="true"></span>' +
          '</span>'
        );

        $container.attr('dir', this.options.get('dir'));

        this.$container = $container;

        this.$container.addClass('select2-container--' + this.options.get('theme'));

        Utils.StoreData($container[0], 'element', this.$element);

        return $container;
      };

      return Select2;
    });

    S2.define('select2/compat/utils',[
      'jquery'
    ], function ($) {
      function syncCssClasses ($dest, $src, adapter) {
        var classes, replacements = [], adapted;

        classes = $.trim($dest.attr('class'));

        if (classes) {
          classes = '' + classes; // for IE which returns object

          $(classes.split(/\s+/)).each(function () {
            // Save all Select2 classes
            if (this.indexOf('select2-') === 0) {
              replacements.push(this);
            }
          });
        }

        classes = $.trim($src.attr('class'));

        if (classes) {
          classes = '' + classes; // for IE which returns object

          $(classes.split(/\s+/)).each(function () {
            // Only adapt non-Select2 classes
            if (this.indexOf('select2-') !== 0) {
              adapted = adapter(this);

              if (adapted != null) {
                replacements.push(adapted);
              }
            }
          });
        }

        $dest.attr('class', replacements.join(' '));
      }

      return {
        syncCssClasses: syncCssClasses
      };
    });

    S2.define('select2/compat/containerCss',[
      'jquery',
      './utils'
    ], function ($, CompatUtils) {
      // No-op CSS adapter that discards all classes by default
      function _containerAdapter (clazz) {
        return null;
      }

      function ContainerCSS () { }

      ContainerCSS.prototype.render = function (decorated) {
        var $container = decorated.call(this);

        var containerCssClass = this.options.get('containerCssClass') || '';

        if ($.isFunction(containerCssClass)) {
          containerCssClass = containerCssClass(this.$element);
        }

        var containerCssAdapter = this.options.get('adaptContainerCssClass');
        containerCssAdapter = containerCssAdapter || _containerAdapter;

        if (containerCssClass.indexOf(':all:') !== -1) {
          containerCssClass = containerCssClass.replace(':all:', '');

          var _cssAdapter = containerCssAdapter;

          containerCssAdapter = function (clazz) {
            var adapted = _cssAdapter(clazz);

            if (adapted != null) {
              // Append the old one along with the adapted one
              return adapted + ' ' + clazz;
            }

            return clazz;
          };
        }

        var containerCss = this.options.get('containerCss') || {};

        if ($.isFunction(containerCss)) {
          containerCss = containerCss(this.$element);
        }

        CompatUtils.syncCssClasses($container, this.$element, containerCssAdapter);

        $container.css(containerCss);
        $container.addClass(containerCssClass);

        return $container;
      };

      return ContainerCSS;
    });

    S2.define('select2/compat/dropdownCss',[
      'jquery',
      './utils'
    ], function ($, CompatUtils) {
      // No-op CSS adapter that discards all classes by default
      function _dropdownAdapter (clazz) {
        return null;
      }

      function DropdownCSS () { }

      DropdownCSS.prototype.render = function (decorated) {
        var $dropdown = decorated.call(this);

        var dropdownCssClass = this.options.get('dropdownCssClass') || '';

        if ($.isFunction(dropdownCssClass)) {
          dropdownCssClass = dropdownCssClass(this.$element);
        }

        var dropdownCssAdapter = this.options.get('adaptDropdownCssClass');
        dropdownCssAdapter = dropdownCssAdapter || _dropdownAdapter;

        if (dropdownCssClass.indexOf(':all:') !== -1) {
          dropdownCssClass = dropdownCssClass.replace(':all:', '');

          var _cssAdapter = dropdownCssAdapter;

          dropdownCssAdapter = function (clazz) {
            var adapted = _cssAdapter(clazz);

            if (adapted != null) {
              // Append the old one along with the adapted one
              return adapted + ' ' + clazz;
            }

            return clazz;
          };
        }

        var dropdownCss = this.options.get('dropdownCss') || {};

        if ($.isFunction(dropdownCss)) {
          dropdownCss = dropdownCss(this.$element);
        }

        CompatUtils.syncCssClasses($dropdown, this.$element, dropdownCssAdapter);

        $dropdown.css(dropdownCss);
        $dropdown.addClass(dropdownCssClass);

        return $dropdown;
      };

      return DropdownCSS;
    });

    S2.define('select2/compat/initSelection',[
      'jquery'
    ], function ($) {
      function InitSelection (decorated, $element, options) {
        if (options.get('debug') && window.console && console.warn) {
          console.warn(
            'Select2: The `initSelection` option has been deprecated in favor' +
            ' of a custom data adapter that overrides the `current` method. ' +
            'This method is now called multiple times instead of a single ' +
            'time when the instance is initialized. Support will be removed ' +
            'for the `initSelection` option in future versions of Select2'
          );
        }

        this.initSelection = options.get('initSelection');
        this._isInitialized = false;

        decorated.call(this, $element, options);
      }

      InitSelection.prototype.current = function (decorated, callback) {
        var self = this;

        if (this._isInitialized) {
          decorated.call(this, callback);

          return;
        }

        this.initSelection.call(null, this.$element, function (data) {
          self._isInitialized = true;

          if (!$.isArray(data)) {
            data = [data];
          }

          callback(data);
        });
      };

      return InitSelection;
    });

    S2.define('select2/compat/inputData',[
      'jquery',
      '../utils'
    ], function ($, Utils) {
      function InputData (decorated, $element, options) {
        this._currentData = [];
        this._valueSeparator = options.get('valueSeparator') || ',';

        if ($element.prop('type') === 'hidden') {
          if (options.get('debug') && console && console.warn) {
            console.warn(
              'Select2: Using a hidden input with Select2 is no longer ' +
              'supported and may stop working in the future. It is recommended ' +
              'to use a `<select>` element instead.'
            );
          }
        }

        decorated.call(this, $element, options);
      }

      InputData.prototype.current = function (_, callback) {
        function getSelected (data, selectedIds) {
          var selected = [];

          if (data.selected || $.inArray(data.id, selectedIds) !== -1) {
            data.selected = true;
            selected.push(data);
          } else {
            data.selected = false;
          }

          if (data.children) {
            selected.push.apply(selected, getSelected(data.children, selectedIds));
          }

          return selected;
        }

        var selected = [];

        for (var d = 0; d < this._currentData.length; d++) {
          var data = this._currentData[d];

          selected.push.apply(
            selected,
            getSelected(
              data,
              this.$element.val().split(
                this._valueSeparator
              )
            )
          );
        }

        callback(selected);
      };

      InputData.prototype.select = function (_, data) {
        if (!this.options.get('multiple')) {
          this.current(function (allData) {
            $.map(allData, function (data) {
              data.selected = false;
            });
          });

          this.$element.val(data.id);
          this.$element.trigger('input').trigger('change');
        } else {
          var value = this.$element.val();
          value += this._valueSeparator + data.id;

          this.$element.val(value);
          this.$element.trigger('input').trigger('change');
        }
      };

      InputData.prototype.unselect = function (_, data) {
        var self = this;

        data.selected = false;

        this.current(function (allData) {
          var values = [];

          for (var d = 0; d < allData.length; d++) {
            var item = allData[d];

            if (data.id == item.id) {
              continue;
            }

            values.push(item.id);
          }

          self.$element.val(values.join(self._valueSeparator));
          self.$element.trigger('input').trigger('change');
        });
      };

      InputData.prototype.query = function (_, params, callback) {
        var results = [];

        for (var d = 0; d < this._currentData.length; d++) {
          var data = this._currentData[d];

          var matches = this.matches(params, data);

          if (matches !== null) {
            results.push(matches);
          }
        }

        callback({
          results: results
        });
      };

      InputData.prototype.addOptions = function (_, $options) {
        var options = $.map($options, function ($option) {
          return Utils.GetData($option[0], 'data');
        });

        this._currentData.push.apply(this._currentData, options);
      };

      return InputData;
    });

    S2.define('select2/compat/matcher',[
      'jquery'
    ], function ($) {
      function oldMatcher (matcher) {
        function wrappedMatcher (params, data) {
          var match = $.extend(true, {}, data);

          if (params.term == null || $.trim(params.term) === '') {
            return match;
          }

          if (data.children) {
            for (var c = data.children.length - 1; c >= 0; c--) {
              var child = data.children[c];

              // Check if the child object matches
              // The old matcher returned a boolean true or false
              var doesMatch = matcher(params.term, child.text, child);

              // If the child didn't match, pop it off
              if (!doesMatch) {
                match.children.splice(c, 1);
              }
            }

            if (match.children.length > 0) {
              return match;
            }
          }

          if (matcher(params.term, data.text, data)) {
            return match;
          }

          return null;
        }

        return wrappedMatcher;
      }

      return oldMatcher;
    });

    S2.define('select2/compat/query',[

    ], function () {
      function Query (decorated, $element, options) {
        if (options.get('debug') && window.console && console.warn) {
          console.warn(
            'Select2: The `query` option has been deprecated in favor of a ' +
            'custom data adapter that overrides the `query` method. Support ' +
            'will be removed for the `query` option in future versions of ' +
            'Select2.'
          );
        }

        decorated.call(this, $element, options);
      }

      Query.prototype.query = function (_, params, callback) {
        params.callback = callback;

        var query = this.options.get('query');

        query.call(null, params);
      };

      return Query;
    });

    S2.define('select2/dropdown/attachContainer',[

    ], function () {
      function AttachContainer (decorated, $element, options) {
        decorated.call(this, $element, options);
      }

      AttachContainer.prototype.position =
        function (decorated, $dropdown, $container) {
        var $dropdownContainer = $container.find('.dropdown-wrapper');
        $dropdownContainer.append($dropdown);

        $dropdown.addClass('select2-dropdown--below');
        $container.addClass('select2-container--below');
      };

      return AttachContainer;
    });

    S2.define('select2/dropdown/stopPropagation',[

    ], function () {
      function StopPropagation () { }

      StopPropagation.prototype.bind = function (decorated, container, $container) {
        decorated.call(this, container, $container);

        var stoppedEvents = [
        'blur',
        'change',
        'click',
        'dblclick',
        'focus',
        'focusin',
        'focusout',
        'input',
        'keydown',
        'keyup',
        'keypress',
        'mousedown',
        'mouseenter',
        'mouseleave',
        'mousemove',
        'mouseover',
        'mouseup',
        'search',
        'touchend',
        'touchstart'
        ];

        this.$dropdown.on(stoppedEvents.join(' '), function (evt) {
          evt.stopPropagation();
        });
      };

      return StopPropagation;
    });

    S2.define('select2/selection/stopPropagation',[

    ], function () {
      function StopPropagation () { }

      StopPropagation.prototype.bind = function (decorated, container, $container) {
        decorated.call(this, container, $container);

        var stoppedEvents = [
          'blur',
          'change',
          'click',
          'dblclick',
          'focus',
          'focusin',
          'focusout',
          'input',
          'keydown',
          'keyup',
          'keypress',
          'mousedown',
          'mouseenter',
          'mouseleave',
          'mousemove',
          'mouseover',
          'mouseup',
          'search',
          'touchend',
          'touchstart'
        ];

        this.$selection.on(stoppedEvents.join(' '), function (evt) {
          evt.stopPropagation();
        });
      };

      return StopPropagation;
    });

    /*!
     * jQuery Mousewheel 3.1.13
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license
     * http://jquery.org/license
     */

    (function (factory) {
        if ( typeof S2.define === 'function' && S2.define.amd ) {
            // AMD. Register as an anonymous module.
            S2.define('jquery-mousewheel',['jquery'], factory);
        } else if (typeof exports === 'object') {
            // Node/CommonJS style for Browserify
            module.exports = factory;
        } else {
            // Browser globals
            factory(jQuery);
        }
    }(function ($) {

        var toFix  = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],
            toBind = ( 'onwheel' in document || document.documentMode >= 9 ) ?
                        ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],
            slice  = Array.prototype.slice,
            nullLowestDeltaTimeout, lowestDelta;

        if ( $.event.fixHooks ) {
            for ( var i = toFix.length; i; ) {
                $.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;
            }
        }

        var special = $.event.special.mousewheel = {
            version: '3.1.12',

            setup: function() {
                if ( this.addEventListener ) {
                    for ( var i = toBind.length; i; ) {
                        this.addEventListener( toBind[--i], handler, false );
                    }
                } else {
                    this.onmousewheel = handler;
                }
                // Store the line height and page height for this particular element
                $.data(this, 'mousewheel-line-height', special.getLineHeight(this));
                $.data(this, 'mousewheel-page-height', special.getPageHeight(this));
            },

            teardown: function() {
                if ( this.removeEventListener ) {
                    for ( var i = toBind.length; i; ) {
                        this.removeEventListener( toBind[--i], handler, false );
                    }
                } else {
                    this.onmousewheel = null;
                }
                // Clean up the data we added to the element
                $.removeData(this, 'mousewheel-line-height');
                $.removeData(this, 'mousewheel-page-height');
            },

            getLineHeight: function(elem) {
                var $elem = $(elem),
                    $parent = $elem['offsetParent' in $.fn ? 'offsetParent' : 'parent']();
                if (!$parent.length) {
                    $parent = $('body');
                }
                return parseInt($parent.css('fontSize'), 10) || parseInt($elem.css('fontSize'), 10) || 16;
            },

            getPageHeight: function(elem) {
                return $(elem).height();
            },

            settings: {
                adjustOldDeltas: true, // see shouldAdjustOldDeltas() below
                normalizeOffset: true  // calls getBoundingClientRect for each event
            }
        };

        $.fn.extend({
            mousewheel: function(fn) {
                return fn ? this.bind('mousewheel', fn) : this.trigger('mousewheel');
            },

            unmousewheel: function(fn) {
                return this.unbind('mousewheel', fn);
            }
        });


        function handler(event) {
            var orgEvent   = event || window.event,
                args       = slice.call(arguments, 1),
                delta      = 0,
                deltaX     = 0,
                deltaY     = 0,
                absDelta   = 0,
                offsetX    = 0,
                offsetY    = 0;
            event = $.event.fix(orgEvent);
            event.type = 'mousewheel';

            // Old school scrollwheel delta
            if ( 'detail'      in orgEvent ) { deltaY = orgEvent.detail * -1;      }
            if ( 'wheelDelta'  in orgEvent ) { deltaY = orgEvent.wheelDelta;       }
            if ( 'wheelDeltaY' in orgEvent ) { deltaY = orgEvent.wheelDeltaY;      }
            if ( 'wheelDeltaX' in orgEvent ) { deltaX = orgEvent.wheelDeltaX * -1; }

            // Firefox < 17 horizontal scrolling related to DOMMouseScroll event
            if ( 'axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {
                deltaX = deltaY * -1;
                deltaY = 0;
            }

            // Set delta to be deltaY or deltaX if deltaY is 0 for backwards compatabilitiy
            delta = deltaY === 0 ? deltaX : deltaY;

            // New school wheel delta (wheel event)
            if ( 'deltaY' in orgEvent ) {
                deltaY = orgEvent.deltaY * -1;
                delta  = deltaY;
            }
            if ( 'deltaX' in orgEvent ) {
                deltaX = orgEvent.deltaX;
                if ( deltaY === 0 ) { delta  = deltaX * -1; }
            }

            // No change actually happened, no reason to go any further
            if ( deltaY === 0 && deltaX === 0 ) { return; }

            // Need to convert lines and pages to pixels if we aren't already in pixels
            // There are three delta modes:
            //   * deltaMode 0 is by pixels, nothing to do
            //   * deltaMode 1 is by lines
            //   * deltaMode 2 is by pages
            if ( orgEvent.deltaMode === 1 ) {
                var lineHeight = $.data(this, 'mousewheel-line-height');
                delta  *= lineHeight;
                deltaY *= lineHeight;
                deltaX *= lineHeight;
            } else if ( orgEvent.deltaMode === 2 ) {
                var pageHeight = $.data(this, 'mousewheel-page-height');
                delta  *= pageHeight;
                deltaY *= pageHeight;
                deltaX *= pageHeight;
            }

            // Store lowest absolute delta to normalize the delta values
            absDelta = Math.max( Math.abs(deltaY), Math.abs(deltaX) );

            if ( !lowestDelta || absDelta < lowestDelta ) {
                lowestDelta = absDelta;

                // Adjust older deltas if necessary
                if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {
                    lowestDelta /= 40;
                }
            }

            // Adjust older deltas if necessary
            if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {
                // Divide all the things by 40!
                delta  /= 40;
                deltaX /= 40;
                deltaY /= 40;
            }

            // Get a whole, normalized value for the deltas
            delta  = Math[ delta  >= 1 ? 'floor' : 'ceil' ](delta  / lowestDelta);
            deltaX = Math[ deltaX >= 1 ? 'floor' : 'ceil' ](deltaX / lowestDelta);
            deltaY = Math[ deltaY >= 1 ? 'floor' : 'ceil' ](deltaY / lowestDelta);

            // Normalise offsetX and offsetY properties
            if ( special.settings.normalizeOffset && this.getBoundingClientRect ) {
                var boundingRect = this.getBoundingClientRect();
                offsetX = event.clientX - boundingRect.left;
                offsetY = event.clientY - boundingRect.top;
            }

            // Add information to the event object
            event.deltaX = deltaX;
            event.deltaY = deltaY;
            event.deltaFactor = lowestDelta;
            event.offsetX = offsetX;
            event.offsetY = offsetY;
            // Go ahead and set deltaMode to 0 since we converted to pixels
            // Although this is a little odd since we overwrite the deltaX/Y
            // properties with normalized deltas.
            event.deltaMode = 0;

            // Add event and delta to the front of the arguments
            args.unshift(event, delta, deltaX, deltaY);

            // Clearout lowestDelta after sometime to better
            // handle multiple device types that give different
            // a different lowestDelta
            // Ex: trackpad = 3 and mouse wheel = 120
            if (nullLowestDeltaTimeout) { clearTimeout(nullLowestDeltaTimeout); }
            nullLowestDeltaTimeout = setTimeout(nullLowestDelta, 200);

            return ($.event.dispatch || $.event.handle).apply(this, args);
        }

        function nullLowestDelta() {
            lowestDelta = null;
        }

        function shouldAdjustOldDeltas(orgEvent, absDelta) {
            // If this is an older event and the delta is divisable by 120,
            // then we are assuming that the browser is treating this as an
            // older mouse wheel event and that we should divide the deltas
            // by 40 to try and get a more usable deltaFactor.
            // Side note, this actually impacts the reported scroll distance
            // in older browsers and can cause scrolling to be slower than native.
            // Turn this off by setting $.event.special.mousewheel.settings.adjustOldDeltas to false.
            return special.settings.adjustOldDeltas && orgEvent.type === 'mousewheel' && absDelta % 120 === 0;
        }

    }));

    S2.define('jquery.select2',[
      'jquery',
      'jquery-mousewheel',

      './select2/core',
      './select2/defaults',
      './select2/utils'
    ], function ($, _, Select2, Defaults, Utils) {
      if ($.fn.select2 == null) {
        // All methods that should return the element
        var thisMethods = ['open', 'close', 'destroy'];

        $.fn.select2 = function (options) {
          options = options || {};

          if (typeof options === 'object') {
            this.each(function () {
              var instanceOptions = $.extend(true, {}, options);

              var instance = new Select2($(this), instanceOptions);
            });

            return this;
          } else if (typeof options === 'string') {
            var ret;
            var args = Array.prototype.slice.call(arguments, 1);

            this.each(function () {
              var instance = Utils.GetData(this, 'select2');

              if (instance == null && window.console && console.error) {
                console.error(
                  'The select2(\'' + options + '\') method was called on an ' +
                  'element that is not using Select2.'
                );
              }

              ret = instance[options].apply(instance, args);
            });

            // Check if we should be returning `this`
            if ($.inArray(options, thisMethods) > -1) {
              return this;
            }

            return ret;
          } else {
            throw new Error('Invalid arguments for Select2: ' + options);
          }
        };
      }

      if ($.fn.select2.defaults == null) {
        $.fn.select2.defaults = Defaults;
      }

      return Select2;
    });

      // Return the AMD loader configuration so it can be used outside of this file
      return {
        define: S2.define,
        require: S2.require
      };
    }());

      // Autoload the jQuery bindings
      // We know that all of the modules exist above this, so we're safe
      var select2 = S2.require('jquery.select2');

      // Hold the AMD module references on the jQuery function that was just loaded
      // This allows Select2 to use the internal loader outside of this file, such
      // as in the language files.
      jQuery.fn.select2.amd = S2;

      // Return the Select2 instance for anyone who is importing it.
      return select2;
    }));
  uploads-admin-Public-Admin-plugins-select2-js-select2.js: |
    /*!
     * Select2 4.0.13
     * https://select2.github.io
     *
     * Released under the MIT license
     * https://github.com/select2/select2/blob/master/LICENSE.md
     */
    ;(function (factory) {
      if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['jquery'], factory);
      } else if (typeof module === 'object' && module.exports) {
        // Node/CommonJS
        module.exports = function (root, jQuery) {
          if (jQuery === undefined) {
            // require('jQuery') returns a factory that requires window to
            // build a jQuery instance, we normalize how we use modules
            // that require this pattern but the window provided is a noop
            // if it's defined (how jquery works)
            if (typeof window !== 'undefined') {
              jQuery = require('jquery');
            }
            else {
              jQuery = require('jquery')(root);
            }
          }
          factory(jQuery);
          return jQuery;
        };
      } else {
        // Browser globals
        factory(jQuery);
      }
    } (function (jQuery) {
      // This is needed so we can catch the AMD loader configuration and use it
      // The inner file should be wrapped (by `banner.start.js`) in a function that
      // returns the AMD loader references.
      var S2 =(function () {
      // Restore the Select2 AMD loader so it can be used
      // Needed mostly in the language files, where the loader is not inserted
      if (jQuery && jQuery.fn && jQuery.fn.select2 && jQuery.fn.select2.amd) {
        var S2 = jQuery.fn.select2.amd;
      }
    var S2;(function () { if (!S2 || !S2.requirejs) {
    if (!S2) { S2 = {}; } else { require = S2; }
    /**
     * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
     * Released under MIT license, http://github.com/requirejs/almond/LICENSE
     */
    //Going sloppy to avoid 'use strict' string cost, but strict practices should
    //be followed.
    /*global setTimeout: false */

    var requirejs, require, define;
    (function (undef) {
        var main, req, makeMap, handlers,
            defined = {},
            waiting = {},
            config = {},
            defining = {},
            hasOwn = Object.prototype.hasOwnProperty,
            aps = [].slice,
            jsSuffixRegExp = /\.js$/;

        function hasProp(obj, prop) {
            return hasOwn.call(obj, prop);
        }

        /**
         * Given a relative module name, like ./something, normalize it to
         * a real name that can be mapped to a path.
         * @param {String} name the relative name
         * @param {String} baseName a real name that the name arg is relative
         * to.
         * @returns {String} normalized name
         */
        function normalize(name, baseName) {
            var nameParts, nameSegment, mapValue, foundMap, lastIndex,
                foundI, foundStarMap, starI, i, j, part, normalizedBaseParts,
                baseParts = baseName && baseName.split("/"),
                map = config.map,
                starMap = (map && map['*']) || {};

            //Adjust any relative paths.
            if (name) {
                name = name.split('/');
                lastIndex = name.length - 1;

                // If wanting node ID compatibility, strip .js from end
                // of IDs. Have to do this here, and not in nameToUrl
                // because node allows either .js or non .js to map
                // to same file.
                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {
                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');
                }

                // Starts with a '.' so need the baseName
                if (name[0].charAt(0) === '.' && baseParts) {
                    //Convert baseName to array, and lop off the last part,
                    //so that . matches that 'directory' and not name of the baseName's
                    //module. For instance, baseName of 'one/two/three', maps to
                    //'one/two/three.js', but we want the directory, 'one/two' for
                    //this normalization.
                    normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);
                    name = normalizedBaseParts.concat(name);
                }

                //start trimDots
                for (i = 0; i < name.length; i++) {
                    part = name[i];
                    if (part === '.') {
                        name.splice(i, 1);
                        i -= 1;
                    } else if (part === '..') {
                        // If at the start, or previous value is still ..,
                        // keep them so that when converted to a path it may
                        // still work when converted to a path, even though
                        // as an ID it is less than ideal. In larger point
                        // releases, may be better to just kick out an error.
                        if (i === 0 || (i === 1 && name[2] === '..') || name[i - 1] === '..') {
                            continue;
                        } else if (i > 0) {
                            name.splice(i - 1, 2);
                            i -= 2;
                        }
                    }
                }
                //end trimDots

                name = name.join('/');
            }

            //Apply map config if available.
            if ((baseParts || starMap) && map) {
                nameParts = name.split('/');

                for (i = nameParts.length; i > 0; i -= 1) {
                    nameSegment = nameParts.slice(0, i).join("/");

                    if (baseParts) {
                        //Find the longest baseName segment match in the config.
                        //So, do joins on the biggest to smallest lengths of baseParts.
                        for (j = baseParts.length; j > 0; j -= 1) {
                            mapValue = map[baseParts.slice(0, j).join('/')];

                            //baseName segment has  config, find if it has one for
                            //this name.
                            if (mapValue) {
                                mapValue = mapValue[nameSegment];
                                if (mapValue) {
                                    //Match, update name to the new value.
                                    foundMap = mapValue;
                                    foundI = i;
                                    break;
                                }
                            }
                        }
                    }

                    if (foundMap) {
                        break;
                    }

                    //Check for a star map match, but just hold on to it,
                    //if there is a shorter segment match later in a matching
                    //config, then favor over this star map.
                    if (!foundStarMap && starMap && starMap[nameSegment]) {
                        foundStarMap = starMap[nameSegment];
                        starI = i;
                    }
                }

                if (!foundMap && foundStarMap) {
                    foundMap = foundStarMap;
                    foundI = starI;
                }

                if (foundMap) {
                    nameParts.splice(0, foundI, foundMap);
                    name = nameParts.join('/');
                }
            }

            return name;
        }

        function makeRequire(relName, forceSync) {
            return function () {
                //A version of a require function that passes a moduleName
                //value for items that may need to
                //look up paths relative to the moduleName
                var args = aps.call(arguments, 0);

                //If first arg is not require('string'), and there is only
                //one arg, it is the array form without a callback. Insert
                //a null so that the following concat is correct.
                if (typeof args[0] !== 'string' && args.length === 1) {
                    args.push(null);
                }
                return req.apply(undef, args.concat([relName, forceSync]));
            };
        }

        function makeNormalize(relName) {
            return function (name) {
                return normalize(name, relName);
            };
        }

        function makeLoad(depName) {
            return function (value) {
                defined[depName] = value;
            };
        }

        function callDep(name) {
            if (hasProp(waiting, name)) {
                var args = waiting[name];
                delete waiting[name];
                defining[name] = true;
                main.apply(undef, args);
            }

            if (!hasProp(defined, name) && !hasProp(defining, name)) {
                throw new Error('No ' + name);
            }
            return defined[name];
        }

        //Turns a plugin!resource to [plugin, resource]
        //with the plugin being undefined if the name
        //did not have a plugin prefix.
        function splitPrefix(name) {
            var prefix,
                index = name ? name.indexOf('!') : -1;
            if (index > -1) {
                prefix = name.substring(0, index);
                name = name.substring(index + 1, name.length);
            }
            return [prefix, name];
        }

        //Creates a parts array for a relName where first part is plugin ID,
        //second part is resource ID. Assumes relName has already been normalized.
        function makeRelParts(relName) {
            return relName ? splitPrefix(relName) : [];
        }

        /**
         * Makes a name map, normalizing the name, and using a plugin
         * for normalization if necessary. Grabs a ref to plugin
         * too, as an optimization.
         */
        makeMap = function (name, relParts) {
            var plugin,
                parts = splitPrefix(name),
                prefix = parts[0],
                relResourceName = relParts[1];

            name = parts[1];

            if (prefix) {
                prefix = normalize(prefix, relResourceName);
                plugin = callDep(prefix);
            }

            //Normalize according
            if (prefix) {
                if (plugin && plugin.normalize) {
                    name = plugin.normalize(name, makeNormalize(relResourceName));
                } else {
                    name = normalize(name, relResourceName);
                }
            } else {
                name = normalize(name, relResourceName);
                parts = splitPrefix(name);
                prefix = parts[0];
                name = parts[1];
                if (prefix) {
                    plugin = callDep(prefix);
                }
            }

            //Using ridiculous property names for space reasons
            return {
                f: prefix ? prefix + '!' + name : name, //fullName
                n: name,
                pr: prefix,
                p: plugin
            };
        };

        function makeConfig(name) {
            return function () {
                return (config && config.config && config.config[name]) || {};
            };
        }

        handlers = {
            require: function (name) {
                return makeRequire(name);
            },
            exports: function (name) {
                var e = defined[name];
                if (typeof e !== 'undefined') {
                    return e;
                } else {
                    return (defined[name] = {});
                }
            },
            module: function (name) {
                return {
                    id: name,
                    uri: '',
                    exports: defined[name],
                    config: makeConfig(name)
                };
            }
        };

        main = function (name, deps, callback, relName) {
            var cjsModule, depName, ret, map, i, relParts,
                args = [],
                callbackType = typeof callback,
                usingExports;

            //Use name if no relName
            relName = relName || name;
            relParts = makeRelParts(relName);

            //Call the callback to define the module, if necessary.
            if (callbackType === 'undefined' || callbackType === 'function') {
                //Pull out the defined dependencies and pass the ordered
                //values to the callback.
                //Default to [require, exports, module] if no deps
                deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;
                for (i = 0; i < deps.length; i += 1) {
                    map = makeMap(deps[i], relParts);
                    depName = map.f;

                    //Fast path CommonJS standard dependencies.
                    if (depName === "require") {
                        args[i] = handlers.require(name);
                    } else if (depName === "exports") {
                        //CommonJS module spec 1.1
                        args[i] = handlers.exports(name);
                        usingExports = true;
                    } else if (depName === "module") {
                        //CommonJS module spec 1.1
                        cjsModule = args[i] = handlers.module(name);
                    } else if (hasProp(defined, depName) ||
                               hasProp(waiting, depName) ||
                               hasProp(defining, depName)) {
                        args[i] = callDep(depName);
                    } else if (map.p) {
                        map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});
                        args[i] = defined[depName];
                    } else {
                        throw new Error(name + ' missing ' + depName);
                    }
                }

                ret = callback ? callback.apply(defined[name], args) : undefined;

                if (name) {
                    //If setting exports via "module" is in play,
                    //favor that over return value and exports. After that,
                    //favor a non-undefined return value over exports use.
                    if (cjsModule && cjsModule.exports !== undef &&
                            cjsModule.exports !== defined[name]) {
                        defined[name] = cjsModule.exports;
                    } else if (ret !== undef || !usingExports) {
                        //Use the return value from the function.
                        defined[name] = ret;
                    }
                }
            } else if (name) {
                //May just be an object definition for the module. Only
                //worry about defining if have a module name.
                defined[name] = callback;
            }
        };

        requirejs = require = req = function (deps, callback, relName, forceSync, alt) {
            if (typeof deps === "string") {
                if (handlers[deps]) {
                    //callback in this case is really relName
                    return handlers[deps](callback);
                }
                //Just return the module wanted. In this scenario, the
                //deps arg is the module name, and second arg (if passed)
                //is just the relName.
                //Normalize module name, if it contains . or ..
                return callDep(makeMap(deps, makeRelParts(callback)).f);
            } else if (!deps.splice) {
                //deps is a config object, not an array.
                config = deps;
                if (config.deps) {
                    req(config.deps, config.callback);
                }
                if (!callback) {
                    return;
                }

                if (callback.splice) {
                    //callback is an array, which means it is a dependency list.
                    //Adjust args if there are dependencies
                    deps = callback;
                    callback = relName;
                    relName = null;
                } else {
                    deps = undef;
                }
            }

            //Support require(['a'])
            callback = callback || function () {};

            //If relName is a function, it is an errback handler,
            //so remove it.
            if (typeof relName === 'function') {
                relName = forceSync;
                forceSync = alt;
            }

            //Simulate async callback;
            if (forceSync) {
                main(undef, deps, callback, relName);
            } else {
                //Using a non-zero value because of concern for what old browsers
                //do, and latest browsers "upgrade" to 4 if lower value is used:
                //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:
                //If want a value immediately, use require('id') instead -- something
                //that works in almond on the global level, but not guaranteed and
                //unlikely to work in other AMD implementations.
                setTimeout(function () {
                    main(undef, deps, callback, relName);
                }, 4);
            }

            return req;
        };

        /**
         * Just drops the config on the floor, but returns req in case
         * the config return value is used.
         */
        req.config = function (cfg) {
            return req(cfg);
        };

        /**
         * Expose module registry for debugging and tooling
         */
        requirejs._defined = defined;

        define = function (name, deps, callback) {
            if (typeof name !== 'string') {
                throw new Error('See almond README: incorrect module build, no module name');
            }

            //This module may not have dependencies
            if (!deps.splice) {
                //deps is not an array, so probably means
                //an object literal or factory function for
                //the value. Adjust args.
                callback = deps;
                deps = [];
            }

            if (!hasProp(defined, name) && !hasProp(waiting, name)) {
                waiting[name] = [name, deps, callback];
            }
        };

        define.amd = {
            jQuery: true
        };
    }());

    S2.requirejs = requirejs;S2.require = require;S2.define = define;
    }
    }());
    S2.define("almond", function(){});

    /* global jQuery:false, $:false */
    S2.define('jquery',[],function () {
      var _$ = jQuery || $;

      if (_$ == null && console && console.error) {
        console.error(
          'Select2: An instance of jQuery or a jQuery-compatible library was not ' +
          'found. Make sure that you are including jQuery before Select2 on your ' +
          'web page.'
        );
      }

      return _$;
    });

    S2.define('select2/utils',[
      'jquery'
    ], function ($) {
      var Utils = {};

      Utils.Extend = function (ChildClass, SuperClass) {
        var __hasProp = {}.hasOwnProperty;

        function BaseConstructor () {
          this.constructor = ChildClass;
        }

        for (var key in SuperClass) {
          if (__hasProp.call(SuperClass, key)) {
            ChildClass[key] = SuperClass[key];
          }
        }

        BaseConstructor.prototype = SuperClass.prototype;
        ChildClass.prototype = new BaseConstructor();
        ChildClass.__super__ = SuperClass.prototype;

        return ChildClass;
      };

      function getMethods (theClass) {
        var proto = theClass.prototype;

        var methods = [];

        for (var methodName in proto) {
          var m = proto[methodName];

          if (typeof m !== 'function') {
            continue;
          }

          if (methodName === 'constructor') {
            continue;
          }

          methods.push(methodName);
        }

        return methods;
      }

      Utils.Decorate = function (SuperClass, DecoratorClass) {
        var decoratedMethods = getMethods(DecoratorClass);
        var superMethods = getMethods(SuperClass);

        function DecoratedClass () {
          var unshift = Array.prototype.unshift;

          var argCount = DecoratorClass.prototype.constructor.length;

          var calledConstructor = SuperClass.prototype.constructor;

          if (argCount > 0) {
            unshift.call(arguments, SuperClass.prototype.constructor);

            calledConstructor = DecoratorClass.prototype.constructor;
          }

          calledConstructor.apply(this, arguments);
        }

        DecoratorClass.displayName = SuperClass.displayName;

        function ctr () {
          this.constructor = DecoratedClass;
        }

        DecoratedClass.prototype = new ctr();

        for (var m = 0; m < superMethods.length; m++) {
          var superMethod = superMethods[m];

          DecoratedClass.prototype[superMethod] =
            SuperClass.prototype[superMethod];
        }

        var calledMethod = function (methodName) {
          // Stub out the original method if it's not decorating an actual method
          var originalMethod = function () {};

          if (methodName in DecoratedClass.prototype) {
            originalMethod = DecoratedClass.prototype[methodName];
          }

          var decoratedMethod = DecoratorClass.prototype[methodName];

          return function () {
            var unshift = Array.prototype.unshift;

            unshift.call(arguments, originalMethod);

            return decoratedMethod.apply(this, arguments);
          };
        };

        for (var d = 0; d < decoratedMethods.length; d++) {
          var decoratedMethod = decoratedMethods[d];

          DecoratedClass.prototype[decoratedMethod] = calledMethod(decoratedMethod);
        }

        return DecoratedClass;
      };

      var Observable = function () {
        this.listeners = {};
      };

      Observable.prototype.on = function (event, callback) {
        this.listeners = this.listeners || {};

        if (event in this.listeners) {
          this.listeners[event].push(callback);
        } else {
          this.listeners[event] = [callback];
        }
      };

      Observable.prototype.trigger = function (event) {
        var slice = Array.prototype.slice;
        var params = slice.call(arguments, 1);

        this.listeners = this.listeners || {};

        // Params should always come in as an array
        if (params == null) {
          params = [];
        }

        // If there are no arguments to the event, use a temporary object
        if (params.length === 0) {
          params.push({});
        }

        // Set the `_type` of the first object to the event
        params[0]._type = event;

        if (event in this.listeners) {
          this.invoke(this.listeners[event], slice.call(arguments, 1));
        }

        if ('*' in this.listeners) {
          this.invoke(this.listeners['*'], arguments);
        }
      };

      Observable.prototype.invoke = function (listeners, params) {
        for (var i = 0, len = listeners.length; i < len; i++) {
          listeners[i].apply(this, params);
        }
      };

      Utils.Observable = Observable;

      Utils.generateChars = function (length) {
        var chars = '';

        for (var i = 0; i < length; i++) {
          var randomChar = Math.floor(Math.random() * 36);
          chars += randomChar.toString(36);
        }

        return chars;
      };

      Utils.bind = function (func, context) {
        return function () {
          func.apply(context, arguments);
        };
      };

      Utils._convertData = function (data) {
        for (var originalKey in data) {
          var keys = originalKey.split('-');

          var dataLevel = data;

          if (keys.length === 1) {
            continue;
          }

          for (var k = 0; k < keys.length; k++) {
            var key = keys[k];

            // Lowercase the first letter
            // By default, dash-separated becomes camelCase
            key = key.substring(0, 1).toLowerCase() + key.substring(1);

            if (!(key in dataLevel)) {
              dataLevel[key] = {};
            }

            if (k == keys.length - 1) {
              dataLevel[key] = data[originalKey];
            }

            dataLevel = dataLevel[key];
          }

          delete data[originalKey];
        }

        return data;
      };

      Utils.hasScroll = function (index, el) {
        // Adapted from the function created by @ShadowScripter
        // and adapted by @BillBarry on the Stack Exchange Code Review website.
        // The original code can be found at
        // http://codereview.stackexchange.com/q/13338
        // and was designed to be used with the Sizzle selector engine.

        var $el = $(el);
        var overflowX = el.style.overflowX;
        var overflowY = el.style.overflowY;

        //Check both x and y declarations
        if (overflowX === overflowY &&
            (overflowY === 'hidden' || overflowY === 'visible')) {
          return false;
        }

        if (overflowX === 'scroll' || overflowY === 'scroll') {
          return true;
        }

        return ($el.innerHeight() < el.scrollHeight ||
          $el.innerWidth() < el.scrollWidth);
      };

      Utils.escapeMarkup = function (markup) {
        var replaceMap = {
          '\\': '&#92;',
          '&': '&amp;',
          '<': '&lt;',
          '>': '&gt;',
          '"': '&quot;',
          '\'': '&#39;',
          '/': '&#47;'
        };

        // Do not try to escape the markup if it's not a string
        if (typeof markup !== 'string') {
          return markup;
        }

        return String(markup).replace(/[&<>"'\/\\]/g, function (match) {
          return replaceMap[match];
        });
      };

      // Append an array of jQuery nodes to a given element.
      Utils.appendMany = function ($element, $nodes) {
        // jQuery 1.7.x does not support $.fn.append() with an array
        // Fall back to a jQuery object collection using $.fn.add()
        if ($.fn.jquery.substr(0, 3) === '1.7') {
          var $jqNodes = $();

          $.map($nodes, function (node) {
            $jqNodes = $jqNodes.add(node);
          });

          $nodes = $jqNodes;
        }

        $element.append($nodes);
      };

      // Cache objects in Utils.__cache instead of $.data (see #4346)
      Utils.__cache = {};

      var id = 0;
      Utils.GetUniqueElementId = function (element) {
        // Get a unique element Id. If element has no id,
        // creates a new unique number, stores it in the id
        // attribute and returns the new id.
        // If an id already exists, it simply returns it.

        var select2Id = element.getAttribute('data-select2-id');
        if (select2Id == null) {
          // If element has id, use it.
          if (element.id) {
            select2Id = element.id;
            element.setAttribute('data-select2-id', select2Id);
          } else {
            element.setAttribute('data-select2-id', ++id);
            select2Id = id.toString();
          }
        }
        return select2Id;
      };

      Utils.StoreData = function (element, name, value) {
        // Stores an item in the cache for a specified element.
        // name is the cache key.
        var id = Utils.GetUniqueElementId(element);
        if (!Utils.__cache[id]) {
          Utils.__cache[id] = {};
        }

        Utils.__cache[id][name] = value;
      };

      Utils.GetData = function (element, name) {
        // Retrieves a value from the cache by its key (name)
        // name is optional. If no name specified, return
        // all cache items for the specified element.
        // and for a specified element.
        var id = Utils.GetUniqueElementId(element);
        if (name) {
          if (Utils.__cache[id]) {
            if (Utils.__cache[id][name] != null) {
              return Utils.__cache[id][name];
            }
            return $(element).data(name); // Fallback to HTML5 data attribs.
          }
          return $(element).data(name); // Fallback to HTML5 data attribs.
        } else {
          return Utils.__cache[id];
        }
      };

      Utils.RemoveData = function (element) {
        // Removes all cached items for a specified element.
        var id = Utils.GetUniqueElementId(element);
        if (Utils.__cache[id] != null) {
          delete Utils.__cache[id];
        }

        element.removeAttribute('data-select2-id');
      };

      return Utils;
    });

    S2.define('select2/results',[
      'jquery',
      './utils'
    ], function ($, Utils) {
      function Results ($element, options, dataAdapter) {
        this.$element = $element;
        this.data = dataAdapter;
        this.options = options;

        Results.__super__.constructor.call(this);
      }

      Utils.Extend(Results, Utils.Observable);

      Results.prototype.render = function () {
        var $results = $(
          '<ul class="select2-results__options" role="listbox"></ul>'
        );

        if (this.options.get('multiple')) {
          $results.attr('aria-multiselectable', 'true');
        }

        this.$results = $results;

        return $results;
      };

      Results.prototype.clear = function () {
        this.$results.empty();
      };

      Results.prototype.displayMessage = function (params) {
        var escapeMarkup = this.options.get('escapeMarkup');

        this.clear();
        this.hideLoading();

        var $message = $(
          '<li role="alert" aria-live="assertive"' +
          ' class="select2-results__option"></li>'
        );

        var message = this.options.get('translations').get(params.message);

        $message.append(
          escapeMarkup(
            message(params.args)
          )
        );

        $message[0].className += ' select2-results__message';

        this.$results.append($message);
      };

      Results.prototype.hideMessages = function () {
        this.$results.find('.select2-results__message').remove();
      };

      Results.prototype.append = function (data) {
        this.hideLoading();

        var $options = [];

        if (data.results == null || data.results.length === 0) {
          if (this.$results.children().length === 0) {
            this.trigger('results:message', {
              message: 'noResults'
            });
          }

          return;
        }

        data.results = this.sort(data.results);

        for (var d = 0; d < data.results.length; d++) {
          var item = data.results[d];

          var $option = this.option(item);

          $options.push($option);
        }

        this.$results.append($options);
      };

      Results.prototype.position = function ($results, $dropdown) {
        var $resultsContainer = $dropdown.find('.select2-results');
        $resultsContainer.append($results);
      };

      Results.prototype.sort = function (data) {
        var sorter = this.options.get('sorter');

        return sorter(data);
      };

      Results.prototype.highlightFirstItem = function () {
        var $options = this.$results
          .find('.select2-results__option[aria-selected]');

        var $selected = $options.filter('[aria-selected=true]');

        // Check if there are any selected options
        if ($selected.length > 0) {
          // If there are selected options, highlight the first
          $selected.first().trigger('mouseenter');
        } else {
          // If there are no selected options, highlight the first option
          // in the dropdown
          $options.first().trigger('mouseenter');
        }

        this.ensureHighlightVisible();
      };

      Results.prototype.setClasses = function () {
        var self = this;

        this.data.current(function (selected) {
          var selectedIds = $.map(selected, function (s) {
            return s.id.toString();
          });

          var $options = self.$results
            .find('.select2-results__option[aria-selected]');

          $options.each(function () {
            var $option = $(this);

            var item = Utils.GetData(this, 'data');

            // id needs to be converted to a string when comparing
            var id = '' + item.id;

            if ((item.element != null && item.element.selected) ||
                (item.element == null && $.inArray(id, selectedIds) > -1)) {
              $option.attr('aria-selected', 'true');
            } else {
              $option.attr('aria-selected', 'false');
            }
          });

        });
      };

      Results.prototype.showLoading = function (params) {
        this.hideLoading();

        var loadingMore = this.options.get('translations').get('searching');

        var loading = {
          disabled: true,
          loading: true,
          text: loadingMore(params)
        };
        var $loading = this.option(loading);
        $loading.className += ' loading-results';

        this.$results.prepend($loading);
      };

      Results.prototype.hideLoading = function () {
        this.$results.find('.loading-results').remove();
      };

      Results.prototype.option = function (data) {
        var option = document.createElement('li');
        option.className = 'select2-results__option';

        var attrs = {
          'role': 'option',
          'aria-selected': 'false'
        };

        var matches = window.Element.prototype.matches ||
          window.Element.prototype.msMatchesSelector ||
          window.Element.prototype.webkitMatchesSelector;

        if ((data.element != null && matches.call(data.element, ':disabled')) ||
            (data.element == null && data.disabled)) {
          delete attrs['aria-selected'];
          attrs['aria-disabled'] = 'true';
        }

        if (data.id == null) {
          delete attrs['aria-selected'];
        }

        if (data._resultId != null) {
          option.id = data._resultId;
        }

        if (data.title) {
          option.title = data.title;
        }

        if (data.children) {
          attrs.role = 'group';
          attrs['aria-label'] = data.text;
          delete attrs['aria-selected'];
        }

        for (var attr in attrs) {
          var val = attrs[attr];

          option.setAttribute(attr, val);
        }

        if (data.children) {
          var $option = $(option);

          var label = document.createElement('strong');
          label.className = 'select2-results__group';

          var $label = $(label);
          this.template(data, label);

          var $children = [];

          for (var c = 0; c < data.children.length; c++) {
            var child = data.children[c];

            var $child = this.option(child);

            $children.push($child);
          }

          var $childrenContainer = $('<ul></ul>', {
            'class': 'select2-results__options select2-results__options--nested'
          });

          $childrenContainer.append($children);

          $option.append(label);
          $option.append($childrenContainer);
        } else {
          this.template(data, option);
        }

        Utils.StoreData(option, 'data', data);

        return option;
      };

      Results.prototype.bind = function (container, $container) {
        var self = this;

        var id = container.id + '-results';

        this.$results.attr('id', id);

        container.on('results:all', function (params) {
          self.clear();
          self.append(params.data);

          if (container.isOpen()) {
            self.setClasses();
            self.highlightFirstItem();
          }
        });

        container.on('results:append', function (params) {
          self.append(params.data);

          if (container.isOpen()) {
            self.setClasses();
          }
        });

        container.on('query', function (params) {
          self.hideMessages();
          self.showLoading(params);
        });

        container.on('select', function () {
          if (!container.isOpen()) {
            return;
          }

          self.setClasses();

          if (self.options.get('scrollAfterSelect')) {
            self.highlightFirstItem();
          }
        });

        container.on('unselect', function () {
          if (!container.isOpen()) {
            return;
          }

          self.setClasses();

          if (self.options.get('scrollAfterSelect')) {
            self.highlightFirstItem();
          }
        });

        container.on('open', function () {
          // When the dropdown is open, aria-expended="true"
          self.$results.attr('aria-expanded', 'true');
          self.$results.attr('aria-hidden', 'false');

          self.setClasses();
          self.ensureHighlightVisible();
        });

        container.on('close', function () {
          // When the dropdown is closed, aria-expended="false"
          self.$results.attr('aria-expanded', 'false');
          self.$results.attr('aria-hidden', 'true');
          self.$results.removeAttr('aria-activedescendant');
        });

        container.on('results:toggle', function () {
          var $highlighted = self.getHighlightedResults();

          if ($highlighted.length === 0) {
            return;
          }

          $highlighted.trigger('mouseup');
        });

        container.on('results:select', function () {
          var $highlighted = self.getHighlightedResults();

          if ($highlighted.length === 0) {
            return;
          }

          var data = Utils.GetData($highlighted[0], 'data');

          if ($highlighted.attr('aria-selected') == 'true') {
            self.trigger('close', {});
          } else {
            self.trigger('select', {
              data: data
            });
          }
        });

        container.on('results:previous', function () {
          var $highlighted = self.getHighlightedResults();

          var $options = self.$results.find('[aria-selected]');

          var currentIndex = $options.index($highlighted);

          // If we are already at the top, don't move further
          // If no options, currentIndex will be -1
          if (currentIndex <= 0) {
            return;
          }

          var nextIndex = currentIndex - 1;

          // If none are highlighted, highlight the first
          if ($highlighted.length === 0) {
            nextIndex = 0;
          }

          var $next = $options.eq(nextIndex);

          $next.trigger('mouseenter');

          var currentOffset = self.$results.offset().top;
          var nextTop = $next.offset().top;
          var nextOffset = self.$results.scrollTop() + (nextTop - currentOffset);

          if (nextIndex === 0) {
            self.$results.scrollTop(0);
          } else if (nextTop - currentOffset < 0) {
            self.$results.scrollTop(nextOffset);
          }
        });

        container.on('results:next', function () {
          var $highlighted = self.getHighlightedResults();

          var $options = self.$results.find('[aria-selected]');

          var currentIndex = $options.index($highlighted);

          var nextIndex = currentIndex + 1;

          // If we are at the last option, stay there
          if (nextIndex >= $options.length) {
            return;
          }

          var $next = $options.eq(nextIndex);

          $next.trigger('mouseenter');

          var currentOffset = self.$results.offset().top +
            self.$results.outerHeight(false);
          var nextBottom = $next.offset().top + $next.outerHeight(false);
          var nextOffset = self.$results.scrollTop() + nextBottom - currentOffset;

          if (nextIndex === 0) {
            self.$results.scrollTop(0);
          } else if (nextBottom > currentOffset) {
            self.$results.scrollTop(nextOffset);
          }
        });

        container.on('results:focus', function (params) {
          params.element.addClass('select2-results__option--highlighted');
        });

        container.on('results:message', function (params) {
          self.displayMessage(params);
        });

        if ($.fn.mousewheel) {
          this.$results.on('mousewheel', function (e) {
            var top = self.$results.scrollTop();

            var bottom = self.$results.get(0).scrollHeight - top + e.deltaY;

            var isAtTop = e.deltaY > 0 && top - e.deltaY <= 0;
            var isAtBottom = e.deltaY < 0 && bottom <= self.$results.height();

            if (isAtTop) {
              self.$results.scrollTop(0);

              e.preventDefault();
              e.stopPropagation();
            } else if (isAtBottom) {
              self.$results.scrollTop(
                self.$results.get(0).scrollHeight - self.$results.height()
              );

              e.preventDefault();
              e.stopPropagation();
            }
          });
        }

        this.$results.on('mouseup', '.select2-results__option[aria-selected]',
          function (evt) {
          var $this = $(this);

          var data = Utils.GetData(this, 'data');

          if ($this.attr('aria-selected') === 'true') {
            if (self.options.get('multiple')) {
              self.trigger('unselect', {
                originalEvent: evt,
                data: data
              });
            } else {
              self.trigger('close', {});
            }

            return;
          }

          self.trigger('select', {
            originalEvent: evt,
            data: data
          });
        });

        this.$results.on('mouseenter', '.select2-results__option[aria-selected]',
          function (evt) {
          var data = Utils.GetData(this, 'data');

          self.getHighlightedResults()
              .removeClass('select2-results__option--highlighted');

          self.trigger('results:focus', {
            data: data,
            element: $(this)
          });
        });
      };

      Results.prototype.getHighlightedResults = function () {
        var $highlighted = this.$results
        .find('.select2-results__option--highlighted');

        return $highlighted;
      };

      Results.prototype.destroy = function () {
        this.$results.remove();
      };

      Results.prototype.ensureHighlightVisible = function () {
        var $highlighted = this.getHighlightedResults();

        if ($highlighted.length === 0) {
          return;
        }

        var $options = this.$results.find('[aria-selected]');

        var currentIndex = $options.index($highlighted);

        var currentOffset = this.$results.offset().top;
        var nextTop = $highlighted.offset().top;
        var nextOffset = this.$results.scrollTop() + (nextTop - currentOffset);

        var offsetDelta = nextTop - currentOffset;
        nextOffset -= $highlighted.outerHeight(false) * 2;

        if (currentIndex <= 2) {
          this.$results.scrollTop(0);
        } else if (offsetDelta > this.$results.outerHeight() || offsetDelta < 0) {
          this.$results.scrollTop(nextOffset);
        }
      };

      Results.prototype.template = function (result, container) {
        var template = this.options.get('templateResult');
        var escapeMarkup = this.options.get('escapeMarkup');

        var content = template(result, container);

        if (content == null) {
          container.style.display = 'none';
        } else if (typeof content === 'string') {
          container.innerHTML = escapeMarkup(content);
        } else {
          $(container).append(content);
        }
      };

      return Results;
    });

    S2.define('select2/keys',[

    ], function () {
      var KEYS = {
        BACKSPACE: 8,
        TAB: 9,
        ENTER: 13,
        SHIFT: 16,
        CTRL: 17,
        ALT: 18,
        ESC: 27,
        SPACE: 32,
        PAGE_UP: 33,
        PAGE_DOWN: 34,
        END: 35,
        HOME: 36,
        LEFT: 37,
        UP: 38,
        RIGHT: 39,
        DOWN: 40,
        DELETE: 46
      };

      return KEYS;
    });

    S2.define('select2/selection/base',[
      'jquery',
      '../utils',
      '../keys'
    ], function ($, Utils, KEYS) {
      function BaseSelection ($element, options) {
        this.$element = $element;
        this.options = options;

        BaseSelection.__super__.constructor.call(this);
      }

      Utils.Extend(BaseSelection, Utils.Observable);

      BaseSelection.prototype.render = function () {
        var $selection = $(
          '<span class="select2-selection" role="combobox" ' +
          ' aria-haspopup="true" aria-expanded="false">' +
          '</span>'
        );

        this._tabindex = 0;

        if (Utils.GetData(this.$element[0], 'old-tabindex') != null) {
          this._tabindex = Utils.GetData(this.$element[0], 'old-tabindex');
        } else if (this.$element.attr('tabindex') != null) {
          this._tabindex = this.$element.attr('tabindex');
        }

        $selection.attr('title', this.$element.attr('title'));
        $selection.attr('tabindex', this._tabindex);
        $selection.attr('aria-disabled', 'false');

        this.$selection = $selection;

        return $selection;
      };

      BaseSelection.prototype.bind = function (container, $container) {
        var self = this;

        var resultsId = container.id + '-results';

        this.container = container;

        this.$selection.on('focus', function (evt) {
          self.trigger('focus', evt);
        });

        this.$selection.on('blur', function (evt) {
          self._handleBlur(evt);
        });

        this.$selection.on('keydown', function (evt) {
          self.trigger('keypress', evt);

          if (evt.which === KEYS.SPACE) {
            evt.preventDefault();
          }
        });

        container.on('results:focus', function (params) {
          self.$selection.attr('aria-activedescendant', params.data._resultId);
        });

        container.on('selection:update', function (params) {
          self.update(params.data);
        });

        container.on('open', function () {
          // When the dropdown is open, aria-expanded="true"
          self.$selection.attr('aria-expanded', 'true');
          self.$selection.attr('aria-owns', resultsId);

          self._attachCloseHandler(container);
        });

        container.on('close', function () {
          // When the dropdown is closed, aria-expanded="false"
          self.$selection.attr('aria-expanded', 'false');
          self.$selection.removeAttr('aria-activedescendant');
          self.$selection.removeAttr('aria-owns');

          self.$selection.trigger('focus');

          self._detachCloseHandler(container);
        });

        container.on('enable', function () {
          self.$selection.attr('tabindex', self._tabindex);
          self.$selection.attr('aria-disabled', 'false');
        });

        container.on('disable', function () {
          self.$selection.attr('tabindex', '-1');
          self.$selection.attr('aria-disabled', 'true');
        });
      };

      BaseSelection.prototype._handleBlur = function (evt) {
        var self = this;

        // This needs to be delayed as the active element is the body when the tab
        // key is pressed, possibly along with others.
        window.setTimeout(function () {
          // Don't trigger `blur` if the focus is still in the selection
          if (
            (document.activeElement == self.$selection[0]) ||
            ($.contains(self.$selection[0], document.activeElement))
          ) {
            return;
          }

          self.trigger('blur', evt);
        }, 1);
      };

      BaseSelection.prototype._attachCloseHandler = function (container) {

        $(document.body).on('mousedown.select2.' + container.id, function (e) {
          var $target = $(e.target);

          var $select = $target.closest('.select2');

          var $all = $('.select2.select2-container--open');

          $all.each(function () {
            if (this == $select[0]) {
              return;
            }

            var $element = Utils.GetData(this, 'element');

            $element.select2('close');
          });
        });
      };

      BaseSelection.prototype._detachCloseHandler = function (container) {
        $(document.body).off('mousedown.select2.' + container.id);
      };

      BaseSelection.prototype.position = function ($selection, $container) {
        var $selectionContainer = $container.find('.selection');
        $selectionContainer.append($selection);
      };

      BaseSelection.prototype.destroy = function () {
        this._detachCloseHandler(this.container);
      };

      BaseSelection.prototype.update = function (data) {
        throw new Error('The `update` method must be defined in child classes.');
      };

      /**
       * Helper method to abstract the "enabled" (not "disabled") state of this
       * object.
       *
       * @return {true} if the instance is not disabled.
       * @return {false} if the instance is disabled.
       */
      BaseSelection.prototype.isEnabled = function () {
        return !this.isDisabled();
      };

      /**
       * Helper method to abstract the "disabled" state of this object.
       *
       * @return {true} if the disabled option is true.
       * @return {false} if the disabled option is false.
       */
      BaseSelection.prototype.isDisabled = function () {
        return this.options.get('disabled');
      };

      return BaseSelection;
    });

    S2.define('select2/selection/single',[
      'jquery',
      './base',
      '../utils',
      '../keys'
    ], function ($, BaseSelection, Utils, KEYS) {
      function SingleSelection () {
        SingleSelection.__super__.constructor.apply(this, arguments);
      }

      Utils.Extend(SingleSelection, BaseSelection);

      SingleSelection.prototype.render = function () {
        var $selection = SingleSelection.__super__.render.call(this);

        $selection.addClass('select2-selection--single');

        $selection.html(
          '<span class="select2-selection__rendered"></span>' +
          '<span class="select2-selection__arrow" role="presentation">' +
            '<b role="presentation"></b>' +
          '</span>'
        );

        return $selection;
      };

      SingleSelection.prototype.bind = function (container, $container) {
        var self = this;

        SingleSelection.__super__.bind.apply(this, arguments);

        var id = container.id + '-container';

        this.$selection.find('.select2-selection__rendered')
          .attr('id', id)
          .attr('role', 'textbox')
          .attr('aria-readonly', 'true');
        this.$selection.attr('aria-labelledby', id);

        this.$selection.on('mousedown', function (evt) {
          // Only respond to left clicks
          if (evt.which !== 1) {
            return;
          }

          self.trigger('toggle', {
            originalEvent: evt
          });
        });

        this.$selection.on('focus', function (evt) {
          // User focuses on the container
        });

        this.$selection.on('blur', function (evt) {
          // User exits the container
        });

        container.on('focus', function (evt) {
          if (!container.isOpen()) {
            self.$selection.trigger('focus');
          }
        });
      };

      SingleSelection.prototype.clear = function () {
        var $rendered = this.$selection.find('.select2-selection__rendered');
        $rendered.empty();
        $rendered.removeAttr('title'); // clear tooltip on empty
      };

      SingleSelection.prototype.display = function (data, container) {
        var template = this.options.get('templateSelection');
        var escapeMarkup = this.options.get('escapeMarkup');

        return escapeMarkup(template(data, container));
      };

      SingleSelection.prototype.selectionContainer = function () {
        return $('<span></span>');
      };

      SingleSelection.prototype.update = function (data) {
        if (data.length === 0) {
          this.clear();
          return;
        }

        var selection = data[0];

        var $rendered = this.$selection.find('.select2-selection__rendered');
        var formatted = this.display(selection, $rendered);

        $rendered.empty().append(formatted);

        var title = selection.title || selection.text;

        if (title) {
          $rendered.attr('title', title);
        } else {
          $rendered.removeAttr('title');
        }
      };

      return SingleSelection;
    });

    S2.define('select2/selection/multiple',[
      'jquery',
      './base',
      '../utils'
    ], function ($, BaseSelection, Utils) {
      function MultipleSelection ($element, options) {
        MultipleSelection.__super__.constructor.apply(this, arguments);
      }

      Utils.Extend(MultipleSelection, BaseSelection);

      MultipleSelection.prototype.render = function () {
        var $selection = MultipleSelection.__super__.render.call(this);

        $selection.addClass('select2-selection--multiple');

        $selection.html(
          '<ul class="select2-selection__rendered"></ul>'
        );

        return $selection;
      };

      MultipleSelection.prototype.bind = function (container, $container) {
        var self = this;

        MultipleSelection.__super__.bind.apply(this, arguments);

        this.$selection.on('click', function (evt) {
          self.trigger('toggle', {
            originalEvent: evt
          });
        });

        this.$selection.on(
          'click',
          '.select2-selection__choice__remove',
          function (evt) {
            // Ignore the event if it is disabled
            if (self.isDisabled()) {
              return;
            }

            var $remove = $(this);
            var $selection = $remove.parent();

            var data = Utils.GetData($selection[0], 'data');

            self.trigger('unselect', {
              originalEvent: evt,
              data: data
            });
          }
        );
      };

      MultipleSelection.prototype.clear = function () {
        var $rendered = this.$selection.find('.select2-selection__rendered');
        $rendered.empty();
        $rendered.removeAttr('title');
      };

      MultipleSelection.prototype.display = function (data, container) {
        var template = this.options.get('templateSelection');
        var escapeMarkup = this.options.get('escapeMarkup');

        return escapeMarkup(template(data, container));
      };

      MultipleSelection.prototype.selectionContainer = function () {
        var $container = $(
          '<li class="select2-selection__choice">' +
            '<span class="select2-selection__choice__remove" role="presentation">' +
              '&times;' +
            '</span>' +
          '</li>'
        );

        return $container;
      };

      MultipleSelection.prototype.update = function (data) {
        this.clear();

        if (data.length === 0) {
          return;
        }

        var $selections = [];

        for (var d = 0; d < data.length; d++) {
          var selection = data[d];

          var $selection = this.selectionContainer();
          var formatted = this.display(selection, $selection);

          $selection.append(formatted);

          var title = selection.title || selection.text;

          if (title) {
            $selection.attr('title', title);
          }

          Utils.StoreData($selection[0], 'data', selection);

          $selections.push($selection);
        }

        var $rendered = this.$selection.find('.select2-selection__rendered');

        Utils.appendMany($rendered, $selections);
      };

      return MultipleSelection;
    });

    S2.define('select2/selection/placeholder',[
      '../utils'
    ], function (Utils) {
      function Placeholder (decorated, $element, options) {
        this.placeholder = this.normalizePlaceholder(options.get('placeholder'));

        decorated.call(this, $element, options);
      }

      Placeholder.prototype.normalizePlaceholder = function (_, placeholder) {
        if (typeof placeholder === 'string') {
          placeholder = {
            id: '',
            text: placeholder
          };
        }

        return placeholder;
      };

      Placeholder.prototype.createPlaceholder = function (decorated, placeholder) {
        var $placeholder = this.selectionContainer();

        $placeholder.html(this.display(placeholder));
        $placeholder.addClass('select2-selection__placeholder')
                    .removeClass('select2-selection__choice');

        return $placeholder;
      };

      Placeholder.prototype.update = function (decorated, data) {
        var singlePlaceholder = (
          data.length == 1 && data[0].id != this.placeholder.id
        );
        var multipleSelections = data.length > 1;

        if (multipleSelections || singlePlaceholder) {
          return decorated.call(this, data);
        }

        this.clear();

        var $placeholder = this.createPlaceholder(this.placeholder);

        this.$selection.find('.select2-selection__rendered').append($placeholder);
      };

      return Placeholder;
    });

    S2.define('select2/selection/allowClear',[
      'jquery',
      '../keys',
      '../utils'
    ], function ($, KEYS, Utils) {
      function AllowClear () { }

      AllowClear.prototype.bind = function (decorated, container, $container) {
        var self = this;

        decorated.call(this, container, $container);

        if (this.placeholder == null) {
          if (this.options.get('debug') && window.console && console.error) {
            console.error(
              'Select2: The `allowClear` option should be used in combination ' +
              'with the `placeholder` option.'
            );
          }
        }

        this.$selection.on('mousedown', '.select2-selection__clear',
          function (evt) {
            self._handleClear(evt);
        });

        container.on('keypress', function (evt) {
          self._handleKeyboardClear(evt, container);
        });
      };

      AllowClear.prototype._handleClear = function (_, evt) {
        // Ignore the event if it is disabled
        if (this.isDisabled()) {
          return;
        }

        var $clear = this.$selection.find('.select2-selection__clear');

        // Ignore the event if nothing has been selected
        if ($clear.length === 0) {
          return;
        }

        evt.stopPropagation();

        var data = Utils.GetData($clear[0], 'data');

        var previousVal = this.$element.val();
        this.$element.val(this.placeholder.id);

        var unselectData = {
          data: data
        };
        this.trigger('clear', unselectData);
        if (unselectData.prevented) {
          this.$element.val(previousVal);
          return;
        }

        for (var d = 0; d < data.length; d++) {
          unselectData = {
            data: data[d]
          };

          // Trigger the `unselect` event, so people can prevent it from being
          // cleared.
          this.trigger('unselect', unselectData);

          // If the event was prevented, don't clear it out.
          if (unselectData.prevented) {
            this.$element.val(previousVal);
            return;
          }
        }

        this.$element.trigger('input').trigger('change');

        this.trigger('toggle', {});
      };

      AllowClear.prototype._handleKeyboardClear = function (_, evt, container) {
        if (container.isOpen()) {
          return;
        }

        if (evt.which == KEYS.DELETE || evt.which == KEYS.BACKSPACE) {
          this._handleClear(evt);
        }
      };

      AllowClear.prototype.update = function (decorated, data) {
        decorated.call(this, data);

        if (this.$selection.find('.select2-selection__placeholder').length > 0 ||
            data.length === 0) {
          return;
        }

        var removeAll = this.options.get('translations').get('removeAllItems');

        var $remove = $(
          '<span class="select2-selection__clear" title="' + removeAll() +'">' +
            '&times;' +
          '</span>'
        );
        Utils.StoreData($remove[0], 'data', data);

        this.$selection.find('.select2-selection__rendered').prepend($remove);
      };

      return AllowClear;
    });

    S2.define('select2/selection/search',[
      'jquery',
      '../utils',
      '../keys'
    ], function ($, Utils, KEYS) {
      function Search (decorated, $element, options) {
        decorated.call(this, $element, options);
      }

      Search.prototype.render = function (decorated) {
        var $search = $(
          '<li class="select2-search select2-search--inline">' +
            '<input class="select2-search__field" type="search" tabindex="-1"' +
            ' autocomplete="off" autocorrect="off" autocapitalize="none"' +
            ' spellcheck="false" role="searchbox" aria-autocomplete="list" />' +
          '</li>'
        );

        this.$searchContainer = $search;
        this.$search = $search.find('input');

        var $rendered = decorated.call(this);

        this._transferTabIndex();

        return $rendered;
      };

      Search.prototype.bind = function (decorated, container, $container) {
        var self = this;

        var resultsId = container.id + '-results';

        decorated.call(this, container, $container);

        container.on('open', function () {
          self.$search.attr('aria-controls', resultsId);
          self.$search.trigger('focus');
        });

        container.on('close', function () {
          self.$search.val('');
          self.$search.removeAttr('aria-controls');
          self.$search.removeAttr('aria-activedescendant');
          self.$search.trigger('focus');
        });

        container.on('enable', function () {
          self.$search.prop('disabled', false);

          self._transferTabIndex();
        });

        container.on('disable', function () {
          self.$search.prop('disabled', true);
        });

        container.on('focus', function (evt) {
          self.$search.trigger('focus');
        });

        container.on('results:focus', function (params) {
          if (params.data._resultId) {
            self.$search.attr('aria-activedescendant', params.data._resultId);
          } else {
            self.$search.removeAttr('aria-activedescendant');
          }
        });

        this.$selection.on('focusin', '.select2-search--inline', function (evt) {
          self.trigger('focus', evt);
        });

        this.$selection.on('focusout', '.select2-search--inline', function (evt) {
          self._handleBlur(evt);
        });

        this.$selection.on('keydown', '.select2-search--inline', function (evt) {
          evt.stopPropagation();

          self.trigger('keypress', evt);

          self._keyUpPrevented = evt.isDefaultPrevented();

          var key = evt.which;

          if (key === KEYS.BACKSPACE && self.$search.val() === '') {
            var $previousChoice = self.$searchContainer
              .prev('.select2-selection__choice');

            if ($previousChoice.length > 0) {
              var item = Utils.GetData($previousChoice[0], 'data');

              self.searchRemoveChoice(item);

              evt.preventDefault();
            }
          }
        });

        this.$selection.on('click', '.select2-search--inline', function (evt) {
          if (self.$search.val()) {
            evt.stopPropagation();
          }
        });

        // Try to detect the IE version should the `documentMode` property that
        // is stored on the document. This is only implemented in IE and is
        // slightly cleaner than doing a user agent check.
        // This property is not available in Edge, but Edge also doesn't have
        // this bug.
        var msie = document.documentMode;
        var disableInputEvents = msie && msie <= 11;

        // Workaround for browsers which do not support the `input` event
        // This will prevent double-triggering of events for browsers which support
        // both the `keyup` and `input` events.
        this.$selection.on(
          'input.searchcheck',
          '.select2-search--inline',
          function (evt) {
            // IE will trigger the `input` event when a placeholder is used on a
            // search box. To get around this issue, we are forced to ignore all
            // `input` events in IE and keep using `keyup`.
            if (disableInputEvents) {
              self.$selection.off('input.search input.searchcheck');
              return;
            }

            // Unbind the duplicated `keyup` event
            self.$selection.off('keyup.search');
          }
        );

        this.$selection.on(
          'keyup.search input.search',
          '.select2-search--inline',
          function (evt) {
            // IE will trigger the `input` event when a placeholder is used on a
            // search box. To get around this issue, we are forced to ignore all
            // `input` events in IE and keep using `keyup`.
            if (disableInputEvents && evt.type === 'input') {
              self.$selection.off('input.search input.searchcheck');
              return;
            }

            var key = evt.which;

            // We can freely ignore events from modifier keys
            if (key == KEYS.SHIFT || key == KEYS.CTRL || key == KEYS.ALT) {
              return;
            }

            // Tabbing will be handled during the `keydown` phase
            if (key == KEYS.TAB) {
              return;
            }

            self.handleSearch(evt);
          }
        );
      };

      /**
       * This method will transfer the tabindex attribute from the rendered
       * selection to the search box. This allows for the search box to be used as
       * the primary focus instead of the selection container.
       *
       * @private
       */
      Search.prototype._transferTabIndex = function (decorated) {
        this.$search.attr('tabindex', this.$selection.attr('tabindex'));
        this.$selection.attr('tabindex', '-1');
      };

      Search.prototype.createPlaceholder = function (decorated, placeholder) {
        this.$search.attr('placeholder', placeholder.text);
      };

      Search.prototype.update = function (decorated, data) {
        var searchHadFocus = this.$search[0] == document.activeElement;

        this.$search.attr('placeholder', '');

        decorated.call(this, data);

        this.$selection.find('.select2-selection__rendered')
                       .append(this.$searchContainer);

        this.resizeSearch();
        if (searchHadFocus) {
          this.$search.trigger('focus');
        }
      };

      Search.prototype.handleSearch = function () {
        this.resizeSearch();

        if (!this._keyUpPrevented) {
          var input = this.$search.val();

          this.trigger('query', {
            term: input
          });
        }

        this._keyUpPrevented = false;
      };

      Search.prototype.searchRemoveChoice = function (decorated, item) {
        this.trigger('unselect', {
          data: item
        });

        this.$search.val(item.text);
        this.handleSearch();
      };

      Search.prototype.resizeSearch = function () {
        this.$search.css('width', '25px');

        var width = '';

        if (this.$search.attr('placeholder') !== '') {
          width = this.$selection.find('.select2-selection__rendered').width();
        } else {
          var minimumWidth = this.$search.val().length + 1;

          width = (minimumWidth * 0.75) + 'em';
        }

        this.$search.css('width', width);
      };

      return Search;
    });

    S2.define('select2/selection/eventRelay',[
      'jquery'
    ], function ($) {
      function EventRelay () { }

      EventRelay.prototype.bind = function (decorated, container, $container) {
        var self = this;
        var relayEvents = [
          'open', 'opening',
          'close', 'closing',
          'select', 'selecting',
          'unselect', 'unselecting',
          'clear', 'clearing'
        ];

        var preventableEvents = [
          'opening', 'closing', 'selecting', 'unselecting', 'clearing'
        ];

        decorated.call(this, container, $container);

        container.on('*', function (name, params) {
          // Ignore events that should not be relayed
          if ($.inArray(name, relayEvents) === -1) {
            return;
          }

          // The parameters should always be an object
          params = params || {};

          // Generate the jQuery event for the Select2 event
          var evt = $.Event('select2:' + name, {
            params: params
          });

          self.$element.trigger(evt);

          // Only handle preventable events if it was one
          if ($.inArray(name, preventableEvents) === -1) {
            return;
          }

          params.prevented = evt.isDefaultPrevented();
        });
      };

      return EventRelay;
    });

    S2.define('select2/translation',[
      'jquery',
      'require'
    ], function ($, require) {
      function Translation (dict) {
        this.dict = dict || {};
      }

      Translation.prototype.all = function () {
        return this.dict;
      };

      Translation.prototype.get = function (key) {
        return this.dict[key];
      };

      Translation.prototype.extend = function (translation) {
        this.dict = $.extend({}, translation.all(), this.dict);
      };

      // Static functions

      Translation._cache = {};

      Translation.loadPath = function (path) {
        if (!(path in Translation._cache)) {
          var translations = require(path);

          Translation._cache[path] = translations;
        }

        return new Translation(Translation._cache[path]);
      };

      return Translation;
    });

    S2.define('select2/diacritics',[

    ], function () {
      var diacritics = {
        '\u24B6': 'A',
        '\uFF21': 'A',
        '\u00C0': 'A',
        '\u00C1': 'A',
        '\u00C2': 'A',
        '\u1EA6': 'A',
        '\u1EA4': 'A',
        '\u1EAA': 'A',
        '\u1EA8': 'A',
        '\u00C3': 'A',
        '\u0100': 'A',
        '\u0102': 'A',
        '\u1EB0': 'A',
        '\u1EAE': 'A',
        '\u1EB4': 'A',
        '\u1EB2': 'A',
        '\u0226': 'A',
        '\u01E0': 'A',
        '\u00C4': 'A',
        '\u01DE': 'A',
        '\u1EA2': 'A',
        '\u00C5': 'A',
        '\u01FA': 'A',
        '\u01CD': 'A',
        '\u0200': 'A',
        '\u0202': 'A',
        '\u1EA0': 'A',
        '\u1EAC': 'A',
        '\u1EB6': 'A',
        '\u1E00': 'A',
        '\u0104': 'A',
        '\u023A': 'A',
        '\u2C6F': 'A',
        '\uA732': 'AA',
        '\u00C6': 'AE',
        '\u01FC': 'AE',
        '\u01E2': 'AE',
        '\uA734': 'AO',
        '\uA736': 'AU',
        '\uA738': 'AV',
        '\uA73A': 'AV',
        '\uA73C': 'AY',
        '\u24B7': 'B',
        '\uFF22': 'B',
        '\u1E02': 'B',
        '\u1E04': 'B',
        '\u1E06': 'B',
        '\u0243': 'B',
        '\u0182': 'B',
        '\u0181': 'B',
        '\u24B8': 'C',
        '\uFF23': 'C',
        '\u0106': 'C',
        '\u0108': 'C',
        '\u010A': 'C',
        '\u010C': 'C',
        '\u00C7': 'C',
        '\u1E08': 'C',
        '\u0187': 'C',
        '\u023B': 'C',
        '\uA73E': 'C',
        '\u24B9': 'D',
        '\uFF24': 'D',
        '\u1E0A': 'D',
        '\u010E': 'D',
        '\u1E0C': 'D',
        '\u1E10': 'D',
        '\u1E12': 'D',
        '\u1E0E': 'D',
        '\u0110': 'D',
        '\u018B': 'D',
        '\u018A': 'D',
        '\u0189': 'D',
        '\uA779': 'D',
        '\u01F1': 'DZ',
        '\u01C4': 'DZ',
        '\u01F2': 'Dz',
        '\u01C5': 'Dz',
        '\u24BA': 'E',
        '\uFF25': 'E',
        '\u00C8': 'E',
        '\u00C9': 'E',
        '\u00CA': 'E',
        '\u1EC0': 'E',
        '\u1EBE': 'E',
        '\u1EC4': 'E',
        '\u1EC2': 'E',
        '\u1EBC': 'E',
        '\u0112': 'E',
        '\u1E14': 'E',
        '\u1E16': 'E',
        '\u0114': 'E',
        '\u0116': 'E',
        '\u00CB': 'E',
        '\u1EBA': 'E',
        '\u011A': 'E',
        '\u0204': 'E',
        '\u0206': 'E',
        '\u1EB8': 'E',
        '\u1EC6': 'E',
        '\u0228': 'E',
        '\u1E1C': 'E',
        '\u0118': 'E',
        '\u1E18': 'E',
        '\u1E1A': 'E',
        '\u0190': 'E',
        '\u018E': 'E',
        '\u24BB': 'F',
        '\uFF26': 'F',
        '\u1E1E': 'F',
        '\u0191': 'F',
        '\uA77B': 'F',
        '\u24BC': 'G',
        '\uFF27': 'G',
        '\u01F4': 'G',
        '\u011C': 'G',
        '\u1E20': 'G',
        '\u011E': 'G',
        '\u0120': 'G',
        '\u01E6': 'G',
        '\u0122': 'G',
        '\u01E4': 'G',
        '\u0193': 'G',
        '\uA7A0': 'G',
        '\uA77D': 'G',
        '\uA77E': 'G',
        '\u24BD': 'H',
        '\uFF28': 'H',
        '\u0124': 'H',
        '\u1E22': 'H',
        '\u1E26': 'H',
        '\u021E': 'H',
        '\u1E24': 'H',
        '\u1E28': 'H',
        '\u1E2A': 'H',
        '\u0126': 'H',
        '\u2C67': 'H',
        '\u2C75': 'H',
        '\uA78D': 'H',
        '\u24BE': 'I',
        '\uFF29': 'I',
        '\u00CC': 'I',
        '\u00CD': 'I',
        '\u00CE': 'I',
        '\u0128': 'I',
        '\u012A': 'I',
        '\u012C': 'I',
        '\u0130': 'I',
        '\u00CF': 'I',
        '\u1E2E': 'I',
        '\u1EC8': 'I',
        '\u01CF': 'I',
        '\u0208': 'I',
        '\u020A': 'I',
        '\u1ECA': 'I',
        '\u012E': 'I',
        '\u1E2C': 'I',
        '\u0197': 'I',
        '\u24BF': 'J',
        '\uFF2A': 'J',
        '\u0134': 'J',
        '\u0248': 'J',
        '\u24C0': 'K',
        '\uFF2B': 'K',
        '\u1E30': 'K',
        '\u01E8': 'K',
        '\u1E32': 'K',
        '\u0136': 'K',
        '\u1E34': 'K',
        '\u0198': 'K',
        '\u2C69': 'K',
        '\uA740': 'K',
        '\uA742': 'K',
        '\uA744': 'K',
        '\uA7A2': 'K',
        '\u24C1': 'L',
        '\uFF2C': 'L',
        '\u013F': 'L',
        '\u0139': 'L',
        '\u013D': 'L',
        '\u1E36': 'L',
        '\u1E38': 'L',
        '\u013B': 'L',
        '\u1E3C': 'L',
        '\u1E3A': 'L',
        '\u0141': 'L',
        '\u023D': 'L',
        '\u2C62': 'L',
        '\u2C60': 'L',
        '\uA748': 'L',
        '\uA746': 'L',
        '\uA780': 'L',
        '\u01C7': 'LJ',
        '\u01C8': 'Lj',
        '\u24C2': 'M',
        '\uFF2D': 'M',
        '\u1E3E': 'M',
        '\u1E40': 'M',
        '\u1E42': 'M',
        '\u2C6E': 'M',
        '\u019C': 'M',
        '\u24C3': 'N',
        '\uFF2E': 'N',
        '\u01F8': 'N',
        '\u0143': 'N',
        '\u00D1': 'N',
        '\u1E44': 'N',
        '\u0147': 'N',
        '\u1E46': 'N',
        '\u0145': 'N',
        '\u1E4A': 'N',
        '\u1E48': 'N',
        '\u0220': 'N',
        '\u019D': 'N',
        '\uA790': 'N',
        '\uA7A4': 'N',
        '\u01CA': 'NJ',
        '\u01CB': 'Nj',
        '\u24C4': 'O',
        '\uFF2F': 'O',
        '\u00D2': 'O',
        '\u00D3': 'O',
        '\u00D4': 'O',
        '\u1ED2': 'O',
        '\u1ED0': 'O',
        '\u1ED6': 'O',
        '\u1ED4': 'O',
        '\u00D5': 'O',
        '\u1E4C': 'O',
        '\u022C': 'O',
        '\u1E4E': 'O',
        '\u014C': 'O',
        '\u1E50': 'O',
        '\u1E52': 'O',
        '\u014E': 'O',
        '\u022E': 'O',
        '\u0230': 'O',
        '\u00D6': 'O',
        '\u022A': 'O',
        '\u1ECE': 'O',
        '\u0150': 'O',
        '\u01D1': 'O',
        '\u020C': 'O',
        '\u020E': 'O',
        '\u01A0': 'O',
        '\u1EDC': 'O',
        '\u1EDA': 'O',
        '\u1EE0': 'O',
        '\u1EDE': 'O',
        '\u1EE2': 'O',
        '\u1ECC': 'O',
        '\u1ED8': 'O',
        '\u01EA': 'O',
        '\u01EC': 'O',
        '\u00D8': 'O',
        '\u01FE': 'O',
        '\u0186': 'O',
        '\u019F': 'O',
        '\uA74A': 'O',
        '\uA74C': 'O',
        '\u0152': 'OE',
        '\u01A2': 'OI',
        '\uA74E': 'OO',
        '\u0222': 'OU',
        '\u24C5': 'P',
        '\uFF30': 'P',
        '\u1E54': 'P',
        '\u1E56': 'P',
        '\u01A4': 'P',
        '\u2C63': 'P',
        '\uA750': 'P',
        '\uA752': 'P',
        '\uA754': 'P',
        '\u24C6': 'Q',
        '\uFF31': 'Q',
        '\uA756': 'Q',
        '\uA758': 'Q',
        '\u024A': 'Q',
        '\u24C7': 'R',
        '\uFF32': 'R',
        '\u0154': 'R',
        '\u1E58': 'R',
        '\u0158': 'R',
        '\u0210': 'R',
        '\u0212': 'R',
        '\u1E5A': 'R',
        '\u1E5C': 'R',
        '\u0156': 'R',
        '\u1E5E': 'R',
        '\u024C': 'R',
        '\u2C64': 'R',
        '\uA75A': 'R',
        '\uA7A6': 'R',
        '\uA782': 'R',
        '\u24C8': 'S',
        '\uFF33': 'S',
        '\u1E9E': 'S',
        '\u015A': 'S',
        '\u1E64': 'S',
        '\u015C': 'S',
        '\u1E60': 'S',
        '\u0160': 'S',
        '\u1E66': 'S',
        '\u1E62': 'S',
        '\u1E68': 'S',
        '\u0218': 'S',
        '\u015E': 'S',
        '\u2C7E': 'S',
        '\uA7A8': 'S',
        '\uA784': 'S',
        '\u24C9': 'T',
        '\uFF34': 'T',
        '\u1E6A': 'T',
        '\u0164': 'T',
        '\u1E6C': 'T',
        '\u021A': 'T',
        '\u0162': 'T',
        '\u1E70': 'T',
        '\u1E6E': 'T',
        '\u0166': 'T',
        '\u01AC': 'T',
        '\u01AE': 'T',
        '\u023E': 'T',
        '\uA786': 'T',
        '\uA728': 'TZ',
        '\u24CA': 'U',
        '\uFF35': 'U',
        '\u00D9': 'U',
        '\u00DA': 'U',
        '\u00DB': 'U',
        '\u0168': 'U',
        '\u1E78': 'U',
        '\u016A': 'U',
        '\u1E7A': 'U',
        '\u016C': 'U',
        '\u00DC': 'U',
        '\u01DB': 'U',
        '\u01D7': 'U',
        '\u01D5': 'U',
        '\u01D9': 'U',
        '\u1EE6': 'U',
        '\u016E': 'U',
        '\u0170': 'U',
        '\u01D3': 'U',
        '\u0214': 'U',
        '\u0216': 'U',
        '\u01AF': 'U',
        '\u1EEA': 'U',
        '\u1EE8': 'U',
        '\u1EEE': 'U',
        '\u1EEC': 'U',
        '\u1EF0': 'U',
        '\u1EE4': 'U',
        '\u1E72': 'U',
        '\u0172': 'U',
        '\u1E76': 'U',
        '\u1E74': 'U',
        '\u0244': 'U',
        '\u24CB': 'V',
        '\uFF36': 'V',
        '\u1E7C': 'V',
        '\u1E7E': 'V',
        '\u01B2': 'V',
        '\uA75E': 'V',
        '\u0245': 'V',
        '\uA760': 'VY',
        '\u24CC': 'W',
        '\uFF37': 'W',
        '\u1E80': 'W',
        '\u1E82': 'W',
        '\u0174': 'W',
        '\u1E86': 'W',
        '\u1E84': 'W',
        '\u1E88': 'W',
        '\u2C72': 'W',
        '\u24CD': 'X',
        '\uFF38': 'X',
        '\u1E8A': 'X',
        '\u1E8C': 'X',
        '\u24CE': 'Y',
        '\uFF39': 'Y',
        '\u1EF2': 'Y',
        '\u00DD': 'Y',
        '\u0176': 'Y',
        '\u1EF8': 'Y',
        '\u0232': 'Y',
        '\u1E8E': 'Y',
        '\u0178': 'Y',
        '\u1EF6': 'Y',
        '\u1EF4': 'Y',
        '\u01B3': 'Y',
        '\u024E': 'Y',
        '\u1EFE': 'Y',
        '\u24CF': 'Z',
        '\uFF3A': 'Z',
        '\u0179': 'Z',
        '\u1E90': 'Z',
        '\u017B': 'Z',
        '\u017D': 'Z',
        '\u1E92': 'Z',
        '\u1E94': 'Z',
        '\u01B5': 'Z',
        '\u0224': 'Z',
        '\u2C7F': 'Z',
        '\u2C6B': 'Z',
        '\uA762': 'Z',
        '\u24D0': 'a',
        '\uFF41': 'a',
        '\u1E9A': 'a',
        '\u00E0': 'a',
        '\u00E1': 'a',
        '\u00E2': 'a',
        '\u1EA7': 'a',
        '\u1EA5': 'a',
        '\u1EAB': 'a',
        '\u1EA9': 'a',
        '\u00E3': 'a',
        '\u0101': 'a',
        '\u0103': 'a',
        '\u1EB1': 'a',
        '\u1EAF': 'a',
        '\u1EB5': 'a',
        '\u1EB3': 'a',
        '\u0227': 'a',
        '\u01E1': 'a',
        '\u00E4': 'a',
        '\u01DF': 'a',
        '\u1EA3': 'a',
        '\u00E5': 'a',
        '\u01FB': 'a',
        '\u01CE': 'a',
        '\u0201': 'a',
        '\u0203': 'a',
        '\u1EA1': 'a',
        '\u1EAD': 'a',
        '\u1EB7': 'a',
        '\u1E01': 'a',
        '\u0105': 'a',
        '\u2C65': 'a',
        '\u0250': 'a',
        '\uA733': 'aa',
        '\u00E6': 'ae',
        '\u01FD': 'ae',
        '\u01E3': 'ae',
        '\uA735': 'ao',
        '\uA737': 'au',
        '\uA739': 'av',
        '\uA73B': 'av',
        '\uA73D': 'ay',
        '\u24D1': 'b',
        '\uFF42': 'b',
        '\u1E03': 'b',
        '\u1E05': 'b',
        '\u1E07': 'b',
        '\u0180': 'b',
        '\u0183': 'b',
        '\u0253': 'b',
        '\u24D2': 'c',
        '\uFF43': 'c',
        '\u0107': 'c',
        '\u0109': 'c',
        '\u010B': 'c',
        '\u010D': 'c',
        '\u00E7': 'c',
        '\u1E09': 'c',
        '\u0188': 'c',
        '\u023C': 'c',
        '\uA73F': 'c',
        '\u2184': 'c',
        '\u24D3': 'd',
        '\uFF44': 'd',
        '\u1E0B': 'd',
        '\u010F': 'd',
        '\u1E0D': 'd',
        '\u1E11': 'd',
        '\u1E13': 'd',
        '\u1E0F': 'd',
        '\u0111': 'd',
        '\u018C': 'd',
        '\u0256': 'd',
        '\u0257': 'd',
        '\uA77A': 'd',
        '\u01F3': 'dz',
        '\u01C6': 'dz',
        '\u24D4': 'e',
        '\uFF45': 'e',
        '\u00E8': 'e',
        '\u00E9': 'e',
        '\u00EA': 'e',
        '\u1EC1': 'e',
        '\u1EBF': 'e',
        '\u1EC5': 'e',
        '\u1EC3': 'e',
        '\u1EBD': 'e',
        '\u0113': 'e',
        '\u1E15': 'e',
        '\u1E17': 'e',
        '\u0115': 'e',
        '\u0117': 'e',
        '\u00EB': 'e',
        '\u1EBB': 'e',
        '\u011B': 'e',
        '\u0205': 'e',
        '\u0207': 'e',
        '\u1EB9': 'e',
        '\u1EC7': 'e',
        '\u0229': 'e',
        '\u1E1D': 'e',
        '\u0119': 'e',
        '\u1E19': 'e',
        '\u1E1B': 'e',
        '\u0247': 'e',
        '\u025B': 'e',
        '\u01DD': 'e',
        '\u24D5': 'f',
        '\uFF46': 'f',
        '\u1E1F': 'f',
        '\u0192': 'f',
        '\uA77C': 'f',
        '\u24D6': 'g',
        '\uFF47': 'g',
        '\u01F5': 'g',
        '\u011D': 'g',
        '\u1E21': 'g',
        '\u011F': 'g',
        '\u0121': 'g',
        '\u01E7': 'g',
        '\u0123': 'g',
        '\u01E5': 'g',
        '\u0260': 'g',
        '\uA7A1': 'g',
        '\u1D79': 'g',
        '\uA77F': 'g',
        '\u24D7': 'h',
        '\uFF48': 'h',
        '\u0125': 'h',
        '\u1E23': 'h',
        '\u1E27': 'h',
        '\u021F': 'h',
        '\u1E25': 'h',
        '\u1E29': 'h',
        '\u1E2B': 'h',
        '\u1E96': 'h',
        '\u0127': 'h',
        '\u2C68': 'h',
        '\u2C76': 'h',
        '\u0265': 'h',
        '\u0195': 'hv',
        '\u24D8': 'i',
        '\uFF49': 'i',
        '\u00EC': 'i',
        '\u00ED': 'i',
        '\u00EE': 'i',
        '\u0129': 'i',
        '\u012B': 'i',
        '\u012D': 'i',
        '\u00EF': 'i',
        '\u1E2F': 'i',
        '\u1EC9': 'i',
        '\u01D0': 'i',
        '\u0209': 'i',
        '\u020B': 'i',
        '\u1ECB': 'i',
        '\u012F': 'i',
        '\u1E2D': 'i',
        '\u0268': 'i',
        '\u0131': 'i',
        '\u24D9': 'j',
        '\uFF4A': 'j',
        '\u0135': 'j',
        '\u01F0': 'j',
        '\u0249': 'j',
        '\u24DA': 'k',
        '\uFF4B': 'k',
        '\u1E31': 'k',
        '\u01E9': 'k',
        '\u1E33': 'k',
        '\u0137': 'k',
        '\u1E35': 'k',
        '\u0199': 'k',
        '\u2C6A': 'k',
        '\uA741': 'k',
        '\uA743': 'k',
        '\uA745': 'k',
        '\uA7A3': 'k',
        '\u24DB': 'l',
        '\uFF4C': 'l',
        '\u0140': 'l',
        '\u013A': 'l',
        '\u013E': 'l',
        '\u1E37': 'l',
        '\u1E39': 'l',
        '\u013C': 'l',
        '\u1E3D': 'l',
        '\u1E3B': 'l',
        '\u017F': 'l',
        '\u0142': 'l',
        '\u019A': 'l',
        '\u026B': 'l',
        '\u2C61': 'l',
        '\uA749': 'l',
        '\uA781': 'l',
        '\uA747': 'l',
        '\u01C9': 'lj',
        '\u24DC': 'm',
        '\uFF4D': 'm',
        '\u1E3F': 'm',
        '\u1E41': 'm',
        '\u1E43': 'm',
        '\u0271': 'm',
        '\u026F': 'm',
        '\u24DD': 'n',
        '\uFF4E': 'n',
        '\u01F9': 'n',
        '\u0144': 'n',
        '\u00F1': 'n',
        '\u1E45': 'n',
        '\u0148': 'n',
        '\u1E47': 'n',
        '\u0146': 'n',
        '\u1E4B': 'n',
        '\u1E49': 'n',
        '\u019E': 'n',
        '\u0272': 'n',
        '\u0149': 'n',
        '\uA791': 'n',
        '\uA7A5': 'n',
        '\u01CC': 'nj',
        '\u24DE': 'o',
        '\uFF4F': 'o',
        '\u00F2': 'o',
        '\u00F3': 'o',
        '\u00F4': 'o',
        '\u1ED3': 'o',
        '\u1ED1': 'o',
        '\u1ED7': 'o',
        '\u1ED5': 'o',
        '\u00F5': 'o',
        '\u1E4D': 'o',
        '\u022D': 'o',
        '\u1E4F': 'o',
        '\u014D': 'o',
        '\u1E51': 'o',
        '\u1E53': 'o',
        '\u014F': 'o',
        '\u022F': 'o',
        '\u0231': 'o',
        '\u00F6': 'o',
        '\u022B': 'o',
        '\u1ECF': 'o',
        '\u0151': 'o',
        '\u01D2': 'o',
        '\u020D': 'o',
        '\u020F': 'o',
        '\u01A1': 'o',
        '\u1EDD': 'o',
        '\u1EDB': 'o',
        '\u1EE1': 'o',
        '\u1EDF': 'o',
        '\u1EE3': 'o',
        '\u1ECD': 'o',
        '\u1ED9': 'o',
        '\u01EB': 'o',
        '\u01ED': 'o',
        '\u00F8': 'o',
        '\u01FF': 'o',
        '\u0254': 'o',
        '\uA74B': 'o',
        '\uA74D': 'o',
        '\u0275': 'o',
        '\u0153': 'oe',
        '\u01A3': 'oi',
        '\u0223': 'ou',
        '\uA74F': 'oo',
        '\u24DF': 'p',
        '\uFF50': 'p',
        '\u1E55': 'p',
        '\u1E57': 'p',
        '\u01A5': 'p',
        '\u1D7D': 'p',
        '\uA751': 'p',
        '\uA753': 'p',
        '\uA755': 'p',
        '\u24E0': 'q',
        '\uFF51': 'q',
        '\u024B': 'q',
        '\uA757': 'q',
        '\uA759': 'q',
        '\u24E1': 'r',
        '\uFF52': 'r',
        '\u0155': 'r',
        '\u1E59': 'r',
        '\u0159': 'r',
        '\u0211': 'r',
        '\u0213': 'r',
        '\u1E5B': 'r',
        '\u1E5D': 'r',
        '\u0157': 'r',
        '\u1E5F': 'r',
        '\u024D': 'r',
        '\u027D': 'r',
        '\uA75B': 'r',
        '\uA7A7': 'r',
        '\uA783': 'r',
        '\u24E2': 's',
        '\uFF53': 's',
        '\u00DF': 's',
        '\u015B': 's',
        '\u1E65': 's',
        '\u015D': 's',
        '\u1E61': 's',
        '\u0161': 's',
        '\u1E67': 's',
        '\u1E63': 's',
        '\u1E69': 's',
        '\u0219': 's',
        '\u015F': 's',
        '\u023F': 's',
        '\uA7A9': 's',
        '\uA785': 's',
        '\u1E9B': 's',
        '\u24E3': 't',
        '\uFF54': 't',
        '\u1E6B': 't',
        '\u1E97': 't',
        '\u0165': 't',
        '\u1E6D': 't',
        '\u021B': 't',
        '\u0163': 't',
        '\u1E71': 't',
        '\u1E6F': 't',
        '\u0167': 't',
        '\u01AD': 't',
        '\u0288': 't',
        '\u2C66': 't',
        '\uA787': 't',
        '\uA729': 'tz',
        '\u24E4': 'u',
        '\uFF55': 'u',
        '\u00F9': 'u',
        '\u00FA': 'u',
        '\u00FB': 'u',
        '\u0169': 'u',
        '\u1E79': 'u',
        '\u016B': 'u',
        '\u1E7B': 'u',
        '\u016D': 'u',
        '\u00FC': 'u',
        '\u01DC': 'u',
        '\u01D8': 'u',
        '\u01D6': 'u',
        '\u01DA': 'u',
        '\u1EE7': 'u',
        '\u016F': 'u',
        '\u0171': 'u',
        '\u01D4': 'u',
        '\u0215': 'u',
        '\u0217': 'u',
        '\u01B0': 'u',
        '\u1EEB': 'u',
        '\u1EE9': 'u',
        '\u1EEF': 'u',
        '\u1EED': 'u',
        '\u1EF1': 'u',
        '\u1EE5': 'u',
        '\u1E73': 'u',
        '\u0173': 'u',
        '\u1E77': 'u',
        '\u1E75': 'u',
        '\u0289': 'u',
        '\u24E5': 'v',
        '\uFF56': 'v',
        '\u1E7D': 'v',
        '\u1E7F': 'v',
        '\u028B': 'v',
        '\uA75F': 'v',
        '\u028C': 'v',
        '\uA761': 'vy',
        '\u24E6': 'w',
        '\uFF57': 'w',
        '\u1E81': 'w',
        '\u1E83': 'w',
        '\u0175': 'w',
        '\u1E87': 'w',
        '\u1E85': 'w',
        '\u1E98': 'w',
        '\u1E89': 'w',
        '\u2C73': 'w',
        '\u24E7': 'x',
        '\uFF58': 'x',
        '\u1E8B': 'x',
        '\u1E8D': 'x',
        '\u24E8': 'y',
        '\uFF59': 'y',
        '\u1EF3': 'y',
        '\u00FD': 'y',
        '\u0177': 'y',
        '\u1EF9': 'y',
        '\u0233': 'y',
        '\u1E8F': 'y',
        '\u00FF': 'y',
        '\u1EF7': 'y',
        '\u1E99': 'y',
        '\u1EF5': 'y',
        '\u01B4': 'y',
        '\u024F': 'y',
        '\u1EFF': 'y',
        '\u24E9': 'z',
        '\uFF5A': 'z',
        '\u017A': 'z',
        '\u1E91': 'z',
        '\u017C': 'z',
        '\u017E': 'z',
        '\u1E93': 'z',
        '\u1E95': 'z',
        '\u01B6': 'z',
        '\u0225': 'z',
        '\u0240': 'z',
        '\u2C6C': 'z',
        '\uA763': 'z',
        '\u0386': '\u0391',
        '\u0388': '\u0395',
        '\u0389': '\u0397',
        '\u038A': '\u0399',
        '\u03AA': '\u0399',
        '\u038C': '\u039F',
        '\u038E': '\u03A5',
        '\u03AB': '\u03A5',
        '\u038F': '\u03A9',
        '\u03AC': '\u03B1',
        '\u03AD': '\u03B5',
        '\u03AE': '\u03B7',
        '\u03AF': '\u03B9',
        '\u03CA': '\u03B9',
        '\u0390': '\u03B9',
        '\u03CC': '\u03BF',
        '\u03CD': '\u03C5',
        '\u03CB': '\u03C5',
        '\u03B0': '\u03C5',
        '\u03CE': '\u03C9',
        '\u03C2': '\u03C3',
        '\u2019': '\''
      };

      return diacritics;
    });

    S2.define('select2/data/base',[
      '../utils'
    ], function (Utils) {
      function BaseAdapter ($element, options) {
        BaseAdapter.__super__.constructor.call(this);
      }

      Utils.Extend(BaseAdapter, Utils.Observable);

      BaseAdapter.prototype.current = function (callback) {
        throw new Error('The `current` method must be defined in child classes.');
      };

      BaseAdapter.prototype.query = function (params, callback) {
        throw new Error('The `query` method must be defined in child classes.');
      };

      BaseAdapter.prototype.bind = function (container, $container) {
        // Can be implemented in subclasses
      };

      BaseAdapter.prototype.destroy = function () {
        // Can be implemented in subclasses
      };

      BaseAdapter.prototype.generateResultId = function (container, data) {
        var id = container.id + '-result-';

        id += Utils.generateChars(4);

        if (data.id != null) {
          id += '-' + data.id.toString();
        } else {
          id += '-' + Utils.generateChars(4);
        }
        return id;
      };

      return BaseAdapter;
    });

    S2.define('select2/data/select',[
      './base',
      '../utils',
      'jquery'
    ], function (BaseAdapter, Utils, $) {
      function SelectAdapter ($element, options) {
        this.$element = $element;
        this.options = options;

        SelectAdapter.__super__.constructor.call(this);
      }

      Utils.Extend(SelectAdapter, BaseAdapter);

      SelectAdapter.prototype.current = function (callback) {
        var data = [];
        var self = this;

        this.$element.find(':selected').each(function () {
          var $option = $(this);

          var option = self.item($option);

          data.push(option);
        });

        callback(data);
      };

      SelectAdapter.prototype.select = function (data) {
        var self = this;

        data.selected = true;

        // If data.element is a DOM node, use it instead
        if ($(data.element).is('option')) {
          data.element.selected = true;

          this.$element.trigger('input').trigger('change');

          return;
        }

        if (this.$element.prop('multiple')) {
          this.current(function (currentData) {
            var val = [];

            data = [data];
            data.push.apply(data, currentData);

            for (var d = 0; d < data.length; d++) {
              var id = data[d].id;

              if ($.inArray(id, val) === -1) {
                val.push(id);
              }
            }

            self.$element.val(val);
            self.$element.trigger('input').trigger('change');
          });
        } else {
          var val = data.id;

          this.$element.val(val);
          this.$element.trigger('input').trigger('change');
        }
      };

      SelectAdapter.prototype.unselect = function (data) {
        var self = this;

        if (!this.$element.prop('multiple')) {
          return;
        }

        data.selected = false;

        if ($(data.element).is('option')) {
          data.element.selected = false;

          this.$element.trigger('input').trigger('change');

          return;
        }

        this.current(function (currentData) {
          var val = [];

          for (var d = 0; d < currentData.length; d++) {
            var id = currentData[d].id;

            if (id !== data.id && $.inArray(id, val) === -1) {
              val.push(id);
            }
          }

          self.$element.val(val);

          self.$element.trigger('input').trigger('change');
        });
      };

      SelectAdapter.prototype.bind = function (container, $container) {
        var self = this;

        this.container = container;

        container.on('select', function (params) {
          self.select(params.data);
        });

        container.on('unselect', function (params) {
          self.unselect(params.data);
        });
      };

      SelectAdapter.prototype.destroy = function () {
        // Remove anything added to child elements
        this.$element.find('*').each(function () {
          // Remove any custom data set by Select2
          Utils.RemoveData(this);
        });
      };

      SelectAdapter.prototype.query = function (params, callback) {
        var data = [];
        var self = this;

        var $options = this.$element.children();

        $options.each(function () {
          var $option = $(this);

          if (!$option.is('option') && !$option.is('optgroup')) {
            return;
          }

          var option = self.item($option);

          var matches = self.matches(params, option);

          if (matches !== null) {
            data.push(matches);
          }
        });

        callback({
          results: data
        });
      };

      SelectAdapter.prototype.addOptions = function ($options) {
        Utils.appendMany(this.$element, $options);
      };

      SelectAdapter.prototype.option = function (data) {
        var option;

        if (data.children) {
          option = document.createElement('optgroup');
          option.label = data.text;
        } else {
          option = document.createElement('option');

          if (option.textContent !== undefined) {
            option.textContent = data.text;
          } else {
            option.innerText = data.text;
          }
        }

        if (data.id !== undefined) {
          option.value = data.id;
        }

        if (data.disabled) {
          option.disabled = true;
        }

        if (data.selected) {
          option.selected = true;
        }

        if (data.title) {
          option.title = data.title;
        }

        var $option = $(option);

        var normalizedData = this._normalizeItem(data);
        normalizedData.element = option;

        // Override the option's data with the combined data
        Utils.StoreData(option, 'data', normalizedData);

        return $option;
      };

      SelectAdapter.prototype.item = function ($option) {
        var data = {};

        data = Utils.GetData($option[0], 'data');

        if (data != null) {
          return data;
        }

        if ($option.is('option')) {
          data = {
            id: $option.val(),
            text: $option.text(),
            disabled: $option.prop('disabled'),
            selected: $option.prop('selected'),
            title: $option.prop('title')
          };
        } else if ($option.is('optgroup')) {
          data = {
            text: $option.prop('label'),
            children: [],
            title: $option.prop('title')
          };

          var $children = $option.children('option');
          var children = [];

          for (var c = 0; c < $children.length; c++) {
            var $child = $($children[c]);

            var child = this.item($child);

            children.push(child);
          }

          data.children = children;
        }

        data = this._normalizeItem(data);
        data.element = $option[0];

        Utils.StoreData($option[0], 'data', data);

        return data;
      };

      SelectAdapter.prototype._normalizeItem = function (item) {
        if (item !== Object(item)) {
          item = {
            id: item,
            text: item
          };
        }

        item = $.extend({}, {
          text: ''
        }, item);

        var defaults = {
          selected: false,
          disabled: false
        };

        if (item.id != null) {
          item.id = item.id.toString();
        }

        if (item.text != null) {
          item.text = item.text.toString();
        }

        if (item._resultId == null && item.id && this.container != null) {
          item._resultId = this.generateResultId(this.container, item);
        }

        return $.extend({}, defaults, item);
      };

      SelectAdapter.prototype.matches = function (params, data) {
        var matcher = this.options.get('matcher');

        return matcher(params, data);
      };

      return SelectAdapter;
    });

    S2.define('select2/data/array',[
      './select',
      '../utils',
      'jquery'
    ], function (SelectAdapter, Utils, $) {
      function ArrayAdapter ($element, options) {
        this._dataToConvert = options.get('data') || [];

        ArrayAdapter.__super__.constructor.call(this, $element, options);
      }

      Utils.Extend(ArrayAdapter, SelectAdapter);

      ArrayAdapter.prototype.bind = function (container, $container) {
        ArrayAdapter.__super__.bind.call(this, container, $container);

        this.addOptions(this.convertToOptions(this._dataToConvert));
      };

      ArrayAdapter.prototype.select = function (data) {
        var $option = this.$element.find('option').filter(function (i, elm) {
          return elm.value == data.id.toString();
        });

        if ($option.length === 0) {
          $option = this.option(data);

          this.addOptions($option);
        }

        ArrayAdapter.__super__.select.call(this, data);
      };

      ArrayAdapter.prototype.convertToOptions = function (data) {
        var self = this;

        var $existing = this.$element.find('option');
        var existingIds = $existing.map(function () {
          return self.item($(this)).id;
        }).get();

        var $options = [];

        // Filter out all items except for the one passed in the argument
        function onlyItem (item) {
          return function () {
            return $(this).val() == item.id;
          };
        }

        for (var d = 0; d < data.length; d++) {
          var item = this._normalizeItem(data[d]);

          // Skip items which were pre-loaded, only merge the data
          if ($.inArray(item.id, existingIds) >= 0) {
            var $existingOption = $existing.filter(onlyItem(item));

            var existingData = this.item($existingOption);
            var newData = $.extend(true, {}, item, existingData);

            var $newOption = this.option(newData);

            $existingOption.replaceWith($newOption);

            continue;
          }

          var $option = this.option(item);

          if (item.children) {
            var $children = this.convertToOptions(item.children);

            Utils.appendMany($option, $children);
          }

          $options.push($option);
        }

        return $options;
      };

      return ArrayAdapter;
    });

    S2.define('select2/data/ajax',[
      './array',
      '../utils',
      'jquery'
    ], function (ArrayAdapter, Utils, $) {
      function AjaxAdapter ($element, options) {
        this.ajaxOptions = this._applyDefaults(options.get('ajax'));

        if (this.ajaxOptions.processResults != null) {
          this.processResults = this.ajaxOptions.processResults;
        }

        AjaxAdapter.__super__.constructor.call(this, $element, options);
      }

      Utils.Extend(AjaxAdapter, ArrayAdapter);

      AjaxAdapter.prototype._applyDefaults = function (options) {
        var defaults = {
          data: function (params) {
            return $.extend({}, params, {
              q: params.term
            });
          },
          transport: function (params, success, failure) {
            var $request = $.ajax(params);

            $request.then(success);
            $request.fail(failure);

            return $request;
          }
        };

        return $.extend({}, defaults, options, true);
      };

      AjaxAdapter.prototype.processResults = function (results) {
        return results;
      };

      AjaxAdapter.prototype.query = function (params, callback) {
        var matches = [];
        var self = this;

        if (this._request != null) {
          // JSONP requests cannot always be aborted
          if ($.isFunction(this._request.abort)) {
            this._request.abort();
          }

          this._request = null;
        }

        var options = $.extend({
          type: 'GET'
        }, this.ajaxOptions);

        if (typeof options.url === 'function') {
          options.url = options.url.call(this.$element, params);
        }

        if (typeof options.data === 'function') {
          options.data = options.data.call(this.$element, params);
        }

        function request () {
          var $request = options.transport(options, function (data) {
            var results = self.processResults(data, params);

            if (self.options.get('debug') && window.console && console.error) {
              // Check to make sure that the response included a `results` key.
              if (!results || !results.results || !$.isArray(results.results)) {
                console.error(
                  'Select2: The AJAX results did not return an array in the ' +
                  '`results` key of the response.'
                );
              }
            }

            callback(results);
          }, function () {
            // Attempt to detect if a request was aborted
            // Only works if the transport exposes a status property
            if ('status' in $request &&
                ($request.status === 0 || $request.status === '0')) {
              return;
            }

            self.trigger('results:message', {
              message: 'errorLoading'
            });
          });

          self._request = $request;
        }

        if (this.ajaxOptions.delay && params.term != null) {
          if (this._queryTimeout) {
            window.clearTimeout(this._queryTimeout);
          }

          this._queryTimeout = window.setTimeout(request, this.ajaxOptions.delay);
        } else {
          request();
        }
      };

      return AjaxAdapter;
    });

    S2.define('select2/data/tags',[
      'jquery'
    ], function ($) {
      function Tags (decorated, $element, options) {
        var tags = options.get('tags');

        var createTag = options.get('createTag');

        if (createTag !== undefined) {
          this.createTag = createTag;
        }

        var insertTag = options.get('insertTag');

        if (insertTag !== undefined) {
            this.insertTag = insertTag;
        }

        decorated.call(this, $element, options);

        if ($.isArray(tags)) {
          for (var t = 0; t < tags.length; t++) {
            var tag = tags[t];
            var item = this._normalizeItem(tag);

            var $option = this.option(item);

            this.$element.append($option);
          }
        }
      }

      Tags.prototype.query = function (decorated, params, callback) {
        var self = this;

        this._removeOldTags();

        if (params.term == null || params.page != null) {
          decorated.call(this, params, callback);
          return;
        }

        function wrapper (obj, child) {
          var data = obj.results;

          for (var i = 0; i < data.length; i++) {
            var option = data[i];

            var checkChildren = (
              option.children != null &&
              !wrapper({
                results: option.children
              }, true)
            );

            var optionText = (option.text || '').toUpperCase();
            var paramsTerm = (params.term || '').toUpperCase();

            var checkText = optionText === paramsTerm;

            if (checkText || checkChildren) {
              if (child) {
                return false;
              }

              obj.data = data;
              callback(obj);

              return;
            }
          }

          if (child) {
            return true;
          }

          var tag = self.createTag(params);

          if (tag != null) {
            var $option = self.option(tag);
            $option.attr('data-select2-tag', true);

            self.addOptions([$option]);

            self.insertTag(data, tag);
          }

          obj.results = data;

          callback(obj);
        }

        decorated.call(this, params, wrapper);
      };

      Tags.prototype.createTag = function (decorated, params) {
        var term = $.trim(params.term);

        if (term === '') {
          return null;
        }

        return {
          id: term,
          text: term
        };
      };

      Tags.prototype.insertTag = function (_, data, tag) {
        data.unshift(tag);
      };

      Tags.prototype._removeOldTags = function (_) {
        var $options = this.$element.find('option[data-select2-tag]');

        $options.each(function () {
          if (this.selected) {
            return;
          }

          $(this).remove();
        });
      };

      return Tags;
    });

    S2.define('select2/data/tokenizer',[
      'jquery'
    ], function ($) {
      function Tokenizer (decorated, $element, options) {
        var tokenizer = options.get('tokenizer');

        if (tokenizer !== undefined) {
          this.tokenizer = tokenizer;
        }

        decorated.call(this, $element, options);
      }

      Tokenizer.prototype.bind = function (decorated, container, $container) {
        decorated.call(this, container, $container);

        this.$search =  container.dropdown.$search || container.selection.$search ||
          $container.find('.select2-search__field');
      };

      Tokenizer.prototype.query = function (decorated, params, callback) {
        var self = this;

        function createAndSelect (data) {
          // Normalize the data object so we can use it for checks
          var item = self._normalizeItem(data);

          // Check if the data object already exists as a tag
          // Select it if it doesn't
          var $existingOptions = self.$element.find('option').filter(function () {
            return $(this).val() === item.id;
          });

          // If an existing option wasn't found for it, create the option
          if (!$existingOptions.length) {
            var $option = self.option(item);
            $option.attr('data-select2-tag', true);

            self._removeOldTags();
            self.addOptions([$option]);
          }

          // Select the item, now that we know there is an option for it
          select(item);
        }

        function select (data) {
          self.trigger('select', {
            data: data
          });
        }

        params.term = params.term || '';

        var tokenData = this.tokenizer(params, this.options, createAndSelect);

        if (tokenData.term !== params.term) {
          // Replace the search term if we have the search box
          if (this.$search.length) {
            this.$search.val(tokenData.term);
            this.$search.trigger('focus');
          }

          params.term = tokenData.term;
        }

        decorated.call(this, params, callback);
      };

      Tokenizer.prototype.tokenizer = function (_, params, options, callback) {
        var separators = options.get('tokenSeparators') || [];
        var term = params.term;
        var i = 0;

        var createTag = this.createTag || function (params) {
          return {
            id: params.term,
            text: params.term
          };
        };

        while (i < term.length) {
          var termChar = term[i];

          if ($.inArray(termChar, separators) === -1) {
            i++;

            continue;
          }

          var part = term.substr(0, i);
          var partParams = $.extend({}, params, {
            term: part
          });

          var data = createTag(partParams);

          if (data == null) {
            i++;
            continue;
          }

          callback(data);

          // Reset the term to not include the tokenized portion
          term = term.substr(i + 1) || '';
          i = 0;
        }

        return {
          term: term
        };
      };

      return Tokenizer;
    });

    S2.define('select2/data/minimumInputLength',[

    ], function () {
      function MinimumInputLength (decorated, $e, options) {
        this.minimumInputLength = options.get('minimumInputLength');

        decorated.call(this, $e, options);
      }

      MinimumInputLength.prototype.query = function (decorated, params, callback) {
        params.term = params.term || '';

        if (params.term.length < this.minimumInputLength) {
          this.trigger('results:message', {
            message: 'inputTooShort',
            args: {
              minimum: this.minimumInputLength,
              input: params.term,
              params: params
            }
          });

          return;
        }

        decorated.call(this, params, callback);
      };

      return MinimumInputLength;
    });

    S2.define('select2/data/maximumInputLength',[

    ], function () {
      function MaximumInputLength (decorated, $e, options) {
        this.maximumInputLength = options.get('maximumInputLength');

        decorated.call(this, $e, options);
      }

      MaximumInputLength.prototype.query = function (decorated, params, callback) {
        params.term = params.term || '';

        if (this.maximumInputLength > 0 &&
            params.term.length > this.maximumInputLength) {
          this.trigger('results:message', {
            message: 'inputTooLong',
            args: {
              maximum: this.maximumInputLength,
              input: params.term,
              params: params
            }
          });

          return;
        }

        decorated.call(this, params, callback);
      };

      return MaximumInputLength;
    });

    S2.define('select2/data/maximumSelectionLength',[

    ], function (){
      function MaximumSelectionLength (decorated, $e, options) {
        this.maximumSelectionLength = options.get('maximumSelectionLength');

        decorated.call(this, $e, options);
      }

      MaximumSelectionLength.prototype.bind =
        function (decorated, container, $container) {
          var self = this;

          decorated.call(this, container, $container);

          container.on('select', function () {
            self._checkIfMaximumSelected();
          });
      };

      MaximumSelectionLength.prototype.query =
        function (decorated, params, callback) {
          var self = this;

          this._checkIfMaximumSelected(function () {
            decorated.call(self, params, callback);
          });
      };

      MaximumSelectionLength.prototype._checkIfMaximumSelected =
        function (_, successCallback) {
          var self = this;

          this.current(function (currentData) {
            var count = currentData != null ? currentData.length : 0;
            if (self.maximumSelectionLength > 0 &&
              count >= self.maximumSelectionLength) {
              self.trigger('results:message', {
                message: 'maximumSelected',
                args: {
                  maximum: self.maximumSelectionLength
                }
              });
              return;
            }

            if (successCallback) {
              successCallback();
            }
          });
      };

      return MaximumSelectionLength;
    });

    S2.define('select2/dropdown',[
      'jquery',
      './utils'
    ], function ($, Utils) {
      function Dropdown ($element, options) {
        this.$element = $element;
        this.options = options;

        Dropdown.__super__.constructor.call(this);
      }

      Utils.Extend(Dropdown, Utils.Observable);

      Dropdown.prototype.render = function () {
        var $dropdown = $(
          '<span class="select2-dropdown">' +
            '<span class="select2-results"></span>' +
          '</span>'
        );

        $dropdown.attr('dir', this.options.get('dir'));

        this.$dropdown = $dropdown;

        return $dropdown;
      };

      Dropdown.prototype.bind = function () {
        // Should be implemented in subclasses
      };

      Dropdown.prototype.position = function ($dropdown, $container) {
        // Should be implemented in subclasses
      };

      Dropdown.prototype.destroy = function () {
        // Remove the dropdown from the DOM
        this.$dropdown.remove();
      };

      return Dropdown;
    });

    S2.define('select2/dropdown/search',[
      'jquery',
      '../utils'
    ], function ($, Utils) {
      function Search () { }

      Search.prototype.render = function (decorated) {
        var $rendered = decorated.call(this);

        var $search = $(
          '<span class="select2-search select2-search--dropdown">' +
            '<input class="select2-search__field" type="search" tabindex="-1"' +
            ' autocomplete="off" autocorrect="off" autocapitalize="none"' +
            ' spellcheck="false" role="searchbox" aria-autocomplete="list" />' +
          '</span>'
        );

        this.$searchContainer = $search;
        this.$search = $search.find('input');

        $rendered.prepend($search);

        return $rendered;
      };

      Search.prototype.bind = function (decorated, container, $container) {
        var self = this;

        var resultsId = container.id + '-results';

        decorated.call(this, container, $container);

        this.$search.on('keydown', function (evt) {
          self.trigger('keypress', evt);

          self._keyUpPrevented = evt.isDefaultPrevented();
        });

        // Workaround for browsers which do not support the `input` event
        // This will prevent double-triggering of events for browsers which support
        // both the `keyup` and `input` events.
        this.$search.on('input', function (evt) {
          // Unbind the duplicated `keyup` event
          $(this).off('keyup');
        });

        this.$search.on('keyup input', function (evt) {
          self.handleSearch(evt);
        });

        container.on('open', function () {
          self.$search.attr('tabindex', 0);
          self.$search.attr('aria-controls', resultsId);

          self.$search.trigger('focus');

          window.setTimeout(function () {
            self.$search.trigger('focus');
          }, 0);
        });

        container.on('close', function () {
          self.$search.attr('tabindex', -1);
          self.$search.removeAttr('aria-controls');
          self.$search.removeAttr('aria-activedescendant');

          self.$search.val('');
          self.$search.trigger('blur');
        });

        container.on('focus', function () {
          if (!container.isOpen()) {
            self.$search.trigger('focus');
          }
        });

        container.on('results:all', function (params) {
          if (params.query.term == null || params.query.term === '') {
            var showSearch = self.showSearch(params);

            if (showSearch) {
              self.$searchContainer.removeClass('select2-search--hide');
            } else {
              self.$searchContainer.addClass('select2-search--hide');
            }
          }
        });

        container.on('results:focus', function (params) {
          if (params.data._resultId) {
            self.$search.attr('aria-activedescendant', params.data._resultId);
          } else {
            self.$search.removeAttr('aria-activedescendant');
          }
        });
      };

      Search.prototype.handleSearch = function (evt) {
        if (!this._keyUpPrevented) {
          var input = this.$search.val();

          this.trigger('query', {
            term: input
          });
        }

        this._keyUpPrevented = false;
      };

      Search.prototype.showSearch = function (_, params) {
        return true;
      };

      return Search;
    });

    S2.define('select2/dropdown/hidePlaceholder',[

    ], function () {
      function HidePlaceholder (decorated, $element, options, dataAdapter) {
        this.placeholder = this.normalizePlaceholder(options.get('placeholder'));

        decorated.call(this, $element, options, dataAdapter);
      }

      HidePlaceholder.prototype.append = function (decorated, data) {
        data.results = this.removePlaceholder(data.results);

        decorated.call(this, data);
      };

      HidePlaceholder.prototype.normalizePlaceholder = function (_, placeholder) {
        if (typeof placeholder === 'string') {
          placeholder = {
            id: '',
            text: placeholder
          };
        }

        return placeholder;
      };

      HidePlaceholder.prototype.removePlaceholder = function (_, data) {
        var modifiedData = data.slice(0);

        for (var d = data.length - 1; d >= 0; d--) {
          var item = data[d];

          if (this.placeholder.id === item.id) {
            modifiedData.splice(d, 1);
          }
        }

        return modifiedData;
      };

      return HidePlaceholder;
    });

    S2.define('select2/dropdown/infiniteScroll',[
      'jquery'
    ], function ($) {
      function InfiniteScroll (decorated, $element, options, dataAdapter) {
        this.lastParams = {};

        decorated.call(this, $element, options, dataAdapter);

        this.$loadingMore = this.createLoadingMore();
        this.loading = false;
      }

      InfiniteScroll.prototype.append = function (decorated, data) {
        this.$loadingMore.remove();
        this.loading = false;

        decorated.call(this, data);

        if (this.showLoadingMore(data)) {
          this.$results.append(this.$loadingMore);
          this.loadMoreIfNeeded();
        }
      };

      InfiniteScroll.prototype.bind = function (decorated, container, $container) {
        var self = this;

        decorated.call(this, container, $container);

        container.on('query', function (params) {
          self.lastParams = params;
          self.loading = true;
        });

        container.on('query:append', function (params) {
          self.lastParams = params;
          self.loading = true;
        });

        this.$results.on('scroll', this.loadMoreIfNeeded.bind(this));
      };

      InfiniteScroll.prototype.loadMoreIfNeeded = function () {
        var isLoadMoreVisible = $.contains(
          document.documentElement,
          this.$loadingMore[0]
        );

        if (this.loading || !isLoadMoreVisible) {
          return;
        }

        var currentOffset = this.$results.offset().top +
          this.$results.outerHeight(false);
        var loadingMoreOffset = this.$loadingMore.offset().top +
          this.$loadingMore.outerHeight(false);

        if (currentOffset + 50 >= loadingMoreOffset) {
          this.loadMore();
        }
      };

      InfiniteScroll.prototype.loadMore = function () {
        this.loading = true;

        var params = $.extend({}, {page: 1}, this.lastParams);

        params.page++;

        this.trigger('query:append', params);
      };

      InfiniteScroll.prototype.showLoadingMore = function (_, data) {
        return data.pagination && data.pagination.more;
      };

      InfiniteScroll.prototype.createLoadingMore = function () {
        var $option = $(
          '<li ' +
          'class="select2-results__option select2-results__option--load-more"' +
          'role="option" aria-disabled="true"></li>'
        );

        var message = this.options.get('translations').get('loadingMore');

        $option.html(message(this.lastParams));

        return $option;
      };

      return InfiniteScroll;
    });

    S2.define('select2/dropdown/attachBody',[
      'jquery',
      '../utils'
    ], function ($, Utils) {
      function AttachBody (decorated, $element, options) {
        this.$dropdownParent = $(options.get('dropdownParent') || document.body);

        decorated.call(this, $element, options);
      }

      AttachBody.prototype.bind = function (decorated, container, $container) {
        var self = this;

        decorated.call(this, container, $container);

        container.on('open', function () {
          self._showDropdown();
          self._attachPositioningHandler(container);

          // Must bind after the results handlers to ensure correct sizing
          self._bindContainerResultHandlers(container);
        });

        container.on('close', function () {
          self._hideDropdown();
          self._detachPositioningHandler(container);
        });

        this.$dropdownContainer.on('mousedown', function (evt) {
          evt.stopPropagation();
        });
      };

      AttachBody.prototype.destroy = function (decorated) {
        decorated.call(this);

        this.$dropdownContainer.remove();
      };

      AttachBody.prototype.position = function (decorated, $dropdown, $container) {
        // Clone all of the container classes
        $dropdown.attr('class', $container.attr('class'));

        $dropdown.removeClass('select2');
        $dropdown.addClass('select2-container--open');

        $dropdown.css({
          position: 'absolute',
          top: -999999
        });

        this.$container = $container;
      };

      AttachBody.prototype.render = function (decorated) {
        var $container = $('<span></span>');

        var $dropdown = decorated.call(this);
        $container.append($dropdown);

        this.$dropdownContainer = $container;

        return $container;
      };

      AttachBody.prototype._hideDropdown = function (decorated) {
        this.$dropdownContainer.detach();
      };

      AttachBody.prototype._bindContainerResultHandlers =
          function (decorated, container) {

        // These should only be bound once
        if (this._containerResultsHandlersBound) {
          return;
        }

        var self = this;

        container.on('results:all', function () {
          self._positionDropdown();
          self._resizeDropdown();
        });

        container.on('results:append', function () {
          self._positionDropdown();
          self._resizeDropdown();
        });

        container.on('results:message', function () {
          self._positionDropdown();
          self._resizeDropdown();
        });

        container.on('select', function () {
          self._positionDropdown();
          self._resizeDropdown();
        });

        container.on('unselect', function () {
          self._positionDropdown();
          self._resizeDropdown();
        });

        this._containerResultsHandlersBound = true;
      };

      AttachBody.prototype._attachPositioningHandler =
          function (decorated, container) {
        var self = this;

        var scrollEvent = 'scroll.select2.' + container.id;
        var resizeEvent = 'resize.select2.' + container.id;
        var orientationEvent = 'orientationchange.select2.' + container.id;

        var $watchers = this.$container.parents().filter(Utils.hasScroll);
        $watchers.each(function () {
          Utils.StoreData(this, 'select2-scroll-position', {
            x: $(this).scrollLeft(),
            y: $(this).scrollTop()
          });
        });

        $watchers.on(scrollEvent, function (ev) {
          var position = Utils.GetData(this, 'select2-scroll-position');
          $(this).scrollTop(position.y);
        });

        $(window).on(scrollEvent + ' ' + resizeEvent + ' ' + orientationEvent,
          function (e) {
          self._positionDropdown();
          self._resizeDropdown();
        });
      };

      AttachBody.prototype._detachPositioningHandler =
          function (decorated, container) {
        var scrollEvent = 'scroll.select2.' + container.id;
        var resizeEvent = 'resize.select2.' + container.id;
        var orientationEvent = 'orientationchange.select2.' + container.id;

        var $watchers = this.$container.parents().filter(Utils.hasScroll);
        $watchers.off(scrollEvent);

        $(window).off(scrollEvent + ' ' + resizeEvent + ' ' + orientationEvent);
      };

      AttachBody.prototype._positionDropdown = function () {
        var $window = $(window);

        var isCurrentlyAbove = this.$dropdown.hasClass('select2-dropdown--above');
        var isCurrentlyBelow = this.$dropdown.hasClass('select2-dropdown--below');

        var newDirection = null;

        var offset = this.$container.offset();

        offset.bottom = offset.top + this.$container.outerHeight(false);

        var container = {
          height: this.$container.outerHeight(false)
        };

        container.top = offset.top;
        container.bottom = offset.top + container.height;

        var dropdown = {
          height: this.$dropdown.outerHeight(false)
        };

        var viewport = {
          top: $window.scrollTop(),
          bottom: $window.scrollTop() + $window.height()
        };

        var enoughRoomAbove = viewport.top < (offset.top - dropdown.height);
        var enoughRoomBelow = viewport.bottom > (offset.bottom + dropdown.height);

        var css = {
          left: offset.left,
          top: container.bottom
        };

        // Determine what the parent element is to use for calculating the offset
        var $offsetParent = this.$dropdownParent;

        // For statically positioned elements, we need to get the element
        // that is determining the offset
        if ($offsetParent.css('position') === 'static') {
          $offsetParent = $offsetParent.offsetParent();
        }

        var parentOffset = {
          top: 0,
          left: 0
        };

        if (
          $.contains(document.body, $offsetParent[0]) ||
          $offsetParent[0].isConnected
          ) {
          parentOffset = $offsetParent.offset();
        }

        css.top -= parentOffset.top;
        css.left -= parentOffset.left;

        if (!isCurrentlyAbove && !isCurrentlyBelow) {
          newDirection = 'below';
        }

        if (!enoughRoomBelow && enoughRoomAbove && !isCurrentlyAbove) {
          newDirection = 'above';
        } else if (!enoughRoomAbove && enoughRoomBelow && isCurrentlyAbove) {
          newDirection = 'below';
        }

        if (newDirection == 'above' ||
          (isCurrentlyAbove && newDirection !== 'below')) {
          css.top = container.top - parentOffset.top - dropdown.height;
        }

        if (newDirection != null) {
          this.$dropdown
            .removeClass('select2-dropdown--below select2-dropdown--above')
            .addClass('select2-dropdown--' + newDirection);
          this.$container
            .removeClass('select2-container--below select2-container--above')
            .addClass('select2-container--' + newDirection);
        }

        this.$dropdownContainer.css(css);
      };

      AttachBody.prototype._resizeDropdown = function () {
        var css = {
          width: this.$container.outerWidth(false) + 'px'
        };

        if (this.options.get('dropdownAutoWidth')) {
          css.minWidth = css.width;
          css.position = 'relative';
          css.width = 'auto';
        }

        this.$dropdown.css(css);
      };

      AttachBody.prototype._showDropdown = function (decorated) {
        this.$dropdownContainer.appendTo(this.$dropdownParent);

        this._positionDropdown();
        this._resizeDropdown();
      };

      return AttachBody;
    });

    S2.define('select2/dropdown/minimumResultsForSearch',[

    ], function () {
      function countResults (data) {
        var count = 0;

        for (var d = 0; d < data.length; d++) {
          var item = data[d];

          if (item.children) {
            count += countResults(item.children);
          } else {
            count++;
          }
        }

        return count;
      }

      function MinimumResultsForSearch (decorated, $element, options, dataAdapter) {
        this.minimumResultsForSearch = options.get('minimumResultsForSearch');

        if (this.minimumResultsForSearch < 0) {
          this.minimumResultsForSearch = Infinity;
        }

        decorated.call(this, $element, options, dataAdapter);
      }

      MinimumResultsForSearch.prototype.showSearch = function (decorated, params) {
        if (countResults(params.data.results) < this.minimumResultsForSearch) {
          return false;
        }

        return decorated.call(this, params);
      };

      return MinimumResultsForSearch;
    });

    S2.define('select2/dropdown/selectOnClose',[
      '../utils'
    ], function (Utils) {
      function SelectOnClose () { }

      SelectOnClose.prototype.bind = function (decorated, container, $container) {
        var self = this;

        decorated.call(this, container, $container);

        container.on('close', function (params) {
          self._handleSelectOnClose(params);
        });
      };

      SelectOnClose.prototype._handleSelectOnClose = function (_, params) {
        if (params && params.originalSelect2Event != null) {
          var event = params.originalSelect2Event;

          // Don't select an item if the close event was triggered from a select or
          // unselect event
          if (event._type === 'select' || event._type === 'unselect') {
            return;
          }
        }

        var $highlightedResults = this.getHighlightedResults();

        // Only select highlighted results
        if ($highlightedResults.length < 1) {
          return;
        }

        var data = Utils.GetData($highlightedResults[0], 'data');

        // Don't re-select already selected resulte
        if (
          (data.element != null && data.element.selected) ||
          (data.element == null && data.selected)
        ) {
          return;
        }

        this.trigger('select', {
            data: data
        });
      };

      return SelectOnClose;
    });

    S2.define('select2/dropdown/closeOnSelect',[

    ], function () {
      function CloseOnSelect () { }

      CloseOnSelect.prototype.bind = function (decorated, container, $container) {
        var self = this;

        decorated.call(this, container, $container);

        container.on('select', function (evt) {
          self._selectTriggered(evt);
        });

        container.on('unselect', function (evt) {
          self._selectTriggered(evt);
        });
      };

      CloseOnSelect.prototype._selectTriggered = function (_, evt) {
        var originalEvent = evt.originalEvent;

        // Don't close if the control key is being held
        if (originalEvent && (originalEvent.ctrlKey || originalEvent.metaKey)) {
          return;
        }

        this.trigger('close', {
          originalEvent: originalEvent,
          originalSelect2Event: evt
        });
      };

      return CloseOnSelect;
    });

    S2.define('select2/i18n/en',[],function () {
      // English
      return {
        errorLoading: function () {
          return 'The results could not be loaded.';
        },
        inputTooLong: function (args) {
          var overChars = args.input.length - args.maximum;

          var message = 'Please delete ' + overChars + ' character';

          if (overChars != 1) {
            message += 's';
          }

          return message;
        },
        inputTooShort: function (args) {
          var remainingChars = args.minimum - args.input.length;

          var message = 'Please enter ' + remainingChars + ' or more characters';

          return message;
        },
        loadingMore: function () {
          return 'Loading more results…';
        },
        maximumSelected: function (args) {
          var message = 'You can only select ' + args.maximum + ' item';

          if (args.maximum != 1) {
            message += 's';
          }

          return message;
        },
        noResults: function () {
          return 'No results found';
        },
        searching: function () {
          return 'Searching…';
        },
        removeAllItems: function () {
          return 'Remove all items';
        }
      };
    });

    S2.define('select2/defaults',[
      'jquery',
      'require',

      './results',

      './selection/single',
      './selection/multiple',
      './selection/placeholder',
      './selection/allowClear',
      './selection/search',
      './selection/eventRelay',

      './utils',
      './translation',
      './diacritics',

      './data/select',
      './data/array',
      './data/ajax',
      './data/tags',
      './data/tokenizer',
      './data/minimumInputLength',
      './data/maximumInputLength',
      './data/maximumSelectionLength',

      './dropdown',
      './dropdown/search',
      './dropdown/hidePlaceholder',
      './dropdown/infiniteScroll',
      './dropdown/attachBody',
      './dropdown/minimumResultsForSearch',
      './dropdown/selectOnClose',
      './dropdown/closeOnSelect',

      './i18n/en'
    ], function ($, require,

                 ResultsList,

                 SingleSelection, MultipleSelection, Placeholder, AllowClear,
                 SelectionSearch, EventRelay,

                 Utils, Translation, DIACRITICS,

                 SelectData, ArrayData, AjaxData, Tags, Tokenizer,
                 MinimumInputLength, MaximumInputLength, MaximumSelectionLength,

                 Dropdown, DropdownSearch, HidePlaceholder, InfiniteScroll,
                 AttachBody, MinimumResultsForSearch, SelectOnClose, CloseOnSelect,

                 EnglishTranslation) {
      function Defaults () {
        this.reset();
      }

      Defaults.prototype.apply = function (options) {
        options = $.extend(true, {}, this.defaults, options);

        if (options.dataAdapter == null) {
          if (options.ajax != null) {
            options.dataAdapter = AjaxData;
          } else if (options.data != null) {
            options.dataAdapter = ArrayData;
          } else {
            options.dataAdapter = SelectData;
          }

          if (options.minimumInputLength > 0) {
            options.dataAdapter = Utils.Decorate(
              options.dataAdapter,
              MinimumInputLength
            );
          }

          if (options.maximumInputLength > 0) {
            options.dataAdapter = Utils.Decorate(
              options.dataAdapter,
              MaximumInputLength
            );
          }

          if (options.maximumSelectionLength > 0) {
            options.dataAdapter = Utils.Decorate(
              options.dataAdapter,
              MaximumSelectionLength
            );
          }

          if (options.tags) {
            options.dataAdapter = Utils.Decorate(options.dataAdapter, Tags);
          }

          if (options.tokenSeparators != null || options.tokenizer != null) {
            options.dataAdapter = Utils.Decorate(
              options.dataAdapter,
              Tokenizer
            );
          }

          if (options.query != null) {
            var Query = require(options.amdBase + 'compat/query');

            options.dataAdapter = Utils.Decorate(
              options.dataAdapter,
              Query
            );
          }

          if (options.initSelection != null) {
            var InitSelection = require(options.amdBase + 'compat/initSelection');

            options.dataAdapter = Utils.Decorate(
              options.dataAdapter,
              InitSelection
            );
          }
        }

        if (options.resultsAdapter == null) {
          options.resultsAdapter = ResultsList;

          if (options.ajax != null) {
            options.resultsAdapter = Utils.Decorate(
              options.resultsAdapter,
              InfiniteScroll
            );
          }

          if (options.placeholder != null) {
            options.resultsAdapter = Utils.Decorate(
              options.resultsAdapter,
              HidePlaceholder
            );
          }

          if (options.selectOnClose) {
            options.resultsAdapter = Utils.Decorate(
              options.resultsAdapter,
              SelectOnClose
            );
          }
        }

        if (options.dropdownAdapter == null) {
          if (options.multiple) {
            options.dropdownAdapter = Dropdown;
          } else {
            var SearchableDropdown = Utils.Decorate(Dropdown, DropdownSearch);

            options.dropdownAdapter = SearchableDropdown;
          }

          if (options.minimumResultsForSearch !== 0) {
            options.dropdownAdapter = Utils.Decorate(
              options.dropdownAdapter,
              MinimumResultsForSearch
            );
          }

          if (options.closeOnSelect) {
            options.dropdownAdapter = Utils.Decorate(
              options.dropdownAdapter,
              CloseOnSelect
            );
          }

          if (
            options.dropdownCssClass != null ||
            options.dropdownCss != null ||
            options.adaptDropdownCssClass != null
          ) {
            var DropdownCSS = require(options.amdBase + 'compat/dropdownCss');

            options.dropdownAdapter = Utils.Decorate(
              options.dropdownAdapter,
              DropdownCSS
            );
          }

          options.dropdownAdapter = Utils.Decorate(
            options.dropdownAdapter,
            AttachBody
          );
        }

        if (options.selectionAdapter == null) {
          if (options.multiple) {
            options.selectionAdapter = MultipleSelection;
          } else {
            options.selectionAdapter = SingleSelection;
          }

          // Add the placeholder mixin if a placeholder was specified
          if (options.placeholder != null) {
            options.selectionAdapter = Utils.Decorate(
              options.selectionAdapter,
              Placeholder
            );
          }

          if (options.allowClear) {
            options.selectionAdapter = Utils.Decorate(
              options.selectionAdapter,
              AllowClear
            );
          }

          if (options.multiple) {
            options.selectionAdapter = Utils.Decorate(
              options.selectionAdapter,
              SelectionSearch
            );
          }

          if (
            options.containerCssClass != null ||
            options.containerCss != null ||
            options.adaptContainerCssClass != null
          ) {
            var ContainerCSS = require(options.amdBase + 'compat/containerCss');

            options.selectionAdapter = Utils.Decorate(
              options.selectionAdapter,
              ContainerCSS
            );
          }

          options.selectionAdapter = Utils.Decorate(
            options.selectionAdapter,
            EventRelay
          );
        }

        // If the defaults were not previously applied from an element, it is
        // possible for the language option to have not been resolved
        options.language = this._resolveLanguage(options.language);

        // Always fall back to English since it will always be complete
        options.language.push('en');

        var uniqueLanguages = [];

        for (var l = 0; l < options.language.length; l++) {
          var language = options.language[l];

          if (uniqueLanguages.indexOf(language) === -1) {
            uniqueLanguages.push(language);
          }
        }

        options.language = uniqueLanguages;

        options.translations = this._processTranslations(
          options.language,
          options.debug
        );

        return options;
      };

      Defaults.prototype.reset = function () {
        function stripDiacritics (text) {
          // Used 'uni range + named function' from http://jsperf.com/diacritics/18
          function match(a) {
            return DIACRITICS[a] || a;
          }

          return text.replace(/[^\u0000-\u007E]/g, match);
        }

        function matcher (params, data) {
          // Always return the object if there is nothing to compare
          if ($.trim(params.term) === '') {
            return data;
          }

          // Do a recursive check for options with children
          if (data.children && data.children.length > 0) {
            // Clone the data object if there are children
            // This is required as we modify the object to remove any non-matches
            var match = $.extend(true, {}, data);

            // Check each child of the option
            for (var c = data.children.length - 1; c >= 0; c--) {
              var child = data.children[c];

              var matches = matcher(params, child);

              // If there wasn't a match, remove the object in the array
              if (matches == null) {
                match.children.splice(c, 1);
              }
            }

            // If any children matched, return the new object
            if (match.children.length > 0) {
              return match;
            }

            // If there were no matching children, check just the plain object
            return matcher(params, match);
          }

          var original = stripDiacritics(data.text).toUpperCase();
          var term = stripDiacritics(params.term).toUpperCase();

          // Check if the text contains the term
          if (original.indexOf(term) > -1) {
            return data;
          }

          // If it doesn't contain the term, don't return anything
          return null;
        }

        this.defaults = {
          amdBase: './',
          amdLanguageBase: './i18n/',
          closeOnSelect: true,
          debug: false,
          dropdownAutoWidth: false,
          escapeMarkup: Utils.escapeMarkup,
          language: {},
          matcher: matcher,
          minimumInputLength: 0,
          maximumInputLength: 0,
          maximumSelectionLength: 0,
          minimumResultsForSearch: 0,
          selectOnClose: false,
          scrollAfterSelect: false,
          sorter: function (data) {
            return data;
          },
          templateResult: function (result) {
            return result.text;
          },
          templateSelection: function (selection) {
            return selection.text;
          },
          theme: 'default',
          width: 'resolve'
        };
      };

      Defaults.prototype.applyFromElement = function (options, $element) {
        var optionLanguage = options.language;
        var defaultLanguage = this.defaults.language;
        var elementLanguage = $element.prop('lang');
        var parentLanguage = $element.closest('[lang]').prop('lang');

        var languages = Array.prototype.concat.call(
          this._resolveLanguage(elementLanguage),
          this._resolveLanguage(optionLanguage),
          this._resolveLanguage(defaultLanguage),
          this._resolveLanguage(parentLanguage)
        );

        options.language = languages;

        return options;
      };

      Defaults.prototype._resolveLanguage = function (language) {
        if (!language) {
          return [];
        }

        if ($.isEmptyObject(language)) {
          return [];
        }

        if ($.isPlainObject(language)) {
          return [language];
        }

        var languages;

        if (!$.isArray(language)) {
          languages = [language];
        } else {
          languages = language;
        }

        var resolvedLanguages = [];

        for (var l = 0; l < languages.length; l++) {
          resolvedLanguages.push(languages[l]);

          if (typeof languages[l] === 'string' && languages[l].indexOf('-') > 0) {
            // Extract the region information if it is included
            var languageParts = languages[l].split('-');
            var baseLanguage = languageParts[0];

            resolvedLanguages.push(baseLanguage);
          }
        }

        return resolvedLanguages;
      };

      Defaults.prototype._processTranslations = function (languages, debug) {
        var translations = new Translation();

        for (var l = 0; l < languages.length; l++) {
          var languageData = new Translation();

          var language = languages[l];

          if (typeof language === 'string') {
            try {
              // Try to load it with the original name
              languageData = Translation.loadPath(language);
            } catch (e) {
              try {
                // If we couldn't load it, check if it wasn't the full path
                language = this.defaults.amdLanguageBase + language;
                languageData = Translation.loadPath(language);
              } catch (ex) {
                // The translation could not be loaded at all. Sometimes this is
                // because of a configuration problem, other times this can be
                // because of how Select2 helps load all possible translation files
                if (debug && window.console && console.warn) {
                  console.warn(
                    'Select2: The language file for "' + language + '" could ' +
                    'not be automatically loaded. A fallback will be used instead.'
                  );
                }
              }
            }
          } else if ($.isPlainObject(language)) {
            languageData = new Translation(language);
          } else {
            languageData = language;
          }

          translations.extend(languageData);
        }

        return translations;
      };

      Defaults.prototype.set = function (key, value) {
        var camelKey = $.camelCase(key);

        var data = {};
        data[camelKey] = value;

        var convertedData = Utils._convertData(data);

        $.extend(true, this.defaults, convertedData);
      };

      var defaults = new Defaults();

      return defaults;
    });

    S2.define('select2/options',[
      'require',
      'jquery',
      './defaults',
      './utils'
    ], function (require, $, Defaults, Utils) {
      function Options (options, $element) {
        this.options = options;

        if ($element != null) {
          this.fromElement($element);
        }

        if ($element != null) {
          this.options = Defaults.applyFromElement(this.options, $element);
        }

        this.options = Defaults.apply(this.options);

        if ($element && $element.is('input')) {
          var InputCompat = require(this.get('amdBase') + 'compat/inputData');

          this.options.dataAdapter = Utils.Decorate(
            this.options.dataAdapter,
            InputCompat
          );
        }
      }

      Options.prototype.fromElement = function ($e) {
        var excludedData = ['select2'];

        if (this.options.multiple == null) {
          this.options.multiple = $e.prop('multiple');
        }

        if (this.options.disabled == null) {
          this.options.disabled = $e.prop('disabled');
        }

        if (this.options.dir == null) {
          if ($e.prop('dir')) {
            this.options.dir = $e.prop('dir');
          } else if ($e.closest('[dir]').prop('dir')) {
            this.options.dir = $e.closest('[dir]').prop('dir');
          } else {
            this.options.dir = 'ltr';
          }
        }

        $e.prop('disabled', this.options.disabled);
        $e.prop('multiple', this.options.multiple);

        if (Utils.GetData($e[0], 'select2Tags')) {
          if (this.options.debug && window.console && console.warn) {
            console.warn(
              'Select2: The `data-select2-tags` attribute has been changed to ' +
              'use the `data-data` and `data-tags="true"` attributes and will be ' +
              'removed in future versions of Select2.'
            );
          }

          Utils.StoreData($e[0], 'data', Utils.GetData($e[0], 'select2Tags'));
          Utils.StoreData($e[0], 'tags', true);
        }

        if (Utils.GetData($e[0], 'ajaxUrl')) {
          if (this.options.debug && window.console && console.warn) {
            console.warn(
              'Select2: The `data-ajax-url` attribute has been changed to ' +
              '`data-ajax--url` and support for the old attribute will be removed' +
              ' in future versions of Select2.'
            );
          }

          $e.attr('ajax--url', Utils.GetData($e[0], 'ajaxUrl'));
          Utils.StoreData($e[0], 'ajax-Url', Utils.GetData($e[0], 'ajaxUrl'));
        }

        var dataset = {};

        function upperCaseLetter(_, letter) {
          return letter.toUpperCase();
        }

        // Pre-load all of the attributes which are prefixed with `data-`
        for (var attr = 0; attr < $e[0].attributes.length; attr++) {
          var attributeName = $e[0].attributes[attr].name;
          var prefix = 'data-';

          if (attributeName.substr(0, prefix.length) == prefix) {
            // Get the contents of the attribute after `data-`
            var dataName = attributeName.substring(prefix.length);

            // Get the data contents from the consistent source
            // This is more than likely the jQuery data helper
            var dataValue = Utils.GetData($e[0], dataName);

            // camelCase the attribute name to match the spec
            var camelDataName = dataName.replace(/-([a-z])/g, upperCaseLetter);

            // Store the data attribute contents into the dataset since
            dataset[camelDataName] = dataValue;
          }
        }

        // Prefer the element's `dataset` attribute if it exists
        // jQuery 1.x does not correctly handle data attributes with multiple dashes
        if ($.fn.jquery && $.fn.jquery.substr(0, 2) == '1.' && $e[0].dataset) {
          dataset = $.extend(true, {}, $e[0].dataset, dataset);
        }

        // Prefer our internal data cache if it exists
        var data = $.extend(true, {}, Utils.GetData($e[0]), dataset);

        data = Utils._convertData(data);

        for (var key in data) {
          if ($.inArray(key, excludedData) > -1) {
            continue;
          }

          if ($.isPlainObject(this.options[key])) {
            $.extend(this.options[key], data[key]);
          } else {
            this.options[key] = data[key];
          }
        }

        return this;
      };

      Options.prototype.get = function (key) {
        return this.options[key];
      };

      Options.prototype.set = function (key, val) {
        this.options[key] = val;
      };

      return Options;
    });

    S2.define('select2/core',[
      'jquery',
      './options',
      './utils',
      './keys'
    ], function ($, Options, Utils, KEYS) {
      var Select2 = function ($element, options) {
        if (Utils.GetData($element[0], 'select2') != null) {
          Utils.GetData($element[0], 'select2').destroy();
        }

        this.$element = $element;

        this.id = this._generateId($element);

        options = options || {};

        this.options = new Options(options, $element);

        Select2.__super__.constructor.call(this);

        // Set up the tabindex

        var tabindex = $element.attr('tabindex') || 0;
        Utils.StoreData($element[0], 'old-tabindex', tabindex);
        $element.attr('tabindex', '-1');

        // Set up containers and adapters

        var DataAdapter = this.options.get('dataAdapter');
        this.dataAdapter = new DataAdapter($element, this.options);

        var $container = this.render();

        this._placeContainer($container);

        var SelectionAdapter = this.options.get('selectionAdapter');
        this.selection = new SelectionAdapter($element, this.options);
        this.$selection = this.selection.render();

        this.selection.position(this.$selection, $container);

        var DropdownAdapter = this.options.get('dropdownAdapter');
        this.dropdown = new DropdownAdapter($element, this.options);
        this.$dropdown = this.dropdown.render();

        this.dropdown.position(this.$dropdown, $container);

        var ResultsAdapter = this.options.get('resultsAdapter');
        this.results = new ResultsAdapter($element, this.options, this.dataAdapter);
        this.$results = this.results.render();

        this.results.position(this.$results, this.$dropdown);

        // Bind events

        var self = this;

        // Bind the container to all of the adapters
        this._bindAdapters();

        // Register any DOM event handlers
        this._registerDomEvents();

        // Register any internal event handlers
        this._registerDataEvents();
        this._registerSelectionEvents();
        this._registerDropdownEvents();
        this._registerResultsEvents();
        this._registerEvents();

        // Set the initial state
        this.dataAdapter.current(function (initialData) {
          self.trigger('selection:update', {
            data: initialData
          });
        });

        // Hide the original select
        $element.addClass('select2-hidden-accessible');
        $element.attr('aria-hidden', 'true');

        // Synchronize any monitored attributes
        this._syncAttributes();

        Utils.StoreData($element[0], 'select2', this);

        // Ensure backwards compatibility with $element.data('select2').
        $element.data('select2', this);
      };

      Utils.Extend(Select2, Utils.Observable);

      Select2.prototype._generateId = function ($element) {
        var id = '';

        if ($element.attr('id') != null) {
          id = $element.attr('id');
        } else if ($element.attr('name') != null) {
          id = $element.attr('name') + '-' + Utils.generateChars(2);
        } else {
          id = Utils.generateChars(4);
        }

        id = id.replace(/(:|\.|\[|\]|,)/g, '');
        id = 'select2-' + id;

        return id;
      };

      Select2.prototype._placeContainer = function ($container) {
        $container.insertAfter(this.$element);

        var width = this._resolveWidth(this.$element, this.options.get('width'));

        if (width != null) {
          $container.css('width', width);
        }
      };

      Select2.prototype._resolveWidth = function ($element, method) {
        var WIDTH = /^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;

        if (method == 'resolve') {
          var styleWidth = this._resolveWidth($element, 'style');

          if (styleWidth != null) {
            return styleWidth;
          }

          return this._resolveWidth($element, 'element');
        }

        if (method == 'element') {
          var elementWidth = $element.outerWidth(false);

          if (elementWidth <= 0) {
            return 'auto';
          }

          return elementWidth + 'px';
        }

        if (method == 'style') {
          var style = $element.attr('style');

          if (typeof(style) !== 'string') {
            return null;
          }

          var attrs = style.split(';');

          for (var i = 0, l = attrs.length; i < l; i = i + 1) {
            var attr = attrs[i].replace(/\s/g, '');
            var matches = attr.match(WIDTH);

            if (matches !== null && matches.length >= 1) {
              return matches[1];
            }
          }

          return null;
        }

        if (method == 'computedstyle') {
          var computedStyle = window.getComputedStyle($element[0]);

          return computedStyle.width;
        }

        return method;
      };

      Select2.prototype._bindAdapters = function () {
        this.dataAdapter.bind(this, this.$container);
        this.selection.bind(this, this.$container);

        this.dropdown.bind(this, this.$container);
        this.results.bind(this, this.$container);
      };

      Select2.prototype._registerDomEvents = function () {
        var self = this;

        this.$element.on('change.select2', function () {
          self.dataAdapter.current(function (data) {
            self.trigger('selection:update', {
              data: data
            });
          });
        });

        this.$element.on('focus.select2', function (evt) {
          self.trigger('focus', evt);
        });

        this._syncA = Utils.bind(this._syncAttributes, this);
        this._syncS = Utils.bind(this._syncSubtree, this);

        if (this.$element[0].attachEvent) {
          this.$element[0].attachEvent('onpropertychange', this._syncA);
        }

        var observer = window.MutationObserver ||
          window.WebKitMutationObserver ||
          window.MozMutationObserver
        ;

        if (observer != null) {
          this._observer = new observer(function (mutations) {
            self._syncA();
            self._syncS(null, mutations);
          });
          this._observer.observe(this.$element[0], {
            attributes: true,
            childList: true,
            subtree: false
          });
        } else if (this.$element[0].addEventListener) {
          this.$element[0].addEventListener(
            'DOMAttrModified',
            self._syncA,
            false
          );
          this.$element[0].addEventListener(
            'DOMNodeInserted',
            self._syncS,
            false
          );
          this.$element[0].addEventListener(
            'DOMNodeRemoved',
            self._syncS,
            false
          );
        }
      };

      Select2.prototype._registerDataEvents = function () {
        var self = this;

        this.dataAdapter.on('*', function (name, params) {
          self.trigger(name, params);
        });
      };

      Select2.prototype._registerSelectionEvents = function () {
        var self = this;
        var nonRelayEvents = ['toggle', 'focus'];

        this.selection.on('toggle', function () {
          self.toggleDropdown();
        });

        this.selection.on('focus', function (params) {
          self.focus(params);
        });

        this.selection.on('*', function (name, params) {
          if ($.inArray(name, nonRelayEvents) !== -1) {
            return;
          }

          self.trigger(name, params);
        });
      };

      Select2.prototype._registerDropdownEvents = function () {
        var self = this;

        this.dropdown.on('*', function (name, params) {
          self.trigger(name, params);
        });
      };

      Select2.prototype._registerResultsEvents = function () {
        var self = this;

        this.results.on('*', function (name, params) {
          self.trigger(name, params);
        });
      };

      Select2.prototype._registerEvents = function () {
        var self = this;

        this.on('open', function () {
          self.$container.addClass('select2-container--open');
        });

        this.on('close', function () {
          self.$container.removeClass('select2-container--open');
        });

        this.on('enable', function () {
          self.$container.removeClass('select2-container--disabled');
        });

        this.on('disable', function () {
          self.$container.addClass('select2-container--disabled');
        });

        this.on('blur', function () {
          self.$container.removeClass('select2-container--focus');
        });

        this.on('query', function (params) {
          if (!self.isOpen()) {
            self.trigger('open', {});
          }

          this.dataAdapter.query(params, function (data) {
            self.trigger('results:all', {
              data: data,
              query: params
            });
          });
        });

        this.on('query:append', function (params) {
          this.dataAdapter.query(params, function (data) {
            self.trigger('results:append', {
              data: data,
              query: params
            });
          });
        });

        this.on('keypress', function (evt) {
          var key = evt.which;

          if (self.isOpen()) {
            if (key === KEYS.ESC || key === KEYS.TAB ||
                (key === KEYS.UP && evt.altKey)) {
              self.close(evt);

              evt.preventDefault();
            } else if (key === KEYS.ENTER) {
              self.trigger('results:select', {});

              evt.preventDefault();
            } else if ((key === KEYS.SPACE && evt.ctrlKey)) {
              self.trigger('results:toggle', {});

              evt.preventDefault();
            } else if (key === KEYS.UP) {
              self.trigger('results:previous', {});

              evt.preventDefault();
            } else if (key === KEYS.DOWN) {
              self.trigger('results:next', {});

              evt.preventDefault();
            }
          } else {
            if (key === KEYS.ENTER || key === KEYS.SPACE ||
                (key === KEYS.DOWN && evt.altKey)) {
              self.open();

              evt.preventDefault();
            }
          }
        });
      };

      Select2.prototype._syncAttributes = function () {
        this.options.set('disabled', this.$element.prop('disabled'));

        if (this.isDisabled()) {
          if (this.isOpen()) {
            this.close();
          }

          this.trigger('disable', {});
        } else {
          this.trigger('enable', {});
        }
      };

      Select2.prototype._isChangeMutation = function (evt, mutations) {
        var changed = false;
        var self = this;

        // Ignore any mutation events raised for elements that aren't options or
        // optgroups. This handles the case when the select element is destroyed
        if (
          evt && evt.target && (
            evt.target.nodeName !== 'OPTION' && evt.target.nodeName !== 'OPTGROUP'
          )
        ) {
          return;
        }

        if (!mutations) {
          // If mutation events aren't supported, then we can only assume that the
          // change affected the selections
          changed = true;
        } else if (mutations.addedNodes && mutations.addedNodes.length > 0) {
          for (var n = 0; n < mutations.addedNodes.length; n++) {
            var node = mutations.addedNodes[n];

            if (node.selected) {
              changed = true;
            }
          }
        } else if (mutations.removedNodes && mutations.removedNodes.length > 0) {
          changed = true;
        } else if ($.isArray(mutations)) {
          $.each(mutations, function(evt, mutation) {
            if (self._isChangeMutation(evt, mutation)) {
              // We've found a change mutation.
              // Let's escape from the loop and continue
              changed = true;
              return false;
            }
          });
        }
        return changed;
      };

      Select2.prototype._syncSubtree = function (evt, mutations) {
        var changed = this._isChangeMutation(evt, mutations);
        var self = this;

        // Only re-pull the data if we think there is a change
        if (changed) {
          this.dataAdapter.current(function (currentData) {
            self.trigger('selection:update', {
              data: currentData
            });
          });
        }
      };

      /**
       * Override the trigger method to automatically trigger pre-events when
       * there are events that can be prevented.
       */
      Select2.prototype.trigger = function (name, args) {
        var actualTrigger = Select2.__super__.trigger;
        var preTriggerMap = {
          'open': 'opening',
          'close': 'closing',
          'select': 'selecting',
          'unselect': 'unselecting',
          'clear': 'clearing'
        };

        if (args === undefined) {
          args = {};
        }

        if (name in preTriggerMap) {
          var preTriggerName = preTriggerMap[name];
          var preTriggerArgs = {
            prevented: false,
            name: name,
            args: args
          };

          actualTrigger.call(this, preTriggerName, preTriggerArgs);

          if (preTriggerArgs.prevented) {
            args.prevented = true;

            return;
          }
        }

        actualTrigger.call(this, name, args);
      };

      Select2.prototype.toggleDropdown = function () {
        if (this.isDisabled()) {
          return;
        }

        if (this.isOpen()) {
          this.close();
        } else {
          this.open();
        }
      };

      Select2.prototype.open = function () {
        if (this.isOpen()) {
          return;
        }

        if (this.isDisabled()) {
          return;
        }

        this.trigger('query', {});
      };

      Select2.prototype.close = function (evt) {
        if (!this.isOpen()) {
          return;
        }

        this.trigger('close', { originalEvent : evt });
      };

      /**
       * Helper method to abstract the "enabled" (not "disabled") state of this
       * object.
       *
       * @return {true} if the instance is not disabled.
       * @return {false} if the instance is disabled.
       */
      Select2.prototype.isEnabled = function () {
        return !this.isDisabled();
      };

      /**
       * Helper method to abstract the "disabled" state of this object.
       *
       * @return {true} if the disabled option is true.
       * @return {false} if the disabled option is false.
       */
      Select2.prototype.isDisabled = function () {
        return this.options.get('disabled');
      };

      Select2.prototype.isOpen = function () {
        return this.$container.hasClass('select2-container--open');
      };

      Select2.prototype.hasFocus = function () {
        return this.$container.hasClass('select2-container--focus');
      };

      Select2.prototype.focus = function (data) {
        // No need to re-trigger focus events if we are already focused
        if (this.hasFocus()) {
          return;
        }

        this.$container.addClass('select2-container--focus');
        this.trigger('focus', {});
      };

      Select2.prototype.enable = function (args) {
        if (this.options.get('debug') && window.console && console.warn) {
          console.warn(
            'Select2: The `select2("enable")` method has been deprecated and will' +
            ' be removed in later Select2 versions. Use $element.prop("disabled")' +
            ' instead.'
          );
        }

        if (args == null || args.length === 0) {
          args = [true];
        }

        var disabled = !args[0];

        this.$element.prop('disabled', disabled);
      };

      Select2.prototype.data = function () {
        if (this.options.get('debug') &&
            arguments.length > 0 && window.console && console.warn) {
          console.warn(
            'Select2: Data can no longer be set using `select2("data")`. You ' +
            'should consider setting the value instead using `$element.val()`.'
          );
        }

        var data = [];

        this.dataAdapter.current(function (currentData) {
          data = currentData;
        });

        return data;
      };

      Select2.prototype.val = function (args) {
        if (this.options.get('debug') && window.console && console.warn) {
          console.warn(
            'Select2: The `select2("val")` method has been deprecated and will be' +
            ' removed in later Select2 versions. Use $element.val() instead.'
          );
        }

        if (args == null || args.length === 0) {
          return this.$element.val();
        }

        var newVal = args[0];

        if ($.isArray(newVal)) {
          newVal = $.map(newVal, function (obj) {
            return obj.toString();
          });
        }

        this.$element.val(newVal).trigger('input').trigger('change');
      };

      Select2.prototype.destroy = function () {
        this.$container.remove();

        if (this.$element[0].detachEvent) {
          this.$element[0].detachEvent('onpropertychange', this._syncA);
        }

        if (this._observer != null) {
          this._observer.disconnect();
          this._observer = null;
        } else if (this.$element[0].removeEventListener) {
          this.$element[0]
            .removeEventListener('DOMAttrModified', this._syncA, false);
          this.$element[0]
            .removeEventListener('DOMNodeInserted', this._syncS, false);
          this.$element[0]
            .removeEventListener('DOMNodeRemoved', this._syncS, false);
        }

        this._syncA = null;
        this._syncS = null;

        this.$element.off('.select2');
        this.$element.attr('tabindex',
        Utils.GetData(this.$element[0], 'old-tabindex'));

        this.$element.removeClass('select2-hidden-accessible');
        this.$element.attr('aria-hidden', 'false');
        Utils.RemoveData(this.$element[0]);
        this.$element.removeData('select2');

        this.dataAdapter.destroy();
        this.selection.destroy();
        this.dropdown.destroy();
        this.results.destroy();

        this.dataAdapter = null;
        this.selection = null;
        this.dropdown = null;
        this.results = null;
      };

      Select2.prototype.render = function () {
        var $container = $(
          '<span class="select2 select2-container">' +
            '<span class="selection"></span>' +
            '<span class="dropdown-wrapper" aria-hidden="true"></span>' +
          '</span>'
        );

        $container.attr('dir', this.options.get('dir'));

        this.$container = $container;

        this.$container.addClass('select2-container--' + this.options.get('theme'));

        Utils.StoreData($container[0], 'element', this.$element);

        return $container;
      };

      return Select2;
    });

    S2.define('jquery-mousewheel',[
      'jquery'
    ], function ($) {
      // Used to shim jQuery.mousewheel for non-full builds.
      return $;
    });

    S2.define('jquery.select2',[
      'jquery',
      'jquery-mousewheel',

      './select2/core',
      './select2/defaults',
      './select2/utils'
    ], function ($, _, Select2, Defaults, Utils) {
      if ($.fn.select2 == null) {
        // All methods that should return the element
        var thisMethods = ['open', 'close', 'destroy'];

        $.fn.select2 = function (options) {
          options = options || {};

          if (typeof options === 'object') {
            this.each(function () {
              var instanceOptions = $.extend(true, {}, options);

              var instance = new Select2($(this), instanceOptions);
            });

            return this;
          } else if (typeof options === 'string') {
            var ret;
            var args = Array.prototype.slice.call(arguments, 1);

            this.each(function () {
              var instance = Utils.GetData(this, 'select2');

              if (instance == null && window.console && console.error) {
                console.error(
                  'The select2(\'' + options + '\') method was called on an ' +
                  'element that is not using Select2.'
                );
              }

              ret = instance[options].apply(instance, args);
            });

            // Check if we should be returning `this`
            if ($.inArray(options, thisMethods) > -1) {
              return this;
            }

            return ret;
          } else {
            throw new Error('Invalid arguments for Select2: ' + options);
          }
        };
      }

      if ($.fn.select2.defaults == null) {
        $.fn.select2.defaults = Defaults;
      }

      return Select2;
    });

      // Return the AMD loader configuration so it can be used outside of this file
      return {
        define: S2.define,
        require: S2.require
      };
    }());

      // Autoload the jQuery bindings
      // We know that all of the modules exist above this, so we're safe
      var select2 = S2.require('jquery.select2');

      // Hold the AMD module references on the jQuery function that was just loaded
      // This allows Select2 to use the internal loader outside of this file, such
      // as in the language files.
      jQuery.fn.select2.amd = S2;

      // Return the Select2 instance for anyone who is importing it.
      return select2;
    }));
  uploads-admin-Public-Admin-plugins-tempusdominus-bootstrap-4-css-tempusdominus-bootstrap-4.css: "/*!@preserve\r\n
    * Tempus Dominus Bootstrap4 v5.39.0 (https://tempusdominus.github.io/bootstrap-4/)\r\n
    * Copyright 2016-2020 Jonathan Peterson and contributors\r\n * Licensed under
    MIT (https://github.com/tempusdominus/bootstrap-3/blob/master/LICENSE)\r\n */\r\n\r\n.sr-only,
    .bootstrap-datetimepicker-widget table th.next::after, .bootstrap-datetimepicker-widget
    table th.prev::after, .bootstrap-datetimepicker-widget .picker-switch::after,
    .bootstrap-datetimepicker-widget .btn[data-action=today]::after, .bootstrap-datetimepicker-widget
    .btn[data-action=clear]::after, .bootstrap-datetimepicker-widget .btn[data-action=togglePeriod]::after,
    .bootstrap-datetimepicker-widget .btn[data-action=showMinutes]::after, .bootstrap-datetimepicker-widget
    .btn[data-action=showHours]::after, .bootstrap-datetimepicker-widget .btn[data-action=decrementMinutes]::after,
    .bootstrap-datetimepicker-widget .btn[data-action=decrementHours]::after, .bootstrap-datetimepicker-widget
    .btn[data-action=incrementMinutes]::after, .bootstrap-datetimepicker-widget .btn[data-action=incrementHours]::after
    {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  padding:
    0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n\nbody.tempusdominus-bootstrap-datetimepicker-widget-day-click,\nbody.tempusdominus-bootstrap-datetimepicker-widget-day-click
    * {\n  cursor: pointer !important;\n}\n\nbody.tempusdominus-bootstrap-datetimepicker-widget-day-click
    {\n  position: relative !important;\n}\n\n.tempusdominus-bootstrap-datetimepicker-widget-day-click-glass-panel
    {\n  position: absolute;\n  z-index: 999999999999;\n  top: 0;\n  left: 0;\n  right:
    0;\n  bottom: 0;\n  cursor: pointer !important;\n}\n\n.bootstrap-datetimepicker-widget
    .datepicker-days tbody td {\n  cursor: pointer;\n}\n\n.bootstrap-datetimepicker-widget
    {\n  list-style: none;\n}\n.bootstrap-datetimepicker-widget.dropdown-menu {\n
    \ display: block;\n  margin: 2px 0;\n  padding: 4px;\n  width: 14rem;\n}\n.bootstrap-datetimepicker-widget.dropdown-menu.tempusdominus-bootstrap-datetimepicker-widget-with-feather-icons
    {\n  width: 16rem;\n}\n.bootstrap-datetimepicker-widget.dropdown-menu.tempusdominus-bootstrap-datetimepicker-widget-with-calendar-weeks
    {\n  width: 16rem;\n}\n.bootstrap-datetimepicker-widget.dropdown-menu.tempusdominus-bootstrap-datetimepicker-widget-with-calendar-weeks.tempusdominus-bootstrap-datetimepicker-widget-with-feather-icons
    {\n  width: 17rem;\n}\n@media (min-width: 576px) {\n  .bootstrap-datetimepicker-widget.dropdown-menu.timepicker-sbs
    {\n    width: 38em;\n  }\n}\n@media (min-width: 768px) {\n  .bootstrap-datetimepicker-widget.dropdown-menu.timepicker-sbs
    {\n    width: 38em;\n  }\n}\n@media (min-width: 992px) {\n  .bootstrap-datetimepicker-widget.dropdown-menu.timepicker-sbs
    {\n    width: 38em;\n  }\n}\n.bootstrap-datetimepicker-widget.dropdown-menu:before,
    .bootstrap-datetimepicker-widget.dropdown-menu:after {\n  content: \"\";\n  display:
    inline-block;\n  position: absolute;\n}\n.bootstrap-datetimepicker-widget.dropdown-menu.bottom:before
    {\n  border-left: 7px solid transparent;\n  border-right: 7px solid transparent;\n
    \ border-bottom: 7px solid #ccc;\n  border-bottom-color: rgba(0, 0, 0, 0.2);\n
    \ top: -7px;\n  left: 7px;\n}\n.bootstrap-datetimepicker-widget.dropdown-menu.bottom:after
    {\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n
    \ border-bottom: 6px solid white;\n  top: -6px;\n  left: 8px;\n}\n.bootstrap-datetimepicker-widget.dropdown-menu.top:before
    {\n  border-left: 7px solid transparent;\n  border-right: 7px solid transparent;\n
    \ border-top: 7px solid #ccc;\n  border-top-color: rgba(0, 0, 0, 0.2);\n  bottom:
    -7px;\n  left: 6px;\n}\n.bootstrap-datetimepicker-widget.dropdown-menu.top:after
    {\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n
    \ border-top: 6px solid white;\n  bottom: -6px;\n  left: 7px;\n}\n.bootstrap-datetimepicker-widget.dropdown-menu.float-right:before
    {\n  left: auto;\n  right: 6px;\n}\n.bootstrap-datetimepicker-widget.dropdown-menu.float-right:after
    {\n  left: auto;\n  right: 7px;\n}\n.bootstrap-datetimepicker-widget.dropdown-menu.wider
    {\n  width: 16rem;\n}\n.bootstrap-datetimepicker-widget .list-unstyled {\n  margin:
    0;\n}\n.bootstrap-datetimepicker-widget a[data-action] {\n  padding: 6px 0;\n}\n.bootstrap-datetimepicker-widget
    a[data-action]:active {\n  box-shadow: none;\n}\n.bootstrap-datetimepicker-widget
    .timepicker-hour, .bootstrap-datetimepicker-widget .timepicker-minute, .bootstrap-datetimepicker-widget
    .timepicker-second {\n  width: 54px;\n  font-weight: bold;\n  font-size: 1.2em;\n
    \ margin: 0;\n}\n.bootstrap-datetimepicker-widget button[data-action] {\n  padding:
    6px;\n}\n.bootstrap-datetimepicker-widget .btn[data-action=togglePeriod] {\n  text-align:
    center;\n  font-family: Arial, sans-serif, -apple-system, system-ui, \"Segoe UI\",
    Roboto, \"Helvetica Neue\", \"Noto Sans\", \"Apple Color Emoji\", \"Segoe UI Emoji\",
    \"Segoe UI Symbol\", \"Noto Color Emoji\";\n  width: 38px;\n  height: 38px;\n}\n.bootstrap-datetimepicker-widget
    .btn[data-action=incrementHours]::after {\n  content: \"Increment Hours\";\n}\n.bootstrap-datetimepicker-widget
    .btn[data-action=incrementMinutes]::after {\n  content: \"Increment Minutes\";\n}\n.bootstrap-datetimepicker-widget
    .btn[data-action=decrementHours]::after {\n  content: \"Decrement Hours\";\n}\n.bootstrap-datetimepicker-widget
    .btn[data-action=decrementMinutes]::after {\n  content: \"Decrement Minutes\";\n}\n.bootstrap-datetimepicker-widget
    .btn[data-action=showHours]::after {\n  content: \"Show Hours\";\n}\n.bootstrap-datetimepicker-widget
    .btn[data-action=showMinutes]::after {\n  content: \"Show Minutes\";\n}\n.bootstrap-datetimepicker-widget
    .btn[data-action=togglePeriod]::after {\n  content: \"Toggle AM/PM\";\n}\n.bootstrap-datetimepicker-widget
    .btn[data-action=clear]::after {\n  content: \"Clear the picker\";\n}\n.bootstrap-datetimepicker-widget
    .btn[data-action=today]::after {\n  content: \"Set the date to today\";\n}\n.bootstrap-datetimepicker-widget
    .picker-switch {\n  text-align: center;\n}\n.bootstrap-datetimepicker-widget .picker-switch::after
    {\n  content: \"Toggle Date and Time Screens\";\n}\n.bootstrap-datetimepicker-widget
    .picker-switch td {\n  padding: 0;\n  margin: 0;\n  height: auto;\n  width: auto;\n
    \ line-height: inherit;\n}\n.bootstrap-datetimepicker-widget .picker-switch td
    span {\n  line-height: 2.5;\n  height: 2.5em;\n  width: 100%;\n}\n.bootstrap-datetimepicker-widget
    .picker-switch.picker-switch-with-feathers-icons td span {\n  line-height: 2.8;\n
    \ height: 2.8em;\n}\n.bootstrap-datetimepicker-widget table {\n  width: 100%;\n
    \ margin: 0;\n}\n.bootstrap-datetimepicker-widget table td, .bootstrap-datetimepicker-widget
    table th {\n  text-align: center;\n  border-radius: 0.25rem;\n}\n.bootstrap-datetimepicker-widget
    table th {\n  height: 20px;\n  line-height: 20px;\n  width: 20px;\n}\n.bootstrap-datetimepicker-widget
    table th.picker-switch {\n  width: 145px;\n}\n.bootstrap-datetimepicker-widget
    table th.disabled, .bootstrap-datetimepicker-widget table th.disabled:hover {\n
    \ background: none;\n  color: #6c757d;\n  cursor: not-allowed;\n}\n.bootstrap-datetimepicker-widget
    table th.prev::after {\n  content: \"Previous Month\";\n}\n.bootstrap-datetimepicker-widget
    table th.next::after {\n  content: \"Next Month\";\n}\n.bootstrap-datetimepicker-widget
    table thead tr:first-child th {\n  cursor: pointer;\n}\n.bootstrap-datetimepicker-widget
    table thead tr:first-child th:hover {\n  background: #e9ecef;\n}\n.bootstrap-datetimepicker-widget
    table td {\n  height: 54px;\n  line-height: 54px;\n  width: 54px;\n}\n.bootstrap-datetimepicker-widget
    table td.cw {\n  font-size: 0.8em;\n  height: 20px;\n  line-height: 20px;\n  color:
    #6c757d;\n  cursor: default;\n}\n.bootstrap-datetimepicker-widget table td.day
    {\n  height: 20px;\n  line-height: 20px;\n  width: 20px;\n}\n.bootstrap-datetimepicker-widget
    table td.day:hover, .bootstrap-datetimepicker-widget table td.hour:hover, .bootstrap-datetimepicker-widget
    table td.minute:hover, .bootstrap-datetimepicker-widget table td.second:hover
    {\n  background: #e9ecef;\n  cursor: pointer;\n}\n.bootstrap-datetimepicker-widget
    table td.old, .bootstrap-datetimepicker-widget table td.new {\n  color: #6c757d;\n}\n.bootstrap-datetimepicker-widget
    table td.today {\n  position: relative;\n}\n.bootstrap-datetimepicker-widget table
    td.today:before {\n  content: \"\";\n  display: inline-block;\n  border: solid
    transparent;\n  border-width: 0 0 7px 7px;\n  border-bottom-color: #007bff;\n
    \ border-top-color: rgba(0, 0, 0, 0.2);\n  position: absolute;\n  bottom: 4px;\n
    \ right: 4px;\n}\n.bootstrap-datetimepicker-widget table td.active, .bootstrap-datetimepicker-widget
    table td.active:hover {\n  background-color: #007bff;\n  color: #fff;\n  text-shadow:
    0 -1px 0 rgba(0, 0, 0, 0.25);\n}\n.bootstrap-datetimepicker-widget table td.active.today:before
    {\n  border-bottom-color: #fff;\n}\n.bootstrap-datetimepicker-widget table td.disabled,
    .bootstrap-datetimepicker-widget table td.disabled:hover {\n  background: none;\n
    \ color: #6c757d;\n  cursor: not-allowed;\n}\n.bootstrap-datetimepicker-widget
    table td span {\n  display: inline-block;\n  width: 54px;\n  height: 54px;\n  line-height:
    54px;\n  margin-top: 2px;\n  margin-bottom: 2px;\n  cursor: pointer;\n  border-radius:
    0.25rem;\n}\n.bootstrap-datetimepicker-widget table td span:hover {\n  background:
    #e9ecef;\n}\n.bootstrap-datetimepicker-widget table td span.active {\n  background-color:
    #007bff;\n  color: #fff;\n  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\n}\n.bootstrap-datetimepicker-widget
    table td span.old {\n  color: #6c757d;\n}\n.bootstrap-datetimepicker-widget table
    td span.disabled, .bootstrap-datetimepicker-widget table td span.disabled:hover
    {\n  background: none;\n  color: #6c757d;\n  cursor: not-allowed;\n}\n.bootstrap-datetimepicker-widget.usetwentyfour
    td.hour {\n  height: 27px;\n  line-height: 27px;\n}\n.bootstrap-datetimepicker-widget
    .timepicker .timepicker-picker a.btn {\n  color: #007bff;\n  color: var(--blue,
    #007bff);\n}\n.bootstrap-datetimepicker-widget .timepicker .timepicker-picker
    a.btn:hover {\n  color: #0056b3;\n}\n.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.day, .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.hour, .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.minute, .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.second,\n.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=incrementHours], .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=incrementMinutes], .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=incrementSeconds],\n.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=decrementHours], .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=decrementMinutes], .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=decrementSeconds],\n.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=showHours], .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=showMinutes], .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=showSeconds],\n.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=togglePeriod] {\n  pointer-events: none;\n  cursor: default;\n}\n.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.day:hover, .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.hour:hover, .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.minute:hover, .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.second:hover,\n.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=incrementHours]:hover, .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=incrementMinutes]:hover, .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=incrementSeconds]:hover,\n.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=decrementHours]:hover, .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=decrementMinutes]:hover, .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=decrementSeconds]:hover,\n.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=showHours]:hover, .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=showMinutes]:hover, .bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=showSeconds]:hover,\n.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=togglePeriod]:hover {\n  background: none;\n}\n\n.input-group
    [data-toggle=datetimepicker] {\n  cursor: pointer;\n}\r\n"
  uploads-admin-Public-Admin-plugins-tempusdominus-bootstrap-4-css-tempusdominus-bootstrap-4.min.css: "/*!@preserve\r\n
    * Tempus Dominus Bootstrap4 v5.39.0 (https://tempusdominus.github.io/bootstrap-4/)\r\n
    * Copyright 2016-2020 Jonathan Peterson and contributors\r\n * Licensed under
    MIT (https://github.com/tempusdominus/bootstrap-3/blob/master/LICENSE)\r\n */.bootstrap-datetimepicker-widget
    .btn[data-action=clear]::after,.bootstrap-datetimepicker-widget .btn[data-action=decrementHours]::after,.bootstrap-datetimepicker-widget
    .btn[data-action=decrementMinutes]::after,.bootstrap-datetimepicker-widget .btn[data-action=incrementHours]::after,.bootstrap-datetimepicker-widget
    .btn[data-action=incrementMinutes]::after,.bootstrap-datetimepicker-widget .btn[data-action=showHours]::after,.bootstrap-datetimepicker-widget
    .btn[data-action=showMinutes]::after,.bootstrap-datetimepicker-widget .btn[data-action=today]::after,.bootstrap-datetimepicker-widget
    .btn[data-action=togglePeriod]::after,.bootstrap-datetimepicker-widget .picker-switch::after,.bootstrap-datetimepicker-widget
    table th.next::after,.bootstrap-datetimepicker-widget table th.prev::after,.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}body.tempusdominus-bootstrap-datetimepicker-widget-day-click,body.tempusdominus-bootstrap-datetimepicker-widget-day-click
    *{cursor:pointer!important}body.tempusdominus-bootstrap-datetimepicker-widget-day-click{position:relative!important}.tempusdominus-bootstrap-datetimepicker-widget-day-click-glass-panel{position:absolute;z-index:999999999999;top:0;left:0;right:0;bottom:0;cursor:pointer!important}.bootstrap-datetimepicker-widget
    .datepicker-days tbody td{cursor:pointer}.bootstrap-datetimepicker-widget{list-style:none}.bootstrap-datetimepicker-widget.dropdown-menu{display:block;margin:2px
    0;padding:4px;width:14rem}.bootstrap-datetimepicker-widget.dropdown-menu.tempusdominus-bootstrap-datetimepicker-widget-with-feather-icons{width:16rem}.bootstrap-datetimepicker-widget.dropdown-menu.tempusdominus-bootstrap-datetimepicker-widget-with-calendar-weeks{width:16rem}.bootstrap-datetimepicker-widget.dropdown-menu.tempusdominus-bootstrap-datetimepicker-widget-with-calendar-weeks.tempusdominus-bootstrap-datetimepicker-widget-with-feather-icons{width:17rem}@media
    (min-width:576px){.bootstrap-datetimepicker-widget.dropdown-menu.timepicker-sbs{width:38em}}@media
    (min-width:768px){.bootstrap-datetimepicker-widget.dropdown-menu.timepicker-sbs{width:38em}}@media
    (min-width:992px){.bootstrap-datetimepicker-widget.dropdown-menu.timepicker-sbs{width:38em}}.bootstrap-datetimepicker-widget.dropdown-menu:after,.bootstrap-datetimepicker-widget.dropdown-menu:before{content:\"\";display:inline-block;position:absolute}.bootstrap-datetimepicker-widget.dropdown-menu.bottom:before{border-left:7px
    solid transparent;border-right:7px solid transparent;border-bottom:7px solid #ccc;border-bottom-color:rgba(0,0,0,.2);top:-7px;left:7px}.bootstrap-datetimepicker-widget.dropdown-menu.bottom:after{border-left:6px
    solid transparent;border-right:6px solid transparent;border-bottom:6px solid #fff;top:-6px;left:8px}.bootstrap-datetimepicker-widget.dropdown-menu.top:before{border-left:7px
    solid transparent;border-right:7px solid transparent;border-top:7px solid #ccc;border-top-color:rgba(0,0,0,.2);bottom:-7px;left:6px}.bootstrap-datetimepicker-widget.dropdown-menu.top:after{border-left:6px
    solid transparent;border-right:6px solid transparent;border-top:6px solid #fff;bottom:-6px;left:7px}.bootstrap-datetimepicker-widget.dropdown-menu.float-right:before{left:auto;right:6px}.bootstrap-datetimepicker-widget.dropdown-menu.float-right:after{left:auto;right:7px}.bootstrap-datetimepicker-widget.dropdown-menu.wider{width:16rem}.bootstrap-datetimepicker-widget
    .list-unstyled{margin:0}.bootstrap-datetimepicker-widget a[data-action]{padding:6px
    0}.bootstrap-datetimepicker-widget a[data-action]:active{box-shadow:none}.bootstrap-datetimepicker-widget
    .timepicker-hour,.bootstrap-datetimepicker-widget .timepicker-minute,.bootstrap-datetimepicker-widget
    .timepicker-second{width:54px;font-weight:700;font-size:1.2em;margin:0}.bootstrap-datetimepicker-widget
    button[data-action]{padding:6px}.bootstrap-datetimepicker-widget .btn[data-action=togglePeriod]{text-align:center;font-family:Arial,sans-serif,-apple-system,system-ui,\"Segoe
    UI\",Roboto,\"Helvetica Neue\",\"Noto Sans\",\"Apple Color Emoji\",\"Segoe UI
    Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\";width:38px;height:38px}.bootstrap-datetimepicker-widget
    .btn[data-action=incrementHours]::after{content:\"Increment Hours\"}.bootstrap-datetimepicker-widget
    .btn[data-action=incrementMinutes]::after{content:\"Increment Minutes\"}.bootstrap-datetimepicker-widget
    .btn[data-action=decrementHours]::after{content:\"Decrement Hours\"}.bootstrap-datetimepicker-widget
    .btn[data-action=decrementMinutes]::after{content:\"Decrement Minutes\"}.bootstrap-datetimepicker-widget
    .btn[data-action=showHours]::after{content:\"Show Hours\"}.bootstrap-datetimepicker-widget
    .btn[data-action=showMinutes]::after{content:\"Show Minutes\"}.bootstrap-datetimepicker-widget
    .btn[data-action=togglePeriod]::after{content:\"Toggle AM/PM\"}.bootstrap-datetimepicker-widget
    .btn[data-action=clear]::after{content:\"Clear the picker\"}.bootstrap-datetimepicker-widget
    .btn[data-action=today]::after{content:\"Set the date to today\"}.bootstrap-datetimepicker-widget
    .picker-switch{text-align:center}.bootstrap-datetimepicker-widget .picker-switch::after{content:\"Toggle
    Date and Time Screens\"}.bootstrap-datetimepicker-widget .picker-switch td{padding:0;margin:0;height:auto;width:auto;line-height:inherit}.bootstrap-datetimepicker-widget
    .picker-switch td span{line-height:2.5;height:2.5em;width:100%}.bootstrap-datetimepicker-widget
    .picker-switch.picker-switch-with-feathers-icons td span{line-height:2.8;height:2.8em}.bootstrap-datetimepicker-widget
    table{width:100%;margin:0}.bootstrap-datetimepicker-widget table td,.bootstrap-datetimepicker-widget
    table th{text-align:center;border-radius:.25rem}.bootstrap-datetimepicker-widget
    table th{height:20px;line-height:20px;width:20px}.bootstrap-datetimepicker-widget
    table th.picker-switch{width:145px}.bootstrap-datetimepicker-widget table th.disabled,.bootstrap-datetimepicker-widget
    table th.disabled:hover{background:0 0;color:#6c757d;cursor:not-allowed}.bootstrap-datetimepicker-widget
    table th.prev::after{content:\"Previous Month\"}.bootstrap-datetimepicker-widget
    table th.next::after{content:\"Next Month\"}.bootstrap-datetimepicker-widget table
    thead tr:first-child th{cursor:pointer}.bootstrap-datetimepicker-widget table
    thead tr:first-child th:hover{background:#e9ecef}.bootstrap-datetimepicker-widget
    table td{height:54px;line-height:54px;width:54px}.bootstrap-datetimepicker-widget
    table td.cw{font-size:.8em;height:20px;line-height:20px;color:#6c757d;cursor:default}.bootstrap-datetimepicker-widget
    table td.day{height:20px;line-height:20px;width:20px}.bootstrap-datetimepicker-widget
    table td.day:hover,.bootstrap-datetimepicker-widget table td.hour:hover,.bootstrap-datetimepicker-widget
    table td.minute:hover,.bootstrap-datetimepicker-widget table td.second:hover{background:#e9ecef;cursor:pointer}.bootstrap-datetimepicker-widget
    table td.new,.bootstrap-datetimepicker-widget table td.old{color:#6c757d}.bootstrap-datetimepicker-widget
    table td.today{position:relative}.bootstrap-datetimepicker-widget table td.today:before{content:\"\";display:inline-block;border:solid
    transparent;border-width:0 0 7px 7px;border-bottom-color:#007bff;border-top-color:rgba(0,0,0,.2);position:absolute;bottom:4px;right:4px}.bootstrap-datetimepicker-widget
    table td.active,.bootstrap-datetimepicker-widget table td.active:hover{background-color:#007bff;color:#fff;text-shadow:0
    -1px 0 rgba(0,0,0,.25)}.bootstrap-datetimepicker-widget table td.active.today:before{border-bottom-color:#fff}.bootstrap-datetimepicker-widget
    table td.disabled,.bootstrap-datetimepicker-widget table td.disabled:hover{background:0
    0;color:#6c757d;cursor:not-allowed}.bootstrap-datetimepicker-widget table td span{display:inline-block;width:54px;height:54px;line-height:54px;margin-top:2px;margin-bottom:2px;cursor:pointer;border-radius:.25rem}.bootstrap-datetimepicker-widget
    table td span:hover{background:#e9ecef}.bootstrap-datetimepicker-widget table
    td span.active{background-color:#007bff;color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,.25)}.bootstrap-datetimepicker-widget
    table td span.old{color:#6c757d}.bootstrap-datetimepicker-widget table td span.disabled,.bootstrap-datetimepicker-widget
    table td span.disabled:hover{background:0 0;color:#6c757d;cursor:not-allowed}.bootstrap-datetimepicker-widget.usetwentyfour
    td.hour{height:27px;line-height:27px}.bootstrap-datetimepicker-widget .timepicker
    .timepicker-picker a.btn{color:#007bff;color:var(--blue,#007bff)}.bootstrap-datetimepicker-widget
    .timepicker .timepicker-picker a.btn:hover{color:#0056b3}.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=decrementHours],.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=decrementMinutes],.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=decrementSeconds],.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=incrementHours],.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=incrementMinutes],.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=incrementSeconds],.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=showHours],.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=showMinutes],.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=showSeconds],.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=togglePeriod],.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.day,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.hour,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.minute,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.second{pointer-events:none;cursor:default}.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=decrementHours]:hover,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=decrementMinutes]:hover,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=decrementSeconds]:hover,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=incrementHours]:hover,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=incrementMinutes]:hover,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=incrementSeconds]:hover,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=showHours]:hover,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=showMinutes]:hover,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=showSeconds]:hover,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td [data-action=togglePeriod]:hover,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.day:hover,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.hour:hover,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.minute:hover,.bootstrap-datetimepicker-widget.bootstrap-datetimepicker-widget-readonly
    table td.second:hover{background:0 0}.input-group [data-toggle=datetimepicker]{cursor:pointer}"
  uploads-admin-Public-Admin-plugins-tempusdominus-bootstrap-4-js-tempusdominus-bootstrap-4.js: "/*!@preserve\r\n
    * Tempus Dominus Bootstrap4 v5.39.0 (https://tempusdominus.github.io/bootstrap-4/)\r\n
    * Copyright 2016-2020 Jonathan Peterson and contributors\r\n * Licensed under
    MIT (https://github.com/tempusdominus/bootstrap-3/blob/master/LICENSE)\r\n */\r\n\r\nif
    (typeof jQuery === 'undefined') {\r\n  throw new Error('Tempus Dominus Bootstrap4\\'s
    requires jQuery. jQuery must be included before Tempus Dominus Bootstrap4\\'s
    JavaScript.');\r\n}\r\n\r\n+function ($) {\r\n  var version = $.fn.jquery.split('
    ')[0].split('.');\r\n  if ((version[0] < 2 && version[1] < 9) || (version[0] ===
    1 && version[1] === 9 && version[2] < 1) || (version[0] >= 4)) {\r\n    throw
    new Error('Tempus Dominus Bootstrap4\\'s requires at least jQuery v3.0.0 but less
    than v4.0.0');\r\n  }\r\n}(jQuery);\r\n\r\n\r\nif (typeof moment === 'undefined')
    {\r\n  throw new Error('Tempus Dominus Bootstrap4\\'s requires moment.js. Moment.js
    must be included before Tempus Dominus Bootstrap4\\'s JavaScript.');\r\n}\r\n\r\nvar
    version = moment.version.split('.')\r\nif ((version[0] <= 2 && version[1] < 17)
    || (version[0] >= 3)) {\r\n  throw new Error('Tempus Dominus Bootstrap4\\'s requires
    at least moment.js v2.17.0 but less than v3.0.0');\r\n}\r\n\r\n+function () {\r\n\r\nfunction
    _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype);
    subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction
    _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var
    descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable
    = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction
    _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype,
    protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return
    Constructor; }\n\n// ReSharper disable once InconsistentNaming\nvar DateTimePicker
    = function ($, moment) {\n  function escapeRegExp(text) {\n    return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,
    '\\\\$&');\n  }\n\n  function isValidDate(date) {\n    return Object.prototype.toString.call(date)
    === '[object Date]' && !isNaN(date.getTime());\n  }\n\n  function isValidDateTimeStr(str)
    {\n    return isValidDate(new Date(str));\n  } // ReSharper disable InconsistentNaming\n\n\n
    \ var trim = function trim(str) {\n    return str.replace(/(^\\s+)|(\\s+$)/g,
    '');\n  },\n      NAME = 'datetimepicker',\n      DATA_KEY = \"\" + NAME,\n      EVENT_KEY
    = \".\" + DATA_KEY,\n      DATA_API_KEY = '.data-api',\n      Selector = {\n    DATA_TOGGLE:
    \"[data-toggle=\\\"\" + DATA_KEY + \"\\\"]\"\n  },\n      ClassName = {\n    INPUT:
    NAME + \"-input\"\n  },\n      Event = {\n    CHANGE: \"change\" + EVENT_KEY,\n
    \   BLUR: \"blur\" + EVENT_KEY,\n    KEYUP: \"keyup\" + EVENT_KEY,\n    KEYDOWN:
    \"keydown\" + EVENT_KEY,\n    FOCUS: \"focus\" + EVENT_KEY,\n    CLICK_DATA_API:
    \"click\" + EVENT_KEY + DATA_API_KEY,\n    //emitted\n    UPDATE: \"update\" +
    EVENT_KEY,\n    ERROR: \"error\" + EVENT_KEY,\n    HIDE: \"hide\" + EVENT_KEY,\n
    \   SHOW: \"show\" + EVENT_KEY\n  },\n      DatePickerModes = [{\n    CLASS_NAME:
    'days',\n    NAV_FUNCTION: 'M',\n    NAV_STEP: 1\n  }, {\n    CLASS_NAME: 'months',\n
    \   NAV_FUNCTION: 'y',\n    NAV_STEP: 1\n  }, {\n    CLASS_NAME: 'years',\n    NAV_FUNCTION:
    'y',\n    NAV_STEP: 10\n  }, {\n    CLASS_NAME: 'decades',\n    NAV_FUNCTION:
    'y',\n    NAV_STEP: 100\n  }],\n      KeyMap = {\n    'up': 38,\n    38: 'up',\n
    \   'down': 40,\n    40: 'down',\n    'left': 37,\n    37: 'left',\n    'right':
    39,\n    39: 'right',\n    'tab': 9,\n    9: 'tab',\n    'escape': 27,\n    27:
    'escape',\n    'enter': 13,\n    13: 'enter',\n    'pageUp': 33,\n    33: 'pageUp',\n
    \   'pageDown': 34,\n    34: 'pageDown',\n    'shift': 16,\n    16: 'shift',\n
    \   'control': 17,\n    17: 'control',\n    'space': 32,\n    32: 'space',\n    't':
    84,\n    84: 't',\n    'delete': 46,\n    46: 'delete'\n  },\n      ViewModes
    = ['times', 'days', 'months', 'years', 'decades'],\n      keyState = {},\n      keyPressHandled
    = {},\n      optionsSortMap = {\n    timeZone: -39,\n    format: -38,\n    dayViewHeaderFormat:
    -37,\n    extraFormats: -36,\n    stepping: -35,\n    minDate: -34,\n    maxDate:
    -33,\n    useCurrent: -32,\n    collapse: -31,\n    locale: -30,\n    defaultDate:
    -29,\n    disabledDates: -28,\n    enabledDates: -27,\n    icons: -26,\n    tooltips:
    -25,\n    useStrict: -24,\n    sideBySide: -23,\n    daysOfWeekDisabled: -22,\n
    \   calendarWeeks: -21,\n    viewMode: -20,\n    toolbarPlacement: -19,\n    buttons:
    -18,\n    widgetPositioning: -17,\n    widgetParent: -16,\n    ignoreReadonly:
    -15,\n    keepOpen: -14,\n    focusOnShow: -13,\n    inline: -12,\n    keepInvalid:
    -11,\n    keyBinds: -10,\n    debug: -9,\n    allowInputToggle: -8,\n    disabledTimeIntervals:
    -7,\n    disabledHours: -6,\n    enabledHours: -5,\n    viewDate: -4,\n    allowMultidate:
    -3,\n    multidateSeparator: -2,\n    updateOnlyThroughDateOption: -1,\n    date:
    1\n  },\n      defaultFeatherIcons = {\n    time: 'clock',\n    date: 'calendar',\n
    \   up: 'arrow-up',\n    down: 'arrow-down',\n    previous: 'arrow-left',\n    next:
    'arrow-right',\n    today: 'arrow-down-circle',\n    clear: 'trash-2',\n    close:
    'x'\n  };\n\n  function optionsSortFn(optionKeyA, optionKeyB) {\n    if (optionsSortMap[optionKeyA]
    && optionsSortMap[optionKeyB]) {\n      if (optionsSortMap[optionKeyA] < 0 &&
    optionsSortMap[optionKeyB] < 0) {\n        return Math.abs(optionsSortMap[optionKeyB])
    - Math.abs(optionsSortMap[optionKeyA]);\n      } else if (optionsSortMap[optionKeyA]
    < 0) {\n        return -1;\n      } else if (optionsSortMap[optionKeyB] < 0) {\n
    \       return 1;\n      }\n\n      return optionsSortMap[optionKeyA] - optionsSortMap[optionKeyB];\n
    \   } else if (optionsSortMap[optionKeyA]) {\n      return optionsSortMap[optionKeyA];\n
    \   } else if (optionsSortMap[optionKeyB]) {\n      return optionsSortMap[optionKeyB];\n
    \   }\n\n    return 0;\n  }\n\n  var Default = {\n    timeZone: '',\n    format:
    false,\n    dayViewHeaderFormat: 'MMMM YYYY',\n    extraFormats: false,\n    stepping:
    1,\n    minDate: false,\n    maxDate: false,\n    useCurrent: true,\n    collapse:
    true,\n    locale: moment.locale(),\n    defaultDate: false,\n    disabledDates:
    false,\n    enabledDates: false,\n    icons: {\n      type: 'class',\n      time:
    'fa fa-clock-o',\n      date: 'fa fa-calendar',\n      up: 'fa fa-arrow-up',\n
    \     down: 'fa fa-arrow-down',\n      previous: 'fa fa-chevron-left',\n      next:
    'fa fa-chevron-right',\n      today: 'fa fa-calendar-check-o',\n      clear: 'fa
    fa-trash',\n      close: 'fa fa-times'\n    },\n    tooltips: {\n      today:
    'Go to today',\n      clear: 'Clear selection',\n      close: 'Close the picker',\n
    \     selectMonth: 'Select Month',\n      prevMonth: 'Previous Month',\n      nextMonth:
    'Next Month',\n      selectYear: 'Select Year',\n      prevYear: 'Previous Year',\n
    \     nextYear: 'Next Year',\n      selectDecade: 'Select Decade',\n      prevDecade:
    'Previous Decade',\n      nextDecade: 'Next Decade',\n      prevCentury: 'Previous
    Century',\n      nextCentury: 'Next Century',\n      pickHour: 'Pick Hour',\n
    \     incrementHour: 'Increment Hour',\n      decrementHour: 'Decrement Hour',\n
    \     pickMinute: 'Pick Minute',\n      incrementMinute: 'Increment Minute',\n
    \     decrementMinute: 'Decrement Minute',\n      pickSecond: 'Pick Second',\n
    \     incrementSecond: 'Increment Second',\n      decrementSecond: 'Decrement
    Second',\n      togglePeriod: 'Toggle Period',\n      selectTime: 'Select Time',\n
    \     selectDate: 'Select Date'\n    },\n    useStrict: false,\n    sideBySide:
    false,\n    daysOfWeekDisabled: false,\n    calendarWeeks: false,\n    viewMode:
    'days',\n    toolbarPlacement: 'default',\n    buttons: {\n      showToday: false,\n
    \     showClear: false,\n      showClose: false\n    },\n    widgetPositioning:
    {\n      horizontal: 'auto',\n      vertical: 'auto'\n    },\n    widgetParent:
    null,\n    readonly: false,\n    ignoreReadonly: false,\n    keepOpen: false,\n
    \   focusOnShow: true,\n    inline: false,\n    keepInvalid: false,\n    keyBinds:
    {\n      up: function up() {\n        if (!this.widget) {\n          return false;\n
    \       }\n\n        var d = this._dates[0] || this.getMoment();\n\n        if
    (this.widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().subtract(7,
    'd'));\n        } else {\n          this.date(d.clone().add(this.stepping(), 'm'));\n
    \       }\n\n        return true;\n      },\n      down: function down() {\n        if
    (!this.widget) {\n          this.show();\n          return false;\n        }\n\n
    \       var d = this._dates[0] || this.getMoment();\n\n        if (this.widget.find('.datepicker').is(':visible'))
    {\n          this.date(d.clone().add(7, 'd'));\n        } else {\n          this.date(d.clone().subtract(this.stepping(),
    'm'));\n        }\n\n        return true;\n      },\n      'control up': function
    controlUp() {\n        if (!this.widget) {\n          return false;\n        }\n\n
    \       var d = this._dates[0] || this.getMoment();\n\n        if (this.widget.find('.datepicker').is(':visible'))
    {\n          this.date(d.clone().subtract(1, 'y'));\n        } else {\n          this.date(d.clone().add(1,
    'h'));\n        }\n\n        return true;\n      },\n      'control down': function
    controlDown() {\n        if (!this.widget) {\n          return false;\n        }\n\n
    \       var d = this._dates[0] || this.getMoment();\n\n        if (this.widget.find('.datepicker').is(':visible'))
    {\n          this.date(d.clone().add(1, 'y'));\n        } else {\n          this.date(d.clone().subtract(1,
    'h'));\n        }\n\n        return true;\n      },\n      left: function left()
    {\n        if (!this.widget) {\n          return false;\n        }\n\n        var
    d = this._dates[0] || this.getMoment();\n\n        if (this.widget.find('.datepicker').is(':visible'))
    {\n          this.date(d.clone().subtract(1, 'd'));\n        }\n\n        return
    true;\n      },\n      right: function right() {\n        if (!this.widget) {\n
    \         return false;\n        }\n\n        var d = this._dates[0] || this.getMoment();\n\n
    \       if (this.widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().add(1,
    'd'));\n        }\n\n        return true;\n      },\n      pageUp: function pageUp()
    {\n        if (!this.widget) {\n          return false;\n        }\n\n        var
    d = this._dates[0] || this.getMoment();\n\n        if (this.widget.find('.datepicker').is(':visible'))
    {\n          this.date(d.clone().subtract(1, 'M'));\n        }\n\n        return
    true;\n      },\n      pageDown: function pageDown() {\n        if (!this.widget)
    {\n          return false;\n        }\n\n        var d = this._dates[0] || this.getMoment();\n\n
    \       if (this.widget.find('.datepicker').is(':visible')) {\n          this.date(d.clone().add(1,
    'M'));\n        }\n\n        return true;\n      },\n      enter: function enter()
    {\n        if (!this.widget) {\n          return false;\n        }\n\n        this.hide();\n
    \       return true;\n      },\n      escape: function escape() {\n        if
    (!this.widget) {\n          return false;\n        }\n\n        this.hide();\n
    \       return true;\n      },\n      'control space': function controlSpace()
    {\n        if (!this.widget) {\n          return false;\n        }\n\n        if
    (this.widget.find('.timepicker').is(':visible')) {\n          this.widget.find('.btn[data-action=\"togglePeriod\"]').click();\n
    \       }\n\n        return true;\n      },\n      t: function t() {\n        if
    (!this.widget) {\n          return false;\n        }\n\n        this.date(this.getMoment());\n
    \       return true;\n      },\n      'delete': function _delete() {\n        if
    (!this.widget) {\n          return false;\n        }\n\n        this.clear();\n
    \       return true;\n      }\n    },\n    debug: false,\n    allowInputToggle:
    false,\n    disabledTimeIntervals: false,\n    disabledHours: false,\n    enabledHours:
    false,\n    viewDate: false,\n    allowMultidate: false,\n    multidateSeparator:
    ', ',\n    updateOnlyThroughDateOption: false,\n    promptTimeOnDateChange: false,\n
    \   promptTimeOnDateChangeTransitionDelay: 200\n  }; // ReSharper restore InconsistentNaming\n
    \ // ReSharper disable once DeclarationHides\n  // ReSharper disable once InconsistentNaming\n\n
    \ var DateTimePicker = /*#__PURE__*/function () {\n    /** @namespace eData.dateOptions
    */\n\n    /** @namespace moment.tz */\n    function DateTimePicker(element, options)
    {\n      this._options = this._getOptions(options);\n      this._element = element;\n
    \     this._dates = [];\n      this._datesFormatted = [];\n      this._viewDate
    = null;\n      this.unset = true;\n      this.component = false;\n      this.widget
    = false;\n      this.use24Hours = null;\n      this.actualFormat = null;\n      this.parseFormats
    = null;\n      this.currentViewMode = null;\n      this.MinViewModeNumber = 0;\n
    \     this.isInitFormatting = false;\n      this.isInit = false;\n      this.isDateUpdateThroughDateOptionFromClientCode
    = false;\n      this.hasInitDate = false;\n      this.initDate = void 0;\n      this._notifyChangeEventContext
    = void 0;\n      this._currentPromptTimeTimeout = null;\n\n      this._int();\n
    \   }\n    /**\n     * @return {string}\n     */\n\n\n    var _proto = DateTimePicker.prototype;\n\n
    \   //private\n    _proto._int = function _int() {\n      this.isInit = true;\n\n
    \     var targetInput = this._element.data('target-input');\n\n      if (this._element.is('input'))
    {\n        this.input = this._element;\n      } else if (targetInput !== undefined)
    {\n        if (targetInput === 'nearest') {\n          this.input = this._element.find('input');\n
    \       } else {\n          this.input = $(targetInput);\n        }\n      }\n\n
    \     this._dates = [];\n      this._dates[0] = this.getMoment();\n      this._viewDate
    = this.getMoment().clone();\n      $.extend(true, this._options, this._dataToOptions());\n
    \     this.hasInitDate = false;\n      this.initDate = void 0;\n      this.options(this._options);\n
    \     this.isInitFormatting = true;\n\n      this._initFormatting();\n\n      this.isInitFormatting
    = false;\n\n      if (this.input !== undefined && this.input.is('input') && this.input.val().trim().length
    !== 0) {\n        this._setValue(this._parseInputDate(this.input.val().trim()),
    0);\n      } else if (this._options.defaultDate && this.input !== undefined &&
    this.input.attr('placeholder') === undefined) {\n        this._setValue(this._options.defaultDate,
    0);\n      }\n\n      if (this.hasInitDate) {\n        this.date(this.initDate);\n
    \     }\n\n      if (this._options.inline) {\n        this.show();\n      }\n\n
    \     this.isInit = false;\n    };\n\n    _proto._update = function _update()
    {\n      if (!this.widget) {\n        return;\n      }\n\n      this._fillDate();\n\n
    \     this._fillTime();\n    };\n\n    _proto._setValue = function _setValue(targetMoment,
    index) {\n      var noIndex = typeof index === 'undefined',\n          isClear
    = !targetMoment && noIndex,\n          isDateUpdateThroughDateOptionFromClientCode
    = this.isDateUpdateThroughDateOptionFromClientCode,\n          isNotAllowedProgrammaticUpdate
    = !this.isInit && this._options.updateOnlyThroughDateOption && !isDateUpdateThroughDateOptionFromClientCode;\n
    \     var outpValue = '',\n          isInvalid = false,\n          oldDate = this.unset
    ? null : this._dates[index];\n\n      if (!oldDate && !this.unset && noIndex &&
    isClear) {\n        oldDate = this._dates[this._dates.length - 1];\n      } //
    case of calling setValue(null or false)\n\n\n      if (!targetMoment) {\n        if
    (isNotAllowedProgrammaticUpdate) {\n          this._notifyEvent({\n            type:
    DateTimePicker.Event.CHANGE,\n            date: targetMoment,\n            oldDate:
    oldDate,\n            isClear: isClear,\n            isInvalid: isInvalid,\n            isDateUpdateThroughDateOptionFromClientCode:
    isDateUpdateThroughDateOptionFromClientCode,\n            isInit: this.isInit\n
    \         });\n\n          return;\n        }\n\n        if (!this._options.allowMultidate
    || this._dates.length === 1 || isClear) {\n          this.unset = true;\n          this._dates
    = [];\n          this._datesFormatted = [];\n        } else {\n          outpValue
    = \"\" + this._element.data('date') + this._options.multidateSeparator;\n          outpValue
    = oldDate && outpValue.replace(\"\" + oldDate.format(this.actualFormat) + this._options.multidateSeparator,
    '').replace(\"\" + this._options.multidateSeparator + this._options.multidateSeparator,
    '').replace(new RegExp(escapeRegExp(this._options.multidateSeparator) + \"\\\\s*$\"),
    '') || '';\n\n          this._dates.splice(index, 1);\n\n          this._datesFormatted.splice(index,
    1);\n        }\n\n        outpValue = trim(outpValue);\n\n        if (this.input
    !== undefined) {\n          this.input.val(outpValue);\n          this.input.trigger('input');\n
    \       }\n\n        this._element.data('date', outpValue);\n\n        this._notifyEvent({\n
    \         type: DateTimePicker.Event.CHANGE,\n          date: false,\n          oldDate:
    oldDate,\n          isClear: isClear,\n          isInvalid: isInvalid,\n          isDateUpdateThroughDateOptionFromClientCode:
    isDateUpdateThroughDateOptionFromClientCode,\n          isInit: this.isInit\n
    \       });\n\n        this._update();\n\n        return;\n      }\n\n      targetMoment
    = targetMoment.clone().locale(this._options.locale);\n\n      if (this._hasTimeZone())
    {\n        targetMoment.tz(this._options.timeZone);\n      }\n\n      if (this._options.stepping
    !== 1) {\n        targetMoment.minutes(Math.round(targetMoment.minutes() / this._options.stepping)
    * this._options.stepping).seconds(0);\n      }\n\n      if (this._isValid(targetMoment))
    {\n        if (isNotAllowedProgrammaticUpdate) {\n          this._notifyEvent({\n
    \           type: DateTimePicker.Event.CHANGE,\n            date: targetMoment.clone(),\n
    \           oldDate: oldDate,\n            isClear: isClear,\n            isInvalid:
    isInvalid,\n            isDateUpdateThroughDateOptionFromClientCode: isDateUpdateThroughDateOptionFromClientCode,\n
    \           isInit: this.isInit\n          });\n\n          return;\n        }\n\n
    \       this._dates[index] = targetMoment;\n        this._datesFormatted[index]
    = targetMoment.format('YYYY-MM-DD');\n        this._viewDate = targetMoment.clone();\n\n
    \       if (this._options.allowMultidate && this._dates.length > 1) {\n          for
    (var i = 0; i < this._dates.length; i++) {\n            outpValue += \"\" + this._dates[i].format(this.actualFormat)
    + this._options.multidateSeparator;\n          }\n\n          outpValue = outpValue.replace(new
    RegExp(this._options.multidateSeparator + \"\\\\s*$\"), '');\n        } else {\n
    \         outpValue = this._dates[index].format(this.actualFormat);\n        }\n\n
    \       outpValue = trim(outpValue);\n\n        if (this.input !== undefined)
    {\n          this.input.val(outpValue);\n          this.input.trigger('input');\n
    \       }\n\n        this._element.data('date', outpValue);\n\n        this.unset
    = false;\n\n        this._update();\n\n        this._notifyEvent({\n          type:
    DateTimePicker.Event.CHANGE,\n          date: this._dates[index].clone(),\n          oldDate:
    oldDate,\n          isClear: isClear,\n          isInvalid: isInvalid,\n          isDateUpdateThroughDateOptionFromClientCode:
    isDateUpdateThroughDateOptionFromClientCode,\n          isInit: this.isInit\n
    \       });\n      } else {\n        isInvalid = true;\n\n        if (!this._options.keepInvalid)
    {\n          if (this.input !== undefined) {\n            this.input.val(\"\"
    + (this.unset ? '' : this._dates[index].format(this.actualFormat)));\n            this.input.trigger('input');\n
    \         }\n        } else {\n          this._notifyEvent({\n            type:
    DateTimePicker.Event.CHANGE,\n            date: targetMoment,\n            oldDate:
    oldDate,\n            isClear: isClear,\n            isInvalid: isInvalid,\n            isDateUpdateThroughDateOptionFromClientCode:
    isDateUpdateThroughDateOptionFromClientCode,\n            isInit: this.isInit\n
    \         });\n        }\n\n        this._notifyEvent({\n          type: DateTimePicker.Event.ERROR,\n
    \         date: targetMoment,\n          oldDate: oldDate\n        });\n      }\n
    \   };\n\n    _proto._change = function _change(e) {\n      var val = $(e.target).val().trim(),\n
    \         parsedDate = val ? this._parseInputDate(val) : null;\n\n      this._setValue(parsedDate,
    0);\n\n      e.stopImmediatePropagation();\n      return false;\n    } //noinspection
    JSMethodCanBeStatic\n    ;\n\n    _proto._getOptions = function _getOptions(options)
    {\n      options = $.extend(true, {}, Default, options && options.icons && options.icons.type
    === 'feather' ? {\n        icons: defaultFeatherIcons\n      } : {}, options);\n
    \     return options;\n    };\n\n    _proto._hasTimeZone = function _hasTimeZone()
    {\n      return moment.tz !== undefined && this._options.timeZone !== undefined
    && this._options.timeZone !== null && this._options.timeZone !== '';\n    };\n\n
    \   _proto._isEnabled = function _isEnabled(granularity) {\n      if (typeof granularity
    !== 'string' || granularity.length > 1) {\n        throw new TypeError('isEnabled
    expects a single character string parameter');\n      }\n\n      switch (granularity)
    {\n        case 'y':\n          return this.actualFormat.indexOf('Y') !== -1;\n\n
    \       case 'M':\n          return this.actualFormat.indexOf('M') !== -1;\n\n
    \       case 'd':\n          return this.actualFormat.toLowerCase().indexOf('d')
    !== -1;\n\n        case 'h':\n        case 'H':\n          return this.actualFormat.toLowerCase().indexOf('h')
    !== -1;\n\n        case 'm':\n          return this.actualFormat.indexOf('m')
    !== -1;\n\n        case 's':\n          return this.actualFormat.indexOf('s')
    !== -1;\n\n        case 'a':\n        case 'A':\n          return this.actualFormat.toLowerCase().indexOf('a')
    !== -1;\n\n        default:\n          return false;\n      }\n    };\n\n    _proto._hasTime
    = function _hasTime() {\n      return this._isEnabled('h') || this._isEnabled('m')
    || this._isEnabled('s');\n    };\n\n    _proto._hasDate = function _hasDate()
    {\n      return this._isEnabled('y') || this._isEnabled('M') || this._isEnabled('d');\n
    \   };\n\n    _proto._dataToOptions = function _dataToOptions() {\n      var eData
    = this._element.data();\n\n      var dataOptions = {};\n\n      if (eData.dateOptions
    && eData.dateOptions instanceof Object) {\n        dataOptions = $.extend(true,
    dataOptions, eData.dateOptions);\n      }\n\n      $.each(this._options, function
    (key) {\n        var attributeName = \"date\" + key.charAt(0).toUpperCase() +
    key.slice(1); //todo data api key\n\n        if (eData[attributeName] !== undefined)
    {\n          dataOptions[key] = eData[attributeName];\n        } else {\n          delete
    dataOptions[key];\n        }\n      });\n      return dataOptions;\n    };\n\n
    \   _proto._format = function _format() {\n      return this._options.format ||
    'YYYY-MM-DD HH:mm';\n    };\n\n    _proto._areSameDates = function _areSameDates(a,
    b) {\n      var format = this._format();\n\n      return a && b && (a.isSame(b)
    || moment(a.format(format), format).isSame(moment(b.format(format), format)));\n
    \   };\n\n    _proto._notifyEvent = function _notifyEvent(e) {\n      if (e.type
    === DateTimePicker.Event.CHANGE) {\n        this._notifyChangeEventContext = this._notifyChangeEventContext
    || 0;\n        this._notifyChangeEventContext++;\n\n        if (e.date && this._areSameDates(e.date,
    e.oldDate) || !e.isClear && !e.date && !e.oldDate || this._notifyChangeEventContext
    > 1) {\n          this._notifyChangeEventContext = void 0;\n          return;\n
    \       }\n\n        this._handlePromptTimeIfNeeded(e);\n      }\n\n      this._element.trigger(e);\n\n
    \     this._notifyChangeEventContext = void 0;\n    };\n\n    _proto._handlePromptTimeIfNeeded
    = function _handlePromptTimeIfNeeded(e) {\n      if (this._options.promptTimeOnDateChange)
    {\n        if (!e.oldDate && this._options.useCurrent) {\n          // First time
    ever. If useCurrent option is set to true (default), do nothing\n          //
    because the first date is selected automatically.\n          return;\n        }
    else if (e.oldDate && e.date && (e.oldDate.format('YYYY-MM-DD') === e.date.format('YYYY-MM-DD')
    || e.oldDate.format('YYYY-MM-DD') !== e.date.format('YYYY-MM-DD') && e.oldDate.format('HH:mm:ss')
    !== e.date.format('HH:mm:ss'))) {\n          // Date didn't change (time did)
    or date changed because time did.\n          return;\n        }\n\n        var
    that = this;\n        clearTimeout(this._currentPromptTimeTimeout);\n        this._currentPromptTimeTimeout
    = setTimeout(function () {\n          if (that.widget) {\n            that.widget.find('[data-action=\"togglePicker\"]').click();\n
    \         }\n        }, this._options.promptTimeOnDateChangeTransitionDelay);\n
    \     }\n    };\n\n    _proto._viewUpdate = function _viewUpdate(e) {\n      if
    (e === 'y') {\n        e = 'YYYY';\n      }\n\n      this._notifyEvent({\n        type:
    DateTimePicker.Event.UPDATE,\n        change: e,\n        viewDate: this._viewDate.clone()\n
    \     });\n    };\n\n    _proto._showMode = function _showMode(dir) {\n      if
    (!this.widget) {\n        return;\n      }\n\n      if (dir) {\n        this.currentViewMode
    = Math.max(this.MinViewModeNumber, Math.min(3, this.currentViewMode + dir));\n
    \     }\n\n      this.widget.find('.datepicker > div').hide().filter(\".datepicker-\"
    + DatePickerModes[this.currentViewMode].CLASS_NAME).show();\n    };\n\n    _proto._isInDisabledDates
    = function _isInDisabledDates(testDate) {\n      return this._options.disabledDates[testDate.format('YYYY-MM-DD')]
    === true;\n    };\n\n    _proto._isInEnabledDates = function _isInEnabledDates(testDate)
    {\n      return this._options.enabledDates[testDate.format('YYYY-MM-DD')] ===
    true;\n    };\n\n    _proto._isInDisabledHours = function _isInDisabledHours(testDate)
    {\n      return this._options.disabledHours[testDate.format('H')] === true;\n
    \   };\n\n    _proto._isInEnabledHours = function _isInEnabledHours(testDate)
    {\n      return this._options.enabledHours[testDate.format('H')] === true;\n    };\n\n
    \   _proto._isValid = function _isValid(targetMoment, granularity) {\n      if
    (!targetMoment || !targetMoment.isValid()) {\n        return false;\n      }\n\n
    \     if (this._options.disabledDates && granularity === 'd' && this._isInDisabledDates(targetMoment))
    {\n        return false;\n      }\n\n      if (this._options.enabledDates && granularity
    === 'd' && !this._isInEnabledDates(targetMoment)) {\n        return false;\n      }\n\n
    \     if (this._options.minDate && targetMoment.isBefore(this._options.minDate,
    granularity)) {\n        return false;\n      }\n\n      if (this._options.maxDate
    && targetMoment.isAfter(this._options.maxDate, granularity)) {\n        return
    false;\n      }\n\n      if (this._options.daysOfWeekDisabled && granularity ===
    'd' && this._options.daysOfWeekDisabled.indexOf(targetMoment.day()) !== -1) {\n
    \       return false;\n      }\n\n      if (this._options.disabledHours && (granularity
    === 'h' || granularity === 'm' || granularity === 's') && this._isInDisabledHours(targetMoment))
    {\n        return false;\n      }\n\n      if (this._options.enabledHours && (granularity
    === 'h' || granularity === 'm' || granularity === 's') && !this._isInEnabledHours(targetMoment))
    {\n        return false;\n      }\n\n      if (this._options.disabledTimeIntervals
    && (granularity === 'h' || granularity === 'm' || granularity === 's')) {\n        var
    found = false;\n        $.each(this._options.disabledTimeIntervals, function ()
    {\n          if (targetMoment.isBetween(this[0], this[1])) {\n            found
    = true;\n            return false;\n          }\n        });\n\n        if (found)
    {\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n
    \   _proto._parseInputDate = function _parseInputDate(inputDate, _temp) {\n      var
    _ref = _temp === void 0 ? {} : _temp,\n          _ref$isPickerShow = _ref.isPickerShow,\n
    \         isPickerShow = _ref$isPickerShow === void 0 ? false : _ref$isPickerShow;\n\n
    \     if (this._options.parseInputDate === undefined || isPickerShow) {\n        if
    (!moment.isMoment(inputDate)) {\n          inputDate = this.getMoment(inputDate);\n
    \       }\n      } else {\n        inputDate = this._options.parseInputDate(inputDate);\n
    \     } //inputDate.locale(this.options.locale);\n\n\n      return inputDate;\n
    \   };\n\n    _proto._keydown = function _keydown(e) {\n      var handler = null,\n
    \         index,\n          index2,\n          keyBindKeys,\n          allModifiersPressed;\n
    \     var pressedKeys = [],\n          pressedModifiers = {},\n          currentKey
    = e.which,\n          pressed = 'p';\n      keyState[currentKey] = pressed;\n\n
    \     for (index in keyState) {\n        if (keyState.hasOwnProperty(index) &&
    keyState[index] === pressed) {\n          pressedKeys.push(index);\n\n          if
    (parseInt(index, 10) !== currentKey) {\n            pressedModifiers[index] =
    true;\n          }\n        }\n      }\n\n      for (index in this._options.keyBinds)
    {\n        if (this._options.keyBinds.hasOwnProperty(index) && typeof this._options.keyBinds[index]
    === 'function') {\n          keyBindKeys = index.split(' ');\n\n          if (keyBindKeys.length
    === pressedKeys.length && KeyMap[currentKey] === keyBindKeys[keyBindKeys.length
    - 1]) {\n            allModifiersPressed = true;\n\n            for (index2 =
    keyBindKeys.length - 2; index2 >= 0; index2--) {\n              if (!(KeyMap[keyBindKeys[index2]]
    in pressedModifiers)) {\n                allModifiersPressed = false;\n                break;\n
    \             }\n            }\n\n            if (allModifiersPressed) {\n              handler
    = this._options.keyBinds[index];\n              break;\n            }\n          }\n
    \       }\n      }\n\n      if (handler) {\n        if (handler.call(this)) {\n
    \         e.stopPropagation();\n          e.preventDefault();\n        }\n      }\n
    \   } //noinspection JSMethodCanBeStatic,SpellCheckingInspection\n    ;\n\n    _proto._keyup
    = function _keyup(e) {\n      keyState[e.which] = 'r';\n\n      if (keyPressHandled[e.which])
    {\n        keyPressHandled[e.which] = false;\n        e.stopPropagation();\n        e.preventDefault();\n
    \     }\n    };\n\n    _proto._indexGivenDates = function _indexGivenDates(givenDatesArray)
    {\n      // Store given enabledDates and disabledDates as keys.\n      // This
    way we can check their existence in O(1) time instead of looping through whole
    array.\n      // (for example: options.enabledDates['2014-02-27'] === true)\n
    \     var givenDatesIndexed = {},\n          self = this;\n      $.each(givenDatesArray,
    function () {\n        var dDate = self._parseInputDate(this);\n\n        if (dDate.isValid())
    {\n          givenDatesIndexed[dDate.format('YYYY-MM-DD')] = true;\n        }\n
    \     });\n      return Object.keys(givenDatesIndexed).length ? givenDatesIndexed
    : false;\n    };\n\n    _proto._indexGivenHours = function _indexGivenHours(givenHoursArray)
    {\n      // Store given enabledHours and disabledHours as keys.\n      // This
    way we can check their existence in O(1) time instead of looping through whole
    array.\n      // (for example: options.enabledHours['2014-02-27'] === true)\n
    \     var givenHoursIndexed = {};\n      $.each(givenHoursArray, function () {\n
    \       givenHoursIndexed[this] = true;\n      });\n      return Object.keys(givenHoursIndexed).length
    ? givenHoursIndexed : false;\n    };\n\n    _proto._initFormatting = function
    _initFormatting() {\n      var format = this._options.format || 'L LT',\n          self
    = this;\n      this.actualFormat = format.replace(/(\\[[^\\[]*])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
    function (formatInput) {\n        return (self.isInitFormatting && self._options.date
    === null ? self.getMoment() : self._dates[0]).localeData().longDateFormat(formatInput)
    || formatInput; //todo taking the first date should be ok\n      });\n      this.parseFormats
    = this._options.extraFormats ? this._options.extraFormats.slice() : [];\n\n      if
    (this.parseFormats.indexOf(format) < 0 && this.parseFormats.indexOf(this.actualFormat)
    < 0) {\n        this.parseFormats.push(this.actualFormat);\n      }\n\n      this.use24Hours
    = this.actualFormat.toLowerCase().indexOf('a') < 1 && this.actualFormat.replace(/\\[.*?]/g,
    '').indexOf('h') < 1;\n\n      if (this._isEnabled('y')) {\n        this.MinViewModeNumber
    = 2;\n      }\n\n      if (this._isEnabled('M')) {\n        this.MinViewModeNumber
    = 1;\n      }\n\n      if (this._isEnabled('d')) {\n        this.MinViewModeNumber
    = 0;\n      }\n\n      this.currentViewMode = Math.max(this.MinViewModeNumber,
    this.currentViewMode);\n\n      if (!this.unset) {\n        this._setValue(this._dates[0],
    0);\n      }\n    };\n\n    _proto._getLastPickedDate = function _getLastPickedDate()
    {\n      var lastPickedDate = this._dates[this._getLastPickedDateIndex()];\n\n
    \     if (!lastPickedDate && this._options.allowMultidate) {\n        lastPickedDate
    = moment(new Date());\n      }\n\n      return lastPickedDate;\n    };\n\n    _proto._getLastPickedDateIndex
    = function _getLastPickedDateIndex() {\n      return this._dates.length - 1;\n
    \   } //public\n    ;\n\n    _proto.getMoment = function getMoment(d) {\n      var
    returnMoment;\n\n      if (d === undefined || d === null) {\n        // TODO:
    Should this use format?\n        returnMoment = moment().clone().locale(this._options.locale);\n
    \     } else if (this._hasTimeZone()) {\n        // There is a string to parse
    and a default time zone\n        // parse with the tz function which takes a default
    time zone if it is not in the format string\n        returnMoment = moment.tz(d,
    this.parseFormats, this._options.locale, this._options.useStrict, this._options.timeZone);\n
    \     } else {\n        returnMoment = moment(d, this.parseFormats, this._options.locale,
    this._options.useStrict);\n      }\n\n      if (this._hasTimeZone()) {\n        returnMoment.tz(this._options.timeZone);\n
    \     }\n\n      return returnMoment;\n    };\n\n    _proto.toggle = function
    toggle() {\n      return this.widget ? this.hide() : this.show();\n    };\n\n
    \   _proto.readonly = function readonly(_readonly) {\n      if (arguments.length
    === 0) {\n        return this._options.readonly;\n      }\n\n      if (typeof
    _readonly !== 'boolean') {\n        throw new TypeError('readonly() expects a
    boolean parameter');\n      }\n\n      this._options.readonly = _readonly;\n\n
    \     if (this.input !== undefined) {\n        this.input.prop('readonly', this._options.readonly);\n
    \     }\n\n      if (this.widget) {\n        this.hide();\n        this.show();\n
    \     }\n    };\n\n    _proto.ignoreReadonly = function ignoreReadonly(_ignoreReadonly)
    {\n      if (arguments.length === 0) {\n        return this._options.ignoreReadonly;\n
    \     }\n\n      if (typeof _ignoreReadonly !== 'boolean') {\n        throw new
    TypeError('ignoreReadonly() expects a boolean parameter');\n      }\n\n      this._options.ignoreReadonly
    = _ignoreReadonly;\n    };\n\n    _proto.options = function options(newOptions)
    {\n      if (arguments.length === 0) {\n        return $.extend(true, {}, this._options);\n
    \     }\n\n      if (!(newOptions instanceof Object)) {\n        throw new TypeError('options()
    this.options parameter should be an object');\n      }\n\n      $.extend(true,
    this._options, newOptions);\n      var self = this,\n          optionsKeys = Object.keys(this._options).sort(optionsSortFn);\n
    \     $.each(optionsKeys, function (i, key) {\n        var value = self._options[key];\n\n
    \       if (self[key] !== undefined) {\n          if (self.isInit && key === 'date')
    {\n            self.hasInitDate = true;\n            self.initDate = value;\n
    \           return;\n          }\n\n          self[key](value);\n        }\n      });\n
    \   };\n\n    _proto.date = function date(newDate, index) {\n      index = index
    || 0;\n\n      if (arguments.length === 0) {\n        if (this.unset) {\n          return
    null;\n        }\n\n        if (this._options.allowMultidate) {\n          return
    this._dates.join(this._options.multidateSeparator);\n        } else {\n          return
    this._dates[index].clone();\n        }\n      }\n\n      if (newDate !== null
    && typeof newDate !== 'string' && !moment.isMoment(newDate) && !(newDate instanceof
    Date)) {\n        throw new TypeError('date() parameter must be one of [null,
    string, moment or Date]');\n      }\n\n      if (typeof newDate === 'string' &&
    isValidDateTimeStr(newDate)) {\n        newDate = new Date(newDate);\n      }\n\n
    \     this._setValue(newDate === null ? null : this._parseInputDate(newDate),
    index);\n    };\n\n    _proto.updateOnlyThroughDateOption = function updateOnlyThroughDateOption(_updateOnlyThroughDateOption)
    {\n      if (typeof _updateOnlyThroughDateOption !== 'boolean') {\n        throw
    new TypeError('updateOnlyThroughDateOption() expects a boolean parameter');\n
    \     }\n\n      this._options.updateOnlyThroughDateOption = _updateOnlyThroughDateOption;\n
    \   };\n\n    _proto.format = function format(newFormat) {\n      if (arguments.length
    === 0) {\n        return this._options.format;\n      }\n\n      if (typeof newFormat
    !== 'string' && (typeof newFormat !== 'boolean' || newFormat !== false)) {\n        throw
    new TypeError(\"format() expects a string or boolean:false parameter \" + newFormat);\n
    \     }\n\n      this._options.format = newFormat;\n\n      if (this.actualFormat)
    {\n        this._initFormatting(); // reinitialize formatting\n\n      }\n    };\n\n
    \   _proto.timeZone = function timeZone(newZone) {\n      if (arguments.length
    === 0) {\n        return this._options.timeZone;\n      }\n\n      if (typeof
    newZone !== 'string') {\n        throw new TypeError('newZone() expects a string
    parameter');\n      }\n\n      this._options.timeZone = newZone;\n    };\n\n    _proto.dayViewHeaderFormat
    = function dayViewHeaderFormat(newFormat) {\n      if (arguments.length === 0)
    {\n        return this._options.dayViewHeaderFormat;\n      }\n\n      if (typeof
    newFormat !== 'string') {\n        throw new TypeError('dayViewHeaderFormat()
    expects a string parameter');\n      }\n\n      this._options.dayViewHeaderFormat
    = newFormat;\n    };\n\n    _proto.extraFormats = function extraFormats(formats)
    {\n      if (arguments.length === 0) {\n        return this._options.extraFormats;\n
    \     }\n\n      if (formats !== false && !(formats instanceof Array)) {\n        throw
    new TypeError('extraFormats() expects an array or false parameter');\n      }\n\n
    \     this._options.extraFormats = formats;\n\n      if (this.parseFormats) {\n
    \       this._initFormatting(); // reinit formatting\n\n      }\n    };\n\n    _proto.disabledDates
    = function disabledDates(dates) {\n      if (arguments.length === 0) {\n        return
    this._options.disabledDates ? $.extend({}, this._options.disabledDates) : this._options.disabledDates;\n
    \     }\n\n      if (!dates) {\n        this._options.disabledDates = false;\n\n
    \       this._update();\n\n        return true;\n      }\n\n      if (!(dates
    instanceof Array)) {\n        throw new TypeError('disabledDates() expects an
    array parameter');\n      }\n\n      this._options.disabledDates = this._indexGivenDates(dates);\n
    \     this._options.enabledDates = false;\n\n      this._update();\n    };\n\n
    \   _proto.enabledDates = function enabledDates(dates) {\n      if (arguments.length
    === 0) {\n        return this._options.enabledDates ? $.extend({}, this._options.enabledDates)
    : this._options.enabledDates;\n      }\n\n      if (!dates) {\n        this._options.enabledDates
    = false;\n\n        this._update();\n\n        return true;\n      }\n\n      if
    (!(dates instanceof Array)) {\n        throw new TypeError('enabledDates() expects
    an array parameter');\n      }\n\n      this._options.enabledDates = this._indexGivenDates(dates);\n
    \     this._options.disabledDates = false;\n\n      this._update();\n    };\n\n
    \   _proto.daysOfWeekDisabled = function daysOfWeekDisabled(_daysOfWeekDisabled)
    {\n      if (arguments.length === 0) {\n        return this._options.daysOfWeekDisabled.splice(0);\n
    \     }\n\n      if (typeof _daysOfWeekDisabled === 'boolean' && !_daysOfWeekDisabled)
    {\n        this._options.daysOfWeekDisabled = false;\n\n        this._update();\n\n
    \       return true;\n      }\n\n      if (!(_daysOfWeekDisabled instanceof Array))
    {\n        throw new TypeError('daysOfWeekDisabled() expects an array parameter');\n
    \     }\n\n      this._options.daysOfWeekDisabled = _daysOfWeekDisabled.reduce(function
    (previousValue, currentValue) {\n        currentValue = parseInt(currentValue,
    10);\n\n        if (currentValue > 6 || currentValue < 0 || isNaN(currentValue))
    {\n          return previousValue;\n        }\n\n        if (previousValue.indexOf(currentValue)
    === -1) {\n          previousValue.push(currentValue);\n        }\n\n        return
    previousValue;\n      }, []).sort();\n\n      if (this._options.useCurrent &&
    !this._options.keepInvalid) {\n        for (var i = 0; i < this._dates.length;
    i++) {\n          var tries = 0;\n\n          while (!this._isValid(this._dates[i],
    'd')) {\n            this._dates[i].add(1, 'd');\n\n            if (tries ===
    31) {\n              throw 'Tried 31 times to find a valid date';\n            }\n\n
    \           tries++;\n          }\n\n          this._setValue(this._dates[i],
    i);\n        }\n      }\n\n      this._update();\n    };\n\n    _proto.maxDate
    = function maxDate(_maxDate) {\n      if (arguments.length === 0) {\n        return
    this._options.maxDate ? this._options.maxDate.clone() : this._options.maxDate;\n
    \     }\n\n      if (typeof _maxDate === 'boolean' && _maxDate === false) {\n
    \       this._options.maxDate = false;\n\n        this._update();\n\n        return
    true;\n      }\n\n      if (typeof _maxDate === 'string') {\n        if (_maxDate
    === 'now' || _maxDate === 'moment') {\n          _maxDate = this.getMoment();\n
    \       }\n      }\n\n      var parsedDate = this._parseInputDate(_maxDate);\n\n
    \     if (!parsedDate.isValid()) {\n        throw new TypeError(\"maxDate() Could
    not parse date parameter: \" + _maxDate);\n      }\n\n      if (this._options.minDate
    && parsedDate.isBefore(this._options.minDate)) {\n        throw new TypeError(\"maxDate()
    date parameter is before this.options.minDate: \" + parsedDate.format(this.actualFormat));\n
    \     }\n\n      this._options.maxDate = parsedDate;\n\n      for (var i = 0;
    i < this._dates.length; i++) {\n        if (this._options.useCurrent && !this._options.keepInvalid
    && this._dates[i].isAfter(_maxDate)) {\n          this._setValue(this._options.maxDate,
    i);\n        }\n      }\n\n      if (this._viewDate.isAfter(parsedDate)) {\n        this._viewDate
    = parsedDate.clone().subtract(this._options.stepping, 'm');\n      }\n\n      this._update();\n
    \   };\n\n    _proto.minDate = function minDate(_minDate) {\n      if (arguments.length
    === 0) {\n        return this._options.minDate ? this._options.minDate.clone()
    : this._options.minDate;\n      }\n\n      if (typeof _minDate === 'boolean' &&
    _minDate === false) {\n        this._options.minDate = false;\n\n        this._update();\n\n
    \       return true;\n      }\n\n      if (typeof _minDate === 'string') {\n        if
    (_minDate === 'now' || _minDate === 'moment') {\n          _minDate = this.getMoment();\n
    \       }\n      }\n\n      var parsedDate = this._parseInputDate(_minDate);\n\n
    \     if (!parsedDate.isValid()) {\n        throw new TypeError(\"minDate() Could
    not parse date parameter: \" + _minDate);\n      }\n\n      if (this._options.maxDate
    && parsedDate.isAfter(this._options.maxDate)) {\n        throw new TypeError(\"minDate()
    date parameter is after this.options.maxDate: \" + parsedDate.format(this.actualFormat));\n
    \     }\n\n      this._options.minDate = parsedDate;\n\n      for (var i = 0;
    i < this._dates.length; i++) {\n        if (this._options.useCurrent && !this._options.keepInvalid
    && this._dates[i].isBefore(_minDate)) {\n          this._setValue(this._options.minDate,
    i);\n        }\n      }\n\n      if (this._viewDate.isBefore(parsedDate)) {\n
    \       this._viewDate = parsedDate.clone().add(this._options.stepping, 'm');\n
    \     }\n\n      this._update();\n    };\n\n    _proto.defaultDate = function
    defaultDate(_defaultDate) {\n      if (arguments.length === 0) {\n        return
    this._options.defaultDate ? this._options.defaultDate.clone() : this._options.defaultDate;\n
    \     }\n\n      if (!_defaultDate) {\n        this._options.defaultDate = false;\n
    \       return true;\n      }\n\n      if (typeof _defaultDate === 'string') {\n
    \       if (_defaultDate === 'now' || _defaultDate === 'moment') {\n          _defaultDate
    = this.getMoment();\n        } else {\n          _defaultDate = this.getMoment(_defaultDate);\n
    \       }\n      }\n\n      var parsedDate = this._parseInputDate(_defaultDate);\n\n
    \     if (!parsedDate.isValid()) {\n        throw new TypeError(\"defaultDate()
    Could not parse date parameter: \" + _defaultDate);\n      }\n\n      if (!this._isValid(parsedDate))
    {\n        throw new TypeError('defaultDate() date passed is invalid according
    to component setup validations');\n      }\n\n      this._options.defaultDate
    = parsedDate;\n\n      if (this._options.defaultDate && this._options.inline ||
    this.input !== undefined && this.input.val().trim() === '') {\n        this._setValue(this._options.defaultDate,
    0);\n      }\n    };\n\n    _proto.locale = function locale(_locale) {\n      if
    (arguments.length === 0) {\n        return this._options.locale;\n      }\n\n
    \     if (!moment.localeData(_locale)) {\n        throw new TypeError(\"locale()
    locale \" + _locale + \" is not loaded from moment locales!\");\n      }\n\n      this._options.locale
    = _locale;\n\n      for (var i = 0; i < this._dates.length; i++) {\n        this._dates[i].locale(this._options.locale);\n
    \     }\n\n      this._viewDate.locale(this._options.locale);\n\n      if (this.actualFormat)
    {\n        this._initFormatting(); // reinitialize formatting\n\n      }\n\n      if
    (this.widget) {\n        this.hide();\n        this.show();\n      }\n    };\n\n
    \   _proto.stepping = function stepping(_stepping) {\n      if (arguments.length
    === 0) {\n        return this._options.stepping;\n      }\n\n      _stepping =
    parseInt(_stepping, 10);\n\n      if (isNaN(_stepping) || _stepping < 1) {\n        _stepping
    = 1;\n      }\n\n      this._options.stepping = _stepping;\n    };\n\n    _proto.useCurrent
    = function useCurrent(_useCurrent) {\n      var useCurrentOptions = ['year', 'month',
    'day', 'hour', 'minute'];\n\n      if (arguments.length === 0) {\n        return
    this._options.useCurrent;\n      }\n\n      if (typeof _useCurrent !== 'boolean'
    && typeof _useCurrent !== 'string') {\n        throw new TypeError('useCurrent()
    expects a boolean or string parameter');\n      }\n\n      if (typeof _useCurrent
    === 'string' && useCurrentOptions.indexOf(_useCurrent.toLowerCase()) === -1) {\n
    \       throw new TypeError(\"useCurrent() expects a string parameter of \" +
    useCurrentOptions.join(', '));\n      }\n\n      this._options.useCurrent = _useCurrent;\n
    \   };\n\n    _proto.collapse = function collapse(_collapse) {\n      if (arguments.length
    === 0) {\n        return this._options.collapse;\n      }\n\n      if (typeof
    _collapse !== 'boolean') {\n        throw new TypeError('collapse() expects a
    boolean parameter');\n      }\n\n      if (this._options.collapse === _collapse)
    {\n        return true;\n      }\n\n      this._options.collapse = _collapse;\n\n
    \     if (this.widget) {\n        this.hide();\n        this.show();\n      }\n
    \   };\n\n    _proto.icons = function icons(_icons) {\n      if (arguments.length
    === 0) {\n        return $.extend({}, this._options.icons);\n      }\n\n      if
    (!(_icons instanceof Object)) {\n        throw new TypeError('icons() expects
    parameter to be an Object');\n      }\n\n      $.extend(this._options.icons, _icons);\n\n
    \     if (this.widget) {\n        this.hide();\n        this.show();\n      }\n
    \   };\n\n    _proto.tooltips = function tooltips(_tooltips) {\n      if (arguments.length
    === 0) {\n        return $.extend({}, this._options.tooltips);\n      }\n\n      if
    (!(_tooltips instanceof Object)) {\n        throw new TypeError('tooltips() expects
    parameter to be an Object');\n      }\n\n      $.extend(this._options.tooltips,
    _tooltips);\n\n      if (this.widget) {\n        this.hide();\n        this.show();\n
    \     }\n    };\n\n    _proto.useStrict = function useStrict(_useStrict) {\n      if
    (arguments.length === 0) {\n        return this._options.useStrict;\n      }\n\n
    \     if (typeof _useStrict !== 'boolean') {\n        throw new TypeError('useStrict()
    expects a boolean parameter');\n      }\n\n      this._options.useStrict = _useStrict;\n
    \   };\n\n    _proto.sideBySide = function sideBySide(_sideBySide) {\n      if
    (arguments.length === 0) {\n        return this._options.sideBySide;\n      }\n\n
    \     if (typeof _sideBySide !== 'boolean') {\n        throw new TypeError('sideBySide()
    expects a boolean parameter');\n      }\n\n      this._options.sideBySide = _sideBySide;\n\n
    \     if (this.widget) {\n        this.hide();\n        this.show();\n      }\n
    \   };\n\n    _proto.viewMode = function viewMode(_viewMode) {\n      if (arguments.length
    === 0) {\n        return this._options.viewMode;\n      }\n\n      if (typeof
    _viewMode !== 'string') {\n        throw new TypeError('viewMode() expects a string
    parameter');\n      }\n\n      if (DateTimePicker.ViewModes.indexOf(_viewMode)
    === -1) {\n        throw new TypeError(\"viewMode() parameter must be one of (\"
    + DateTimePicker.ViewModes.join(', ') + \") value\");\n      }\n\n      this._options.viewMode
    = _viewMode;\n      this.currentViewMode = Math.max(DateTimePicker.ViewModes.indexOf(_viewMode)
    - 1, this.MinViewModeNumber);\n\n      this._showMode();\n    };\n\n    _proto.calendarWeeks
    = function calendarWeeks(_calendarWeeks) {\n      if (arguments.length === 0)
    {\n        return this._options.calendarWeeks;\n      }\n\n      if (typeof _calendarWeeks
    !== 'boolean') {\n        throw new TypeError('calendarWeeks() expects parameter
    to be a boolean value');\n      }\n\n      this._options.calendarWeeks = _calendarWeeks;\n\n
    \     this._update();\n    };\n\n    _proto.buttons = function buttons(_buttons)
    {\n      if (arguments.length === 0) {\n        return $.extend({}, this._options.buttons);\n
    \     }\n\n      if (!(_buttons instanceof Object)) {\n        throw new TypeError('buttons()
    expects parameter to be an Object');\n      }\n\n      $.extend(this._options.buttons,
    _buttons);\n\n      if (typeof this._options.buttons.showToday !== 'boolean')
    {\n        throw new TypeError('buttons.showToday expects a boolean parameter');\n
    \     }\n\n      if (typeof this._options.buttons.showClear !== 'boolean') {\n
    \       throw new TypeError('buttons.showClear expects a boolean parameter');\n
    \     }\n\n      if (typeof this._options.buttons.showClose !== 'boolean') {\n
    \       throw new TypeError('buttons.showClose expects a boolean parameter');\n
    \     }\n\n      if (this.widget) {\n        this.hide();\n        this.show();\n
    \     }\n    };\n\n    _proto.keepOpen = function keepOpen(_keepOpen) {\n      if
    (arguments.length === 0) {\n        return this._options.keepOpen;\n      }\n\n
    \     if (typeof _keepOpen !== 'boolean') {\n        throw new TypeError('keepOpen()
    expects a boolean parameter');\n      }\n\n      this._options.keepOpen = _keepOpen;\n
    \   };\n\n    _proto.focusOnShow = function focusOnShow(_focusOnShow) {\n      if
    (arguments.length === 0) {\n        return this._options.focusOnShow;\n      }\n\n
    \     if (typeof _focusOnShow !== 'boolean') {\n        throw new TypeError('focusOnShow()
    expects a boolean parameter');\n      }\n\n      this._options.focusOnShow = _focusOnShow;\n
    \   };\n\n    _proto.inline = function inline(_inline) {\n      if (arguments.length
    === 0) {\n        return this._options.inline;\n      }\n\n      if (typeof _inline
    !== 'boolean') {\n        throw new TypeError('inline() expects a boolean parameter');\n
    \     }\n\n      this._options.inline = _inline;\n    };\n\n    _proto.clear =
    function clear() {\n      this._setValue(null); //todo\n\n    };\n\n    _proto.keyBinds
    = function keyBinds(_keyBinds) {\n      if (arguments.length === 0) {\n        return
    this._options.keyBinds;\n      }\n\n      this._options.keyBinds = _keyBinds;\n
    \   };\n\n    _proto.debug = function debug(_debug) {\n      if (typeof _debug
    !== 'boolean') {\n        throw new TypeError('debug() expects a boolean parameter');\n
    \     }\n\n      this._options.debug = _debug;\n    };\n\n    _proto.allowInputToggle
    = function allowInputToggle(_allowInputToggle) {\n      if (arguments.length ===
    0) {\n        return this._options.allowInputToggle;\n      }\n\n      if (typeof
    _allowInputToggle !== 'boolean') {\n        throw new TypeError('allowInputToggle()
    expects a boolean parameter');\n      }\n\n      this._options.allowInputToggle
    = _allowInputToggle;\n    };\n\n    _proto.keepInvalid = function keepInvalid(_keepInvalid)
    {\n      if (arguments.length === 0) {\n        return this._options.keepInvalid;\n
    \     }\n\n      if (typeof _keepInvalid !== 'boolean') {\n        throw new TypeError('keepInvalid()
    expects a boolean parameter');\n      }\n\n      this._options.keepInvalid = _keepInvalid;\n
    \   };\n\n    _proto.datepickerInput = function datepickerInput(_datepickerInput)
    {\n      if (arguments.length === 0) {\n        return this._options.datepickerInput;\n
    \     }\n\n      if (typeof _datepickerInput !== 'string') {\n        throw new
    TypeError('datepickerInput() expects a string parameter');\n      }\n\n      this._options.datepickerInput
    = _datepickerInput;\n    };\n\n    _proto.parseInputDate = function parseInputDate(_parseInputDate2)
    {\n      if (arguments.length === 0) {\n        return this._options.parseInputDate;\n
    \     }\n\n      if (typeof _parseInputDate2 !== 'function') {\n        throw
    new TypeError('parseInputDate() should be as function');\n      }\n\n      this._options.parseInputDate
    = _parseInputDate2;\n    };\n\n    _proto.disabledTimeIntervals = function disabledTimeIntervals(_disabledTimeIntervals)
    {\n      if (arguments.length === 0) {\n        return this._options.disabledTimeIntervals
    ? $.extend({}, this._options.disabledTimeIntervals) : this._options.disabledTimeIntervals;\n
    \     }\n\n      if (!_disabledTimeIntervals) {\n        this._options.disabledTimeIntervals
    = false;\n\n        this._update();\n\n        return true;\n      }\n\n      if
    (!(_disabledTimeIntervals instanceof Array)) {\n        throw new TypeError('disabledTimeIntervals()
    expects an array parameter');\n      }\n\n      this._options.disabledTimeIntervals
    = _disabledTimeIntervals;\n\n      this._update();\n    };\n\n    _proto.disabledHours
    = function disabledHours(hours) {\n      if (arguments.length === 0) {\n        return
    this._options.disabledHours ? $.extend({}, this._options.disabledHours) : this._options.disabledHours;\n
    \     }\n\n      if (!hours) {\n        this._options.disabledHours = false;\n\n
    \       this._update();\n\n        return true;\n      }\n\n      if (!(hours
    instanceof Array)) {\n        throw new TypeError('disabledHours() expects an
    array parameter');\n      }\n\n      this._options.disabledHours = this._indexGivenHours(hours);\n
    \     this._options.enabledHours = false;\n\n      if (this._options.useCurrent
    && !this._options.keepInvalid) {\n        for (var i = 0; i < this._dates.length;
    i++) {\n          var tries = 0;\n\n          while (!this._isValid(this._dates[i],
    'h')) {\n            this._dates[i].add(1, 'h');\n\n            if (tries ===
    24) {\n              throw 'Tried 24 times to find a valid date';\n            }\n\n
    \           tries++;\n          }\n\n          this._setValue(this._dates[i],
    i);\n        }\n      }\n\n      this._update();\n    };\n\n    _proto.enabledHours
    = function enabledHours(hours) {\n      if (arguments.length === 0) {\n        return
    this._options.enabledHours ? $.extend({}, this._options.enabledHours) : this._options.enabledHours;\n
    \     }\n\n      if (!hours) {\n        this._options.enabledHours = false;\n\n
    \       this._update();\n\n        return true;\n      }\n\n      if (!(hours
    instanceof Array)) {\n        throw new TypeError('enabledHours() expects an array
    parameter');\n      }\n\n      this._options.enabledHours = this._indexGivenHours(hours);\n
    \     this._options.disabledHours = false;\n\n      if (this._options.useCurrent
    && !this._options.keepInvalid) {\n        for (var i = 0; i < this._dates.length;
    i++) {\n          var tries = 0;\n\n          while (!this._isValid(this._dates[i],
    'h')) {\n            this._dates[i].add(1, 'h');\n\n            if (tries ===
    24) {\n              throw 'Tried 24 times to find a valid date';\n            }\n\n
    \           tries++;\n          }\n\n          this._setValue(this._dates[i],
    i);\n        }\n      }\n\n      this._update();\n    };\n\n    _proto.viewDate
    = function viewDate(newDate) {\n      if (arguments.length === 0) {\n        return
    this._viewDate.clone();\n      }\n\n      if (!newDate) {\n        this._viewDate
    = (this._dates[0] || this.getMoment()).clone();\n        return true;\n      }\n\n
    \     if (typeof newDate !== 'string' && !moment.isMoment(newDate) && !(newDate
    instanceof Date)) {\n        throw new TypeError('viewDate() parameter must be
    one of [string, moment or Date]');\n      }\n\n      this._viewDate = this._parseInputDate(newDate);\n\n
    \     this._update();\n\n      this._viewUpdate(DatePickerModes[this.currentViewMode]
    && DatePickerModes[this.currentViewMode].NAV_FUNCTION);\n    };\n\n    _proto._fillDate
    = function _fillDate() {};\n\n    _proto._useFeatherIcons = function _useFeatherIcons()
    {\n      return this._options.icons.type === 'feather';\n    };\n\n    _proto.allowMultidate
    = function allowMultidate(_allowMultidate) {\n      if (typeof _allowMultidate
    !== 'boolean') {\n        throw new TypeError('allowMultidate() expects a boolean
    parameter');\n      }\n\n      this._options.allowMultidate = _allowMultidate;\n
    \   };\n\n    _proto.multidateSeparator = function multidateSeparator(_multidateSeparator)
    {\n      if (arguments.length === 0) {\n        return this._options.multidateSeparator;\n
    \     }\n\n      if (typeof _multidateSeparator !== 'string') {\n        throw
    new TypeError('multidateSeparator expects a string parameter');\n      }\n\n      this._options.multidateSeparator
    = _multidateSeparator;\n    };\n\n    _createClass(DateTimePicker, null, [{\n
    \     key: \"NAME\",\n      get: function get() {\n        return NAME;\n      }\n
    \     /**\n       * @return {string}\n       */\n\n    }, {\n      key: \"DATA_KEY\",\n
    \     get: function get() {\n        return DATA_KEY;\n      }\n      /**\n       *
    @return {string}\n       */\n\n    }, {\n      key: \"EVENT_KEY\",\n      get:
    function get() {\n        return EVENT_KEY;\n      }\n      /**\n       * @return
    {string}\n       */\n\n    }, {\n      key: \"DATA_API_KEY\",\n      get: function
    get() {\n        return DATA_API_KEY;\n      }\n    }, {\n      key: \"DatePickerModes\",\n
    \     get: function get() {\n        return DatePickerModes;\n      }\n    },
    {\n      key: \"ViewModes\",\n      get: function get() {\n        return ViewModes;\n
    \     }\n    }, {\n      key: \"Event\",\n      get: function get() {\n        return
    Event;\n      }\n    }, {\n      key: \"Selector\",\n      get: function get()
    {\n        return Selector;\n      }\n    }, {\n      key: \"Default\",\n      get:
    function get() {\n        return Default;\n      },\n      set: function set(value)
    {\n        Default = value;\n      }\n    }, {\n      key: \"ClassName\",\n      get:
    function get() {\n        return ClassName;\n      }\n    }]);\n\n    return DateTimePicker;\n
    \ }();\n\n  return DateTimePicker;\n}(jQuery, moment); //noinspection JSUnusedGlobalSymbols\n\n/*
    global DateTimePicker */\n\n/* global feather */\n\n\nvar TempusDominusBootstrap4
    = function ($) {\n  // eslint-disable-line no-unused-vars\n  // ReSharper disable
    once InconsistentNaming\n  var JQUERY_NO_CONFLICT = $.fn[DateTimePicker.NAME],\n
    \     verticalModes = ['top', 'bottom', 'auto'],\n      horizontalModes = ['left',
    'right', 'auto'],\n      toolbarPlacements = ['default', 'top', 'bottom'],\n      getSelectorFromElement
    = function getSelectorFromElement($element) {\n    var selector = $element.data('target'),\n
    \       $selector;\n\n    if (!selector) {\n      selector = $element.attr('href')
    || '';\n      selector = /^#[a-z]/i.test(selector) ? selector : null;\n    }\n\n
    \   $selector = $(selector);\n\n    if ($selector.length === 0) {\n      return
    $element;\n    }\n\n    if (!$selector.data(DateTimePicker.DATA_KEY)) {\n      $.extend({},
    $selector.data(), $(this).data());\n    }\n\n    return $selector;\n  }; // ReSharper
    disable once InconsistentNaming\n\n\n  var TempusDominusBootstrap4 = /*#__PURE__*/function
    (_DateTimePicker) {\n    _inheritsLoose(TempusDominusBootstrap4, _DateTimePicker);\n\n
    \   function TempusDominusBootstrap4(element, options) {\n      var _this;\n\n
    \     _this = _DateTimePicker.call(this, element, options) || this;\n\n      _this._init();\n\n
    \     return _this;\n    }\n\n    var _proto2 = TempusDominusBootstrap4.prototype;\n\n
    \   _proto2._init = function _init() {\n      if (this._element.hasClass('input-group'))
    {\n        var datepickerButton = this._element.find('.datepickerbutton');\n\n
    \       if (datepickerButton.length === 0) {\n          this.component = this._element.find('[data-toggle=\"datetimepicker\"]');\n
    \       } else {\n          this.component = datepickerButton;\n        }\n      }\n
    \   };\n\n    _proto2._iconTag = function _iconTag(iconName) {\n      if (typeof
    feather !== 'undefined' && this._useFeatherIcons() && feather.icons[iconName])
    {\n        return $('<span>').html(feather.icons[iconName].toSvg());\n      }
    else {\n        return $('<span>').addClass(iconName);\n      }\n    };\n\n    _proto2._getDatePickerTemplate
    = function _getDatePickerTemplate() {\n      var headTemplate = $('<thead>').append($('<tr>').append($('<th>').addClass('prev').attr('data-action',
    'previous').append(this._iconTag(this._options.icons.previous))).append($('<th>').addClass('picker-switch').attr('data-action',
    'pickerSwitch').attr('colspan', \"\" + (this._options.calendarWeeks ? '6' : '5'))).append($('<th>').addClass('next').attr('data-action',
    'next').append(this._iconTag(this._options.icons.next)))),\n          contTemplate
    = $('<tbody>').append($('<tr>').append($('<td>').attr('colspan', \"\" + (this._options.calendarWeeks
    ? '8' : '7'))));\n      return [$('<div>').addClass('datepicker-days').append($('<table>').addClass('table
    table-sm').append(headTemplate).append($('<tbody>'))), $('<div>').addClass('datepicker-months').append($('<table>').addClass('table-condensed').append(headTemplate.clone()).append(contTemplate.clone())),
    $('<div>').addClass('datepicker-years').append($('<table>').addClass('table-condensed').append(headTemplate.clone()).append(contTemplate.clone())),
    $('<div>').addClass('datepicker-decades').append($('<table>').addClass('table-condensed').append(headTemplate.clone()).append(contTemplate.clone()))];\n
    \   };\n\n    _proto2._getTimePickerMainTemplate = function _getTimePickerMainTemplate()
    {\n      var topRow = $('<tr>'),\n          middleRow = $('<tr>'),\n          bottomRow
    = $('<tr>');\n\n      if (this._isEnabled('h')) {\n        topRow.append($('<td>').append($('<a>').attr({\n
    \         href: '#',\n          tabindex: '-1',\n          'title': this._options.tooltips.incrementHour\n
    \       }).addClass('btn').attr('data-action', 'incrementHours').append(this._iconTag(this._options.icons.up))));\n
    \       middleRow.append($('<td>').append($('<span>').addClass('timepicker-hour').attr({\n
    \         'data-time-component': 'hours',\n          'title': this._options.tooltips.pickHour\n
    \       }).attr('data-action', 'showHours')));\n        bottomRow.append($('<td>').append($('<a>').attr({\n
    \         href: '#',\n          tabindex: '-1',\n          'title': this._options.tooltips.decrementHour\n
    \       }).addClass('btn').attr('data-action', 'decrementHours').append(this._iconTag(this._options.icons.down))));\n
    \     }\n\n      if (this._isEnabled('m')) {\n        if (this._isEnabled('h'))
    {\n          topRow.append($('<td>').addClass('separator'));\n          middleRow.append($('<td>').addClass('separator').html(':'));\n
    \         bottomRow.append($('<td>').addClass('separator'));\n        }\n\n        topRow.append($('<td>').append($('<a>').attr({\n
    \         href: '#',\n          tabindex: '-1',\n          'title': this._options.tooltips.incrementMinute\n
    \       }).addClass('btn').attr('data-action', 'incrementMinutes').append(this._iconTag(this._options.icons.up))));\n
    \       middleRow.append($('<td>').append($('<span>').addClass('timepicker-minute').attr({\n
    \         'data-time-component': 'minutes',\n          'title': this._options.tooltips.pickMinute\n
    \       }).attr('data-action', 'showMinutes')));\n        bottomRow.append($('<td>').append($('<a>').attr({\n
    \         href: '#',\n          tabindex: '-1',\n          'title': this._options.tooltips.decrementMinute\n
    \       }).addClass('btn').attr('data-action', 'decrementMinutes').append(this._iconTag(this._options.icons.down))));\n
    \     }\n\n      if (this._isEnabled('s')) {\n        if (this._isEnabled('m'))
    {\n          topRow.append($('<td>').addClass('separator'));\n          middleRow.append($('<td>').addClass('separator').html(':'));\n
    \         bottomRow.append($('<td>').addClass('separator'));\n        }\n\n        topRow.append($('<td>').append($('<a>').attr({\n
    \         href: '#',\n          tabindex: '-1',\n          'title': this._options.tooltips.incrementSecond\n
    \       }).addClass('btn').attr('data-action', 'incrementSeconds').append(this._iconTag(this._options.icons.up))));\n
    \       middleRow.append($('<td>').append($('<span>').addClass('timepicker-second').attr({\n
    \         'data-time-component': 'seconds',\n          'title': this._options.tooltips.pickSecond\n
    \       }).attr('data-action', 'showSeconds')));\n        bottomRow.append($('<td>').append($('<a>').attr({\n
    \         href: '#',\n          tabindex: '-1',\n          'title': this._options.tooltips.decrementSecond\n
    \       }).addClass('btn').attr('data-action', 'decrementSeconds').append(this._iconTag(this._options.icons.down))));\n
    \     }\n\n      if (!this.use24Hours) {\n        topRow.append($('<td>').addClass('separator'));\n
    \       middleRow.append($('<td>').append($('<button>').addClass('btn btn-primary').attr({\n
    \         'data-action': 'togglePeriod',\n          tabindex: '-1',\n          'title':
    this._options.tooltips.togglePeriod\n        })));\n        bottomRow.append($('<td>').addClass('separator'));\n
    \     }\n\n      return $('<div>').addClass('timepicker-picker').append($('<table>').addClass('table-condensed').append([topRow,
    middleRow, bottomRow]));\n    };\n\n    _proto2._getTimePickerTemplate = function
    _getTimePickerTemplate() {\n      var hoursView = $('<div>').addClass('timepicker-hours').append($('<table>').addClass('table-condensed')),\n
    \         minutesView = $('<div>').addClass('timepicker-minutes').append($('<table>').addClass('table-condensed')),\n
    \         secondsView = $('<div>').addClass('timepicker-seconds').append($('<table>').addClass('table-condensed')),\n
    \         ret = [this._getTimePickerMainTemplate()];\n\n      if (this._isEnabled('h'))
    {\n        ret.push(hoursView);\n      }\n\n      if (this._isEnabled('m')) {\n
    \       ret.push(minutesView);\n      }\n\n      if (this._isEnabled('s')) {\n
    \       ret.push(secondsView);\n      }\n\n      return ret;\n    };\n\n    _proto2._getToolbar
    = function _getToolbar() {\n      var row = [];\n\n      if (this._options.buttons.showToday)
    {\n        row.push($('<td>').append($('<a>').attr({\n          href: '#',\n          tabindex:
    '-1',\n          'data-action': 'today',\n          'title': this._options.tooltips.today\n
    \       }).append(this._iconTag(this._options.icons.today))));\n      }\n\n      if
    (!this._options.sideBySide && this._options.collapse && this._hasDate() && this._hasTime())
    {\n        var title, icon;\n\n        if (this._options.viewMode === 'times')
    {\n          title = this._options.tooltips.selectDate;\n          icon = this._options.icons.date;\n
    \       } else {\n          title = this._options.tooltips.selectTime;\n          icon
    = this._options.icons.time;\n        }\n\n        row.push($('<td>').append($('<a>').attr({\n
    \         href: '#',\n          tabindex: '-1',\n          'data-action': 'togglePicker',\n
    \         'title': title\n        }).append(this._iconTag(icon))));\n      }\n\n
    \     if (this._options.buttons.showClear) {\n        row.push($('<td>').append($('<a>').attr({\n
    \         href: '#',\n          tabindex: '-1',\n          'data-action': 'clear',\n
    \         'title': this._options.tooltips.clear\n        }).append(this._iconTag(this._options.icons.clear))));\n
    \     }\n\n      if (this._options.buttons.showClose) {\n        row.push($('<td>').append($('<a>').attr({\n
    \         href: '#',\n          tabindex: '-1',\n          'data-action': 'close',\n
    \         'title': this._options.tooltips.close\n        }).append(this._iconTag(this._options.icons.close))));\n
    \     }\n\n      return row.length === 0 ? '' : $('<table>').addClass('table-condensed').append($('<tbody>').append($('<tr>').append(row)));\n
    \   };\n\n    _proto2._getTemplate = function _getTemplate() {\n      var template
    = $('<div>').addClass((\"bootstrap-datetimepicker-widget dropdown-menu \" + (this._options.calendarWeeks
    ? 'tempusdominus-bootstrap-datetimepicker-widget-with-calendar-weeks' : '') +
    \" \" + ((this._useFeatherIcons() ? 'tempusdominus-bootstrap-datetimepicker-widget-with-feather-icons'
    : '') + \" \")).trim()),\n          dateView = $('<div>').addClass('datepicker').append(this._getDatePickerTemplate()),\n
    \         timeView = $('<div>').addClass('timepicker').append(this._getTimePickerTemplate()),\n
    \         content = $('<ul>').addClass('list-unstyled'),\n          toolbar =
    $('<li>').addClass((\"picker-switch\" + (this._options.collapse ? ' accordion-toggle'
    : '') + \" \" + (\"\" + (this._useFeatherIcons() ? 'picker-switch-with-feathers-icons'
    : ''))).trim()).append(this._getToolbar());\n\n      if (this._options.inline)
    {\n        template.removeClass('dropdown-menu');\n      }\n\n      if (this.use24Hours)
    {\n        template.addClass('usetwentyfour');\n      }\n\n      if (this.input
    !== undefined && this.input.prop('readonly') || this._options.readonly) {\n        template.addClass('bootstrap-datetimepicker-widget-readonly');\n
    \     }\n\n      if (this._isEnabled('s') && !this.use24Hours) {\n        template.addClass('wider');\n
    \     }\n\n      if (this._options.sideBySide && this._hasDate() && this._hasTime())
    {\n        template.addClass('timepicker-sbs');\n\n        if (this._options.toolbarPlacement
    === 'top') {\n          template.append(toolbar);\n        }\n\n        template.append($('<div>').addClass('row').append(dateView.addClass('col-md-6')).append(timeView.addClass('col-md-6')));\n\n
    \       if (this._options.toolbarPlacement === 'bottom' || this._options.toolbarPlacement
    === 'default') {\n          template.append(toolbar);\n        }\n\n        return
    template;\n      }\n\n      if (this._options.toolbarPlacement === 'top') {\n
    \       content.append(toolbar);\n      }\n\n      if (this._hasDate()) {\n        content.append($('<li>').addClass(this._options.collapse
    && this._hasTime() ? 'collapse' : '').addClass(this._options.collapse && this._hasTime()
    && this._options.viewMode === 'times' ? '' : 'show').append(dateView));\n      }\n\n
    \     if (this._options.toolbarPlacement === 'default') {\n        content.append(toolbar);\n
    \     }\n\n      if (this._hasTime()) {\n        content.append($('<li>').addClass(this._options.collapse
    && this._hasDate() ? 'collapse' : '').addClass(this._options.collapse && this._hasDate()
    && this._options.viewMode === 'times' ? 'show' : '').append(timeView));\n      }\n\n
    \     if (this._options.toolbarPlacement === 'bottom') {\n        content.append(toolbar);\n
    \     }\n\n      return template.append(content);\n    };\n\n    _proto2._place
    = function _place(e) {\n      var self = e && e.data && e.data.picker || this,\n
    \         vertical = self._options.widgetPositioning.vertical,\n          horizontal
    = self._options.widgetPositioning.horizontal,\n          parent;\n      var position
    = (self.component && self.component.length ? self.component : self._element).position(),\n
    \         offset = (self.component && self.component.length ? self.component :
    self._element).offset();\n\n      if (self._options.widgetParent) {\n        parent
    = self._options.widgetParent.append(self.widget);\n      } else if (self._element.is('input'))
    {\n        parent = self._element.after(self.widget).parent();\n      } else if
    (self._options.inline) {\n        parent = self._element.append(self.widget);\n
    \       return;\n      } else {\n        parent = self._element;\n\n        self._element.children().first().after(self.widget);\n
    \     } // Top and bottom logic\n\n\n      if (vertical === 'auto') {\n        //noinspection
    JSValidateTypes\n        if (offset.top + self.widget.height() * 1.5 >= $(window).height()
    + $(window).scrollTop() && self.widget.height() + self._element.outerHeight()
    < offset.top) {\n          vertical = 'top';\n        } else {\n          vertical
    = 'bottom';\n        }\n      } // Left and right logic\n\n\n      if (horizontal
    === 'auto') {\n        if (parent.width() < offset.left + self.widget.outerWidth()
    / 2 && offset.left + self.widget.outerWidth() > $(window).width()) {\n          horizontal
    = 'right';\n        } else {\n          horizontal = 'left';\n        }\n      }\n\n
    \     if (vertical === 'top') {\n        self.widget.addClass('top').removeClass('bottom');\n
    \     } else {\n        self.widget.addClass('bottom').removeClass('top');\n      }\n\n
    \     if (horizontal === 'right') {\n        self.widget.addClass('float-right');\n
    \     } else {\n        self.widget.removeClass('float-right');\n      } // find
    the first parent element that has a relative css positioning\n\n\n      if (parent.css('position')
    !== 'relative') {\n        parent = parent.parents().filter(function () {\n          return
    $(this).css('position') === 'relative';\n        }).first();\n      }\n\n      if
    (parent.length === 0) {\n        throw new Error('datetimepicker component should
    be placed within a relative positioned container');\n      }\n\n      self.widget.css({\n
    \       top: vertical === 'top' ? 'auto' : position.top + self._element.outerHeight()
    + 'px',\n        bottom: vertical === 'top' ? parent.outerHeight() - (parent ===
    self._element ? 0 : position.top) + 'px' : 'auto',\n        left: horizontal ===
    'left' ? (parent === self._element ? 0 : position.left) + 'px' : 'auto',\n        right:
    horizontal === 'left' ? 'auto' : parent.outerWidth() - self._element.outerWidth()
    - (parent === self._element ? 0 : position.left) + 'px'\n      });\n    };\n\n
    \   _proto2._fillDow = function _fillDow() {\n      var row = $('<tr>'),\n          currentDate
    = this._viewDate.clone().startOf('w').startOf('d');\n\n      if (this._options.calendarWeeks
    === true) {\n        row.append($('<th>').addClass('cw').text('#'));\n      }\n\n
    \     while (currentDate.isBefore(this._viewDate.clone().endOf('w'))) {\n        row.append($('<th>').addClass('dow').text(currentDate.format('dd')));\n
    \       currentDate.add(1, 'd');\n      }\n\n      this.widget.find('.datepicker-days
    thead').append(row);\n    };\n\n    _proto2._fillMonths = function _fillMonths()
    {\n      var spans = [],\n          monthsShort = this._viewDate.clone().startOf('y').startOf('d');\n\n
    \     while (monthsShort.isSame(this._viewDate, 'y')) {\n        spans.push($('<span>').attr('data-action',
    'selectMonth').addClass('month').text(monthsShort.format('MMM')));\n        monthsShort.add(1,
    'M');\n      }\n\n      this.widget.find('.datepicker-months td').empty().append(spans);\n
    \   };\n\n    _proto2._updateMonths = function _updateMonths() {\n      var monthsView
    = this.widget.find('.datepicker-months'),\n          monthsViewHeader = monthsView.find('th'),\n
    \         months = monthsView.find('tbody').find('span'),\n          self = this,\n
    \         lastPickedDate = this._getLastPickedDate();\n\n      monthsViewHeader.eq(0).find('span').attr('title',
    this._options.tooltips.prevYear);\n      monthsViewHeader.eq(1).attr('title',
    this._options.tooltips.selectYear);\n      monthsViewHeader.eq(2).find('span').attr('title',
    this._options.tooltips.nextYear);\n      monthsView.find('.disabled').removeClass('disabled');\n\n
    \     if (!this._isValid(this._viewDate.clone().subtract(1, 'y'), 'y')) {\n        monthsViewHeader.eq(0).addClass('disabled');\n
    \     }\n\n      monthsViewHeader.eq(1).text(this._viewDate.year());\n\n      if
    (!this._isValid(this._viewDate.clone().add(1, 'y'), 'y')) {\n        monthsViewHeader.eq(2).addClass('disabled');\n
    \     }\n\n      months.removeClass('active');\n\n      if (lastPickedDate &&
    lastPickedDate.isSame(this._viewDate, 'y') && !this.unset) {\n        months.eq(lastPickedDate.month()).addClass('active');\n
    \     }\n\n      months.each(function (index) {\n        if (!self._isValid(self._viewDate.clone().month(index),
    'M')) {\n          $(this).addClass('disabled');\n        }\n      });\n    };\n\n
    \   _proto2._getStartEndYear = function _getStartEndYear(factor, year) {\n      var
    step = factor / 10,\n          startYear = Math.floor(year / factor) * factor,\n
    \         endYear = startYear + step * 9,\n          focusValue = Math.floor(year
    / step) * step;\n      return [startYear, endYear, focusValue];\n    };\n\n    _proto2._updateYears
    = function _updateYears() {\n      var yearsView = this.widget.find('.datepicker-years'),\n
    \         yearsViewHeader = yearsView.find('th'),\n          yearCaps = this._getStartEndYear(10,
    this._viewDate.year()),\n          startYear = this._viewDate.clone().year(yearCaps[0]),\n
    \         endYear = this._viewDate.clone().year(yearCaps[1]);\n\n      var html
    = '';\n      yearsViewHeader.eq(0).find('span').attr('title', this._options.tooltips.prevDecade);\n
    \     yearsViewHeader.eq(1).attr('title', this._options.tooltips.selectDecade);\n
    \     yearsViewHeader.eq(2).find('span').attr('title', this._options.tooltips.nextDecade);\n
    \     yearsView.find('.disabled').removeClass('disabled');\n\n      if (this._options.minDate
    && this._options.minDate.isAfter(startYear, 'y')) {\n        yearsViewHeader.eq(0).addClass('disabled');\n
    \     }\n\n      yearsViewHeader.eq(1).text(startYear.year() + \"-\" + endYear.year());\n\n
    \     if (this._options.maxDate && this._options.maxDate.isBefore(endYear, 'y'))
    {\n        yearsViewHeader.eq(2).addClass('disabled');\n      }\n\n      html
    += \"<span data-action=\\\"selectYear\\\" class=\\\"year old\" + (!this._isValid(startYear,
    'y') ? ' disabled' : '') + \"\\\">\" + (startYear.year() - 1) + \"</span>\";\n\n
    \     while (!startYear.isAfter(endYear, 'y')) {\n        html += \"<span data-action=\\\"selectYear\\\"
    class=\\\"year\" + (startYear.isSame(this._getLastPickedDate(), 'y') && !this.unset
    ? ' active' : '') + (!this._isValid(startYear, 'y') ? ' disabled' : '') + \"\\\">\"
    + startYear.year() + \"</span>\";\n        startYear.add(1, 'y');\n      }\n\n
    \     html += \"<span data-action=\\\"selectYear\\\" class=\\\"year old\" + (!this._isValid(startYear,
    'y') ? ' disabled' : '') + \"\\\">\" + startYear.year() + \"</span>\";\n      yearsView.find('td').html(html);\n
    \   };\n\n    _proto2._updateDecades = function _updateDecades() {\n      var
    decadesView = this.widget.find('.datepicker-decades'),\n          decadesViewHeader
    = decadesView.find('th'),\n          yearCaps = this._getStartEndYear(100, this._viewDate.year()),\n
    \         startDecade = this._viewDate.clone().year(yearCaps[0]),\n          endDecade
    = this._viewDate.clone().year(yearCaps[1]),\n          lastPickedDate = this._getLastPickedDate();\n\n
    \     var minDateDecade = false,\n          maxDateDecade = false,\n          endDecadeYear,\n
    \         html = '';\n      decadesViewHeader.eq(0).find('span').attr('title',
    this._options.tooltips.prevCentury);\n      decadesViewHeader.eq(2).find('span').attr('title',
    this._options.tooltips.nextCentury);\n      decadesView.find('.disabled').removeClass('disabled');\n\n
    \     if (startDecade.year() === 0 || this._options.minDate && this._options.minDate.isAfter(startDecade,
    'y')) {\n        decadesViewHeader.eq(0).addClass('disabled');\n      }\n\n      decadesViewHeader.eq(1).text(startDecade.year()
    + \"-\" + endDecade.year());\n\n      if (this._options.maxDate && this._options.maxDate.isBefore(endDecade,
    'y')) {\n        decadesViewHeader.eq(2).addClass('disabled');\n      }\n\n      if
    (startDecade.year() - 10 < 0) {\n        html += '<span>&nbsp;</span>';\n      }
    else {\n        html += \"<span data-action=\\\"selectDecade\\\" class=\\\"decade
    old\\\" data-selection=\\\"\" + (startDecade.year() + 6) + \"\\\">\" + (startDecade.year()
    - 10) + \"</span>\";\n      }\n\n      while (!startDecade.isAfter(endDecade,
    'y')) {\n        endDecadeYear = startDecade.year() + 11;\n        minDateDecade
    = this._options.minDate && this._options.minDate.isAfter(startDecade, 'y') &&
    this._options.minDate.year() <= endDecadeYear;\n        maxDateDecade = this._options.maxDate
    && this._options.maxDate.isAfter(startDecade, 'y') && this._options.maxDate.year()
    <= endDecadeYear;\n        html += \"<span data-action=\\\"selectDecade\\\" class=\\\"decade\"
    + (lastPickedDate && lastPickedDate.isAfter(startDecade) && lastPickedDate.year()
    <= endDecadeYear ? ' active' : '') + (!this._isValid(startDecade, 'y') && !minDateDecade
    && !maxDateDecade ? ' disabled' : '') + \"\\\" data-selection=\\\"\" + (startDecade.year()
    + 6) + \"\\\">\" + startDecade.year() + \"</span>\";\n        startDecade.add(10,
    'y');\n      }\n\n      html += \"<span data-action=\\\"selectDecade\\\" class=\\\"decade
    old\\\" data-selection=\\\"\" + (startDecade.year() + 6) + \"\\\">\" + startDecade.year()
    + \"</span>\";\n      decadesView.find('td').html(html);\n    };\n\n    _proto2._fillDate
    = function _fillDate() {\n      _DateTimePicker.prototype._fillDate.call(this);\n\n
    \     var daysView = this.widget.find('.datepicker-days'),\n          daysViewHeader
    = daysView.find('th'),\n          html = [];\n      var currentDate, row, clsName,
    i;\n\n      if (!this._hasDate()) {\n        return;\n      }\n\n      daysViewHeader.eq(0).find('span').attr('title',
    this._options.tooltips.prevMonth);\n      daysViewHeader.eq(1).attr('title', this._options.tooltips.selectMonth);\n
    \     daysViewHeader.eq(2).find('span').attr('title', this._options.tooltips.nextMonth);\n
    \     daysView.find('.disabled').removeClass('disabled');\n      daysViewHeader.eq(1).text(this._viewDate.format(this._options.dayViewHeaderFormat));\n\n
    \     if (!this._isValid(this._viewDate.clone().subtract(1, 'M'), 'M')) {\n        daysViewHeader.eq(0).addClass('disabled');\n
    \     }\n\n      if (!this._isValid(this._viewDate.clone().add(1, 'M'), 'M'))
    {\n        daysViewHeader.eq(2).addClass('disabled');\n      }\n\n      currentDate
    = this._viewDate.clone().startOf('M').startOf('w').startOf('d');\n\n      for
    (i = 0; i < 42; i++) {\n        //always display 42 days (should show 6 weeks)\n
    \       if (currentDate.weekday() === 0) {\n          row = $('<tr>');\n\n          if
    (this._options.calendarWeeks) {\n            row.append(\"<td class=\\\"cw\\\">\"
    + currentDate.week() + \"</td>\");\n          }\n\n          html.push(row);\n
    \       }\n\n        clsName = '';\n\n        if (currentDate.isBefore(this._viewDate,
    'M')) {\n          clsName += ' old';\n        }\n\n        if (currentDate.isAfter(this._viewDate,
    'M')) {\n          clsName += ' new';\n        }\n\n        if (this._options.allowMultidate)
    {\n          var index = this._datesFormatted.indexOf(currentDate.format('YYYY-MM-DD'));\n\n
    \         if (index !== -1) {\n            if (currentDate.isSame(this._datesFormatted[index],
    'd') && !this.unset) {\n              clsName += ' active';\n            }\n          }\n
    \       } else {\n          if (currentDate.isSame(this._getLastPickedDate(),
    'd') && !this.unset) {\n            clsName += ' active';\n          }\n        }\n\n
    \       if (!this._isValid(currentDate, 'd')) {\n          clsName += ' disabled';\n
    \       }\n\n        if (currentDate.isSame(this.getMoment(), 'd')) {\n          clsName
    += ' today';\n        }\n\n        if (currentDate.day() === 0 || currentDate.day()
    === 6) {\n          clsName += ' weekend';\n        }\n\n        row.append(\"<td
    data-action=\\\"selectDay\\\" data-day=\\\"\" + currentDate.format('L') + \"\\\"
    class=\\\"day\" + clsName + \"\\\">\" + currentDate.date() + \"</td>\");\n        currentDate.add(1,
    'd');\n      }\n\n      $('body').addClass('tempusdominus-bootstrap-datetimepicker-widget-day-click');\n
    \     $('body').append('<div class=\"tempusdominus-bootstrap-datetimepicker-widget-day-click-glass-panel\"></div>');\n
    \     daysView.find('tbody').empty().append(html);\n      $('body').find('.tempusdominus-bootstrap-datetimepicker-widget-day-click-glass-panel').remove();\n
    \     $('body').removeClass('tempusdominus-bootstrap-datetimepicker-widget-day-click');\n\n
    \     this._updateMonths();\n\n      this._updateYears();\n\n      this._updateDecades();\n
    \   };\n\n    _proto2._fillHours = function _fillHours() {\n      var table =
    this.widget.find('.timepicker-hours table'),\n          currentHour = this._viewDate.clone().startOf('d'),\n
    \         html = [];\n\n      var row = $('<tr>');\n\n      if (this._viewDate.hour()
    > 11 && !this.use24Hours) {\n        currentHour.hour(12);\n      }\n\n      while
    (currentHour.isSame(this._viewDate, 'd') && (this.use24Hours || this._viewDate.hour()
    < 12 && currentHour.hour() < 12 || this._viewDate.hour() > 11)) {\n        if
    (currentHour.hour() % 4 === 0) {\n          row = $('<tr>');\n          html.push(row);\n
    \       }\n\n        row.append(\"<td data-action=\\\"selectHour\\\" class=\\\"hour\"
    + (!this._isValid(currentHour, 'h') ? ' disabled' : '') + \"\\\">\" + currentHour.format(this.use24Hours
    ? 'HH' : 'hh') + \"</td>\");\n        currentHour.add(1, 'h');\n      }\n\n      table.empty().append(html);\n
    \   };\n\n    _proto2._fillMinutes = function _fillMinutes() {\n      var table
    = this.widget.find('.timepicker-minutes table'),\n          currentMinute = this._viewDate.clone().startOf('h'),\n
    \         html = [],\n          step = this._options.stepping === 1 ? 5 : this._options.stepping;\n\n
    \     var row = $('<tr>');\n\n      while (this._viewDate.isSame(currentMinute,
    'h')) {\n        if (currentMinute.minute() % (step * 4) === 0) {\n          row
    = $('<tr>');\n          html.push(row);\n        }\n\n        row.append(\"<td
    data-action=\\\"selectMinute\\\" class=\\\"minute\" + (!this._isValid(currentMinute,
    'm') ? ' disabled' : '') + \"\\\">\" + currentMinute.format('mm') + \"</td>\");\n
    \       currentMinute.add(step, 'm');\n      }\n\n      table.empty().append(html);\n
    \   };\n\n    _proto2._fillSeconds = function _fillSeconds() {\n      var table
    = this.widget.find('.timepicker-seconds table'),\n          currentSecond = this._viewDate.clone().startOf('m'),\n
    \         html = [];\n\n      var row = $('<tr>');\n\n      while (this._viewDate.isSame(currentSecond,
    'm')) {\n        if (currentSecond.second() % 20 === 0) {\n          row = $('<tr>');\n
    \         html.push(row);\n        }\n\n        row.append(\"<td data-action=\\\"selectSecond\\\"
    class=\\\"second\" + (!this._isValid(currentSecond, 's') ? ' disabled' : '') +
    \"\\\">\" + currentSecond.format('ss') + \"</td>\");\n        currentSecond.add(5,
    's');\n      }\n\n      table.empty().append(html);\n    };\n\n    _proto2._fillTime
    = function _fillTime() {\n      var toggle, newDate;\n\n      var timeComponents
    = this.widget.find('.timepicker span[data-time-component]'),\n          lastPickedDate
    = this._getLastPickedDate();\n\n      if (!this.use24Hours) {\n        toggle
    = this.widget.find('.timepicker [data-action=togglePeriod]');\n        newDate
    = lastPickedDate ? lastPickedDate.clone().add(lastPickedDate.hours() >= 12 ? -12
    : 12, 'h') : void 0;\n        lastPickedDate && toggle.text(lastPickedDate.format('A'));\n\n
    \       if (this._isValid(newDate, 'h')) {\n          toggle.removeClass('disabled');\n
    \       } else {\n          toggle.addClass('disabled');\n        }\n      }\n\n
    \     lastPickedDate && timeComponents.filter('[data-time-component=hours]').text(lastPickedDate.format(\"\"
    + (this.use24Hours ? 'HH' : 'hh')));\n      lastPickedDate && timeComponents.filter('[data-time-component=minutes]').text(lastPickedDate.format('mm'));\n
    \     lastPickedDate && timeComponents.filter('[data-time-component=seconds]').text(lastPickedDate.format('ss'));\n\n
    \     this._fillHours();\n\n      this._fillMinutes();\n\n      this._fillSeconds();\n
    \   };\n\n    _proto2._doAction = function _doAction(e, action) {\n      var lastPicked
    = this._getLastPickedDate();\n\n      if ($(e.currentTarget).is('.disabled'))
    {\n        return false;\n      }\n\n      action = action || $(e.currentTarget).data('action');\n\n
    \     switch (action) {\n        case 'next':\n          {\n            var navFnc
    = DateTimePicker.DatePickerModes[this.currentViewMode].NAV_FUNCTION;\n\n            this._viewDate.add(DateTimePicker.DatePickerModes[this.currentViewMode].NAV_STEP,
    navFnc);\n\n            this._fillDate();\n\n            this._viewUpdate(navFnc);\n\n
    \           break;\n          }\n\n        case 'previous':\n          {\n            var
    _navFnc = DateTimePicker.DatePickerModes[this.currentViewMode].NAV_FUNCTION;\n\n
    \           this._viewDate.subtract(DateTimePicker.DatePickerModes[this.currentViewMode].NAV_STEP,
    _navFnc);\n\n            this._fillDate();\n\n            this._viewUpdate(_navFnc);\n\n
    \           break;\n          }\n\n        case 'pickerSwitch':\n          this._showMode(1);\n\n
    \         break;\n\n        case 'selectMonth':\n          {\n            var
    month = $(e.target).closest('tbody').find('span').index($(e.target));\n\n            this._viewDate.month(month);\n\n
    \           if (this.currentViewMode === this.MinViewModeNumber) {\n              this._setValue(lastPicked.clone().year(this._viewDate.year()).month(this._viewDate.month()),
    this._getLastPickedDateIndex());\n\n              if (!this._options.inline) {\n
    \               this.hide();\n              }\n            } else {\n              this._showMode(-1);\n\n
    \             this._fillDate();\n            }\n\n            this._viewUpdate('M');\n\n
    \           break;\n          }\n\n        case 'selectYear':\n          {\n            var
    year = parseInt($(e.target).text(), 10) || 0;\n\n            this._viewDate.year(year);\n\n
    \           if (this.currentViewMode === this.MinViewModeNumber) {\n              this._setValue(lastPicked.clone().year(this._viewDate.year()),
    this._getLastPickedDateIndex());\n\n              if (!this._options.inline) {\n
    \               this.hide();\n              }\n            } else {\n              this._showMode(-1);\n\n
    \             this._fillDate();\n            }\n\n            this._viewUpdate('YYYY');\n\n
    \           break;\n          }\n\n        case 'selectDecade':\n          {\n
    \           var _year = parseInt($(e.target).data('selection'), 10) || 0;\n\n
    \           this._viewDate.year(_year);\n\n            if (this.currentViewMode
    === this.MinViewModeNumber) {\n              this._setValue(lastPicked.clone().year(this._viewDate.year()),
    this._getLastPickedDateIndex());\n\n              if (!this._options.inline) {\n
    \               this.hide();\n              }\n            } else {\n              this._showMode(-1);\n\n
    \             this._fillDate();\n            }\n\n            this._viewUpdate('YYYY');\n\n
    \           break;\n          }\n\n        case 'selectDay':\n          {\n            var
    day = this._viewDate.clone();\n\n            if ($(e.target).is('.old')) {\n              day.subtract(1,
    'M');\n            }\n\n            if ($(e.target).is('.new')) {\n              day.add(1,
    'M');\n            }\n\n            var selectDate = day.date(parseInt($(e.target).text(),
    10)),\n                index = 0;\n\n            if (this._options.allowMultidate)
    {\n              index = this._datesFormatted.indexOf(selectDate.format('YYYY-MM-DD'));\n\n
    \             if (index !== -1) {\n                this._setValue(null, index);
    //deselect multidate\n\n              } else {\n                this._setValue(selectDate,
    this._getLastPickedDateIndex() + 1);\n              }\n            } else {\n
    \             this._setValue(selectDate, this._getLastPickedDateIndex());\n            }\n\n
    \           if (!this._hasTime() && !this._options.keepOpen && !this._options.inline
    && !this._options.allowMultidate) {\n              this.hide();\n            }\n\n
    \           break;\n          }\n\n        case 'incrementHours':\n          {\n
    \           if (!lastPicked) {\n              break;\n            }\n\n            var
    newDate = lastPicked.clone().add(1, 'h');\n\n            if (this._isValid(newDate,
    'h')) {\n              if (this._getLastPickedDateIndex() < 0) {\n                this.date(newDate);\n
    \             }\n\n              this._setValue(newDate, this._getLastPickedDateIndex());\n
    \           }\n\n            break;\n          }\n\n        case 'incrementMinutes':\n
    \         {\n            if (!lastPicked) {\n              break;\n            }\n\n
    \           var _newDate = lastPicked.clone().add(this._options.stepping, 'm');\n\n
    \           if (this._isValid(_newDate, 'm')) {\n              if (this._getLastPickedDateIndex()
    < 0) {\n                this.date(_newDate);\n              }\n\n              this._setValue(_newDate,
    this._getLastPickedDateIndex());\n            }\n\n            break;\n          }\n\n
    \       case 'incrementSeconds':\n          {\n            if (!lastPicked) {\n
    \             break;\n            }\n\n            var _newDate2 = lastPicked.clone().add(1,
    's');\n\n            if (this._isValid(_newDate2, 's')) {\n              if (this._getLastPickedDateIndex()
    < 0) {\n                this.date(_newDate2);\n              }\n\n              this._setValue(_newDate2,
    this._getLastPickedDateIndex());\n            }\n\n            break;\n          }\n\n
    \       case 'decrementHours':\n          {\n            if (!lastPicked) {\n
    \             break;\n            }\n\n            var _newDate3 = lastPicked.clone().subtract(1,
    'h');\n\n            if (this._isValid(_newDate3, 'h')) {\n              if (this._getLastPickedDateIndex()
    < 0) {\n                this.date(_newDate3);\n              }\n\n              this._setValue(_newDate3,
    this._getLastPickedDateIndex());\n            }\n\n            break;\n          }\n\n
    \       case 'decrementMinutes':\n          {\n            if (!lastPicked) {\n
    \             break;\n            }\n\n            var _newDate4 = lastPicked.clone().subtract(this._options.stepping,
    'm');\n\n            if (this._isValid(_newDate4, 'm')) {\n              if (this._getLastPickedDateIndex()
    < 0) {\n                this.date(_newDate4);\n              }\n\n              this._setValue(_newDate4,
    this._getLastPickedDateIndex());\n            }\n\n            break;\n          }\n\n
    \       case 'decrementSeconds':\n          {\n            if (!lastPicked) {\n
    \             break;\n            }\n\n            var _newDate5 = lastPicked.clone().subtract(1,
    's');\n\n            if (this._isValid(_newDate5, 's')) {\n              if (this._getLastPickedDateIndex()
    < 0) {\n                this.date(_newDate5);\n              }\n\n              this._setValue(_newDate5,
    this._getLastPickedDateIndex());\n            }\n\n            break;\n          }\n\n
    \       case 'togglePeriod':\n          {\n            this._setValue(lastPicked.clone().add(lastPicked.hours()
    >= 12 ? -12 : 12, 'h'), this._getLastPickedDateIndex());\n\n            break;\n
    \         }\n\n        case 'togglePicker':\n          {\n            var $this
    = $(e.target),\n                $link = $this.closest('a'),\n                $parent
    = $this.closest('ul'),\n                expanded = $parent.find('.show'),\n                closed
    = $parent.find('.collapse:not(.show)'),\n                $span = $this.is('span')
    ? $this : $this.find('span');\n            var collapseData, inactiveIcon, iconTest;\n\n
    \           if (expanded && expanded.length) {\n              collapseData = expanded.data('collapse');\n\n
    \             if (collapseData && collapseData.transitioning) {\n                return
    true;\n              }\n\n              if (expanded.collapse) {\n                //
    if collapse plugin is available through bootstrap.js then use it\n                expanded.collapse('hide');\n
    \               closed.collapse('show');\n              } else {\n                //
    otherwise just toggle in class on the two views\n                expanded.removeClass('show');\n
    \               closed.addClass('show');\n              }\n\n              if
    (this._useFeatherIcons()) {\n                $link.toggleClass(this._options.icons.time
    + ' ' + this._options.icons.date);\n                inactiveIcon = $link.hasClass(this._options.icons.time)
    ? this._options.icons.date : this._options.icons.time;\n                $link.html(this._iconTag(inactiveIcon));\n
    \             } else {\n                $span.toggleClass(this._options.icons.time
    + ' ' + this._options.icons.date);\n              }\n\n              if (this._useFeatherIcons())
    {\n                iconTest = $link.hasClass(this._options.icons.date);\n              }
    else {\n                iconTest = $span.hasClass(this._options.icons.date);\n
    \             }\n\n              if (iconTest) {\n                $link.attr('title',
    this._options.tooltips.selectDate);\n              } else {\n                $link.attr('title',
    this._options.tooltips.selectTime);\n              }\n            }\n          }\n
    \         break;\n\n        case 'showPicker':\n          this.widget.find('.timepicker
    > div:not(.timepicker-picker)').hide();\n          this.widget.find('.timepicker
    .timepicker-picker').show();\n          break;\n\n        case 'showHours':\n
    \         this.widget.find('.timepicker .timepicker-picker').hide();\n          this.widget.find('.timepicker
    .timepicker-hours').show();\n          break;\n\n        case 'showMinutes':\n
    \         this.widget.find('.timepicker .timepicker-picker').hide();\n          this.widget.find('.timepicker
    .timepicker-minutes').show();\n          break;\n\n        case 'showSeconds':\n
    \         this.widget.find('.timepicker .timepicker-picker').hide();\n          this.widget.find('.timepicker
    .timepicker-seconds').show();\n          break;\n\n        case 'selectHour':\n
    \         {\n            var hour = parseInt($(e.target).text(), 10);\n\n            if
    (!this.use24Hours) {\n              if (lastPicked.hours() >= 12) {\n                if
    (hour !== 12) {\n                  hour += 12;\n                }\n              }
    else {\n                if (hour === 12) {\n                  hour = 0;\n                }\n
    \             }\n            }\n\n            this._setValue(lastPicked.clone().hours(hour),
    this._getLastPickedDateIndex());\n\n            if (!this._isEnabled('a') && !this._isEnabled('m')
    && !this._options.keepOpen && !this._options.inline) {\n              this.hide();\n
    \           } else {\n              this._doAction(e, 'showPicker');\n            }\n\n
    \           break;\n          }\n\n        case 'selectMinute':\n          this._setValue(lastPicked.clone().minutes(parseInt($(e.target).text(),
    10)), this._getLastPickedDateIndex());\n\n          if (!this._isEnabled('a')
    && !this._isEnabled('s') && !this._options.keepOpen && !this._options.inline)
    {\n            this.hide();\n          } else {\n            this._doAction(e,
    'showPicker');\n          }\n\n          break;\n\n        case 'selectSecond':\n
    \         this._setValue(lastPicked.clone().seconds(parseInt($(e.target).text(),
    10)), this._getLastPickedDateIndex());\n\n          if (!this._isEnabled('a')
    && !this._options.keepOpen && !this._options.inline) {\n            this.hide();\n
    \         } else {\n            this._doAction(e, 'showPicker');\n          }\n\n
    \         break;\n\n        case 'clear':\n          this.clear();\n          break;\n\n
    \       case 'close':\n          this.hide();\n          break;\n\n        case
    'today':\n          {\n            var todaysDate = this.getMoment();\n\n            if
    (this._isValid(todaysDate, 'd')) {\n              this._setValue(todaysDate, this._getLastPickedDateIndex());\n
    \           }\n\n            break;\n          }\n      }\n\n      return false;\n
    \   } //public\n    ;\n\n    _proto2.hide = function hide() {\n      var transitioning
    = false;\n\n      if (!this.widget) {\n        return;\n      } // Ignore event
    if in the middle of a picker transition\n\n\n      this.widget.find('.collapse').each(function
    () {\n        var collapseData = $(this).data('collapse');\n\n        if (collapseData
    && collapseData.transitioning) {\n          transitioning = true;\n          return
    false;\n        }\n\n        return true;\n      });\n\n      if (transitioning)
    {\n        return;\n      }\n\n      if (this.component && this.component.hasClass('btn'))
    {\n        this.component.toggleClass('active');\n      }\n\n      this.widget.hide();\n
    \     $(window).off('resize', this._place);\n      this.widget.off('click', '[data-action]');\n
    \     this.widget.off('mousedown', false);\n      this.widget.remove();\n      this.widget
    = false;\n\n      if (this.input !== undefined && this.input.val() !== undefined
    && this.input.val().trim().length !== 0) {\n        this._setValue(this._parseInputDate(this.input.val().trim(),
    {\n          isPickerShow: false\n        }), 0);\n      }\n\n      var lastPickedDate
    = this._getLastPickedDate();\n\n      this._notifyEvent({\n        type: DateTimePicker.Event.HIDE,\n
    \       date: this.unset ? null : lastPickedDate ? lastPickedDate.clone() : void
    0\n      });\n\n      if (this.input !== undefined) {\n        this.input.blur();\n
    \     }\n\n      this._viewDate = lastPickedDate ? lastPickedDate.clone() : this.getMoment();\n
    \   };\n\n    _proto2.show = function show() {\n      var currentMoment,\n          shouldUseCurrentIfUnset
    = false;\n      var useCurrentGranularity = {\n        'year': function year(m)
    {\n          return m.month(0).date(1).hours(0).seconds(0).minutes(0);\n        },\n
    \       'month': function month(m) {\n          return m.date(1).hours(0).seconds(0).minutes(0);\n
    \       },\n        'day': function day(m) {\n          return m.hours(0).seconds(0).minutes(0);\n
    \       },\n        'hour': function hour(m) {\n          return m.seconds(0).minutes(0);\n
    \       },\n        'minute': function minute(m) {\n          return m.seconds(0);\n
    \       }\n      };\n\n      if (this.input !== undefined) {\n        if (this.input.prop('disabled')
    || !this._options.ignoreReadonly && this.input.prop('readonly') || this.widget)
    {\n          return;\n        }\n\n        if (this.input.val() !== undefined
    && this.input.val().trim().length !== 0) {\n          this._setValue(this._parseInputDate(this.input.val().trim(),
    {\n            isPickerShow: true\n          }), 0);\n        } else {\n          shouldUseCurrentIfUnset
    = true;\n        }\n      } else {\n        shouldUseCurrentIfUnset = true;\n
    \     }\n\n      if (shouldUseCurrentIfUnset && this.unset && this._options.useCurrent)
    {\n        currentMoment = this.getMoment();\n\n        if (typeof this._options.useCurrent
    === 'string') {\n          currentMoment = useCurrentGranularity[this._options.useCurrent](currentMoment);\n
    \       }\n\n        this._setValue(currentMoment, 0);\n      }\n\n      this.widget
    = this._getTemplate();\n\n      this._fillDow();\n\n      this._fillMonths();\n\n
    \     this.widget.find('.timepicker-hours').hide();\n      this.widget.find('.timepicker-minutes').hide();\n
    \     this.widget.find('.timepicker-seconds').hide();\n\n      this._update();\n\n
    \     this._showMode();\n\n      $(window).on('resize', {\n        picker: this\n
    \     }, this._place);\n      this.widget.on('click', '[data-action]', $.proxy(this._doAction,
    this)); // this handles clicks on the widget\n\n      this.widget.on('mousedown',
    false);\n\n      if (this.component && this.component.hasClass('btn')) {\n        this.component.toggleClass('active');\n
    \     }\n\n      this._place();\n\n      this.widget.show();\n\n      if (this.input
    !== undefined && this._options.focusOnShow && !this.input.is(':focus')) {\n        this.input.focus();\n
    \     }\n\n      this._notifyEvent({\n        type: DateTimePicker.Event.SHOW\n
    \     });\n    };\n\n    _proto2.destroy = function destroy() {\n      this.hide();
    //todo doc off?\n\n      this._element.removeData(DateTimePicker.DATA_KEY);\n\n
    \     this._element.removeData('date');\n    };\n\n    _proto2.disable = function
    disable() {\n      this.hide();\n\n      if (this.component && this.component.hasClass('btn'))
    {\n        this.component.addClass('disabled');\n      }\n\n      if (this.input
    !== undefined) {\n        this.input.prop('disabled', true); //todo disable this/comp
    if input is null\n      }\n    };\n\n    _proto2.enable = function enable() {\n
    \     if (this.component && this.component.hasClass('btn')) {\n        this.component.removeClass('disabled');\n
    \     }\n\n      if (this.input !== undefined) {\n        this.input.prop('disabled',
    false); //todo enable comp/this if input is null\n      }\n    };\n\n    _proto2.toolbarPlacement
    = function toolbarPlacement(_toolbarPlacement) {\n      if (arguments.length ===
    0) {\n        return this._options.toolbarPlacement;\n      }\n\n      if (typeof
    _toolbarPlacement !== 'string') {\n        throw new TypeError('toolbarPlacement()
    expects a string parameter');\n      }\n\n      if (toolbarPlacements.indexOf(_toolbarPlacement)
    === -1) {\n        throw new TypeError(\"toolbarPlacement() parameter must be
    one of (\" + toolbarPlacements.join(', ') + \") value\");\n      }\n\n      this._options.toolbarPlacement
    = _toolbarPlacement;\n\n      if (this.widget) {\n        this.hide();\n        this.show();\n
    \     }\n    };\n\n    _proto2.widgetPositioning = function widgetPositioning(_widgetPositioning)
    {\n      if (arguments.length === 0) {\n        return $.extend({}, this._options.widgetPositioning);\n
    \     }\n\n      if ({}.toString.call(_widgetPositioning) !== '[object Object]')
    {\n        throw new TypeError('widgetPositioning() expects an object variable');\n
    \     }\n\n      if (_widgetPositioning.horizontal) {\n        if (typeof _widgetPositioning.horizontal
    !== 'string') {\n          throw new TypeError('widgetPositioning() horizontal
    variable must be a string');\n        }\n\n        _widgetPositioning.horizontal
    = _widgetPositioning.horizontal.toLowerCase();\n\n        if (horizontalModes.indexOf(_widgetPositioning.horizontal)
    === -1) {\n          throw new TypeError(\"widgetPositioning() expects horizontal
    parameter to be one of (\" + horizontalModes.join(', ') + \")\");\n        }\n\n
    \       this._options.widgetPositioning.horizontal = _widgetPositioning.horizontal;\n
    \     }\n\n      if (_widgetPositioning.vertical) {\n        if (typeof _widgetPositioning.vertical
    !== 'string') {\n          throw new TypeError('widgetPositioning() vertical variable
    must be a string');\n        }\n\n        _widgetPositioning.vertical = _widgetPositioning.vertical.toLowerCase();\n\n
    \       if (verticalModes.indexOf(_widgetPositioning.vertical) === -1) {\n          throw
    new TypeError(\"widgetPositioning() expects vertical parameter to be one of (\"
    + verticalModes.join(', ') + \")\");\n        }\n\n        this._options.widgetPositioning.vertical
    = _widgetPositioning.vertical;\n      }\n\n      this._update();\n    };\n\n    _proto2.widgetParent
    = function widgetParent(_widgetParent) {\n      if (arguments.length === 0) {\n
    \       return this._options.widgetParent;\n      }\n\n      if (typeof _widgetParent
    === 'string') {\n        _widgetParent = $(_widgetParent);\n      }\n\n      if
    (_widgetParent !== null && typeof _widgetParent !== 'string' && !(_widgetParent
    instanceof $)) {\n        throw new TypeError('widgetParent() expects a string
    or a jQuery object parameter');\n      }\n\n      this._options.widgetParent =
    _widgetParent;\n\n      if (this.widget) {\n        this.hide();\n        this.show();\n
    \     }\n    };\n\n    _proto2.setMultiDate = function setMultiDate(multiDateArray)
    {\n      var dateFormat = this._options.format;\n      this.clear();\n\n      for
    (var index = 0; index < multiDateArray.length; index++) {\n        var date =
    moment(multiDateArray[index], dateFormat);\n\n        this._setValue(date, index);\n
    \     }\n    } //static\n    ;\n\n    TempusDominusBootstrap4._jQueryHandleThis
    = function _jQueryHandleThis(me, option, argument) {\n      var data = $(me).data(DateTimePicker.DATA_KEY);\n\n
    \     if (typeof option === 'object') {\n        $.extend({}, DateTimePicker.Default,
    option);\n      }\n\n      if (!data) {\n        data = new TempusDominusBootstrap4($(me),
    option);\n        $(me).data(DateTimePicker.DATA_KEY, data);\n      }\n\n      if
    (typeof option === 'string') {\n        if (data[option] === undefined) {\n          throw
    new Error(\"No method named \\\"\" + option + \"\\\"\");\n        }\n\n        if
    (argument === undefined) {\n          return data[option]();\n        } else {\n
    \         if (option === 'date') {\n            data.isDateUpdateThroughDateOptionFromClientCode
    = true;\n          }\n\n          var ret = data[option](argument);\n          data.isDateUpdateThroughDateOptionFromClientCode
    = false;\n          return ret;\n        }\n      }\n    };\n\n    TempusDominusBootstrap4._jQueryInterface
    = function _jQueryInterface(option, argument) {\n      if (this.length === 1)
    {\n        return TempusDominusBootstrap4._jQueryHandleThis(this[0], option, argument);\n
    \     }\n\n      return this.each(function () {\n        TempusDominusBootstrap4._jQueryHandleThis(this,
    option, argument);\n      });\n    };\n\n    return TempusDominusBootstrap4;\n
    \ }(DateTimePicker);\n  /**\r\n  * ------------------------------------------------------------------------\r\n
    \ * jQuery\r\n  * ------------------------------------------------------------------------\r\n
    \ */\n\n\n  $(document).on(DateTimePicker.Event.CLICK_DATA_API, DateTimePicker.Selector.DATA_TOGGLE,
    function () {\n    var $originalTarget = $(this),\n        $target = getSelectorFromElement($originalTarget),\n
    \       config = $target.data(DateTimePicker.DATA_KEY);\n\n    if ($target.length
    === 0) {\n      return;\n    }\n\n    if (config._options.allowInputToggle &&
    $originalTarget.is('input[data-toggle=\"datetimepicker\"]')) {\n      return;\n
    \   }\n\n    TempusDominusBootstrap4._jQueryInterface.call($target, 'toggle');\n
    \ }).on(DateTimePicker.Event.CHANGE, \".\" + DateTimePicker.ClassName.INPUT, function
    (event) {\n    var $target = getSelectorFromElement($(this));\n\n    if ($target.length
    === 0 || event.isInit) {\n      return;\n    }\n\n    TempusDominusBootstrap4._jQueryInterface.call($target,
    '_change', event);\n  }).on(DateTimePicker.Event.BLUR, \".\" + DateTimePicker.ClassName.INPUT,
    function (event) {\n    var $target = getSelectorFromElement($(this)),\n        config
    = $target.data(DateTimePicker.DATA_KEY);\n\n    if ($target.length === 0) {\n
    \     return;\n    }\n\n    if (config._options.debug || window.debug) {\n      return;\n
    \   }\n\n    TempusDominusBootstrap4._jQueryInterface.call($target, 'hide', event);\n
    \ }).on(DateTimePicker.Event.KEYDOWN, \".\" + DateTimePicker.ClassName.INPUT,
    function (event) {\n    var $target = getSelectorFromElement($(this));\n\n    if
    ($target.length === 0) {\n      return;\n    }\n\n    TempusDominusBootstrap4._jQueryInterface.call($target,
    '_keydown', event);\n  }).on(DateTimePicker.Event.KEYUP, \".\" + DateTimePicker.ClassName.INPUT,
    function (event) {\n    var $target = getSelectorFromElement($(this));\n\n    if
    ($target.length === 0) {\n      return;\n    }\n\n    TempusDominusBootstrap4._jQueryInterface.call($target,
    '_keyup', event);\n  }).on(DateTimePicker.Event.FOCUS, \".\" + DateTimePicker.ClassName.INPUT,
    function (event) {\n    var $target = getSelectorFromElement($(this)),\n        config
    = $target.data(DateTimePicker.DATA_KEY);\n\n    if ($target.length === 0) {\n
    \     return;\n    }\n\n    if (!config._options.allowInputToggle) {\n      return;\n
    \   }\n\n    TempusDominusBootstrap4._jQueryInterface.call($target, 'show', event);\n
    \ });\n  $.fn[DateTimePicker.NAME] = TempusDominusBootstrap4._jQueryInterface;\n
    \ $.fn[DateTimePicker.NAME].Constructor = TempusDominusBootstrap4;\n\n  $.fn[DateTimePicker.NAME].noConflict
    = function () {\n    $.fn[DateTimePicker.NAME] = JQUERY_NO_CONFLICT;\n    return
    TempusDominusBootstrap4._jQueryInterface;\n  };\n\n  return TempusDominusBootstrap4;\n}(jQuery);\r\n\r\n}();\r\n"
  uploads-admin-Public-Admin-plugins-tempusdominus-bootstrap-4-js-tempusdominus-bootstrap-4.min.js: |-
    /*!@preserve
     * Tempus Dominus Bootstrap4 v5.39.0 (https://tempusdominus.github.io/bootstrap-4/)
     * Copyright 2016-2020 Jonathan Peterson and contributors
     * Licensed under MIT (https://github.com/tempusdominus/bootstrap-3/blob/master/LICENSE)
     */
    if("undefined"==typeof jQuery)throw new Error("Tempus Dominus Bootstrap4's requires jQuery. jQuery must be included before Tempus Dominus Bootstrap4's JavaScript.");if(!function(){var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||4<=t[0])throw new Error("Tempus Dominus Bootstrap4's requires at least jQuery v3.0.0 but less than v4.0.0")}(),"undefined"==typeof moment)throw new Error("Tempus Dominus Bootstrap4's requires moment.js. Moment.js must be included before Tempus Dominus Bootstrap4's JavaScript.");var version=moment.version.split(".");if(version[0]<=2&&version[1]<17||3<=version[0])throw new Error("Tempus Dominus Bootstrap4's requires at least moment.js v2.17.0 but less than v3.0.0");!function(){function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var a,n,o,r,d,h,l,c,u,_,f,m,w,g,i,b,v,M=(a=jQuery,n=moment,l={DATA_TOGGLE:'[data-toggle="'+(r=o="datetimepicker")+'"]'},c={INPUT:o+"-input"},u={CHANGE:"change"+(d="."+r),BLUR:"blur"+d,KEYUP:"keyup"+d,KEYDOWN:"keydown"+d,FOCUS:"focus"+d,CLICK_DATA_API:"click"+d+(h=".data-api"),UPDATE:"update"+d,ERROR:"error"+d,HIDE:"hide"+d,SHOW:"show"+d},_=[{CLASS_NAME:"days",NAV_FUNCTION:"M",NAV_STEP:1},{CLASS_NAME:"months",NAV_FUNCTION:"y",NAV_STEP:1},{CLASS_NAME:"years",NAV_FUNCTION:"y",NAV_STEP:10},{CLASS_NAME:"decades",NAV_FUNCTION:"y",NAV_STEP:100}],f={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},m=["times","days","months","years","decades"],v={timeZone:"",format:!(b={time:"clock",date:"calendar",up:"arrow-up",down:"arrow-down",previous:"arrow-left",next:"arrow-right",today:"arrow-down-circle",clear:"trash-2",close:"x"}),dayViewHeaderFormat:"MMMM YYYY",extraFormats:!(i={timeZone:-39,format:-38,dayViewHeaderFormat:-37,extraFormats:-36,stepping:-35,minDate:-34,maxDate:-33,useCurrent:-32,collapse:-31,locale:-30,defaultDate:-29,disabledDates:-28,enabledDates:-27,icons:-26,tooltips:-25,useStrict:-24,sideBySide:-23,daysOfWeekDisabled:-22,calendarWeeks:-21,viewMode:-20,toolbarPlacement:-19,buttons:-18,widgetPositioning:-17,widgetParent:-16,ignoreReadonly:-15,keepOpen:-14,focusOnShow:-13,inline:-12,keepInvalid:-11,keyBinds:-10,debug:-9,allowInputToggle:-8,disabledTimeIntervals:-7,disabledHours:-6,enabledHours:-5,viewDate:-4,allowMultidate:-3,multidateSeparator:-2,updateOnlyThroughDateOption:-1,date:1}),stepping:1,minDate:!(g={}),maxDate:!(w={}),useCurrent:!0,collapse:!0,locale:n.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{type:"class",time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-calendar-check-o",clear:"fa fa-trash",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time",selectDate:"Select Date"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",buttons:{showToday:!1,showClear:!1,showClose:!1},widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,readonly:!1,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,keyBinds:{up:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m")),!0},down:function(){if(!this.widget)return this.show(),!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m")),!0},"control up":function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h")),!0},"control down":function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h")),!0},left:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d")),!0},right:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d")),!0},pageUp:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M")),!0},pageDown:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M")),!0},enter:function(){return!!this.widget&&(this.hide(),!0)},escape:function(){return!!this.widget&&(this.hide(),!0)},"control space":function(){return!!this.widget&&(this.widget.find(".timepicker").is(":visible")&&this.widget.find('.btn[data-action="togglePeriod"]').click(),!0)},t:function(){return!!this.widget&&(this.date(this.getMoment()),!0)},delete:function(){return!!this.widget&&(this.clear(),!0)}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1,allowMultidate:!1,multidateSeparator:", ",updateOnlyThroughDateOption:!1,promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200},function(){function p(t,e){this._options=this._getOptions(e),this._element=t,this._dates=[],this._datesFormatted=[],this._viewDate=null,this.unset=!0,this.component=!1,this.widget=!1,this.use24Hours=null,this.actualFormat=null,this.parseFormats=null,this.currentViewMode=null,this.MinViewModeNumber=0,this.isInitFormatting=!1,this.isInit=!1,this.isDateUpdateThroughDateOptionFromClientCode=!1,this.hasInitDate=!1,this.initDate=void 0,this._notifyChangeEventContext=void 0,this._currentPromptTimeTimeout=null,this._int()}var t,e,i=p.prototype;return i._int=function(){this.isInit=!0;var t=this._element.data("target-input");this._element.is("input")?this.input=this._element:void 0!==t&&(this.input="nearest"===t?this._element.find("input"):a(t)),this._dates=[],this._dates[0]=this.getMoment(),this._viewDate=this.getMoment().clone(),a.extend(!0,this._options,this._dataToOptions()),this.hasInitDate=!1,this.initDate=void 0,this.options(this._options),this.isInitFormatting=!0,this._initFormatting(),this.isInitFormatting=!1,void 0!==this.input&&this.input.is("input")&&0!==this.input.val().trim().length?this._setValue(this._parseInputDate(this.input.val().trim()),0):this._options.defaultDate&&void 0!==this.input&&void 0===this.input.attr("placeholder")&&this._setValue(this._options.defaultDate,0),this.hasInitDate&&this.date(this.initDate),this._options.inline&&this.show(),this.isInit=!1},i._update=function(){this.widget&&(this._fillDate(),this._fillTime())},i._setValue=function(t,e){var i=void 0===e,s=!t&&i,a=this.isDateUpdateThroughDateOptionFromClientCode,n=!this.isInit&&this._options.updateOnlyThroughDateOption&&!a,o="",r=!1,d=this.unset?null:this._dates[e];if(!d&&!this.unset&&i&&s&&(d=this._dates[this._dates.length-1]),!t)return n?void this._notifyEvent({type:p.Event.CHANGE,date:t,oldDate:d,isClear:s,isInvalid:r,isDateUpdateThroughDateOptionFromClientCode:a,isInit:this.isInit}):(!this._options.allowMultidate||1===this._dates.length||s?(this.unset=!0,this._dates=[],this._datesFormatted=[]):(o=""+this._element.data("date")+this._options.multidateSeparator,o=d&&o.replace(""+d.format(this.actualFormat)+this._options.multidateSeparator,"").replace(""+this._options.multidateSeparator+this._options.multidateSeparator,"").replace(new RegExp(this._options.multidateSeparator.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"\\s*$"),"")||"",this._dates.splice(e,1),this._datesFormatted.splice(e,1)),o=D(o),void 0!==this.input&&(this.input.val(o),this.input.trigger("input")),this._element.data("date",o),this._notifyEvent({type:p.Event.CHANGE,date:!1,oldDate:d,isClear:s,isInvalid:r,isDateUpdateThroughDateOptionFromClientCode:a,isInit:this.isInit}),void this._update());if(t=t.clone().locale(this._options.locale),this._hasTimeZone()&&t.tz(this._options.timeZone),1!==this._options.stepping&&t.minutes(Math.round(t.minutes()/this._options.stepping)*this._options.stepping).seconds(0),this._isValid(t)){if(n)return void this._notifyEvent({type:p.Event.CHANGE,date:t.clone(),oldDate:d,isClear:s,isInvalid:r,isDateUpdateThroughDateOptionFromClientCode:a,isInit:this.isInit});if(this._dates[e]=t,this._datesFormatted[e]=t.format("YYYY-MM-DD"),this._viewDate=t.clone(),this._options.allowMultidate&&1<this._dates.length){for(var h=0;h<this._dates.length;h++)o+=""+this._dates[h].format(this.actualFormat)+this._options.multidateSeparator;o=o.replace(new RegExp(this._options.multidateSeparator+"\\s*$"),"")}else o=this._dates[e].format(this.actualFormat);o=D(o),void 0!==this.input&&(this.input.val(o),this.input.trigger("input")),this._element.data("date",o),this.unset=!1,this._update(),this._notifyEvent({type:p.Event.CHANGE,date:this._dates[e].clone(),oldDate:d,isClear:s,isInvalid:r,isDateUpdateThroughDateOptionFromClientCode:a,isInit:this.isInit})}else r=!0,this._options.keepInvalid?this._notifyEvent({type:p.Event.CHANGE,date:t,oldDate:d,isClear:s,isInvalid:r,isDateUpdateThroughDateOptionFromClientCode:a,isInit:this.isInit}):void 0!==this.input&&(this.input.val(""+(this.unset?"":this._dates[e].format(this.actualFormat))),this.input.trigger("input")),this._notifyEvent({type:p.Event.ERROR,date:t,oldDate:d})},i._change=function(t){var e=a(t.target).val().trim(),i=e?this._parseInputDate(e):null;return this._setValue(i,0),t.stopImmediatePropagation(),!1},i._getOptions=function(t){return t=a.extend(!0,{},v,t&&t.icons&&"feather"===t.icons.type?{icons:b}:{},t)},i._hasTimeZone=function(){return void 0!==n.tz&&void 0!==this._options.timeZone&&null!==this._options.timeZone&&""!==this._options.timeZone},i._isEnabled=function(t){if("string"!=typeof t||1<t.length)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==this.actualFormat.indexOf("Y");case"M":return-1!==this.actualFormat.indexOf("M");case"d":return-1!==this.actualFormat.toLowerCase().indexOf("d");case"h":case"H":return-1!==this.actualFormat.toLowerCase().indexOf("h");case"m":return-1!==this.actualFormat.indexOf("m");case"s":return-1!==this.actualFormat.indexOf("s");case"a":case"A":return-1!==this.actualFormat.toLowerCase().indexOf("a");default:return!1}},i._hasTime=function(){return this._isEnabled("h")||this._isEnabled("m")||this._isEnabled("s")},i._hasDate=function(){return this._isEnabled("y")||this._isEnabled("M")||this._isEnabled("d")},i._dataToOptions=function(){var i=this._element.data(),s={};return i.dateOptions&&i.dateOptions instanceof Object&&(s=a.extend(!0,s,i.dateOptions)),a.each(this._options,function(t){var e="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==i[e]?s[t]=i[e]:delete s[t]}),s},i._format=function(){return this._options.format||"YYYY-MM-DD HH:mm"},i._areSameDates=function(t,e){var i=this._format();return t&&e&&(t.isSame(e)||n(t.format(i),i).isSame(n(e.format(i),i)))},i._notifyEvent=function(t){if(t.type===p.Event.CHANGE){if(this._notifyChangeEventContext=this._notifyChangeEventContext||0,this._notifyChangeEventContext++,t.date&&this._areSameDates(t.date,t.oldDate)||!t.isClear&&!t.date&&!t.oldDate||1<this._notifyChangeEventContext)return void(this._notifyChangeEventContext=void 0);this._handlePromptTimeIfNeeded(t)}this._element.trigger(t),this._notifyChangeEventContext=void 0},i._handlePromptTimeIfNeeded=function(t){if(this._options.promptTimeOnDateChange){if(!t.oldDate&&this._options.useCurrent)return;if(t.oldDate&&t.date&&(t.oldDate.format("YYYY-MM-DD")===t.date.format("YYYY-MM-DD")||t.oldDate.format("YYYY-MM-DD")!==t.date.format("YYYY-MM-DD")&&t.oldDate.format("HH:mm:ss")!==t.date.format("HH:mm:ss")))return;var e=this;clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout(function(){e.widget&&e.widget.find('[data-action="togglePicker"]').click()},this._options.promptTimeOnDateChangeTransitionDelay)}},i._viewUpdate=function(t){"y"===t&&(t="YYYY"),this._notifyEvent({type:p.Event.UPDATE,change:t,viewDate:this._viewDate.clone()})},i._showMode=function(t){this.widget&&(t&&(this.currentViewMode=Math.max(this.MinViewModeNumber,Math.min(3,this.currentViewMode+t))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+_[this.currentViewMode].CLASS_NAME).show())},i._isInDisabledDates=function(t){return!0===this._options.disabledDates[t.format("YYYY-MM-DD")]},i._isInEnabledDates=function(t){return!0===this._options.enabledDates[t.format("YYYY-MM-DD")]},i._isInDisabledHours=function(t){return!0===this._options.disabledHours[t.format("H")]},i._isInEnabledHours=function(t){return!0===this._options.enabledHours[t.format("H")]},i._isValid=function(t,e){if(!t||!t.isValid())return!1;if(this._options.disabledDates&&"d"===e&&this._isInDisabledDates(t))return!1;if(this._options.enabledDates&&"d"===e&&!this._isInEnabledDates(t))return!1;if(this._options.minDate&&t.isBefore(this._options.minDate,e))return!1;if(this._options.maxDate&&t.isAfter(this._options.maxDate,e))return!1;if(this._options.daysOfWeekDisabled&&"d"===e&&-1!==this._options.daysOfWeekDisabled.indexOf(t.day()))return!1;if(this._options.disabledHours&&("h"===e||"m"===e||"s"===e)&&this._isInDisabledHours(t))return!1;if(this._options.enabledHours&&("h"===e||"m"===e||"s"===e)&&!this._isInEnabledHours(t))return!1;if(this._options.disabledTimeIntervals&&("h"===e||"m"===e||"s"===e)){var i=!1;if(a.each(this._options.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return!(i=!0)}),i)return!1}return!0},i._parseInputDate=function(t,e){var i=(void 0===e?{}:e).isPickerShow,s=void 0!==i&&i;return void 0===this._options.parseInputDate||s?n.isMoment(t)||(t=this.getMoment(t)):t=this._options.parseInputDate(t),t},i._keydown=function(t){var e,i,s,a,n=null,o=[],r={},d=t.which;for(e in w[d]="p",w)w.hasOwnProperty(e)&&"p"===w[e]&&(o.push(e),parseInt(e,10)!==d&&(r[e]=!0));for(e in this._options.keyBinds)if(this._options.keyBinds.hasOwnProperty(e)&&"function"==typeof this._options.keyBinds[e]&&(s=e.split(" ")).length===o.length&&f[d]===s[s.length-1]){for(a=!0,i=s.length-2;0<=i;i--)if(!(f[s[i]]in r)){a=!1;break}if(a){n=this._options.keyBinds[e];break}}n&&n.call(this)&&(t.stopPropagation(),t.preventDefault())},i._keyup=function(t){w[t.which]="r",g[t.which]&&(g[t.which]=!1,t.stopPropagation(),t.preventDefault())},i._indexGivenDates=function(t){var e={},i=this;return a.each(t,function(){var t=i._parseInputDate(this);t.isValid()&&(e[t.format("YYYY-MM-DD")]=!0)}),!!Object.keys(e).length&&e},i._indexGivenHours=function(t){var e={};return a.each(t,function(){e[this]=!0}),!!Object.keys(e).length&&e},i._initFormatting=function(){var t=this._options.format||"L LT",e=this;this.actualFormat=t.replace(/(\[[^\[]*])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return(e.isInitFormatting&&null===e._options.date?e.getMoment():e._dates[0]).localeData().longDateFormat(t)||t}),this.parseFormats=this._options.extraFormats?this._options.extraFormats.slice():[],this.parseFormats.indexOf(t)<0&&this.parseFormats.indexOf(this.actualFormat)<0&&this.parseFormats.push(this.actualFormat),this.use24Hours=this.actualFormat.toLowerCase().indexOf("a")<1&&this.actualFormat.replace(/\[.*?]/g,"").indexOf("h")<1,this._isEnabled("y")&&(this.MinViewModeNumber=2),this._isEnabled("M")&&(this.MinViewModeNumber=1),this._isEnabled("d")&&(this.MinViewModeNumber=0),this.currentViewMode=Math.max(this.MinViewModeNumber,this.currentViewMode),this.unset||this._setValue(this._dates[0],0)},i._getLastPickedDate=function(){var t=this._dates[this._getLastPickedDateIndex()];return!t&&this._options.allowMultidate&&(t=n(new Date)),t},i._getLastPickedDateIndex=function(){return this._dates.length-1},i.getMoment=function(t){var e=null==t?n().clone().locale(this._options.locale):this._hasTimeZone()?n.tz(t,this.parseFormats,this._options.locale,this._options.useStrict,this._options.timeZone):n(t,this.parseFormats,this._options.locale,this._options.useStrict);return this._hasTimeZone()&&e.tz(this._options.timeZone),e},i.toggle=function(){return this.widget?this.hide():this.show()},i.readonly=function(t){if(0===arguments.length)return this._options.readonly;if("boolean"!=typeof t)throw new TypeError("readonly() expects a boolean parameter");this._options.readonly=t,void 0!==this.input&&this.input.prop("readonly",this._options.readonly),this.widget&&(this.hide(),this.show())},i.ignoreReadonly=function(t){if(0===arguments.length)return this._options.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly() expects a boolean parameter");this._options.ignoreReadonly=t},i.options=function(t){if(0===arguments.length)return a.extend(!0,{},this._options);if(!(t instanceof Object))throw new TypeError("options() this.options parameter should be an object");a.extend(!0,this._options,t);var s=this,e=Object.keys(this._options).sort(k);a.each(e,function(t,e){var i=s._options[e];if(void 0!==s[e]){if(s.isInit&&"date"===e)return s.hasInitDate=!0,void(s.initDate=i);s[e](i)}})},i.date=function(t,e){if(e=e||0,0===arguments.length)return this.unset?null:this._options.allowMultidate?this._dates.join(this._options.multidateSeparator):this._dates[e].clone();if(!(null===t||"string"==typeof t||n.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");"string"==typeof t&&y(t)&&(t=new Date(t)),this._setValue(null===t?null:this._parseInputDate(t),e)},i.updateOnlyThroughDateOption=function(t){if("boolean"!=typeof t)throw new TypeError("updateOnlyThroughDateOption() expects a boolean parameter");this._options.updateOnlyThroughDateOption=t},i.format=function(t){if(0===arguments.length)return this._options.format;if("string"!=typeof t&&("boolean"!=typeof t||!1!==t))throw new TypeError("format() expects a string or boolean:false parameter "+t);this._options.format=t,this.actualFormat&&this._initFormatting()},i.timeZone=function(t){if(0===arguments.length)return this._options.timeZone;if("string"!=typeof t)throw new TypeError("newZone() expects a string parameter");this._options.timeZone=t},i.dayViewHeaderFormat=function(t){if(0===arguments.length)return this._options.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");this._options.dayViewHeaderFormat=t},i.extraFormats=function(t){if(0===arguments.length)return this._options.extraFormats;if(!1!==t&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");this._options.extraFormats=t,this.parseFormats&&this._initFormatting()},i.disabledDates=function(t){if(0===arguments.length)return this._options.disabledDates?a.extend({},this._options.disabledDates):this._options.disabledDates;if(!t)return this._options.disabledDates=!1,this._update(),!0;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");this._options.disabledDates=this._indexGivenDates(t),this._options.enabledDates=!1,this._update()},i.enabledDates=function(t){if(0===arguments.length)return this._options.enabledDates?a.extend({},this._options.enabledDates):this._options.enabledDates;if(!t)return this._options.enabledDates=!1,this._update(),!0;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");this._options.enabledDates=this._indexGivenDates(t),this._options.disabledDates=!1,this._update()},i.daysOfWeekDisabled=function(t){if(0===arguments.length)return this._options.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return this._options.daysOfWeekDisabled=!1,this._update(),!0;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(this._options.daysOfWeekDisabled=t.reduce(function(t,e){return 6<(e=parseInt(e,10))||e<0||isNaN(e)||-1===t.indexOf(e)&&t.push(e),t},[]).sort(),this._options.useCurrent&&!this._options.keepInvalid)for(var e=0;e<this._dates.length;e++){for(var i=0;!this._isValid(this._dates[e],"d");){if(this._dates[e].add(1,"d"),31===i)throw"Tried 31 times to find a valid date";i++}this._setValue(this._dates[e],e)}this._update()},i.maxDate=function(t){if(0===arguments.length)return this._options.maxDate?this._options.maxDate.clone():this._options.maxDate;if("boolean"==typeof t&&!1===t)return this._options.maxDate=!1,this._update(),!0;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=this.getMoment()));var e=this._parseInputDate(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(this._options.minDate&&e.isBefore(this._options.minDate))throw new TypeError("maxDate() date parameter is before this.options.minDate: "+e.format(this.actualFormat));this._options.maxDate=e;for(var i=0;i<this._dates.length;i++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[i].isAfter(t)&&this._setValue(this._options.maxDate,i);this._viewDate.isAfter(e)&&(this._viewDate=e.clone().subtract(this._options.stepping,"m")),this._update()},i.minDate=function(t){if(0===arguments.length)return this._options.minDate?this._options.minDate.clone():this._options.minDate;if("boolean"==typeof t&&!1===t)return this._options.minDate=!1,this._update(),!0;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=this.getMoment()));var e=this._parseInputDate(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(this._options.maxDate&&e.isAfter(this._options.maxDate))throw new TypeError("minDate() date parameter is after this.options.maxDate: "+e.format(this.actualFormat));this._options.minDate=e;for(var i=0;i<this._dates.length;i++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[i].isBefore(t)&&this._setValue(this._options.minDate,i);this._viewDate.isBefore(e)&&(this._viewDate=e.clone().add(this._options.stepping,"m")),this._update()},i.defaultDate=function(t){if(0===arguments.length)return this._options.defaultDate?this._options.defaultDate.clone():this._options.defaultDate;if(!t)return!(this._options.defaultDate=!1);"string"==typeof t&&(t="now"===t||"moment"===t?this.getMoment():this.getMoment(t));var e=this._parseInputDate(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!this._isValid(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");this._options.defaultDate=e,(this._options.defaultDate&&this._options.inline||void 0!==this.input&&""===this.input.val().trim())&&this._setValue(this._options.defaultDate,0)},i.locale=function(t){if(0===arguments.length)return this._options.locale;if(!n.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");this._options.locale=t;for(var e=0;e<this._dates.length;e++)this._dates[e].locale(this._options.locale);this._viewDate.locale(this._options.locale),this.actualFormat&&this._initFormatting(),this.widget&&(this.hide(),this.show())},i.stepping=function(t){if(0===arguments.length)return this._options.stepping;t=parseInt(t,10),(isNaN(t)||t<1)&&(t=1),this._options.stepping=t},i.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return this._options.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));this._options.useCurrent=t},i.collapse=function(t){if(0===arguments.length)return this._options.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");if(this._options.collapse===t)return!0;this._options.collapse=t,this.widget&&(this.hide(),this.show())},i.icons=function(t){if(0===arguments.length)return a.extend({},this._options.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");a.extend(this._options.icons,t),this.widget&&(this.hide(),this.show())},i.tooltips=function(t){if(0===arguments.length)return a.extend({},this._options.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");a.extend(this._options.tooltips,t),this.widget&&(this.hide(),this.show())},i.useStrict=function(t){if(0===arguments.length)return this._options.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");this._options.useStrict=t},i.sideBySide=function(t){if(0===arguments.length)return this._options.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");this._options.sideBySide=t,this.widget&&(this.hide(),this.show())},i.viewMode=function(t){if(0===arguments.length)return this._options.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===p.ViewModes.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+p.ViewModes.join(", ")+") value");this._options.viewMode=t,this.currentViewMode=Math.max(p.ViewModes.indexOf(t)-1,this.MinViewModeNumber),this._showMode()},i.calendarWeeks=function(t){if(0===arguments.length)return this._options.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");this._options.calendarWeeks=t,this._update()},i.buttons=function(t){if(0===arguments.length)return a.extend({},this._options.buttons);if(!(t instanceof Object))throw new TypeError("buttons() expects parameter to be an Object");if(a.extend(this._options.buttons,t),"boolean"!=typeof this._options.buttons.showToday)throw new TypeError("buttons.showToday expects a boolean parameter");if("boolean"!=typeof this._options.buttons.showClear)throw new TypeError("buttons.showClear expects a boolean parameter");if("boolean"!=typeof this._options.buttons.showClose)throw new TypeError("buttons.showClose expects a boolean parameter");this.widget&&(this.hide(),this.show())},i.keepOpen=function(t){if(0===arguments.length)return this._options.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");this._options.keepOpen=t},i.focusOnShow=function(t){if(0===arguments.length)return this._options.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");this._options.focusOnShow=t},i.inline=function(t){if(0===arguments.length)return this._options.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");this._options.inline=t},i.clear=function(){this._setValue(null)},i.keyBinds=function(t){if(0===arguments.length)return this._options.keyBinds;this._options.keyBinds=t},i.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");this._options.debug=t},i.allowInputToggle=function(t){if(0===arguments.length)return this._options.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");this._options.allowInputToggle=t},i.keepInvalid=function(t){if(0===arguments.length)return this._options.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");this._options.keepInvalid=t},i.datepickerInput=function(t){if(0===arguments.length)return this._options.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");this._options.datepickerInput=t},i.parseInputDate=function(t){if(0===arguments.length)return this._options.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() should be as function");this._options.parseInputDate=t},i.disabledTimeIntervals=function(t){if(0===arguments.length)return this._options.disabledTimeIntervals?a.extend({},this._options.disabledTimeIntervals):this._options.disabledTimeIntervals;if(!t)return this._options.disabledTimeIntervals=!1,this._update(),!0;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");this._options.disabledTimeIntervals=t,this._update()},i.disabledHours=function(t){if(0===arguments.length)return this._options.disabledHours?a.extend({},this._options.disabledHours):this._options.disabledHours;if(!t)return this._options.disabledHours=!1,this._update(),!0;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(this._options.disabledHours=this._indexGivenHours(t),this._options.enabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var e=0;e<this._dates.length;e++){for(var i=0;!this._isValid(this._dates[e],"h");){if(this._dates[e].add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}this._setValue(this._dates[e],e)}this._update()},i.enabledHours=function(t){if(0===arguments.length)return this._options.enabledHours?a.extend({},this._options.enabledHours):this._options.enabledHours;if(!t)return this._options.enabledHours=!1,this._update(),!0;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(this._options.enabledHours=this._indexGivenHours(t),this._options.disabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var e=0;e<this._dates.length;e++){for(var i=0;!this._isValid(this._dates[e],"h");){if(this._dates[e].add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}this._setValue(this._dates[e],e)}this._update()},i.viewDate=function(t){if(0===arguments.length)return this._viewDate.clone();if(!t)return this._viewDate=(this._dates[0]||this.getMoment()).clone(),!0;if(!("string"==typeof t||n.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");this._viewDate=this._parseInputDate(t),this._update(),this._viewUpdate(_[this.currentViewMode]&&_[this.currentViewMode].NAV_FUNCTION)},i._fillDate=function(){},i._useFeatherIcons=function(){return"feather"===this._options.icons.type},i.allowMultidate=function(t){if("boolean"!=typeof t)throw new TypeError("allowMultidate() expects a boolean parameter");this._options.allowMultidate=t},i.multidateSeparator=function(t){if(0===arguments.length)return this._options.multidateSeparator;if("string"!=typeof t)throw new TypeError("multidateSeparator expects a string parameter");this._options.multidateSeparator=t},t=p,(e=[{key:"NAME",get:function(){return o}},{key:"DATA_KEY",get:function(){return r}},{key:"EVENT_KEY",get:function(){return d}},{key:"DATA_API_KEY",get:function(){return h}},{key:"DatePickerModes",get:function(){return _}},{key:"ViewModes",get:function(){return m}},{key:"Event",get:function(){return u}},{key:"Selector",get:function(){return l}},{key:"Default",get:function(){return v},set:function(t){v=t}},{key:"ClassName",get:function(){return c}}])&&s(t,e),p}());function y(t){return e=new Date(t),"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime());var e}function D(t){return t.replace(/(^\s+)|(\s+$)/g,"")}function k(t,e){return i[t]&&i[e]?i[t]<0&&i[e]<0?Math.abs(i[e])-Math.abs(i[t]):i[t]<0?-1:i[e]<0?1:i[t]-i[e]:i[t]?i[t]:i[e]?i[e]:0}var E,t,p,C,T,x;E=jQuery,t=E.fn[M.NAME],p=["top","bottom","auto"],C=["left","right","auto"],T=["default","top","bottom"],x=function(d){var t,e;function n(t,e){var i=d.call(this,t,e)||this;return i._init(),i}e=d,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var i=n.prototype;return i._init=function(){var t;this._element.hasClass("input-group")&&(0===(t=this._element.find(".datepickerbutton")).length?this.component=this._element.find('[data-toggle="datetimepicker"]'):this.component=t)},i._iconTag=function(t){return"undefined"!=typeof feather&&this._useFeatherIcons()&&feather.icons[t]?E("<span>").html(feather.icons[t].toSvg()):E("<span>").addClass(t)},i._getDatePickerTemplate=function(){var t=E("<thead>").append(E("<tr>").append(E("<th>").addClass("prev").attr("data-action","previous").append(this._iconTag(this._options.icons.previous))).append(E("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",this._options.calendarWeeks?"6":"5")).append(E("<th>").addClass("next").attr("data-action","next").append(this._iconTag(this._options.icons.next)))),e=E("<tbody>").append(E("<tr>").append(E("<td>").attr("colspan",this._options.calendarWeeks?"8":"7")));return[E("<div>").addClass("datepicker-days").append(E("<table>").addClass("table table-sm").append(t).append(E("<tbody>"))),E("<div>").addClass("datepicker-months").append(E("<table>").addClass("table-condensed").append(t.clone()).append(e.clone())),E("<div>").addClass("datepicker-years").append(E("<table>").addClass("table-condensed").append(t.clone()).append(e.clone())),E("<div>").addClass("datepicker-decades").append(E("<table>").addClass("table-condensed").append(t.clone()).append(e.clone()))]},i._getTimePickerMainTemplate=function(){var t=E("<tr>"),e=E("<tr>"),i=E("<tr>");return this._isEnabled("h")&&(t.append(E("<td>").append(E("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(this._iconTag(this._options.icons.up)))),e.append(E("<td>").append(E("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:this._options.tooltips.pickHour}).attr("data-action","showHours"))),i.append(E("<td>").append(E("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(this._iconTag(this._options.icons.down))))),this._isEnabled("m")&&(this._isEnabled("h")&&(t.append(E("<td>").addClass("separator")),e.append(E("<td>").addClass("separator").html(":")),i.append(E("<td>").addClass("separator"))),t.append(E("<td>").append(E("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(this._iconTag(this._options.icons.up)))),e.append(E("<td>").append(E("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:this._options.tooltips.pickMinute}).attr("data-action","showMinutes"))),i.append(E("<td>").append(E("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(this._iconTag(this._options.icons.down))))),this._isEnabled("s")&&(this._isEnabled("m")&&(t.append(E("<td>").addClass("separator")),e.append(E("<td>").addClass("separator").html(":")),i.append(E("<td>").addClass("separator"))),t.append(E("<td>").append(E("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(this._iconTag(this._options.icons.up)))),e.append(E("<td>").append(E("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:this._options.tooltips.pickSecond}).attr("data-action","showSeconds"))),i.append(E("<td>").append(E("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(this._iconTag(this._options.icons.down))))),this.use24Hours||(t.append(E("<td>").addClass("separator")),e.append(E("<td>").append(E("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:this._options.tooltips.togglePeriod}))),i.append(E("<td>").addClass("separator"))),E("<div>").addClass("timepicker-picker").append(E("<table>").addClass("table-condensed").append([t,e,i]))},i._getTimePickerTemplate=function(){var t=E("<div>").addClass("timepicker-hours").append(E("<table>").addClass("table-condensed")),e=E("<div>").addClass("timepicker-minutes").append(E("<table>").addClass("table-condensed")),i=E("<div>").addClass("timepicker-seconds").append(E("<table>").addClass("table-condensed")),s=[this._getTimePickerMainTemplate()];return this._isEnabled("h")&&s.push(t),this._isEnabled("m")&&s.push(e),this._isEnabled("s")&&s.push(i),s},i._getToolbar=function(){var t,e,i=[];return this._options.buttons.showToday&&i.push(E("<td>").append(E("<a>").attr({href:"#",tabindex:"-1","data-action":"today",title:this._options.tooltips.today}).append(this._iconTag(this._options.icons.today)))),!this._options.sideBySide&&this._options.collapse&&this._hasDate()&&this._hasTime()&&(e="times"===this._options.viewMode?(t=this._options.tooltips.selectDate,this._options.icons.date):(t=this._options.tooltips.selectTime,this._options.icons.time),i.push(E("<td>").append(E("<a>").attr({href:"#",tabindex:"-1","data-action":"togglePicker",title:t}).append(this._iconTag(e))))),this._options.buttons.showClear&&i.push(E("<td>").append(E("<a>").attr({href:"#",tabindex:"-1","data-action":"clear",title:this._options.tooltips.clear}).append(this._iconTag(this._options.icons.clear)))),this._options.buttons.showClose&&i.push(E("<td>").append(E("<a>").attr({href:"#",tabindex:"-1","data-action":"close",title:this._options.tooltips.close}).append(this._iconTag(this._options.icons.close)))),0===i.length?"":E("<table>").addClass("table-condensed").append(E("<tbody>").append(E("<tr>").append(i)))},i._getTemplate=function(){var t=E("<div>").addClass(("bootstrap-datetimepicker-widget dropdown-menu "+(this._options.calendarWeeks?"tempusdominus-bootstrap-datetimepicker-widget-with-calendar-weeks":"")+" "+(this._useFeatherIcons()?"tempusdominus-bootstrap-datetimepicker-widget-with-feather-icons":"")+" ").trim()),e=E("<div>").addClass("datepicker").append(this._getDatePickerTemplate()),i=E("<div>").addClass("timepicker").append(this._getTimePickerTemplate()),s=E("<ul>").addClass("list-unstyled"),a=E("<li>").addClass(("picker-switch"+(this._options.collapse?" accordion-toggle":"")+" "+(this._useFeatherIcons()?"picker-switch-with-feathers-icons":"")).trim()).append(this._getToolbar());return this._options.inline&&t.removeClass("dropdown-menu"),this.use24Hours&&t.addClass("usetwentyfour"),(void 0!==this.input&&this.input.prop("readonly")||this._options.readonly)&&t.addClass("bootstrap-datetimepicker-widget-readonly"),this._isEnabled("s")&&!this.use24Hours&&t.addClass("wider"),this._options.sideBySide&&this._hasDate()&&this._hasTime()?(t.addClass("timepicker-sbs"),"top"===this._options.toolbarPlacement&&t.append(a),t.append(E("<div>").addClass("row").append(e.addClass("col-md-6")).append(i.addClass("col-md-6"))),"bottom"!==this._options.toolbarPlacement&&"default"!==this._options.toolbarPlacement||t.append(a),t):("top"===this._options.toolbarPlacement&&s.append(a),this._hasDate()&&s.append(E("<li>").addClass(this._options.collapse&&this._hasTime()?"collapse":"").addClass(this._options.collapse&&this._hasTime()&&"times"===this._options.viewMode?"":"show").append(e)),"default"===this._options.toolbarPlacement&&s.append(a),this._hasTime()&&s.append(E("<li>").addClass(this._options.collapse&&this._hasDate()?"collapse":"").addClass(this._options.collapse&&this._hasDate()&&"times"===this._options.viewMode?"show":"").append(i)),"bottom"===this._options.toolbarPlacement&&s.append(a),t.append(s))},i._place=function(t){var e,i=t&&t.data&&t.data.picker||this,s=i._options.widgetPositioning.vertical,a=i._options.widgetPositioning.horizontal,n=(i.component&&i.component.length?i.component:i._element).position(),o=(i.component&&i.component.length?i.component:i._element).offset();if(i._options.widgetParent)e=i._options.widgetParent.append(i.widget);else if(i._element.is("input"))e=i._element.after(i.widget).parent();else{if(i._options.inline)return void(e=i._element.append(i.widget));e=i._element,i._element.children().first().after(i.widget)}if("auto"===s&&(s=o.top+1.5*i.widget.height()>=E(window).height()+E(window).scrollTop()&&i.widget.height()+i._element.outerHeight()<o.top?"top":"bottom"),"auto"===a&&(a=e.width()<o.left+i.widget.outerWidth()/2&&o.left+i.widget.outerWidth()>E(window).width()?"right":"left"),"top"===s?i.widget.addClass("top").removeClass("bottom"):i.widget.addClass("bottom").removeClass("top"),"right"===a?i.widget.addClass("float-right"):i.widget.removeClass("float-right"),"relative"!==e.css("position")&&(e=e.parents().filter(function(){return"relative"===E(this).css("position")}).first()),0===e.length)throw new Error("datetimepicker component should be placed within a relative positioned container");i.widget.css({top:"top"===s?"auto":n.top+i._element.outerHeight()+"px",bottom:"top"===s?e.outerHeight()-(e===i._element?0:n.top)+"px":"auto",left:"left"===a?(e===i._element?0:n.left)+"px":"auto",right:"left"===a?"auto":e.outerWidth()-i._element.outerWidth()-(e===i._element?0:n.left)+"px"})},i._fillDow=function(){var t=E("<tr>"),e=this._viewDate.clone().startOf("w").startOf("d");for(!0===this._options.calendarWeeks&&t.append(E("<th>").addClass("cw").text("#"));e.isBefore(this._viewDate.clone().endOf("w"));)t.append(E("<th>").addClass("dow").text(e.format("dd"))),e.add(1,"d");this.widget.find(".datepicker-days thead").append(t)},i._fillMonths=function(){for(var t=[],e=this._viewDate.clone().startOf("y").startOf("d");e.isSame(this._viewDate,"y");)t.push(E("<span>").attr("data-action","selectMonth").addClass("month").text(e.format("MMM"))),e.add(1,"M");this.widget.find(".datepicker-months td").empty().append(t)},i._updateMonths=function(){var t=this.widget.find(".datepicker-months"),e=t.find("th"),i=t.find("tbody").find("span"),s=this,a=this._getLastPickedDate();e.eq(0).find("span").attr("title",this._options.tooltips.prevYear),e.eq(1).attr("title",this._options.tooltips.selectYear),e.eq(2).find("span").attr("title",this._options.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),this._isValid(this._viewDate.clone().subtract(1,"y"),"y")||e.eq(0).addClass("disabled"),e.eq(1).text(this._viewDate.year()),this._isValid(this._viewDate.clone().add(1,"y"),"y")||e.eq(2).addClass("disabled"),i.removeClass("active"),a&&a.isSame(this._viewDate,"y")&&!this.unset&&i.eq(a.month()).addClass("active"),i.each(function(t){s._isValid(s._viewDate.clone().month(t),"M")||E(this).addClass("disabled")})},i._getStartEndYear=function(t,e){var i=t/10,s=Math.floor(e/t)*t;return[s,s+9*i,Math.floor(e/i)*i]},i._updateYears=function(){var t=this.widget.find(".datepicker-years"),e=t.find("th"),i=this._getStartEndYear(10,this._viewDate.year()),s=this._viewDate.clone().year(i[0]),a=this._viewDate.clone().year(i[1]),n="";for(e.eq(0).find("span").attr("title",this._options.tooltips.prevDecade),e.eq(1).attr("title",this._options.tooltips.selectDecade),e.eq(2).find("span").attr("title",this._options.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),this._options.minDate&&this._options.minDate.isAfter(s,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(s.year()+"-"+a.year()),this._options.maxDate&&this._options.maxDate.isBefore(a,"y")&&e.eq(2).addClass("disabled"),n+='<span data-action="selectYear" class="year old'+(this._isValid(s,"y")?"":" disabled")+'">'+(s.year()-1)+"</span>";!s.isAfter(a,"y");)n+='<span data-action="selectYear" class="year'+(s.isSame(this._getLastPickedDate(),"y")&&!this.unset?" active":"")+(this._isValid(s,"y")?"":" disabled")+'">'+s.year()+"</span>",s.add(1,"y");n+='<span data-action="selectYear" class="year old'+(this._isValid(s,"y")?"":" disabled")+'">'+s.year()+"</span>",t.find("td").html(n)},i._updateDecades=function(){var t,e=this.widget.find(".datepicker-decades"),i=e.find("th"),s=this._getStartEndYear(100,this._viewDate.year()),a=this._viewDate.clone().year(s[0]),n=this._viewDate.clone().year(s[1]),o=this._getLastPickedDate(),r=!1,d=!1,h="";for(i.eq(0).find("span").attr("title",this._options.tooltips.prevCentury),i.eq(2).find("span").attr("title",this._options.tooltips.nextCentury),e.find(".disabled").removeClass("disabled"),(0===a.year()||this._options.minDate&&this._options.minDate.isAfter(a,"y"))&&i.eq(0).addClass("disabled"),i.eq(1).text(a.year()+"-"+n.year()),this._options.maxDate&&this._options.maxDate.isBefore(n,"y")&&i.eq(2).addClass("disabled"),a.year()-10<0?h+="<span>&nbsp;</span>":h+='<span data-action="selectDecade" class="decade old" data-selection="'+(a.year()+6)+'">'+(a.year()-10)+"</span>";!a.isAfter(n,"y");)t=a.year()+11,r=this._options.minDate&&this._options.minDate.isAfter(a,"y")&&this._options.minDate.year()<=t,d=this._options.maxDate&&this._options.maxDate.isAfter(a,"y")&&this._options.maxDate.year()<=t,h+='<span data-action="selectDecade" class="decade'+(o&&o.isAfter(a)&&o.year()<=t?" active":"")+(this._isValid(a,"y")||r||d?"":" disabled")+'" data-selection="'+(a.year()+6)+'">'+a.year()+"</span>",a.add(10,"y");h+='<span data-action="selectDecade" class="decade old" data-selection="'+(a.year()+6)+'">'+a.year()+"</span>",e.find("td").html(h)},i._fillDate=function(){d.prototype._fillDate.call(this);var t,e,i,s,a,n=this.widget.find(".datepicker-days"),o=n.find("th"),r=[];if(this._hasDate()){for(o.eq(0).find("span").attr("title",this._options.tooltips.prevMonth),o.eq(1).attr("title",this._options.tooltips.selectMonth),o.eq(2).find("span").attr("title",this._options.tooltips.nextMonth),n.find(".disabled").removeClass("disabled"),o.eq(1).text(this._viewDate.format(this._options.dayViewHeaderFormat)),this._isValid(this._viewDate.clone().subtract(1,"M"),"M")||o.eq(0).addClass("disabled"),this._isValid(this._viewDate.clone().add(1,"M"),"M")||o.eq(2).addClass("disabled"),t=this._viewDate.clone().startOf("M").startOf("w").startOf("d"),s=0;s<42;s++){0===t.weekday()&&(e=E("<tr>"),this._options.calendarWeeks&&e.append('<td class="cw">'+t.week()+"</td>"),r.push(e)),i="",t.isBefore(this._viewDate,"M")&&(i+=" old"),t.isAfter(this._viewDate,"M")&&(i+=" new"),this._options.allowMultidate?-1!==(a=this._datesFormatted.indexOf(t.format("YYYY-MM-DD")))&&t.isSame(this._datesFormatted[a],"d")&&!this.unset&&(i+=" active"):t.isSame(this._getLastPickedDate(),"d")&&!this.unset&&(i+=" active"),this._isValid(t,"d")||(i+=" disabled"),t.isSame(this.getMoment(),"d")&&(i+=" today"),0!==t.day()&&6!==t.day()||(i+=" weekend"),e.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="day'+i+'">'+t.date()+"</td>"),t.add(1,"d")}E("body").addClass("tempusdominus-bootstrap-datetimepicker-widget-day-click"),E("body").append('<div class="tempusdominus-bootstrap-datetimepicker-widget-day-click-glass-panel"></div>'),n.find("tbody").empty().append(r),E("body").find(".tempusdominus-bootstrap-datetimepicker-widget-day-click-glass-panel").remove(),E("body").removeClass("tempusdominus-bootstrap-datetimepicker-widget-day-click"),this._updateMonths(),this._updateYears(),this._updateDecades()}},i._fillHours=function(){var t=this.widget.find(".timepicker-hours table"),e=this._viewDate.clone().startOf("d"),i=[],s=E("<tr>");for(11<this._viewDate.hour()&&!this.use24Hours&&e.hour(12);e.isSame(this._viewDate,"d")&&(this.use24Hours||this._viewDate.hour()<12&&e.hour()<12||11<this._viewDate.hour());)e.hour()%4==0&&(s=E("<tr>"),i.push(s)),s.append('<td data-action="selectHour" class="hour'+(this._isValid(e,"h")?"":" disabled")+'">'+e.format(this.use24Hours?"HH":"hh")+"</td>"),e.add(1,"h");t.empty().append(i)},i._fillMinutes=function(){for(var t=this.widget.find(".timepicker-minutes table"),e=this._viewDate.clone().startOf("h"),i=[],s=1===this._options.stepping?5:this._options.stepping,a=E("<tr>");this._viewDate.isSame(e,"h");)e.minute()%(4*s)==0&&(a=E("<tr>"),i.push(a)),a.append('<td data-action="selectMinute" class="minute'+(this._isValid(e,"m")?"":" disabled")+'">'+e.format("mm")+"</td>"),e.add(s,"m");t.empty().append(i)},i._fillSeconds=function(){for(var t=this.widget.find(".timepicker-seconds table"),e=this._viewDate.clone().startOf("m"),i=[],s=E("<tr>");this._viewDate.isSame(e,"m");)e.second()%20==0&&(s=E("<tr>"),i.push(s)),s.append('<td data-action="selectSecond" class="second'+(this._isValid(e,"s")?"":" disabled")+'">'+e.format("ss")+"</td>"),e.add(5,"s");t.empty().append(i)},i._fillTime=function(){var t,e,i=this.widget.find(".timepicker span[data-time-component]"),s=this._getLastPickedDate();this.use24Hours||(t=this.widget.find(".timepicker [data-action=togglePeriod]"),e=s?s.clone().add(12<=s.hours()?-12:12,"h"):void 0,s&&t.text(s.format("A")),this._isValid(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),s&&i.filter("[data-time-component=hours]").text(s.format(this.use24Hours?"HH":"hh")),s&&i.filter("[data-time-component=minutes]").text(s.format("mm")),s&&i.filter("[data-time-component=seconds]").text(s.format("ss")),this._fillHours(),this._fillMinutes(),this._fillSeconds()},i._doAction=function(t,e){var i=this._getLastPickedDate();if(E(t.currentTarget).is(".disabled"))return!1;switch(e=e||E(t.currentTarget).data("action")){case"next":var s=M.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.add(M.DatePickerModes[this.currentViewMode].NAV_STEP,s),this._fillDate(),this._viewUpdate(s);break;case"previous":var a=M.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.subtract(M.DatePickerModes[this.currentViewMode].NAV_STEP,a),this._fillDate(),this._viewUpdate(a);break;case"pickerSwitch":this._showMode(1);break;case"selectMonth":var n=E(t.target).closest("tbody").find("span").index(E(t.target));this._viewDate.month(n),this.currentViewMode===this.MinViewModeNumber?(this._setValue(i.clone().year(this._viewDate.year()).month(this._viewDate.month()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("M");break;case"selectYear":var o=parseInt(E(t.target).text(),10)||0;this._viewDate.year(o),this.currentViewMode===this.MinViewModeNumber?(this._setValue(i.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("YYYY");break;case"selectDecade":var r=parseInt(E(t.target).data("selection"),10)||0;this._viewDate.year(r),this.currentViewMode===this.MinViewModeNumber?(this._setValue(i.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("YYYY");break;case"selectDay":var d=this._viewDate.clone();E(t.target).is(".old")&&d.subtract(1,"M"),E(t.target).is(".new")&&d.add(1,"M");var h=d.date(parseInt(E(t.target).text(),10)),p=0;this._options.allowMultidate?-1!==(p=this._datesFormatted.indexOf(h.format("YYYY-MM-DD")))?this._setValue(null,p):this._setValue(h,this._getLastPickedDateIndex()+1):this._setValue(h,this._getLastPickedDateIndex()),this._hasTime()||this._options.keepOpen||this._options.inline||this._options.allowMultidate||this.hide();break;case"incrementHours":if(!i)break;var l=i.clone().add(1,"h");this._isValid(l,"h")&&(this._getLastPickedDateIndex()<0&&this.date(l),this._setValue(l,this._getLastPickedDateIndex()));break;case"incrementMinutes":if(!i)break;var c=i.clone().add(this._options.stepping,"m");this._isValid(c,"m")&&(this._getLastPickedDateIndex()<0&&this.date(c),this._setValue(c,this._getLastPickedDateIndex()));break;case"incrementSeconds":if(!i)break;var u=i.clone().add(1,"s");this._isValid(u,"s")&&(this._getLastPickedDateIndex()<0&&this.date(u),this._setValue(u,this._getLastPickedDateIndex()));break;case"decrementHours":if(!i)break;var _=i.clone().subtract(1,"h");this._isValid(_,"h")&&(this._getLastPickedDateIndex()<0&&this.date(_),this._setValue(_,this._getLastPickedDateIndex()));break;case"decrementMinutes":if(!i)break;var f=i.clone().subtract(this._options.stepping,"m");this._isValid(f,"m")&&(this._getLastPickedDateIndex()<0&&this.date(f),this._setValue(f,this._getLastPickedDateIndex()));break;case"decrementSeconds":if(!i)break;var m=i.clone().subtract(1,"s");this._isValid(m,"s")&&(this._getLastPickedDateIndex()<0&&this.date(m),this._setValue(m,this._getLastPickedDateIndex()));break;case"togglePeriod":this._setValue(i.clone().add(12<=i.hours()?-12:12,"h"),this._getLastPickedDateIndex());break;case"togglePicker":var w,g,b=E(t.target),v=b.closest("a"),y=b.closest("ul"),D=y.find(".show"),k=y.find(".collapse:not(.show)"),C=b.is("span")?b:b.find("span");if(D&&D.length){if((w=D.data("collapse"))&&w.transitioning)return!0;D.collapse?(D.collapse("hide"),k.collapse("show")):(D.removeClass("show"),k.addClass("show")),this._useFeatherIcons()?(v.toggleClass(this._options.icons.time+" "+this._options.icons.date),g=v.hasClass(this._options.icons.time)?this._options.icons.date:this._options.icons.time,v.html(this._iconTag(g))):C.toggleClass(this._options.icons.time+" "+this._options.icons.date),(this._useFeatherIcons()?v.hasClass(this._options.icons.date):C.hasClass(this._options.icons.date))?v.attr("title",this._options.tooltips.selectDate):v.attr("title",this._options.tooltips.selectTime)}break;case"showPicker":this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show();break;case"showHours":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show();break;case"showMinutes":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show();break;case"showSeconds":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show();break;case"selectHour":var T=parseInt(E(t.target).text(),10);this.use24Hours||(12<=i.hours()?12!==T&&(T+=12):12===T&&(T=0)),this._setValue(i.clone().hours(T),this._getLastPickedDateIndex()),this._isEnabled("a")||this._isEnabled("m")||this._options.keepOpen||this._options.inline?this._doAction(t,"showPicker"):this.hide();break;case"selectMinute":this._setValue(i.clone().minutes(parseInt(E(t.target).text(),10)),this._getLastPickedDateIndex()),this._isEnabled("a")||this._isEnabled("s")||this._options.keepOpen||this._options.inline?this._doAction(t,"showPicker"):this.hide();break;case"selectSecond":this._setValue(i.clone().seconds(parseInt(E(t.target).text(),10)),this._getLastPickedDateIndex()),this._isEnabled("a")||this._options.keepOpen||this._options.inline?this._doAction(t,"showPicker"):this.hide();break;case"clear":this.clear();break;case"close":this.hide();break;case"today":var x=this.getMoment();this._isValid(x,"d")&&this._setValue(x,this._getLastPickedDateIndex());break}return!1},i.hide=function(){var t,e=!1;this.widget&&(this.widget.find(".collapse").each(function(){var t=E(this).data("collapse");return!t||!t.transitioning||!(e=!0)}),e||(this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this.widget.hide(),E(window).off("resize",this._place),this.widget.off("click","[data-action]"),this.widget.off("mousedown",!1),this.widget.remove(),this.widget=!1,void 0!==this.input&&void 0!==this.input.val()&&0!==this.input.val().trim().length&&this._setValue(this._parseInputDate(this.input.val().trim(),{isPickerShow:!1}),0),t=this._getLastPickedDate(),this._notifyEvent({type:M.Event.HIDE,date:this.unset?null:t?t.clone():void 0}),void 0!==this.input&&this.input.blur(),this._viewDate=t?t.clone():this.getMoment()))},i.show=function(){var t,e=!1;if(void 0!==this.input){if(this.input.prop("disabled")||!this._options.ignoreReadonly&&this.input.prop("readonly")||this.widget)return;void 0!==this.input.val()&&0!==this.input.val().trim().length?this._setValue(this._parseInputDate(this.input.val().trim(),{isPickerShow:!0}),0):e=!0}else e=!0;e&&this.unset&&this._options.useCurrent&&(t=this.getMoment(),"string"==typeof this._options.useCurrent&&(t={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}}[this._options.useCurrent](t)),this._setValue(t,0)),this.widget=this._getTemplate(),this._fillDow(),this._fillMonths(),this.widget.find(".timepicker-hours").hide(),this.widget.find(".timepicker-minutes").hide(),this.widget.find(".timepicker-seconds").hide(),this._update(),this._showMode(),E(window).on("resize",{picker:this},this._place),this.widget.on("click","[data-action]",E.proxy(this._doAction,this)),this.widget.on("mousedown",!1),this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this._place(),this.widget.show(),void 0!==this.input&&this._options.focusOnShow&&!this.input.is(":focus")&&this.input.focus(),this._notifyEvent({type:M.Event.SHOW})},i.destroy=function(){this.hide(),this._element.removeData(M.DATA_KEY),this._element.removeData("date")},i.disable=function(){this.hide(),this.component&&this.component.hasClass("btn")&&this.component.addClass("disabled"),void 0!==this.input&&this.input.prop("disabled",!0)},i.enable=function(){this.component&&this.component.hasClass("btn")&&this.component.removeClass("disabled"),void 0!==this.input&&this.input.prop("disabled",!1)},i.toolbarPlacement=function(t){if(0===arguments.length)return this._options.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===T.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+T.join(", ")+") value");this._options.toolbarPlacement=t,this.widget&&(this.hide(),this.show())},i.widgetPositioning=function(t){if(0===arguments.length)return E.extend({},this._options.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===C.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+C.join(", ")+")");this._options.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===p.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+p.join(", ")+")");this._options.widgetPositioning.vertical=t.vertical}this._update()},i.widgetParent=function(t){if(0===arguments.length)return this._options.widgetParent;if("string"==typeof t&&(t=E(t)),null!==t&&"string"!=typeof t&&!(t instanceof E))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");this._options.widgetParent=t,this.widget&&(this.hide(),this.show())},i.setMultiDate=function(t){var e=this._options.format;this.clear();for(var i=0;i<t.length;i++){var s=moment(t[i],e);this._setValue(s,i)}},n._jQueryHandleThis=function(t,e,i){var s=E(t).data(M.DATA_KEY);if("object"==typeof e&&E.extend({},M.Default,e),s||(s=new n(E(t),e),E(t).data(M.DATA_KEY,s)),"string"==typeof e){if(void 0===s[e])throw new Error('No method named "'+e+'"');if(void 0===i)return s[e]();"date"===e&&(s.isDateUpdateThroughDateOptionFromClientCode=!0);var a=s[e](i);return s.isDateUpdateThroughDateOptionFromClientCode=!1,a}},n._jQueryInterface=function(t,e){return 1===this.length?n._jQueryHandleThis(this[0],t,e):this.each(function(){n._jQueryHandleThis(this,t,e)})},n}(M),E(document).on(M.Event.CLICK_DATA_API,M.Selector.DATA_TOGGLE,function(){var t=E(this),e=I(t),i=e.data(M.DATA_KEY);0!==e.length&&(i._options.allowInputToggle&&t.is('input[data-toggle="datetimepicker"]')||x._jQueryInterface.call(e,"toggle"))}).on(M.Event.CHANGE,"."+M.ClassName.INPUT,function(t){var e=I(E(this));0===e.length||t.isInit||x._jQueryInterface.call(e,"_change",t)}).on(M.Event.BLUR,"."+M.ClassName.INPUT,function(t){var e=I(E(this)),i=e.data(M.DATA_KEY);0!==e.length&&(i._options.debug||window.debug||x._jQueryInterface.call(e,"hide",t))}).on(M.Event.KEYDOWN,"."+M.ClassName.INPUT,function(t){var e=I(E(this));0!==e.length&&x._jQueryInterface.call(e,"_keydown",t)}).on(M.Event.KEYUP,"."+M.ClassName.INPUT,function(t){var e=I(E(this));0!==e.length&&x._jQueryInterface.call(e,"_keyup",t)}).on(M.Event.FOCUS,"."+M.ClassName.INPUT,function(t){var e=I(E(this)),i=e.data(M.DATA_KEY);0!==e.length&&i._options.allowInputToggle&&x._jQueryInterface.call(e,"show",t)}),E.fn[M.NAME]=x._jQueryInterface,E.fn[M.NAME].Constructor=x,E.fn[M.NAME].noConflict=function(){return E.fn[M.NAME]=t,x._jQueryInterface};function I(t){var e,i=t.data("target");return i||(i=t.attr("href")||"",i=/^#[a-z]/i.test(i)?i:null),0===(e=E(i)).length?t:(e.data(M.DATA_KEY)||E.extend({},e.data(),E(this).data()),e)}}();
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: php-code-content-95
